(self.webpackChunkccf_rui=self.webpackChunkccf_rui||[]).push([[179],{822:Ve=>{"use strict";Ve.exports=S,Ve.exports.default=S;var _e=1e20;function S(Y,_,x,N,G,O){this.fontSize=Y||24,this.buffer=void 0===_?3:_,this.cutoff=N||.25,this.fontFamily=G||"sans-serif",this.fontWeight=O||"normal",this.radius=x||8;var k=this.size=this.fontSize+2*this.buffer,oe=k+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=k,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(oe*oe),this.gridInner=new Float64Array(oe*oe),this.f=new Float64Array(oe),this.z=new Float64Array(oe+1),this.v=new Uint16Array(oe),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(k/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function $(Y,_,x,N,G,O){for(var k=0;k<_;k++)H(Y,k,_,x,N,G,O);for(var oe=0;oe<x;oe++)H(Y,oe*_,1,_,N,G,O)}function H(Y,_,x,N,G,O,k){var oe,w,F,re;for(O[0]=0,k[0]=-_e,k[1]=_e,oe=0;oe<N;oe++)G[oe]=Y[_+oe*x];for(oe=1,w=0,F=0;oe<N;oe++){do{F=(G[oe]-G[re=O[w]]+oe*oe-re*re)/(oe-re)/2}while(F<=k[w]&&--w>-1);O[++w]=oe,k[w]=F,k[w+1]=_e}for(oe=0,w=0;oe<N;oe++){for(;k[w+1]<oe;)w++;Y[_+oe*x]=G[re=O[w]]+(oe-re)*(oe-re)}}S.prototype._draw=function(Y,_){var O,k,oe,w,F,re,X,q,ee,x=this.ctx.measureText(Y),N=x.width,G=2*this.buffer;_&&this.useMetrics?(F=Math.floor(x.actualBoundingBoxAscent),q=this.buffer+Math.ceil(x.actualBoundingBoxAscent),re=this.buffer,X=this.buffer,O=(k=Math.min(this.size,Math.ceil(x.actualBoundingBoxRight-x.actualBoundingBoxLeft)))+G,oe=(w=Math.min(this.size-re,Math.ceil(x.actualBoundingBoxAscent+x.actualBoundingBoxDescent)))+G,this.ctx.textBaseline="alphabetic"):(O=k=this.size,oe=w=this.size,F=19*this.fontSize/24,re=X=0,q=this.middle,this.ctx.textBaseline="middle"),k&&w&&(this.ctx.clearRect(X,re,k,w),this.ctx.fillText(Y,this.buffer,q),ee=this.ctx.getImageData(X,re,k,w));var W=new Uint8ClampedArray(O*oe);return function Z(Y,_,x,N,G,O,k){O.fill(_e,0,_*x),k.fill(0,0,_*x);for(var oe=(_-N)/2,w=0;w<G;w++)for(var F=0;F<N;F++){var re=(w+oe)*_+F+oe,X=Y.data[4*(w*N+F)+3]/255;if(1===X)O[re]=0,k[re]=_e;else if(0===X)O[re]=_e,k[re]=0;else{var q=Math.max(0,.5-X),ee=Math.max(0,X-.5);O[re]=q*q,k[re]=ee*ee}}}(ee,O,oe,k,w,this.gridOuter,this.gridInner),$(this.gridOuter,O,oe,this.f,this.v,this.z),$(this.gridInner,O,oe,this.f,this.v,this.z),function A(Y,_,x,N,G,O,k){for(var oe=0;oe<_*x;oe++){var w=Math.sqrt(N[oe])-Math.sqrt(G[oe]);Y[oe]=Math.round(255-255*(w/O+k))}}(W,O,oe,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:W,metrics:{width:k,height:w,sdfWidth:O,sdfHeight:oe,top:F,left:0,advance:N}}},S.prototype.draw=function(Y){return this._draw(Y,!1).data},S.prototype.drawWithMetrics=function(Y){return this._draw(Y,!0)}},4781:(Ve,_e,S)=>{"use strict";var Z={};S.r(Z),S.d(Z,{decode:()=>BTe,name:()=>LTe});var A={};S.r(A),S.d(A,{name:()=>GTe,preprocess:()=>WTe});var $={};S.r($),S.d($,{name:()=>$Te,preprocess:()=>XTe});var H={};S.r(H),S.d(H,{decode:()=>OMe,encode:()=>RMe,name:()=>IMe,preprocess:()=>DMe});var Y={};S.r(Y),S.d(Y,{decode:()=>LMe,encode:()=>BMe,name:()=>FMe});var _={};S.r(_),S.d(_,{decode:()=>UMe,encode:()=>VMe,name:()=>jMe});var x={};S.r(x),S.d(x,{decode:()=>HMe,encode:()=>GMe,name:()=>zMe});var N={};S.r(N),S.d(N,{delMany:()=>Wje,get:()=>Hje,setMany:()=>Gje});var G={};S.r(G),S.d(G,{inDefaultGraph:()=>nUe,isBlankNode:()=>Zje,isDefaultGraph:()=>vy,isLiteral:()=>eUe,isNamedNode:()=>Qje,isVariable:()=>tUe,prefix:()=>iUe,prefixes:()=>DB});let k=null,w=1;function re(n){const e=k;return k=n,e}function I(n){if((!Ke(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==w)){if(!n.producerMustRecompute(n)&&!xe(n))return n.dirty=!1,void(n.lastCleanEpoch=w);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=w}}function xe(n){Ae(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(I(t),i!==t.version))return!0}return!1}function it(n,e){if(function ze(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ae(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)it(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Ae(r),r.producerIndexOfThis[i]=e}}function Ke(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ae(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Je=null;function Oe(n){return"function"==typeof n}function ut(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const St=ut(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ut(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class mt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Oe(i))try{i()}catch(o){e=o instanceof St?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{V(o)}catch(s){e=e??[],s instanceof St?e=[...e,...s.errors]:e.push(s)}}if(e)throw new St(e)}}add(e){var t;if(e&&e!==this)if(this.closed)V(e);else{if(e instanceof mt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ut(t,e)}remove(e){const{_finalizers:t}=this;t&&Ut(t,e),e instanceof mt&&e._removeParent(this)}}mt.EMPTY=(()=>{const n=new mt;return n.closed=!0,n})();const an=mt.EMPTY;function me(n){return n instanceof mt||n&&"closed"in n&&Oe(n.remove)&&Oe(n.add)&&Oe(n.unsubscribe)}function V(n){Oe(n)?n():n.unsubscribe()}const te={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Le={setTimeout(n,e,...t){const{delegate:i}=Le;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Le;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ct(n){Le.setTimeout(()=>{const{onUnhandledError:e}=te;if(!e)throw n;e(n)})}function ft(){}const Mt=si("C",void 0,void 0);function si(n,e,t){return{kind:n,value:e,error:t}}let Fn=null;function zn(n){if(te.useDeprecatedSynchronousErrorHandling){const e=!Fn;if(e&&(Fn={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Fn;if(Fn=null,t)throw i}}else n()}class Vs extends mt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,me(e)&&e.add(this)):this.destination=Hl}static create(e,t,i){return new qi(e,t,i)}next(e){this.isStopped?Ic(function ti(n){return si("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ic(function xn(n){return si("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ic(Mt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Xr=Function.prototype.bind;function Ro(n,e){return Xr.call(n,e)}class Ta{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){mo(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){mo(i)}else mo(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){mo(t)}}}class qi extends Vs{constructor(e,t,i){let r;if(super(),Oe(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&te.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Ro(e.next,o),error:e.error&&Ro(e.error,o),complete:e.complete&&Ro(e.complete,o)}):r=e}this.destination=new Ta(r)}}function mo(n){te.useDeprecatedSynchronousErrorHandling?function _r(n){te.useDeprecatedSynchronousErrorHandling&&Fn&&(Fn.errorThrown=!0,Fn.error=n)}(n):ct(n)}function Ic(n,e){const{onStoppedNotification:t}=te;t&&Le.setTimeout(()=>t(n,e))}const Hl={closed:!0,next:ft,error:function ec(n){throw n},complete:ft},tc="function"==typeof Symbol&&Symbol.observable||"@@observable";function cs(n){return n}let Et=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function Pr(n){return n&&n instanceof Vs||function En(n){return n&&Oe(n.next)&&Oe(n.error)&&Oe(n.complete)}(n)&&me(n)}(t)?t:new qi(t,i,r);return zn(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=nn(i))((r,o)=>{const s=new qi({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[tc](){return this}pipe(...t){return function Ze(n){return 0===n.length?cs:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=nn(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function nn(n){var e;return null!==(e=n??te.Promise)&&void 0!==e?e:Promise}const Po=ut(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let rn=(()=>{class n extends Et{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new zs(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Po}next(t){zn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){zn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){zn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?an:(this.currentObservers=null,o.push(t),new mt(()=>{this.currentObservers=null,Ut(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Et;return t.source=this,t}}return n.create=(e,t)=>new zs(e,t),n})();class zs extends rn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:an}}class hr extends rn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function sl(n){return Oe(n?.lift)}function _i(n){return e=>{if(sl(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function wn(n,e,t,i,r){return new Ma(n,e,t,i,r)}class Ma extends Vs{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Bt(n,e){return _i((t,i)=>{let r=0;t.subscribe(wn(i,o=>{i.next(n.call(e,o,r++))}))})}function ci(n){for(let e in n)if(n[e]===ci)return e;throw Error("Could not find renamed property on target object.")}function go(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ti(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ti).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function fr(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Me=ci({__forward_ref__:ci});function fe(n){return n.__forward_ref__=fe,n.toString=function(){return Ti(this())},n}function D(n){return K(n)?n():n}function K(n){return"function"==typeof n&&n.hasOwnProperty(Me)&&n.__forward_ref__===fe}function ge(n){return n&&!!n.\u0275providers}const qe="https://g.co/ng/security#xss";class Pe extends Error{constructor(e,t){super(function kt(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}const Gt=ci({\u0275cmp:ci}),Qt=ci({\u0275dir:ci}),Cn=ci({\u0275pipe:ci}),jn=ci({\u0275mod:ci}),kr=ci({\u0275fac:ci}),Nr=ci({__NG_ELEMENT_ID__:ci}),ls=ci({__NG_ENV_ID__:ci});function Hn(n){return"string"==typeof n?n:null==n?"":String(n)}function nc(n,e){throw new Pe(-201,!1)}function Hs(n,e){null==n&&function $n(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function It(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function en(n){return{providers:n.providers||[],imports:n.imports||[]}}function Nm(n){return dx(n,Fm)||dx(n,ux)}function dx(n,e){return n.hasOwnProperty(e)?n[e]:null}function rr(n){return n&&(n.hasOwnProperty(Py)||n.hasOwnProperty(sM))?n[Py]:null}const Fm=ci({\u0275prov:ci}),Py=ci({\u0275inj:ci}),ux=ci({ngInjectableDef:ci}),sM=ci({ngInjectorDef:ci});var Mi=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Mi||{});let ky;function Gs(n){const e=ky;return ky=n,e}function No(n,e,t){const i=Nm(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Mi.Optional?null:void 0!==e?e:void nc(Ti(n))}const Ni=globalThis;class _t{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=It({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Oa={},ah="__NG_DI_FLAG__",ch="ngTempTokenPath",Wl=/\n/gm,px="__source";let $l;function Xl(n){const e=$l;return $l=n,e}function uM(n,e=Mi.Default){if(void 0===$l)throw new Pe(-203,!1);return null===$l?No(n,void 0,e):$l.get(n,e&Mi.Optional?null:void 0,e)}function et(n,e=Mi.Default){return(function Ny(){return ky}()||uM)(D(n),e)}function jt(n,e=Mi.Default){return et(n,Vm(e))}function Vm(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function zm(n){const e=[];for(let t=0;t<n.length;t++){const i=D(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Pe(900,!1);let r,o=Mi.Default;for(let s=0;s<i.length;s++){const a=i[s],c=By(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(et(r,o))}else e.push(et(i))}return e}function lh(n,e){return n[ah]=e,n.prototype[ah]=e,n}function By(n){return n[ah]}function al(n){return{toString:n}.toString()}var dh=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(dh||{}),ua=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ua||{});const Dc={},ji=[];function Ws(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Rf(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];Uy(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function uh(n){return 3===n||4===n||6===n}function Uy(n){return 64===n.charCodeAt(0)}function hh(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||gx(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function gx(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const _x="ng-template";function hM(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==Ws(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function yx(n){return 4===n.type&&n.value!==_x}function fM(n,e,t){return e===(4!==n.type||t?n.value:_x)}function fh(n,e,t){let i=4;const r=n.attrs||[],o=function Yl(n){for(let e=0;e<n.length;e++)if(uh(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!fM(n,c,t)||""===c&&1===e.length){if(oc(i))return!1;s=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!hM(n.attrs,l,t)){if(oc(i))return!1;s=!0}continue}const h=pM(8&i?"class":c,r,yx(n),t);if(-1===h){if(oc(i))return!1;s=!0;continue}if(""!==l){let f;f=h>o?"":r[h+1].toLowerCase();const m=8&i?f:null;if(m&&-1!==Ws(m,l,0)||2&i&&l!==f){if(oc(i))return!1;s=!0}}}}else{if(!s&&!oc(i)&&!oc(c))return!1;if(s&&oc(c))continue;s=!1,i=c|1&i}}return oc(i)||s}function oc(n){return 0==(1&n)}function pM(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Gm(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function Hm(n,e,t=!1){for(let i=0;i<e.length;i++)if(fh(n,e[i],t))return!0;return!1}function mM(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function vx(n,e){return n?":not("+e.trim()+")":e}function gM(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!oc(s)&&(e+=vx(o,r),r=""),i=s,o=o||!oc(i);t++}return""!==r&&(e+=vx(o,r)),e}function dn(n){return al(()=>{const e=Hi(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===dh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ua.Emulated,styles:n.styles||ji,_:null,schemas:n.schemas||null,tView:null,id:""};to(t);const i=n.dependencies;return t.directiveDefs=Ki(i,!1),t.pipeDefs=Ki(i,!0),t.id=function bM(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function _M(n){return lt(n)||Dt(n)}function yM(n){return null!==n}function on(n){return al(()=>({type:n.type,bootstrap:n.bootstrap||ji,declarations:n.declarations||ji,imports:n.imports||ji,exports:n.exports||ji,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function wx(n,e){if(null==n)return Dc;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function Jt(n){return al(()=>{const e=Hi(n);return to(e),e})}function yo(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function lt(n){return n[Gt]||null}function Dt(n){return n[Qt]||null}function Ct(n){return n[Cn]||null}function Hi(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Dc,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||ji,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wx(n.inputs,e),outputs:wx(n.outputs),debugInfo:null}}function to(n){n.features?.forEach(e=>e(n))}function Ki(n,e){if(!n)return null;const t=e?Ct:_M;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(yM)}const Ui=0,tn=1,Ln=2,or=3,$s=4,bo=5,bi=6,mh=7,pr=8,Fo=9,cl=10,ii=11,Pf=12,kf=13,ha=14,yr=15,gh=16,ll=17,ac=18,_h=19,Nf=20,dl=21,ql=22,fa=23,Zn=25,zy=1,Oc=7,ul=9,zr=10;var yh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n[n.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",n}(yh||{});function Lo(n){return Array.isArray(n)&&"object"==typeof n[zy]}function Bo(n){return Array.isArray(n)&&!0===n[zy]}function Hy(n){return 0!=(4&n.flags)}function Ar(n){return n.componentOffset>-1}function vo(n){return 1==(1&n.flags)}function cc(n){return!!n.template}function Gy(n){return 0!=(512&n[Ln])}function ou(n,e){return n.hasOwnProperty(kr)?n[kr]:null}class Ex{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ji(){return Cx}function Cx(n){return n.type.prototype.ngOnChanges&&(n.setInput=EM),xM}function xM(){const n=Ax(this),e=n?.current;if(e){const t=n.previous;if(t===Dc)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function EM(n,e,t,i){const r=this.declaredInputs[t],o=Ax(n)||function hl(n,e){return n[Sx]=e}(n,{previous:Dc,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new Ex(c&&c.currentValue,e,a===Dc),n[i]=e}Ji.ngInherit=!0;const Sx="__ngSimpleChanges__";function Ax(n){return n[Sx]||null}const Rc=function(n,e,t){},Tx="svg";let Pc=!1;function br(n){for(;Array.isArray(n);)n=n[Ui];return n}function jf(n,e){return br(e[n])}function Qr(n,e){return br(e[n.index])}function Uf(n,e){return n.data[e]}function us(n,e){return n[e]}function pa(n,e){const t=e[n];return Lo(t)?t:t[Ui]}function Jy(n){return 128==(128&n[Ln])}function kc(n,e){return null==e?null:n[e]}function Qy(n){n[ll]=0}function Ix(n){1024&n[Ln]||(n[Ln]|=1024,Jy(n)&&fl(n))}function Ox(n){return 9216&n[Ln]||n[fa]?.dirty}function Vf(n){Ox(n)?fl(n):64&n[Ln]&&(function SM(){return Pc}()?(n[Ln]|=1024,fl(n)):n[cl].changeDetectionScheduler?.notify())}function fl(n){n[cl].changeDetectionScheduler?.notify();let e=n[or];for(;null!==e&&!(Bo(e)&&e[Ln]&yh.HasChildViewsToRefresh||Lo(e)&&8192&e[Ln]);){if(Bo(e))e[Ln]|=yh.HasChildViewsToRefresh;else if(e[Ln]|=8192,!Jy(e))break;e=e[or]}}const Kn={lFrame:ob(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Px(){return Kn.bindingsEnabled}function cu(){return null!==Kn.skipHydrationRootTNode}function Nt(){return Kn.lFrame.lView}function Pi(){return Kn.lFrame.tView}function Fi(n){return Kn.lFrame.contextLView=n,n[pr]}function Jn(n){return Kn.lFrame.contextLView=null,n}function Qi(){let n=tb();for(;null!==n&&64===n.type;)n=n.parent;return n}function tb(){return Kn.lFrame.currentTNode}function Pa(n,e){const t=Kn.lFrame;t.currentTNode=n,t.isParent=e}function vh(){return Kn.lFrame.isParent}function pl(){Kn.lFrame.isParent=!1}function xs(){const n=Kn.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ka(){return Kn.lFrame.bindingIndex++}function gl(n){const e=Kn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function DM(n,e){const t=Kn.lFrame;t.bindingIndex=t.bindingRootIndex=n,lu(e)}function lu(n){Kn.lFrame.currentDirectiveIndex=n}function ib(n){const e=Kn.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function Bx(){return Kn.lFrame.currentQueryIndex}function Gf(n){Kn.lFrame.currentQueryIndex=n}function jx(n){const e=n[tn];return 2===e.type?e.declTNode:1===e.type?n[bo]:null}function Ux(n,e,t){if(t&Mi.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&Mi.Host||(r=jx(o),null===r||(o=o[ha],10&r.type))););if(null===r)return!1;e=r,n=o}const i=Kn.lFrame=Vx();return i.currentTNode=e,i.lView=n,!0}function rb(n){const e=Vx(),t=n[tn];Kn.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Vx(){const n=Kn.lFrame,e=null===n?null:n.child;return null===e?ob(n):e}function ob(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function qm(){const n=Kn.lFrame;return Kn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const zx=qm;function Wf(){const n=qm();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Jo(){return Kn.lFrame.selectedIndex}function Zl(n){Kn.lFrame.selectedIndex=n}function lr(){const n=Kn.lFrame;return Uf(n.tView,n.selectedIndex)}function wh(){Kn.lFrame.currentNamespace=Tx}function Km(){!function RM(){Kn.lFrame.currentNamespace=null}()}let Wx=!0;function xh(){return Wx}function _l(n){Wx=n}function Jm(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=d&&(n.destroyHooks??=[]).push(t,d)}}function Eh(n,e,t){$x(n,e,3,t)}function li(n,e,t,i){(3&n[Ln])===t&&$x(n,e,t,i)}function cb(n,e){let t=n[Ln];(3&t)===e&&(t&=16383,t+=1,n[Ln]=t)}function $x(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[ll]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[ll]+=65536),(a<o||-1==o)&&(Xx(n,t,e,c),n[ll]=(4294901760&n[ll])+c+2),c++}function Ch(n,e){Rc(4,n,e);const t=re(null);try{e.call(n)}finally{re(t),Rc(5,n,e)}}function Xx(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Ln]>>14<n[ll]>>16&&(3&n[Ln])===e&&(n[Ln]+=16384,Ch(a,o)):Ch(a,o)}const Sh=-1;class $f{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Nc(n){return n!==Sh}function du(n){return 32767&n}function ed(n,e){let t=function qx(n){return n>>16}(n),i=e;for(;t>0;)i=i[ha],t--;return i}let Zm=!0;function Ah(n){const e=Zm;return Zm=n,e}const eg=255,tg=5;let td=0;const Fc={};function Xf(n,e){const t=ig(n,e);if(-1!==t)return t;const i=e[tn];i.firstCreatePass&&(n.injectorIndex=e.length,ng(i.data,n),ng(e,null),ng(i.blueprint,null));const r=rg(n,e),o=n.injectorIndex;if(Nc(r)){const s=du(r),a=ed(r,e),c=a[tn].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function ng(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ig(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function rg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=Zx(r),null===i)return Sh;if(t++,r=r[ha],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Sh}function ub(n,e,t){!function nd(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Nr)&&(i=t[Nr]),null==i&&(i=t[Nr]=td++);const r=i&eg;e.data[n+(r>>tg)]|=1<<r}(n,e,t)}function hb(n,e,t){if(t&Mi.Optional||void 0!==n)return n;nc()}function fb(n,e,t,i){if(t&Mi.Optional&&void 0===i&&(i=null),!(t&(Mi.Self|Mi.Host))){const r=n[Fo],o=Gs(void 0);try{return r?r.get(e,i,t&Mi.Optional):No(e,i,t&Mi.Optional)}finally{Gs(o)}}return hb(i,0,t)}function Kx(n,e,t,i=Mi.Default,r){if(null!==n){if(2048&e[Ln]&&!(i&Mi.Self)){const s=function qf(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Ln]&&!(512&s[Ln]);){const a=pb(o,s,t,i|Mi.Self,Fc);if(a!==Fc)return a;let c=o.parent;if(!c){const l=s[Nf];if(l){const d=l.get(t,Fc,i);if(d!==Fc)return d}c=Zx(s),s=s[ha]}o=c}return r}(n,e,t,i,Fc);if(s!==Fc)return s}const o=pb(n,e,t,i,Fc);if(o!==Fc)return o}return fb(e,t,i,r)}function pb(n,e,t,i,r){const o=function FM(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Nr)?n[Nr]:void 0;return"number"==typeof e?e>=0?e&eg:LM:e}(t);if("function"==typeof o){if(!Ux(e,n,i))return i&Mi.Host?hb(r,0,i):fb(e,t,i,r);try{let s;if(s=o(i),null!=s||i&Mi.Optional)return s;nc()}finally{zx()}}else if("number"==typeof o){let s=null,a=ig(n,e),c=Sh,l=i&Mi.Host?e[yr][bo]:null;for((-1===a||i&Mi.SkipSelf)&&(c=-1===a?rg(n,e):e[a+8],c!==Sh&&Yf(i,!1)?(s=e[tn],a=du(c),e=ed(c,e)):a=-1);-1!==a;){const d=e[tn];if(Qx(o,a,d.data)){const h=Jx(a,e,t,s,i,l);if(h!==Fc)return h}c=e[a+8],c!==Sh&&Yf(i,e[tn].data[a+8]===l)&&Qx(o,a,e)?(s=d,a=du(c),e=ed(c,e)):a=-1}}return r}function Jx(n,e,t,i,r,o){const s=e[tn],a=s.data[n+8],d=Qo(a,s,t,null==i?Ar(a)&&Zm:i!=s&&0!=(3&a.type),r&Mi.Host&&o===a);return null!==d?hs(e,s,d,a):Fc}function Qo(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,d=o>>20,f=r?a+d:n.directiveEnd;for(let m=i?a:a+d;m<f;m++){const g=s[m];if(m<c&&t===g||m>=c&&g.type===t)return m}if(r){const m=s[c];if(m&&cc(m)&&m.type===t)return c}return null}function hs(n,e,t,i){let r=n[t];const o=e.data;if(function Na(n){return n instanceof $f}(r)){const s=r;s.resolving&&function Gl(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Pe(-200,`Circular dependency in DI detected for ${n}${t}`)}(function hi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Hn(n)}(o[t]));const a=Ah(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Gs(s.injectImpl):null;Ux(n,i,Mi.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function ab(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=Cx(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==l&&Gs(l),Ah(a),s.resolving=!1,zx()}}return r}function Qx(n,e,t){return!!(t[e+(n>>tg)]&1<<n)}function Yf(n,e){return!(n&Mi.Self||n&Mi.Host&&e)}class no{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Kx(this._tNode,this._lView,e,Vm(i),t)}}function LM(){return new no(Qi(),Nt())}function Gi(n){return al(()=>{const e=n.prototype.constructor,t=e[kr]||id(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[kr]||id(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function id(n){return K(n)?()=>{const e=id(D(n));return e&&e()}:ou(n)}function Zx(n){const e=n[tn],t=e.type;return 2===t?e.declTNode:1===t?n[bo]:null}function qs(n){return function NM(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(uh(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(Qi(),n)}const yl="__parameters__";function bl(n,e,t){return al(()=>{const i=function Jf(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,d){const h=c.hasOwnProperty(yl)?c[yl]:Object.defineProperty(c,yl,{value:[]})[yl];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function od(n,e){n.forEach(t=>Array.isArray(t)?od(t,e):e(t))}function og(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function mu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Lc(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function ma(n,e,t){let i=gu(n,e);return i>=0?n[1|i]=t:(i=~i,function sg(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Zf(n,e){const t=gu(n,e);if(t>=0)return n[1|t]}function gu(n,e){return function iE(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const sd=lh(bl("Optional"),8),Mh=lh(bl("SkipSelf"),4),ad=new _t("ENVIRONMENT_INITIALIZER"),yu=new _t("INJECTOR",-1),ag=new _t("INJECTOR_DEF_TYPES");class ga{get(e,t=Oa){if(t===Oa){const i=new Error(`NullInjectorError: No provider for ${Ti(e)}!`);throw i.name="NullInjectorError",i}return t}}function QM(...n){return{\u0275providers:wb(0,n),\u0275fromNgModule:!0}}function wb(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return od(e,s=>{const a=s;cg(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&dE(r,o),t}function dE(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];xb(r,o=>{e(o,i)})}}function cg(n,e,t,i){if(!(n=D(n)))return!1;let r=null,o=rr(n);const s=!o&&lt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=rr(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)cg(l,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{od(o.imports,d=>{cg(d,e,t,i)&&(l||=[],l.push(d))})}finally{}void 0!==l&&dE(l,e)}if(!a){const l=ou(r)||(()=>new r);e({provide:r,useFactory:l,deps:ji},r),e({provide:ag,useValue:r,multi:!0},r),e({provide:ad,useValue:()=>et(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;xb(c,d=>{e(d,l)})}}}return r!==n&&void 0!==n.providers}function xb(n,e){for(let t of n)ge(t)&&(t=t.\u0275providers),Array.isArray(t)?xb(t,e):e(t)}const ZM=ci({provide:String,useValue:ci});function Eb(n){return null!==n&&"object"==typeof n&&ZM in n}function bu(n){return"function"==typeof n}const Cb=new _t("Set Injector scope."),ip={},fE={};let lg;function dg(){return void 0===lg&&(lg=new ga),lg}class Ba{}class Dh extends Ba{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sb(e,s=>this.processProvider(s)),this.records.set(yu,Oh(void 0,this)),r.has("environment")&&this.records.set(Ba,Oh(void 0,this));const o=this.records.get(Cb);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ag,ji,Mi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Xl(this),i=Gs(void 0);try{return e()}finally{Xl(t),Gs(i)}}get(e,t=Oa,i=Mi.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ls))return e[ls](this);i=Vm(i);const o=Xl(this),s=Gs(void 0);try{if(!(i&Mi.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function ja(n){return"function"==typeof n||"object"==typeof n&&n instanceof _t}(e)&&Nm(e);c=l&&this.injectableDefInScope(l)?Oh(ug(e),ip):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&Mi.Self?dg():this.parent).get(e,t=i&Mi.Optional&&t===Oa?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[ch]=a[ch]||[]).unshift(Ti(e)),o)throw a;return function jy(n,e,t,i){const r=n[ch];throw e[px]&&r.unshift(e[px]),n.message=function mx(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Ti(e);if(Array.isArray(e))r=e.map(Ti).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ti(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(Wl,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[ch]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Gs(s),Xl(o)}}resolveInjectorInitializers(){const e=Xl(this),t=Gs(void 0);try{const r=this.get(ad,ji,Mi.Self);for(const o of r)o()}finally{Xl(e),Gs(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Ti(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processProvider(e){let t=bu(e=D(e))?e:D(e&&e.provide);const i=function nI(n){return Eb(n)?Oh(void 0,n.useValue):Oh(pE(n),ip)}(e);if(bu(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Oh(void 0,ip,!0),r.factory=()=>zm(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===ip&&(t.value=fE,t.value=t.factory()),"object"==typeof t.value&&t.value&&function rI(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=D(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function ug(n){const e=Nm(n),t=null!==e?e.factory:ou(n);if(null!==t)return t;if(n instanceof _t)throw new Pe(204,!1);if(n instanceof Function)return function tI(n){const e=n.length;if(e>0)throw Lc(e,"?"),new Pe(204,!1);const t=function Sr(n){return n&&(n[Fm]||n[ux])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Pe(204,!1)}function pE(n,e,t){let i;if(bu(n)){const r=D(n);return ou(r)||ug(r)}if(Eb(n))i=()=>D(n.useValue);else if(function hE(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...zm(n.deps||[]));else if(function uE(n){return!(!n||!n.useExisting)}(n))i=()=>et(D(n.useExisting));else{const r=D(n&&(n.useClass||n.provide));if(!function iI(n){return!!n.deps}(n))return ou(r)||ug(r);i=()=>new r(...zm(n.deps))}return i}function Oh(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Sb(n,e){for(const t of n)Array.isArray(t)?Sb(t,e):t&&ge(t)?Sb(t.\u0275providers,e):e(t)}function gE(n,e=null,t=null,i){const r=_E(n,e,t,i);return r.resolveInjectorInitializers(),r}function _E(n,e=null,t=null,i,r=new Set){const o=[t||ji,QM(n)];return i=i||("object"==typeof n?void 0:Ti(n)),new Dh(o,e||dg(),i||null,r)}let Ib,xi=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Oa;static#t=this.NULL=new ga;static create(t,i){if(Array.isArray(t))return gE({name:""},i,t,"");{const r=t.name??"";return gE({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=It({token:n,providedIn:"any",factory:()=>et(yu)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();const op=new _t("AppId",{providedIn:"root",factory:()=>fI}),fI="ng",bE=new _t("Platform Initializer"),Ss=new _t("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ro=new _t("AnimationModuleType"),Db=new _t("CSP nonce",{providedIn:"root",factory:()=>function ld(){if(void 0!==Ib)return Ib;if(typeof document<"u")return document;throw new Pe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Ob(n){return n.ownerDocument.defaultView}function Rh(n){return n.ownerDocument}function gg(n){return 128==(128&n.flags)}var ud=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ud||{});const yg=/^>|^->|<!--|-->|--!>|<!-$/g,EI=/(<|>)/g,IE="\u200b$1\u200b";const lp=new Map;let DE=0;const Bb="__ngContext__";function ps(n,e){Lo(e)?(n[Bb]=e[_h],function RE(n){lp.set(n[_h],n)}(e)):n[Bb]=e}let Ub;function Vb(n,e){return Ub(n,e)}function As(n){const e=n[or];return Bo(e)?e[or]:e}function hd(n){return LE(n[Pf])}function ai(n){return LE(n[$s])}function LE(n){for(;null!==n&&!Bo(n);)n=n[$s];return n}function wo(n,e,t,i,r){if(null!=i){let o,s=!1;Bo(i)?o=i:Lo(i)&&(s=!0,i=i[Ui]);const a=br(i);0===n&&null!==t?null==r?VE(e,t,a):Cu(e,t,a,r||null,!0):1===n&&null!==t?Cu(e,t,a,r||null,!0):2===n?function wg(n,e,t){const i=fd(n,e);i&&function jI(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function $E(n,e,t,i,r){const o=t[Oc];o!==br(t)&&wo(e,n,i,o,r);for(let a=zr;a<t.length;a++){const c=t[a];ri(c[tn],c,n,e,i,o)}}(e,n,o,t,r)}}function Bc(n,e){return n.createComment(function Fb(n){return n.replace(yg,e=>e.replace(EI,IE))}(e))}function bg(n,e,t){return n.createElement(e,t)}function jc(n,e){const t=n[ul],i=t.indexOf(e);t.splice(i,1)}function Nh(n,e){if(n.length<=zr)return;const t=zr+e,i=n[t];if(i){const r=i[gh];null!==r&&r!==n&&jc(r,i),e>0&&(n[t-1][$s]=i[$s]);const o=mu(n,zr+e);!function kI(n,e){ri(n,e,e[ii],2,null,null),e[Ui]=null,e[bo]=null}(i[tn],i);const s=o[ac];null!==s&&s.detachView(o[tn]),i[or]=null,i[$s]=null,i[Ln]&=-129}return i}function Eu(n,e){if(!(256&e[Ln])){const t=e[ii];t.destroyNode&&ri(n,e,t,3,null,null),function LI(n){let e=n[Pf];if(!e)return Tr(n[tn],n);for(;e;){let t=null;if(Lo(e))t=e[Pf];else{const i=e[zr];i&&(t=i)}if(!t){for(;e&&!e[$s]&&e!==n;)Lo(e)&&Tr(e[tn],e),e=e[or];null===e&&(e=n),Lo(e)&&Tr(e[tn],e),t=e&&e[$s]}e=t}}(e)}}function Tr(n,e){if(!(256&e[Ln])){e[Ln]&=-129,e[Ln]|=256,e[fa]&&function Ne(n){if(Ae(n),Ke(n))for(let e=0;e<n.producerNode.length;e++)it(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[fa]),function jE(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof $f)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Rc(4,a,c);try{c.call(a)}finally{Rc(5,a,c)}}else{Rc(4,r,o);try{o.call(r)}finally{Rc(5,r,o)}}}}}(n,e),function Yr(n,e){const t=n.cleanup,i=e[mh];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[mh]=null);const r=e[dl];if(null!==r){e[dl]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[tn].type&&e[ii].destroy();const t=e[gh];if(null!==t&&Bo(e[or])){t!==e[or]&&jc(t,e);const i=e[ac];null!==i&&i.detachView(n)}!function CI(n){lp.delete(n[_h])}(e)}}function Hb(n,e,t){return function UE(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Ui];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===ua.None||o===ua.Emulated)return null}return Qr(i,t)}}(n,e.parent,t)}function Cu(n,e,t,i,r){n.insertBefore(e,t,i,r)}function VE(n,e,t){n.appendChild(e,t)}function zE(n,e,t,i,r){null!==i?Cu(n,e,t,i,r):VE(n,e,t)}function fd(n,e){return n.parentNode(e)}function HE(n,e,t){return up(n,e,t)}let Ts,Au,up=function Wb(n,e,t){return 40&n.type?Qr(n,t):null};function vg(n,e,t,i){const r=Hb(n,i,e),o=e[ii],a=HE(i.parent||e[bo],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)zE(o,r,t[c],a,!1);else zE(o,r,t,a,!1);void 0!==Ts&&Ts(o,i,e,t,r)}function hp(n,e){if(null!==e){const t=e.type;if(3&t)return Qr(e,n);if(4&t)return $b(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return hp(n,i);{const r=n[e.index];return Bo(r)?$b(-1,r):br(r)}}if(32&t)return Vb(e,n)()||br(n[e.index]);{const i=GE(n,e);return null!==i?Array.isArray(i)?i[0]:hp(As(n[yr]),i):hp(n,e.next)}}return null}function GE(n,e){return null!==e?n[yr][bo].projection[e.projection]:null}function $b(n,e){const t=zr+n+1;if(t<e.length){const i=e[t],r=i[tn].firstChild;if(null!==r)return hp(i,r)}return e[Oc]}function uc(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&ps(br(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)uc(n,e,t.child,i,r,o,!1),wo(e,n,r,a,o);else if(32&c){const l=Vb(t,i);let d;for(;d=l();)wo(e,n,r,d,o);wo(e,n,r,a,o)}else 16&c?ya(n,e,i,t,r,o):wo(e,n,r,a,o);t=s?t.projectionNext:t.next}}function ri(n,e,t,i,r,o){uc(t,i,n.firstChild,e,r,o,!1)}function ya(n,e,t,i,r,o){const s=t[yr],c=s[bo].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)wo(e,n,r,c[l],o);else{let l=c;const d=s[or];gg(i)&&(l.flags|=128),uc(n,e,l,d,r,o,!0)}}function XE(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Yb(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&Rf(n,e,i),null!==r&&XE(n,e,r),null!==o&&function Zi(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function Fh(n){return function qb(){if(void 0===Au&&(Au=null,Ni.trustedTypes))try{Au=Ni.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Au}()?.createHTML(n)||n}class Tu{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qe})`}}class WI extends Tu{getTypeName(){return"HTML"}}class Jb extends Tu{getTypeName(){return"Style"}}class $I extends Tu{getTypeName(){return"Script"}}class Qb extends Tu{getTypeName(){return"URL"}}class XI extends Tu{getTypeName(){return"ResourceURL"}}function ba(n){return n instanceof Tu?n.changingThisBreaksApplicationSecurity:n}function Uc(n,e){const t=function jo(n){return n instanceof Tu&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${qe})`)}return t===e}class JI{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Fh(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class QI{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Fh(e),t}}const ZI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Eg(n){return(n=String(n)).match(ZI)?n:"unsafe:"+n}function El(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Lh(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const Zb=El("area,br,col,hr,img,wbr"),eC=El("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tC=El("rp,rt"),ev=Lh(Zb,Lh(eC,El("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Lh(tC,El("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Lh(tC,eC)),tv=El("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nC=Lh(tv,El("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),El("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),iC=El("script,style,template");class rC{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!ev.hasOwnProperty(t))return this.sanitizedSomething=!0,!iC.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!nC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;tv[a]&&(c=Eg(c)),this.buf.push(" ",s,'="',oC(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();ev.hasOwnProperty(t)&&!Zb.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(oC(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const eD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tD=/([^\#-~ |!])/g;function oC(n){return n.replace(/&/g,"&amp;").replace(eD,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(tD,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Cg;function sC(n,e){let t=null;try{Cg=Cg||function QE(n){const e=new QI(n);return function ZE(){try{return!!(new window.DOMParser).parseFromString(Fh(""),"text/html")}catch{return!1}}()?new JI(e):e}(n);let i=e?String(e):"";t=Cg.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=Cg.getInertBodyElement(i)}while(i!==o);return Fh((new rC).sanitizeChildren(nv(t)||t))}finally{if(t){const i=nv(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function nv(n){return"content"in n&&function nD(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Uo=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Uo||{});function Sg(n){const e=function pp(){const n=Nt();return n&&n[cl].sanitizer}();return e?e.sanitize(Uo.URL,n)||"":Uc(n,"URL")?ba(n):Eg(Hn(n))}class lD{}let dC=(n,e,t)=>null;function yp(n,e,t=!1){return dC(n,e,t)}class gD{}class fC{}class yD{resolveComponentFactory(e){throw function _D(n){const e=Error(`No component factory found for ${Ti(n)}.`);return e.ngComponent=n,e}(e)}}let pd=(()=>{class n{static#e=this.NULL=new yD}return n})();function bD(){return Uh(Qi(),Nt())}function Uh(n,e){return new In(Qr(n,e))}let In=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=bD}return n})();function vD(n){return n instanceof In?n.nativeElement:n}class dv{}let Vc=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function wD(){const n=Nt(),t=pa(Qi().index,n);return(Lo(t)?t:n)[ii]}()}return n})(),xD=(()=>{class n{static#e=this.\u0275prov=It({token:n,providedIn:"root",factory:()=>null})}return n})();const uv={};function u(n){const e=re(null);try{return n()}finally{re(e)}}function y(n){return!!je(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function je(n){return null!==n&&("function"==typeof n||"object"==typeof n)}class rt{constructor(){}supports(e){return y(e)}create(e){return new yt(e)}}const ht=(n,e)=>e;class yt{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ht}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<cn(i,r,o)?t:i,a=cn(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,d=c-r;if(l!=d){for(let f=0;f<l;f++){const m=f<o.length?o[f]:o[f]=0,g=m+f;d<=g&&g<l&&(o[f]=m+1)}o[s.previousIndex]=d-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!y(e))throw new Pe(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function ve(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new zt(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Yt),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yt),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class zt{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ht{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class Yt{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new Ht,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cn(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class Pn{constructor(){}supports(e){return e instanceof Map||je(e)}create(){return new Xn}}class Xn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||je(e)))throw new Pe(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new fi(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class fi{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wn(){return new pi([new rt])}let pi=(()=>{class n{static#e=this.\u0275prov=It({token:n,providedIn:"root",factory:Wn});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||Wn()),deps:[[n,new Mh,new sd]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Pe(901,!1)}}return n})();function Qs(){return new xo([new Pn])}let xo=(()=>{class n{static#e=this.\u0275prov=It({token:n,providedIn:"root",factory:Qs});constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||Qs()),deps:[[n,new Mh,new sd]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new Pe(901,!1)}}return n})();function Mr(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(br(o)),Bo(o)&&Ua(o,i);const s=t.type;if(8&s)Mr(n,e,t.child,i);else if(32&s){const a=Vb(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=GE(e,t);if(Array.isArray(a))i.push(...a);else{const c=As(e[yr]);Mr(c[tn],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function Ua(n,e){for(let t=zr;t<n.length;t++){const i=n[t],r=i[tn].firstChild;null!==r&&Mr(i[tn],i,r,e)}n[Oc]!==n[Ui]&&e.push(n[Oc])}let zc=[];const VZ={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{fl(n.lView)},consumerOnSignalRead(){this.lView[fa]=this}};function CD(n){return n.ngOriginalError}class hc{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&CD(e);for(;t&&CD(t);)t=CD(t);return t||null}}const hj=new _t("",{providedIn:"root",factory:()=>jt(hc).handleError.bind(void 0)}),pj=new _t("",{providedIn:"root",factory:()=>!1}),di={};function pt(n){yj(Pi(),Nt(),Jo()+n,!1)}function yj(n,e,t,i){if(!i)if(3==(3&e[Ln])){const o=n.preOrderCheckHooks;null!==o&&Eh(e,o,t)}else{const o=n.preOrderHooks;null!==o&&li(e,o,0,t)}Zl(t)}function Te(n,e=Mi.Default){const t=Nt();return null===t?et(n,e):Kx(Qi(),t,D(n),e)}function SD(){throw new Error("invalid")}function _C(n,e,t,i,r,o,s,a,c,l,d){const h=e.blueprint.slice();return h[Ui]=r,h[Ln]=204|i,(null!==l||n&&2048&n[Ln])&&(h[Ln]|=2048),Qy(h),h[or]=h[ha]=n,h[pr]=t,h[cl]=s||n&&n[cl],h[ii]=a||n&&n[ii],h[Fo]=c||n&&n[Fo]||null,h[bo]=o,h[_h]=function OE(){return DE++}(),h[bi]=d,h[Nf]=l,h[yr]=2==e.type?n[yr]:h,h}function Og(n,e,t,i,r){let o=n.data[e];if(null===o)o=function AD(n,e,t,i,r){const o=tb(),s=vh(),c=n.data[e]=function eee(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return cu()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function Hf(){return Kn.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Xs(){const n=Kn.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Pa(o,!0),o}function hv(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function bj(n,e,t,i,r){const o=Jo(),s=2&i;try{Zl(-1),s&&e.length>Zn&&yj(n,e,Zn,!1),Rc(s?2:0,r),t(i,r)}finally{Zl(o),Rc(s?3:1,r)}}function TD(n,e,t){if(Hy(e)){const i=re(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{re(i)}}}function MD(n,e,t){Px()&&(function aee(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Ar(t)&&function pee(n,e,t){const i=Qr(e,n),r=vj(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=yC(n,_C(n,r,null,s,i,e,null,n[cl].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Xf(t,e),ps(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],l=hs(e,n,a,t);ps(l,e),null!==s&&mee(0,a-r,l,c,0,s),cc(c)&&(pa(t.index,e)[pr]=hs(e,n,a,t))}}(n,e,t,Qr(t,e)),64==(64&t.flags)&&Sj(n,e,t))}function ID(n,e,t=Qr){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function vj(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=DD(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function DD(n,e,t,i,r,o,s,a,c,l,d){const h=Zn+i,f=h+r,m=function YZ(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:di);return t}(h,f),g="function"==typeof l?l():l;return m[tn]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:d}}let wj=n=>null;function xj(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?Ej(t,e,r,o):i.hasOwnProperty(r)&&Ej(t,e,i[r],o)}return t}function Ej(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function fc(n,e,t,i,r,o,s,a){const c=Qr(e,t);let d,l=e.inputs;!a&&null!=l&&(d=l[i])?(ND(n,t,d,i,r),Ar(e)&&function iee(n,e){const t=pa(e,n);16&t[Ln]||(t[Ln]|=64)}(t,e.index)):3&e.type&&(i=function nee(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function OD(n,e,t,i){if(Px()){const r=null===i?null:{"":-1},o=function lee(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(Hm(e,s.selectors,!1))if(i||(i=[]),cc(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),RD(n,e,a.length)}else i.unshift(s),RD(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Cj(n,e,t,s,r,a),r&&function dee(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new Pe(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=hh(t.mergedAttrs,t.attrs)}function Cj(n,e,t,i,r,o){for(let l=0;l<i.length;l++)ub(Xf(t,e),n,i[l].type);!function hee(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const d=i[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=hv(n,e,i.length,null);for(let l=0;l<i.length;l++){const d=i[l];t.mergedAttrs=hh(t.mergedAttrs,d.hostAttrs),fee(n,t,e,c,d),uee(c,d,r),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function tee(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let d=e.directiveStart;d<r;d++){const h=o[d],f=t?t.get(h):null,g=f?f.outputs:null;c=xj(h.inputs,d,c,f?f.inputs:null),l=xj(h.outputs,d,l,g);const v=null===c||null===s||yx(e)?null:gee(c,d,s);a.push(v)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function Sj(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function OM(){return Kn.lFrame.currentDirectiveIndex}();try{Zl(o);for(let a=i;a<r;a++){const c=n.data[a],l=e[a];lu(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&cee(c,l)}}finally{Zl(-1),lu(s)}}function cee(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function RD(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function uee(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;cc(e)&&(t[""]=n)}}function fee(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=ou(r.type)),s=new $f(o,cc(r),Te);n.blueprint[i]=s,t[i]=s,function oee(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function see(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,hv(n,t,r.hostVars,di),r)}function md(n,e,t,i,r,o){const s=Qr(n,e);!function PD(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Hn(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[ii],s,o,n.value,t,i,r)}function mee(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)Aj(i,t,s[a++],s[a++],s[a++])}function Aj(n,e,t,i,r){const o=re(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{re(o)}}function gee(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function Tj(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function Mj(n,e){const t=n.contentQueries;if(null!==t){const i=re(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];Gf(t[r]),a.contentQueries(2,e[s],s)}}}finally{re(i)}}}function yC(n,e){return n[Pf]?n[kf][$s]=e:n[Pf]=e,n[kf]=e,e}function kD(n,e,t){Gf(0);const i=re(null);try{e(n,t)}finally{re(i)}}function Ij(n){return n[mh]||(n[mh]=[])}function Dj(n){return n.cleanup||(n.cleanup=[])}function Oj(n,e,t){return(null===n||cc(n))&&(t=function Ky(n){for(;Array.isArray(n);){if("object"==typeof n[zy])return n;n=n[Ui]}return null}(t[e.index])),t[ii]}function bC(n,e){const t=n[Fo],i=t?t.get(hc,null):null;i&&i.handleError(e)}function ND(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];Aj(n.data[s],e[s],i,a,r)}}function Iu(n,e,t){const i=jf(e,n);!function BE(n,e,t){n.setValue(e,t)}(n[ii],i,t)}function bee(n,e,t,i){const r=e[Ln];if(256==(256&r))return;e[cl].inlineEffectRunner?.flush(),rb(e);let s=null,a=null;(function vee(n){return 2!==n.type})(n)&&(a=function mC(n){return n[fa]??function jZ(n){const e=zc.pop()??Object.create(VZ);return e.lView=n,e}(n)}(e),s=function Ie(n){return n&&(n.nextProducerIndex=0),re(n)}(a));try{Qy(e),function Lx(n){return Kn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&bj(n,e,t,2,i);const c=3==(3&r);if(c){const h=n.preOrderCheckHooks;null!==h&&Eh(e,h,null)}else{const h=n.preOrderHooks;null!==h&&li(e,h,0,null),cb(e,0)}if(function wee(n){for(let e=hd(n);null!==e;e=ai(e)){if(!(e[Ln]&yh.HasTransplantedViews))continue;const t=e[ul];for(let i=0;i<t.length;i++){Ix(t[i])}}}(e),Rj(e,0),null!==n.contentQueries&&Mj(n,e),c){const h=n.contentCheckHooks;null!==h&&Eh(e,h)}else{const h=n.contentHooks;null!==h&&li(e,h,1),cb(e,1)}!function XZ(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Zl(~r);else{const o=r,s=t[++i],a=t[++i];DM(s,o),a(2,e[o])}}}finally{Zl(-1)}}(n,e);const l=n.components;null!==l&&kj(e,l,0);const d=n.viewQuery;if(null!==d&&kD(2,d,i),c){const h=n.viewCheckHooks;null!==h&&Eh(e,h)}else{const h=n.viewHooks;null!==h&&li(e,h,2),cb(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ql]){for(const h of e[ql])h();e[ql]=null}e[Ln]&=-73}catch(c){throw fl(e),c}finally{null!==a&&(function ae(n,e){if(re(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Ke(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)it(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,s),function UZ(n){n.lView[fa]!==n&&(n.lView=null,zc.push(n))}(a)),Wf()}}function Rj(n,e){for(let t=hd(n);null!==t;t=ai(t)){t[Ln]&=~yh.HasChildViewsToRefresh;for(let i=zr;i<t.length;i++)Pj(t[i],e)}}function xee(n,e,t){Pj(pa(e,n),t)}function Pj(n,e){Jy(n)&&LD(n,e)}function LD(n,e){const i=n[tn],r=n[Ln],o=n[fa];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!o?.dirty||!xe(o)),o&&(o.dirty=!1),n[Ln]&=-9217,s)bee(i,n,i.template,n[pr]);else if(8192&r){Rj(n,1);const a=i.components;null!==a&&kj(n,a,1)}}function kj(n,e,t){for(let i=0;i<e.length;i++)xee(n,e[i],t)}function fv(n){for(n[cl].changeDetectionScheduler?.notify();n;){n[Ln]|=64;const e=As(n);if(Gy(n)&&!e)return n;n=e}return null}class pv{get rootNodes(){const e=this._lView,t=e[tn];return Mr(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pr]}set context(e){this._lView[pr]=e}get destroyed(){return 256==(256&this._lView[Ln])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[or];if(Bo(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Nh(e,i),mu(t,i))}this._attachedToViewContainer=!1}Eu(this._lView[tn],this._lView)}onDestroy(e){!function su(n,e){if(256==(256&n[Ln]))throw new Pe(911,!1);null===n[dl]&&(n[dl]=[]),n[dl].push(e)}(this._lView,e)}markForCheck(){fv(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ln]&=-129}reattach(){Vf(this._lView),this._lView[Ln]|=128}detectChanges(){this._lView[Ln]|=1024,function FD(n,e=!0){const t=n[cl],i=t.rendererFactory,r=t.afterRenderEventManager;i.begin?.(),r?.begin();try{!function yee(n){LD(n,0);let e=0;for(;Ox(n);){if(100===e)throw new Pe(103,!1);e++,LD(n,1)}}(n)}catch(s){throw e&&bC(n,s),s}finally{i.end?.(),t.inlineEffectRunner?.flush(),r?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function FI(n,e){ri(n,e,e[ii],2,null,null)}(this._lView[tn],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Pe(902,!1);this._appRef=e,Vf(this._lView)}}let Ii=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Eee}return n})();function Eee(n){return function Cee(n,e,t){if(Ar(n)&&!t){const i=pa(n.index,e);return new pv(i,i)}return 47&n.type?new pv(e[yr],e):null}(Qi(),Nt(),16==(16&n))}const Nj=new Set;function vp(n){Nj.has(n)||(Nj.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function jD(n){return e=>{setTimeout(n,void 0,e)}}const qt=class kee extends rn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=jD(o),r&&(r=jD(r)),s&&(s=jD(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof mt&&e.add(a),a}};function Fj(...n){}class gn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qt(!1),this.onMicrotaskEmpty=new qt(!1),this.onStable=new qt(!1),this.onError=new qt(!1),typeof Zone>"u")throw new Pe(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Nee(){const n="function"==typeof Ni.requestAnimationFrame;let e=Ni[n?"requestAnimationFrame":"setTimeout"],t=Ni[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Bee(n){const e=()=>{!function Lee(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ni,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,VD(n),n.isCheckStableRunning=!0,UD(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),VD(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function Uee(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return Lj(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),Bj(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return Lj(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),Bj(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,VD(n),UD(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gn.isInAngularZone())throw new Pe(909,!1)}static assertNotInAngularZone(){if(gn.isInAngularZone())throw new Pe(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,Fee,Fj,Fj);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const Fee={};function UD(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function VD(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Lj(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Bj(n){n._nesting--,UD(n)}class jee{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qt,this.onMicrotaskEmpty=new qt,this.onStable=new qt,this.onError=new qt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}let vC=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const t of this.internalCallbacks)t();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=It({token:n,providedIn:"root",factory:()=>new n})}return n})();function Gee(n,e){const t=pa(e,n),i=t[tn];!function Wee(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[Ui];null!==r&&null===t[bi]&&(t[bi]=yp(r,t[Fo])),zD(i,t,t[pr])}function zD(n,e,t){rb(e);try{const i=n.viewQuery;null!==i&&kD(1,i,t);const r=n.template;null!==r&&bj(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Mj(n,e),n.staticViewQueries&&kD(2,n.viewQuery,t);const o=n.components;null!==o&&function $ee(n,e){for(let t=0;t<e.length;t++)Gee(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Ln]&=-5,Wf()}}function wC(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=fr(r,a):2==o&&(i=fr(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class Hj extends pd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=lt(e);return new mv(t,this.ngModule)}}function Gj(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Yee{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Vm(i);const r=this.injector.get(e,uv,i);return r!==uv||t===uv?r:this.parentInjector.get(e,t,i)}}class mv extends fC{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=Gj(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return Gj(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function ph(n){return n.map(gM).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof Ba?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Yee(e,o):e,a=s.get(dv,null);if(null===a)throw new Pe(407,!1);const h={rendererFactory:a,sanitizer:s.get(xD,null),inlineEffectRunner:null,afterRenderEventManager:s.get(vC,null),changeDetectionScheduler:s.get(lD,null)},f=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",g=i?function qZ(n,e,t,i){const o=i.get(pj,!1)||t===ua.ShadowDom,s=n.selectRootElement(e,o);return function KZ(n){wj(n)}(s),s}(f,i,this.componentDef.encapsulation,s):bg(f,m,function Xee(n){const e=n.toLowerCase();return"svg"===e?Tx:"math"===e?"math":null}(m));let v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let C=null;null!==g&&(C=yp(g,s,!0));const B=DD(0,null,null,1,0,null,null,null,null,null,null),z=_C(null,B,null,v,null,null,h,f,s,null,C);let le,se;rb(z);try{const ke=this.componentDef;let $e,dt=null;ke.findHostDirectiveDefs?($e=[],dt=new Map,ke.findHostDirectiveDefs(ke,$e,dt),$e.push(ke)):$e=[ke];const gt=function Kee(n,e){const t=n[tn],i=Zn;return n[i]=e,Og(t,i,2,"#host",null)}(z,g),tt=function Jee(n,e,t,i,r,o,s){const a=r[tn];!function Qee(n,e,t,i){for(const r of n)e.mergedAttrs=hh(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(wC(e,e.mergedAttrs,!0),null!==t&&Yb(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=yp(e,r[Fo]));const l=o.rendererFactory.createRenderer(e,t);let d=16;t.signals?d=4096:t.onPush&&(d=64);const h=_C(r,vj(t),null,d,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&RD(a,n,i.length-1),yC(r,h),r[n.index]=h}(gt,g,ke,$e,z,h,f);se=Uf(B,Zn),g&&function ete(n,e,t,i){if(i)Rf(n,t,["ng-version","17.0.8"]);else{const{attrs:r,classes:o}=function sc(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!oc(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Rf(n,t,r),o&&o.length>0&&XE(n,t,o.join(" "))}}(f,ke,g,i),void 0!==t&&function tte(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(se,this.ngContentSelectors,t),le=function Zee(n,e,t,i,r,o){const s=Qi(),a=r[tn],c=Qr(s,r);Cj(a,r,s,t,null,i);for(let d=0;d<t.length;d++)ps(hs(r,a,s.directiveStart+d,s),r);Sj(a,r,s),c&&ps(c,r);const l=hs(r,a,s.directiveStart+s.componentOffset,s);if(n[pr]=r[pr]=l,null!==o)for(const d of o)d(l,e);return TD(a,s,n),l}(tt,ke,$e,dt,z,[nte]),zD(B,z,null)}finally{Wf()}return new qee(this.componentType,le,Uh(se,z),z,se)}}class qee extends gD{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new pv(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;ND(o[tn],o,r,e,t),this.previousInputValues.set(e,t),fv(pa(this._tNode.index,o))}}get injector(){return new no(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function nte(){const n=Qi();Jm(Nt()[tn],n)}function Gn(n){let e=function Wj(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(cc(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Pe(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=xC(n.inputs),s.inputTransforms=xC(n.inputTransforms),s.declaredInputs=xC(n.declaredInputs),s.outputs=xC(n.outputs);const a=r.hostBindings;a&&ste(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&rte(n,c),l&&ote(n,l),go(n.inputs,r.inputs),go(n.declaredInputs,r.declaredInputs),go(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),go(s.inputTransforms,r.inputTransforms)),cc(r)&&r.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Gn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function ite(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=hh(r.hostAttrs,t=hh(t,r.hostAttrs))}}(i)}function xC(n){return n===Dc?{}:n===ji?[]:n}function rte(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function ote(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function ste(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function gd(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function _d(n,e,t){return n[e]=t}function Vo(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function xp(n,e,t,i){const r=Vo(n,e,t);return Vo(n,e+1,i)||r}function oi(n,e,t,i){const r=Nt();return Vo(r,ka(),e)&&(Pi(),md(lr(),r,n,e,t,i)),oi}function Pg(n,e,t,i){return Vo(n,ka(),t)?e+Hn(t)+i:di}function kg(n,e,t,i,r,o){const a=xp(n,function ml(){return Kn.lFrame.bindingIndex}(),t,r);return gl(2),a?e+Hn(t)+i+Hn(r)+o:di}function CC(n,e){return n<<17|e<<2}function Vh(n){return n>>17&32767}function HD(n){return 2|n}function Ep(n){return(131068&n)>>2}function GD(n,e){return-131069&n|e<<2}function WD(n){return 1|n}function rU(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?Vh(o):Ep(o),c=!1;for(;0!==a&&(!1===c||s);){const d=n[a+1];_te(n[a],e)&&(c=!0,n[a+1]=i?WD(d):HD(d)),a=i?Vh(d):Ep(d)}c&&(n[t+1]=i?HD(o):WD(o))}function _te(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&gu(n,e)>=0}const es={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oU(n){return n.substring(es.key,es.keyEnd)}function yte(n){return n.substring(es.value,es.valueEnd)}function sU(n,e){const t=es.textEnd;return t===e?-1:(e=es.keyEnd=function wte(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,es.key=e,t),Vg(n,e,t))}function aU(n,e){const t=es.textEnd;let i=es.key=Vg(n,e,t);return t===i?-1:(i=es.keyEnd=function xte(n,e,t){let i;for(;e<t&&(45===(i=n.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)e++;return e}(n,i,t),i=lU(n,i,t),i=es.value=Vg(n,i,t),i=es.valueEnd=function Ete(n,e,t){let i=-1,r=-1,o=-1,s=e,a=s;for(;s<t;){const c=n.charCodeAt(s++);if(59===c)return a;34===c||39===c?a=s=dU(n,c,s,t):e===s-4&&85===o&&82===r&&76===i&&40===c?a=s=dU(n,41,s,t):c>32&&(a=s),o=r,r=i,i=-33&c}return a}(n,i,t),lU(n,i,t))}function cU(n){es.key=0,es.keyEnd=0,es.value=0,es.valueEnd=0,es.textEnd=n.length}function Vg(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function lU(n,e,t,i){return(e=Vg(n,e,t))<t&&e++,e}function dU(n,e,t,i){let r=-1,o=t;for(;o<i;){const s=n.charCodeAt(o++);if(s==e&&92!==r)return o;r=92==s&&92===r?0:s}throw new Error}function Ot(n,e,t){const i=Nt();return Vo(i,ka(),e)&&fc(Pi(),lr(),i,n,e,i[ii],t,!1),Ot}function $D(n,e,t,i,r){const s=r?"class":"style";ND(n,t,e.inputs[s],s,i)}function zg(n,e,t){return Sl(n,e,t,!1),zg}function pn(n,e){return Sl(n,e,null,!0),pn}function Cte(n,e){for(let t=function vte(n){return cU(n),aU(n,Vg(n,0,es.textEnd))}(e);t>=0;t=aU(e,t))fU(n,oU(e),yte(e))}function Ci(n){Al(Dte,yd,n,!0)}function yd(n,e){for(let t=function bte(n){return cU(n),sU(n,Vg(n,0,es.textEnd))}(e);t>=0;t=sU(e,t))ma(n,oU(e),!0)}function Sl(n,e,t,i){const r=Nt(),o=Pi(),s=gl(2);o.firstUpdatePass&&hU(o,n,s,i),e!==di&&Vo(r,s,e)&&pU(o,o.data[Jo()],r,r[ii],n,r[s+1]=function Rte(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ti(ba(n)))),n}(e,t),i,s)}function Al(n,e,t,i){const r=Pi(),o=gl(2);r.firstUpdatePass&&hU(r,null,o,i);const s=Nt();if(t!==di&&Vo(s,o,t)){const a=r.data[Jo()];if(gU(a,i)&&!uU(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=fr(c,t||"")),$D(r,a,s,t,i)}else!function Ote(n,e,t,i,r,o,s,a){r===di&&(r=ji);let c=0,l=0,d=0<r.length?r[0]:null,h=0<o.length?o[0]:null;for(;null!==d||null!==h;){const f=c<r.length?r[c+1]:void 0,m=l<o.length?o[l+1]:void 0;let v,g=null;d===h?(c+=2,l+=2,f!==m&&(g=h,v=m)):null===h||null!==d&&d<h?(c+=2,g=d):(l+=2,g=h,v=m),null!==g&&pU(n,e,t,i,g,v,s,a),d=c<r.length?r[c]:null,h=l<o.length?o[l]:null}}(r,a,s,s[ii],s[o+1],s[o+1]=function Ite(n,e,t){if(null==t||""===t)return ji;const i=[],r=ba(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,o)}}function uU(n,e){return e>=n.expandoStartIndex}function hU(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Jo()],s=uU(n,t);gU(o,i)&&null===e&&!s&&(e=!1),e=function Ste(n,e,t,i){const r=ib(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=_v(t=XD(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=XD(r,n,e,t,i),null===o){let c=function Ate(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Ep(i))return n[Vh(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=XD(null,n,e,c[1],i),c=_v(c,e.attrs,i),function Tte(n,e,t,i){n[Vh(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function Mte(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=_v(i,n[o].hostAttrs,t);return _v(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function mte(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Vh(s),c=Ep(s);n[i]=t;let d,l=!1;if(Array.isArray(t)?(d=t[1],(null===d||gu(t,d)>0)&&(l=!0)):d=t,r)if(0!==c){const f=Vh(n[a+1]);n[i+1]=CC(f,a),0!==f&&(n[f+1]=GD(n[f+1],i)),n[a+1]=function fte(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=CC(a,0),0!==a&&(n[a+1]=GD(n[a+1],i)),a=i;else n[i+1]=CC(c,0),0===a?a=i:n[c+1]=GD(n[c+1],i),c=i;l&&(n[i+1]=HD(n[i+1])),rU(n,d,i,!0),rU(n,d,i,!1),function gte(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&gu(o,e)>=0&&(t[i+1]=WD(t[i+1]))}(e,d,n,i,o),s=CC(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}function XD(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=_v(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function _v(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ma(n,s,!!t||e[++o]))}return void 0===n?null:n}function fU(n,e,t){ma(n,e,ba(t))}function Dte(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&ma(n,i,t)}function pU(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],d=function pte(n){return 1==(1&n)}(l)?mU(c,e,t,r,Ep(l),s):void 0;SC(d)||(SC(o)||function hte(n){return 2==(2&n)}(l)&&(o=mU(c,null,t,r,a,s)),function VI(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:ud.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ud.Important),n.setStyle(t,i,r,o))}}(i,s,jf(Jo(),t),r,o))}function mU(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),d=l?c[1]:c,h=null===d;let f=t[r+1];f===di&&(f=h?ji:void 0);let m=h?Zf(f,i):d===i?f:void 0;if(l&&!SC(m)&&(m=Zf(c,i)),SC(m)&&(a=m,s))return a;const g=n[r+1];r=s?Vh(g):Ep(g)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=Zf(c,i))}return a}function SC(n){return void 0!==n}function gU(n,e){return 0!=(n.flags&(e?8:16))}let EU=(n,e)=>null;function Hg(n,e){return EU(n,e)}class lne{destroy(e){}updateValue(e,t){}swap(e,t){const i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){const s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}}function ZD(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function eO(n,e,t,i){return!(void 0===e||!e.has(i)||(n.attach(t,e.get(i)),e.delete(i),0))}function CU(n,e,t,i,r){if(eO(n,e,i,t(i,r)))n.updateValue(i,r);else{const o=n.create(i,r);n.attach(i,o)}}function SU(n,e,t,i){const r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}class AU{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const t=this.kvMap.get(e);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);void 0===this._vMap&&(this._vMap=new Map);const r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),void 0!==this._vMap){const r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}}function xv(n,e,t,i){const r=e.tView,a=_C(n,r,t,4096&n[Ln]?4096:16,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null);a[gh]=n[e.index];const l=n[ac];return null!==l&&(a[ac]=l.createEmbeddedView(r)),zD(r,a,t),a}function TU(n,e){const t=zr+e;if(t<n.length)return n[t]}function Gg(n,e){return!e||null===e.firstChild||gg(n)}function Ev(n,e,t,i=!0){const r=e[tn];if(function zb(n,e,t,i){const r=zr+i,o=t.length;i>0&&(t[r-1][$s]=e),i<o-zr?(e[$s]=t[r],og(t,zr+i,e)):(t.push(e),e[$s]=null),e[or]=t;const s=e[gh];null!==s&&t!==s&&function BI(n,e){const t=n[ul];e[yr]!==e[or][or][yr]&&(n[Ln]|=yh.HasTransplantedViews),null===t?n[ul]=[e]:t.push(e)}(s,e);const a=e[ac];null!==a&&a.insertView(n),Vf(e),e[Ln]|=128}(r,e,n,t),i){const s=$b(t,n),a=e[ii],c=fd(a,n[Oc]);null!==c&&function NI(n,e,t,i,r,o){i[Ui]=r,i[bo]=e,ri(n,i,t,1,r,o)}(r,n[bo],a,e,c,s)}const o=e[bi];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function tO(n,e){const t=Nh(n,e);return void 0!==t&&Eu(t[tn],t),t}let ms=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=une}return n})();function une(){return DU(Qi(),Nt())}const hne=ms,MU=class extends hne{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Uh(this._hostTNode,this._hostLView)}get injector(){return new no(this._hostTNode,this._hostLView)}get parentInjector(){const e=rg(this._hostTNode,this._hostLView);if(Nc(e)){const t=ed(e,this._hostLView),i=du(e);return new no(t[tn].data[i+8],t)}return new no(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=IU(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-zr}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=Hg(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Gg(this._hostTNode,s)),a}createComponent(e,t,i,r,o){const s=e&&!function Qf(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const g=t||{};a=g.index,i=g.injector,r=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const c=s?e:new mv(lt(e)),l=i||this.parentInjector;if(!o&&null==c.ngModule){const v=(s?l:this.parentInjector).get(Ba,null);v&&(o=v)}const d=lt(c.componentType??{}),h=Hg(this._lContainer,d?.id??null),m=c.create(l,r,h?.firstChild??null,o);return this.insertImpl(m.hostView,a,Gg(this._hostTNode,h)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function MM(n){return Bo(n[or])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=r[or],l=new MU(c,c[bo],c[or]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return Ev(s,r,o,i),e.attachToViewContainerRef(),og(nO(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=IU(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Nh(this._lContainer,t);i&&(mu(nO(this._lContainer),t),Eu(i[tn],i))}detach(e){const t=this._adjustIndex(e,-1),i=Nh(this._lContainer,t);return i&&null!=mu(nO(this._lContainer),t)?new pv(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function IU(n){return n[8]}function nO(n){return n[8]||(n[8]=[])}function DU(n,e){let t;const i=e[n.index];return Bo(i)?t=i:(t=Tj(i,e,null,n),e[n.index]=t,yC(e,t)),OU(t,e,n,i),new MU(t,n,e)}let OU=function PU(n,e,t,i){if(n[Oc])return;let r;r=8&t.type?br(i):function fne(n,e){const t=n[ii],i=t.createComment(""),r=Qr(e,n);return Cu(t,fd(t,r),i,function Gb(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Oc]=r},iO=(n,e,t)=>!1;function hn(n,e,t,i,r,o,s,a){const c=Nt(),l=Pi(),d=n+Zn,h=l.firstCreatePass?function _ne(n,e,t,i,r,o,s,a,c){const l=e.consts,d=Og(e,n,4,s||null,kc(l,a));OD(e,t,d,kc(l,c)),Jm(e,d);const h=d.tView=DD(2,d,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(d,l,c,e,t,i,r,o,s):l.data[d];Pa(h,!1);const f=kU(l,c,h,n);xh()&&vg(l,c,f,h),ps(f,c);const m=Tj(f,c,f,h);return c[d]=m,yC(c,m),function RU(n,e,t){return iO(n,e,t)}(m,h,c),vo(h)&&MD(l,c,h),null!=s&&ID(c,h,a),hn}let kU=function NU(n,e,t,i){return _l(!0),e[ii].createComment("")};function Vi(n,e,t){vp("NgControlFlow");const i=Nt(),r=ka(),o=rO(i,Zn+n);if(Vo(i,r,e)){const a=re(null);try{if(tO(o,0),-1!==e){const c=oO(i[tn],Zn+e),l=Hg(o,c.tView.ssrId);Ev(o,xv(i,c,t,{dehydratedView:l}),0,Gg(c,l))}}finally{re(a)}}else{const a=TU(o,0);void 0!==a&&(a[pr]=t)}}class vne{constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-zr}}function FU(n,e){return e}class xne{constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}}class Ene extends lne{constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-zr}at(e){return this.getLView(e)[pr].$implicit}attach(e,t){const i=t[bi];this.needsIndexUpdate||=e!==this.length,Ev(this.lContainer,t,e,Gg(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,function Cne(n,e){return Nh(n,e)}(this.lContainer,e)}create(e,t){const i=Hg(this.lContainer,this.templateTNode.tView.ssrId);return xv(this.hostLView,this.templateTNode,new vne(this.lContainer,t,e),{dehydratedView:i})}destroy(e){Eu(e[tn],e)}updateValue(e,t){this.getLView(e)[pr].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[pr].$index=e}getLView(e){return function Sne(n,e){return TU(n,e)}(this.lContainer,e)}}function rO(n,e){return n[e]}function oO(n,e){return Uf(n,e)}function nt(n,e,t,i){const r=Nt(),o=Pi(),s=Zn+n,a=r[ii],c=o.firstCreatePass?function nie(n,e,t,i,r,o){const s=e.consts,c=Og(e,n,2,i,kc(s,r));return OD(e,t,c,kc(s,o)),null!==c.attrs&&wC(c,c.attrs,!1),null!==c.mergedAttrs&&wC(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],l=aV(o,r,c,a,e,n);r[s]=l;const d=vo(c);return Pa(c,!0),Yb(a,l,c),32!=(32&c.flags)&&xh()&&vg(o,r,l,c),0===function eb(){return Kn.lFrame.elementDepthCount}()&&ps(l,r),function au(){Kn.lFrame.elementDepthCount++}(),d&&(MD(o,r,c),TD(o,c,r)),null!==i&&ID(r,c),nt}function ot(){let n=Qi();vh()?pl():(n=n.parent,Pa(n,!1));const e=n;(function kx(n){return Kn.skipHydrationRootTNode===n})(e)&&function IM(){Kn.skipHydrationRootTNode=null}(),function Ra(){Kn.lFrame.elementDepthCount--}();const t=Pi();return t.firstCreatePass&&(Jm(t,n),Hy(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function db(n){return 0!=(8&n.flags)}(e)&&$D(t,e,Nt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Yx(n){return 0!=(16&n.flags)}(e)&&$D(t,e,Nt(),e.stylesWithoutHost,!1),ot}function _n(n,e,t,i){return nt(n,e,t,i),ot(),_n}let aV=(n,e,t,i,r,o)=>(_l(!0),bg(i,r,function sb(){return Kn.lFrame.currentNamespace}()));function Tv(n,e,t){const i=Nt(),r=Pi(),o=n+Zn,s=r.firstCreatePass?function oie(n,e,t,i,r){const o=e.consts,s=kc(o,i),a=Og(e,n,8,"ng-container",s);return null!==s&&wC(a,s,!0),OD(e,t,a,kc(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];Pa(s,!0);const a=cV(r,i,s,n);return i[o]=a,xh()&&vg(r,i,a,s),ps(a,i),vo(s)&&(MD(r,i,s),TD(r,s,i)),null!=t&&ID(i,s),Tv}function Mv(){let n=Qi();const e=Pi();return vh()?pl():(n=n.parent,Pa(n,!1)),e.firstCreatePass&&(Jm(e,n),Hy(n)&&e.queries.elementEnd(n)),Mv}function pO(n,e,t){return Tv(n,e,t),Mv(),pO}let cV=(n,e,t,i)=>(_l(!0),Bc(e[ii],""));function Co(){return Nt()}function Zs(n,e,t){const i=Nt();return Vo(i,ka(),e)&&fc(Pi(),lr(),i,n,e,i[ii],t,!0),Zs}function Iv(n,e,t){const i=Nt();if(Vo(i,ka(),e)){const o=Pi(),s=lr();fc(o,s,i,n,e,Oj(ib(o.data),s,i),t,!0)}return Iv}const Sp=void 0;var lie=["en",[["a","p"],["AM","PM"],Sp],[["AM","PM"],Sp,Sp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sp,"{1} 'at' {0}",Sp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cie(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Jg={};function dV(n){return n in Jg||(Jg[n]=Ni.ng&&Ni.ng.common&&Ni.ng.common.locales&&Ni.ng.common.locales[n]),Jg[n]}var Br=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Br||{});const Qg="en-US";let uV=Qg;function Zg(n){return!!n&&"function"==typeof n.then}function FV(n){return!!n&&"function"==typeof n.subscribe}function Ft(n,e,t,i){const r=Nt(),o=Pi(),s=Qi();return LV(o,r,r[ii],s,n,e,i),Ft}function jC(n,e){const t=Qi(),i=Nt(),r=Pi();return LV(r,i,Oj(ib(r.data),t,i),t,n,e),jC}function LV(n,e,t,i,r,o,s){const a=vo(i),l=n.firstCreatePass&&Dj(n),d=e[pr],h=Ij(e);let f=!0;if(3&i.type||s){const v=Qr(i,e),C=s?s(v):v,B=h.length,z=s?se=>s(br(se[i.index])):i.index;let le=null;if(!s&&a&&(le=function rre(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[mh],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==le)(le.__ngLastListenerFn__||le).__ngNextListenerFn__=o,le.__ngLastListenerFn__=o,f=!1;else{o=jV(i,e,d,o,!1);const se=t.listen(C,r,o);h.push(o,se),l&&l.push(r,z,B,B+1)}}else o=jV(i,e,d,o,!1);const m=i.outputs;let g;if(f&&null!==m&&(g=m[r])){const v=g.length;if(v)for(let C=0;C<v;C+=2){const ke=e[g[C]][g[C+1]].subscribe(o),$e=h.length;h.push(o,ke),l&&l.push(r,i.index,$e,-($e+1))}}}function BV(n,e,t,i){try{return Rc(6,e,t),!1!==t(i)}catch(r){return bC(n,r),!1}finally{Rc(7,e,t)}}function jV(n,e,t,i,r){return function o(s){if(s===Function)return i;fv(n.componentOffset>-1?pa(n.index,e):e);let c=BV(e,t,i,s),l=o.__ngNextListenerFn__;for(;l;)c=BV(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function Sn(n=1){return function Hx(n){return(Kn.lFrame.contextLView=function Dx(n,e){for(;n>0;)e=e[ha],n--;return e}(n,Kn.lFrame.contextLView))[pr]}(n)}function ore(n,e){let t=null;const i=function bx(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?Hm(n,o,!0):mM(i,o))return r}else t=r}return t}function vr(n){const e=Nt()[yr][bo];if(!e.projection){const i=e.projection=Lc(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?ore(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Bn(n,e=0,t){const i=Nt(),r=Pi(),o=Og(r,Zn+n,16,null,t||null);null===o.projection&&(o.projection=e),pl(),(!i[bi]||cu())&&32!=(32&o.flags)&&function WE(n,e,t){ya(e[ii],0,e,t,Hb(n,t,e),HE(t.parent||e[bo],t,e))}(r,i,o)}function UC(n,e,t){return _O(n,"",e,"",t),UC}function _O(n,e,t,i,r){const o=Nt(),s=Pg(o,e,t,i);return s!==di&&fc(Pi(),lr(),o,n,s,o[ii],r,!1),_O}function ts(n){return us(function Fx(){return Kn.lFrame.contextLView}(),Zn+n)}function Wt(n,e=""){const t=Nt(),i=Pi(),r=n+Zn,o=i.firstCreatePass?Og(i,r,1,e,null):i.data[r],s=iz(i,t,o,e,n);t[r]=s,xh()&&vg(i,t,s,o),Pa(o,!1)}let iz=(n,e,t,i,r)=>(_l(!0),function Lr(n,e){return n.createText(e)}(e[ii],i));function So(n){return oo("",n,""),So}function oo(n,e,t){const i=Nt(),r=Pg(i,n,e,t);return r!==di&&Iu(i,Jo(),r),oo}function VC(n,e,t,i,r){const o=Nt(),s=kg(o,n,e,t,i,r);return s!==di&&Iu(o,Jo(),s),VC}function yO(n,e,t,i,r){if(n=D(n),Array.isArray(n))for(let o=0;o<n.length;o++)yO(n[o],e,t,i,r);else{const o=Pi(),s=Nt(),a=Qi();let c=bu(n)?n:D(n.provide);const l=pE(n),d=1048575&a.providerIndexes,h=a.directiveStart,f=a.providerIndexes>>20;if(bu(n)||!n.multi){const m=new $f(l,r,Te),g=vO(c,e,r?d:d+f,h);-1===g?(ub(Xf(a,s),o,c),bO(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[g]=m,s[g]=m)}else{const m=vO(c,e,d+f,h),g=vO(c,e,d,d+f),C=g>=0&&t[g];if(r&&!C||!r&&!(m>=0&&t[m])){ub(Xf(a,s),o,c);const B=function wre(n,e,t,i,r){const o=new $f(n,t,Te);return o.multi=[],o.index=e,o.componentProviders=0,uz(o,r,i&&!t),o}(r?vre:bre,t.length,r,i,l);!r&&C&&(t[g].providerFactory=B),bO(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(B),s.push(B)}else bO(o,n,m>-1?m:g,uz(t[r?g:m],l,!r&&i));!r&&i&&C&&t[g].componentProviders++}}}function bO(n,e,t,i){const r=bu(e),o=function eI(n){return!!n.useClass}(e);if(r||o){const c=(o?D(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const d=l.indexOf(t);-1===d?l.push(t,[i,c]):l[d+1].push(i,c)}else l.push(t,c)}}}function uz(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function vO(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function bre(n,e,t,i){return wO(this.multi,[])}function vre(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=hs(t,t[tn],this.providerFactory.index,i);o=a.slice(0,s),wO(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],wO(r,o);return o}function wO(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Yn(n,e=[]){return t=>{t.providersResolver=(i,r)=>function yre(n,e,t){const i=Pi();if(i.firstCreatePass){const r=cc(n);yO(t,i.data,i.blueprint,r,!0),yO(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Ap{}class hz{}class xO extends Ap{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hj(this);const r=function kn(n,e){const t=n[jn]||null;if(!t&&!0===e)throw new Error(`Type ${Ti(n)} does not have '\u0275mod' property.`);return t}(e);this._bootstrapComponents=function _a(n){return n instanceof Function?n():n}(r.bootstrap),this._r3Injector=_E(e,t,[{provide:Ap,useValue:this},{provide:pd,useValue:this.componentFactoryResolver},...i],Ti(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class EO extends hz{constructor(e){super(),this.moduleType=e}create(e){return new xO(this.moduleType,e,[])}}class fz extends Ap{constructor(e){super(),this.componentFactoryResolver=new Hj(this),this.instance=null;const t=new Dh([...e.providers,{provide:Ap,useValue:this},{provide:pd,useValue:this.componentFactoryResolver}],e.parent||dg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}let Cre=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=wb(0,t.type),r=i.length>0?function pz(n,e,t=null){return new fz({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=It({token:n,providedIn:"environment",factory:()=>new n(et(Ba))})}return n})();function Hh(n){vp("NgStandalone"),n.getStandaloneInjector=e=>e.get(Cre).getOrCreateStandaloneInjector(n)}function Tp(n,e,t){const i=xs()+n,r=Nt();return r[i]===di?_d(r,i,t?e.call(t):e()):function gv(n,e){return n[e]}(r,i)}function Nv(n,e){const t=n[e];return t===di?void 0:t}function ei(n,e){const t=Pi();let i;const r=n+Zn;t.firstCreatePass?(i=function Gre(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=ou(i.type)),a=Gs(Te);try{const c=Ah(!1),l=o();return Ah(c),function sre(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,Nt(),r,l),l}finally{Gs(a)}}function ni(n,e,t){const i=n+Zn,r=Nt(),o=us(r,i);return Fv(r,i)?function xz(n,e,t,i,r,o){const s=e+t;return Vo(n,s,r)?_d(n,s+1,o?i.call(o,r):i(r)):Nv(n,s+1)}(r,xs(),e,o.transform,t,o):o.transform(t)}function Tz(n,e,t,i){const r=n+Zn,o=Nt(),s=us(o,r);return Fv(o,r)?function Ez(n,e,t,i,r,o,s){const a=e+t;return xp(n,a,r,o)?_d(n,a+2,s?i.call(s,r,o):i(r,o)):Nv(n,a+2)}(o,xs(),e,s.transform,t,i,s):s.transform(t,i)}function Fv(n,e){return n[tn].data[e].pure}function Yre(){return this._results[Symbol.iterator]()}class e_{static#e=Symbol.iterator;get changes(){return this._changes??=new qt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=e_.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Yre)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function fs(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function vl(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let za=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Jre}return n})();const qre=za,Kre=class extends qre{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=xv(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:i});return new pv(r)}};function Jre(){return GC(Qi(),Nt())}function GC(n,e){return 4&n.type?new Kre(e,n,Uh(n,e)):null}class SO{constructor(e){this.queryList=e,this.matches=null}clone(){return new SO(this.queryList)}setDirty(){this.queryList.setDirty()}}class AO{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new AO(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Rz(e,t).matches&&this.queries[t].setDirty()}}class Mz{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class TO{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new TO(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class MO{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new MO(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,Qre(t,o)),this.matchTNodeWithReadOption(e,t,Qo(t,e,o,!1,!1))}else i===za?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Qo(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===In||r===ms||r===za&&4&t.type)this.addMatch(t.index,-2);else{const o=Qo(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Qre(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function eoe(n,e,t,i){return-1===t?function Zre(n,e){return 11&n.type?Uh(n,e):4&n.type?GC(n,e):null}(e,n):-2===t?function toe(n,e,t){return t===In?Uh(e,n):t===za?GC(e,n):t===ms?DU(e,n):void 0}(n,e,i):hs(n,n[tn],t,e)}function Iz(n,e,t,i){const r=e[ac].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:eoe(e,o[l],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function IO(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=Iz(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],d=e[-c];for(let h=zr;h<d.length;h++){const f=d[h];f[gh]===f[or]&&IO(f[tn],f,l,i)}if(null!==d[ul]){const h=d[ul];for(let f=0;f<h.length;f++){const m=h[f];IO(m[tn],m,l,i)}}}}}return i}function An(n){const e=Nt(),t=Pi(),i=Bx();Gf(i+1);const r=Rz(t,i);if(n.dirty&&function TM(n){return 4==(4&n[Ln])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?IO(t,e,i,[]):Iz(t,e,r,i);n.reset(o,vD),n.notifyOnChanges()}return!0}return!1}function Di(n,e,t){const i=Pi();i.firstCreatePass&&(Oz(i,new Mz(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),Dz(i,Nt(),e)}function dr(n,e,t,i){const r=Pi();if(r.firstCreatePass){const o=Qi();Oz(r,new Mz(e,t,i),o.index),function ioe(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}Dz(r,Nt(),t)}function Tn(){return function noe(n,e){return n[ac].queries[e].queryList}(Nt(),Bx())}function Dz(n,e,t){const i=new e_(4==(4&t));(function ZZ(n,e,t,i){const r=Ij(e);r.push(t),n.firstCreatePass&&Dj(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[ac]&&(e[ac]=new AO),e[ac].queries.push(new SO(i))}function Oz(n,e,t){null===n.queries&&(n.queries=new TO),n.queries.track(new MO(e,t))}function Rz(n,e){return n.queries.getByIndex(e)}function Lv(n,e){return GC(n,e)}let jv=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new hr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Zz=new _t(""),XC=new _t("");let LO,NO=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,LO||(function Joe(n){LO=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(et(gn),et(FO),et(XC))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})(),FO=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return LO?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const BO=new _t("Application Initializer");let jO=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=jt(BO,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(Zg(o))t.push(o);else if(FV(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Vv=new _t("appBootstrapListener");function n4(n,e){return Array.isArray(e)?e.reduce(n4,n):{...n,...e}}let Wh=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=jt(hj),this.componentTypes=[],this.components=[],this.isStable=jt(jv).hasPendingTasks.pipe(Bt(t=>!t)),this._injector=jt(Ba)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof fC;if(!this._injector.get(jO).done)throw!r&&function un(n){const e=lt(n)||Dt(n)||Ct(n);return null!==e&&e.standalone}(t),new Pe(405,!1);let s;s=r?t:this._injector.get(pd).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Zoe(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Ap),l=s.create(xi.NULL,[],i||s.selector,a),d=l.location.nativeElement,h=l.injector.get(Zz,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),YC(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new Pe(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;YC(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(Vv,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>YC(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Pe(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function YC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let tse=(()=>{class n{constructor(){this.zone=jt(gn),this.applicationRef=jt(Wh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nse(){const n=jt(gn),e=jt(hc);return t=>n.runOutsideAngular(()=>e.handleError(t))}let rse=(()=>{class n{constructor(){this.subscription=new mt,this.initialized=!1,this.zone=jt(gn),this.pendingTasks=jt(jv)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{gn.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{gn.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const bd=new _t("LocaleId",{providedIn:"root",factory:()=>jt(bd,Mi.Optional|Mi.SkipSelf)||function ose(){return typeof $localize<"u"&&$localize.locale||Qg}()}),UO=new _t("PlatformDestroyListeners");let s4=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function Vee(n="zone.js",e){return"noop"===n?new jee:"zone.js"===n?new gn(e):n}(i?.ngZone,function o4(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function Ere(n,e,t){return new xO(n,e,t)}(t.moduleType,this.injector,function r4(n){return[{provide:gn,useFactory:n},{provide:ad,multi:!0,useFactory:()=>{const e=jt(tse,{optional:!0});return()=>e.initialize()}},{provide:ad,multi:!0,useFactory:()=>{const e=jt(rse);return()=>{e.initialize()}}},{provide:hj,useFactory:nse}]}(()=>r)),s=o.injector.get(hc,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{YC(this._modules,o),a.unsubscribe()})}),function t4(n,e,t){try{const i=t();return Zg(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(jO);return a.runInitializers(),a.donePromise.then(()=>(function hV(n){Hs(n,"Expected localeId to be defined"),"string"==typeof n&&(uV=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(bd,Qg)||Qg),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=n4({},i);return function Qoe(n,e,t){const i=new EO(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(Wh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Pe(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(UO,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(et(xi))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),$h=null;const a4=new _t("AllowMultipleToken");function c4(n,e,t=[]){const i=`Platform: ${e}`,r=new _t(i);return(o=[])=>{let s=VO();if(!s||s.injector.get(a4,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function cse(n){if($h&&!$h.get(a4,!1))throw new Pe(400,!1);(function e4(){!function R(n){Je=n}(()=>{throw new Pe(600,!1)})})(),$h=n;const e=n.get(s4);(function d4(n){n.get(bE,null)?.forEach(t=>t())})(n)}(function l4(n=[],e){return xi.create({name:e,providers:[{provide:Cb,useValue:"platform"},{provide:UO,useValue:new Set([()=>$h=null])},...n]})}(a,i))}return function lse(n){const e=VO();if(!e)throw new Pe(401,!1);return e}()}}function VO(){return $h?.get(s4)??null}const mse=c4(null,"core",[]);let gse=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(et(Wh))};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({})}return n})();function Xi(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function P4(n,e=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?e:Number(n)}let KO=null;function Xh(){return KO}class Hse{}const Qn=new _t("DocumentToken");let k4=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:()=>jt(Gse),providedIn:"platform"})}return n})(),Gse=(()=>{class n extends k4{constructor(){super(),this._doc=jt(Qn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xh().getBaseHref(this._doc)}onPopState(t){const i=Xh().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Xh().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function N4(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function F4(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ip(n){return n&&"?"!==n[0]?"?"+n:n}let r1=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:()=>jt($se),providedIn:"root"})}return n})();const Wse=new _t("appBaseHref");let $se=(()=>{class n extends r1{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??jt(Qn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return N4(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ip(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Ip(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Ip(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(k4),et(Wse,8))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dp=(()=>{class n{constructor(t){this._subject=new qt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function qse(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(F4(L4(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ip(i))}normalize(t){return n.stripTrailingSlash(function Yse(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,L4(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ip(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ip(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=Ip;static#t=this.joinWithSlash=N4;static#n=this.stripTrailingSlash=F4;static#i=this.\u0275fac=function(i){return new(i||n)(et(r1))};static#r=this.\u0275prov=It({token:n,factory:()=>function Xse(){return new Dp(et(r1))}(),providedIn:"root"})}return n})();function L4(n){return n.replace(/\/index.html$/,"")}var r_=function(n){return n[n.Zero=0]="Zero",n[n.One=1]="One",n[n.Two=2]="Two",n[n.Few=3]="Few",n[n.Many=4]="Many",n[n.Other=5]="Other",n}(r_||{});const iae=function lV(n){return function wa(n){const e=function die(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=dV(e);if(t)return t;const i=e.split("-")[0];if(t=dV(i),t)return t;if("en"===i)return lie;throw new Pe(701,!1)}(n)[Br.PluralCase]};let oR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:function(i){let r=null;return i?r=new i:(o=et(bd),r=new Rae(o)),r;var o},providedIn:"root"})}return n})();let Rae=(()=>{class n extends oR{constructor(t){super(),this.locale=t}getPluralCategory(t,i){switch(iae(i||this.locale)(t)){case r_.Zero:return"zero";case r_.One:return"one";case r_.Two:return"two";case r_.Few:return"few";case r_.Many:return"many";default:return"other"}}static#e=this.\u0275fac=function(i){return new(i||n)(et(bd))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})();function $4(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const sR=/\s+/,X4=[];let m1=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=X4,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(sR):X4}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(sR):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(sR).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(Te(pi),Te(xo),Te(In),Te(Vc))};static#t=this.\u0275dir=Jt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class kae{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xc=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new kae(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),q4(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{q4(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(Te(ms),Te(za),Te(pi))};static#t=this.\u0275dir=Jt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function q4(n,e){n.context.$implicit=e.item}let Ha=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Nae,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){K4("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){K4("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(Te(ms),Te(za))};static#t=this.\u0275dir=Jt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Nae{constructor(){this.$implicit=null,this.ngIf=null}}function K4(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ti(e)}'.`)}let Q4=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static#e=this.\u0275fac=function(i){return new(i||n)(Te(ms))};static#t=this.\u0275dir=Jt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ji]})}return n})();function Ml(n,e){return new Pe(2100,!1)}class Vae{createSubscription(e,t){return u(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){u(()=>e.unsubscribe())}}class zae{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const Hae=new zae,Gae=new Vae;let vd=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(Zg(t))return Hae;if(FV(t))return Gae;throw Ml()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Ii,16))};static#t=this.\u0275pipe=yo({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Zae=/#/g;let Z4=(()=>{class n{constructor(t){this._localization=t}transform(t,i,r){if(null==t)return"";if("object"!=typeof i||null===i)throw Ml();return i[function W4(n,e,t,i){let r=`=${n}`;if(e.indexOf(r)>-1||(r=t.getPluralCategory(n,i),e.indexOf(r)>-1))return r;if(e.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${n}"`)}(t,Object.keys(i),this._localization,r)].replace(Zae,t.toString())}static#e=this.\u0275fac=function(i){return new(i||n)(Te(oR,16))};static#t=this.\u0275pipe=yo({name:"i18nPlural",type:n,pure:!0,standalone:!0})}return n})(),eH=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=yo({name:"json",type:n,pure:!1,standalone:!0})}return n})(),Oi=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({})}return n})();const nH="browser",sce="server";function wd(n){return n===nH}function $v(n){return n===sce}class iH{}class Rce extends Hse{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fR extends Rce{static makeCurrent(){!function zse(n){KO||(KO=n)}(new fR)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Pce(){return Yv=Yv||document.querySelector("base"),Yv?Yv.getAttribute("href"):null}();return null==t?null:function kce(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){Yv=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return $4(document.cookie,e)}}let Yv=null,Fce=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})();const pR=new _t("EventManagerPlugins");let aH=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new Pe(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(et(pR),et(gn))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})();class cH{constructor(e){this._doc=e}}const mR="ng-app-id";let lH=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$v(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${mR}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(mR),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(mR,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn),et(op),et(Db,8),et(Ss))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})();const gR={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_R=/%COMP%/g,Uce=new _t("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function uH(n,e){return e.map(t=>t.replace(_R,n))}let yR=(()=>{class n{constructor(t,i,r,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=$v(a),this.defaultRenderer=new bR(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ua.ShadowDom&&(i={...i,encapsulation:ua.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof fH?r.applyToHost(t):r instanceof vR&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case ua.Emulated:o=new fH(c,l,i,this.appId,d,s,a,h);break;case ua.ShadowDom:return new Gce(c,l,t,i,s,a,this.nonce,h);default:o=new vR(c,l,i,d,s,a,h)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(et(aH),et(lH),et(op),et(Uce),et(Qn),et(Ss),et(gn),et(Db))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})();class bR{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(gR[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(hH(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(hH(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new Pe(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=gR[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=gR[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(ud.DashCase|ud.Important)?e.style.setProperty(t,i,r&ud.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ud.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Xh().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function hH(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Gce extends bR{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=uH(r.id,r.styles);for(const d of l){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vR extends bR{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?uH(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class fH extends vR{constructor(e,t,i,r,o,s,a,c){const l=r+"-"+i.id;super(e,t,i,o,s,a,c,l),this.contentAttr=function Vce(n){return"_ngcontent-%COMP%".replace(_R,n)}(l),this.hostAttr=function zce(n){return"_nghost-%COMP%".replace(_R,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Wce=(()=>{class n extends cH{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})();const pH=["alt","control","meta","shift"],$ce={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xce={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yce=(()=>{class n extends cH{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xh().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),pH.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=$ce[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),pH.forEach(s=>{s!==r&&(0,Xce[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})();const gH=[{provide:Ss,useValue:nH},{provide:bE,useValue:function qce(){fR.makeCurrent()},multi:!0},{provide:Qn,useFactory:function Jce(){return function hI(n){Ib=n}(document),document},deps:[]}],Qce=c4(mse,"browser",gH),Zce=new _t(""),_H=[{provide:XC,useClass:class Nce{addToWindow(e){Ni.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Pe(5103,!1);return o},Ni.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ni.getAllAngularRootElements=()=>e.getAllRootElements(),Ni.frameworkStabilizers||(Ni.frameworkStabilizers=[]),Ni.frameworkStabilizers.push(i=>{const r=Ni.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Xh().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Zz,useClass:NO,deps:[gn,FO,XC]},{provide:NO,useClass:NO,deps:[gn,FO,XC]}],yH=[{provide:Cb,useValue:"root"},{provide:hc,useFactory:function Kce(){return new hc},deps:[]},{provide:pR,useClass:Wce,multi:!0,deps:[Qn,gn,Ss]},{provide:pR,useClass:Yce,multi:!0,deps:[Qn]},yR,lH,aH,{provide:dv,useExisting:yR},{provide:iH,useClass:Fce,deps:[]},[]];let wR=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:op,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(et(Zce,12))};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({providers:[...yH,..._H],imports:[Oi,gse]})}return n})();typeof window<"u"&&window;let Op=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:function(i){let r=null;return r=i?new(i||n):et(xH),r},providedIn:"root"})}return n})(),xH=(()=>{class n extends Op{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Uo.NONE:return i;case Uo.HTML:return Uc(i,"HTML")?ba(i):sC(this._doc,String(i)).toString();case Uo.STYLE:return Uc(i,"Style")?ba(i):i;case Uo.SCRIPT:if(Uc(i,"Script"))return ba(i);throw new Pe(5200,!1);case Uo.URL:return Uc(i,"URL")?ba(i):Eg(String(i));case Uo.RESOURCE_URL:if(Uc(i,"ResourceURL"))return ba(i);throw new Pe(5201,!1);default:throw new Pe(5202,!1)}}bypassSecurityTrustHtml(t){return function Js(n){return new WI(n)}(t)}bypassSecurityTrustStyle(t){return function YI(n){return new Jb(n)}(t)}bypassSecurityTrustScript(t){return function qI(n){return new $I(n)}(t)}bypassSecurityTrustUrl(t){return function KI(n){return new Qb(n)}(t)}bypassSecurityTrustResourceUrl(t){return function JE(n){return new XI(n)}(t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn))};static#t=this.\u0275prov=It({token:n,factory:function(i){let r=null;return r=i?new i:function ole(n){return new xH(n.get(Qn))}(et(xi)),r},providedIn:"root"})}return n})();const ER={now:()=>(ER.delegate||Date).now(),delegate:void 0};class qh extends rn{constructor(e=1/0,t=1/0,i=ER){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}function Pt(n,e,t,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}function Go(n,e){return function(t,i){e(t,i,n)}}function Fe(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)}function Kh(n){return this instanceof Kh?(this.v=n,this):new Kh(n)}function TH(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function TR(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const MR=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function MH(n){return Oe(n?.then)}function IH(n){return Oe(n[tc])}function DH(n){return Symbol.asyncIterator&&Oe(n?.[Symbol.asyncIterator])}function OH(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const RH=function Cle(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function PH(n){return Oe(n?.[RH])}function kH(n){return function AH(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(f){i[f]&&(r[f]=function(m){return new Promise(function(g,v){o.push([f,m,g,v])>1||a(f,m)})})}function a(f,m){try{!function c(f){f.value instanceof Kh?Promise.resolve(f.value.v).then(l,d):h(o[0][2],f)}(i[f](m))}catch(g){h(o[0][3],g)}}function l(f){a("next",f)}function d(f){a("throw",f)}function h(f,m){f(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield Kh(t.read());if(r)return yield Kh(void 0);yield yield Kh(i)}}finally{t.releaseLock()}})}function NH(n){return Oe(n?.getReader)}function Zr(n){if(n instanceof Et)return n;if(null!=n){if(IH(n))return function Sle(n){return new Et(e=>{const t=n[tc]();if(Oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(MR(n))return function Ale(n){return new Et(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(MH(n))return function Tle(n){return new Et(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ct)})}(n);if(DH(n))return FH(n);if(PH(n))return function Mle(n){return new Et(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(NH(n))return function Ile(n){return FH(kH(n))}(n)}throw OH(n)}function FH(n){return new Et(e=>{(function Dle(n,e){var t,i,r,o;return function CH(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{l(i.next(d))}catch(h){s(h)}}function c(d){try{l(i.throw(d))}catch(h){s(h)}}function l(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=TH(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Pu(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Wo(n,e,t=1/0){return Oe(e)?Wo((i,r)=>Bt((o,s)=>e(i,o,r,s))(Zr(n(i,r))),t):("number"==typeof e&&(t=e),_i((i,r)=>function Ole(n,e,t,i,r,o,s,a){const c=[];let l=0,d=0,h=!1;const f=()=>{h&&!c.length&&!l&&e.complete()},m=v=>l<i?g(v):c.push(v),g=v=>{o&&e.next(v),l++;let C=!1;Zr(t(v,d++)).subscribe(wn(e,B=>{r?.(B),o?m(B):e.next(B)},()=>{C=!0},void 0,()=>{if(C)try{for(l--;c.length&&l<i;){const B=c.shift();s?Pu(e,s,()=>g(B)):g(B)}f()}catch(B){e.error(B)}}))};return n.subscribe(wn(e,m,()=>{h=!0,f()})),()=>{a?.()}}(i,r,n,t)))}function qv(n=1/0){return Wo(cs,n)}const ea=new Et(n=>n.complete());function LH(n){return n&&Oe(n.schedule)}function IR(n){return n[n.length-1]}function DR(n){return Oe(IR(n))?n.pop():void 0}function Kv(n){return LH(IR(n))?n.pop():void 0}function BH(n,e=0){return _i((t,i)=>{t.subscribe(wn(i,r=>Pu(i,n,()=>i.next(r),e),()=>Pu(i,n,()=>i.complete(),e),r=>Pu(i,n,()=>i.error(r),e)))})}function jH(n,e=0){return _i((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function UH(n,e){if(!n)throw new Error("Iterable cannot be null");return new Et(t=>{Pu(t,e,()=>{const i=n[Symbol.asyncIterator]();Pu(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function qr(n,e){return e?function Ule(n,e){if(null!=n){if(IH(n))return function Nle(n,e){return Zr(n).pipe(jH(e),BH(e))}(n,e);if(MR(n))return function Lle(n,e){return new Et(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(MH(n))return function Fle(n,e){return Zr(n).pipe(jH(e),BH(e))}(n,e);if(DH(n))return UH(n,e);if(PH(n))return function Ble(n,e){return new Et(t=>{let i;return Pu(t,e,()=>{i=n[RH](),Pu(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>Oe(i?.return)&&i.return()})}(n,e);if(NH(n))return function jle(n,e){return UH(kH(n),e)}(n,e)}throw OH(n)}(n,e):Zr(n)}function Ms(...n){const e=Kv(n),t=function kle(n,e){return"number"==typeof IR(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?Zr(i[0]):qv(t)(qr(i,e)):ea}function Dr(n,e){return _i((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(wn(i,c=>{r?.unsubscribe();let l=0;const d=o++;Zr(n(c,d)).subscribe(r=wn(i,h=>i.next(e?e(c,h,d,l++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}const y1={schedule(n,e){const t=setTimeout(n,e);return()=>clearTimeout(t)},scheduleBeforeRender(n){if(typeof window>"u")return y1.schedule(n,0);if(typeof window.requestAnimationFrame>"u")return y1.schedule(n,16);const e=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(e)}};let OR;function qle(n,e,t){let i=t;return function zle(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&e.some((r,o)=>!("*"===r||!function Gle(n,e){if(!OR){const t=Element.prototype;OR=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&OR.call(n,e)}(n,r)||(i=o,0))),i}class Jle{constructor(e,t){this.componentFactory=t.get(pd).resolveComponentFactory(e)}create(e){return new Qle(this.componentFactory,e)}}class Qle{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new qh(1),this.events=this.eventEmitters.pipe(Dr(i=>Ms(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(gn),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=y1.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t,i){this.runInZone(()=>{i&&(t=i.call(this.componentRef?.instance,t)),null!==this.componentRef?function Wle(n,e){return n===e||n!=n&&e!=e}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)})}initializeComponent(e){const t=xi.create({providers:[],parent:this.injector}),i=function Yle(n,e){const t=n.childNodes,i=e.map(()=>[]);let r=-1;e.some((o,s)=>"*"===o&&(r=s,!0));for(let o=0,s=t.length;o<s;++o){const a=t[o],c=qle(a,e,r);-1!==c&&i[c].push(a)}return i}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(Ii),this.implementsOnChanges=function Hle(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(Wh).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e,transform:t})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e),t)}),this.initialInputValues.clear()}initializeOutputs(e){const t=this.componentFactory.outputs.map(({propName:i,templateName:r})=>e.instance[i].pipe(Bt(s=>({name:r,value:s}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=y1.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[e];if(i)return void(i.currentValue=t);const r=this.unchangedInputs.has(e),o=r?void 0:this.getInputValue(e);this.inputChanges[e]=new Ex(o,t,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class Zle extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}const tde=new _t("cdk-dir-doc",{providedIn:"root",factory:function nde(){return jt(Qn)}}),ide=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let RR,Il=(()=>{class n{constructor(t){this.value="ltr",this.change=new qt,t&&(this.value=function rde(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?ide.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(et(tde,8))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({})}return n})();try{RR=typeof Intl<"u"&&Intl.v8BreakIterator}catch{RR=!1}let o_,ao=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?wd(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!RR)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(et(Ss))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const VH=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function zH(){if(o_)return o_;if("object"!=typeof document||!document)return o_=new Set(VH),o_;let n=document.createElement("input");return o_=new Set(VH.filter(e=>(n.setAttribute("type",e),n.type===e))),o_}let Qv,Rp,PR;function s_(n){return function ode(){if(null==Qv&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Qv=!0}))}finally{Qv=Qv||!1}return Qv}()?n:!!n.capture}function sde(){if(null==Rp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Rp=!1,Rp;if("scrollBehavior"in document.documentElement.style)Rp=!0;else{const n=Element.prototype.scrollTo;Rp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Rp}function kR(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function ku(n){return n.composedPath?n.composedPath()[0]:n.target}function NR(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ei(n){return _i((e,t)=>{Zr(n).subscribe(wn(t,()=>t.complete(),ft)),!t.closed&&e.subscribe(t)})}function vi(n,e){return _i((t,i)=>{let r=0;t.subscribe(wn(i,o=>n.call(e,o,r++)&&i.next(o)))})}function xd(n={}){const{connector:e=(()=>new rn),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,l=0,d=!1,h=!1;const f=()=>{a?.unsubscribe(),a=void 0},m=()=>{f(),s=c=void 0,d=h=!1},g=()=>{const v=s;m(),v?.unsubscribe()};return _i((v,C)=>{l++,!h&&!d&&f();const B=c=c??e();C.add(()=>{l--,0===l&&!h&&!d&&(a=FR(g,r))}),B.subscribe(C),!s&&l>0&&(s=new qi({next:z=>B.next(z),error:z=>{h=!0,f(),a=FR(m,t,z),B.error(z)},complete:()=>{d=!0,f(),a=FR(m,i),B.complete()}}),Zr(v).subscribe(s))})(o)}}function FR(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new qi({next:()=>{i.unsubscribe(),n()}});return Zr(e(...t)).subscribe(i)}function Yc(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,xd({connector:()=>new qh(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class lde{constructor(e){this._box=e,this._destroyed=new rn,this._resizeSubject=new rn,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Et(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(vi(t=>t.some(i=>i.target===e)),Yc({bufferSize:1,refCount:!0}),Ei(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let dde=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=jt(gn)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new lde(r)),this._observers.get(r).observe(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mi(n){return null!=n&&"false"!=`${n}`}function gs(n,e=0){return function ude(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function v1(n){return Array.isArray(n)?n:[n]}function $o(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Jh(n){return n instanceof In?n.nativeElement:n}const Nu="*";function qc(n,e){return{type:7,name:n,definitions:e,options:{}}}function _s(n,e=null){return{type:4,styles:e,timings:n}}function LR(n,e=null){return{type:3,steps:n,options:e}}function er(n){return{type:6,styles:n,offset:null}}function To(n,e,t){return{type:0,name:n,styles:e,options:t}}function ys(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function BR(n=null){return{type:9,options:n}}function jR(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}class Zv{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class HH{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}let _de=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({providers:[_de]})}return n})();function Mn(...n){return qr(n,Kv(n))}function Ga(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function tr(n,e,t){const i=Oe(n)||e||t?{next:n,error:e,complete:t}:n;return i?_i((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(wn(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):cs}class Ode extends mt{constructor(e,t){super()}schedule(e,t=0){return this}}const E1={setInterval(n,e,...t){const{delegate:i}=E1;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=E1;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class zR extends Ode{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return E1.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&E1.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ut(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}class t0{constructor(e,t=t0.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}t0.now=ER.now;class HR extends t0{constructor(e,t=t0.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const l_=new HR(zR),Rde=l_;function YH(n,e=l_){return _i((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,d=e.now();if(d<l)return r=this.schedule(void 0,l-d),void i.add(r);a()}t.subscribe(wn(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function cr(n){return n<=0?()=>ea:_i((e,t)=>{let i=0;e.subscribe(wn(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function GR(n){return vi((e,t)=>n<=t)}function ta(n,e=cs){return n=n??Pde,_i((t,i)=>{let r,o=!0;t.subscribe(wn(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function Pde(n,e){return n===e}const{isArray:kde}=Array,{getPrototypeOf:Nde,prototype:Fde,keys:Lde}=Object;function qH(n){if(1===n.length){const e=n[0];if(kde(e))return{args:e,keys:null};if(function Bde(n){return n&&"object"==typeof n&&Nde(n)===Fde}(e)){const t=Lde(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:jde}=Array;function C1(n){return Bt(e=>function Ude(n,e){return jde(e)?n(...e):n(e)}(n,e))}function KH(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Mo(...n){const e=Kv(n),t=DR(n),{args:i,keys:r}=qH(n);if(0===i.length)return qr([],e);const o=new Et(function Vde(n,e,t=cs){return i=>{JH(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)JH(e,()=>{const l=qr(n[c],e);let d=!1;l.subscribe(wn(i,h=>{o[c]=h,d||(d=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>KH(r,s):cs));return t?o.pipe(C1(t)):o}function JH(n,e,t){n?Pu(t,n,e):e()}function n0(...n){return function zde(){return qv(1)}()(qr(n,Kv(n)))}function is(...n){const e=Kv(n);return _i((t,i)=>{(e?n0(n,t,e):n0(n,t)).subscribe(i)})}const QH=new Set;let Pp,Hde=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Wde}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Gde(n,e){if(!QH.has(n))try{Pp||(Pp=document.createElement("style"),e&&(Pp.nonce=e),Pp.setAttribute("type","text/css"),document.head.appendChild(Pp)),Pp.sheet&&(Pp.sheet.insertRule(`@media ${n} {body{ }}`,0),QH.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(ao),et(Db,8))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wde(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let ZH=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new rn}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return e8(v1(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Mo(e8(v1(t)).map(s=>this._registerQuery(s).observable));return o=n0(o.pipe(cr(1)),o.pipe(GR(1),YH(0))),o.pipe(Bt(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Et(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(is(i),Bt(({matches:s})=>({query:t,matches:s})),Ei(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(et(Hde),et(gn))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function e8(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function S1(n,e,t){const i=A1(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))}function d_(n,e,t){const r=A1(n,e).filter(o=>o!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}function A1(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const n8="cdk-describedby-message",T1="cdk-describedby-host";let WR=0,Xde=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+WR++,this._document=t,this._id=jt(op)+"-"+WR++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const o=$R(i,r);"string"!=typeof i?(i8(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const o=$R(i,r);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),"string"==typeof i){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${T1}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(T1);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");i8(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set($R(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=A1(t,"aria-describedby").filter(r=>0!=r.indexOf(n8));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);S1(t,"aria-describedby",r.messageElement.id),t.setAttribute(T1,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,d_(t,"aria-describedby",r.messageElement.id),t.removeAttribute(T1)}_isElementDescribedByMessage(t,i){const r=A1(t,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=t.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn),et(ao))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $R(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function i8(n,e){n.id||(n.id=`${n8}-${e}-${WR++}`)}class r8{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new rn,this._typeaheadSubscription=mt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new rn,this.change=new rn,e instanceof e_&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(tr(t=>this._pressedLetters.push(t)),YH(e),vi(()=>this._pressedLetters.length>0),Bt(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||Ga(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof e_?this._items.toArray():this._items}}class o8 extends r8{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class Yde extends r8{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let XR=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Kde(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function qde(n){try{return n.frameElement}catch{return null}}(function rue(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===a8(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=a8(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function nue(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function iue(n){return!function Qde(n){return function eue(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Jde(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Zde(n){return function tue(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||s8(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(et(ao))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function s8(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function a8(n){if(!s8(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class oue{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(cr(1)).subscribe(e)}}let c8=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new oue(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(et(XR),et(gn),et(Qn))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function l8(n){return 0===n.buttons||0===n.detail}function d8(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const sue=new _t("cdk-input-modality-detector-options"),aue={ignoreKeys:[18,17,224,91,16]},u_=s_({passive:!0,capture:!0});let cue=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new hr(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ku(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(l8(s)?"keyboard":"mouse"),this._mostRecentTarget=ku(s))},this._onTouchstart=s=>{d8(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ku(s))},this._options={...aue,...o},this.modalityDetected=this._modality.pipe(GR(1)),this.modalityChanged=this.modalityDetected.pipe(ta()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,u_),r.addEventListener("mousedown",this._onMousedown,u_),r.addEventListener("touchstart",this._onTouchstart,u_)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,u_),document.removeEventListener("mousedown",this._onMousedown,u_),document.removeEventListener("touchstart",this._onTouchstart,u_))}static#e=this.\u0275fac=function(i){return new(i||n)(et(ao),et(gn),et(Qn),et(sue,8))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const lue=new _t("liveAnnouncerElement",{providedIn:"root",factory:function due(){return null}}),uue=new _t("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let hue=0,h8=(()=>{class n{constructor(t,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+hue++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(t)&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static#e=this.\u0275fac=function(i){return new(i||n)(et(lue,8),et(gn),et(Qn),et(uue,8))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const fue=new _t("cdk-focus-monitor-default-options"),M1=s_({passive:!0,capture:!0});let Fu=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new rn,this._rootNodeFocusAndBlurListener=a=>{for(let l=ku(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=Jh(t);if(!this._platform.isBrowser||1!==r.nodeType)return Mn();const o=function cde(n){if(function ade(){if(null==PR){const n=typeof document<"u"?document.head:null;PR=!(!n||!n.createShadowRoot&&!n.attachShadow)}return PR}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new rn,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Jh(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Jh(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=ku(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,M1),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,M1)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ei(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,M1),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,M1),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(et(gn),et(ao),et(cue),et(Qn,8),et(fue,8))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const f8="cdk-high-contrast-black-on-white",p8="cdk-high-contrast-white-on-black",YR="cdk-high-contrast-active";let m8=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=jt(ZH).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(YR,f8,p8),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(YR,f8):2===i&&t.add(YR,p8)}}static#e=this.\u0275fac=function(i){return new(i||n)(et(ao),et(Qn))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),g8=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(et(m8))};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[GH]})}return n})();const pue=["text"];function mue(n,e){if(1&n&&_n(0,"mat-pseudo-checkbox",6),2&n){const t=Sn();Ot("disabled",t.disabled)("state",t.selected?"checked":"unchecked")}}function gue(n,e){1&n&&_n(0,"mat-pseudo-checkbox",7),2&n&&Ot("disabled",Sn().disabled)}function _ue(n,e){if(1&n&&(nt(0,"span",8),Wt(1),ot()),2&n){const t=Sn();pt(1),oo("(",t.group.label,")")}}const yue=[[["mat-icon"]],"*"],bue=["mat-icon","*"],wue=new _t("mat-sanity-checks",{providedIn:"root",factory:function vue(){return!0}});let nr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!NR()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(et(m8),et(wue,8),et(Qn))};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Jv,Jv]})}return n})();function b8(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=mi(e)}constructor(...e){super(...e),this._disabled=!1}}}function qR(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function I1(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=mi(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function h_(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?gs(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}function KR(n){return class extends n{updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let D1=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Eue{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const v8=s_({passive:!0,capture:!0});class Cue{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=ku(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,v8)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,v8)))}}const w8={enterDuration:225,exitDuration:150},x8=s_({passive:!0,capture:!0}),E8=["mousedown","touchstart"],C8=["mouseup","mouseleave","touchend","touchcancel"];class O1{static#e=this._eventManager=new Cue;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Jh(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...w8,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function Aue(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-s+"px",d.style.top=c-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);const h=window.getComputedStyle(d),m=h.transitionDuration,g="none"===h.transitionProperty||"0s"===m||"0s, 0s"===m||0===r.width&&0===r.height,v=new Eue(this,d,i,g);d.style.transform="scale3d(1, 1, 1)",v.state=0,i.persistent||(this._mostRecentTransientRipple=v);let C=null;return!g&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const B=()=>this._finishRippleTransition(v),z=()=>this._destroyRipple(v);d.addEventListener("transitionend",B),d.addEventListener("transitioncancel",z),C={onTransitionEnd:B,onTransitionCancel:z}}),this._activeRipples.set(v,C),(g||!l)&&this._finishRippleTransition(v),v}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...w8,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Jh(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,E8.forEach(i=>{O1._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{C8.forEach(t=>{this._triggerElement.addEventListener(t,this,x8)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=l8(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!d8(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(E8.forEach(t=>O1._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&C8.forEach(t=>e.removeEventListener(t,this,x8)))}}const o0=new _t("mat-ripple-global-options");let Wa=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new O1(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In),Te(gn),Te(ao),Te(o0,8),Te(ro,8))};static#t=this.\u0275dir=Jt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&pn("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),mc=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[nr,nr]})}return n})(),Tue=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||n)(Te(ro,8))};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&pn("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),Mue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[nr]})}return n})();const JR=new _t("MAT_OPTION_PARENT_COMPONENT"),QR=new _t("MatOptgroup");let Iue=0;class S8{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let s0=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=t}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,i,r,o){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Iue++,this.onSelectionChange=new qt,this._stateChanges=new rn}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Ga(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new S8(this,t))}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In),Te(Ii),Te(JR,8),Te(QR,8))};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-option"]],viewQuery:function(i,r){if(1&i&&Di(pue,7),2&i){let o;An(o=Tn())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&Ft("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&i&&(Zs("id",r.id),oi("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),pn("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:["disabled","disabled",Xi]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],features:[gd],ngContentSelectors:bue,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled"],["class","cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,r){1&i&&(vr(yue),hn(0,mue,1,2,"mat-pseudo-checkbox",0),Bn(1),nt(2,"span",1,2),Bn(4,1),ot(),hn(5,gue,1,1,"mat-pseudo-checkbox",3)(6,_ue,2,1,"span",4),_n(7,"div",5)),2&i&&(Vi(0,r.multiple?0:-1),pt(5),Vi(5,r.multiple||!r.selected||r.hideSingleSelectionIndicator?-1:5),pt(1),Vi(6,r.group&&r.group._inert?6:-1),pt(1),Ot("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[Wa,Tue],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();function A8(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),o=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}function T8(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}let M8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[mc,nr,Mue]})}return n})();const I8={capture:!0},D8=["focus","click","mouseenter","touchstart"],ZR="mat-ripple-loader-uninitialized",eP="mat-ripple-loader-class-name",O8="mat-ripple-loader-centered",R1="mat-ripple-loader-disabled";let R8=(()=>{class n{constructor(){this._document=jt(Qn,{optional:!0}),this._animationMode=jt(ro,{optional:!0}),this._globalRippleOptions=jt(o0,{optional:!0}),this._platform=jt(ao),this._ngZone=jt(gn),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${ZR}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of D8)this._document?.addEventListener(t,this._onInteraction,I8)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of D8)this._document?.removeEventListener(i,this._onInteraction,I8)}configureRipple(t,i){t.setAttribute(ZR,""),(i.className||!t.hasAttribute(eP))&&t.setAttribute(eP,i.className||""),i.centered&&t.setAttribute(O8,""),i.disabled&&t.setAttribute(R1,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const r=this._hosts.get(t);r?r.disabled=i:i?t.setAttribute(R1,""):t.removeAttribute(R1)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(eP)),t.append(r);const o=new Wa(new In(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(O8),o.disabled=t.hasAttribute(R1),this.attachRipple(t,o),o}attachRipple(t,i){t.removeAttribute(ZR),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Due=["notch"],Oue=["matFormFieldNotchedOutline",""],Rue=["*"],Pue=["textField"],kue=["iconPrefixContainer"],Nue=["textPrefixContainer"];function Fue(n,e){1&n&&_n(0,"span",16)}function Lue(n,e){if(1&n&&(nt(0,"label",14),Bn(1,1),hn(2,Fue,1,0,"span",15),ot()),2&n){const t=Sn(2);Ot("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),oi("for",t._control.id),pt(2),Vi(2,!t.hideRequiredMarker&&t._control.required?2:-1)}}function Bue(n,e){1&n&&hn(0,Lue,3,5,"label",14),2&n&&Vi(0,Sn()._hasFloatingLabel()?0:-1)}function jue(n,e){1&n&&_n(0,"div",17)}function Uue(n,e){}function Vue(n,e){1&n&&hn(0,Uue,0,0,"ng-template",9),2&n&&(Sn(2),Ot("ngTemplateOutlet",ts(1)))}function zue(n,e){if(1&n&&(nt(0,"div",5),hn(1,Vue,1,1,null,9),ot()),2&n){const t=Sn();Ot("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),pt(1),Vi(1,t._forceDisplayInfixLabel()?-1:1)}}function Hue(n,e){1&n&&(nt(0,"div",18,19),Bn(2,2),ot())}function Gue(n,e){1&n&&(nt(0,"div",20,21),Bn(2,3),ot())}function Wue(n,e){}function $ue(n,e){1&n&&hn(0,Wue,0,0,"ng-template",9),2&n&&(Sn(),Ot("ngTemplateOutlet",ts(1)))}function Xue(n,e){1&n&&(nt(0,"div",22),Bn(1,4),ot())}function Yue(n,e){1&n&&(nt(0,"div",23),Bn(1,5),ot())}function que(n,e){1&n&&_n(0,"div",12)}function Kue(n,e){1&n&&(nt(0,"div",24),Bn(1,6),ot()),2&n&&Ot("@transitionMessages",Sn()._subscriptAnimationState)}function Jue(n,e){if(1&n&&(nt(0,"mat-hint",26),Wt(1),ot()),2&n){const t=Sn(2);Ot("id",t._hintLabelId),pt(1),So(t.hintLabel)}}function Que(n,e){if(1&n&&(nt(0,"div",25),hn(1,Jue,2,2,"mat-hint",26),Bn(2,7),_n(3,"div",27),Bn(4,8),ot()),2&n){const t=Sn();Ot("@transitionMessages",t._subscriptAnimationState),pt(1),Vi(1,t.hintLabel?1:-1)}}const Zue=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ehe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Qh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Jt({type:n,selectors:[["mat-label"]]})}return n})(),the=0;const P8=new _t("MatError");let nhe=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+the++,t||i.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(i){return new(i||n)(qs("aria-live"),Te(In))};static#t=this.\u0275dir=Jt({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&Zs("id",r.id)},inputs:{id:"id"},features:[Yn([{provide:P8,useExisting:n}])]})}return n})(),ihe=0,k8=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+ihe++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Jt({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(Zs("id",r.id),oi("align",null),pn("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const N8=new _t("MatPrefix");let rhe=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Jt({type:n,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:["matTextPrefix","_isTextSelector"]},features:[Yn([{provide:N8,useExisting:n}])]})}return n})();const F8=new _t("MatSuffix");let tP=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Jt({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Yn([{provide:F8,useExisting:n}])]})}return n})();const L8=new _t("FloatingLabelParent");let B8=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=jt(dde),this._ngZone=jt(gn),this._parent=jt(L8),this._resizeSubscription=new mt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function ohe(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In))};static#t=this.\u0275dir=Jt({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&pn("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const j8="mdc-line-ripple--active",P1="mdc-line-ripple--deactivating";let U8=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(P1);"opacity"===r.propertyName&&s&&o.remove(j8,P1)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(P1),t.add(j8)}deactivate(){this._elementRef.nativeElement.classList.add(P1)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In),Te(gn))};static#t=this.\u0275dir=Jt({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),V8=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In),Te(gn))};static#t=this.\u0275cmp=dn({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&Di(Due,5),2&i){let o;An(o=Tn())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&pn("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Oue,ngContentSelectors:Rue,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(vr(),_n(0,"div",0),nt(1,"div",1,2),Bn(3),ot(),_n(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const she={transitionMessages:qc("transitionMessages",[To("enter",er({opacity:1,transform:"translateY(0%)"})),ys("void => enter",[er({opacity:0,transform:"translateY(-5px)"}),_s("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let k1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Jt({type:n})}return n})();const a0=new _t("MatFormField"),z8=new _t("MAT_FORM_FIELD_DEFAULT_OPTIONS");let H8=0,Zh=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=mi(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,o,s,a,c,l){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+H8++,this._hintLabelId="mat-mdc-hint-"+H8++,this._subscriptAnimationState="",this._destroyed=new rn,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Ei(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Ms(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ei(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Ei(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In),Te(Ii),Te(gn),Te(Il),Te(ao),Te(z8,8),Te(ro,8),Te(Qn))};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(dr(o,Qh,5),dr(o,Qh,7),dr(o,k1,5),dr(o,N8,5),dr(o,F8,5),dr(o,P8,5),dr(o,k8,5)),2&i){let s;An(s=Tn())&&(r._labelChildNonStatic=s.first),An(s=Tn())&&(r._labelChildStatic=s.first),An(s=Tn())&&(r._formFieldControl=s.first),An(s=Tn())&&(r._prefixChildren=s),An(s=Tn())&&(r._suffixChildren=s),An(s=Tn())&&(r._errorChildren=s),An(s=Tn())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(Di(Pue,5),Di(kue,5),Di(Nue,5),Di(B8,5),Di(V8,5),Di(U8,5)),2&i){let o;An(o=Tn())&&(r._textField=o.first),An(o=Tn())&&(r._iconPrefixContainer=o.first),An(o=Tn())&&(r._textPrefixContainer=o.first),An(o=Tn())&&(r._floatingLabel=o.first),An(o=Tn())&&(r._notchedOutline=o.first),An(o=Tn())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&pn("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Yn([{provide:a0,useExisting:n},{provide:L8,useExisting:n}])],ngContentSelectors:ehe,decls:18,vars:21,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],["class","mat-mdc-form-field-icon-prefix"],["class","mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],["class","mat-mdc-form-field-text-suffix"],["class","mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(1&i&&(vr(Zue),hn(0,Bue,1,1,"ng-template",null,0,Lv),nt(2,"div",1,2),Ft("click",function(s){return r._control.onContainerClick(s)}),hn(4,jue,1,0,"div",3),nt(5,"div",4),hn(6,zue,2,2,"div",5)(7,Hue,3,0,"div",6)(8,Gue,3,0,"div",7),nt(9,"div",8),hn(10,$ue,1,1,null,9),Bn(11),ot(),hn(12,Xue,2,0,"div",10)(13,Yue,2,0,"div",11),ot(),hn(14,que,1,0,"div",12),ot(),nt(15,"div",13),hn(16,Kue,2,1)(17,Que,5,2),ot()),2&i){let o;pt(2),pn("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),pt(2),Vi(4,r._hasOutline()||r._control.disabled?-1:4),pt(2),Vi(6,r._hasOutline()?6:-1),pt(1),Vi(7,r._hasIconPrefix?7:-1),pt(1),Vi(8,r._hasTextPrefix?8:-1),pt(2),Vi(10,!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),pt(2),Vi(12,r._hasTextSuffix?12:-1),pt(1),Vi(13,r._hasIconSuffix?13:-1),pt(1),Vi(14,r._hasOutline()?-1:14),pt(1),pn("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),pt(1),Vi(16,"error"===(o=r._getDisplayedMessages())?16:"hint"===o?17:-1)}},dependencies:[Q4,k8,B8,V8,U8],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[she.transitionMessages]},changeDetection:0})}return n})(),ef=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[nr,Oi,GH,nr]})}return n})();function tf(n,e){const t=Oe(n)?n:()=>n,i=r=>r.error(t());return new Et(e?r=>e.schedule(i,0,r):i)}function c0(...n){const e=DR(n),{args:t,keys:i}=qH(n),r=new Et(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let d=0;d<s;d++){let h=!1;Zr(t[d]).subscribe(wn(o,f=>{h||(h=!0,l--),a[d]=f},()=>c--,void 0,()=>{(!c||!h)&&(l||o.next(i?KH(i,a):a),o.complete())}))}});return e?r.pipe(C1(e)):r}function $a(n){return _i((e,t)=>{let o,i=null,r=!1;i=e.subscribe(wn(t,void 0,void 0,s=>{o=Zr(n(s,$a(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function kp(n){return _i((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function $8(n,e,t,i,r,o,s){try{var a=n[o](s),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(i,r)}function fn(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(c){$8(o,i,r,s,a,"next",c)}function a(c){$8(o,i,r,s,a,"throw",c)}s(void 0)})}}function f_(n,e){return Oe(e)?Wo(n,e,1):Wo(n,1)}class N1{}class F1{}class gc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof gc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new gc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof gc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class lhe{encodeKey(e){return X8(e)}encodeValue(e){return X8(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const uhe=/%(\d[a-f0-9])/gi,hhe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function X8(n){return encodeURIComponent(n).replace(uhe,(e,t)=>hhe[t]??e)}function L1(n){return`${n}`}class Or{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new lhe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function dhe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(L1):[L1(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Or({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(L1(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(L1(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Io{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Y8(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function q8(n){return typeof Blob<"u"&&n instanceof Blob}function K8(n){return typeof FormData<"u"&&n instanceof FormData}class l0{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function fhe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new gc),this.context||(this.context=new Io),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Or,this.urlWithParams=t}serializeBody(){return null===this.body?null:Y8(this.body)||q8(this.body)||K8(this.body)||function phe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Or?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||K8(this.body)?null:q8(this.body)?this.body.type||null:Y8(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Or?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const d=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),l)),new l0(t,i,o,{params:l,headers:c,context:d,reportProgress:a,responseType:r,withCredentials:s})}}var nf=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(nf||{});class nP{constructor(e,t=200,i="OK"){this.headers=e.headers||new gc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class B1 extends nP{constructor(e={}){super(e),this.type=nf.ResponseHeader}clone(e={}){return new B1({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Np extends nP{constructor(e={}){super(e),this.type=nf.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Np({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class p_ extends nP{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function iP(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let Cd=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof l0)o=t;else{let c,l;c=r.headers instanceof gc?r.headers:new gc(r.headers),r.params&&(l=r.params instanceof Or?r.params:new Or({fromObject:r.params})),o=new l0(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=Mn(o).pipe(f_(c=>this.handler.handle(c)));if(t instanceof l0||"events"===r.observe)return s;const a=s.pipe(vi(c=>c instanceof Np));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Bt(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Bt(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Bt(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Bt(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Or).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,iP(r,i))}post(t,i,r={}){return this.request("POST",t,iP(r,i))}put(t,i,r={}){return this.request("PUT",t,iP(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(et(N1))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})();function Q8(n,e){return e(n)}function bhe(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const whe=new _t(""),d0=new _t(""),Z8=new _t(""),e5=new _t("");function xhe(){let n=null;return(e,t)=>{null===n&&(n=(jt(whe,{optional:!0})??[]).reduceRight(bhe,Q8));const i=jt(jv),r=i.add();return n(e,t).pipe(kp(()=>i.remove(r)))}}let t5=(()=>{class n extends N1{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=jt(jv);const r=jt(e5,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(d0),...this.injector.get(Z8,[])]));this.chain=r.reduceRight((o,s)=>function vhe(n,e,t){return(i,r)=>function vu(n,e){n instanceof Dh&&n.assertNotDestroyed();const i=Xl(n),r=Gs(void 0);try{return e()}finally{Xl(i),Gs(r)}}(t,()=>e(i,o=>n(o,r)))}(o,s,this.injector),Q8)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(kp(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(et(F1),et(Ba))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})();const The=/^\)\]\}',?\n/;let i5=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Pe(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?qr(i.\u0275loadImpl()):Mn(null)).pipe(Dr(()=>new Et(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((v,C)=>s.setRequestHeader(v,C.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const v=t.detectContentTypeHeader();null!==v&&s.setRequestHeader("Content-Type",v)}if(t.responseType){const v=t.responseType.toLowerCase();s.responseType="json"!==v?v:"text"}const a=t.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const v=s.statusText||"OK",C=new gc(s.getAllResponseHeaders()),B=function Mhe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new B1({headers:C,status:s.status,statusText:v,url:B}),c},d=()=>{let{headers:v,status:C,statusText:B,url:z}=l(),le=null;204!==C&&(le=typeof s.response>"u"?s.responseText:s.response),0===C&&(C=le?200:0);let se=C>=200&&C<300;if("json"===t.responseType&&"string"==typeof le){const ke=le;le=le.replace(The,"");try{le=""!==le?JSON.parse(le):null}catch($e){le=ke,se&&(se=!1,le={error:$e,text:le})}}se?(o.next(new Np({body:le,headers:v,status:C,statusText:B,url:z||void 0})),o.complete()):o.error(new p_({error:le,headers:v,status:C,statusText:B,url:z||void 0}))},h=v=>{const{url:C}=l(),B=new p_({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:C||void 0});o.error(B)};let f=!1;const m=v=>{f||(o.next(l()),f=!0);let C={type:nf.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(C.total=v.total),"text"===t.responseType&&s.responseText&&(C.partialText=s.responseText),o.next(C)},g=v=>{let C={type:nf.UploadProgress,loaded:v.loaded};v.lengthComputable&&(C.total=v.total),o.next(C)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),t.reportProgress&&(s.addEventListener("progress",m),null!==a&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),o.next({type:nf.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",h),t.reportProgress&&(s.removeEventListener("progress",m),null!==a&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(et(iH))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})();const sP=new _t("XSRF_ENABLED"),r5=new _t("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),o5=new _t("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class s5{}let Ohe=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=$4(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn),et(Ss),et(r5))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})();function Rhe(n,e){const t=n.url.toLowerCase();if(!jt(sP)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=jt(s5).getToken(),r=jt(o5);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var rf=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(rf||{});function Phe(...n){const e=[Cd,i5,t5,{provide:N1,useExisting:t5},{provide:F1,useExisting:i5},{provide:d0,useValue:Rhe,multi:!0},{provide:sP,useValue:!0},{provide:s5,useClass:Ohe}];for(const t of n)e.push(...t.\u0275providers);return function wl(n){return{\u0275providers:n}}(e)}const a5=new _t("LEGACY_INTERCEPTOR_FN");function khe(){return function Fp(n,e){return{\u0275kind:n,\u0275providers:e}}(rf.LegacyInterceptors,[{provide:a5,useFactory:xhe},{provide:d0,useExisting:a5,multi:!0}])}let c5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({providers:[Phe(khe())]})}return n})();const Uhe=["*"];let U1;function u0(n){return function Vhe(){if(void 0===U1&&(U1=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(U1=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return U1}()?.createHTML(n)||n}function m5(n){return Error(`Unable to find icon with the name "${n}"`)}function g5(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function _5(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Lp{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let h0=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new Lp(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const s=this._sanitizer.sanitize(Uo.HTML,r);if(!s)throw _5(r);const a=u0(s);return this._addSvgIconConfig(t,i,new Lp("",a,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Lp(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(Uo.HTML,i);if(!o)throw _5(i);const s=u0(o);return this._addSvgIconSetConfig(t,new Lp("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(Uo.RESOURCE_URL,t);if(!i)throw g5(t);const r=this._cachedIconsByUrl.get(i);return r?Mn(V1(r)):this._loadSvgIconFromConfig(new Lp(t,null)).pipe(tr(o=>this._cachedIconsByUrl.set(i,o)),Bt(o=>V1(o)))}getNamedSvgIcon(t,i=""){const r=y5(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):tf(m5(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Mn(V1(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Bt(i=>V1(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Mn(r):c0(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe($a(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(Uo.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),Mn(null)})))).pipe(Bt(()=>{const s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw m5(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(tr(i=>t.svgText=i),Bt(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Mn(null):this._fetchIcon(t).pipe(tr(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(u0("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(u0("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function zhe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(Uo.RESOURCE_URL,i);if(!s)throw g5(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Bt(l=>u0(l)),kp(()=>this._inProgressUrlFetches.delete(s)),xd());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(y5(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return Ghe(o)?new Lp(o.url,null,o.options):new Lp(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(et(Cd,8),et(Op),et(Qn,8),et(hc))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function V1(n){return n.cloneNode(!0)}function y5(n,e){return n+":"+e}function Ghe(n){return!(!n.url||!n.options)}const Whe=qR(class{constructor(n){this._elementRef=n}}),$he=new _t("MAT_ICON_DEFAULT_OPTIONS"),Xhe=new _t("mat-icon-location",{providedIn:"root",factory:function Yhe(){const n=jt(Qn),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),b5=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],qhe=b5.map(n=>`[${n}]`).join(", "),Khe=/^url\(['"]?#(.*?)['"]?\)$/;let na=(()=>{class n extends Whe{get inline(){return this._inline}set inline(t){this._inline=mi(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,o,s,a){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=mt.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(qhe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)b5.forEach(s=>{const a=i[o],c=a.getAttribute(s),l=c?c.match(Khe):null;if(l){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:l[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(cr(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In),Te(h0),qs("aria-hidden"),Te(Xhe),Te(hc),Te($he,8))};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(oi("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),pn("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Gn],ngContentSelectors:Uhe,decls:1,vars:0,template:function(i,r){1&i&&(vr(),Bn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),co=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[nr,nr]})}return n})();const Jhe=["mat-button",""],Qhe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Zhe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],efe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let tfe=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,i,r,o){this._elementRef=t,this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=jt(Fu),this._rippleLoader=jt(R8),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=this._elementRef.nativeElement,a=s.classList;for(const{attribute:c,mdcClasses:l}of efe)s.hasAttribute(c)&&a.add(...l)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){SD()};static#t=this.\u0275dir=Jt({type:n,inputs:{color:"color",disableRipple:["disableRipple","disableRipple",Xi],disabled:["disabled","disabled",Xi]},features:[gd]})}return n})(),m_=(()=>{class n extends tfe{constructor(t,i,r,o){super(t,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In),Te(ao),Te(gn),Te(ro,8))};static#t=this.\u0275cmp=dn({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:9,hostBindings:function(i,r){2&i&&(oi("disabled",r.disabled||null),Ci(r.color?"mat-"+r.color:""),pn("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Gn],attrs:Jhe,ngContentSelectors:Zhe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(vr(Qhe),_n(0,"span",0),Bn(1),nt(2,"span",1),Bn(3,1),ot(),Bn(4,2),_n(5,"span",2)(6,"span",3)),2&i&&pn("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);--mdc-text-button-container-shape:4px;--mdc-text-button-container-height:36px;--mdc-text-button-keep-touch-target:false}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);--mdc-filled-button-container-shape:4px;--mdc-filled-button-container-elevation:0;--mdc-filled-button-disabled-container-elevation:0;--mdc-filled-button-focus-container-elevation:0;--mdc-filled-button-hover-container-elevation:0;--mdc-filled-button-keep-touch-target:false;--mdc-filled-button-pressed-container-elevation:0}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);--mdc-protected-button-container-shape:4px;--mdc-protected-button-keep-touch-target:false}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled][disabled]{box-shadow:none}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);--mdc-outlined-button-keep-touch-target:false;--mdc-outlined-button-outline-width:1px;--mdc-outlined-button-container-shape:4px}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),Lu=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[nr,mc,nr]})}return n})();class aP{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class g_ extends aP{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class __ extends aP{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class ife extends aP{constructor(e){super(),this.element=e instanceof In?e.nativeElement:e}}class z1{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof g_?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof __?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof ife?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class rfe extends z1{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||xi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let y_=(()=>{class n extends z1{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new qt,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(Te(pd),Te(ms),Te(Qn))};static#t=this.\u0275dir=Jt({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Gn]})}return n})(),Bu=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({})}return n})();const ofe=["addListener","removeListener"],sfe=["addEventListener","removeEventListener"],afe=["on","off"];function Bp(n,e,t,i){if(Oe(t)&&(i=t,t=void 0),i)return Bp(n,e,t).pipe(C1(i));const[r,o]=function dfe(n){return Oe(n.addEventListener)&&Oe(n.removeEventListener)}(n)?sfe.map(s=>a=>n[s](e,a,t)):function cfe(n){return Oe(n.addListener)&&Oe(n.removeListener)}(n)?ofe.map(v5(n,e)):function lfe(n){return Oe(n.on)&&Oe(n.off)}(n)?afe.map(v5(n,e)):[];if(!r&&MR(n))return Wo(s=>Bp(s,e,t))(Zr(n));if(!r)throw new TypeError("Invalid event target");return new Et(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function v5(n,e){return t=>i=>n[t](e,i)}const f0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=f0;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new mt(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=f0;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=f0;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class hfe extends HR{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class ufe extends zR{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=f0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(f0.cancelAnimationFrame(t),e._scheduled=void 0)}});let cP,pfe=1;const H1={};function w5(n){return n in H1&&(delete H1[n],!0)}const mfe={setImmediate(n){const e=pfe++;return H1[e]=!0,cP||(cP=Promise.resolve()),cP.then(()=>w5(e)&&n()),e},clearImmediate(n){w5(n)}},{setImmediate:gfe,clearImmediate:_fe}=mfe,G1={setImmediate(...n){const{delegate:e}=G1;return(e?.setImmediate||gfe)(...n)},clearImmediate(n){const{delegate:e}=G1;return(e?.clearImmediate||_fe)(n)},delegate:void 0};new class bfe extends HR{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class yfe extends zR{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=G1.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(G1.clearImmediate(t),e._scheduled=void 0)}});function p0(n=0,e,t=Rde){let i=-1;return null!=e&&(LH(e)?t=e:i=e),new Et(r=>{let o=function xfe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function x5(n,e=l_){return function wfe(n){return _i((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(wn(t,l=>{i=!0,r=l,o||Zr(n(l)).subscribe(o=wn(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>p0(n,e))}let E5=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new rn,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Et(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(x5(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Mn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(vi(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Jh(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Bp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(et(gn),et(ao),et(Qn,8))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),W1=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new rn,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(x5(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(et(ao),et(gn),et(Qn,8))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({})}return n})(),C5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Jv,$1,Jv,$1]})}return n})();function S5(n,e=!1){return _i((t,i)=>{let r=0;t.subscribe(wn(i,o=>{const s=n(o,r++);(s||e)&&i.next(o),!s&&i.complete()}))})}const A5=sde();class Sfe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=$o(-this._previousScrollPosition.left),e.style.top=$o(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),A5&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),A5&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Afe{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(vi(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class T5{enable(){}disable(){}attach(){}}function lP(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function M5(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Tfe{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();lP(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Mfe=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new T5,this.close=s=>new Afe(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Sfe(this._viewportRuler,this._document),this.reposition=s=>new Tfe(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(et(E5),et(W1),et(gn),et(Qn))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class m0{constructor(e){if(this.scrollStrategy=new T5,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Ife{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let I5=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dfe=(()=>{class n extends I5{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn),et(gn,8))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ofe=(()=>{class n extends I5{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=ku(o)},this._clickListener=o=>{const s=ku(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const d=c[l];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(a))break;const h=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn),et(ao),et(gn,8))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),g0=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||NR()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),NR()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn),et(ao))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class X1{constructor(e,t,i,r,o,s,a,c,l,d=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new rn,this._attachments=new rn,this._detachments=new rn,this._locationChanges=mt.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new rn,this._outsidePointerEvents=new rn,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(cr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=$o(this._config.width),e.height=$o(this._config.height),e.minWidth=$o(this._config.minWidth),e.minHeight=$o(this._config.minHeight),e.maxWidth=$o(this._config.maxWidth),e.maxHeight=$o(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=v1(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ei(Ms(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const D5="cdk-overlay-connected-position-bounding-box",Rfe=/([A-Za-z%]+)$/;class Pfe{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new rn,this._resizeSubscription=mt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(D5),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,t,a),d=this._getOverlayFit(l,t,i,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(d,l,i)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const l of o){const d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&jp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(D5),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=R5(t);let{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let f=0-a,m=a+o.height-i.height,g=this._subtractOverflows(o.width,0-s,s+o.width-i.width),v=this._subtractOverflows(o.height,f,m),C=g*v;return{visibleArea:C,isCompletelyWithinViewport:o.width*o.height===C,fitsInViewportVertically:v===o.height,fitsInViewportHorizontally:g==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=O5(this._overlayRef.getConfig().minHeight),a=O5(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=R5(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0);let d=0,h=0;return d=r.width<=o.width?l||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,h=r.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:d,y:h},{x:e.x+d,y:e.y+h}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Ife(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,d,h,f;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const m=Math.min(i.bottom-e.y+i.top,e.y),g=this._lastBoundingBoxSize.height;o=2*m,s=e.y-m,o>g&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-g/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)f=i.width-e.x+this._viewportMargin,d=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)h=e.x,d=i.right-e.x;else{const m=Math.min(i.right-e.x+i.left,e.x),g=this._lastBoundingBoxSize.width;d=2*m,h=e.x-m,d>g&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.x-g/2)}return{top:s,left:h,bottom:a,right:f,width:d,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=$o(i.height),r.top=$o(i.top),r.bottom=$o(i.bottom),r.width=$o(i.width),r.left=$o(i.left),r.right=$o(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=$o(o)),s&&(r.maxWidth=$o(s))}this._lastBoundingBoxSize=i,jp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){jp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){jp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();jp(i,this._getExactOverlayY(t,e,d)),jp(i,this._getExactOverlayX(t,e,d))}else i.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=$o(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=$o(s.maxWidth):o&&(i.maxWidth="")),jp(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=$o(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=$o(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:M5(e,i),isOriginOutsideView:lP(e,i),isOverlayClipped:M5(t,i),isOverlayOutsideView:lP(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&v1(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof In)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function jp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function O5(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Rfe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function R5(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const P5="cdk-global-overlay-wrapper";class kfe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(P5),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,h=this._xOffset,f="rtl"===this._overlayRef.getConfig().direction;let m="",g="",v="";c?v="flex-start":"center"===d?(v="center",f?g=h:m=h):f?"left"===d||"end"===d?(v="flex-end",m=h):("right"===d||"start"===d)&&(v="flex-start",g=h):"left"===d||"start"===d?(v="flex-start",m=h):("right"===d||"end"===d)&&(v="flex-end",g=h),e.position=this._cssPosition,e.marginLeft=c?"0":m,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":g,t.justifyContent=v,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(P5),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Nfe=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new kfe}flexibleConnectedTo(t){return new Pfe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(et(W1),et(Qn),et(ao),et(g0))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ffe=0,rs=(()=>{class n{constructor(t,i,r,o,s,a,c,l,d,h,f,m){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=d,this._location=h,this._outsideClickDispatcher=f,this._animationsModuleType=m}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new m0(t);return s.direction=s.direction||this._directionality.value,new X1(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Ffe++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Wh)),new rfe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Mfe),et(g0),et(pd),et(Nfe),et(Dfe),et(xi),et(gn),et(Qn),et(Il),et(Dp),et(Ofe),et(ro,8))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Lfe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],k5=new _t("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=jt(rs);return()=>n.scrollStrategies.reposition()}});let dP=(()=>{class n{constructor(t){this.elementRef=t}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In))};static#t=this.\u0275dir=Jt({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),N5=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}constructor(t,i,r,o,s){this._overlay=t,this._dir=s,this._backdropSubscription=mt.EMPTY,this._attachSubscription=mt.EMPTY,this._detachSubscription=mt.EMPTY,this._positionSubscription=mt.EMPTY,this._disposeOnNavigation=!1,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new qt,this.positionChange=new qt,this.attach=new qt,this.detach=new qt,this.overlayKeydown=new qt,this.overlayOutsideClick=new qt,this._templatePortal=new __(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Lfe);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Ga(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new m0({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof dP?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(S5(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(Te(rs),Te(za),Te(ms),Te(k5),Te(Il,8))};static#t=this.\u0275dir=Jt({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop",Xi],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition",Xi],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Xi],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Xi],push:["cdkConnectedOverlayPush","push",Xi],disposeOnNavigation:["cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Xi]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[gd,Ji]})}return n})();const jfe={provide:k5,deps:[rs],useFactory:function Bfe(n){return()=>n.scrollStrategies.reposition()}};let _0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({providers:[rs,jfe],imports:[Jv,Bu,C5,C5]})}return n})();function Ufe(n,e){if(1&n){const t=Co();nt(0,"div",1)(1,"button",2),Ft("click",function(){return Fi(t),Jn(Sn().action())}),Wt(2),ot()()}if(2&n){const t=Sn();pt(2),oo(" ",t.data.action," ")}}const Vfe=["label"];function zfe(n,e){}const Hfe=Math.pow(2,31)-1;class uP{constructor(e,t){this._overlayRef=t,this._afterDismissed=new rn,this._afterOpened=new rn,this._onAction=new rn,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,Hfe))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const hP=new _t("MatSnackBarData");class Y1{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let F5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Jt({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return n})(),L5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Jt({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return n})(),B5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Jt({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return n})(),j5=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(i){return new(i||n)(Te(uP),Te(hP))};static#t=this.\u0275cmp=dn({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Hh],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(nt(0,"div",0),Wt(1),ot(),hn(2,Ufe,3,1,"div",1)),2&i&&(pt(1),oo(" ",r.data.message,"\n"),pt(1),Vi(2,r.hasAction?2:-1))},dependencies:[Lu,m_,F5,L5,B5,Oi],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return n})();const Gfe={snackBarState:qc("state",[To("void, hidden",er({transform:"scale(0.8)",opacity:0})),To("visible",er({transform:"scale(1)",opacity:1})),ys("* => visible",_s("150ms cubic-bezier(0, 0, 0.2, 1)")),ys("* => void, * => hidden",_s("75ms cubic-bezier(0.4, 0.0, 1, 1)",er({opacity:0})))])};let Wfe=0,fP=(()=>{class n extends z1{constructor(t,i,r,o,s){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._document=jt(Qn),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new rn,this._onExit=new rn,this._onEnter=new rn,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Wfe++,this.attachDomPortal=a=>{this._assertNotAttached();const c=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),c},this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(cr(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(s=>t.classList.add(s)):t.classList.add(i)),this._exposeToModals();const r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){const t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?-1===s.indexOf(t)&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const i=t.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(i){return new(i||n)(Te(gn),Te(In),Te(Ii),Te(ao),Te(Y1))};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&(Di(y_,7),Di(Vfe,7)),2&i){let o;An(o=Tn())&&(r._portalOutlet=o.first),An(o=Tn())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,r){1&i&&jC("@state.done",function(s){return r.onAnimationEnd(s)}),2&i&&Iv("@state",r._animationState)},standalone:!0,features:[Gn,Hh],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(nt(0,"div",0)(1,"div",1,2)(3,"div",3),hn(4,zfe,0,0,"ng-template",4),ot(),_n(5,"div"),ot()()),2&i&&(pt(5),oi("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Bu,y_],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Gfe.snackBarState]}})}return n})();const Xfe=new _t("mat-snack-bar-default-options",{providedIn:"root",factory:function $fe(){return new Y1}});let U5=(()=>{class n{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,i,r,o,s,a){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=a,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=j5,this.snackBarContainerComponent=fP,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const o={...this._defaultConfig,...r};return o.data={message:t,action:i},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const o=xi.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Y1,useValue:i}]}),s=new g_(this.snackBarContainerComponent,i.viewContainerRef,o),a=t.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(t,i){const r={...new Y1,...this._defaultConfig,...i},o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new uP(s,o);if(t instanceof za){const c=new __(t,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{const c=this._createInjector(r,a),l=new g_(t,void 0,c),d=s.attachComponentPortal(l);a.instance=d.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Ei(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new m0;i.direction=t.direction;let r=this._overlay.position().global();const o="rtl"===t.direction,s="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!o||"end"===t.horizontalPosition&&o,a=!s&&"center"!==t.horizontalPosition;return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return xi.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:uP,useValue:i},{provide:hP,useValue:t.data}]})}static#e=this.\u0275fac=function(i){return new(i||n)(et(rs),et(h8),et(xi),et(ZH),et(n,12),et(Xfe))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yfe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({providers:[U5],imports:[_0,Bu,Lu,nr,j5,fP,nr]})}return n})();function V5(n){return new Pe(3e3,!1)}function sf(n){switch(n.length){case 0:return new Zv;case 1:return n[0];default:return new HH(n)}}function z5(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),d=l==s,h=d&&a||new Map;c.forEach((f,m)=>{let g=m,v=f;if("offset"!==m)switch(g=n.normalizePropertyName(g,r),v){case"!":v=t.get(m);break;case Nu:v=i.get(m);break;default:v=n.normalizeStyleValue(m,g,v,r)}h.set(g,v)}),d||o.push(h),a=h,s=l}),r.length)throw function _pe(n){return new Pe(3502,!1)}();return o}function pP(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&mP(t,"start",n)));break;case"done":n.onDone(()=>i(t&&mP(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&mP(t,"destroy",n)))}}function mP(n,e,t){const o=gP(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function gP(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function _c(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function H5(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Ipe=(()=>typeof document>"u"?null:document.documentElement)();function _P(n){const e=n.parentNode||n.host||null;return e===Ipe?null:e}let Up=null,G5=!1;function W5(n,e){for(;e;){if(e===n)return!0;e=_P(e)}return!1}function $5(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let yP=(()=>{class n{validateStyleProperty(t){return function Ope(n){Up||(Up=function Rpe(){return typeof document<"u"?document.body:null}()||{},G5=!!Up.style&&"WebkitAppearance"in Up.style);let e=!0;return Up.style&&!function Dpe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Up.style,!e&&G5&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Up.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return W5(t,i)}getParentElement(t){return _P(t)}query(t,i,r){return $5(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new Zv(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})(),bP=(()=>{class n{static#e=this.NOOP=new yP}return n})();class vP{}const kpe=1e3,wP="ng-enter",q1="ng-leave",K1="ng-trigger",J1=".ng-trigger",Y5="ng-animating",xP=".ng-animating";function ju(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:EP(parseFloat(e[1]),e[2])}function EP(n,e){return"s"===e?n*kpe:n}function Q1(n,e,t){return n.hasOwnProperty("duration")?n:function Fpe(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(V5()),{duration:0,delay:0,easing:""};r=EP(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=EP(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function qfe(){return new Pe(3100,!1)}()),a=!0),o<0&&(e.push(function Kfe(){return new Pe(3101,!1)}()),a=!0),a&&e.splice(c,0,V5())}return{duration:r,delay:o,easing:s}}(n,e,t)}function y0(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function q5(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function af(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Sd(n,e,t){e.forEach((i,r)=>{const o=SP(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Vp(n,e){e.forEach((t,i)=>{const r=SP(i);n.style[r]=""})}function b0(n){return Array.isArray(n)?1==n.length?n[0]:function fde(n,e=null){return{type:2,steps:n,options:e}}(n):n}const CP=new RegExp("{{\\s*(.+?)\\s*}}","g");function J5(n){let e=[];if("string"==typeof n){let t;for(;t=CP.exec(n);)e.push(t[1]);CP.lastIndex=0}return e}function v0(n,e,t){const i=n.toString(),r=i.replace(CP,(o,s)=>{let a=e[s];return null==a&&(t.push(function Qfe(n){return new Pe(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function Z1(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const jpe=/-+([a-z0-9])/g;function SP(n){return n.replace(jpe,(...e)=>e[1].toUpperCase())}function yc(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Zfe(n){return new Pe(3004,!1)}()}}function Q5(n,e){return window.getComputedStyle(n)[e]}const zpe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Z5 extends vP{normalizePropertyName(e,t){return SP(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(zpe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function epe(n,e){return new Pe(3005,!1)}())}return s+o}}const eS="*";function Hpe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Gpe(n,e,t){if(":"==n[0]){const c=function Wpe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function fpe(n){return new Pe(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function hpe(n){return new Pe(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(eG(r,s));"<"==o[0]&&!(r==eS&&s==eS)&&e.push(eG(s,r))}(i,t,e)):t.push(n),t}const tS=new Set(["true","1"]),nS=new Set(["false","0"]);function eG(n,e){const t=tS.has(n)||nS.has(n),i=tS.has(e)||nS.has(e);return(r,o)=>{let s=n==eS||n==r,a=e==eS||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?tS.has(n):nS.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?tS.has(e):nS.has(e)),s&&a}}const $pe=new RegExp("s*:selfs*,?","g");function AP(n,e,t,i){return new Xpe(n).build(e,t,i)}class Xpe{constructor(e){this._driver=e}build(e,t,i){const r=new Kpe(t);return this._resetContextStyleTimingState(r),yc(this,b0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function tpe(){return new Pe(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function npe(){return new Pe(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{J5(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&(Z1(o.values()),t.errors.push(function ipe(n,e){return new Pe(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=yc(this,b0(e.animation),t);return{type:1,matchers:Hpe(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:zp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>yc(this,i,t)),options:zp(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=yc(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:zp(e.options)}}visitAnimate(e,t){const i=function Qpe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return TP(Q1(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=TP(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=Q1(t,e);return TP(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:er({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=er(l)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Nu?i.push(a):t.errors.push(new Pe(3002,!1)):i.push(q5(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),d=l.get(c);let h=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(t.errors.push(function ope(n,e,t,i,r){return new Pe(3010,!1)}()),h=!1),o=d.startTime),h&&l.set(c,{startTime:o,endTime:r}),t.options&&function Bpe(n,e,t){const i=e.params||{},r=J5(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function Jfe(n){return new Pe(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function spe(){return new Pe(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const d=e.steps.map(B=>{const z=this._makeStyleAst(B,t);let le=null!=z.offset?z.offset:function Jpe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(z.styles),se=0;return null!=le&&(o++,se=z.offset=le),c=c||se<0||se>1,a=a||se<l,l=se,s.push(se),z});c&&t.errors.push(function ape(){return new Pe(3012,!1)}()),a&&t.errors.push(function cpe(){return new Pe(3200,!1)}());const h=e.steps.length;let f=0;o>0&&o<h?t.errors.push(function lpe(){return new Pe(3202,!1)}()):0==o&&(f=1/(h-1));const m=h-1,g=t.currentTime,v=t.currentAnimateTimings,C=v.duration;return d.forEach((B,z)=>{const le=f>0?z==m?1:f*z:s[z],se=le*C;t.currentTime=g+v.delay+se,v.duration=se,this._validateStyleAst(B,t),B.offset=le,i.styles.push(B)}),i}visitReference(e,t){return{type:8,animation:yc(this,b0(e.animation),t),options:zp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:zp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:zp(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function Ype(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace($pe,"")),n=n.replace(/@\*/g,J1).replace(/@\w+/g,t=>J1+"-"+t.slice(1)).replace(/:animating/g,xP),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,_c(t.collectedStyles,t.currentQuerySelector,new Map);const a=yc(this,b0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:zp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function dpe(){return new Pe(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Q1(e.timings,t.errors,!0);return{type:12,animation:yc(this,b0(e.animation),t),timings:i,options:null}}}class Kpe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function zp(n){return n?(n=y0(n)).params&&(n.params=function qpe(n){return n?y0(n):null}(n.params)):n={},n}function TP(n,e,t){return{duration:n,delay:e,easing:t}}function MP(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class iS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const tme=new RegExp(":enter","g"),ime=new RegExp(":leave","g");function IP(n,e,t,i,r,o=new Map,s=new Map,a,c,l=[]){return(new rme).buildKeyframes(n,e,t,i,r,o,s,a,c,l)}class rme{buildKeyframes(e,t,i,r,o,s,a,c,l,d=[]){l=l||new iS;const h=new DP(e,t,l,r,o,d,[]);h.options=c;const f=c.delay?ju(c.delay):0;h.currentTimeline.delayNextStep(f),h.currentTimeline.setStyles([s],null,h.errors,c),yc(this,i,h);const m=h.timelines.filter(g=>g.containsAnimation());if(m.length&&a.size){let g;for(let v=m.length-1;v>=0;v--){const C=m[v];if(C.element===t){g=C;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,h.errors,c)}return m.length?m.map(g=>g.buildKeyframes()):[MP(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:ju(v0(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?ju(i.duration):null,a=null!=i.delay?ju(i.delay):null;return 0!==s&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),yc(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=rS);const s=ju(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>yc(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?ju(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),yc(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Q1(t.params?v0(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?ju(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=rS);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{t.currentQueryIndex=d;const h=t.createSubContext(e.options,l);o&&h.delayNextStep(o),l===t.element&&(c=h.currentTimeline),yc(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,h.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const d=t.currentTimeline;c&&d.delayNextStep(c);const h=d.currentTime;yc(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}}const rS={};class DP{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new oS(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=ju(i.duration)),null!=i.delay&&(r.delay=ju(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=v0(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new DP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=rS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new ome(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(tme,"."+this._enterClassName)).replace(ime,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function upe(n){return new Pe(3014,!1)}()),a}}class oS{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new oS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Nu),this._currentKeyframe.set(t,Nu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function sme(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Nu)}else af(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const l=v0(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Nu),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=af(a,new Map,this._backFill);l.forEach((d,h)=>{"!"===d?e.add(h):d===Nu&&t.add(h)}),i||l.set("offset",c/this.duration),r.push(l)});const o=e.size?Z1(e.values()):[],s=t.size?Z1(t.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return MP(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class ome extends oS{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=af(e[0]);c.set("offset",0),o.push(c);const l=af(e[0]);l.set("offset",iG(a)),o.push(l);const d=e.length-1;for(let h=1;h<=d;h++){let f=af(e[h]);const m=f.get("offset");f.set("offset",iG((t+m*i)/s)),o.push(f)}i=s,t=0,r="",e=o}return MP(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function iG(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function rG(n,e,t,i,r,o,s,a,c,l,d,h,f){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:h,errors:f}}const OP={};class oG{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function ame(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,l,d){const h=[],f=this.ast.options&&this.ast.options.params||OP,g=this.buildStyles(i,a&&a.params||OP,h),v=c&&c.params||OP,C=this.buildStyles(r,v,h),B=new Set,z=new Map,le=new Map,se="void"===r,ke={params:cme(v,f),delay:this.ast.options?.delay},$e=d?[]:IP(e,t,this.ast.animation,o,s,g,C,ke,l,h);let dt=0;if($e.forEach(tt=>{dt=Math.max(tt.duration+tt.delay,dt)}),h.length)return rG(t,this._triggerName,i,r,se,g,C,[],[],z,le,dt,h);$e.forEach(tt=>{const bt=tt.element,Rt=_c(z,bt,new Set);tt.preStyleProps.forEach(wt=>Rt.add(wt));const Vt=_c(le,bt,new Set);tt.postStyleProps.forEach(wt=>Vt.add(wt)),bt!==t&&B.add(bt)});const gt=Z1(B.values());return rG(t,this._triggerName,i,r,se,g,C,$e,gt,z,le,dt)}}function cme(n,e){const t=y0(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class lme{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=y0(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=v0(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class ume{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new lme(r.style,r.options&&r.options.params||{},i))}),sG(this.states,"true","1"),sG(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new oG(e,r,this.states))}),this.fallbackTransition=function hme(n,e,t){return new oG(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function sG(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const fme=new iS;class pme{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=AP(this._driver,t,i,[]);if(i.length)throw function ype(n){return new Pe(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=z5(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=IP(this._driver,t,o,wP,q1,new Map,new Map,i,fme,r),s.forEach(d=>{const h=_c(a,d.element,new Map);d.postStyleProps.forEach(f=>h.set(f,null))})):(r.push(function bpe(){return new Pe(3300,!1)}()),s=[]),r.length)throw function vpe(n){return new Pe(3504,!1)}();a.forEach((d,h)=>{d.forEach((f,m)=>{d.set(m,this._driver.computeStyle(h,m,Nu))})});const l=sf(s.map(d=>{const h=a.get(d.element);return this._buildPlayer(d,new Map,h)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function wpe(n){return new Pe(3301,!1)}();return t}listen(e,t,i,r){const o=gP(t,"","","");return pP(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const aG="ng-animate-queued",RP="ng-animate-disabled",bme=[],cG={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vme={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Dl="__ng_removed";class PP{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Cme(n){return n??null}(i?e.value:e),i){const o=y0(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const w0="void",kP=new PP(w0);class wme{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Kc(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function xpe(n,e){return new Pe(3302,!1)}();if(null==i||0==i.length)throw function Epe(n){return new Pe(3303,!1)}();if(!function Sme(n){return"start"==n||"done"==n}(i))throw function Cpe(n,e){return new Pe(3400,!1)}();const o=_c(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=_c(this._engine.statesByElement,e,new Map);return a.has(t)||(Kc(e,K1),Kc(e,K1+"-"+t),a.set(t,kP)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Spe(n){return new Pe(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new NP(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Kc(e,K1),Kc(e,K1+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new PP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=kP),l.value!==w0&&c.value===l.value){if(!function Mme(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,l.params)){const v=[],C=o.matchStyles(c.value,c.params,v),B=o.matchStyles(l.value,l.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{Vp(e,C),Sd(e,B)})}return}const f=_c(this._engine.playersByElement,e,[]);f.forEach(v=>{v.namespaceId==this.id&&v.triggerName==t&&v.queued&&v.destroy()});let m=o.matchTransition(c.value,l.value,e,l.params),g=!1;if(!m){if(!r)return;m=o.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:c,toState:l,player:s,isFallbackTransition:g}),g||(Kc(e,aG),s.onStart(()=>{b_(e,aG)})),s.onDone(()=>{let v=this.players.indexOf(s);v>=0&&this.players.splice(v,1);const C=this._engine.playersByElement.get(e);if(C){let B=C.indexOf(s);B>=0&&C.splice(B,1)}}),this.players.push(s),f.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,J1,!0);i.forEach(r=>{if(r[Dl])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const d=this.trigger(e,l,w0,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&sf(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||kP,d=new PP(w0),h=new NP(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Dl];(!o||o===cG)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Kc(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=gP(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,pP(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class xme{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new wme(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(sS(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!sS(t))return;const o=t[Dl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Kc(e,RP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),b_(e,RP))}removeNode(e,t,i){if(sS(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Dl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return sS(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,J1,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,xP,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return sf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Dl];if(t&&t.setForRemoval){if(e[Dl]=cG,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(RP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Kc(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?sf(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Ape(n){return new Pe(3402,!1)}()}_flushAnimations(e,t){const i=new iS,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(xt=>{d.add(xt);const $t=this.driver.query(xt,".ng-animate-queued",!0);for(let Zt=0;Zt<$t.length;Zt++)d.add($t[Zt])});const h=this.bodyNode,f=Array.from(this.statesByElement.keys()),m=uG(f,this.collectedEnterElements),g=new Map;let v=0;m.forEach((xt,$t)=>{const Zt=wP+v++;g.set($t,Zt),xt.forEach(sn=>Kc(sn,Zt))});const C=[],B=new Set,z=new Set;for(let xt=0;xt<this.collectedLeaveElements.length;xt++){const $t=this.collectedLeaveElements[xt],Zt=$t[Dl];Zt&&Zt.setForRemoval&&(C.push($t),B.add($t),Zt.hasAnimation?this.driver.query($t,".ng-star-inserted",!0).forEach(sn=>B.add(sn)):z.add($t))}const le=new Map,se=uG(f,Array.from(B));se.forEach((xt,$t)=>{const Zt=q1+v++;le.set($t,Zt),xt.forEach(sn=>Kc(sn,Zt))}),e.push(()=>{m.forEach((xt,$t)=>{const Zt=g.get($t);xt.forEach(sn=>b_(sn,Zt))}),se.forEach((xt,$t)=>{const Zt=le.get($t);xt.forEach(sn=>b_(sn,Zt))}),C.forEach(xt=>{this.processLeaveNode(xt)})});const ke=[],$e=[];for(let xt=this._namespaceList.length-1;xt>=0;xt--)this._namespaceList[xt].drainQueuedTransitions(t).forEach(Zt=>{const sn=Zt.player,Nn=Zt.element;if(ke.push(sn),this.collectedEnterElements.length){const $i=Nn[Dl];if($i&&$i.setForMove){if($i.previousTriggersValues&&$i.previousTriggersValues.has(Zt.triggerName)){const Us=$i.previousTriggersValues.get(Zt.triggerName),po=this.statesByElement.get(Zt.element);if(po&&po.has(Zt.triggerName)){const Za=po.get(Zt.triggerName);Za.value=Us,po.set(Zt.triggerName,Za)}}return void sn.destroy()}}const Bi=!h||!this.driver.containsElement(h,Nn),yn=le.get(Nn),$r=g.get(Nn),Ai=this._buildInstruction(Zt,i,$r,yn,Bi);if(Ai.errors&&Ai.errors.length)return void $e.push(Ai);if(Bi)return sn.onStart(()=>Vp(Nn,Ai.fromStyles)),sn.onDestroy(()=>Sd(Nn,Ai.toStyles)),void r.push(sn);if(Zt.isFallbackTransition)return sn.onStart(()=>Vp(Nn,Ai.fromStyles)),sn.onDestroy(()=>Sd(Nn,Ai.toStyles)),void r.push(sn);const js=[];Ai.timelines.forEach($i=>{$i.stretchStartingKeyframe=!0,this.disabledNodes.has($i.element)||js.push($i)}),Ai.timelines=js,i.append(Nn,Ai.timelines),s.push({instruction:Ai,player:sn,element:Nn}),Ai.queriedElements.forEach($i=>_c(a,$i,[]).push(sn)),Ai.preStyleProps.forEach(($i,Us)=>{if($i.size){let po=c.get(Us);po||c.set(Us,po=new Set),$i.forEach((Za,Mc)=>po.add(Mc))}}),Ai.postStyleProps.forEach(($i,Us)=>{let po=l.get(Us);po||l.set(Us,po=new Set),$i.forEach((Za,Mc)=>po.add(Mc))})});if($e.length){const xt=[];$e.forEach($t=>{xt.push(function Tpe(n,e){return new Pe(3505,!1)}())}),ke.forEach($t=>$t.destroy()),this.reportError(xt)}const dt=new Map,gt=new Map;s.forEach(xt=>{const $t=xt.element;i.has($t)&&(gt.set($t,$t),this._beforeAnimationBuild(xt.player.namespaceId,xt.instruction,dt))}),r.forEach(xt=>{const $t=xt.element;this._getPreviousPlayers($t,!1,xt.namespaceId,xt.triggerName,null).forEach(sn=>{_c(dt,$t,[]).push(sn),sn.destroy()})});const tt=C.filter(xt=>fG(xt,c,l)),bt=new Map;dG(bt,this.driver,z,l,Nu).forEach(xt=>{fG(xt,c,l)&&tt.push(xt)});const Vt=new Map;m.forEach((xt,$t)=>{dG(Vt,this.driver,new Set(xt),c,"!")}),tt.forEach(xt=>{const $t=bt.get(xt),Zt=Vt.get(xt);bt.set(xt,new Map([...$t?.entries()??[],...Zt?.entries()??[]]))});const wt=[],Tt=[],Xt={};s.forEach(xt=>{const{element:$t,player:Zt,instruction:sn}=xt;if(i.has($t)){if(d.has($t))return Zt.onDestroy(()=>Sd($t,sn.toStyles)),Zt.disabled=!0,Zt.overrideTotalTime(sn.totalTime),void r.push(Zt);let Nn=Xt;if(gt.size>1){let yn=$t;const $r=[];for(;yn=yn.parentNode;){const Ai=gt.get(yn);if(Ai){Nn=Ai;break}$r.push(yn)}$r.forEach(Ai=>gt.set(Ai,Nn))}const Bi=this._buildAnimation(Zt.namespaceId,sn,dt,o,Vt,bt);if(Zt.setRealPlayer(Bi),Nn===Xt)wt.push(Zt);else{const yn=this.playersByElement.get(Nn);yn&&yn.length&&(Zt.parentPlayer=sf(yn)),r.push(Zt)}}else Vp($t,sn.fromStyles),Zt.onDestroy(()=>Sd($t,sn.toStyles)),Tt.push(Zt),d.has($t)&&r.push(Zt)}),Tt.forEach(xt=>{const $t=o.get(xt.element);if($t&&$t.length){const Zt=sf($t);xt.setRealPlayer(Zt)}}),r.forEach(xt=>{xt.parentPlayer?xt.syncPlayerEvents(xt.parentPlayer):xt.destroy()});for(let xt=0;xt<C.length;xt++){const $t=C[xt],Zt=$t[Dl];if(b_($t,q1),Zt&&Zt.hasAnimation)continue;let sn=[];if(a.size){let Bi=a.get($t);Bi&&Bi.length&&sn.push(...Bi);let yn=this.driver.query($t,xP,!0);for(let $r=0;$r<yn.length;$r++){let Ai=a.get(yn[$r]);Ai&&Ai.length&&sn.push(...Ai)}}const Nn=sn.filter(Bi=>!Bi.destroyed);Nn.length?Ame(this,$t,Nn):this.processLeaveNode($t)}return C.length=0,wt.forEach(xt=>{this.players.push(xt),xt.onDone(()=>{xt.destroy();const $t=this.players.indexOf(xt);this.players.splice($t,1)}),xt.play()}),wt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==w0;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,d=l!==o,h=_c(i,l,[]);this._getPreviousPlayers(l,d,s,a,t.toState).forEach(m=>{const g=m.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),m.destroy(),h.push(m)})}Vp(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,l=[],d=new Set,h=new Set,f=t.timelines.map(g=>{const v=g.element;d.add(v);const C=v[Dl];if(C&&C.removedBeforeQueried)return new Zv(g.duration,g.delay);const B=v!==c,z=function Tme(n){const e=[];return hG(n,e),e}((i.get(v)||bme).map(dt=>dt.getRealPlayer())).filter(dt=>!!dt.element&&dt.element===v),le=o.get(v),se=s.get(v),ke=z5(this._normalizer,g.keyframes,le,se),$e=this._buildPlayer(g,ke,z);if(g.subTimeline&&r&&h.add(v),B){const dt=new NP(e,a,v);dt.setRealPlayer($e),l.push(dt)}return $e});l.forEach(g=>{_c(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>function Eme(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,g.element,g))}),d.forEach(g=>Kc(g,Y5));const m=sf(f);return m.onDestroy(()=>{d.forEach(g=>b_(g,Y5)),Sd(c,t.toStyles)}),h.forEach(g=>{_c(r,g,[]).push(m)}),m}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Zv(e.duration,e.delay)}}class NP{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Zv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>pP(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){_c(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function sS(n){return n&&1===n.nodeType}function lG(n,e){const t=n.style.display;return n.style.display=e??"none",t}function dG(n,e,t,i,r){const o=[];t.forEach(c=>o.push(lG(c)));const s=[];i.forEach((c,l)=>{const d=new Map;c.forEach(h=>{const f=e.computeStyle(l,h,r);d.set(h,f),(!f||0==f.length)&&(l[Dl]=vme,s.push(l))}),n.set(l,d)});let a=0;return t.forEach(c=>lG(c,o[a++])),s}function uG(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function Kc(n,e){n.classList?.add(e)}function b_(n,e){n.classList?.remove(e)}function Ame(n,e,t){sf(t).onDone(()=>n.processLeaveNode(e))}function hG(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof HH?hG(i.players,e):e.push(i)}}function fG(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class x0{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new xme(e.body,t,i),this._timelineEngine=new pme(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],d=AP(this._driver,o,c,[]);if(c.length)throw function gpe(n,e){return new Pe(3404,!1)}();a=function dme(n,e,t){return new ume(n,e,t)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=H5(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=H5(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Dme=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Sd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sd(this._element,this._initialStyles),this._endStyles&&(Sd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Vp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vp(this._element,this._endStyles),this._endStyles=null),Sd(this._element,this._initialStyles),this._state=3)}}return n})();function FP(n){let e=null;return n.forEach((t,i)=>{(function Ome(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class pG{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Q5(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class mG{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return W5(e,t)}getParentElement(e){return _P(e)}query(e,t,i){return $5(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,d=s.filter(m=>m instanceof pG);(function Upe(n,e){return 0===n||0===e})(i,r)&&d.forEach(m=>{m.currentSnapshot.forEach((g,v)=>l.set(v,g))});let h=function Lpe(n){return n.length?n[0]instanceof Map?n:n.map(e=>q5(e)):[]}(t).map(m=>af(m));h=function Vpe(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,Q5(n,a)))}}return e}(e,h,l);const f=function Ime(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=FP(e[0]),e.length>1&&(i=FP(e[e.length-1]))):e instanceof Map&&(t=FP(e)),t||i?new Dme(n,t,i):null}(e,h);return new pG(e,h,c,f)}}const gG="@.disabled";class _G{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==gG?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Rme extends _G{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==gG?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function Pme(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function kme(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class Nme{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const l=this._rendererCache;let d=l.get(r);return d||(d=new _G("",r,this.engine,()=>l.delete(r)),l.set(r,d)),d}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new Rme(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let Fme=(()=>{class n extends x0{constructor(t,i,r,o){super(t,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn),et(bP),et(vP),et(Wh))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})();const yG=[{provide:vP,useFactory:function Lme(){return new Z5}},{provide:x0,useClass:Fme},{provide:dv,useFactory:function Bme(n,e,t){return new Nme(n,e,t)},deps:[yR,x0,gn]}],LP=[{provide:bP,useFactory:()=>new mG},{provide:ro,useValue:"BrowserAnimations"},...yG],bG=[{provide:bP,useClass:yP},{provide:ro,useValue:"NoopAnimations"},...yG];let BP=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?bG:LP}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({providers:LP,imports:[wR]})}return n})(),jme=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi]})}return n})();function E0(n){return(E0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function we(n,e,t){return(e=function Vme(n){var e=function Ume(n,e){if("object"!==E0(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!==E0(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"===E0(e)?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vG(n){if(typeof window<"u"&&"object"==typeof window.process&&"renderer"===window.process.type||typeof process<"u"&&"object"==typeof process.versions&&process.versions.electron)return!0;const e="object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent,t=n||e;return!!(t&&t.indexOf("Electron")>=0)}function Ad(){return!("object"==typeof process&&"[object process]"===String(process)&&!process.browser)||vG()}const wG=typeof __VERSION__<"u"?__VERSION__:"untranspiled source";Ad();class Hme{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";we(this,"storage",void 0),we(this,"id",void 0),we(this,"config",void 0),this.storage=function zme(n){try{const e=window[n],t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch{return null}}(i),this.id=e,this.config=t,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}}_loadConfiguration(){let e={};if(this.storage){const t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}function jP(n,e,t){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600;const r=n.src.replace(/\(/g,"%28").replace(/\)/g,"%29");n.width>i&&(t=Math.min(t,i/n.width));const o=n.width*t,s=n.height*t,a=["font-size:1px;","padding:".concat(Math.floor(s/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(s,"px;"),"background:url(".concat(r,");"),"background-size:".concat(o,"px ").concat(s,"px;"),"color:transparent;"].join("");return["".concat(e," %c+"),a]}let cS;var n;function xG(n){return"string"==typeof n?cS[n.toUpperCase()]||cS.WHITE:n}function lS(n,e){if(!n)throw new Error(e||"Assertion failed")}(n=cS||(cS={}))[n.BLACK=30]="BLACK",n[n.RED=31]="RED",n[n.GREEN=32]="GREEN",n[n.YELLOW=33]="YELLOW",n[n.BLUE=34]="BLUE",n[n.MAGENTA=35]="MAGENTA",n[n.CYAN=36]="CYAN",n[n.WHITE=37]="WHITE",n[n.BRIGHT_BLACK=90]="BRIGHT_BLACK",n[n.BRIGHT_RED=91]="BRIGHT_RED",n[n.BRIGHT_GREEN=92]="BRIGHT_GREEN",n[n.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",n[n.BRIGHT_BLUE=94]="BRIGHT_BLUE",n[n.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",n[n.BRIGHT_CYAN=96]="BRIGHT_CYAN",n[n.BRIGHT_WHITE=97]="BRIGHT_WHITE";const cf={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document,process:"object"==typeof process&&process},dS=cf.window||cf.self||cf.global,C0=cf.process||{};function v_(){let n;var e,t;if(Ad&&"performance"in dS)n=null==dS||null===(e=dS.performance)||void 0===e||null===(t=e.now)||void 0===t?void 0:t.call(e);else if("hrtime"in C0){var i;const r=null==C0||null===(i=C0.hrtime)||void 0===i?void 0:i.call(C0);n=1e3*r[0]+r[1]/1e6}else n=Date.now();return n}const w_={debug:Ad&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},Kme={enabled:!0,level:0};function Jc(){}const EG={},CG={once:!0};class S0{constructor(){let{id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""};we(this,"id",void 0),we(this,"VERSION",wG),we(this,"_startTs",v_()),we(this,"_deltaTs",v_()),we(this,"_storage",void 0),we(this,"userData",{}),we(this,"LOG_THROTTLE_TIMEOUT",0),this.id=e,this.userData={},this._storage=new Hme("__probe-".concat(this.id,"__"),Kme),this.timeStamp("".concat(this.id," started")),function qme(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"];const t=Object.getPrototypeOf(n),i=Object.getOwnPropertyNames(t);for(const r of i)"function"==typeof n[r]&&(e.find(o=>r===o)||(n[r]=n[r].bind(n)))}(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((v_()-this._startTs).toPrecision(10))}getDelta(){return Number((v_()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(){return this._storage.setConfiguration({enabled:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,t){this._storage.setConfiguration({[e]:t})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,t){lS(e,t)}warn(e){return this._getLogFunction(0,e,w_.warn,arguments,CG)}error(e){return this._getLogFunction(0,e,w_.error,arguments)}deprecated(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}removed(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}probe(e,t){return this._getLogFunction(e,t,w_.log,arguments,{time:!0,once:!0})}log(e,t){return this._getLogFunction(e,t,w_.debug,arguments)}info(e,t){return this._getLogFunction(e,t,console.info,arguments)}once(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return this._getLogFunction(e,t,w_.debug||w_.info,arguments,CG)}table(e,t,i){return t?this._getLogFunction(e,t,console.table||Jc,i&&[i],{tag:ege(t)}):Jc}image(e){let{logLevel:t,priority:i,image:r,message:o="",scale:s=1}=e;return this._shouldLog(t||i)?Ad?function Zme(n){let{image:e,message:t="",scale:i=1}=n;if("string"==typeof e){const o=new Image;return o.onload=()=>{const s=jP(o,t,i);console.log(...s)},o.src=e,Jc}const r=e.nodeName||"";if("img"===r.toLowerCase())return console.log(...jP(e,t,i)),Jc;if("canvas"===r.toLowerCase()){const o=new Image;return o.onload=()=>console.log(...jP(o,t,i)),o.src=e.toDataURL(),Jc}return Jc}({image:r,message:o,scale:s}):function Qme(n){let{message:t="",scale:i=1}=n;return console.warn("removed"),Jc}({image:r,message:o,scale:s}):Jc}time(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}timeEnd(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,t){return this._getLogFunction(e,t,console.timeStamp||Jc)}group(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1};const r=AG({logLevel:e,message:t,opts:i}),{collapsed:o}=i;return r.method=(o?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}groupCollapsed(e,t){return this.group(e,t,Object.assign({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||Jc)}withGroup(e,t,i){this.group(e,t)();try{i()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=SG(e)}_getLogFunction(e,t,i,r,o){if(this._shouldLog(e)){o=AG({logLevel:e,message:t,args:r,opts:o}),lS(i=i||o.method),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=v_();const s=o.tag||o.message;if(o.once){if(EG[s])return Jc;EG[s]=v_()}return t=function Jme(n,e,t){if("string"==typeof e){const i=t.time?function Wme(n){const t=Math.max((arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-n.length,0);return"".concat(" ".repeat(t)).concat(n)}(function Gme(n){let e;return e=n<10?"".concat(n.toFixed(2),"ms"):n<100?"".concat(n.toFixed(1),"ms"):n<1e3?"".concat(n.toFixed(0),"ms"):"".concat((n/1e3).toFixed(2),"s"),e}(t.total)):"";e=function Yme(n,e,t){return!Ad&&"string"==typeof n&&(e&&(e=xG(e),n="\x1b[".concat(e,"m").concat(n,"\x1b[39m")),t&&(e=xG(t),n="\x1b[".concat(t+10,"m").concat(n,"\x1b[49m"))),n}(e=t.time?"".concat(n,": ").concat(i,"  ").concat(e):"".concat(n,": ").concat(e),t.color,t.background)}return e}(this.id,o.message,o),i.bind(console,t,...o.args)}return Jc}}function SG(n){if(!n)return 0;let e;switch(typeof n){case"number":e=n;break;case"object":e=n.logLevel||n.priority||0;break;default:return 0}return lS(Number.isFinite(e)&&e>=0),e}function AG(n){const{logLevel:e,message:t}=n;n.logLevel=SG(e);const i=n.args?Array.from(n.args):[];for(;i.length&&i.shift()!==t;);switch(typeof e){case"string":case"function":void 0!==t&&i.unshift(t),n.message=e;break;case"object":Object.assign(n,e)}"function"==typeof n.message&&(n.message=n.message());const r=typeof n.message;return lS("string"===r||"object"===r),Object.assign(n,{args:i},n.opts)}function ege(n){for(const e in n)for(const t in n[e])return t||"untitled";return"empty"}we(S0,"VERSION",wG);const ki=new S0({id:"deck"}),A0=new class tge{constructor(e={}){we(this,"_pool",[]),we(this,"opts",{overAlloc:2,poolSize:100}),this.setOptions(e)}setOptions(e){Object.assign(this.opts,e)}allocate(e,t,{size:i=1,type:r,padding:o=0,copy:s=!1,initialize:a=!1,maxCount:c}){const l=r||e&&e.constructor||Float32Array,d=t*i+o;if(ArrayBuffer.isView(e)){if(d<=e.length)return e;if(d*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new l(e.buffer,0,d)}let h=1/0;c&&(h=c*i+o);const f=this._allocate(l,d,a,h);return e&&s?f.set(e):a||f.fill(0,0,4),this._release(e),f}release(e){this._release(e)}_allocate(e,t,i,r){let o=Math.max(Math.ceil(t*this.opts.overAlloc),1);o>r&&(o=r);const s=this._pool,a=e.BYTES_PER_ELEMENT*o,c=s.findIndex(l=>l.byteLength>=a);if(c>=0){const l=new e(s.splice(c,1)[0],0,o);return i&&l.fill(0),l}return new e(o)}_release(e){if(!ArrayBuffer.isView(e))return;const t=this._pool,{buffer:i}=e,{byteLength:r}=i,o=t.findIndex(s=>s.byteLength>=r);o<0?t.push(i):(o>0||t.length<this.opts.poolSize)&&t.splice(o,0,i),t.length>this.opts.poolSize&&t.shift()}},ige=(Math,1/180*Math.PI),Do={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function rge(n,{precision:e=Do.precision}={}){return n=function cge(n){return Math.round(n/Do.EPSILON)*Do.EPSILON}(n),"".concat(parseFloat(n.toPrecision(e)))}function Uu(n){return Array.isArray(n)||ArrayBuffer.isView(n)&&!(n instanceof DataView)}function eo(n){return function oge(n,e){return Vu(n,t=>t*ige,e)}(n)}function Is(n,e,t){return Vu(n,i=>Math.max(e,Math.min(t,i)))}function uS(n,e,t){return Uu(n)?n.map((i,r)=>uS(i,e[r],t)):t*e+(1-t)*n}function x_(n,e,t){const i=Do.EPSILON;t&&(Do.EPSILON=t);try{if(n===e)return!0;if(Uu(n)&&Uu(e)){if(n.length!==e.length)return!1;for(let r=0;r<n.length;++r)if(!x_(n[r],e[r]))return!1;return!0}return n&&n.equals?n.equals(e):e&&e.equals?e.equals(n):"number"==typeof n&&"number"==typeof e&&Math.abs(n-e)<=Do.EPSILON*Math.max(1,Math.abs(n),Math.abs(e))}finally{Do.EPSILON=i}}function Vu(n,e,t){if(Uu(n)){const i=n;t=t||function lge(n){return n.clone?n.clone():new Array(n.length)}(i);for(let r=0;r<t.length&&r<i.length;++r)t[r]=e(n[r],r,t);return t}return e(n)}class UP extends(function dge(n){function e(){var t=Reflect.construct(n,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return e.prototype=Object.create(n.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n,e}(Array)){clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){for(let i=0;i<this.ELEMENTS;++i)this[i]=e[i+t];return this.check()}toArray(e=[],t=0){for(let i=0;i<this.ELEMENTS;++i)e[t+i]=this[i];return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:Uu(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(Do)}formatString(e){let t="";for(let i=0;i<this.ELEMENTS;++i)t+=(i>0?", ":"")+rge(this[i],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!x_(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,i){if(void 0===i)return this.lerp(this,e,t);for(let r=0;r<this.ELEMENTS;++r){const o=e[r];this[r]=o+i*(t[r]-o)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e[i]),t[i]);return this.check()}add(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]+=t[i];return this.check()}subtract(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]-=t[i];return this.check()}scale(e){if("number"==typeof e)for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;else for(let t=0;t<this.ELEMENTS&&t<e.length;++t)this[t]*=e[t];return this.check()}multiplyByScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}check(){if(Do.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e),t);return this.check()}get elements(){return this}}function Rr(n){if(!Number.isFinite(n))throw new Error("Invalid number ".concat(n));return n}function hS(n,e,t=""){if(Do.debug&&!function uge(n,e){if(n.length!==e)return!1;for(let t=0;t<n.length;++t)if(!Number.isFinite(n[t]))return!1;return!0}(n,e))throw new Error("math.gl: ".concat(t," some fields set to invalid numbers'"));return n}function MG(n,e){if(!n)throw new Error("math.gl assertion ".concat(e))}class IG extends UP{get x(){return this[0]}set x(e){this[0]=Rr(e)}get y(){return this[1]}set y(e){this[1]=Rr(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let i=0;i<this.ELEMENTS;++i){const r=this[i]-e[i];t+=r*r}return Rr(t)}dot(e){let t=0;for(let i=0;i<this.ELEMENTS;++i)t+=this[i]*e[i];return Rr(t)}normalize(){const e=this.magnitude();if(0!==e)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]*=t[i];return this.check()}divide(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]/=t[i];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return MG(e>=0&&e<this.ELEMENTS,"index is out of range"),Rr(this[e])}setComponent(e,t){return MG(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}var Td=1e-6,Xa=typeof Float32Array<"u"?Float32Array:Array;function DG(){var n=new Xa(3);return Xa!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function OG(n,e,t){var i=new Xa(3);return i[0]=n,i[1]=e,i[2]=t,i}function RG(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function fS(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],c=t[2];return n[0]=r*c-o*a,n[1]=o*s-i*c,n[2]=i*a-r*s,n}function VP(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o+t[15];return n[0]=(t[0]*i+t[4]*r+t[8]*o+t[12])/(s=s||1),n[1]=(t[1]*i+t[5]*r+t[9]*o+t[13])/s,n[2]=(t[2]*i+t[6]*r+t[10]*o+t[14])/s,n}function PG(n,e,t){var i=t[0],r=t[1],o=t[2],a=e[0],c=e[1],l=e[2],d=r*l-o*c,h=o*a-i*l,f=i*c-r*a,m=r*f-o*h,g=o*d-i*f,v=i*h-r*d,C=2*t[3];return h*=C,f*=C,g*=2,v*=2,n[0]=a+(d*=C)+(m*=2),n[1]=c+h+g,n[2]=l+f+v,n}Math,Math,Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)});function kG(n,e,t){const i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o||1;return n[0]=(t[0]*i+t[4]*r+t[8]*o)/s,n[1]=(t[1]*i+t[5]*r+t[9]*o)/s,n[2]=(t[2]*i+t[6]*r+t[10]*o)/s,n}DG();const zP=[0,0,0];let pS;class ia extends IG{static get ZERO(){return pS||(pS=new ia(0,0,0),Object.freeze(pS)),pS}constructor(e=0,t=0,i=0){super(-0,-0,-0),1===arguments.length&&Uu(e)?this.copy(e):(Do.debug&&(Rr(e),Rr(t),Rr(i)),this[0]=e,this[1]=t,this[2]=i)}set(e,t,i){return this[0]=e,this[1]=t,this[2]=i,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return Do.debug&&(Rr(e.x),Rr(e.y),Rr(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=Rr(e)}angle(e){return function wge(n,e){var t=n[0],i=n[1],r=n[2],o=e[0],s=e[1],a=e[2],d=Math.sqrt(t*t+i*i+r*r)*Math.sqrt(o*o+s*s+a*a),h=d&&RG(n,e)/d;return Math.acos(Math.min(Math.max(h,-1),1))}(this,e)}cross(e){return fS(this,this,e),this.check()}rotateX({radians:e,origin:t=zP}){return function yge(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateY({radians:e,origin:t=zP}){return function bge(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateZ({radians:e,origin:t=zP}){return function vge(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return VP(this,this,e),this.check()}transformAsVector(e){return kG(this,this,e),this.check()}transformByMatrix3(e){return function _ge(n,e,t){var i=e[0],r=e[1],o=e[2];n[0]=i*t[0]+r*t[3]+o*t[6],n[1]=i*t[1]+r*t[4]+o*t[7],n[2]=i*t[2]+r*t[5]+o*t[8]}(this,this,e),this.check()}transformByMatrix2(e){return function Sge(n,e,t){const i=e[0],r=e[1];n[0]=t[0]*i+t[2]*r,n[1]=t[1]*i+t[3]*r,n[2]=e[2]}(this,this,e),this.check()}transformByQuaternion(e){return PG(this,this,e),this.check()}}const NG=new ia;function E_(n,e,t,i){NG.set(n,e,t);const r=NG.len();return{distance:i/r,normal:new ia(-n/r,-e/r,-t/r)}}function Oge(n){return n-Math.fround(n)}let M0;function HP(n,e){const{size:t=1,startIndex:i=0}=e,r=void 0!==e.endIndex?e.endIndex:n.length,o=(r-i)/t;M0=A0.allocate(M0,o,{type:Float32Array,size:2*t});let s=i,a=0;for(;s<r;){for(let c=0;c<t;c++){const l=n[s++];M0[a+c]=l,M0[a+c+t]=Oge(l)}a+=2*t}return M0.subarray(0,o*t*2)}class Rge extends UP{toString(){let e="[";if(Do.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let i=0;i<this.RANK;++i)e+=" ".concat(this[i*this.RANK+t])}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=" ".concat(this[t])}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,i){return this[t*this.RANK+e]=Rr(i),this}getColumn(e,t=new Array(this.RANK).fill(-0)){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)t[r]=this[i+r];return t}setColumn(e,t){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)this[i+r]=t[r];return this}}function GP(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],d=e[8],h=e[9],f=e[10],m=e[11],g=e[12],v=e[13],C=e[14],B=e[15],z=t*a-i*s,le=t*c-r*s,se=t*l-o*s,ke=i*c-r*a,$e=i*l-o*a,dt=r*l-o*c,gt=d*v-h*g,tt=d*C-f*g,bt=d*B-m*g,Rt=h*C-f*v,Vt=h*B-m*v,wt=f*B-m*C,Tt=z*wt-le*Vt+se*Rt+ke*bt-$e*tt+dt*gt;return Tt?(n[0]=(a*wt-c*Vt+l*Rt)*(Tt=1/Tt),n[1]=(r*Vt-i*wt-o*Rt)*Tt,n[2]=(v*dt-C*$e+B*ke)*Tt,n[3]=(f*$e-h*dt-m*ke)*Tt,n[4]=(c*bt-s*wt-l*tt)*Tt,n[5]=(t*wt-r*bt+o*tt)*Tt,n[6]=(C*se-g*dt-B*le)*Tt,n[7]=(d*dt-f*se+m*le)*Tt,n[8]=(s*Vt-a*bt+l*gt)*Tt,n[9]=(i*bt-t*Vt-o*gt)*Tt,n[10]=(g*$e-v*se+B*z)*Tt,n[11]=(h*se-d*$e-m*z)*Tt,n[12]=(a*tt-s*Rt-c*gt)*Tt,n[13]=(t*Rt-i*tt+r*gt)*Tt,n[14]=(v*le-g*ke-C*z)*Tt,n[15]=(d*ke-h*le+f*z)*Tt,n):null}function Hp(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],f=e[9],m=e[10],g=e[11],v=e[12],C=e[13],B=e[14],z=e[15],le=t[0],se=t[1],ke=t[2],$e=t[3];return n[0]=le*i+se*a+ke*h+$e*v,n[1]=le*r+se*c+ke*f+$e*C,n[2]=le*o+se*l+ke*m+$e*B,n[3]=le*s+se*d+ke*g+$e*z,n[4]=(le=t[4])*i+(se=t[5])*a+(ke=t[6])*h+($e=t[7])*v,n[5]=le*r+se*c+ke*f+$e*C,n[6]=le*o+se*l+ke*m+$e*B,n[7]=le*s+se*d+ke*g+$e*z,n[8]=(le=t[8])*i+(se=t[9])*a+(ke=t[10])*h+($e=t[11])*v,n[9]=le*r+se*c+ke*f+$e*C,n[10]=le*o+se*l+ke*m+$e*B,n[11]=le*s+se*d+ke*g+$e*z,n[12]=(le=t[12])*i+(se=t[13])*a+(ke=t[14])*h+($e=t[15])*v,n[13]=le*r+se*c+ke*f+$e*C,n[14]=le*o+se*l+ke*m+$e*B,n[15]=le*s+se*d+ke*g+$e*z,n}function mS(n,e,t){var s,a,c,l,d,h,f,m,g,v,C,B,i=t[0],r=t[1],o=t[2];return e===n?(n[12]=e[0]*i+e[4]*r+e[8]*o+e[12],n[13]=e[1]*i+e[5]*r+e[9]*o+e[13],n[14]=e[2]*i+e[6]*r+e[10]*o+e[14],n[15]=e[3]*i+e[7]*r+e[11]*o+e[15]):(a=e[1],c=e[2],l=e[3],d=e[4],h=e[5],f=e[6],m=e[7],g=e[8],v=e[9],C=e[10],B=e[11],n[0]=s=e[0],n[1]=a,n[2]=c,n[3]=l,n[4]=d,n[5]=h,n[6]=f,n[7]=m,n[8]=g,n[9]=v,n[10]=C,n[11]=B,n[12]=s*i+d*r+g*o+e[12],n[13]=a*i+h*r+v*o+e[13],n[14]=c*i+f*r+C*o+e[14],n[15]=l*i+m*r+B*o+e[15]),n}function WP(n,e,t){var i=t[0],r=t[1],o=t[2];return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*r,n[6]=e[6]*r,n[7]=e[7]*r,n[8]=e[8]*o,n[9]=e[9]*o,n[10]=e[10]*o,n[11]=e[11]*o,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function FG(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[4],s=e[5],a=e[6],c=e[7],l=e[8],d=e[9],h=e[10],f=e[11];return e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[4]=o*r+l*i,n[5]=s*r+d*i,n[6]=a*r+h*i,n[7]=c*r+f*i,n[8]=l*r-o*i,n[9]=d*r-s*i,n[10]=h*r-a*i,n[11]=f*r-c*i,n}function LG(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[0],s=e[1],a=e[2],c=e[3],l=e[4],d=e[5],h=e[6],f=e[7];return e!==n&&(n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=o*r+l*i,n[1]=s*r+d*i,n[2]=a*r+h*i,n[3]=c*r+f*i,n[4]=l*r-o*i,n[5]=d*r-s*i,n[6]=h*r-a*i,n[7]=f*r-c*i,n}function gS(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function BG(n,e){return n[0]=-e[0],n[1]=-e[1],n}function jG(n,e,t,i){var r=e[0],o=e[1];return n[0]=r+i*(t[0]-r),n[1]=o+i*(t[1]-o),n}function UG(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n}function I0(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3];return n[0]=t[0]*i+t[4]*r+t[8]*o+t[12]*s,n[1]=t[1]*i+t[5]*r+t[9]*o+t[13]*s,n[2]=t[2]*i+t[6]*r+t[10]*o+t[14]*s,n[3]=t[3]*i+t[7]*r+t[11]*o+t[15]*s,n}!function Xge(){var n=new Xa(2);Xa!=Float32Array&&(n[0]=0,n[1]=0)}(),function qge(){var n=new Xa(4);Xa!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0,n[3]=0)}();var VG=function(n){return n[n.COL0ROW0=0]="COL0ROW0",n[n.COL0ROW1=1]="COL0ROW1",n[n.COL0ROW2=2]="COL0ROW2",n[n.COL0ROW3=3]="COL0ROW3",n[n.COL1ROW0=4]="COL1ROW0",n[n.COL1ROW1=5]="COL1ROW1",n[n.COL1ROW2=6]="COL1ROW2",n[n.COL1ROW3=7]="COL1ROW3",n[n.COL2ROW0=8]="COL2ROW0",n[n.COL2ROW1=9]="COL2ROW1",n[n.COL2ROW2=10]="COL2ROW2",n[n.COL2ROW3=11]="COL2ROW3",n[n.COL3ROW0=12]="COL3ROW0",n[n.COL3ROW1=13]="COL3ROW1",n[n.COL3ROW2=14]="COL3ROW2",n[n.COL3ROW3=15]="COL3ROW3",n}(VG||{});const l_e=45*Math.PI/180,d_e=1,$P=.1,XP=500,u_e=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class Lt extends Rge{static get IDENTITY(){return function f_e(){return yS||(yS=new Lt,Object.freeze(yS)),yS}()}static get ZERO(){return function h_e(){return _S||(_S=new Lt([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(_S)),_S}()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return VG}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,t,i,r,o,s,a,c,l,d,h,f,m,g,v,C){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this[4]=o,this[5]=s,this[6]=a,this[7]=c,this[8]=l,this[9]=d,this[10]=h,this[11]=f,this[12]=m,this[13]=g,this[14]=v,this[15]=C,this.check()}setRowMajor(e,t,i,r,o,s,a,c,l,d,h,f,m,g,v,C){return this[0]=e,this[1]=o,this[2]=l,this[3]=m,this[4]=t,this[5]=s,this[6]=d,this[7]=g,this[8]=i,this[9]=a,this[10]=h,this[11]=v,this[12]=r,this[13]=c,this[14]=f,this[15]=C,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(u_e)}fromObject(e){return this.check()}fromQuaternion(e){return function Uge(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t+t,a=i+i,c=r+r,l=t*s,d=i*s,h=i*a,f=r*s,m=r*a,g=r*c,v=o*s,C=o*a,B=o*c;n[0]=1-h-g,n[1]=d+B,n[2]=f-C,n[3]=0,n[4]=d-B,n[5]=1-l-g,n[6]=m+v,n[7]=0,n[8]=f+C,n[9]=m-v,n[10]=1-l-h,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1}(this,e),this.check()}frustum(e){const{left:t,right:i,bottom:r,top:o,near:s=$P,far:a=XP}=e;return a===1/0?function p_e(n,e,t,i,r,o){const a=2*o/(r-i),c=(t+e)/(t-e),l=(r+i)/(r-i),f=-2*o;n[0]=2*o/(t-e),n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=a,n[6]=0,n[7]=0,n[8]=c,n[9]=l,n[10]=-1,n[11]=-1,n[12]=0,n[13]=0,n[14]=f,n[15]=0}(this,t,i,r,o,s):function Vge(n,e,t,i,r,o,s){var a=1/(t-e),c=1/(r-i),l=1/(o-s);n[0]=2*o*a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2*o*c,n[6]=0,n[7]=0,n[8]=(t+e)*a,n[9]=(r+i)*c,n[10]=(s+o)*l,n[11]=-1,n[12]=0,n[13]=0,n[14]=s*o*2*l,n[15]=0}(this,t,i,r,o,s,a),this.check()}lookAt(e){const{eye:t,center:i=[0,0,0],up:r=[0,1,0]}=e;return function $ge(n,e,t,i){var r,o,s,a,c,l,d,h,f,m,g=e[0],v=e[1],C=e[2],B=i[0],z=i[1],le=i[2],se=t[0],ke=t[1],$e=t[2];Math.abs(g-se)<Td&&Math.abs(v-ke)<Td&&Math.abs(C-$e)<Td?function Pge(n){n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1}(n):(d=g-se,h=v-ke,f=C-$e,r=z*(f*=m=1/Math.hypot(d,h,f))-le*(h*=m),o=le*(d*=m)-B*f,s=B*h-z*d,(m=Math.hypot(r,o,s))?(r*=m=1/m,o*=m,s*=m):(r=0,o=0,s=0),a=h*s-f*o,c=f*r-d*s,l=d*o-h*r,(m=Math.hypot(a,c,l))?(a*=m=1/m,c*=m,l*=m):(a=0,c=0,l=0),n[0]=r,n[1]=a,n[2]=d,n[3]=0,n[4]=o,n[5]=c,n[6]=h,n[7]=0,n[8]=s,n[9]=l,n[10]=f,n[11]=0,n[12]=-(r*g+o*v+s*C),n[13]=-(a*g+c*v+l*C),n[14]=-(d*g+h*v+f*C),n[15]=1)}(this,t,i,r),this.check()}ortho(e){const{left:t,right:i,bottom:r,top:o,near:s=$P,far:a=XP}=e;return function Gge(n,e,t,i,r,o,s){var a=1/(e-t),c=1/(i-r),l=1/(o-s);n[0]=-2*a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*c,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*l,n[11]=0,n[12]=(e+t)*a,n[13]=(r+i)*c,n[14]=(s+o)*l,n[15]=1}(this,t,i,r,o,s,a),this.check()}orthographic(e){const{fovy:t=l_e,aspect:i=d_e,focalDistance:r=1,near:o=$P,far:s=XP}=e;zG(t);const c=r*Math.tan(t/2),l=c*i;return this.ortho({left:-l,right:l,bottom:-c,top:c,near:o,far:s})}perspective(e){const{fovy:t=45*Math.PI/180,aspect:i=1,near:r=.1,far:o=500}=e;return zG(t),function zge(n,e,t,i,r){var s,o=1/Math.tan(e/2);n[0]=o/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=o,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,null!=r&&r!==1/0?(n[10]=(r+i)*(s=1/(i-r)),n[14]=2*r*i*s):(n[10]=-1,n[14]=-2*i)}(this,t,i,r,o),this.check()}determinant(){return function Nge(n){var e=n[0],t=n[1],i=n[2],r=n[3],o=n[4],s=n[5],a=n[6],c=n[7],l=n[8],d=n[9],h=n[10],f=n[11],m=n[12],g=n[13],v=n[14],C=n[15];return(e*s-t*o)*(h*C-f*v)-(e*a-i*o)*(d*C-f*g)+(e*c-r*o)*(d*v-h*g)+(t*a-i*s)*(l*C-f*m)-(t*c-r*s)*(l*v-h*m)+(i*c-r*a)*(l*g-d*m)}(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0];const i=this.getScale(t=t||[-0,-0,-0]),r=1/i[0],o=1/i[1],s=1/i[2];return e[0]=this[0]*r,e[1]=this[1]*o,e[2]=this[2]*s,e[3]=0,e[4]=this[4]*r,e[5]=this[5]*o,e[6]=this[6]*s,e[7]=0,e[8]=this[8]*r,e[9]=this[9]*o,e[10]=this[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0];const i=this.getScale(t=t||[-0,-0,-0]),r=1/i[0],o=1/i[1],s=1/i[2];return e[0]=this[0]*r,e[1]=this[1]*o,e[2]=this[2]*s,e[3]=this[4]*r,e[4]=this[5]*o,e[5]=this[6]*s,e[6]=this[8]*r,e[7]=this[9]*o,e[8]=this[10]*s,e}transpose(){return function kge(n,e){if(n===e){var t=e[1],i=e[2],r=e[3],o=e[6],s=e[7],a=e[11];n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=t,n[6]=e[9],n[7]=e[13],n[8]=i,n[9]=o,n[11]=e[14],n[12]=r,n[13]=s,n[14]=a}else n[0]=e[0],n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=e[1],n[5]=e[5],n[6]=e[9],n[7]=e[13],n[8]=e[2],n[9]=e[6],n[10]=e[10],n[11]=e[14],n[12]=e[3],n[13]=e[7],n[14]=e[11],n[15]=e[15]}(this,this),this.check()}invert(){return GP(this,this),this.check()}multiplyLeft(e){return Hp(this,e,this),this.check()}multiplyRight(e){return Hp(this,this,e),this.check()}rotateX(e){return FG(this,this,e),this.check()}rotateY(e){return function Lge(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[0],s=e[1],a=e[2],c=e[3],l=e[8],d=e[9],h=e[10],f=e[11];e!==n&&(n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=o*r-l*i,n[1]=s*r-d*i,n[2]=a*r-h*i,n[3]=c*r-f*i,n[8]=o*i+l*r,n[9]=s*i+d*r,n[10]=a*i+h*r,n[11]=c*i+f*r}(this,this,e),this.check()}rotateZ(e){return LG(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,t){return function Fge(n,e,t,i){var c,l,d,h,f,m,g,v,C,B,z,le,se,ke,$e,dt,gt,tt,bt,Rt,Vt,wt,Tt,Xt,r=i[0],o=i[1],s=i[2],a=Math.hypot(r,o,s);a<Td||(r*=a=1/a,o*=a,s*=a,c=Math.sin(t),l=Math.cos(t),f=e[1],m=e[2],g=e[3],C=e[5],B=e[6],z=e[7],se=e[9],ke=e[10],$e=e[11],bt=r*o*(d=1-l)-s*c,Rt=o*o*d+l,Vt=s*o*d+r*c,wt=r*s*d+o*c,Tt=o*s*d-r*c,Xt=s*s*d+l,n[0]=(h=e[0])*(dt=r*r*d+l)+(v=e[4])*(gt=o*r*d+s*c)+(le=e[8])*(tt=s*r*d-o*c),n[1]=f*dt+C*gt+se*tt,n[2]=m*dt+B*gt+ke*tt,n[3]=g*dt+z*gt+$e*tt,n[4]=h*bt+v*Rt+le*Vt,n[5]=f*bt+C*Rt+se*Vt,n[6]=m*bt+B*Rt+ke*Vt,n[7]=g*bt+z*Rt+$e*Vt,n[8]=h*wt+v*Tt+le*Xt,n[9]=f*wt+C*Tt+se*Xt,n[10]=m*wt+B*Tt+ke*Xt,n[11]=g*wt+z*Tt+$e*Xt,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]))}(this,this,e,t),this.check()}scale(e){return WP(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return mS(this,this,e),this.check()}transform(e,t){return 4===e.length?(hS(t=I0(t||[-0,-0,-0,-0],e,this),4),t):this.transformAsPoint(e,t)}transformAsPoint(e,t){const{length:i}=e;let r;switch(i){case 2:r=function Yge(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[4]*r+t[12],n[1]=t[1]*i+t[5]*r+t[13],n}(t||[-0,-0],e,this);break;case 3:r=VP(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return hS(r,e.length),r}transformAsVector(e,t){let i;switch(e.length){case 2:i=function Cge(n,e,t){const i=e[0],r=e[1],o=t[3]*i+t[7]*r||1;return n[0]=(t[0]*i+t[4]*r)/o,n[1]=(t[1]*i+t[5]*r)/o,n}(t||[-0,-0],e,this);break;case 3:i=kG(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return hS(i,e.length),i}transformPoint(e,t){return this.transformAsPoint(e,t)}transformVector(e,t){return this.transformAsPoint(e,t)}transformDirection(e,t){return this.transformAsVector(e,t)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,t,i){return this.identity().translate([e,t,i])}}let _S,yS;function zG(n){if(n>2*Math.PI)throw Error("expected radians")}function C_(n,e){const t=I0([],e,n);return UG(t,t,1/t[3]),t}function HG(n,e){const t=n%e;return t<0?e+t:t}function YP(n,e,t){return n<e?e:n>t?t:n}const qP=Math.log2||function g_e(n){return Math.log(n)*Math.LOG2E};function zu(n,e){if(!n)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const Ol=Math.PI,GG=Ol/4,Qc=Ol/180,KP=180/Ol,S_=512,bS=4003e4,vS=85.051129,__e=1.5;function wS(n){const[e,t]=n;return zu(Number.isFinite(e)),zu(Number.isFinite(t)&&t>=-90&&t<=90,"invalid latitude"),[S_*(e*Qc+Ol)/(2*Ol),S_*(Ol+Math.log(Math.tan(GG+t*Qc*.5)))/(2*Ol)]}function A_(n){const[e,t]=n,i=e/S_*(2*Ol)-Ol,r=2*(Math.atan(Math.exp(t/S_*(2*Ol)-Ol))-GG);return[i*KP,r*KP]}function JP(n){const{latitude:e,longitude:t,highPrecision:i=!1}=n;zu(Number.isFinite(e)&&Number.isFinite(t));const r=S_,o=Math.cos(e*Qc),s=r/360,a=s/o,c=r/bS/o,l={unitsPerMeter:[c,c,c],metersPerUnit:[1/c,1/c,1/c],unitsPerDegree:[s,a,c],degreesPerUnit:[1/s,1/a,1/c]};if(i){const d=Qc*Math.tan(e*Qc)/o,f=r/bS*d,m=f/a*c;l.unitsPerDegree2=[0,s*d/2,f],l.unitsPerMeter2=[m,0,m]}return l}function WG(n,e){const[t,i,r]=n,[o,s,a]=e,{unitsPerMeter:c,unitsPerMeter2:l}=JP({longitude:t,latitude:i,highPrecision:!0}),d=wS(n);d[0]+=o*(c[0]+l[0]*s),d[1]+=s*(c[1]+l[1]*s);const h=A_(d),f=(r||0)+(a||0);return Number.isFinite(r)||Number.isFinite(a)?[h[0],h[1],f]:h}function xS(n){return 2*Math.atan(.5/n)*KP}function QP(n){return.5/Math.tan(.5*n*Qc)}function XG(n,e){const[t,i,r=0]=n;return zu(Number.isFinite(t)&&Number.isFinite(i)&&Number.isFinite(r)),C_(e,[t,i,r,1])}function D0(n,e,t=0){const[i,r,o]=n;if(zu(Number.isFinite(i)&&Number.isFinite(r),"invalid pixel coordinate"),Number.isFinite(o))return C_(e,[i,r,o,1]);const s=C_(e,[i,r,0,1]),a=C_(e,[i,r,1,1]),c=s[2],l=a[2];return jG([],s,a,c===l?0:((t||0)-c)/(l-c))}function YG(n){const{width:e,height:t,bounds:i,minExtent:r=0,maxZoom:o=24,offset:s=[0,0]}=n,[[a,c],[l,d]]=i,h=function w_e(n=0){return"number"==typeof n?{top:n,bottom:n,left:n,right:n}:(zu(Number.isFinite(n.top)&&Number.isFinite(n.bottom)&&Number.isFinite(n.left)&&Number.isFinite(n.right)),n)}(n.padding),f=wS([a,YP(d,-vS,vS)]),m=wS([l,YP(c,-vS,vS)]),g=[Math.max(Math.abs(m[0]-f[0]),r),Math.max(Math.abs(m[1]-f[1]),r)],v=[e-h.left-h.right-2*Math.abs(s[0]),t-h.top-h.bottom-2*Math.abs(s[1])];zu(v[0]>0&&v[1]>0);const C=v[0]/g[0],B=v[1]/g[1],ke=A_([(m[0]+f[0])/2+(h.right-h.left)/2/C,(m[1]+f[1])/2+(h.top-h.bottom)/2/B]),$e=Math.min(o,qP(Math.abs(Math.min(C,B))));return zu(Number.isFinite($e)),{longitude:ke[0],latitude:ke[1],zoom:$e}}const qG=Math.PI/180;function KG(n,e,t){const{pixelUnprojectionMatrix:i}=n,r=C_(i,[e,0,1,1]),o=C_(i,[e,n.height,1,1]),l=A_(jG([],r,o,(t*n.distanceScales.unitsPerMeter[2]-r[2])/(o[2]-r[2])));return l.push(t),l}const Wi={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(Wi,"IDENTITY",{get:()=>(ki.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const Md={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},ES={common:0,meters:1,pixels:2},t6={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},S_e=Math.PI/180,A_e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n6=[0,0,0],T_e={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};class lf{constructor(e={}){we(this,"id",void 0),we(this,"x",void 0),we(this,"y",void 0),we(this,"width",void 0),we(this,"height",void 0),we(this,"padding",void 0),we(this,"isGeospatial",void 0),we(this,"zoom",void 0),we(this,"focalDistance",void 0),we(this,"position",void 0),we(this,"modelMatrix",void 0),we(this,"distanceScales",void 0),we(this,"scale",void 0),we(this,"center",void 0),we(this,"cameraPosition",void 0),we(this,"projectionMatrix",void 0),we(this,"viewMatrix",void 0),we(this,"viewMatrixUncentered",void 0),we(this,"viewMatrixInverse",void 0),we(this,"viewProjectionMatrix",void 0),we(this,"pixelProjectionMatrix",void 0),we(this,"pixelUnprojectionMatrix",void 0),we(this,"resolution",void 0),we(this,"_frustumPlanes",{}),this.id=e.id||this.constructor.displayName||"viewport",this.x=e.x||0,this.y=e.y||0,this.width=e.width||1,this.height=e.height||1,this.zoom=e.zoom||0,this.padding=e.padding,this.distanceScales=e.distanceScales||T_e,this.focalDistance=e.focalDistance||1,this.position=e.position||n6,this.modelMatrix=e.modelMatrix||null;const{longitude:t,latitude:i}=e;this.isGeospatial=Number.isFinite(i)&&Number.isFinite(t),this._initProps(e),this._initMatrices(e),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?Md.WEB_MERCATOR:Md.WEB_MERCATOR_AUTO_OFFSET:Md.IDENTITY}equals(e){return e instanceof lf&&(this===e||e.width===this.width&&e.height===this.height&&e.scale===this.scale&&x_(e.projectionMatrix,this.projectionMatrix)&&x_(e.viewMatrix,this.viewMatrix))}project(e,{topLeft:t=!0}={}){const r=XG(this.projectPosition(e),this.pixelProjectionMatrix),[o,s]=r,a=t?s:this.height-s;return 2===e.length?[o,a]:[o,a,r[2]]}unproject(e,{topLeft:t=!0,targetZ:i}={}){const[r,o,s]=e,l=D0([r,t?o:this.height-o,s],this.pixelUnprojectionMatrix,i&&i*this.distanceScales.unitsPerMeter[2]),[d,h,f]=this.unprojectPosition(l);return Number.isFinite(s)?[d,h,f]:Number.isFinite(i)?[d,h,i]:[d,h]}projectPosition(e){const[t,i]=this.projectFlat(e);return[t,i,(e[2]||0)*this.distanceScales.unitsPerMeter[2]]}unprojectPosition(e){const[t,i]=this.unprojectFlat(e);return[t,i,(e[2]||0)*this.distanceScales.metersPerUnit[2]]}projectFlat(e){if(this.isGeospatial){const t=wS(e);return t[1]=Is(t[1],-318,830),t}return e}unprojectFlat(e){return this.isGeospatial?A_(e):e}getBounds(e={}){const t={targetZ:e.z||0},i=this.unproject([0,0],t),r=this.unproject([this.width,0],t),o=this.unproject([0,this.height],t),s=this.unproject([this.width,this.height],t);return[Math.min(i[0],r[0],o[0],s[0]),Math.min(i[1],r[1],o[1],s[1]),Math.max(i[0],r[0],o[0],s[0]),Math.max(i[1],r[1],o[1],s[1])]}getDistanceScales(e){return e?JP({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}containsPixel({x:e,y:t,width:i=1,height:r=1}){return e<this.x+this.width&&this.x<e+i&&t<this.y+this.height&&this.y<t+r}getFrustumPlanes(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,function Dge(n){return{left:E_(n[3]+n[0],n[7]+n[4],n[11]+n[8],n[15]+n[12]),right:E_(n[3]-n[0],n[7]-n[4],n[11]-n[8],n[15]-n[12]),bottom:E_(n[3]+n[1],n[7]+n[5],n[11]+n[9],n[15]+n[13]),top:E_(n[3]-n[1],n[7]-n[5],n[11]-n[9],n[15]-n[13]),near:E_(n[3]+n[2],n[7]+n[6],n[11]+n[10],n[15]+n[14]),far:E_(n[3]-n[2],n[7]-n[6],n[11]-n[10],n[15]-n[14])}}(this.viewProjectionMatrix)),this._frustumPlanes}panByPosition(e,t){return null}_initProps(e){const t=e.longitude,i=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=function b_e(n){const{latitude:e}=n;zu(Number.isFinite(e));const t=Math.cos(e*Qc);return function y_e(n){return qP(n)}(bS*t)-9}({latitude:i})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||JP({latitude:i,longitude:t}));const r=Math.pow(2,this.zoom);this.scale=r;const{position:o,modelMatrix:s}=e;let a=n6;if(o&&(a=s?new Lt(s).transformAsVector(o,[]):o),this.isGeospatial){const c=this.projectPosition([t,i,0]);this.center=new ia(a).scale(this.distanceScales.unitsPerMeter).add(c)}else this.center=this.projectPosition(a)}_initMatrices(e){const{viewMatrix:t=A_e,projectionMatrix:i=null,orthographic:r=!1,fovyRadians:o,fovy:s=75,near:a=.1,far:c=1e3,padding:l=null,focalDistance:d=1}=e;this.viewMatrixUncentered=t,this.viewMatrix=(new Lt).multiplyRight(t).translate(new ia(this.center).negate()),this.projectionMatrix=i||function M_e({width:n,height:e,orthographic:t,fovyRadians:i,focalDistance:r,padding:o,near:s,far:a}){const c=n/e,l=t?(new Lt).orthographic({fovy:i,aspect:c,focalDistance:r,near:s,far:a}):(new Lt).perspective({fovy:i,aspect:c,near:s,far:a});if(o){const{left:d=0,right:h=0,top:f=0,bottom:m=0}=o,g=Is((d+n-h)/2,0,n)-n/2,v=Is((f+e-m)/2,0,e)-e/2;l[8]-=2*g/n,l[9]+=2*v/e}return l}({width:this.width,height:this.height,orthographic:r,fovyRadians:o||s*S_e,focalDistance:d,padding:l,near:a,far:c});const h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Hp(h,h,this.projectionMatrix),Hp(h,h,this.viewMatrix),this.viewProjectionMatrix=h,this.viewMatrixInverse=GP([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=function Ige(n){return[n[12],n[13],n[14]]}(this.viewMatrixInverse);const f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];WP(f,f,[this.width/2,-this.height/2,1]),mS(f,f,[1,-1,0]),Hp(m,f,this.viewProjectionMatrix),this.pixelProjectionMatrix=m,this.pixelUnprojectionMatrix=GP([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||ki.warn("Pixel project matrix not invertible")()}}we(lf,"displayName","Viewport");const I_e=/([0-9]+\.?[0-9]*)(%|px)/;function df(n){switch(typeof n){case"number":return{position:n,relative:!1};case"string":const e=I_e.exec(n);if(e&&e.length>=3){const t="%"===e[2],i=parseFloat(e[1]);return{position:t?i/100:i,relative:t}}default:throw new Error("Could not parse position string ".concat(n))}}function uf(n,e){return n.relative?Math.round(n.position*e):n.position}function T_(n,e){if(n===e)return!0;if(!n||!e)return!1;for(const t in n){const i=n[t],r=e[t];if(!(i===r||Array.isArray(i)&&Array.isArray(r)&&T_(i,r)))return!1}return!0}function Ds(n,e){if(!n)throw new Error(e||"deck.gl: assertion failed.")}class ek{constructor(e){we(this,"id",void 0),we(this,"viewportInstance",void 0),we(this,"_x",void 0),we(this,"_y",void 0),we(this,"_width",void 0),we(this,"_height",void 0),we(this,"_padding",void 0),we(this,"props",void 0);const{id:t,x:i=0,y:r=0,width:o="100%",height:s="100%",padding:a=null,viewportInstance:c}=e||{};Ds(!c||c instanceof lf),this.viewportInstance=c,this.id=t||this.constructor.displayName||"view",this.props={...e,id:this.id},this._x=df(i),this._y=df(r),this._width=df(o),this._height=df(s),this._padding=a&&{left:df(a.left||0),right:df(a.right||0),top:df(a.top||0),bottom:df(a.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(e){return this===e||(this.viewportInstance?!!e.viewportInstance&&this.viewportInstance.equals(e.viewportInstance):this.ViewportType===e.ViewportType&&T_(this.props,e.props))}makeViewport({width:e,height:t,viewState:i}){if(this.viewportInstance)return this.viewportInstance;i=this.filterViewState(i);const r=this.getDimensions({width:e,height:t});return new this.ViewportType({...i,...this.props,...r})}getViewStateId(){const{viewState:e}=this.props;return"string"==typeof e?e:e?.id||this.id}filterViewState(e){if(this.props.viewState&&"object"==typeof this.props.viewState){if(!this.props.viewState.id)return this.props.viewState;const t={...e};for(const i in this.props.viewState)"id"!==i&&(t[i]=this.props.viewState[i]);return t}return e}getDimensions({width:e,height:t}){const i={x:uf(this._x,e),y:uf(this._y,t),width:uf(this._width,e),height:uf(this._height,t)};return this._padding&&(i.padding={left:uf(this._padding.left,e),top:uf(this._padding.top,t),right:uf(this._padding.right,e),bottom:uf(this._padding.bottom,t)}),i}get controller(){const e=this.props.controller;return e?!0===e?{type:this.ControllerType}:"function"==typeof e?{type:e}:{type:this.ControllerType,...e}:null}}const D_e=(new Lt).lookAt({eye:[0,0,1]});function O_e({width:n,height:e,near:t,far:i,padding:r}){let o=-n/2,s=n/2,a=-e/2,c=e/2;if(r){const{left:l=0,right:d=0,top:h=0,bottom:f=0}=r,m=Is((l+n-d)/2,0,n)-n/2,g=Is((h+e-f)/2,0,e)-e/2;o-=m,s-=m,a+=g,c+=g}return(new Lt).ortho({left:o,right:s,bottom:a,top:c,near:t,far:i})}class R_e extends lf{constructor(e){const{width:t,height:i,near:r=.1,far:o=1e3,zoom:s=0,target:a=[0,0,0],padding:c=null,flipY:l=!0}=e,d=Array.isArray(s)?s[0]:s,h=Array.isArray(s)?s[1]:s,f=Math.min(d,h),m=Math.pow(2,f);let g;if(d!==h){const v=Math.pow(2,d),C=Math.pow(2,h);g={unitsPerMeter:[v/m,C/m,1],metersPerUnit:[m/v,m/C,1]}}super({...e,longitude:void 0,position:a,viewMatrix:D_e.clone().scale([m,m*(l?-1:1),m]),projectionMatrix:O_e({width:t||1,height:i||1,padding:c,near:r,far:o}),zoom:f,distanceScales:g})}projectFlat([e,t]){const{unitsPerMeter:i}=this.distanceScales;return[e*i[0],t*i[1]]}unprojectFlat([e,t]){const{metersPerUnit:i}=this.distanceScales;return[e*i[0],t*i[1]]}panByPosition(e,t){const i=D0(t,this.pixelUnprojectionMatrix),o=gS([],this.projectFlat(e),BG([],i)),s=gS([],this.center,o);return{target:this.unprojectFlat(s)}}}class R0{constructor(e){we(this,"_inProgress",void 0),we(this,"_handle",void 0),we(this,"_timeline",void 0),we(this,"time",void 0),we(this,"settings",void 0),this._inProgress=!1,this._handle=null,this._timeline=e,this.time=0,this.settings={duration:0}}get inProgress(){return this._inProgress}start(e){var t,i;this.cancel(),this.settings=e,this._inProgress=!0,null===(t=(i=this.settings).onStart)||void 0===t||t.call(i,this)}end(){var e,t;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,null===(e=(t=this.settings).onEnd)||void 0===e||e.call(t,this))}cancel(){var e,t;this._inProgress&&(null===(e=(t=this.settings).onInterrupt)||void 0===e||e.call(t,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){var e,t;if(!this._inProgress)return!1;if(null===this._handle){const{_timeline:i,settings:r}=this;this._handle=i.addChannel({delay:i.getTime(),duration:r.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),null===(e=(t=this.settings).onUpdate)||void 0===e||e.call(t,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}const i6=()=>{},P_e=n=>n;class N_e{constructor(e){we(this,"getControllerState",void 0),we(this,"props",void 0),we(this,"propsInTransition",void 0),we(this,"transition",void 0),we(this,"onViewStateChange",void 0),we(this,"onStateChange",void 0),we(this,"_onTransitionUpdate",t=>{const{time:i,settings:{interpolator:r,startProps:o,endProps:s,duration:a,easing:c}}=t,l=c(i/a),d=r.interpolateProps(o,s,l);this.propsInTransition=this.getControllerState({...this.props,...d}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})}),this.getControllerState=e.getControllerState,this.propsInTransition=null,this.transition=new R0(e.timeline),this.onViewStateChange=e.onViewStateChange||i6,this.onStateChange=e.onStateChange||i6}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(e){let t=!1;const i=this.props;if(this.props=e,!i||this._shouldIgnoreViewportChange(i,e))return!1;if(this._isTransitionEnabled(e)){let r=i;if(this.transition.inProgress){const{interruption:o,endProps:s}=this.transition.settings;r={...i,...2===o?s:this.propsInTransition||i}}this._triggerTransition(r,e),t=!0}else this.transition.cancel();return t}updateTransition(){this.transition.update()}_isTransitionEnabled(e){const{transitionDuration:t,transitionInterpolator:i}=e;return(t>0||"auto"===t)&&!!i}_isUpdateDueToCurrentTransition(e){return!(!this.transition.inProgress||!this.propsInTransition)&&this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition)}_shouldIgnoreViewportChange(e,t){return this.transition.inProgress?3===this.transition.settings.interruption||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t)}_triggerTransition(e,t){const i=this.getControllerState(e),r=this.getControllerState(t).shortestPathFrom(i),o=t.transitionInterpolator,s=o.getDuration?o.getDuration(e,t):t.transitionDuration;if(0===s)return;const a=o.initializeProps(e,r);this.propsInTransition={};const c={duration:s,easing:t.transitionEasing||P_e,interpolator:o,interruption:t.transitionInterruption||1,startProps:a.start,endProps:a.end,onStart:t.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(t.onTransitionInterrupt),onEnd:this._onTransitionEnd(t.onTransitionEnd)};this.transition.start(c),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(e){return t=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),e?.(t)}}}class F_e{constructor(e){we(this,"_propsToCompare",void 0),we(this,"_propsToExtract",void 0),we(this,"_requiredProps",void 0);const{compare:t,extract:i,required:r}=e;this._propsToCompare=t,this._propsToExtract=i||t,this._requiredProps=r}arePropsEqual(e,t){for(const i of this._propsToCompare)if(!(i in e)||!(i in t)||!x_(e[i],t[i]))return!1;return!0}initializeProps(e,t){const i={},r={};for(const o of this._propsToExtract)(o in e||o in t)&&(i[o]=e[o],r[o]=t[o]);return this._checkRequiredProps(i),this._checkRequiredProps(r),{start:i,end:r}}getDuration(e,t){return t.transitionDuration}_checkRequiredProps(e){this._requiredProps&&this._requiredProps.forEach(t=>{const i=e[t];Ds(Number.isFinite(i)||Array.isArray(i),"".concat(t," is required for transition"))})}}const L_e=["longitude","latitude","zoom","bearing","pitch"],B_e=["longitude","latitude","zoom"];class CS extends F_e{constructor(e={}){const t=Array.isArray(e)?e:e.transitionProps,i=Array.isArray(e)?{}:e;i.transitionProps=Array.isArray(t)?{compare:t,required:t}:t||{compare:L_e,required:B_e},super(i.transitionProps),we(this,"opts",void 0),this.opts=i}initializeProps(e,t){const i=super.initializeProps(e,t),{makeViewport:r,around:o}=this.opts;if(r&&o){const s=r(e),a=r(t),c=s.unproject(o);i.start.around=o,Object.assign(i.end,{around:a.project(c),aroundPosition:c,width:t.width,height:t.height})}return i}interpolateProps(e,t,i){const r={};for(const o of this._propsToExtract)r[o]=uS(e[o]||0,t[o]||0,i);if(t.aroundPosition&&this.opts.makeViewport){const o=this.opts.makeViewport({...t,...r});Object.assign(r,o.panByPosition(t.aroundPosition,uS(e.around,t.around,i)))}return r}}const hf={transitionDuration:0},SS=n=>1-(1-n)*(1-n),M__WHEEL=["wheel"],M__PAN=["panstart","panmove","panend"],M__PINCH=["pinchstart","pinchmove","pinchend"],M__TRIPLE_PAN=["tripanstart","tripanmove","tripanend"],M__DOUBLE_TAP=["doubletap"],M__KEYBOARD=["keydown"],Gp={};class nk{constructor(e){we(this,"props",void 0),we(this,"state",{}),we(this,"transitionManager",void 0),we(this,"eventManager",void 0),we(this,"onViewStateChange",void 0),we(this,"onStateChange",void 0),we(this,"makeViewport",void 0),we(this,"_controllerState",void 0),we(this,"_events",{}),we(this,"_interactionState",{isDragging:!1}),we(this,"_customEvents",[]),we(this,"_eventStartBlocked",null),we(this,"_panMove",!1),we(this,"invertPan",!1),we(this,"dragMode","rotate"),we(this,"inertia",0),we(this,"scrollZoom",!0),we(this,"dragPan",!0),we(this,"dragRotate",!0),we(this,"doubleClickZoom",!0),we(this,"touchZoom",!0),we(this,"touchRotate",!1),we(this,"keyboard",!0),this.transitionManager=new N_e({...e,getControllerState:t=>new this.ControllerState(t),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=e.eventManager,this.onViewStateChange=e.onViewStateChange||(()=>{}),this.onStateChange=e.onStateChange||(()=>{}),this.makeViewport=e.makeViewport}set events(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}finalize(){for(const t in this._events)if(this._events[t]){var e;null===(e=this.eventManager)||void 0===e||e.off(t,this.handleEvent)}this.transitionManager.finalize()}handleEvent(e){this._controllerState=void 0;const t=this._eventStartBlocked;switch(e.type){case"panstart":return!t&&this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return!t&&this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return!t&&this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(e){const{x:t,y:i}=this.props,{offsetCenter:r}=e;return[r.x-t,r.y-i]}isPointInBounds(e,t){const{width:i,height:r}=this.props;if(t&&t.handled)return!1;const o=e[0]>=0&&e[0]<=i&&e[1]>=0&&e[1]<=r;return o&&t&&t.stopPropagation(),o}isFunctionKeyPressed(e){const{srcEvent:t}=e;return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(e){const t=setTimeout(()=>{this._eventStartBlocked===t&&(this._eventStartBlocked=null)},e);this._eventStartBlocked=t}setProps(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);const{inertia:t}=e;this.inertia=Number.isFinite(t)?t:!0===t?300:0;const{scrollZoom:i=!0,dragPan:r=!0,dragRotate:o=!0,doubleClickZoom:s=!0,touchZoom:a=!0,touchRotate:c=!1,keyboard:l=!0}=e,d=!!this.onViewStateChange;this.toggleEvents(M__WHEEL,d&&i),this.toggleEvents(M__PAN,d&&(r||o)),this.toggleEvents(M__PINCH,d&&(a||c)),this.toggleEvents(M__TRIPLE_PAN,d&&c),this.toggleEvents(M__DOUBLE_TAP,d&&s),this.toggleEvents(M__KEYBOARD,d&&l),this.scrollZoom=i,this.dragPan=r,this.dragRotate=o,this.doubleClickZoom=s,this.touchZoom=a,this.touchRotate=c,this.keyboard=l}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(e,t){this.eventManager&&e.forEach(i=>{this._events[i]!==t&&(this._events[i]=t,t?this.eventManager.on(i,this.handleEvent):this.eventManager.off(i,this.handleEvent))})}updateViewport(e,t=null,i={}){const r={...e.getViewportProps(),...t},o=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(i),o){const s=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:r,interactionState:this._interactionState,oldViewState:s})}}_onTransition(e){this.onViewStateChange({...e,interactionState:this._interactionState})}_setInteractionState(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}_onPanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;let i=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||"pan"===this.dragMode)&&(i=!i);const r=this.controllerState[i?"panStart":"rotateStart"]({pos:t});return this._panMove=i,this.updateViewport(r,hf,{isDragging:!0}),!0}_onPan(e){return!!this.isDragging()&&(this._panMove?this._onPanMove(e):this._onPanRotate(e))}_onPanEnd(e){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e))}_onPanMove(e){if(!this.dragPan)return!1;const t=this.getCenter(e),i=this.controllerState.pan({pos:t});return this.updateViewport(i,hf,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(e){const{inertia:t}=this;if(this.dragPan&&t&&e.velocity){const i=this.getCenter(e),o=this.controllerState.pan({pos:[i[0]+e.velocityX*t/2,i[1]+e.velocityY*t/2]}).panEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:SS},{isDragging:!1,isPanning:!0})}else{const i=this.controllerState.panEnd();this.updateViewport(i,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(e){if(!this.dragRotate)return!1;const t=this.getCenter(e),i=this.controllerState.rotate({pos:t});return this.updateViewport(i,hf,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(e){const{inertia:t}=this;if(this.dragRotate&&t&&e.velocity){const i=this.getCenter(e),o=this.controllerState.rotate({pos:[i[0]+e.velocityX*t/2,i[1]+e.velocityY*t/2]}).rotateEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:SS},{isDragging:!1,isRotating:!0})}else{const i=this.controllerState.rotateEnd();this.updateViewport(i,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(e){if(!this.scrollZoom)return!1;e.srcEvent.preventDefault();const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const{speed:i=.01,smooth:r=!1}=!0===this.scrollZoom?{}:this.scrollZoom,{delta:o}=e;let s=2/(1+Math.exp(-Math.abs(o*i)));o<0&&0!==s&&(s=1/s);const a=this.controllerState.zoom({pos:t,scale:s});return this.updateViewport(a,{...this._getTransitionProps({around:t}),transitionDuration:r?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const i=this.controllerState.rotateStart({pos:t});return this.updateViewport(i,hf,{isDragging:!0}),!0}_onTriplePan(e){if(!this.touchRotate||!this.isDragging())return!1;const t=this.getCenter(e);t[0]-=e.deltaX;const i=this.controllerState.rotate({pos:t});return this.updateViewport(i,hf,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this;if(this.touchRotate&&t&&e.velocityY){const i=this.getCenter(e),r=[i[0],i[1]+=e.velocityY*t/2],o=this.controllerState.rotate({pos:r});this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:SS},{isDragging:!1,isRotating:!0}),this.blockEvents(t)}else{const i=this.controllerState.rotateEnd();this.updateViewport(i,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const i=this.controllerState.zoomStart({pos:t}).rotateStart({pos:t});return Gp._startPinchRotation=e.rotation,Gp._lastPinchEvent=e,this.updateViewport(i,hf,{isDragging:!0}),!0}_onPinch(e){if(!this.touchZoom&&!this.touchRotate||!this.isDragging())return!1;let t=this.controllerState;if(this.touchZoom){const{scale:i}=e,r=this.getCenter(e);t=t.zoom({pos:r,scale:i})}if(this.touchRotate){const{rotation:i}=e;t=t.rotate({deltaAngleX:Gp._startPinchRotation-i})}return this.updateViewport(t,hf,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),Gp._lastPinchEvent=e,!0}_onPinchEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this,{_lastPinchEvent:i}=Gp;if(this.touchZoom&&t&&i&&e.scale!==i.scale){const r=this.getCenter(e);let o=this.controllerState.rotateEnd();const s=Math.log2(e.scale),a=(s-Math.log2(i.scale))/(e.deltaTime-i.deltaTime),c=Math.pow(2,s+a*t/2);o=o.zoom({pos:r,scale:c}).zoomEnd(),this.updateViewport(o,{...this._getTransitionProps({around:r}),transitionDuration:t,transitionEasing:SS},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(t)}else{const r=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(r,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return Gp._startPinchRotation=null,Gp._lastPinchEvent=null,!0}_onDoubleTap(e){if(!this.doubleClickZoom)return!1;const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const i=this.isFunctionKeyPressed(e),r=this.controllerState.zoom({pos:t,scale:i?.5:2});return this.updateViewport(r,this._getTransitionProps({around:t}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(e){if(!this.keyboard)return!1;const t=this.isFunctionKeyPressed(e),{zoomSpeed:i,moveSpeed:r,rotateSpeedX:o,rotateSpeedY:s}=!0===this.keyboard?{}:this.keyboard,{controllerState:a}=this;let c;const l={};switch(e.srcEvent.code){case"Minus":c=t?a.zoomOut(i).zoomOut(i):a.zoomOut(i),l.isZooming=!0;break;case"Equal":c=t?a.zoomIn(i).zoomIn(i):a.zoomIn(i),l.isZooming=!0;break;case"ArrowLeft":t?(c=a.rotateLeft(o),l.isRotating=!0):(c=a.moveLeft(r),l.isPanning=!0);break;case"ArrowRight":t?(c=a.rotateRight(o),l.isRotating=!0):(c=a.moveRight(r),l.isPanning=!0);break;case"ArrowUp":t?(c=a.rotateUp(s),l.isRotating=!0):(c=a.moveUp(r),l.isPanning=!0);break;case"ArrowDown":t?(c=a.rotateDown(s),l.isRotating=!0):(c=a.moveDown(r),l.isPanning=!0);break;default:return!1}return this.updateViewport(c,this._getTransitionProps(),l),!0}_getTransitionProps(e){const{transition:t}=this;return t&&t.transitionInterpolator?e?{...t,transitionInterpolator:new CS({...e,...t.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:t:hf}}class r6{constructor(e,t){we(this,"_viewportProps",void 0),we(this,"_state",void 0),this._viewportProps=this.applyConstraints(e),this._state=t}getViewportProps(){return this._viewportProps}getState(){return this._state}}class o6 extends r6{constructor(e){const{width:t,height:i,rotationX:r=0,rotationOrbit:o=0,target:s=[0,0,0],zoom:a=0,minRotationX:c=-90,maxRotationX:l=90,minZoom:d=-1/0,maxZoom:h=1/0,startPanPosition:f,startRotatePos:m,startRotationX:g,startRotationOrbit:v,startZoomPosition:C,startZoom:B}=e;super({width:t,height:i,rotationX:r,rotationOrbit:o,target:s,zoom:a,minRotationX:c,maxRotationX:l,minZoom:d,maxZoom:h},{startPanPosition:f,startRotatePos:m,startRotationX:g,startRotationOrbit:v,startZoomPosition:C,startZoom:B}),we(this,"makeViewport",void 0),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanPosition:this._unproject(e)})}pan({pos:e,startPosition:t}){const i=this.getState().startPanPosition||t;if(!i)return this;const o=this.makeViewport(this.getViewportProps()).panByPosition(i,e);return this._getUpdatedState(o)}panEnd(){return this._getUpdatedState({startPanPosition:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startRotationX:this.getViewportProps().rotationX,startRotationOrbit:this.getViewportProps().rotationOrbit})}rotate({pos:e,deltaAngleX:t=0,deltaAngleY:i=0}){const{startRotatePos:r,startRotationX:o,startRotationOrbit:s}=this.getState(),{width:a,height:c}=this.getViewportProps();if(!r||void 0===o||void 0===s)return this;let l;if(e){let d=(e[0]-r[0])/a;(o<-90||o>90)&&(d*=-1),l={rotationX:o+(e[1]-r[1])/c*180,rotationOrbit:s+180*d}}else l={rotationX:o+i,rotationOrbit:s+t};return this._getUpdatedState(l)}rotateEnd(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}shortestPathFrom(e){const t=e.getViewportProps(),i={...this.getViewportProps()},{rotationOrbit:r}=i;return Math.abs(r-t.rotationOrbit)>180&&(i.rotationOrbit=r<0?r+360:r-360),i}zoomStart({pos:e}){return this._getUpdatedState({startZoomPosition:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:t,scale:i}){let{startZoom:r,startZoomPosition:o}=this.getState();if(o||(r=this.getViewportProps().zoom,o=this._unproject(t)||this._unproject(e)),!o)return this;const s=this._calculateNewZoom({scale:i,startZoom:r}),a=this.makeViewport({...this.getViewportProps(),zoom:s});return this._getUpdatedState({zoom:s,...a.panByPosition(o,e)})}zoomEnd(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}zoomIn(e=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:e})})}zoomOut(e=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/e})})}moveLeft(e=50){return this._panFromCenter([-e,0])}moveRight(e=50){return this._panFromCenter([e,0])}moveUp(e=50){return this._panFromCenter([0,-e])}moveDown(e=50){return this._panFromCenter([0,e])}rotateLeft(e=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit-e})}rotateRight(e=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit+e})}rotateUp(e=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX-e})}rotateDown(e=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX+e})}_unproject(e){const t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}_calculateNewZoom({scale:e,startZoom:t}){const{maxZoom:i,minZoom:r}=this.getViewportProps();return void 0===t&&(t=this.getViewportProps().zoom),Is(t+Math.log2(e),r,i)}_panFromCenter(e){const{width:t,height:i,target:r}=this.getViewportProps();return this.pan({startPosition:r,pos:[t/2+e[0],i/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}applyConstraints(e){const{maxZoom:t,minZoom:i,zoom:r,maxRotationX:o,minRotationX:s,rotationOrbit:a}=e;return e.zoom=Array.isArray(r)?[Is(r[0],i,t),Is(r[1],i,t)]:Is(r,i,t),e.rotationX=Is(e.rotationX,s,o),(a<-180||a>180)&&(e.rotationOrbit=function Mge(n,e){const t=n%e;return t<0?e+t:t}(a+180,360)-180),e}}class U_e extends nk{constructor(...e){super(...e),we(this,"ControllerState",o6),we(this,"transition",{transitionDuration:300,transitionInterpolator:new CS({transitionProps:{compare:["target","zoom","rotationX","rotationOrbit"],required:["target","zoom"]}})})}}class V_e extends o6{constructor(e){super(e),we(this,"zoomAxis",void 0),this.zoomAxis=e.zoomAxis||"all"}_calculateNewZoom({scale:e,startZoom:t}){const{maxZoom:i,minZoom:r}=this.getViewportProps();void 0===t&&(t=this.getViewportProps().zoom);let o=Math.log2(e);if(Array.isArray(t)){let[s,a]=t;switch(this.zoomAxis){case"X":s=Is(s+o,r,i);break;case"Y":a=Is(a+o,r,i);break;default:let c=Math.min(s+o,a+o);c<r&&(o+=r-c),c=Math.max(s+o,a+o),c>i&&(o+=i-c),s+=o,a+=o}return[s,a]}return Is(t+o,r,i)}}class z_e extends nk{constructor(...e){super(...e),we(this,"ControllerState",V_e),we(this,"transition",{transitionDuration:300,transitionInterpolator:new CS(["target","zoom"])}),we(this,"dragMode","pan")}_onPanRotate(){return!1}}class ik extends ek{get ViewportType(){return R_e}get ControllerType(){return z_e}}we(ik,"displayName","OrthographicView");const rk=Math.PI/180;function H_e({height:n,focalDistance:e,orbitAxis:t,rotationX:i,rotationOrbit:r,zoom:o}){const s="Z"===t?[0,0,1]:[0,1,0],a="Z"===t?[0,-e,0]:[0,0,e],c=(new Lt).lookAt({eye:a,up:s});c.rotateX(i*rk),"Z"===t?c.rotateZ(r*rk):c.rotateY(r*rk);const l=Math.pow(2,o)/n;return c.scale(l),c}class G_e extends lf{constructor(e){const{height:t,projectionMatrix:i,fovy:r=50,orbitAxis:o="Z",target:s=[0,0,0],rotationX:a=0,rotationOrbit:c=0,zoom:l=0}=e,d=i?i[5]/2:QP(r);super({...e,longitude:void 0,viewMatrix:H_e({height:t||1,focalDistance:d,orbitAxis:o,rotationX:a,rotationOrbit:c,zoom:l}),fovy:r,focalDistance:d,position:s,zoom:l}),we(this,"projectedCenter",void 0),this.projectedCenter=this.project(this.center)}unproject(e,{topLeft:t=!0}={}){const[i,r,o=this.projectedCenter[2]]=e,s=t?r:this.height-r,[a,c,l]=D0([i,s,o],this.pixelUnprojectionMatrix);return[a,c,l]}panByPosition(e,t){const i=this.project(e);return{target:this.unproject([this.width/2+i[0]-t[0],this.height/2+i[1]-t[1],this.projectedCenter[2]])}}}class s6 extends ek{constructor(e={}){super(e),this.props.orbitAxis=e.orbitAxis||"Z"}get ViewportType(){return G_e}get ControllerType(){return U_e}}we(s6,"displayName","OrbitView");const P0="vs";function bc(n,e){if(!n)throw new Error(e||"shadertools: assertion failed.")}const sk={number:{validate:(n,e)=>Number.isFinite(n)&&(!("max"in e)||n<=e.max)&&(!("min"in e)||n>=e.min)},array:{validate:(n,e)=>Array.isArray(n)||ArrayBuffer.isView(n)}};function $_e(n){let e=a6(n);return"object"===e?n?"type"in n?Object.assign({},n,sk[n.type]):"value"in n?(e=a6(n.value),Object.assign({type:e},n,sk[e])):{type:"object",value:n}:{type:"object",value:null}:Object.assign({type:e,value:n},sk[e])}function a6(n){return Array.isArray(n)||ArrayBuffer.isView(n)?"array":typeof n}class ak{constructor(e){let{name:t,vs:i,fs:r,dependencies:o=[],uniforms:s,getUniforms:a,deprecations:c=[],defines:l={},inject:d={},vertexShader:h,fragmentShader:f}=e;bc("string"==typeof t),this.name=t,this.vs=i||h,this.fs=r||f,this.getModuleUniforms=a,this.dependencies=o,this.deprecations=this._parseDeprecationDefinitions(c),this.defines=l,this.injections=function q_e(n){const e={vs:{},fs:{}};for(const t in n){let i=n[t];"string"==typeof i&&(i={order:0,injection:i}),e[t.slice(0,2)][t]=i}return e}(d),s&&(this.uniforms=function W_e(n){const e={};for(const t in n){const r=$_e(n[t]);e[t]=r}return e}(s))}getModuleSource(e){let t;switch(e){case"vs":t=this.vs||"";break;case"fs":t=this.fs||"";break;default:bc(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(t,"// END MODULE_").concat(this.name,"\n\n")}getUniforms(e,t){return this.getModuleUniforms?this.getModuleUniforms(e,t):this.uniforms?this._defaultGetUniforms(e):{}}getDefines(){return this.defines}checkDeprecations(e,t){this.deprecations.forEach(i=>{i.regex.test(e)&&(i.deprecated?t.deprecated(i.old,i.new)():t.removed(i.old,i.new)())})}_parseDeprecationDefinitions(e){return e.forEach(t=>{t.regex="function"===t.type?new RegExp("\\b".concat(t.old,"\\(")):new RegExp("".concat(t.type," ").concat(t.old,";"))}),e}_defaultGetUniforms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={},i=this.uniforms;for(const r in i){const o=i[r];r in e&&!o.private?(o.validate&&bc(o.validate(e[r],o),"".concat(this.name,": invalid ").concat(r)),t[r]=e[r]):t[r]=o.value}return t}}function K_e(n){return function c6(n){const e={},t={};return ck({modules:n,level:0,moduleMap:e,moduleDepth:t}),Object.keys(t).sort((i,r)=>t[r]-t[i]).map(i=>e[i])}(l6(n))}function ck(n){let{modules:e,level:t,moduleMap:i,moduleDepth:r}=n;if(t>=5)throw new Error("Possible loop in shader dependency graph");for(const o of e)i[o.name]=o,(void 0===r[o.name]||r[o.name]<t)&&(r[o.name]=t);for(const o of e)o.dependencies&&ck({modules:o.dependencies,level:t+1,moduleMap:i,moduleDepth:r})}function l6(n,e){return n.map(t=>(t instanceof ak||(bc("string"!=typeof t,"Shader module use by name is deprecated. Import shader module '".concat(t,"' and use it directly.")),bc(t.name,"shader module has no name"),(t=new ak(t)).dependencies=l6(t.dependencies)),t))}const Q_e=7936,Z_e=7937,eye=7938,tye=35724,lk={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},Wp={};function rye(n,e){return n.match(/NVIDIA/i)||e.match(/NVIDIA/i)?"NVIDIA":n.match(/INTEL/i)||e.match(/INTEL/i)?"INTEL":n.match(/AMD/i)||e.match(/AMD/i)||n.match(/ATI/i)||e.match(/ATI/i)?"AMD":"UNKNOWN GPU"}Object.keys(lk).forEach(n=>{Wp[n]=n});const dk={};function d6(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=lk[e];if(bc(i,e),!function J_e(){const e=typeof window<"u"&&window.navigator||{},t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).userAgent||e.userAgent||"",i=-1!==t.indexOf("MSIE "),r=-1!==t.indexOf("Trident/");return i||r}(t))return!0;if(e in dk)return dk[e];const o=t.behavior||"enable",s="#extension GL_".concat(i[0]," : ").concat(o,"\nvoid main(void) {}"),a=n.createShader(35633);n.shaderSource(a,s),n.compileShader(a);const c=n.getShaderParameter(a,35713);return n.deleteShader(a),dk[e]=c,c}function AS(n,e){return(e=Array.isArray(e)?e:[e]).every(t=>function oye(n,e){const t=lk[e];bc(t,e);const i=function nye(n){return typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||!(!n||2!==n._version)}(n)&&t[1]||t[0],r="string"==typeof i?!!n.getExtension(i):i;return bc(!1===r||!0===r),r}(n,t))}const dye={[P0]:"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n",fs:"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"},TS="__LUMA_INJECT_DECLARATIONS__",u6=/void\s+main\s*\([^)]*\)\s*\{\n?/,h6=/}\n?[^{}]*$/,uk=[];function f6(n,e,t){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e===P0;for(const o in t){const s=t[o];s.sort((c,l)=>c.order-l.order),uk.length=s.length;for(let c=0,l=s.length;c<l;++c)uk[c]=s[c].injection;const a="".concat(uk.join("\n"),"\n");switch(o){case"vs:#decl":r&&(n=n.replace(TS,a));break;case"vs:#main-start":r&&(n=n.replace(u6,c=>c+a));break;case"vs:#main-end":r&&(n=n.replace(h6,c=>a+c));break;case"fs:#decl":r||(n=n.replace(TS,a));break;case"fs:#main-start":r||(n=n.replace(u6,c=>c+a));break;case"fs:#main-end":r||(n=n.replace(h6,c=>a+c));break;default:n=n.replace(o,c=>c+a)}}return n=n.replace(TS,""),i&&(n=n.replace(/\}\s*$/,o=>o+dye[e])),n}function hk(n){const e={};return bc(Array.isArray(n)&&n.length>1),n.forEach(t=>{for(const i in t)e[i]=e[i]?"".concat(e[i],"\n").concat(t[i]):t[i]}),e}function I_(n){return new RegExp("\\b".concat(n,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}const p6=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],uye=[...p6,[I_("attribute"),"in $1"],[I_("varying"),"out $1"]],hye=[...p6,[I_("varying"),"in $1"]],m6=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],fye=[...m6,[I_("in"),"attribute $1"],[I_("out"),"varying $1"]],pye=[...m6,[I_("in"),"varying $1"]],fk="gl_FragColor",pk=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,mye=/void\s+main\s*\([^)]*\)\s*\{\n?/;function MS(n,e){for(const[t,i]of e)n=n.replace(t,i);return n}const bye="\n\n".concat(TS,"\n\n"),g6={[P0]:"vertex",fs:"fragment"};function _6(n,e){let{id:t,source:i,type:r,modules:o,defines:s={},hookFunctions:a=[],inject:c={},transpileToGLSL100:l=!1,prologue:d=!0,log:h}=e;bc("string"==typeof i,"shader source must be a string");const f=r===P0,m=i.split("\n");let g=100,v="",C=i;0===m[0].indexOf("#version ")?(g=300,v=m[0],C=m.slice(1).join("\n")):v="#version ".concat(g);const B={};o.forEach(dt=>{Object.assign(B,dt.getDefines())}),Object.assign(B,s);let z=d?"".concat(v,"\n").concat(function Cye(n){let{id:e,source:t,type:i}=n;return e&&"string"==typeof e&&-1===t.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(e,"_").concat(g6[i],"\n\n"):""}({id:t,source:i,type:r}),"\n").concat(function Eye(n){let{type:e}=n;return"\n#define SHADER_TYPE_".concat(g6[e].toUpperCase(),"\n")}({type:r}),"\n").concat(function sye(n){switch(function iye(n){const e=n.getExtension("WEBGL_debug_renderer_info"),t=n.getParameter(e&&e.UNMASKED_VENDOR_WEBGL||Q_e),i=n.getParameter(e&&e.UNMASKED_RENDERER_WEBGL||Z_e);return{gpuVendor:rye(t,i),vendor:t,renderer:i,version:n.getParameter(eye),shadingLanguageVersion:n.getParameter(tye)}}(n).gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(n),"\n").concat(function aye(n,e,t){let i="#if (__VERSION__ > 120)\n\n# define FEATURE_GLSL_DERIVATIVES\n# define FEATURE_GLSL_DRAW_BUFFERS\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FEATURE_GLSL_TEXTURE_LOD\n\n// DEPRECATED FLAGS, remove in v9\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return AS(n,Wp.GLSL_FRAG_DEPTH)&&(i+="\n// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),AS(n,Wp.GLSL_DERIVATIVES)&&d6(n,Wp.GLSL_DERIVATIVES)&&(i+="\n// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define FEATURE_GLSL_DERIVATIVES\n# define DERIVATIVES\n#endif\n"),AS(n,Wp.GLSL_FRAG_DATA)&&d6(n,Wp.GLSL_FRAG_DATA,{behavior:"require"})&&(i+="\n// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define FEATURE_GLSL_DRAW_BUFFERS\n#define DRAW_BUFFERS\n#endif\n"),AS(n,Wp.GLSL_TEXTURE_LOD)&&(i+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n\n# define FEATURE_GLSL_TEXTURE_LOD\n# define TEXTURE_LOD\n\n#endif\n"),i}(n),"\n").concat(function Sye(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=0,t="";for(const i in n){0===e&&(t+="\n// APPLICATION DEFINES\n"),e++;const r=n[i];(r||Number.isFinite(r))&&(t+="#define ".concat(i.toUpperCase()," ").concat(n[i],"\n"))}return 0===e&&(t+="\n"),t}(B),"\n").concat(f?"":"precision highp float;\n\n","\n"):"".concat(v,"\n");const le=function Tye(n){const e={vs:{},fs:{}};return n.forEach(t=>{let i;"string"!=typeof t?(i=t,t=i.hook):i={},t=t.trim();const[r,o]=t.split(":"),s=t.replace(/\(.+/,"");e[r][s]=Object.assign(i,{signature:o})}),e}(a),se={},ke={},$e={};for(const dt in c){const gt="string"==typeof c[dt]?{injection:c[dt],order:0}:c[dt],tt=dt.match(/^(v|f)s:(#)?([\w-]+)$/);tt?tt[2]?"decl"===tt[3]?ke[dt]=[gt]:$e[dt]=[gt]:se[dt]=[gt]:$e[dt]=[gt]}for(const dt of o){h&&dt.checkDeprecations(C,h),z+=dt.getModuleSource(r,g);const tt=dt.injections[r];for(const bt in tt){const Rt=bt.match(/^(v|f)s:#([\w-]+)$/);if(Rt){const wt="decl"===Rt[2]?ke:$e;wt[bt]=wt[bt]||[],wt[bt].push(tt[bt])}else se[bt]=se[bt]||[],se[bt].push(tt[bt])}}return z+=bye,z=f6(z,r,ke),z+=function Aye(n,e){let t="";for(const i in n){const r=n[i];if(t+="void ".concat(r.signature," {\n"),r.header&&(t+="  ".concat(r.header)),e[i]){const o=e[i];o.sort((s,a)=>s.order-a.order);for(const s of o)t+="  ".concat(s.injection,"\n")}r.footer&&(t+="  ".concat(r.footer)),t+="}\n"}return t}(le[r],se),z+=C,z=f6(z,r,$e),z=function gye(n,e,t){switch(e){case 300:return t?MS(n,uye):function _ye(n){const e=(n=MS(n,hye)).match(pk);if(e){const t=e[1];n=n.replace(new RegExp("\\b".concat(fk,"\\b"),"g"),t)}else{const t="fragmentColor";n=n.replace(mye,i=>"out vec4 ".concat(t,";\n").concat(i)).replace(new RegExp("\\b".concat(fk,"\\b"),"g"),t)}return n}(n);case 100:return t?MS(n,fye):function yye(n){const e=(n=MS(n,pye)).match(pk);if(e){const t=e[1];n=n.replace(pk,"").replace(new RegExp("\\b".concat(t,"\\b"),"g"),fk)}return n}(n);default:throw new Error("unknown GLSL version ".concat(e))}}(z,l?100:g,f),z}function xye(n){return function(t){const i={};for(const r of n){const o=r.getUniforms(t,i);Object.assign(i,o)}return i}}const Dn=new S0({id:"luma.gl"});function Sa(n,e){if(!n)throw new Error(e||"luma.gl: assertion failed.")}const Iye="Requires WebGL2";function IS(n){return typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext||typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||!(!n||!Number.isFinite(n._version))}function Si(n){return typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||!(!n||2!==n._version)}function DS(n){return Sa(IS(n),"Invalid WebGLRenderingContext"),n}function ra(n){return Sa(Si(n),Iye),n}const k0={};const N0=function n(e){const t=e.gl;this.ext=e,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(e.maxVertexAttribs);for(let i=0;i<this.attribs.length;i++){const r=new n.VertexAttrib(t);this.attribs[i]=r}this.maxAttrib=0};(N0.VertexAttrib=function(e){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};const $p=function(e){const t=this;this.gl=e,function kye(n){const e=n.getError;n.getError=function(){let i;do{i=e.apply(n),0!==i&&(k0[i]=!0)}while(0!==i);for(i in k0)if(k0[i])return delete k0[i],parseInt(i,10);return 0}}(e);const i=this.original={getParameter:e.getParameter,enableVertexAttribArray:e.enableVertexAttribArray,disableVertexAttribArray:e.disableVertexAttribArray,bindBuffer:e.bindBuffer,getVertexAttrib:e.getVertexAttrib,vertexAttribPointer:e.vertexAttribPointer};e.getParameter=function(o){return o===t.VERTEX_ARRAY_BINDING_OES?t.currentVertexArrayObject===t.defaultVertexArrayObject?null:t.currentVertexArrayObject:i.getParameter.apply(this,arguments)},e.enableVertexAttribArray=function(o){const s=t.currentVertexArrayObject;return s.maxAttrib=Math.max(s.maxAttrib,o),s.attribs[o].enabled=!0,i.enableVertexAttribArray.apply(this,arguments)},e.disableVertexAttribArray=function(o){const s=t.currentVertexArrayObject;return s.maxAttrib=Math.max(s.maxAttrib,o),s.attribs[o].enabled=!1,i.disableVertexAttribArray.apply(this,arguments)},e.bindBuffer=function(o,s){switch(o){case 34962:t.currentArrayBuffer=s;break;case 34963:t.currentVertexArrayObject.elementArrayBuffer=s}return i.bindBuffer.apply(this,arguments)},e.getVertexAttrib=function(o,s){const c=t.currentVertexArrayObject.attribs[o];switch(s){case 34975:return c.buffer;case 34338:return c.enabled;case 34339:return c.size;case 34340:return c.stride;case 34341:return c.type;case 34922:return c.normalized;default:return i.getVertexAttrib.apply(this,arguments)}},e.vertexAttribPointer=function(o,s,a,c,l,d){const h=t.currentVertexArrayObject;h.maxAttrib=Math.max(h.maxAttrib,o);const f=h.attribs[o];return f.buffer=t.currentArrayBuffer,f.size=s,f.type=a,f.normalized=c,f.stride=l,f.offset=d,f.recache(),i.vertexAttribPointer.apply(this,arguments)},e.instrumentExtension&&e.instrumentExtension(this,"OES_vertex_array_object"),e.canvas&&e.canvas.addEventListener("webglcontextrestored",()=>{(function Rye(n){globalThis.console&&globalThis.console.log&&globalThis.console.log(n)})("OESVertexArrayObject emulation library context restored"),t.reset_()},!0),this.reset_()};$p.prototype.VERTEX_ARRAY_BINDING_OES=34229,$p.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(let i=0;i<this.vertexArrayObjects.length;++i)this.vertexArrayObjects.isAlive=!1;this.maxVertexAttribs=this.gl.getParameter(34921),this.defaultVertexArrayObject=new N0(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},$p.prototype.createVertexArrayOES=function(){const e=new N0(this);return this.vertexArrayObjects.push(e),e},$p.prototype.deleteVertexArrayOES=function(e){e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(e),1),this.currentVertexArrayObject===e&&this.bindVertexArrayOES(null)},$p.prototype.isVertexArrayOES=function(e){return!!(e&&e instanceof N0&&e.hasBeenBound&&e.ext===this)},$p.prototype.bindVertexArrayOES=function(e){const t=this.gl;if(e&&!e.isAlive)return void function Pye(n,e){k0[n]=!0,void 0!==e&&function Oye(n){globalThis.console&&globalThis.console.error&&globalThis.console.error(n)}(e)}(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject");const i=this.original,r=this.currentVertexArrayObject;this.currentVertexArrayObject=e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;const o=this.currentVertexArrayObject;if(r===o)return;(!r||o.elementArrayBuffer!==r.elementArrayBuffer)&&i.bindBuffer.call(t,34963,o.elementArrayBuffer);let s=this.currentArrayBuffer;const a=Math.max(r?r.maxAttrib:0,o.maxAttrib);for(let c=0;c<=a;c++){const l=o.attribs[c],d=r?r.attribs[c]:null;if((!r||l.enabled!==d.enabled)&&(l.enabled?i.enableVertexAttribArray.call(t,c):i.disableVertexAttribArray.call(t,c)),l.enabled){let h=!1;(!r||l.buffer!==d.buffer)&&(s!==l.buffer&&(i.bindBuffer.call(t,34962,l.buffer),s=l.buffer),h=!0),(h||l.cached!==d.cached)&&i.vertexAttribPointer.call(t,c,l.size,l.type,l.normalized,l.stride,l.offset)}}this.currentArrayBuffer!==s&&i.bindBuffer.call(t,34962,this.currentArrayBuffer)};const y6="OES_element_index",b6="WEBGL_draw_buffers",v6="WEBGL_debug_renderer_info",Ur=n=>Si(n)?void 0:0,Wye={3074:n=>Si(n)?void 0:36064,35723:n=>Si(n)?void 0:4352,35977:Ur,32937:Ur,36795:(n,e)=>{const t=Si(n)?n.getExtension("EXT_disjoint_timer_query_webgl2"):n.getExtension("EXT_disjoint_timer_query");return t&&t.GPU_DISJOINT_EXT?e(t.GPU_DISJOINT_EXT):0},37445:(n,e)=>{const t=n.getExtension(v6);return e(t&&t.UNMASKED_VENDOR_WEBGL||7936)},37446:(n,e)=>{const t=n.getExtension(v6);return e(t&&t.UNMASKED_RENDERER_WEBGL||7937)},34047:(n,e)=>{const t=n.luma.extensions.EXT_texture_filter_anisotropic;return t?e(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1},32883:Ur,35071:Ur,37447:Ur,36063:(n,e)=>{if(!Si(n)){const t=n.getExtension(b6);return t?e(t.MAX_COLOR_ATTACHMENTS_WEBGL):0}},35379:Ur,35374:Ur,35377:Ur,34852:n=>{if(!Si(n)){const e=n.getExtension(b6);return e?e.MAX_DRAW_BUFFERS_WEBGL:0}},36203:n=>n.getExtension(y6)?2147483647:65535,33001:n=>n.getExtension(y6)?16777216:65535,33e3:n=>16777216,37157:Ur,35373:Ur,35657:Ur,36183:Ur,37137:Ur,34045:Ur,35978:Ur,35979:Ur,35968:Ur,35376:Ur,35375:Ur,35659:Ur,37154:Ur,35371:Ur,35658:Ur,35076:Ur,35077:Ur,35380:Ur},w6="ANGLE_instanced_arrays",x6={OES_vertex_array_object:{meta:{suffix:"OES"},createVertexArray:()=>{Sa(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:()=>{},bindVertexArray:()=>{},isVertexArray:()=>!1},[w6]:{meta:{suffix:"ANGLE"},vertexAttribDivisor(n,e){Sa(0===e,"WebGL instanced rendering not supported")},drawElementsInstanced:()=>{},drawArraysInstanced:()=>{}},WEBGL_draw_buffers:{meta:{suffix:"WEBGL"},drawBuffers:()=>{Sa(!1)}},EXT_disjoint_timer_query:{meta:{suffix:"EXT"},createQuery:()=>{Sa(!1)},deleteQuery:()=>{Sa(!1)},beginQuery:()=>{Sa(!1)},endQuery:()=>{},getQuery(n,e){return this.getQueryObject(n,e)},getQueryParameter(n,e){return this.getQueryObject(n,e)},getQueryObject:()=>{}}},mk={readBuffer:(n,e,t)=>{Si(n)&&e(t)},getVertexAttrib:(n,e,t,i)=>{const{webgl2:r,ext:o}=function Qye(n,e){return{webgl2:Si(n),ext:n.getExtension(e)}}(n,w6);let s;switch(i){case 35069:s=!!r&&void 0;break;case 35070:s=r||o?void 0:0}return void 0!==s?s:e(t,i)},getProgramParameter:(n,e,t,i)=>{if(!Si(n))switch(i){case 35967:return 35981;case 35971:case 35382:return 0}return e(t,i)},getInternalformatParameter:(n,e,t,i,r)=>Si(n)||32937!==r?n.getInternalformatParameter(t,i,r):new Int32Array([0]),getTexParameter(n,e,t,i){if(34046===i){const{extensions:r}=n.luma,o=r.EXT_texture_filter_anisotropic;i=o&&o.TEXTURE_MAX_ANISOTROPY_EXT||34046}return e(t,i)},getParameter:function $ye(n,e,t){const i=Wye[t],r="function"==typeof i?i(n,e,t):i;return void 0!==r?r:e(t)},hint:(n,e,t,i)=>e(t,i)};function ibe(n,e){let{extension:t,target:i,target2:r}=e;const o=x6[t];Sa(o);const{meta:s={}}=o,{suffix:a=""}=s,c=n.getExtension(t);for(const l of Object.keys(o)){const d="".concat(l).concat(a);let h=null;"meta"===l||"function"==typeof n[l]||(c&&"function"==typeof c[d]?h=function(){return c[d](...arguments)}:"function"==typeof o[l]&&(h=o[l].bind(i))),h&&(i[l]=h,r[l]=h)}}globalThis.polyfillContext=function Zye(n){n.luma=n.luma||{};const{luma:e}=n;return e.polyfilled||(function Nye(n){if("function"==typeof n.createVertexArray)return;const e=n.getSupportedExtensions;n.getSupportedExtensions=function(){const r=e.call(this)||[];return r.indexOf("OES_vertex_array_object")<0&&r.push("OES_vertex_array_object"),r};const t=n.getExtension;n.getExtension=function(r){return t.call(this,r)||("OES_vertex_array_object"!==r?null:(n.__OESVertexArrayObject||(this.__OESVertexArrayObject=new $p(this)),this.__OESVertexArrayObject))}}(n),function ebe(n){n.luma.extensions={};const e=n.getSupportedExtensions()||[];for(const t of e)n.luma[t]=n.getExtension(t)}(n),function nbe(n,e){for(const t of Object.getOwnPropertyNames(e))"overrides"!==t&&ibe(n,{extension:t,target:n.luma,target2:n})}(n,x6),function tbe(n,e){let{target:t,target2:i}=e;Object.keys(mk).forEach(r=>{if("function"==typeof mk[r]){const o=n[r]?n[r].bind(n):()=>{},s=mk[r].bind(null,n,o);t[r]=s,i[r]=s}})}(n,{target:e,target2:n}),e.polyfilled=!0),n};const gk={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,36006:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],3333:4,3317:4,37440:!1,37441:!1,37443:37444,35723:4352,36010:null,35977:!1,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},ff=(n,e,t)=>e?n.enable(t):n.disable(t),E6=(n,e,t)=>n.hint(t,e),vc=(n,e,t)=>n.pixelStorei(t,e);function F0(n){return Array.isArray(n)||ArrayBuffer.isView(n)}const sbe={3042:ff,32773:(n,e)=>n.blendColor(...e),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(n,e)=>n.clearColor(...e),3107:(n,e)=>n.colorMask(...e),2884:ff,2885:(n,e)=>n.cullFace(e),2929:ff,2931:(n,e)=>n.clearDepth(e),2932:(n,e)=>n.depthFunc(e),2928:(n,e)=>n.depthRange(...e),2930:(n,e)=>n.depthMask(e),3024:ff,35723:E6,36006:(n,e)=>{const t=Si(n)?36009:36160;return n.bindFramebuffer(t,e)},2886:(n,e)=>n.frontFace(e),33170:E6,2849:(n,e)=>n.lineWidth(e),32823:ff,32824:"polygonOffset",10752:"polygonOffset",35977:ff,32938:"sampleCoverage",32939:"sampleCoverage",3089:ff,3088:(n,e)=>n.scissor(...e),2960:ff,2961:(n,e)=>n.clearStencil(e),2968:(n,e)=>n.stencilMaskSeparate(1028,e),36005:(n,e)=>n.stencilMaskSeparate(1029,e),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(n,e)=>n.viewport(...e),3333:vc,3317:vc,37440:vc,37441:vc,37443:vc,3330:vc,3332:vc,3331:vc,36010:(n,e)=>n.bindFramebuffer(36008,e),3314:vc,32878:vc,3316:vc,3315:vc,32877:vc,framebuffer:(n,e)=>n.bindFramebuffer(36160,e&&"handle"in e?e.handle:e),blend:(n,e)=>e?n.enable(3042):n.disable(3042),blendColor:(n,e)=>n.blendColor(...e),blendEquation:(n,e)=>{e=F0(e)?e:[e,e],n.blendEquationSeparate(...e)},blendFunc:(n,e)=>{e=F0(e)&&2===e.length?[...e,...e]:e,n.blendFuncSeparate(...e)},clearColor:(n,e)=>n.clearColor(...e),clearDepth:(n,e)=>n.clearDepth(e),clearStencil:(n,e)=>n.clearStencil(e),colorMask:(n,e)=>n.colorMask(...e),cull:(n,e)=>e?n.enable(2884):n.disable(2884),cullFace:(n,e)=>n.cullFace(e),depthTest:(n,e)=>e?n.enable(2929):n.disable(2929),depthFunc:(n,e)=>n.depthFunc(e),depthMask:(n,e)=>n.depthMask(e),depthRange:(n,e)=>n.depthRange(...e),dither:(n,e)=>e?n.enable(3024):n.disable(3024),derivativeHint:(n,e)=>{n.hint(35723,e)},frontFace:(n,e)=>n.frontFace(e),mipmapHint:(n,e)=>n.hint(33170,e),lineWidth:(n,e)=>n.lineWidth(e),polygonOffsetFill:(n,e)=>e?n.enable(32823):n.disable(32823),polygonOffset:(n,e)=>n.polygonOffset(...e),sampleCoverage:(n,e)=>n.sampleCoverage(...e),scissorTest:(n,e)=>e?n.enable(3089):n.disable(3089),scissor:(n,e)=>n.scissor(...e),stencilTest:(n,e)=>e?n.enable(2960):n.disable(2960),stencilMask:(n,e)=>{e=F0(e)?e:[e,e];const[t,i]=e;n.stencilMaskSeparate(1028,t),n.stencilMaskSeparate(1029,i)},stencilFunc:(n,e)=>{e=F0(e)&&3===e.length?[...e,...e]:e;const[t,i,r,o,s,a]=e;n.stencilFuncSeparate(1028,t,i,r),n.stencilFuncSeparate(1029,o,s,a)},stencilOp:(n,e)=>{e=F0(e)&&3===e.length?[...e,...e]:e;const[t,i,r,o,s,a]=e;n.stencilOpSeparate(1028,t,i,r),n.stencilOpSeparate(1029,o,s,a)},viewport:(n,e)=>n.viewport(...e)};function lo(n,e,t){return void 0!==e[n]?e[n]:t[n]}const abe={blendEquation:(n,e,t)=>n.blendEquationSeparate(lo(32777,e,t),lo(34877,e,t)),blendFunc:(n,e,t)=>n.blendFuncSeparate(lo(32969,e,t),lo(32968,e,t),lo(32971,e,t),lo(32970,e,t)),polygonOffset:(n,e,t)=>n.polygonOffset(lo(32824,e,t),lo(10752,e,t)),sampleCoverage:(n,e,t)=>n.sampleCoverage(lo(32938,e,t),lo(32939,e,t)),stencilFuncFront:(n,e,t)=>n.stencilFuncSeparate(1028,lo(2962,e,t),lo(2967,e,t),lo(2963,e,t)),stencilFuncBack:(n,e,t)=>n.stencilFuncSeparate(1029,lo(34816,e,t),lo(36003,e,t),lo(36004,e,t)),stencilOpFront:(n,e,t)=>n.stencilOpSeparate(1028,lo(2964,e,t),lo(2965,e,t),lo(2966,e,t)),stencilOpBack:(n,e,t)=>n.stencilOpSeparate(1029,lo(34817,e,t),lo(34818,e,t),lo(34819,e,t))},C6={enable:(n,e)=>n({[e]:!0}),disable:(n,e)=>n({[e]:!1}),pixelStorei:(n,e,t)=>n({[e]:t}),hint:(n,e,t)=>n({[e]:t}),bindFramebuffer:(n,e,t)=>{switch(e){case 36160:return n({36006:t,36010:t});case 36009:return n({36006:t});case 36008:return n({36010:t});default:return null}},blendColor:(n,e,t,i,r)=>n({32773:new Float32Array([e,t,i,r])}),blendEquation:(n,e)=>n({32777:e,34877:e}),blendEquationSeparate:(n,e,t)=>n({32777:e,34877:t}),blendFunc:(n,e,t)=>n({32969:e,32968:t,32971:e,32970:t}),blendFuncSeparate:(n,e,t,i,r)=>n({32969:e,32968:t,32971:i,32970:r}),clearColor:(n,e,t,i,r)=>n({3106:new Float32Array([e,t,i,r])}),clearDepth:(n,e)=>n({2931:e}),clearStencil:(n,e)=>n({2961:e}),colorMask:(n,e,t,i,r)=>n({3107:[e,t,i,r]}),cullFace:(n,e)=>n({2885:e}),depthFunc:(n,e)=>n({2932:e}),depthRange:(n,e,t)=>n({2928:new Float32Array([e,t])}),depthMask:(n,e)=>n({2930:e}),frontFace:(n,e)=>n({2886:e}),lineWidth:(n,e)=>n({2849:e}),polygonOffset:(n,e,t)=>n({32824:e,10752:t}),sampleCoverage:(n,e,t)=>n({32938:e,32939:t}),scissor:(n,e,t,i,r)=>n({3088:new Int32Array([e,t,i,r])}),stencilMask:(n,e)=>n({2968:e,36005:e}),stencilMaskSeparate:(n,e,t)=>n({[1028===e?2968:36005]:t}),stencilFunc:(n,e,t,i)=>n({2962:e,2967:t,2963:i,34816:e,36003:t,36004:i}),stencilFuncSeparate:(n,e,t,i,r)=>n({[1028===e?2962:34816]:t,[1028===e?2967:36003]:i,[1028===e?2963:36004]:r}),stencilOp:(n,e,t,i)=>n({2964:e,2965:t,2966:i,34817:e,34818:t,34819:i}),stencilOpSeparate:(n,e,t,i,r)=>n({[1028===e?2964:34817]:t,[1028===e?2965:34818]:i,[1028===e?2966:34819]:r}),viewport:(n,e,t,i,r)=>n({2978:[e,t,i,r]})},Id=(n,e)=>n.isEnabled(e),S6={3042:Id,2884:Id,2929:Id,3024:Id,32823:Id,32926:Id,32928:Id,3089:Id,2960:Id,35977:Id};function A6(n){for(const e in n)return!1;return!0}function cbe(n,e){if(n===e)return!0;const t=Array.isArray(n)||ArrayBuffer.isView(n),i=Array.isArray(e)||ArrayBuffer.isView(e);if(t&&i&&n.length===e.length){for(let r=0;r<n.length;++r)if(n[r]!==e[r])return!1;return!0}return!1}function T6(n,e){const t=n[e].bind(n);n[e]=function(){const r=arguments.length<=0?void 0:arguments[0];return r in n.state.cache&&n.state.enable?n.state.cache[r]:t(...arguments)},Object.defineProperty(n[e],"name",{value:"".concat(e,"-from-cache"),configurable:!1})}function lbe(n,e,t){const i=n[e].bind(n);n[e]=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const{valueChanged:c,oldValue:l}=t(n.state._updateCache,...s);return c&&i(...s),l},Object.defineProperty(n[e],"name",{value:"".concat(e,"-to-cache"),configurable:!1})}class ube{constructor(e){let{copyState:t=!1,log:i=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.program=null,this.stateStack=[],this.enable=!0,this.cache=t?function fbe(n,e){if("number"==typeof(e=e||gk)){const r=e,o=S6[r];return o?o(n,r):n.getParameter(r)}const t=Array.isArray(e)?e:Object.keys(e),i={};for(const r of t){const o=S6[r];i[r]=o?o(n,Number(r)):n.getParameter(Number(r))}return i}(e):Object.assign({},gk),this.log=i,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(){this.stateStack.push({})}pop(){Sa(this.stateStack.length>0),Hu(this.gl,this.stateStack[this.stateStack.length-1]),this.stateStack.pop()}_updateCache(e){let i,t=!1;const r=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(const o in e){Sa(void 0!==o);const s=e[o],a=this.cache[o];cbe(s,a)||(t=!0,i=a,r&&!(o in r)&&(r[o]=a),this.cache[o]=s)}return{valueChanged:t,oldValue:i}}}function M6(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{enable:t=!0,copyState:i}=e;if(Sa(void 0!==i),!n.state){const{polyfillContext:r}=globalThis;r&&r(n),n.state=new ube(n,{copyState:i}),function dbe(n){const e=n.useProgram.bind(n);n.useProgram=function(i){n.state.program!==i&&(e(i),n.state.program=i)}}(n);for(const o in C6)lbe(n,o,C6[o]);T6(n,"getParameter"),T6(n,"isEnabled")}return n.state.enable=t,n}function I6(n){Sa(n.state),n.state.pop()}function Hu(n,e){if(Sa(IS(n),"setParameters requires a WebGL context"),A6(e))return;const t={};for(const r in e){const o=Number(r),s=sbe[r];s&&("string"==typeof s?t[s]=!0:s(n,e[r],o))}const i=n.state&&n.state.cache;if(i)for(const r in t)(0,abe[r])(n,e,i)}function Zc(n,e,t){if(A6(e))return t(n);const{nocatch:i=!0}=e;let r;if(function hbe(n){n.state||M6(n,{copyState:!1}),n.state.push()}(n),Hu(n,e),i)r=t(n),I6(n);else try{r=t(n)}finally{I6(n)}return r}function D_(n){const{luma:e}=n;if(n.canvas&&e){const t=e.canvasSizeInfo,i="clientWidth"in t?t.clientWidth:n.canvas.clientWidth;return i?n.drawingBufferWidth/i:1}return 1}function _k(n,e){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function gbe(n,e,t,i,r){const o=D6(n[0],e,t);let s=O6(n[1],e,i,r),a=D6(n[0]+1,e,t);const c=a===t-1?a:a-1;let l;return a=O6(n[1]+1,e,i,r),r?(a=0===a?a:a+1,l=s,s=a):l=a===i-1?a:a-1,{x:o,y:s,width:Math.max(c-o+1,1),height:Math.max(l-s+1,1)}}(e,D_(n),n.drawingBufferWidth,n.drawingBufferHeight,t)}function D6(n,e,t){return Math.min(Math.round(n*e),t-1)}function O6(n,e,t,i){return i?Math.max(0,t-1-Math.round(n*e)):Math.min(Math.round(n*e),t-1)}const yk=Ad(),_be=yk&&typeof document<"u",R6={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function P6(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Sa(yk,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils"),n=Object.assign({},R6,n);const{width:e,height:t}=n;function i(a){if(n.throwOnError)throw new Error(a);return console.error(a),null}let r;n.onError=i;const{canvas:o}=n,s=function wbe(n){let o,{canvas:e,width:t=800,height:i=600,onError:r}=n;return"string"==typeof e?(_be&&"complete"===document.readyState||r("createGLContext called on canvas '".concat(e,"' before page was loaded")),o=document.getElementById(e)):e?o=e:(o=document.createElement("canvas"),o.id="lumagl-canvas",o.style.width=Number.isFinite(t)?"".concat(t,"px"):"100%",o.style.height=Number.isFinite(i)?"".concat(i,"px"):"100%",document.body.insertBefore(o,document.body.firstChild)),o}({canvas:o,width:e,height:t,onError:i});return r=function vbe(n,e){const{onError:t}=e;let i=null;const r=c=>i=c.statusMessage||i;n.addEventListener("webglcontextcreationerror",r,!1);const{webgl1:o=!0,webgl2:s=!0}=e;let a=null;return s&&(a=a||n.getContext("webgl2",e),a=a||n.getContext("experimental-webgl2",e)),o&&(a=a||n.getContext("webgl",e),a=a||n.getContext("experimental-webgl",e)),n.removeEventListener("webglcontextcreationerror",r,!1),a?(e.onContextLost&&n.addEventListener("webglcontextlost",e.onContextLost,!1),e.onContextRestored&&n.addEventListener("webglcontextrestored",e.onContextRestored,!1),a):t("Failed to create ".concat(s&&!o?"WebGL2":"WebGL"," context: ").concat(i||"Unknown error"))}(s,n),r?(r=bk(r,n),function xbe(n){const e=Si(n)?"WebGL2":"WebGL1",t=function ybe(n){const e=n.getParameter(7936),t=n.getParameter(7937),i=n.getExtension("WEBGL_debug_renderer_info");return{vendor:i&&n.getParameter(i.UNMASKED_VENDOR_WEBGL||7936)||e,renderer:i&&n.getParameter(i.UNMASKED_RENDERER_WEBGL||7937)||t,vendorMasked:e,rendererMasked:t,version:n.getParameter(7938),shadingLanguageVersion:n.getParameter(35724)}}(n),i=t?"(".concat(t.vendor,",").concat(t.renderer,")"):"",r=n.debug?" debug":"";Dn.info(1,"".concat(e).concat(r," context ").concat(i))()}(r),r):null}function bk(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!n||n._instrumented)return n;n._version=n._version||function Ebe(n){return typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext?2:1}(n),n.luma=n.luma||{},n.luma.canvasSizeInfo=n.luma.canvasSizeInfo||{},e=Object.assign({},R6,e);const{manageState:t,debug:i}=e;return t&&M6(n,{copyState:!1,log:function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return Dn.log(1,...o)()}}),yk&&i&&(globalThis.makeDebugContext?(n=globalThis.makeDebugContext(n,e),Dn.level=Math.max(Dn.level,1)):Dn.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),n._instrumented=!0,n}function k6(){let n;if(typeof window<"u"&&window.performance)n=window.performance.now();else if(typeof process<"u"&&process.hrtime){const e=process.hrtime();n=1e3*e[0]+e[1]/1e6}else n=Date.now();return n}class N6{constructor(e,t){we(this,"name",void 0),we(this,"type",void 0),we(this,"sampleSize",1),we(this,"time",void 0),we(this,"count",void 0),we(this,"samples",void 0),we(this,"lastTiming",void 0),we(this,"lastSampleTime",void 0),we(this,"lastSampleCount",void 0),we(this,"_count",0),we(this,"_time",0),we(this,"_samples",0),we(this,"_startTime",0),we(this,"_timerPending",!1),this.name=e,this.type=t,this.reset()}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=k6(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(k6()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class vk{constructor(e){we(this,"id",void 0),we(this,"stats",{}),this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e){return this._getOrCreate({name:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count"})}get size(){return Object.keys(this.stats).length}reset(){for(const e in this.stats)this.stats[e].reset();return this}forEach(e){for(const t in this.stats)e(this.stats[t])}getTable(){const e={};return this.forEach(t=>{e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}}),e}_initializeStats(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(t=>this._getOrCreate(t))}_getOrCreate(e){if(!e||!e.name)return null;const{name:t,type:i}=e;return this.stats[t]||(this.stats[t]=e instanceof N6?e:new N6(t,i)),this.stats[t]}}const L0="8.5.21",Xp=new class Abe{constructor(){this.stats=new Map}get(e){return this.stats.has(e)||this.stats.set(e,new vk({id:e})),this.stats.get(e)}};if(globalThis.luma&&globalThis.luma.VERSION!==L0)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(L0));function ln(n,e){if(!n)throw new Error(e||"luma.gl: assertion failed.")}function wk(n,e){if("string"!=typeof e)return e;const t=Number(e);if(!isNaN(t))return t;const i=n[e=e.replace(/^.*\./,"")];return ln(void 0!==i,"Accessing undefined constant GL.".concat(e)),i}function pf(n,e){e=Number(e);for(const t in n)if(n[t]===e)return"GL.".concat(t);return String(e)}globalThis.luma||(Ad()&&Dn.log(1,"luma.gl ".concat(L0," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),globalThis.luma=globalThis.luma||{VERSION:L0,version:L0,log:Dn,stats:Xp,globals:{modules:{},nodeIO:{}}}),globalThis;const xk={};function Ya(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";xk[n]=xk[n]||1;const e=xk[n]++;return"".concat(n,"-").concat(e)}function F6(n){return ln("number"==typeof n,"Input must be a number"),n&&0==(n&n-1)}function O_(n){let e=!0;for(const t in n){e=!1;break}return e}function L6(n,e,t,i){const r="See luma.gl ".concat(t," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),o=Object.getPrototypeOf(n);i.forEach(s=>{o.methodName||(o[s]=()=>{throw Dn.removed("Calling removed method ".concat(e,".").concat(s,": "),r)(),new Error(s)})})}const R_="Resource subclass must define virtual methods";class Gu{get[Symbol.toStringTag](){return"Resource"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};DS(e);const{id:i,userData:r={}}=t;this.gl=e,this.gl2=e,this.id=i||Ya(this[Symbol.toStringTag]),this.userData=r,this._bound=!1,this._handle=t.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}toString(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}get handle(){return this._handle}delete(){let{deleteChildren:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,t&&e&&t.filter(Boolean).forEach(i=>i.delete()),this}bind(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!=typeof e?(this._bindHandle(e),this):(this._bound?t=e():(this._bindHandle(this.handle),this._bound=!0,t=e(),this._bound=!1,this._bindHandle(null)),t)}unbind(){this.bind(null)}getParameter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ln(e=wk(this.gl,e));const r=(this.constructor.PARAMETERS||{})[e];if(r){const o=Si(this.gl);if("webgl2"in r&&!o||"extension"in r&&!this.gl.getExtension(r.extension))return o&&"webgl2"in r?r.webgl2:r.webgl1}return this._getParameter(e,t)}getParameters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{parameters:t,keys:i}=e,r=this.constructor.PARAMETERS||{},o=Si(this.gl),s={},a=t||Object.keys(r);for(const c of a){const l=r[c];if(l&&(!("webgl2"in l)||o)&&(!("extension"in l)||this.gl.getExtension(l.extension))){const h=i?pf(this.gl,c):c;s[h]=this.getParameter(c,e),i&&"GLenum"===l.type&&(s[h]=pf(this.gl,s[h]))}}return s}setParameter(e,t){ln(e=wk(this.gl,e));const r=(this.constructor.PARAMETERS||{})[e];if(r){const o=Si(this.gl);if("webgl2"in r&&!o||"extension"in r&&!this.gl.getExtension(r.extension))throw new Error("Parameter not available on this platform");"GLenum"===r.type&&(t=wk(t))}return this._setParameter(e,t),this}setParameters(e){for(const t in e)this.setParameter(t,e[t]);return this}stubRemovedMethods(e,t,i){return L6(this,e,t,i)}initialize(e){}_createHandle(){throw new Error(R_)}_deleteHandle(){throw new Error(R_)}_bindHandle(e){throw new Error(R_)}_getOptsFromHandle(){throw new Error(R_)}_getParameter(e,t){throw new Error(R_)}_setParameter(e,t){throw new Error(R_)}_context(){return this.gl.luma=this.gl.luma||{},this.gl.luma}_addStats(){const e=this[Symbol.toStringTag],t=Xp.get("Resource Counts");t.get("Resources Created").incrementCount(),t.get("".concat(e,"s Created")).incrementCount(),t.get("".concat(e,"s Active")).incrementCount()}_removeStats(){const e=this[Symbol.toStringTag];Xp.get("Resource Counts").get("".concat(e,"s Active")).decrementCount()}_trackAllocatedMemory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];this._trackAllocatedMemoryForContext(e,t),this._trackAllocatedMemoryForContext(e,t,this.gl.canvas&&this.gl.canvas.id),this.byteLength=e}_trackAllocatedMemoryForContext(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];const r=Xp.get("Memory Usage".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""));r.get("GPU Memory").addCount(e),r.get("".concat(t," Memory")).addCount(e)}_trackDeallocatedMemory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];this._trackDeallocatedMemoryForContext(e),this._trackDeallocatedMemoryForContext(e,this.gl.canvas&&this.gl.canvas.id),this.byteLength=0}_trackDeallocatedMemoryForContext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];const i=Xp.get("Memory Usage".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:""));i.get("GPU Memory").subtractCount(this.byteLength),i.get("".concat(e," Memory")).subtractCount(this.byteLength)}}const Tbe="Failed to deduce GL constant from typed array";function Ek(n){switch(ArrayBuffer.isView(n)?n.constructor:n){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(Tbe)}}function B0(n){let{clamped:e=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return e?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function Ibe(n){let{data:e,width:t,height:i}=n;const r=Math.round(t/2),o=Math.round(i/2),s=new Uint8Array(r*o*4);for(let a=0;a<o;a++)for(let c=0;c<r;c++)for(let l=0;l<4;l++)s[4*(a*r+c)+l]=e[4*(2*a*t+2*c)+l];return{data:s,width:r,height:o}}function Ck(n,e,t){const{removedProps:i={},deprecatedProps:r={},replacedProps:o={}}=t;for(const a in i)if(a in e){const l=i[a]?"".concat(n,".").concat(i[a]):"N/A";Dn.removed("".concat(n,".").concat(a),l)()}for(const a in r)if(a in e){const c=r[a];Dn.deprecated("".concat(n,".").concat(a),"".concat(n,".").concat(c))()}let s=null;for(const a in o)if(a in e){const c=o[a];Dn.deprecated("".concat(n,".").concat(a),"".concat(n,".").concat(c))(),s=s||Object.assign({},e),s[c]=e[a],delete s[a]}return s||e}const Dbe={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},Obe={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class qa{static getBytesPerElement(e){return B0(e.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(e){return ln(e.size),B0(e.type||5126).BYTES_PER_ELEMENT*e.size}static resolve(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return new qa(Dbe,...t)}constructor(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(r=>this._assign(r)),Object.freeze(this)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return qa.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return qa.getBytesPerVertex(this)}_assign(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=Ck("Accessor",e,Obe),void 0!==e.type&&(this.type=e.type,(5124===e.type||5125===e.type)&&(this.integer=!0)),void 0!==e.size&&(this.size=e.size),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.stride&&(this.stride=e.stride),void 0!==e.normalized&&(this.normalized=e.normalized),void 0!==e.integer&&(this.integer=e.integer),void 0!==e.divisor&&(this.divisor=e.divisor),void 0!==e.buffer&&(this.buffer=e.buffer),void 0!==e.index&&(this.index="boolean"==typeof e.index?e.index?1:0:e.index),void 0!==e.instanced&&(this.divisor=e.instanced?1:0),void 0!==e.isInstanced&&(this.divisor=e.isInstanced?1:0),this}}const j6={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},Rbe={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:j6},Pbe={removedProps:j6};class wr extends Gu{get[Symbol.toStringTag](){return"Buffer"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),this.target=t.target||(this.gl.webgl2?36662:34962),this.initialize(t),Object.seal(this)}getElementCount(){return Math.round(this.byteLength/qa.getBytesPerElement(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor))}getVertexCount(){return Math.round(this.byteLength/qa.getBytesPerVertex(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor))}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e=Ck("Buffer",e,Rbe),this.usage=e.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},e,e.accessor)),e.data?this._setData(e.data,e.offset,e.byteLength):this._setByteLength(e.byteLength||0),this}setProps(e){return"accessor"in(e=Ck("Buffer",e,Pbe))&&this.setAccessor(e.accessor),this}setAccessor(e){return delete(e=Object.assign({},e)).buffer,this.accessor=new qa(e),this}reallocate(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)}setData(e){return this.initialize(e)}subData(e){ArrayBuffer.isView(e)&&(e={data:e});const{data:t,offset:i=0,srcOffset:r=0}=e,o=e.byteLength||e.length;ln(t);const s=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(s,this.handle),0!==r||void 0!==o?(ra(this.gl),this.gl.bufferSubData(this.target,i,t,r,o)):this.gl.bufferSubData(s,i,t),this.gl.bindBuffer(s,null),this.debugData=null,this._inferType(t),this}copyData(e){let{sourceBuffer:t,readOffset:i=0,writeOffset:r=0,size:o}=e;const{gl:s}=this;return ra(s),s.bindBuffer(36662,t.handle),s.bindBuffer(36663,this.handle),s.copyBufferSubData(36662,36663,i,r,o),s.bindBuffer(36662,null),s.bindBuffer(36663,null),this.debugData=null,this}getData(){let{dstData:e=null,srcByteOffset:t=0,dstOffset:i=0,length:r=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ra(this.gl);const o=B0(this.accessor.type||5126,{clamped:!1}),s=this._getAvailableElementCount(t),a=i;let c,l;e?(l=e.length,c=l-a):(c=Math.min(s,r||s),l=a+c);const d=Math.min(s,c);return r=r||d,ln(r<=d),e=e||new o(l),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,t,e,i,r),this.gl.bindBuffer(36662,null),e}bind(){let{target:e=this.target,index:t=this.accessor&&this.accessor.index,offset:i=0,size:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===e||35982===e?void 0!==r?this.gl.bindBufferRange(e,t,this.handle,i,r):(ln(0===i),this.gl.bindBufferBase(e,t,this.handle)):this.gl.bindBuffer(e,this.handle),this}unbind(){let{target:e=this.target,index:t=this.accessor&&this.accessor.index}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===e||35982===e?this.gl.bindBufferBase(e,t,null):this.gl.bindBuffer(e,null),this}getDebugData(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}invalidateDebugData(){this.debugData=null}_setData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength+t;ln(ArrayBuffer.isView(e)),this._trackDeallocatedMemory();const r=this._getTarget();this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,i,this.usage),this.gl.bufferSubData(r,t,e),this.gl.bindBuffer(r,null),this.debugData=e.slice(0,10),this.bytesUsed=i,this._trackAllocatedMemory(i);const o=Ek(e);return ln(o),this.setAccessor(new qa(this.accessor,{type:o})),this}_setByteLength(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;ln(e>=0),this._trackDeallocatedMemory();let i=e;0===e&&(i=new Float32Array(0));const r=this._getTarget();return this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,i,t),this.gl.bindBuffer(r,null),this.usage=t,this.debugData=null,this.bytesUsed=e,this._trackAllocatedMemory(e),this}_getTarget(){return this.gl.webgl2?36663:this.target}_getAvailableElementCount(e){const i=e/B0(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-i}_inferType(e){this.accessor.type||this.setAccessor(new qa(this.accessor,{type:Ek(e)}))}_createHandle(){return this.gl.createBuffer()}_deleteHandle(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}_getParameter(e){this.gl.bindBuffer(this.target,this.handle);const t=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),t}get type(){return Dn.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}get bytes(){return Dn.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}setByteLength(e){return Dn.deprecated("setByteLength","reallocate")(),this.reallocate(e)}updateAccessor(e){return Dn.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new qa(this.accessor,e),this}}const Sk={6407:{dataFormat:6407,types:[5121,33635]},6408:{dataFormat:6408,types:[5121,32819,32820]},6406:{dataFormat:6406,types:[5121]},6409:{dataFormat:6409,types:[5121]},6410:{dataFormat:6410,types:[5121]},33326:{dataFormat:6403,types:[5126],gl2:!0},33328:{dataFormat:33319,types:[5126],gl2:!0},34837:{dataFormat:6407,types:[5126],gl2:!0},34836:{dataFormat:6408,types:[5126],gl2:!0}},U6={6403:1,36244:1,33319:2,33320:2,6407:3,36248:3,6408:4,36249:4,6402:1,34041:1,6406:1,6409:1,6410:2},V6={5126:4,5125:4,5124:4,5123:2,5122:2,5131:2,5120:1,5121:1},Fbe=[9729,9728],z6=globalThis.WebGLBuffer||function(){};class Yp extends Gu{get[Symbol.toStringTag](){return"Texture"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{format:i,linearFiltering:r}=t;let o=!0;return i&&(o=o&&function kbe(n,e){const t=Sk[e];if(!t)return!1;if(void 0===t.gl1&&void 0===t.gl2)return!0;const i=Si(n)&&t.gl2||t.gl1;return"string"==typeof i?n.getExtension(i):i}(e,i),o=o&&(!r||function Nbe(n,e){const t=Sk[e];switch(t&&t.types[0]){case 5126:return n.getExtension("OES_texture_float_linear");case 5131:return n.getExtension("OES_texture_half_float_linear");default:return!0}}(e,i))),o}constructor(e,t){const{id:i=Ya("texture"),handle:r,target:o}=t;super(e,{id:i,handle:r}),this.target=o,this.textureUnit=void 0,this.loaded=!1,this.width=void 0,this.height=void 0,this.depth=void 0,this.format=void 0,this.type=void 0,this.dataFormat=void 0,this.border=void 0,this.textureUnit=void 0,this.mipmaps=void 0}toString(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data;if(t instanceof Promise)return t.then(z=>this.initialize(Object.assign({},e,{pixels:z,data:z}))),this;const i=typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement;if(i&&t.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,t.addEventListener("loadeddata",()=>this.initialize(e)),this;const{pixels:r=null,format:o=6408,border:s=0,recreate:a=!1,parameters:c={},pixelStore:l={},textureUnit:d}=e;t||(t=r);let{width:h,height:f,dataFormat:m,type:g,compressed:v=!1,mipmaps:C=!0}=e;const{depth:B=0}=e;return({width:h,height:f,compressed:v,dataFormat:m,type:g}=this._deduceParameters({format:o,type:g,dataFormat:m,compressed:v,data:t,width:h,height:f})),this.width=h,this.height=f,this.depth=B,this.format=o,this.type=g,this.dataFormat=m,this.border=s,this.textureUnit=d,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),C&&this._isNPOT()&&(Dn.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),C=!1,this._updateForNPOT(c)),this.mipmaps=C,this.setImageData({data:t,width:h,height:f,depth:B,format:o,type:g,dataFormat:m,border:s,mipmaps:C,parameters:l,compressed:v}),C&&this.generateMipmap(),this.setParameters(c),a&&(this.data=t),i&&(this._video={video:t,parameters:c,lastTime:t.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?t.currentTime:-1}),this}update(){if(this._video){const{video:e,parameters:t,lastTime:i}=this._video;if(i===e.currentTime||e.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:e,parameters:t}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=e.currentTime}}resize(e){let{height:t,width:i,mipmaps:r=!1}=e;return i!==this.width||t!==this.height?this.initialize({width:i,height:t,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:r}):this}generateMipmap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(Dn.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),Zc(this.gl,e,()=>{this.gl.generateMipmap(this.target)}),this.gl.bindTexture(this.target,null),this)}setImageData(e){this._trackDeallocatedMemory("Texture");const{target:t=this.target,pixels:i=null,level:r=0,format:o=this.format,border:s=this.border,offset:a=0,parameters:c={}}=e;let{data:l=null,type:d=this.type,width:h=this.width,height:f=this.height,dataFormat:m=this.dataFormat,compressed:g=!1}=e;l||(l=i),({type:d,dataFormat:m,compressed:g,width:h,height:f}=this._deduceParameters({format:o,type:d,dataFormat:m,compressed:g,data:l,width:h,height:f}));const{gl:v}=this;v.bindTexture(this.target,this.handle);let C=null;({data:l,dataType:C}=this._getDataType({data:l,compressed:g}));let B,z=0;return Zc(this.gl,c,()=>{switch(C){case"null":v.texImage2D(t,r,o,h,f,s,m,d,l);break;case"typed-array":v.texImage2D(t,r,o,h,f,s,m,d,l,a);break;case"buffer":B=ra(v),B.bindBuffer(35052,l.handle||l),B.texImage2D(t,r,o,h,f,s,m,d,a),B.bindBuffer(35052,null);break;case"browser-object":Si(v)?v.texImage2D(t,r,o,h,f,s,m,d,l):v.texImage2D(t,r,o,m,d,l);break;case"compressed":for(const[le,se]of l.entries())v.compressedTexImage2D(t,le,se.format,se.width,se.height,s,se.data),z+=se.levelSize;break;default:ln(!1,"Unknown image data type")}}),this._trackAllocatedMemory("compressed"===C?z:l&&l.byteLength?l.byteLength:this.width*this.height*(U6[this.dataFormat]||4)*(V6[this.type]||1),"Texture"),this.loaded=!0,this}setSubImageData(e){let{target:t=this.target,pixels:i=null,data:r=null,x:o=0,y:s=0,width:a=this.width,height:c=this.height,level:l=0,format:d=this.format,type:h=this.type,dataFormat:f=this.dataFormat,compressed:m=!1,offset:g=0,border:v=this.border,parameters:C={}}=e;if(({type:h,dataFormat:f,compressed:m,width:a,height:c}=this._deduceParameters({format:d,type:h,dataFormat:f,compressed:m,data:r,width:a,height:c})),ln(0===this.depth,"texSubImage not supported for 3D textures"),r||(r=i),r&&r.data){const B=r;r=B.data,a=B.shape[0],c=B.shape[1]}r instanceof wr&&(r=r.handle),this.gl.bindTexture(this.target,this.handle),Zc(this.gl,C,()=>{if(m)this.gl.compressedTexSubImage2D(t,l,o,s,a,c,d,r);else if(null===r)this.gl.texSubImage2D(t,l,o,s,a,c,f,h,null);else if(ArrayBuffer.isView(r))this.gl.texSubImage2D(t,l,o,s,a,c,f,h,r,g);else if(r instanceof z6){const B=ra(this.gl);B.bindBuffer(35052,r),B.texSubImage2D(t,l,o,s,a,c,f,h,g),B.bindBuffer(35052,null)}else Si(this.gl)?ra(this.gl).texSubImage2D(t,l,o,s,a,c,f,h,r):this.gl.texSubImage2D(t,l,o,s,f,h,r)}),this.gl.bindTexture(this.target,null)}copyFramebuffer(){return Dn.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:t}=this;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,this.handle),e}unbind(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:t}=this;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,null),e}_getDataType(e){let{data:t,compressed:i=!1}=e;return i?{data:t,dataType:"compressed"}:null===t?{data:t,dataType:"null"}:ArrayBuffer.isView(t)?{data:t,dataType:"typed-array"}:t instanceof wr?{data:t.handle,dataType:"buffer"}:t instanceof z6?{data:t,dataType:"buffer"}:{data:t,dataType:"browser-object"}}_deduceParameters(e){const{format:t,data:i}=e;let{width:r,height:o,dataFormat:s,type:a,compressed:c}=e;const l=Sk[t];return s=s||l&&l.dataFormat,a=a||l&&l.types[0],c=c||l&&l.compressed,({width:r,height:o}=this._deduceImageSize(i,r,o)),{dataFormat:s,type:a,compressed:c,width:r,height:o,format:t,data:i}}_deduceImageSize(e,t,i){let r;return r=typeof ImageData<"u"&&e instanceof ImageData?{width:e.width,height:e.height}:typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?{width:e.width,height:e.height}:typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e?{width:t,height:i}:{width:t>=0?t:1,height:i>=0?i:1},ln(r,"Could not deduced texture size"),ln(void 0===t||r.width===t,"Deduced texture width does not match supplied width"),ln(void 0===i||r.height===i,"Deduced texture height does not match supplied height"),r}_createHandle(){return this.gl.createTexture()}_deleteHandle(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}_getParameter(e){switch(e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);const t=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),t}}_setParameter(e,t){switch(this.gl.bindTexture(this.target,this.handle),t=this._getNPOTParam(e,t),e){case 33082:case 33083:this.gl.texParameterf(this.handle,e,t);break;case 4096:case 4097:ln(!1);break;default:this.gl.texParameteri(this.target,e,t)}return this.gl.bindTexture(this.target,null),this}_isNPOT(){return!(Si(this.gl)||!this.width||!this.height||F6(this.width)&&F6(this.height))}_updateForNPOT(e){void 0===e[this.gl.TEXTURE_MIN_FILTER]&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===e[this.gl.TEXTURE_WRAP_S]&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===e[this.gl.TEXTURE_WRAP_T]&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}_getNPOTParam(e,t){if(this._isNPOT())switch(e){case 10241:-1===Fbe.indexOf(t)&&(t=9729);break;case 10242:case 10243:33071!==t&&(t=33071)}return t}}function Lbe(n,e){return ln("string"==typeof n),n=""+n,new Promise((t,i)=>{try{const r=new Image;r.onload=()=>t(r),r.onerror=()=>i(new Error("Could not load image ".concat(n,"."))),r.crossOrigin=e&&e.crossOrigin||"anonymous",r.src=n}catch(r){i(r)}})}class Os extends Yp{get[Symbol.toStringTag](){return"Texture2D"}static isSupported(e,t){return Yp.isSupported(e,t)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};DS(e),(t instanceof Promise||"string"==typeof t)&&(t={data:t}),"string"==typeof t.data&&(t=Object.assign({},t,{data:Lbe(t.data)})),super(e,Object.assign({},t,{target:3553})),this.initialize(t),Object.seal(this)}}const qp="EXT_color_buffer_float",H6={33189:{bpp:2},33190:{gl2:!0,bpp:3},36012:{gl2:!0,bpp:4},36168:{bpp:1},34041:{bpp:4},35056:{gl2:!0,bpp:4},36013:{gl2:!0,bpp:5},32854:{bpp:2},36194:{bpp:2},32855:{bpp:2},33321:{gl2:!0,bpp:1},33330:{gl2:!0,bpp:1},33329:{gl2:!0,bpp:1},33332:{gl2:!0,bpp:2},33331:{gl2:!0,bpp:2},33334:{gl2:!0,bpp:4},33333:{gl2:!0,bpp:4},33323:{gl2:!0,bpp:2},33336:{gl2:!0,bpp:2},33335:{gl2:!0,bpp:2},33338:{gl2:!0,bpp:4},33337:{gl2:!0,bpp:4},33340:{gl2:!0,bpp:8},33339:{gl2:!0,bpp:8},32849:{gl2:!0,bpp:3},32856:{gl2:!0,bpp:4},32857:{gl2:!0,bpp:4},36220:{gl2:!0,bpp:4},36238:{gl2:!0,bpp:4},36975:{gl2:!0,bpp:4},36214:{gl2:!0,bpp:8},36232:{gl2:!0,bpp:8},36226:{gl2:!0,bpp:16},36208:{gl2:!0,bpp:16},33325:{gl2:qp,bpp:2},33327:{gl2:qp,bpp:4},34842:{gl2:qp,bpp:8},33326:{gl2:qp,bpp:4},33328:{gl2:qp,bpp:8},34836:{gl2:qp,bpp:16},35898:{gl2:qp,bpp:4}};class P_ extends Gu{get[Symbol.toStringTag](){return"Renderbuffer"}static isSupported(e){let{format:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null};return!t||function Bbe(n,e,t){const i=t[e];if(!i)return!1;const r=Si(n)&&i.gl2||i.gl1;return"string"==typeof r?n.getExtension(r):r}(e,t,H6)}static getSamplesForFormat(e,t){let{format:i}=t;return e.getInternalformatParameter(36161,i,32937)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.initialize(t),Object.seal(this)}initialize(e){let{format:t,width:i=1,height:r=1,samples:o=0}=e;return ln(t,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==o&&Si(this.gl)?this.gl.renderbufferStorageMultisample(36161,o,t,i,r):this.gl.renderbufferStorage(36161,t,i,r),this.format=t,this.width=i,this.height=r,this.samples=o,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*H6[this.format].bpp),this}resize(e){let{width:t,height:i}=e;return t!==this.width||i!==this.height?this.initialize({width:t,height:i,format:this.format,samples:this.samples}):this}_createHandle(){return this.gl.createRenderbuffer()}_deleteHandle(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}_bindHandle(e){this.gl.bindRenderbuffer(36161,e)}_syncHandle(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}_getParameter(e){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,e)}}const G6=6144,Y6="clear: bad arguments";function Tk(n){let{framebuffer:e=null,color:t=null,depth:i=null,stencil:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o={};e&&(o.framebuffer=e);let s=0;t&&(s|=16384,!0!==t&&(o.clearColor=t)),i&&(s|=256,!0!==i&&(o.clearDepth=i)),r&&(s|=1024,!0!==i&&(o.clearStencil=i)),ln(0!==s,Y6),Zc(n,o,()=>{n.clear(s)})}const Mk=[34069,34070,34071,34072,34073,34074];let Gbe=(()=>{class n extends Yp{get[Symbol.toStringTag](){return"TextureCube"}constructor(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};DS(t),super(t,Object.assign({},i,{target:34067})),this.initialize(i),Object.seal(this)}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mipmaps:i=!0,parameters:r={}}=t;return this.opts=t,this.setCubeMapImageData(t).then(()=>{this.loaded=!0,i&&this.generateMipmap(t),this.setParameters(r)}),this}subImage(t){let{face:i,data:r,x:o=0,y:s=0,mipmapLevel:a=0}=t;return this._subImage({target:i,data:r,x:o,y:s,mipmapLevel:a})}setCubeMapImageData(t){var i=this;return fn(function*(){let{width:r,height:o,pixels:s,data:a,border:c=0,format:l=6408,type:d=5121}=t;const{gl:h}=i,f=s||a,m=yield Promise.all(Mk.map(g=>{const v=f[g];return Promise.all(Array.isArray(v)?v:[v])}));i.bind(),Mk.forEach((g,v)=>{m[v].length>1&&!1!==i.opts.mipmaps&&Dn.warn("".concat(i.id," has mipmap and multiple LODs."))(),m[v].forEach((C,B)=>{r&&o?h.texImage2D(g,B,l,r,o,c,l,d,C):h.texImage2D(g,B,l,l,d,C)})}),i.unbind()})()}setImageDataForFace(t){const{face:i,width:r,height:o,pixels:s,data:a,border:c=0,format:l=6408,type:d=5121}=t,{gl:h}=this,f=s||a;return this.bind(),f instanceof Promise?f.then(m=>this.setImageDataForFace(Object.assign({},t,{face:i,data:m,pixels:m}))):this.width||this.height?h.texImage2D(i,0,l,r,o,c,l,d,f):h.texImage2D(i,0,l,l,d,f),this}}return n.FACES=Mk,n})();class Wbe extends Yp{get[Symbol.toStringTag](){return"Texture3D"}static isSupported(e){return Si(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ra(e),t=Object.assign({depth:1},t,{target:32879,unpackFlipY:!1}),super(e,t),this.initialize(t),Object.seal(this)}setImageData(e){let{level:t=0,dataFormat:i=6408,width:r,height:o,depth:s=1,border:a=0,format:c,type:l=5121,offset:d=0,data:h,parameters:f={}}=e;return this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),Zc(this.gl,f,()=>{ArrayBuffer.isView(h)&&this.gl.texImage3D(this.target,t,i,r,o,s,a,c,l,h),h instanceof wr&&(this.gl.bindBuffer(35052,h.handle),this.gl.texImage3D(this.target,t,i,r,o,s,a,c,l,d))}),this._trackAllocatedMemory(h&&h.byteLength?h.byteLength:this.width*this.height*this.depth*(U6[this.dataFormat]||4)*(V6[this.type]||1),"Texture"),this.loaded=!0,this}}function Xbe(n,e){const{gl:t,width:i,height:r,id:o}=n;return new Xo(t,Object.assign({},e,{id:"framebuffer-for-".concat(o),width:i,height:r,attachments:{36064:n}}))}function OS(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{sourceX:t=0,sourceY:i=0,sourceFormat:r=6408}=e;let{sourceAttachment:o=36064,target:s=null,sourceWidth:a,sourceHeight:c,sourceType:l}=e;const{framebuffer:d,deleteFramebuffer:h}=j0(n);ln(d);const{gl:f,handle:m,attachments:g}=d;a=a||d.width,c=c||d.height,36064===o&&null===m&&(o=1028),ln(g[o]),l=l||g[o].type,s=function qbe(n,e,t,i,r){if(n)return n;const o=B0(e=e||5121,{clamped:!1}),s=function Hbe(n){switch(n){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return ln(!1),0}}(t);return new o(i*r*s)}(s,l,r,a,c),l=l||Ek(s);const v=f.bindFramebuffer(36160,m);return f.readPixels(t,i,a,c,r,l,s),f.bindFramebuffer(36160,v||null),h&&d.delete(),s}function Ik(n){let{sourceAttachment:e=36064,targetMaxHeight:t=Number.MAX_SAFE_INTEGER}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=OS(n,{sourceAttachment:e}),{width:r,height:o}=n;for(;o>t;)({data:i,width:r,height:o}=Ibe({data:i,width:r,height:o}));!function Mbe(n){let{data:e,width:t,height:i,bytesPerPixel:r=4,temp:o}=n;const s=t*r;o=o||new Uint8Array(s);for(let a=0;a<i/2;++a){const c=a*s,l=(i-a-1)*s;o.set(e.subarray(c,c+s)),e.copyWithin(c,l,l+s),e.set(o,l)}}({data:i,width:r,height:o});const s=document.createElement("canvas");s.width=r,s.height=o;const a=s.getContext("2d"),c=a.createImageData(r,o);return c.data.set(i),a.putImageData(c,0,0),s.toDataURL()}function j0(n){return n instanceof Xo?{framebuffer:n,deleteFramebuffer:!1}:{framebuffer:Xbe(n),deleteFramebuffer:!0}}const q6={WEBGL2:[!1,!0],VERTEX_ARRAY_OBJECT:["OES_vertex_array_object",!0],TIMER_QUERY:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],INSTANCED_RENDERING:["ANGLE_instanced_arrays",!0],MULTIPLE_RENDER_TARGETS:["WEBGL_draw_buffers",!0],ELEMENT_INDEX_UINT32:["OES_element_index_uint",!0],BLEND_EQUATION_MINMAX:["EXT_blend_minmax",!0],FLOAT_BLEND:["EXT_float_blend"],COLOR_ENCODING_SRGB:["EXT_sRGB",!0],TEXTURE_DEPTH:["WEBGL_depth_texture",!0],TEXTURE_FLOAT:["OES_texture_float",!0],TEXTURE_HALF_FLOAT:["OES_texture_half_float",!0],TEXTURE_FILTER_LINEAR_FLOAT:["OES_texture_float_linear"],TEXTURE_FILTER_LINEAR_HALF_FLOAT:["OES_texture_half_float_linear"],TEXTURE_FILTER_ANISOTROPIC:["EXT_texture_filter_anisotropic"],COLOR_ATTACHMENT_RGBA32F:[function Kbe(n){const e=new Os(n,{format:6408,type:5126,dataFormat:6408}),t=new Xo(n,{id:"test-framebuffer",check:!1,attachments:{36064:e}}),i=t.getStatus();return e.delete(),t.delete(),36053===i},"EXT_color_buffer_float"],COLOR_ATTACHMENT_FLOAT:[!1,"EXT_color_buffer_float"],COLOR_ATTACHMENT_HALF_FLOAT:["EXT_color_buffer_half_float"],GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},Jbe=2;function Dk(n,e){return K6(n,e)}function K6(n,e){return(e=Array.isArray(e)?e:[e]).every(t=>J6(n,t))}function J6(n,e){return n.luma=n.luma||{},n.luma.caps=n.luma.caps||{},void 0===n.luma.caps[e]&&(n.luma.caps[e]=function Zbe(n,e){const t=q6[e];let i;ln(t,e);const r=Si(n)&&t[1]||t[0];if("function"==typeof r)i=r(n);else if(Array.isArray(r)){i=!0;for(const o of r)i=i&&!!n.getExtension(o)}else"string"==typeof r?i=!!n.getExtension(r):"boolean"==typeof r?i=r:ln(!1);return i}(n,e)),n.luma.caps[e]||Dn.log(Jbe,"Feature: ".concat(e," not supported"))(),n.luma.caps[e]}const Q6="Multiple render targets not supported";class Xo extends Gu{get[Symbol.toStringTag](){return"Framebuffer"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{colorBufferFloat:i,colorBufferHalfFloat:r}=t;let o=!0;return i&&(o=!!(e.getExtension("EXT_color_buffer_float")||e.getExtension("WEBGL_color_buffer_float")||e.getExtension("OES_texture_float"))),r&&(o=o&&!(!e.getExtension("EXT_color_buffer_float")&&!e.getExtension("EXT_color_buffer_half_float"))),o}static getDefaultFramebuffer(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new Xo(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer}get MAX_COLOR_ATTACHMENTS(){const e=ra(this.gl);return e.getParameter(e.MAX_COLOR_ATTACHMENTS)}get MAX_DRAW_BUFFERS(){const e=ra(this.gl);return e.getParameter(e.MAX_DRAW_BUFFERS)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.width=null,this.height=null,this.attachments={},this.readBuffer=36064,this.drawBuffers=[36064],this.ownResources=[],this.initialize(t),Object.seal(this)}get color(){return this.attachments[36064]||null}get texture(){return this.attachments[36064]||null}get depth(){return this.attachments[36096]||this.attachments[33306]||null}get stencil(){return this.attachments[36128]||this.attachments[33306]||null}initialize(e){let{width:t=1,height:i=1,attachments:r=null,color:o=!0,depth:s=!0,stencil:a=!1,check:c=!0,readBuffer:l,drawBuffers:d}=e;if(ln(t>=0&&i>=0,"Width and height need to be integers"),this.width=t,this.height=i,r)for(const h in r){const f=r[h];(Array.isArray(f)?f[0]:f).resize({width:t,height:i})}else r=this._createDefaultAttachments(o,s,a,t,i);this.update({clearAttachments:!0,attachments:r,readBuffer:l,drawBuffers:d}),r&&c&&this.checkStatus()}delete(){for(const e of this.ownResources)e.delete();return super.delete(),this}update(e){let{attachments:t={},readBuffer:i,drawBuffers:r,clearAttachments:o=!1,resizeAttachments:s=!0}=e;this.attach(t,{clearAttachments:o,resizeAttachments:s});const{gl:a}=this,c=a.bindFramebuffer(36160,this.handle);return i&&this._setReadBuffer(i),r&&this._setDrawBuffers(r),a.bindFramebuffer(36160,c||null),this}resize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{width:t,height:i}=e;if(null===this.handle)return ln(void 0===t&&void 0===i),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;void 0===t&&(t=this.gl.drawingBufferWidth),void 0===i&&(i=this.gl.drawingBufferHeight),t!==this.width&&i!==this.height&&Dn.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(t,"x").concat(i))();for(const r in this.attachments)this.attachments[r].resize({width:t,height:i});return this.width=t,this.height=i,this}attach(e){let{clearAttachments:t=!1,resizeAttachments:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={};t&&Object.keys(this.attachments).forEach(s=>{r[s]=null}),Object.assign(r,e);const o=this.gl.bindFramebuffer(36160,this.handle);for(const s in r){ln(void 0!==s,"Misspelled framebuffer binding point?");const a=Number(s),c=r[a];let l=c;if(l)if(l instanceof P_)this._attachRenderbuffer({attachment:a,renderbuffer:l});else if(Array.isArray(c)){const[d,h=0,f=0]=c;l=d,this._attachTexture({attachment:a,texture:d,layer:h,level:f})}else this._attachTexture({attachment:a,texture:l,layer:0,level:0});else this._unattach(a);i&&l&&l.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,o||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter(s=>!this.attachments[s]).forEach(s=>{delete this.attachments[s]})}checkStatus(){const t=this.getStatus();if(36053!==t)throw new Error(function tve(n){return(Xo.STATUS||{})[n]||"Framebuffer error ".concat(n)}(t));return this}getStatus(){const{gl:e}=this,t=e.bindFramebuffer(36160,this.handle),i=e.checkFramebufferStatus(36160);return e.bindFramebuffer(36160,t||null),i}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{color:t,depth:i,stencil:r,drawBuffers:o=[]}=e,s=this.gl.bindFramebuffer(36160,this.handle);return(t||i||r)&&Tk(this.gl,{color:t,depth:i,stencil:r}),o.forEach((a,c)=>{!function zbe(n){let{framebuffer:e=null,buffer:t=G6,drawBuffer:i=0,value:r=[0,0,0,0]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ra(n),Zc(n,{framebuffer:e},()=>{switch(t){case G6:switch(r.constructor){case Int32Array:n.clearBufferiv(t,i,r);break;case Uint32Array:n.clearBufferuiv(t,i,r);break;case Float32Array:default:n.clearBufferfv(t,i,r)}break;case 6145:n.clearBufferfv(6145,0,[r]);break;case 6146:n.clearBufferiv(6146,0,[r]);break;case 34041:const[o,s]=r;n.clearBufferfi(34041,0,o,s);break;default:ln(!1,Y6)}})}(this.gl,{drawBuffer:c,value:a})}),this.gl.bindFramebuffer(36160,s||null),this}readPixels(){return Dn.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}readPixelsToBuffer(){return Dn.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}copyToDataUrl(){return Dn.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}copyToImage(){return Dn.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}copyToTexture(){return Dn.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}blit(){return Dn.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}invalidate(e){let{attachments:t=[],x:i=0,y:r=0,width:o,height:s}=e;const a=ra(this.gl),c=a.bindFramebuffer(36008,this.handle);return 0===i&&0===r&&void 0===o&&void 0===s?a.invalidateFramebuffer(36008,t):a.invalidateFramebuffer(36008,t,i,r,o,s),a.bindFramebuffer(36008,c),this}getAttachmentParameter(e,t,i){let r=this._getAttachmentParameterFallback(t);return null===r&&(this.gl.bindFramebuffer(36160,this.handle),r=this.gl.getFramebufferAttachmentParameter(36160,e,t),this.gl.bindFramebuffer(36160,null)),i&&r>1e3&&(r=pf(this.gl,r)),r}getAttachmentParameters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[];const r={};for(const o of i)r[t?pf(this.gl,o):o]=this.getAttachmentParameter(e,o,t);return r}getParameters(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=Object.keys(this.attachments),i={};for(const r of t){const o=Number(r);i[e?pf(this.gl,o):o]=this.getAttachmentParameters(o,e)}return i}show(){return typeof window<"u"&&window.open(Ik(this),"luma-debug-texture"),this}log(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e>Dn.level||typeof window>"u")return this;t=t||"Framebuffer ".concat(this.id);const i=Ik(this,{targetMaxHeight:100});return Dn.image({logLevel:e,message:t,image:i},t)(),this}bind(){let{target:e=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(e,this.handle),this}unbind(){let{target:e=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(e,null),this}_createDefaultAttachments(e,t,i,r,o){let s=null;return e&&(s=s||{},s[36064]=new Os(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:r,height:o,mipmaps:!1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.ownResources.push(s[36064])),t&&i?(s=s||{},s[33306]=new P_(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:r,height:111}),this.ownResources.push(s[33306])):t?(s=s||{},s[36096]=new P_(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:r,height:o}),this.ownResources.push(s[36096])):i&&ln(!1),s}_unattach(e){const t=this.attachments[e];t&&(t instanceof P_?this.gl.framebufferRenderbuffer(36160,e,36161,null):this.gl.framebufferTexture2D(36160,e,3553,null,0),delete this.attachments[e])}_attachRenderbuffer(e){let{attachment:t=36064,renderbuffer:i}=e;const{gl:r}=this;r.framebufferRenderbuffer(36160,t,36161,i.handle),this.attachments[t]=i}_attachTexture(e){let{attachment:t=36064,texture:i,layer:r,level:o}=e;const{gl:s}=this;switch(s.bindTexture(i.target,i.handle),i.target){case 35866:case 32879:ra(s).framebufferTextureLayer(36160,t,i.target,o,r);break;case 34067:const c=function eve(n){return n<34069?n+34069:n}(r);s.framebufferTexture2D(36160,t,c,i.handle,o);break;case 3553:s.framebufferTexture2D(36160,t,3553,i.handle,o);break;default:ln(!1,"Illegal texture type")}s.bindTexture(i.target,null),this.attachments[t]=i}_setReadBuffer(e){const t=function Dye(n){return Si(n)?n:null}(this.gl);t?t.readBuffer(e):ln(36064===e||1029===e,Q6),this.readBuffer=e}_setDrawBuffers(e){const{gl:t}=this,i=ra(t);if(i)i.drawBuffers(e);else{const r=t.getExtension("WEBGL_draw_buffers");r?r.drawBuffersWEBGL(e):ln(1===e.length&&(36064===e[0]||1029===e[0]),Q6)}this.drawBuffers=e}_getAttachmentParameterFallback(e){const t=function Qbe(n){n.luma=n.luma||{},n.luma.caps=n.luma.caps||{};for(const e in q6)void 0===n.luma.caps[e]&&(n.luma.caps[e]=J6(n,e));return n.luma.caps}(this.gl);switch(e){case 36052:return t.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return t.WEBGL2?null:8;case 33297:return t.WEBGL2?null:5125;case 33296:return t.WEBGL2||t.EXT_sRGB?null:9729;default:return null}}_createHandle(){return this.gl.createFramebuffer()}_deleteHandle(){this.gl.deleteFramebuffer(this.handle)}_bindHandle(e){return this.gl.bindFramebuffer(36160,e)}}Xo.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303];const ive={5126:Hr.bind(null,"uniform1fv",wc,1,oa),35664:Hr.bind(null,"uniform2fv",wc,2,oa),35665:Hr.bind(null,"uniform3fv",wc,3,oa),35666:Hr.bind(null,"uniform4fv",wc,4,oa),5124:Hr.bind(null,"uniform1iv",mf,1,oa),35667:Hr.bind(null,"uniform2iv",mf,2,oa),35668:Hr.bind(null,"uniform3iv",mf,3,oa),35669:Hr.bind(null,"uniform4iv",mf,4,oa),35670:Hr.bind(null,"uniform1iv",mf,1,oa),35671:Hr.bind(null,"uniform2iv",mf,2,oa),35672:Hr.bind(null,"uniform3iv",mf,3,oa),35673:Hr.bind(null,"uniform4iv",mf,4,oa),35674:Hr.bind(null,"uniformMatrix2fv",wc,4,Wu),35675:Hr.bind(null,"uniformMatrix3fv",wc,9,Wu),35676:Hr.bind(null,"uniformMatrix4fv",wc,16,Wu),35678:Rs,35680:Rs,5125:Hr.bind(null,"uniform1uiv",RS,1,oa),36294:Hr.bind(null,"uniform2uiv",RS,2,oa),36295:Hr.bind(null,"uniform3uiv",RS,3,oa),36296:Hr.bind(null,"uniform4uiv",RS,4,oa),35685:Hr.bind(null,"uniformMatrix2x3fv",wc,6,Wu),35686:Hr.bind(null,"uniformMatrix2x4fv",wc,8,Wu),35687:Hr.bind(null,"uniformMatrix3x2fv",wc,6,Wu),35688:Hr.bind(null,"uniformMatrix3x4fv",wc,12,Wu),35689:Hr.bind(null,"uniformMatrix4x2fv",wc,8,Wu),35690:Hr.bind(null,"uniformMatrix4x3fv",wc,12,Wu),35678:Rs,35680:Rs,35679:Rs,35682:Rs,36289:Rs,36292:Rs,36293:Rs,36298:Rs,36299:Rs,36300:Rs,36303:Rs,36306:Rs,36307:Rs,36308:Rs,36311:Rs},rve={},ove={},sve={},Z6=[0];function Ok(n,e,t,i){1===e&&"boolean"==typeof n&&(n=n?1:0),Number.isFinite(n)&&(Z6[0]=n,n=Z6);const r=n.length;if(r%e&&Dn.warn("Uniform size should be multiples of ".concat(e),n)(),n instanceof t)return n;let o=i[r];o||(o=new t(r),i[r]=o);for(let s=0;s<r;s++)o[s]=n[s];return o}function wc(n,e){return Ok(n,e,Float32Array,rve)}function mf(n,e){return Ok(n,e,Int32Array,ove)}function RS(n,e){return Ok(n,e,Uint32Array,sve)}function e9(n,e,t){const i=ive[t.type];if(!i)throw new Error("Unknown GLSL uniform type ".concat(t.type));return i().bind(null,n,e)}function ave(n){if("]"!==n[n.length-1])return{name:n,length:1,isArray:!1};const t=n.match(/([^[]*)(\[[0-9]+\])?/);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(n));return{name:t[1],length:t[2]||1,isArray:!!t[2]}}function lve(n){return Array.isArray(n)||ArrayBuffer.isView(n)?function uve(n){if(0===n.length)return!1;const e=Math.min(n.length,16);for(let t=0;t<e;++t)if(!Number.isFinite(n[t]))return!1;return!0}(n):!!(isFinite(n)||!0===n||!1===n||n instanceof Yp||n instanceof P_)||n instanceof Xo&&!!n.texture}function dve(n,e,t){if(Array.isArray(t)||ArrayBuffer.isView(t))if(n[e]){const i=n[e];for(let r=0,o=t.length;r<o;++r)i[r]=t[r]}else n[e]=t.slice();else n[e]=t}function Rs(){let n=null;return(e,t,i)=>{const r=n!==i;return r&&(e.uniform1i(t,i),n=i),r}}function Hr(n,e,t,i){let r=null,o=null;return(s,a,c)=>{const l=e(c,t),d=l.length;let h=!1;if(null===r)r=new Float32Array(d),o=d,h=!0;else{ln(o===d,"Uniform length cannot change.");for(let f=0;f<d;++f)if(l[f]!==r[f]){h=!0;break}}return h&&(i(s,n,a,l),r.set(l)),h}}function oa(n,e,t,i){n[e](t,i)}function Wu(n,e,t,i){n[e](t,!1,i)}function PS(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed";const i=n.match(/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/);return i?i[1]:e}function n9(n,e){let t="";for(let i=0;i<e.length;i++)if((n[i+3]||n[i+2]||n[i+1])&&(t+="".concat(e[i],"\n"),n[i+1])){const o=n[i+1],s=o.split(":",3),a=s[0],c=parseInt(s[1],10)||0,l=o.substring(s.join(":").length+1).trim();t+=i9("^^^ ".concat(a,": ").concat(l,"\n\n"),c)}return t}function i9(n,e){let t="";for(let i=0;i<e;++i)t+=" ";return"".concat(t).concat(n)}class U0 extends Gu{get[Symbol.toStringTag](){return"Shader"}static getTypeName(e){switch(e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return ln(!1),"unknown"}}constructor(e,t){DS(e),ln("string"==typeof t.source,"Shader: GLSL source code must be a JavaScript string"),super(e,{id:PS(t.source,null)||t.id||Ya("unnamed ".concat(U0.getTypeName(t.shaderType)))}),this.shaderType=t.shaderType,this.source=t.source,this.initialize(t)}initialize(e){let{source:t}=e;const i=PS(t,null);i&&(this.id=Ya(i)),this._compile(t)}getParameter(e){return this.gl.getShaderParameter(this.handle,e)}toString(){return"".concat(U0.getTypeName(this.shaderType),":").concat(this.id)}getName(){return PS(this.source)||"unnamed-shader"}getSource(){return this.gl.getShaderSource(this.handle)}getTranslatedSource(){const e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}_compile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;if(e.startsWith("#version ")||(e="#version 100\n".concat(e)),this.source=e,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle),!this.getParameter(35713)){const i=this.gl.getShaderInfoLog(this.handle),{shaderName:r,errors:o,warnings:s}=function t9(n,e,t,i){const r=n.split(/\r?\n/),o={},s={},a=i||PS(e)||"(unnamed)",c="".concat(function pve(n){switch(n){case 35632:return"fragment";case 35633:return"vertex";default:return"unknown type"}}(t)," shader ").concat(a);for(let d=0;d<r.length;d++){const h=r[d];if(h.length<=1)continue;const f=h.split(":"),m=f[0],g=parseInt(f[2],10);if(isNaN(g))throw new Error("GLSL compilation error in ".concat(c,": ").concat(n));"WARNING"!==m?o[g]=h:s[g]=h}const l=function mve(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ";const i=n.split(/\r?\n/),r=String(i.length+e-1).length;return i.map((o,s)=>{const a=String(s+e);return i9(a,r-a.length)+t+o})}(e);return{shaderName:c,errors:n9(o,l),warnings:n9(s,l)}}(i,this.source,this.shaderType,this.id);throw Dn.error("GLSL compilation errors in ".concat(r,"\n").concat(o))(),Dn.warn("GLSL compilation warnings in ".concat(r,"\n").concat(s))(),new Error("GLSL compilation errors in ".concat(r))}}_deleteHandle(){this.gl.deleteShader(this.handle)}_getOptsFromHandle(){return{type:this.getParameter(35663),source:this.getSource()}}}class Rk extends U0{get[Symbol.toStringTag](){return"VertexShader"}constructor(e,t){"string"==typeof t&&(t={source:t}),super(e,Object.assign({},t,{shaderType:35633}))}_createHandle(){return this.gl.createShader(35633)}}class Pk extends U0{get[Symbol.toStringTag](){return"FragmentShader"}constructor(e,t){"string"==typeof t&&(t={source:t}),super(e,Object.assign({},t,{shaderType:35632}))}_createHandle(){return this.gl.createShader(35632)}}const _ve=5120,yve=5121,bve=5122,vve=5123,os=5126,V0=5124,z0=5125,kk={[os]:[os,1,"float"],35664:[os,2,"vec2"],35665:[os,3,"vec3"],35666:[os,4,"vec4"],[V0]:[V0,1,"int"],35667:[V0,2,"ivec2"],35668:[V0,3,"ivec3"],35669:[V0,4,"ivec4"],[z0]:[z0,1,"uint"],36294:[z0,2,"uvec2"],36295:[z0,3,"uvec3"],36296:[z0,4,"uvec4"],35670:[os,1,"bool"],35671:[os,2,"bvec2"],35672:[os,3,"bvec3"],35673:[os,4,"bvec4"],35674:[os,8,"mat2"],35685:[os,8,"mat2x3"],35686:[os,8,"mat2x4"],35675:[os,12,"mat3"],35687:[os,12,"mat3x2"],35688:[os,12,"mat3x4"],35676:[os,16,"mat4"],35689:[os,16,"mat4x2"],35690:[os,16,"mat4x3"]};function l9(n){const e=kk[n];if(!e)return null;const[t,i]=e;return{type:t,components:i}}function d9(n,e){switch(n){case _ve:case yve:case bve:case vve:n=os}for(const t in kk){const[i,r,o]=kk[t];if(i===n&&r===e)return{glType:t,name:o}}return null}class Gve{constructor(e){this.id=e.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(e),this._readVaryingsFromProgram(e)}getAttributeInfo(e){const t=Number(e);return Number.isFinite(t)?this.attributeInfosByLocation[t]:this.attributeInfosByName[e]||null}getAttributeLocation(e){const t=this.getAttributeInfo(e);return t?t.location:-1}getAttributeAccessor(e){const t=this.getAttributeInfo(e);return t?t.accessor:null}getVaryingInfo(e){const t=Number(e);return Number.isFinite(t)?this.varyingInfos[t]:this.varyingInfosByName[e]||null}getVaryingIndex(e){const t=this.getVaryingInfo();return t?t.location:-1}getVaryingAccessor(e){const t=this.getVaryingInfo();return t?t.accessor:null}_readAttributesFromProgram(e){const{gl:t}=e,i=t.getProgramParameter(e.handle,35721);for(let r=0;r<i;r++){const{name:o,type:s,size:a}=t.getActiveAttrib(e.handle,r),c=t.getAttribLocation(e.handle,o);c>=0&&this._addAttribute(c,o,s,a)}this.attributeInfos.sort((r,o)=>r.location-o.location)}_readVaryingsFromProgram(e){const{gl:t}=e;if(!Si(t))return;const i=t.getProgramParameter(e.handle,35971);for(let r=0;r<i;r++){const{name:o,type:s,size:a}=t.getTransformFeedbackVarying(e.handle,r);this._addVarying(r,o,s,a)}this.varyingInfos.sort((r,o)=>r.location-o.location)}_addAttribute(e,t,i,r){const{type:o,components:s}=l9(i),a={type:o,size:r*s};this._inferProperties(e,t,a);const c={location:e,name:t,accessor:new qa(a)};this.attributeInfos.push(c),this.attributeInfosByLocation[e]=c,this.attributeInfosByName[c.name]=c}_inferProperties(e,t,i){/instance/i.test(t)&&(i.divisor=1)}_addVarying(e,t,i,r){const{type:o,components:s}=l9(i),c={location:e,name:t,accessor:new qa({type:o,size:r*s})};this.varyingInfos.push(c),this.varyingInfosByName[c.name]=c}}const Wve=35981,$ve=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"];class h9 extends Gu{get[Symbol.toStringTag](){return"Program"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.stubRemovedMethods("Program","v6.0",$ve),this._isCached=!1,this.initialize(t),Object.seal(this),this._setId(t.id)}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{hash:t,vs:i,fs:r,varyings:o,bufferMode:s=Wve}=e;return this.hash=t||"",this.vs="string"==typeof i?new Rk(this.gl,{id:"".concat(e.id,"-vs"),source:i}):i,this.fs="string"==typeof r?new Pk(this.gl,{id:"".concat(e.id,"-fs"),source:r}):r,ln(this.vs instanceof Rk),ln(this.fs instanceof Pk),this.uniforms={},this._textureUniforms={},o&&o.length>0&&(ra(this.gl),this.varyings=o,this.gl2.transformFeedbackVaryings(this.handle,o,s)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new Gve(this),this.setProps(e)}delete(){return this._isCached?this:super.delete(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}setProps(e){return"uniforms"in e&&this.setUniforms(e.uniforms),this}draw(e){let{logPriority:t,drawMode:i=4,vertexCount:r,offset:o=0,start:s,end:a,isIndexed:c=!1,indexType:l=5123,instanceCount:d=0,isInstanced:h=d>0,vertexArray:f=null,transformFeedback:m,framebuffer:g,parameters:v={},uniforms:C,samplers:B}=e;if((C||B)&&(Dn.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(C||{})),Dn.priority>=t){const z=g?g.id:"default",le="mode=".concat(pf(this.gl,i)," verts=").concat(r," ")+"instances=".concat(d," indexType=").concat(pf(this.gl,l)," ")+"isInstanced=".concat(h," isIndexed=").concat(c," ")+"Framebuffer=".concat(z);Dn.log(t,le)()}return ln(f),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===r||h&&0===d||(f.bindForDraw(r,d,()=>{if(void 0!==g&&(v=Object.assign({},v,{framebuffer:g})),m){const z=function c9(n){switch(n){case 0:return 0;case 1:case 3:case 2:return 1;case 4:case 5:case 6:return 4;default:return ln(!1),0}}(i);m.begin(z)}this._bindTextures(),Zc(this.gl,v,()=>{c&&h?this.gl2.drawElementsInstanced(i,r,l,o,d):c&&Si(this.gl)&&!isNaN(s)&&!isNaN(a)?this.gl2.drawRangeElements(i,s,a,r,l,o):c?this.gl.drawElements(i,r,l,o):h?this.gl2.drawArraysInstanced(i,o,r,d):this.gl.drawArrays(i,o,r)}),m&&m.end()}),0))}setUniforms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Dn.priority>=2&&function cve(n,e,t){for(const i in n){const r=n[i];if((!t||t[i])&&!lve(r))throw e=e?"".concat(e," "):"",console.error("".concat(e," Bad uniform ").concat(i),r),new Error("".concat(e," Bad uniform ").concat(i))}}(e,this.id,this._uniformSetters),this.gl.useProgram(this.handle);for(const t in e){const i=e[t],r=this._uniformSetters[t];if(r){let o=i,s=!1;if(o instanceof Xo&&(o=o.texture),o instanceof Yp)if(s=this.uniforms[t]!==i,s){void 0===r.textureIndex&&(r.textureIndex=this._textureIndexCounter++);const a=o,{textureIndex:c}=r;a.bind(c),o=c,this._textureUniforms[t]=a}else o=r.textureIndex;else this._textureUniforms[t]&&delete this._textureUniforms[t];(r(o)||s)&&dve(this.uniforms,t,i)}}return this}_areTexturesRenderable(){let e=!0;for(const t in this._textureUniforms){const i=this._textureUniforms[t];i.update(),e=e&&i.loaded}return e}_bindTextures(){for(const e in this._textureUniforms)this._textureUniforms[e].bind(this._uniformSetters[e].textureIndex)}_createHandle(){return this.gl.createProgram()}_deleteHandle(){this.gl.deleteProgram(this.handle)}_getOptionsFromHandle(e){const t=this.gl.getAttachedShaders(e),i={};for(const r of t)switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:i.vs=new Rk({handle:r});break;case 35632:i.fs=new Pk({handle:r})}return i}_getParameter(e){return this.gl.getProgramParameter(this.handle,e)}_setId(e){if(!e){const t=this._getName();this.id=Ya(t)}}_getName(){let e=this.vs.getName()||this.fs.getName();return e=e.replace(/shader/i,""),e=e?"".concat(e,"-program"):"program",e}_compileAndLink(){const{gl:e}=this;if(e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),Dn.time(4,"linkProgram for ".concat(this._getName()))(),e.linkProgram(this.handle),Dn.timeEnd(4,"linkProgram for ".concat(this._getName()))(),e.debug||Dn.level>0){if(!e.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(e.getProgramInfoLog(this.handle)));if(e.validateProgram(this.handle),!e.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(e.getProgramInfoLog(this.handle)))}}_readUniformLocationsFromLinkedProgram(){const{gl:e}=this;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(let t=0;t<this._uniformCount;t++){const i=this.gl.getActiveUniform(this.handle,t),{name:r}=ave(i.name);let o=e.getUniformLocation(this.handle,r);if(this._uniformSetters[r]=e9(e,o,i),i.size>1)for(let s=0;s<i.size;s++)o=e.getUniformLocation(this.handle,"".concat(r,"[").concat(s,"]")),this._uniformSetters["".concat(r,"[").concat(s,"]")]=e9(e,o,i)}this._textureIndexCounter=0}getActiveUniforms(e,t){return this.gl2.getActiveUniforms(this.handle,e,t)}getUniformBlockIndex(e){return this.gl2.getUniformBlockIndex(this.handle,e)}getActiveUniformBlockParameter(e,t){return this.gl2.getActiveUniformBlockParameter(this.handle,e,t)}uniformBlockBinding(e,t){this.gl2.uniformBlockBinding(this.handle,e,t)}}class H0{static getDefaultProgramManager(e){return e.luma=e.luma||{},e.luma.defaultProgramManager=e.luma.defaultProgramManager||new H0(e),e.luma.defaultProgramManager}constructor(e){this.gl=e,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}addDefaultModule(e){this._defaultModules.find(t=>t.name===e.name)||this._defaultModules.push(e),this.stateHash++}removeDefaultModule(e){const t="string"==typeof e?e:e.name;this._defaultModules=this._defaultModules.filter(i=>i.name!==t),this.stateHash++}addShaderHook(e,t){t&&(e=Object.assign(t,{hook:e})),this._hookFunctions.push(e),this.stateHash++}get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{vs:t="",fs:i="",defines:r={},inject:o={},varyings:s=[],bufferMode:a=35981,transpileToGLSL100:c=!1}=e,l=this._getModuleList(e.modules),d=this._getHash(t),h=this._getHash(i),f=l.map(le=>this._getHash(le.name)).sort(),m=s.map(le=>this._getHash(le)),g=Object.keys(r).sort(),v=Object.keys(o).sort(),C=[],B=[];for(const le of g)C.push(this._getHash(le)),C.push(this._getHash(r[le]));for(const le of v)B.push(this._getHash(le)),B.push(this._getHash(o[le]));const z="".concat(d,"/").concat(h,"D").concat(C.join("/"),"M").concat(f.join("/"),"I").concat(B.join("/"),"V").concat(m.join("/"),"H").concat(this.stateHash,"B").concat(a).concat(c?"T":"");if(!this._programCache[z]){const le=function wye(n,e){const{vs:t,fs:i}=e,r=K_e(e.modules||[]);return{gl:n,vs:_6(n,Object.assign({},e,{source:t,type:P0,modules:r})),fs:_6(n,Object.assign({},e,{source:i,type:"fs",modules:r})),getUniforms:xye(r)}}(this.gl,{vs:t,fs:i,modules:l,inject:o,defines:r,hookFunctions:this._hookFunctions,transpileToGLSL100:c});this._programCache[z]=new h9(this.gl,{hash:z,vs:le.vs,fs:le.fs,varyings:s,bufferMode:a}),this._getUniforms[z]=le.getUniforms||(se=>{}),this._useCounts[z]=0}return this._useCounts[z]++,this._programCache[z]}getUniforms(e){return this._getUniforms[e.hash]||null}release(e){const t=e.hash;this._useCounts[t]--,0===this._useCounts[t]&&(this._programCache[t].delete(),delete this._programCache[t],delete this._getUniforms[t],delete this._useCounts[t])}_getHash(e){return void 0===this._hashes[e]&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}_getModuleList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=new Array(this._defaultModules.length+e.length),i={};let r=0;for(let o=0,s=this._defaultModules.length;o<s;++o){const a=this._defaultModules[o],c=a.name;t[r++]=a,i[c]=!0}for(let o=0,s=e.length;o<s;++o){const a=e[o],c=a.name;i[c]||(t[r++]=a,i[c]=!0)}return t.length=r,t}}const Xve=[255,255,255],Yve=1;let qve=0;class f9{constructor(e={}){we(this,"id",void 0),we(this,"color",void 0),we(this,"intensity",void 0),we(this,"type","ambient");const{color:t=Xve}=e,{intensity:i=Yve}=e;this.id=e.id||"ambient-".concat(qve++),this.color=t,this.intensity=i}}const Kve=[255,255,255],Jve=1,Qve=[0,0,-1];let Zve=0;class p9{constructor(e={}){we(this,"id",void 0),we(this,"color",void 0),we(this,"intensity",void 0),we(this,"type","directional"),we(this,"direction",void 0),we(this,"shadow",void 0);const{color:t=Kve}=e,{intensity:i=Jve}=e,{direction:r=Qve}=e,{_shadow:o=!1}=e;this.id=e.id||"directional-".concat(Zve++),this.color=t,this.intensity=i,this.type="directional",this.direction=new ia(r).normalize().toArray(),this.shadow=o}getProjectedLight(e){return this}}class e0e{constructor(e,t={id:"pass"}){we(this,"id",void 0),we(this,"gl",void 0),we(this,"props",void 0);const{id:i}=t;this.id=i,this.gl=e,this.props={...t}}setProps(e){Object.assign(this.props,e)}render(e){}cleanup(){}}class NS extends e0e{constructor(...e){super(...e),we(this,"_lastRenderIndex",-1)}render(e){return Hu(this.gl,{framebuffer:e.target}),this._drawLayers(e)}_drawLayers(e){const{target:t,moduleParameters:i,viewports:r,views:o,onViewportActive:s,clearStack:a=!0,clearCanvas:c=!0}=e;e.pass=e.pass||"unknown";const l=this.gl;c&&function n0e(n){Hu(n,{viewport:[0,0,n.drawingBufferWidth,n.drawingBufferHeight]}),n.clear(16640)}(l),a&&(this._lastRenderIndex=-1);const d=[];for(const h of r){const f=o&&o[h.id];s(h);const m=this._getDrawLayerParams(h,e),g=h.subViewports||[h];for(const v of g){const C=this._drawLayersInViewport(l,{target:t,moduleParameters:i,viewport:v,view:f,pass:e.pass,layers:e.layers},m);d.push(C)}}return d}_getDrawLayerParams(e,{layers:t,pass:i,layerFilter:r,cullRect:o,effects:s,moduleParameters:a}){const c=[],l=m9(this._lastRenderIndex+1),d={layer:t[0],viewport:e,isPicking:i.startsWith("picking"),renderPass:i,cullRect:o},h={};for(let f=0;f<t.length;f++){const m=t[f],g=this._shouldDrawLayer(m,d,r,h),v={shouldDrawLayer:g};g&&(v.layerRenderIndex=l(m,g),v.moduleParameters=this._getModuleParameters(m,s,i,a),v.layerParameters=this.getLayerParameters(m,f,e)),c[f]=v}return c}_drawLayersInViewport(e,{layers:t,moduleParameters:i,pass:r,target:o,viewport:s,view:a},c){const l=function t0e(n,{moduleParameters:e,target:t,viewport:i}){const r=t&&"default-framebuffer"!==t.id,o=e&&e.devicePixelRatio||D_(n);return[i.x*o,(r?t.height:n.drawingBufferHeight)-(i.y+i.height)*o,i.width*o,i.height*o]}(e,{moduleParameters:i,target:o,viewport:s});if(a&&a.props.clear){const h=!0===a.props.clear?{color:!0,depth:!0}:a.props.clear;Zc(e,{scissorTest:!0,scissor:l},()=>Tk(e,h))}const d={totalCount:t.length,visibleCount:0,compositeCount:0,pickableCount:0};Hu(e,{viewport:l});for(let h=0;h<t.length;h++){const f=t[h],{shouldDrawLayer:m,layerRenderIndex:g,moduleParameters:v,layerParameters:C}=c[h];if(m&&f.props.pickable&&d.pickableCount++,f.isComposite)d.compositeCount++;else if(m){d.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,g),v.viewport=s;try{f._drawLayer({moduleParameters:v,uniforms:{layerIndex:g},parameters:C})}catch(B){f.raiseError(B,"drawing ".concat(f," to ").concat(r))}}}return d}shouldDrawLayer(e){return!0}getModuleParameters(e,t){return null}getLayerParameters(e,t,i){return e.props.parameters}_shouldDrawLayer(e,t,i,r){if(!e.props.visible||!this.shouldDrawLayer(e))return!1;t.layer=e;let s=e.parent;for(;s;){if(!s.props.visible||!s.filterSubLayer(t))return!1;t.layer=s,s=s.parent}if(i){const a=t.layer.id;if(a in r||(r[a]=i(t)),!r[a])return!1}return e.activateViewport(t.viewport),!0}_getModuleParameters(e,t,i,r){var o;const s=Object.assign(Object.create((null===(o=e.internalState)||void 0===o?void 0:o.propsInTransition)||e.props),{autoWrapLongitude:e.wrapLongitude,viewport:e.context.viewport,mousePosition:e.context.mousePosition,pickingActive:0,devicePixelRatio:D_(this.gl)});if(t)for(const c of t){var a;Object.assign(s,null===(a=c.getModuleParameters)||void 0===a?void 0:a.call(c,e))}return Object.assign(s,this.getModuleParameters(e,t),r)}}function m9(n=0,e={}){const t={},i=(r,o)=>{const s=r.props._offset,a=r.id,c=r.parent&&r.parent.id;let l;if(c&&!(c in e)&&i(r.parent,!1),c in t){const d=t[c]=t[c]||m9(e[c],e);l=d(r,o),t[a]=d}else Number.isFinite(s)?(l=s+(e[c]||0),t[a]=null):l=n;return o&&l>=n&&(n=l+1),e[a]=l,l};return i}class i0e extends NS{constructor(e,t){super(e,t),we(this,"shadowMap",void 0),we(this,"depthBuffer",void 0),we(this,"fbo",void 0),this.shadowMap=new Os(e,{width:1,height:1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.depthBuffer=new P_(e,{format:33189,width:1,height:1}),this.fbo=new Xo(e,{id:"shadowmap",width:1,height:1,attachments:{36064:this.shadowMap,36096:this.depthBuffer}})}render(e){const t=this.fbo;Zc(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},()=>{const i=e.viewports[0],r=D_(this.gl),o=i.width*r,s=i.height*r;(o!==t.width||s!==t.height)&&t.resize({width:o,height:s}),super.render({...e,target:t,pass:"shadow"})})}shouldDrawLayer(e){return!1!==e.props.shadowEnabled}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}const g9="#define SMOOTH_EDGE_RADIUS 0.5",a0e={name:"geometry",vs:"\n".concat(g9,"\n\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0, 0.0, 1.0, 0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n"),fs:"\n".concat(g9,"\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n")},c0e=Object.keys(Wi).map(n=>"const int COORDINATE_SYSTEM_".concat(n," = ").concat(Wi[n],";")).join(""),l0e=Object.keys(Md).map(n=>"const int PROJECTION_MODE_".concat(n," = ").concat(Md[n],";")).join(""),d0e=Object.keys(ES).map(n=>"const int UNIT_".concat(n.toUpperCase()," = ").concat(ES[n],";")).join(""),u0e="".concat(c0e,"\n").concat(l0e,"\n").concat(d0e,'\n\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0; // meters\nconst float GLOBE_RADIUS = 256.0;\n\n// returns an adjustment factor for uCommonUnitsPerMeter\nfloat project_size_at_latitude(float lat) {\n  float y = clamp(lat, -89.9, 89.9);\n  return 1.0 / cos(radians(y));\n}\n\nfloat project_size() {\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\n    project_uPseudoMeters == false) {\n\n    // uCommonUnitsPerMeter in low-zoom Web Mercator is non-linear\n    // Adjust by 1 / cos(latitude)\n    // If geometry.position (vertex in common space) is populated, use it\n    // Otherwise use geometry.worldPosition (anchor in world space)\n    \n    if (geometry.position.w == 0.0) {\n      return project_size_at_latitude(geometry.worldPosition.y);\n    }\n\n    // latitude from common y: 2.0 * (atan(exp(y / TILE_SIZE * 2.0 * PI - PI)) - PI / 4.0)\n    // Taylor series of 1 / cos(latitude)\n    // Max error < 0.003\n  \n    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\n    float y2 = y * y;\n    float y4 = y2 * y2;\n    float y6 = y4 * y2;\n    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n  }\n  return 1.0;\n}\n\nfloat project_size_at_latitude(float meters, float lat) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size_at_latitude(lat);\n}\n\n//\n// Scaling offsets - scales meters to "world distance"\n// Note the scalar version of project_size is for scaling the z component only\n//\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size();\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter * project_size();\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\n\n// Get rotation matrix that aligns the z axis with the given up vector\n// Find 3 unit vectors ux, uy, uz that are perpendicular to each other and uz == up\nmat3 project_get_orientation_matrix(vec3 up) {\n  vec3 uz = normalize(up);\n  // Tangent on XY plane\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\n  vec3 uy = cross(uz, ux);\n  return mat3(ux, uy, uz);\n}\n\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    transform = project_get_orientation_matrix(commonPosition);\n    return true;\n  }\n  return false;\n}\n\n//\n// Projecting normal - transform deltas from current coordinate system to\n// normals in the worldspace\n//\nvec3 project_normal(vec3 vector) {\n  // Apply model matrix\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n  mat3 rotation;\n  if (project_needs_rotation(geometry.position.xyz, rotation)) {\n    n = rotation * n;\n  }\n  return n;\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\n\n//\n// Projecting positions - non-linear projection: lnglats => unit tile [0-1, 0-1]\n//\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x + 180., 360.0) - 180.;\n  }\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\nvec3 project_globe_(vec3 lnglatz) {\n  float lambda = radians(lnglatz.x);\n  float phi = radians(lnglatz.y);\n  float cosPhi = cos(phi);\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\n\n  return vec3(\n    sin(lambda) * cosPhi,\n    -cos(lambda) * cosPhi,\n    sin(phi)\n  ) * D;\n}\n\n//\n// Projects positions (defined by project_uCoordinateSystem) to common space (defined by project_uProjectionMode)\n//\nvec4 project_position(vec4 position, vec3 position64Low) {\n  vec4 position_world = project_uModelMatrix * position;\n\n  // Work around for a Mac+NVIDIA bug https://github.com/visgl/deck.gl/issues/4145\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_mercator_(position_world.xy),\n        project_size_at_latitude(position_world.z, position_world.y),\n        position_world.w\n      );\n    }\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\n      position_world.xyz += project_uCoordinateOrigin;\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_globe_(position_world.xyz),\n        position_world.w\n      );\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\n        // Too far from the projection center for offset mode to be accurate\n        // Only use high parts\n        return vec4(\n          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,\n          project_size(position_world.z),\n          position_world.w\n        );\n      }\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\n    // Subtract high part of 64 bit value. Convert remainder to float32, preserving precision.\n    position_world.xyz -= project_uCoordinateOrigin;\n  }\n\n  // Translation is already added to the high parts\n  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  return viewProjectionMatrix * position + center;\n}\n\n//\n// Projects from common space coordinates to clip space.\n// Uses project_uViewProjectionMatrix\n//\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\n\n// Returns a clip space offset that corresponds to a given number of screen pixels\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\n  if (unit == UNIT_METERS) return project_size_to_pixel(size);\n  if (unit == UNIT_COMMON) return size * project_uScale;\n  // UNIT_PIXELS\n  return size;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\n');function h0e(n,e){if(n===e)return!0;if(Array.isArray(n)){const t=n.length;if(!e||e.length!==t)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}return!1}function FS(n){let t,e={};return i=>{for(const r in i)if(!h0e(i[r],e[r])){t=n(i),e=i;break}return t}}const _9=[0,0,0,0],f0e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],y9=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],p0e=[0,0,0],b9=[0,0,0],m0e=FS(function y0e({viewport:n,devicePixelRatio:e,coordinateSystem:t,coordinateOrigin:i}){const{projectionCenter:r,viewProjectionMatrix:o,originCommon:s,cameraPosCommon:a,shaderCoordinateOrigin:c,geospatialOrigin:l}=function g0e(n,e,t){const{viewMatrixUncentered:i,projectionMatrix:r}=n;let{viewMatrix:o,viewProjectionMatrix:s}=n,a=_9,c=_9,l=n.cameraPosition;const{geospatialOrigin:d,shaderCoordinateOrigin:h,offsetMode:f}=v9(n,e,t);return f&&(c=n.projectPosition(d||h),l=[l[0]-c[0],l[1]-c[1],l[2]-c[2]],c[3]=1,a=I0([],c,s),o=i||o,s=Hp([],r,o),s=Hp([],s,f0e)),{viewMatrix:o,viewProjectionMatrix:s,projectionCenter:a,originCommon:c,cameraPosCommon:l,shaderCoordinateOrigin:h,geospatialOrigin:d}}(n,t,i),d=n.getDistanceScales(),h=[n.width*e,n.height*e],f=I0([],[0,0,-n.focalDistance,1],n.projectionMatrix)[3]||1,m={project_uCoordinateSystem:t,project_uProjectionMode:n.projectionMode,project_uCoordinateOrigin:c,project_uCommonOrigin:s.slice(0,3),project_uCenter:r,project_uPseudoMeters:!!n._pseudoMeters,project_uViewportSize:h,project_uDevicePixelRatio:e,project_uFocalDistance:f,project_uCommonUnitsPerMeter:d.unitsPerMeter,project_uCommonUnitsPerWorldUnit:d.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:p0e,project_uScale:n.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:o,project_uModelMatrix:y9,project_uCameraPosition:a};if(l){const g=n.getDistanceScales(l);switch(t){case Wi.METER_OFFSETS:m.project_uCommonUnitsPerWorldUnit=g.unitsPerMeter,m.project_uCommonUnitsPerWorldUnit2=g.unitsPerMeter2;break;case Wi.LNGLAT:case Wi.LNGLAT_OFFSETS:n._pseudoMeters||(m.project_uCommonUnitsPerMeter=g.unitsPerMeter),m.project_uCommonUnitsPerWorldUnit=g.unitsPerDegree,m.project_uCommonUnitsPerWorldUnit2=g.unitsPerDegree2;break;case Wi.CARTESIAN:m.project_uCommonUnitsPerWorldUnit=[1,1,g.unitsPerMeter[2]],m.project_uCommonUnitsPerWorldUnit2=[0,0,g.unitsPerMeter2[2]]}}return m});function v9(n,e,t=b9){t.length<3&&(t=[t[0],t[1],0]);let r,i=t,o=!0;switch(r=e===Wi.LNGLAT_OFFSETS||e===Wi.METER_OFFSETS?t:n.isGeospatial?[Math.fround(n.longitude),Math.fround(n.latitude),0]:null,n.projectionMode){case Md.WEB_MERCATOR:(e===Wi.LNGLAT||e===Wi.CARTESIAN)&&(r=[0,0,0],o=!1);break;case Md.WEB_MERCATOR_AUTO_OFFSET:e===Wi.LNGLAT?i=r:e===Wi.CARTESIAN&&(i=[Math.fround(n.center[0]),Math.fround(n.center[1]),0],r=n.unprojectPosition(i),i[0]-=t[0],i[1]-=t[1],i[2]-=t[2]);break;case Md.IDENTITY:i=n.position.map(Math.fround),i[2]=i[2]||0;break;case Md.GLOBE:o=!1,r=null;break;default:o=!1}return{geospatialOrigin:r,shaderCoordinateOrigin:i,offsetMode:o}}const b0e={},Nk={name:"project",dependencies:[{name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 1.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 1.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null},a0e],vs:u0e,getUniforms:function v0e(n=b0e){return"viewport"in n?function _0e({viewport:n,devicePixelRatio:e=1,modelMatrix:t=null,coordinateSystem:i=Wi.DEFAULT,coordinateOrigin:r=b9,autoWrapLongitude:o=!1}){i===Wi.DEFAULT&&(i=n.isGeospatial?Wi.LNGLAT:Wi.CARTESIAN);const s=m0e({viewport:n,devicePixelRatio:e,coordinateSystem:i,coordinateOrigin:r});return s.project_uWrapLongitude=o,s.project_uModelMatrix=t||y9,s}(n):{}}},E0e=FS(function M0e({viewport:n,center:e}){return new Lt(n.viewProjectionMatrix).invert().transform(e)}),C0e=FS(function I0e({viewport:n,shadowMatrices:e}){const t=[],i=n.pixelUnprojectionMatrix,r=n.isGeospatial?void 0:1,o=[[0,0,r],[n.width,0,r],[0,n.height,r],[n.width,n.height,r],[0,0,-1],[n.width,0,-1],[0,n.height,-1],[n.width,n.height,-1]].map(s=>function T0e(n,e){const[t,i,r]=n,o=D0([t,i,r],e);return Number.isFinite(r)?o:[o[0],o[1],0]}(s,i));for(const s of e){const a=s.clone().translate(new ia(n.center).negate()),c=o.map(d=>a.transform(d)),l=(new Lt).ortho({left:Math.min(...c.map(d=>d[0])),right:Math.max(...c.map(d=>d[0])),bottom:Math.min(...c.map(d=>d[1])),top:Math.max(...c.map(d=>d[1])),near:Math.min(...c.map(d=>-d[2])),far:Math.max(...c.map(d=>-d[2]))});t.push(l.multiplyRight(s))}return t}),S0e=[0,0,0,1],A0e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],Fk={name:"shadow",dependencies:[Nk],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:(n={},e={})=>"viewport"in n&&(n.drawToShadowMap||n.shadowMaps&&n.shadowMaps.length>0)?function D0e(n,e){const{shadowEnabled:t=!0}=n;if(!t||!n.shadowMatrices||!n.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1};const i={shadow_uDrawShadowMap:!!n.drawToShadowMap,shadow_uUseShadowMap:!!n.shadowMaps&&n.shadowMaps.length>0,shadow_uColor:n.shadowColor||S0e,shadow_uLightId:n.shadowLightId||0,shadow_uLightCount:n.shadowMatrices.length},r=E0e({viewport:n.viewport,center:e.project_uCenter}),o=[],s=C0e({shadowMatrices:n.shadowMatrices,viewport:n.viewport}).slice();for(let a=0;a<n.shadowMatrices.length;a++){const c=s[a],l=c.clone().translate(new ia(n.viewport.center).negate());e.project_uCoordinateSystem===Wi.LNGLAT&&e.project_uProjectionMode===Md.WEB_MERCATOR?(s[a]=l,o[a]=r):(s[a]=c.clone().multiplyRight(A0e),o[a]=l.transform(r))}for(let a=0;a<s.length;a++)i["shadow_uViewProjectionMatrices[".concat(a,"]")]=s[a],i["shadow_uProjectCenters[".concat(a,"]")]=o[a],i["shadow_uShadowMap".concat(a)]=n.shadowMaps&&n.shadowMaps.length>0?n.shadowMaps[a]:n.dummyShadowMap;return i}(n,e):{}},O0e={color:[255,255,255],intensity:1},w9=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],R0e=[0,0,0,200/255];class Lk{constructor(e={}){we(this,"id","lighting-effect"),we(this,"props",null),we(this,"shadowColor",R0e),we(this,"shadow",void 0),we(this,"ambientLight",null),we(this,"directionalLights",[]),we(this,"pointLights",[]),we(this,"shadowPasses",[]),we(this,"shadowMaps",[]),we(this,"dummyShadowMap",null),we(this,"programManager",void 0),we(this,"shadowMatrices",void 0);for(const t in e){const i=e[t];switch(i.type){case"ambient":this.ambientLight=i;break;case"directional":this.directionalLights.push(i);break;case"point":this.pointLights.push(i)}}this._applyDefaultLights(),this.shadow=this.directionalLights.some(t=>t.shadow)}preRender(e,{layers:t,layerFilter:i,viewports:r,onViewportActive:o,views:s}){if(this.shadow){this.shadowMatrices=this._calculateMatrices(),0===this.shadowPasses.length&&this._createShadowPasses(e),this.programManager||(this.programManager=H0.getDefaultProgramManager(e),Fk&&this.programManager.addDefaultModule(Fk)),this.dummyShadowMap||(this.dummyShadowMap=new Os(e,{width:1,height:1}));for(let a=0;a<this.shadowPasses.length;a++)this.shadowPasses[a].render({layers:t,layerFilter:i,viewports:r,onViewportActive:o,views:s,moduleParameters:{shadowLightId:a,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}getModuleParameters(e){const t=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return t.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map(i=>i.getProjectedLight({layer:e})),pointLights:this.pointLights.map(i=>i.getProjectedLight({layer:e}))},t}cleanup(){for(const e of this.shadowPasses)e.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(Fk),this.programManager=null)}_calculateMatrices(){const e=[];for(const t of this.directionalLights){const i=(new Lt).lookAt({eye:new ia(t.direction).negate()});e.push(i)}return e}_createShadowPasses(e){for(let t=0;t<this.directionalLights.length;t++){const i=new i0e(e);this.shadowPasses[t]=i,this.shadowMaps[t]=i.shadowMap}}_applyDefaultLights(){const{ambientLight:e,pointLights:t,directionalLights:i}=this;!e&&0===t.length&&0===i.length&&(this.ambientLight=new f9(O0e),this.directionalLights.push(new p9(w9[0]),new p9(w9[1])))}}let P0e=1,k0e=1;class x9{constructor(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}addChannel(e){const{delay:t=0,duration:i=Number.POSITIVE_INFINITY,rate:r=1,repeat:o=1}=e,s=P0e++,a={time:0,delay:t,duration:i,rate:r,repeat:o};return this._setChannelTime(a,this.time),this.channels.set(s,a),s}removeChannel(e){this.channels.delete(e);for(const[t,i]of this.animations)i.channel===e&&this.detachAnimation(t)}isFinished(e){const t=this.channels.get(e);return void 0!==t&&this.time>=t.delay+t.duration*t.repeat}getTime(e){if(void 0===e)return this.time;const t=this.channels.get(e);return void 0===t?-1:t.time}setTime(e){this.time=Math.max(0,e);const t=this.channels.values();for(const r of t)this._setChannelTime(r,this.time);const i=this.animations.values();for(const r of i){const{animation:o,channel:s}=r;o.setTime(this.getTime(s))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(e,t){const i=k0e++;return this.animations.set(i,{animation:e,channel:t}),e.setTime(this.getTime(t)),i}detachAnimation(e){this.animations.delete(e)}update(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}_setChannelTime(e,t){const i=t-e.delay;i>=e.duration*e.repeat?e.time=e.duration*e.rate:(e.time=Math.max(0,i)%e.duration,e.time*=e.rate)}}const LS=Symbol.for("component"),L_=Symbol.for("asyncPropDefaults"),Kp=Symbol.for("asyncPropOriginal"),gf=Symbol.for("asyncPropResolved");let Bk={};function sa(n,e,t,i){ki.level>0&&Bk[n]&&Bk[n].call(null,e,t,i)}function jk(n,e=(()=>!0)){return Array.isArray(n)?E9(n,e,[]):e(n)?[n]:[]}function E9(n,e,t){let i=-1;for(;++i<n.length;){const r=n[i];Array.isArray(r)?E9(r,e,t):e(r)&&t.push(r)}return t}function F0e({target:n,source:e,start:t=0,count:i=1}){const r=e.length,o=i*r;let s=0;for(let a=t;s<r;s++)n[a++]=e[s];for(;s<o;)s<o-s?(n.copyWithin(t+s,t,t+s),s*=2):(n.copyWithin(t+s,t,t+o-s),s=o);return n}const Rl=n=>"function"==typeof n,_f=n=>null!==n&&"object"==typeof n,S9=n=>_f(n)&&n.constructor==={}.constructor,L0e=n=>n&&"function"==typeof n[Symbol.iterator],B0e=n=>n&&"function"==typeof n[Symbol.asyncIterator],B_=n=>typeof Response<"u"&&n instanceof Response||n&&n.arrayBuffer&&n.text&&n.json,j_=n=>typeof Blob<"u"&&n instanceof Blob,j0e=n=>n&&"object"==typeof n&&n.isBuffer,A9=n=>(n=>typeof ReadableStream<"u"&&n instanceof ReadableStream||_f(n)&&Rl(n.tee)&&Rl(n.cancel)&&Rl(n.getReader))(n)||(n=>_f(n)&&Rl(n.read)&&Rl(n.pipe)&&(n=>"boolean"==typeof n)(n.readable))(n);function T9(n,e){if(!n)throw new Error(e||"loader assertion failed.")}function Uk(n){var e;return!!n&&(Array.isArray(n)&&(n=n[0]),Array.isArray(null===(e=n)||void 0===e?void 0:e.extensions))}function Vk(n){var e,t;let i;return T9(n,"null loader"),T9(Uk(n),"invalid loader"),Array.isArray(n)&&(i=n[1],n=n[0],n={...n,options:{...n.options,...i}}),(null!==(e=n)&&void 0!==e&&e.parseTextSync||null!==(t=n)&&void 0!==t&&t.parseText)&&(n.text=!0),n.text||(n.binary=!0),n}let zk="";const Hk={},W0e=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,$0e=/^([-\w.]+\/[-\w.+]+)/;function X0e(n){const e=$0e.exec(n);return e?e[1]:n}function M9(n){const e=W0e.exec(n);return e?e[1]:""}const Y0e=/\?.*/;function BS(n){if(B_(n)){const e=Gk(n.url||"");return{url:e,type:X0e(n.headers.get("content-type")||"")||M9(e)}}return j_(n)?{url:Gk(n.name||""),type:n.type||""}:"string"==typeof n?{url:Gk(n),type:M9(n)}:{url:"",type:""}}function Gk(n){return n.replace(Y0e,"")}function I9(n){return Wk.apply(this,arguments)}function Wk(){return Wk=fn(function*(n){if(B_(n))return n;const e={},t=function q0e(n){return B_(n)?n.headers["content-length"]||-1:j_(n)?n.size:"string"==typeof n?n.length:n instanceof ArrayBuffer||ArrayBuffer.isView(n)?n.byteLength:-1}(n);t>=0&&(e["content-length"]=String(t));const{url:i,type:r}=BS(n);r&&(e["content-type"]=r);const o=yield function Q0e(n){return Yk.apply(this,arguments)}(n);o&&(e["x-first-bytes"]=o),"string"==typeof n&&(n=(new TextEncoder).encode(n));const s=new Response(n,{headers:e});return Object.defineProperty(s,"url",{value:i}),s}),Wk.apply(this,arguments)}function $k(){return $k=fn(function*(n){if(!n.ok){const e=yield function J0e(n){return Xk.apply(this,arguments)}(n);throw new Error(e)}}),$k.apply(this,arguments)}function Xk(){return Xk=fn(function*(n){let e="Failed to fetch resource ".concat(n.url," (").concat(n.status,"): ");try{const t=n.headers.get("Content-Type");let i=n.statusText;t.includes("application/json")&&(i+=" ".concat(yield n.text())),e+=i,e=e.length>60?"".concat(e.slice(0,60),"..."):e}catch{}return e}),Xk.apply(this,arguments)}function Yk(){return Yk=fn(function*(n){if("string"==typeof n)return"data:,".concat(n.slice(0,5));if(n instanceof Blob){const t=n.slice(0,5);return yield new Promise(i=>{const r=new FileReader;r.onload=o=>{var s;return i(null==o||null===(s=o.target)||void 0===s?void 0:s.result)},r.readAsDataURL(t)})}if(n instanceof ArrayBuffer){const i=function Z0e(n){let e="";const t=new Uint8Array(n);for(let i=0;i<t.byteLength;i++)e+=String.fromCharCode(t[i]);return btoa(e)}(n.slice(0,5));return"data:base64,".concat(i)}return null}),Yk.apply(this,arguments)}function D9(n,e){return qk.apply(this,arguments)}function qk(){return qk=fn(function*(n,e){if("string"==typeof n){n=function G0e(n){for(const e in Hk)n.startsWith(e)&&(n=n.replace(e,Hk[e]));return!n.startsWith("http://")&&!n.startsWith("https://")&&(n="".concat(zk).concat(n)),n}(n);let t=e;return null!=e&&e.fetch&&"function"!=typeof e?.fetch&&(t=e.fetch),yield fetch(n,t)}return yield I9(n)}),qk.apply(this,arguments)}const O9=new S0({id:"loaders.gl"});class ewe{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const R9=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),P9=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),k9=(P9&&parseFloat(P9[1]),{fetch:null,mimeType:void 0,nothrow:!1,log:new class twe{constructor(){we(this,"console",void 0),this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}},CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:R9,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]}),nwe={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function Kk(){globalThis.loaders=globalThis.loaders||{};const{loaders:n}=globalThis;return n._state=n._state||{},n._state}const Jk=()=>{const n=Kk();return n.globalOptions=n.globalOptions||{...k9},n.globalOptions};function iwe(n,e,t,i){return t=t||[],function rwe(n,e){F9(n,null,k9,nwe,e);for(const t of e)F9(n&&n[t.id]||{},t.id,t.options&&t.options[t.id]||{},t.deprecatedOptions&&t.deprecatedOptions[t.id]||{},e)}(n,t=Array.isArray(t)?t:[t]),function L9(n,e,t){const r={...n.options||{}};return function swe(n,e){e&&!("baseUri"in n)&&(n.baseUri=e)}(r,t),null===r.log&&(r.log=new ewe),B9(r,Jk()),B9(r,e),r}(e,n,i)}function N9(n,e){const t=Jk(),i=n||t;return"function"==typeof i.fetch?i.fetch:_f(i.fetch)?r=>D9(r,i):null!=e&&e.fetch?e?.fetch:D9}function F9(n,e,t,i,r){const o=e||"Top level",s=e?"".concat(e,"."):"";for(const a in n){const c=!e&&_f(n[a]);if(!(a in t)&&("baseUri"!==a||e)&&("workerUrl"!==a||!e))if(a in i)O9.warn("".concat(o," loader option '").concat(s).concat(a,"' no longer supported, use '").concat(i[a],"'"))();else if(!c){const h=owe(a,r);O9.warn("".concat(o," loader option '").concat(s).concat(a,"' not recognized. ").concat(h))()}}}function owe(n,e){const t=n.toLowerCase();let i="";for(const r of e)for(const o in r.options){if(n===o)return"Did you mean '".concat(r.id,".").concat(o,"'?");const s=o.toLowerCase();(t.startsWith(s)||s.startsWith(t))&&(i=i||"Did you mean '".concat(r.id,".").concat(o,"'?"))}return i}function B9(n,e){for(const t in e)t in e&&(n[t]=S9(e[t])&&S9(n[t])?{...n[t],...e[t]}:e[t])}function Od(n,e){if(!n)throw new Error(e||"loaders.gl assertion failed.")}const awe="3.2.13",Rd={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},lwe=Rd.global||Rd.self||Rd.window||{},yf="object"!=typeof process||"[object process]"!==String(process)||process.browser,Qk="function"==typeof importScripts,dwe=typeof window<"u"&&typeof window.orientation<"u",j9=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);j9&&parseFloat(j9[1]);class Zk{}const e2=new Map;function U9(n){const e=new Blob([n],{type:"application/javascript"});return URL.createObjectURL(e)}function V9(n,e=!0,t){const i=t||new Set;if(n)if(z9(n))i.add(n);else if(z9(n.buffer))i.add(n.buffer);else if(!ArrayBuffer.isView(n)&&e&&"object"==typeof n)for(const r in n)V9(n[r],e,i);return void 0===t?Array.from(i):[]}function z9(n){return!!n&&(n instanceof ArrayBuffer||typeof MessagePort<"u"&&n instanceof MessagePort||typeof ImageBitmap<"u"&&n instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)}const t2=()=>{};class n2{static isSupported(){return typeof Worker<"u"&&yf||typeof Zk<"u"&&!yf}constructor(e){we(this,"name",void 0),we(this,"source",void 0),we(this,"url",void 0),we(this,"terminated",!1),we(this,"worker",void 0),we(this,"onMessage",void 0),we(this,"onError",void 0),we(this,"_loadableURL","");const{name:t,source:i,url:r}=e;Od(i||r),this.name=t,this.source=i,this.url=r,this.onMessage=t2,this.onError=o=>console.log(o),this.worker=yf?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=t2,this.onError=t2,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(e,t){t=t||V9(e),this.worker.postMessage(e,t)}_getErrorFromErrorEvent(e){let t="Failed to load ";return t+="worker ".concat(this.name," from ").concat(this.url,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}_createBrowserWorker(){this._loadableURL=function uwe(n){Od(n.source&&!n.url||!n.source&&n.url);let e=e2.get(n.source||n.url);return e||(n.url&&(e=function hwe(n){if(!n.startsWith("http"))return n;const e=function fwe(n){return"try {\n  importScripts('".concat(n,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")}(n);return U9(e)}(n.url),e2.set(n.url,e)),n.source&&(e=U9(n.source),e2.set(n.source,e))),Od(e),e}({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=t=>{t.data?this.onMessage(t.data):this.onError(new Error("No data received"))},e.onerror=t=>{this.onError(this._getErrorFromErrorEvent(t)),this.terminated=!0},e.onmessageerror=t=>console.error(t),e}_createNodeWorker(){let e;if(this.url){const i=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);e=new Zk(i,{eval:!1})}else{if(!this.source)throw new Error("no worker");e=new Zk(this.source,{eval:!0})}return e.on("message",t=>{this.onMessage(t)}),e.on("error",t=>{this.onError(t)}),e.on("exit",t=>{}),e}}class mwe{constructor(e,t){we(this,"name",void 0),we(this,"workerThread",void 0),we(this,"isRunning",!0),we(this,"result",void 0),we(this,"_resolve",()=>{}),we(this,"_reject",()=>{}),this.name=e,this.workerThread=t,this.result=new Promise((i,r)=>{this._resolve=i,this._reject=r})}postMessage(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}done(e){Od(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){Od(this.isRunning),this.isRunning=!1,this._reject(e)}}class gwe{static isSupported(){return n2.isSupported()}constructor(e){we(this,"name","unnamed"),we(this,"source",void 0),we(this,"url",void 0),we(this,"maxConcurrency",1),we(this,"maxMobileConcurrency",1),we(this,"onDebug",()=>{}),we(this,"reuseWorkers",!0),we(this,"props",{}),we(this,"jobQueue",[]),we(this,"idleQueue",[]),we(this,"count",0),we(this,"isDestroyed",!1),this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}startJob(e,t=((r,o,s)=>r.done(s)),i=((r,o)=>r.error(o))){var r=this;return fn(function*(){const o=new Promise(s=>(r.jobQueue.push({name:e,onMessage:t,onError:i,onStart:s}),r));return r._startQueuedJob(),yield o})()}_startQueuedJob(){var e=this;return fn(function*(){if(!e.jobQueue.length)return;const t=e._getAvailableWorker();if(!t)return;const i=e.jobQueue.shift();if(i){e.onDebug({message:"Starting job",name:i.name,workerThread:t,backlog:e.jobQueue.length});const r=new mwe(i.name,t);t.onMessage=o=>i.onMessage(r,o.type,o.payload),t.onError=o=>i.onError(r,o),i.onStart(r);try{yield r.result}finally{e.returnWorkerToQueue(t)}}})()}returnWorkerToQueue(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new n2({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return dwe?this.maxMobileConcurrency:this.maxConcurrency}}const _we={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class $u{static isSupported(){return n2.isSupported()}static getWorkerFarm(e={}){return $u._workerFarm=$u._workerFarm||new $u({}),$u._workerFarm.setProps(e),$u._workerFarm}constructor(e){we(this,"props",void 0),we(this,"workerPools",new Map),this.props={..._we},this.setProps(e),this.workerPools=new Map}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const t of this.workerPools.values())t.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:t,source:i,url:r}=e;let o=this.workerPools.get(t);return o||(o=new gwe({name:t,source:i,url:r}),o.setProps(this._getWorkerPoolProps()),this.workerPools.set(t,o)),o}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}we($u,"_workerFarm",void 0);const ywe="latest";function r2(){return r2=fn(function*(n,e,t,i,r){const o=n.id,s=function bwe(n,e={}){const t=e[n.id]||{},i="".concat(n.id,"-worker.js");let r=t.workerUrl;if(!r&&"compression"===n.id&&(r=e.workerUrl),"test"===e._workerType&&(r="modules/".concat(n.module,"/dist/").concat(i)),!r){let o=n.version;"latest"===o&&(o=ywe);const s=o?"@".concat(o):"";r="https://unpkg.com/@loaders.gl/".concat(n.module).concat(s,"/dist/").concat(i)}return Od(r),r}(n,t),c=$u.getWorkerFarm(t).getWorkerPool({name:o,url:s});t=JSON.parse(JSON.stringify(t)),i=JSON.parse(JSON.stringify(i||{}));const l=yield c.startJob("process-on-worker",xwe.bind(null,r));return l.postMessage("process",{input:e,options:t,context:i}),yield(yield l.result).result}),r2.apply(this,arguments)}function xwe(n,e,t,i){return o2.apply(this,arguments)}function o2(){return o2=fn(function*(n,e,t,i){switch(t){case"done":e.done(i);break;case"error":e.error(new Error(i.error));break;case"process":const{id:r,input:o,options:s}=i;try{const a=yield n(o,s);e.postMessage("done",{id:r,result:a})}catch(a){const c=a instanceof Error?a.message:"unknown error";e.postMessage("error",{id:r,error:c})}break;default:console.warn("parse-with-worker unknown message ".concat(t))}}),o2.apply(this,arguments)}function s2(n){var e,t,i,r=2;for(typeof Symbol<"u"&&(t=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(t&&null!=(e=n[t]))return e.call(n);if(i&&null!=(e=n[i]))return new jS(e.call(n));t="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function jS(n){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var i=t.done;return Promise.resolve(t.value).then(function(r){return{value:r,done:i}})}return(jS=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(i){var r=this.s.return;return void 0===r?Promise.resolve({value:i,done:!0}):e(r.apply(this.s,arguments))},throw:function(i){var r=this.s.return;return void 0===r?Promise.reject(i):e(r.apply(this.s,arguments))}},new jS(n)}function G9(n){return n&&"object"==typeof n&&n.isBuffer}function W9(n){if(G9(n))return function Ewe(n){return G9(n)?new Uint8Array(n.buffer,n.byteOffset,n.length).slice().buffer:n}(n);if(n instanceof ArrayBuffer)return n;if(ArrayBuffer.isView(n))return 0===n.byteOffset&&n.byteLength===n.buffer.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength);if("string"==typeof n){const e=n;return(new TextEncoder).encode(e).buffer}if(n&&"object"==typeof n&&n._toArrayBuffer)return n._toArrayBuffer();throw new Error("toArrayBuffer")}function c2(){return c2=fn(function*(n){const e=[];var r,t=!1,i=!1;try{for(var s,o=s2(n);t=!(s=yield o.next()).done;t=!1)e.push(s.value)}catch(a){i=!0,r=a}finally{try{t&&null!=o.return&&(yield o.return())}finally{if(i)throw r}}return function Swe(...n){const e=n.map(o=>o instanceof ArrayBuffer?new Uint8Array(o):o),t=e.reduce((o,s)=>o+s.byteLength,0),i=new Uint8Array(t);let r=0;for(const o of e)i.set(o,r),r+=o.byteLength;return i.buffer}(...e)}),c2.apply(this,arguments)}S(643);const Twe=262144,Iwe=262144;function $9(n,e){this.v=n,this.k=e}function US(n){return new $9(n,0)}function G0(n){var e,t;function i(o,s){try{var a=n[o](s),c=a.value,l=c instanceof $9;Promise.resolve(l?c.v:c).then(function(d){if(l){var h="return"===o?"return":"next";if(!c.k||d.done)return i(h,d);d=n[h](d).value}r(a.done?"return":"normal",d)},function(d){i("throw",d)})}catch(d){r("throw",d)}}function r(o,s){switch(o){case"return":e.resolve({value:s,done:!0});break;case"throw":e.reject(s);break;default:e.resolve({value:s,done:!1})}(e=e.next)?i(e.key,e.arg):t=null}this._invoke=function(o,s){return new Promise(function(a,c){var l={key:o,arg:s,resolve:a,reject:c,next:null};t?t=t.next=l:(e=t=l,i(o,s))})},"function"!=typeof n.return&&(this.return=void 0)}function d2(n){return function(){return new G0(n.apply(this,arguments))}}G0.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},G0.prototype.next=function(n){return this._invoke("next",n)},G0.prototype.throw=function(n){return this._invoke("throw",n)},G0.prototype.return=function(n){return this._invoke("return",n)};const Owe=1048576;function u2(){return u2=d2(function*(n,e){const t=e?.chunkSize||Owe;let i=0;for(;i<n.size;){const r=i+t,o=yield US(n.slice(i,r).arrayBuffer());i=r,yield o}}),u2.apply(this,arguments)}function X9(n,e){return R9?function Pwe(n,e){return h2.apply(this,arguments)}(n,e):function kwe(n,e){return f2.apply(this,arguments)}(n,e)}function h2(){return h2=d2(function*(n,e){const t=n.getReader();let i;try{for(;;){const r=i||t.read();null!=e&&e._streamReadAhead&&(i=t.read());const{done:o,value:s}=yield US(r);if(o)return;yield W9(s)}}catch{t.releaseLock()}}),h2.apply(this,arguments)}function f2(){return f2=d2(function*(n,e){var r,t=!1,i=!1;try{for(var s,o=s2(n);t=!(s=yield US(o.next())).done;t=!1){const a=s.value;yield W9(a)}}catch(a){i=!0,r=a}finally{try{t&&null!=o.return&&(yield US(o.return()))}finally{if(i)throw r}}}),f2.apply(this,arguments)}const p2="Cannot convert supplied data type";function m2(){return m2=fn(function*(n,e,t){const i=n instanceof ArrayBuffer||ArrayBuffer.isView(n);if("string"==typeof n||i)return function Fwe(n,e,t){if(e.text&&"string"==typeof n)return n;if(j0e(n)&&(n=n.buffer),n instanceof ArrayBuffer){const i=n;return e.text&&!e.binary?new TextDecoder("utf8").decode(i):i}if(ArrayBuffer.isView(n)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(n);let i=n.buffer;const r=n.byteLength||n.length;return(0!==n.byteOffset||r!==i.byteLength)&&(i=i.slice(n.byteOffset,n.byteOffset+r)),i}throw new Error(p2)}(n,e);if(j_(n)&&(n=yield I9(n)),B_(n)){const r=n;return yield function K0e(n){return $k.apply(this,arguments)}(r),e.binary?yield r.arrayBuffer():yield r.text()}if(A9(n)&&(n=function Nwe(n,e){if("string"==typeof n)return function*Mwe(n,e){const t=e?.chunkSize||Twe;let i=0;const r=new TextEncoder;for(;i<n.length;){const o=Math.min(n.length-i,t),s=n.slice(i,i+o);i+=o,yield r.encode(s)}}(n,e);if(n instanceof ArrayBuffer)return function*Dwe(n,e={}){const{chunkSize:t=Iwe}=e;let i=0;for(;i<n.byteLength;){const r=Math.min(n.byteLength-i,t),o=new ArrayBuffer(r),s=new Uint8Array(n,i,r);new Uint8Array(o).set(s),i+=r,yield o}}(n,e);if(j_(n))return function Rwe(n,e){return u2.apply(this,arguments)}(n,e);if(A9(n))return X9(n,e);if(B_(n))return X9(n.body,e);throw new Error("makeIterator")}(n,t)),L0e(n)||B0e(n))return function Awe(n){return c2.apply(this,arguments)}(n);throw new Error(p2)}),m2.apply(this,arguments)}const zwe=new S0({id:"loaders.gl"}),Y9=()=>{const n=Kk();return n.loaderRegistry=n.loaderRegistry||[],n.loaderRegistry};function q9(n){const e=Y9();n=Array.isArray(n)?n:[n];for(const t of n){const i=Vk(t);e.find(r=>i===r)||e.unshift(i)}}const Gwe=/\.([^.]+)$/;function y2(){return y2=fn(function*(n,e=[],t,i){if(!J9(n))return null;let r=K9(n,e,{...t,nothrow:!0},i);if(r)return r;if(j_(n)&&(r=K9(n=yield n.slice(0,10).arrayBuffer(),e,t,i)),!(r||null!=t&&t.nothrow))throw new Error(Q9(n));return r}),y2.apply(this,arguments)}function K9(n,e=[],t,i){if(!J9(n))return null;if(e&&!Array.isArray(e))return Vk(e);let r=[];e&&(r=r.concat(e)),null!=t&&t.ignoreRegisteredLoaders||r.push(...function Hwe(){return Y9()}()),function Xwe(n){for(const e of n)Vk(e)}(r);const o=function $we(n,e,t,i){const{url:r,type:o}=BS(n),s=r||i?.url;let a=null,c="";var l;return null!=t&&t.mimeType&&(a=b2(e,t?.mimeType),c="match forced by supplied MIME type ".concat(t?.mimeType)),a=a||function Ywe(n,e){const t=e&&Gwe.exec(e),i=t&&t[1];return i?function qwe(n,e){e=e.toLowerCase();for(const t of n)for(const i of t.extensions)if(i.toLowerCase()===e)return t;return null}(n,i):null}(e,s),c=c||(a?"matched url ".concat(s):""),a=a||b2(e,o),c=c||(a?"matched MIME type ".concat(o):""),a=a||function Kwe(n,e){if(!e)return null;for(const t of n)if("string"==typeof e){if(Jwe(e,t))return t}else if(ArrayBuffer.isView(e)){if(Z9(e.buffer,e.byteOffset,t))return t}else if(e instanceof ArrayBuffer&&Z9(e,0,t))return t;return null}(e,n),c=c||(a?"matched initial data ".concat(eW(n)):""),a=a||b2(e,t?.fallbackMimeType),c=c||(a?"matched fallback MIME type ".concat(o):""),c&&zwe.log(1,"selectLoader selected ".concat(null===(l=a)||void 0===l?void 0:l.name,": ").concat(c,".")),a}(n,r,t,i);if(!(o||null!=t&&t.nothrow))throw new Error(Q9(n));return o}function J9(n){return!(n instanceof Response&&204===n.status)}function Q9(n){const{url:e,type:t}=BS(n);let i="No valid loader found (";i+=e?"".concat(function Vwe(n){const e=n&&n.lastIndexOf("/");return e>=0?n.substr(e+1):""}(e),", "):"no url provided, ",i+="MIME type: ".concat(t?'"'.concat(t,'"'):"not provided",", ");const r=n?eW(n):"";return i+=r?' first bytes: "'.concat(r,'"'):"first bytes: not available",i+=")",i}function b2(n,e){for(const t of n)if(t.mimeTypes&&t.mimeTypes.includes(e)||e==="application/x.".concat(t.id))return t;return null}function Jwe(n,e){return e.testText?e.testText(n):(Array.isArray(e.tests)?e.tests:[e.tests]).some(i=>n.startsWith(i))}function Z9(n,e,t){return(Array.isArray(t.tests)?t.tests:[t.tests]).some(r=>function Qwe(n,e,t,i){if(i instanceof ArrayBuffer)return function Cwe(n,e,t){if(n.byteLength<(t=t||n.byteLength)||e.byteLength<t)return!1;const i=new Uint8Array(n),r=new Uint8Array(e);for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(i,n,i.byteLength);switch(typeof i){case"function":return i(n,t);case"string":return i===v2(n,e,i.length);default:return!1}}(n,e,t,r))}function eW(n,e=5){return"string"==typeof n?n.slice(0,e):ArrayBuffer.isView(n)?v2(n.buffer,n.byteOffset,e):n instanceof ArrayBuffer?v2(n,0,e):""}function v2(n,e,t){if(n.byteLength<e+t)return"";const i=new DataView(n);let r="";for(let o=0;o<t;o++)r+=String.fromCharCode(i.getUint8(e+o));return r}function VS(n,e,t,i){return w2.apply(this,arguments)}function w2(){return w2=fn(function*(n,e,t,i){Od(!i||"object"==typeof i),e&&!Array.isArray(e)&&!Uk(e)&&(i=void 0,t=e,e=void 0),n=yield n,t=t||{};const{url:r}=BS(n),s=function Uwe(n,e){if(!e&&n&&!Array.isArray(n))return n;let t;if(n&&(t=Array.isArray(n)?n:[n]),e&&e.loaders){const i=Array.isArray(e.loaders)?e.loaders:[e.loaders];t=t?[...t,...i]:i}return t&&t.length?t:null}(e,i),a=yield function Wwe(n){return y2.apply(this,arguments)}(n,s,t);return a?(i=function jwe(n,e,t=null){if(t)return t;const i={fetch:N9(e,n),...n};return Array.isArray(i.loaders)||(i.loaders=null),i}({url:r,parse:VS,loaders:s},t=iwe(t,a,s,r),i),yield function Zwe(n,e,t,i){return x2.apply(this,arguments)}(a,n,t,i)):null}),w2.apply(this,arguments)}function x2(){return x2=fn(function*(n,e,t,i){if(function cwe(n,e=awe){Od(n,"no worker provided")}(n),B_(e)){const r=e,{ok:o,redirected:s,status:a,statusText:c,type:l,url:d}=r,h=Object.fromEntries(r.headers.entries());i.response={headers:h,ok:o,redirected:s,status:a,statusText:c,type:l,url:d}}if(e=yield function Lwe(n,e,t){return m2.apply(this,arguments)}(e,n,t),n.parseTextSync&&"string"==typeof e)return t.dataType="text",n.parseTextSync(e,t,i,n);if(function vwe(n,e){return!(!$u.isSupported()||!(yf||null!=e&&e._nodeWorkers))&&n.worker&&e?.worker}(n,t))return yield function wwe(n,e,t,i,r){return r2.apply(this,arguments)}(n,e,t,i,VS);if(n.parseText&&"string"==typeof e)return yield n.parseText(e,t,i,n);if(n.parse)return yield n.parse(e,t,i,n);throw Od(!n.parseSync),new Error("".concat(n.id," loader - no parser found and worker is disabled"))}),x2.apply(this,arguments)}function W0(n,e,t,i){return E2.apply(this,arguments)}function E2(){return E2=fn(function*(n,e,t,i){!Array.isArray(e)&&!Uk(e)&&(t=e,e=void 0);const r=N9(t);let o=n;return"string"==typeof n&&(o=yield r(n)),j_(n)&&(o=yield r(n)),yield VS(o,e,t)}),E2.apply(this,arguments)}class exe{constructor(e,t,i){we(this,"id",void 0),we(this,"context",void 0),we(this,"isLoaded",void 0),we(this,"persistent",void 0),we(this,"_loadCount",0),we(this,"_subscribers",new Set),we(this,"_data",void 0),we(this,"_loader",void 0),we(this,"_error",void 0),we(this,"_content",void 0),this.id=e,this.context=i,this.setData(t)}subscribe(e){this._subscribers.add(e)}unsubscribe(e){this._subscribers.delete(e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData(e,t){if(e===this._data&&!t)return;this._data=e;const i=++this._loadCount;let r=e;"string"==typeof e&&(r=W0(e)),r instanceof Promise?(this.isLoaded=!1,this._loader=r.then(o=>{this._loadCount===i&&(this.isLoaded=!0,this._error=void 0,this._content=o)}).catch(o=>{this._loadCount===i&&(this.isLoaded=!0,this._error=o||!0)})):(this.isLoaded=!0,this._error=void 0,this._content=e);for(const o of this._subscribers)o.onChange(this.getData())}}class txe{constructor({gl:e,protocol:t}){we(this,"protocol",void 0),we(this,"_context",void 0),we(this,"_resources",void 0),we(this,"_consumers",void 0),we(this,"_pruneRequest",void 0),this.protocol=t||"resource://",this._context={gl:e,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(e){return!!e.startsWith(this.protocol)||e in this._resources}add({resourceId:e,data:t,forceUpdate:i=!1,persistent:r=!0}){let o=this._resources[e];o?o.setData(t,i):(o=new exe(e,t,this._context),this._resources[e]=o),o.persistent=r}remove(e){const t=this._resources[e];t&&(t.delete(),delete this._resources[e])}unsubscribe({consumerId:e}){const t=this._consumers[e];if(t){for(const i in t){const r=t[i],o=this._resources[r.resourceId];o&&o.unsubscribe(r)}delete this._consumers[e],this.prune()}}subscribe({resourceId:e,onChange:t,consumerId:i,requestId:r="default"}){const{_resources:o,protocol:s}=this;e.startsWith(s)&&(o[e=e.replace(s,"")]||this.add({resourceId:e,data:null,persistent:!1}));const a=o[e];if(this._track(i,r,a,t),a)return a.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout(()=>this._prune(),0))}finalize(){for(const e in this._resources)this._resources[e].delete()}_track(e,t,i,r){const o=this._consumers,s=o[e]=o[e]||{},a=s[t]||{},c=a.resourceId&&this._resources[a.resourceId];c&&(c.unsubscribe(a),this.prune()),i&&(s[t]=a,a.onChange=r,a.resourceId=i.id,i.subscribe(a))}_prune(){this._pruneRequest=null;for(const e of Object.keys(this._resources)){const t=this._resources[e];!t.persistent&&!t.inUse()&&(t.delete(),delete this._resources[e])}}}const nxe=[Nk],ixe=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function rxe(n){const e=H0.getDefaultProgramManager(n);for(const t of nxe)e.addDefaultModule(t);for(const t of ixe)e.addShaderHook(t);return e}class axe{constructor(e,{deck:t,stats:i,viewport:r,timeline:o}={}){we(this,"layers",void 0),we(this,"context",void 0),we(this,"resourceManager",void 0),we(this,"_lastRenderedLayers",[]),we(this,"_needsRedraw",!1),we(this,"_needsUpdate",!1),we(this,"_nextLayers",null),we(this,"_debug",!1),we(this,"activateViewport",s=>{sa("layerManager.activateViewport",this,s),s&&(this.context.viewport=s)}),this.layers=[],this.resourceManager=new txe({gl:e,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,gl:e,deck:t,programManager:e&&rxe(e),stats:i||new vk({id:"deck.gl"}),viewport:r||new lf({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:o||new x9,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(e={clearRedrawFlags:!1}){let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const i of this.layers){const r=i.getNeedsRedraw(e);t=t||r}return t}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers({layerIds:e}={}){return e?this.layers.filter(t=>e.find(i=>0===t.id.indexOf(i))):this.layers}setProps(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}setLayers(e,t){sa("layerManager.setLayers",this,t,e),this._lastRenderedLayers=e;const i=jk(e,Boolean);for(const r of i)r.context=this.context;this._updateLayers(this.layers,i)}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw("updating layers: ".concat(e)),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}_handleError(e,t,i){i.raiseError(t,"".concat(e," of ").concat(i))}_updateLayers(e,t){const i={};for(const s of e)i[s.id]?ki.warn("Multiple old layers with same id ".concat(s.id))():i[s.id]=s;const r=[];this._updateSublayersRecursively(t,i,r),this._finalizeOldLayers(i);let o=!1;for(const s of r)if(s.hasUniformTransition()){o="Uniform transition in ".concat(s);break}this._needsUpdate=o,this.layers=r}_updateSublayersRecursively(e,t,i){for(const r of e){r.context=this.context;const o=t[r.id];null===o&&ki.warn("Multiple new layers with same id ".concat(r.id))(),t[r.id]=null;let s=null;try{this._debug&&o!==r&&r.validateProps(),o?(this._transferLayerState(o,r),this._updateLayer(r)):this._initializeLayer(r),i.push(r),s=r.isComposite?r.getSubLayers():null}catch(a){this._handleError("matching",a,r)}s&&this._updateSublayersRecursively(s,t,i)}}_finalizeOldLayers(e){for(const t in e){const i=e[t];i&&this._finalizeLayer(i)}}_initializeLayer(e){try{e._initialize(),e.lifecycle="Initialized"}catch(t){this._handleError("initialization",t,e)}}_transferLayerState(e,t){t._transferState(e),t.lifecycle="Matched. State transferred from previous layer",t!==e&&(e.lifecycle="Discarded. Awaiting garbage collection")}_updateLayer(e){try{e._update()}catch(t){this._handleError("update",t,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||"finalized ".concat(e),e.lifecycle="No longer matched. Awaiting garbage collection";try{e._finalize(),e.lifecycle="Finalized! Awaiting garbage collection"}catch(t){this._handleError("finalization",t,e)}}}class cxe{constructor(e){we(this,"width",void 0),we(this,"height",void 0),we(this,"views",void 0),we(this,"viewState",void 0),we(this,"controllers",void 0),we(this,"timeline",void 0),we(this,"_viewports",void 0),we(this,"_viewportMap",void 0),we(this,"_isUpdating",void 0),we(this,"_needsRedraw",void 0),we(this,"_needsUpdate",void 0),we(this,"_eventManager",void 0),we(this,"_eventCallbacks",void 0),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=e.eventManager,this._eventCallbacks={onViewStateChange:e.onViewStateChange,onInteractionStateChange:e.onInteractionStateChange},Object.seal(this),this.setProps(e)}finalize(){for(const e in this.controllers){const t=this.controllers[e];t&&t.finalize()}this.controllers={}}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}updateViewStates(){for(const e in this.controllers){const t=this.controllers[e];t&&t.updateTransition()}}getViewports(e){return e?this._viewports.filter(t=>t.containsPixel(e)):this._viewports}getViews(){const e={};return this.views.forEach(t=>{e[t.id]=t}),e}getView(e){return this.views.find(t=>t.id===e)}getViewState(e){const t="string"==typeof e?this.getView(e):e,i=t&&this.viewState[t.getViewStateId()]||this.viewState;return t?t.filterViewState(i):i}getViewport(e){return this._viewportMap[e]}unproject(e,t){const i=this.getViewports(),r={x:e[0],y:e[1]};for(let o=i.length-1;o>=0;--o){const s=i[o];if(s.containsPixel(r)){const a=e.slice();return a[0]-=s.x,a[1]-=s.y,s.unproject(a,t)}}return null}setProps(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(e,t){(e!==this.width||t!==this.height)&&(this.width=e,this.height=t,this.setNeedsUpdate("Size changed"))}_setViews(e){e=jk(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}_setViewState(e){e?(!T_(e,this.viewState)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):ki.warn("missing `viewState` or `initialViewState`")()}_onViewStateChange(e,t){this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange({...t,viewId:e})}_createController(e,t){return new(0,t.type)({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,t.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:o=>{var s;return null===(s=this.getView(e.id))||void 0===s?void 0:s.makeViewport({viewState:o,width:this.width,height:this.height})}})}_updateController(e,t,i,r){const o=e.controller;if(o){const s={...t,...o,id:e.id,x:i.x,y:i.y,width:i.width,height:i.height};return r||(r=this._createController(e,s)),r&&r.setProps(s),r}return null}_rebuildViewports(){const{views:e}=this,t=this.controllers;this._viewports=[],this.controllers={};let i=!1;for(let r=e.length;r--;){const o=e[r],s=this.getViewState(o),a=o.makeViewport({viewState:s,width:this.width,height:this.height});let c=t[o.id];const l=!!o.controller;l&&!c&&(i=!0),(i||!l)&&c&&(c.finalize(),c=null),this.controllers[o.id]=this._updateController(o,s,a,c),this._viewports.unshift(a)}for(const r in t){const o=t[r];o&&!this.controllers[r]&&o.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(e=>{e.id&&(this._viewportMap[e.id]=this._viewportMap[e.id]||e)})}_diffViews(e,t){return e.length!==t.length||e.some((i,r)=>!e[r].equals(t[r]))}}const uxe=Math.PI/180;function tW(n){return 512/4003e4/Math.cos(n*uxe)}class bf extends lf{constructor(e={}){const{latitude:t=0,longitude:i=0,zoom:r=0,pitch:o=0,bearing:s=0,nearZMultiplier:a=.1,farZMultiplier:c=1.01,orthographic:l=!1,projectionMatrix:d,repeat:h=!1,worldOffset:f=0,legacyMeterSizes:m=!1}=e;let{width:g,height:v,altitude:C=1.5}=e;const B=Math.pow(2,r);g=g||1,v=v||1;let z,le=null;d?(C=d[5]/2,z=xS(C)):(e.fovy?(z=e.fovy,C=QP(z)):z=xS(C),le=function $G(n){const{width:e,height:t,altitude:i,pitch:r=0,offset:o,center:s,scale:a,nearZMultiplier:c=1,farZMultiplier:l=1}=n;let{fovy:d=xS(__e)}=n;void 0!==i&&(d=xS(i));const h=d*Qc,f=r*Qc,m=QP(d);let g=m;s&&(g+=s[2]*a/Math.cos(f)/t);const v=h*(.5+(o?o[1]:0)/t),C=Math.sin(v)*g/Math.sin(YP(Math.PI/2-f-v,.01,Math.PI-.01)),B=Math.sin(f)*C+g;return{fov:h,aspect:e/t,focalDistance:m,near:c,far:Math.min(B*l,10*g)}}({width:g,height:v,pitch:o,fovy:z,nearZMultiplier:a,farZMultiplier:c}));let se=function v_e(n){const{height:e,pitch:t,bearing:i,altitude:r,scale:o,center:s}=n,a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];mS(a,a,[0,0,-r]),FG(a,a,-t*Qc),LG(a,a,i*Qc);const c=o/e;return WP(a,a,[c,c,c]),s&&mS(a,a,function mge(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n}([],s)),a}({height:v,pitch:o,bearing:s,scale:B,altitude:C});f&&(se=(new Lt).translate([512*f,0,0]).multiplyLeft(se)),super({...e,width:g,height:v,viewMatrix:se,longitude:i,latitude:t,zoom:r,...le,fovy:z,focalDistance:C}),we(this,"longitude",void 0),we(this,"latitude",void 0),we(this,"pitch",void 0),we(this,"bearing",void 0),we(this,"altitude",void 0),we(this,"fovy",void 0),we(this,"orthographic",void 0),we(this,"_subViewports",void 0),we(this,"_pseudoMeters",void 0),this.latitude=t,this.longitude=i,this.zoom=r,this.pitch=o,this.bearing=s,this.altitude=C,this.fovy=z,this.orthographic=l,this._subViewports=h?[]:null,this._pseudoMeters=m,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const e=this.getBounds(),t=Math.floor((e[0]+180)/360),i=Math.ceil((e[2]-180)/360);for(let r=t;r<=i;r++){const o=r?new bf({...this,worldOffset:r}):this;this._subViewports.push(o)}}return this._subViewports}projectPosition(e){if(this._pseudoMeters)return super.projectPosition(e);const[t,i]=this.projectFlat(e);return[t,i,(e[2]||0)*tW(e[1])]}unprojectPosition(e){if(this._pseudoMeters)return super.unprojectPosition(e);const[t,i]=this.unprojectFlat(e);return[t,i,(e[2]||0)/tW(i)]}addMetersToLngLat(e,t){return WG(e,t)}panByPosition(e,t){const i=D0(t,this.pixelUnprojectionMatrix),o=gS([],this.projectFlat(e),BG([],i)),s=gS([],this.center,o),[a,c]=this.unprojectFlat(s);return{longitude:a,latitude:c}}getBounds(e={}){const t=function x_e(n,e=0){const{width:t,height:i,unproject:r}=n,o={targetZ:e},s=r([0,i],o),a=r([t,i],o);let c,l;return(n.fovy?.5*n.fovy*qG:Math.atan(.5/n.altitude))>(90-n.pitch)*qG-.01?(c=KG(n,0,e),l=KG(n,t,e)):(c=r([0,0],o),l=r([t,0],o)),[s,a,l,c]}(this,e.z||0);return[Math.min(t[0][0],t[1][0],t[2][0],t[3][0]),Math.min(t[0][1],t[1][1],t[2][1],t[3][1]),Math.max(t[0][0],t[1][0],t[2][0],t[3][0]),Math.max(t[0][1],t[1][1],t[2][1],t[3][1])]}fitBounds(e,t={}){const{width:i,height:r}=this,{longitude:o,latitude:s,zoom:a}=YG({width:i,height:r,bounds:e,...t});return new bf({width:i,height:r,longitude:o,latitude:s,zoom:a})}}we(bf,"displayName","WebMercatorViewport");class fxe extends r6{constructor(e){const{width:t,height:i,latitude:r,longitude:o,zoom:s,bearing:a=0,pitch:c=0,altitude:l=1.5,position:d=[0,0,0],maxZoom:h=20,minZoom:f=0,maxPitch:m=60,minPitch:g=0,startPanLngLat:v,startZoomLngLat:C,startRotatePos:B,startBearing:z,startPitch:le,startZoom:se,normalize:ke=!0}=e;Ds(Number.isFinite(o)),Ds(Number.isFinite(r)),Ds(Number.isFinite(s)),super({width:t,height:i,latitude:r,longitude:o,zoom:s,bearing:a,pitch:c,altitude:l,maxZoom:h,minZoom:f,maxPitch:m,minPitch:g,normalize:ke,position:d},{startPanLngLat:v,startZoomLngLat:C,startRotatePos:B,startBearing:z,startPitch:le,startZoom:se}),we(this,"makeViewport",void 0),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanLngLat:this._unproject(e)})}pan({pos:e,startPos:t}){const i=this.getState().startPanLngLat||this._unproject(t);if(!i)return this;const o=this.makeViewport(this.getViewportProps()).panByPosition(i,e);return this._getUpdatedState(o)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:e,deltaAngleX:t=0,deltaAngleY:i=0}){const{startRotatePos:r,startBearing:o,startPitch:s}=this.getState();if(!r||void 0===o||void 0===s)return this;let a;return a=e?this._getNewRotation(e,r,s,o):{bearing:o+t,pitch:s+i},this._getUpdatedState(a)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:e}){return this._getUpdatedState({startZoomLngLat:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:t,scale:i}){let{startZoom:r,startZoomLngLat:o}=this.getState();if(o||(r=this.getViewportProps().zoom,o=this._unproject(t)||this._unproject(e)),!o)return this;const{maxZoom:s,minZoom:a}=this.getViewportProps();let c=r+Math.log2(i);c=Is(c,a,s);const l=this.makeViewport({...this.getViewportProps(),zoom:c});return this._getUpdatedState({zoom:c,...l.panByPosition(o,e)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(e=2){return this._zoomFromCenter(e)}zoomOut(e=2){return this._zoomFromCenter(1/e)}moveLeft(e=100){return this._panFromCenter([e,0])}moveRight(e=100){return this._panFromCenter([-e,0])}moveUp(e=100){return this._panFromCenter([0,e])}moveDown(e=100){return this._panFromCenter([0,-e])}rotateLeft(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}rotateRight(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}rotateUp(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}rotateDown(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}shortestPathFrom(e){const t=e.getViewportProps(),i={...this.getViewportProps()},{bearing:r,longitude:o}=i;return Math.abs(r-t.bearing)>180&&(i.bearing=r<0?r+360:r-360),Math.abs(o-t.longitude)>180&&(i.longitude=o<0?o+360:o-360),i}applyConstraints(e){const{maxZoom:t,minZoom:i,zoom:r}=e;e.zoom=Is(r,i,t);const{maxPitch:o,minPitch:s,pitch:a}=e;e.pitch=Is(a,s,o);const{normalize:c=!0}=e;return c&&Object.assign(e,function E_e(n){const{width:e,height:t,pitch:i=0}=n;let{longitude:r,latitude:o,zoom:s,bearing:a=0}=n;(r<-180||r>180)&&(r=HG(r+180,360)-180),(a<-180||a>180)&&(a=HG(a+180,360)-180);const c=qP(t/512);if(s<=c)s=c,o=0;else{const l=t/2/Math.pow(2,s),d=A_([0,l])[1];if(o<d)o=d;else{const h=A_([0,512-l])[1];o>h&&(o=h)}}return{width:e,height:t,longitude:r,latitude:o,zoom:s,pitch:i,bearing:a}}(e)),e}_zoomFromCenter(e){const{width:t,height:i}=this.getViewportProps();return this.zoom({pos:[t/2,i/2],scale:e})}_panFromCenter(e){const{width:t,height:i}=this.getViewportProps();return this.pan({startPos:[t/2,i/2],pos:[t/2+e[0],i/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}_unproject(e){const t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}_getNewRotation(e,t,i,r){const o=e[0]-t[0],s=e[1]-t[1],a=e[1],c=t[1],{width:l,height:d}=this.getViewportProps(),h=o/l;let f=0;s>0?Math.abs(d-c)>5&&(f=s/(c-d)*1.2):s<0&&c>5&&(f=1-a/c),f=Is(f,-1,1);const{minPitch:m,maxPitch:g}=this.getViewportProps();let C=i;return f>0?C=i+f*(g-i):f<0&&(C=i-f*(m-i)),{pitch:C,bearing:r+180*h}}}class pxe extends nk{constructor(...e){super(...e),we(this,"ControllerState",fxe),we(this,"transition",{transitionDuration:300,transitionInterpolator:new CS({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})}),we(this,"dragMode","pan")}setProps(e){e.position=e.position||[0,0,0];const t=this.props;super.setProps(e),(!t||t.height!==e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...e,...this.state}))}}class iW extends ek{get ViewportType(){return bf}get ControllerType(){return pxe}}we(iW,"displayName","MapView");class mxe extends NS{constructor(e,t){super(e,t),we(this,"maskMap",void 0),we(this,"fbo",void 0);const{mapSize:i=2048}=t;this.maskMap=new Os(e,{width:i,height:i,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.fbo=new Xo(e,{id:"maskmap",width:i,height:i,attachments:{36064:this.maskMap}})}render(e){const t=this.gl,i=[!1,!1,!1,!1];return i[e.channel]=!0,Zc(t,{clearColor:[255,255,255,255],blend:!0,blendFunc:[0,1],blendEquation:32778,colorMask:i,depthTest:!1},()=>super.render({...e,target:this.fbo,pass:"mask"}))}shouldDrawLayer(e){return"mask"===e.props.operation}delete(){this.fbo.delete(),this.maskMap.delete()}}class bxe{constructor(){we(this,"id","mask-effect"),we(this,"props",null),we(this,"useInPicking",!0),we(this,"dummyMaskMap",void 0),we(this,"channels",[]),we(this,"masks",null),we(this,"maskPass",void 0),we(this,"maskMap",void 0),we(this,"lastViewport",void 0)}preRender(e,{layers:t,layerFilter:i,viewports:r,onViewportActive:o,views:s}){this.dummyMaskMap||(this.dummyMaskMap=new Os(e,{width:1,height:1}));const a=t.filter(h=>h.props.visible&&"mask"===h.props.operation);if(0===a.length)return this.masks=null,void(this.channels.length=0);this.masks={},this.maskPass||(this.maskPass=new mxe(e,{id:"default-mask"}),this.maskMap=this.maskPass.maskMap);const c=this._sortMaskChannels(a),l=r[0],d=!this.lastViewport||!this.lastViewport.equals(l);for(const h in c)this._renderChannel(c[h],{layerFilter:i,onViewportActive:o,views:s,viewport:l,viewportChanged:d})}_renderChannel(e,{layerFilter:t,onViewportActive:i,views:r,viewport:o,viewportChanged:s}){const a=this.channels[e.index];if(!a)return;const c=e===a||a.layers.length!==e.layers.length||e.layerBounds.some((l,d)=>l!==a.layerBounds[d]);if(e.bounds=a.bounds,e.maskBounds=a.maskBounds,this.channels[e.index]=e,(c||s)&&(this.lastViewport=o,e.bounds=function gxe({layers:n,viewport:e}){let t=null;for(const o of n){const s=o.getBounds();s&&(t?(t[0]=Math.min(t[0],s[0][0]),t[1]=Math.min(t[1],s[0][1]),t[2]=Math.max(t[2],s[1][0]),t[3]=Math.max(t[3],s[1][1])):t=[s[0][0],s[0][1],s[1][0],s[1][1]])}const i=e.getBounds();if(!t)return i;const r=function yxe(n){const e_x=n[2]-n[0],e_y=n[3]-n[1],t_x=n[0]+.5*e_x,t_y=n[1]+.5*e_y;return[t_x-e_x,t_y-e_y,t_x+e_x,t_y+e_y]}(i);return t[2]-t[0]<r[2]-r[0]||t[3]-t[1]<r[3]-r[1]||(t[0]=Math.max(t[0],r[0]),t[1]=Math.max(t[1],r[1]),t[2]=Math.min(t[2],r[2]),t[3]=Math.min(t[3],r[3])),t}({layers:e.layers,viewport:o}),c||!x_(e.bounds,a.bounds))){const{maskPass:l,maskMap:d}=this,h=function _xe({bounds:n,viewport:e,width:t,height:i}){if(n[2]<=n[0]||n[3]<=n[1])return null;if(t-=2,i-=2,e instanceof bf){const{longitude:a,latitude:c,zoom:l}=YG({width:t,height:i,bounds:[[n[0],n[1]],[n[2],n[3]]],maxZoom:20});return new bf({longitude:a,latitude:c,zoom:l,x:1,y:1,width:t,height:i})}const o=[(n[0]+n[2])/2,(n[1]+n[3])/2,0],s=Math.min(20,t/(n[2]-n[0]),i/(n[3]-n[1]));return new ik({x:1,y:1}).makeViewport({width:t,height:i,viewState:{target:o,zoom:Math.log2(s)}})}({bounds:e.bounds,viewport:o,width:d.width,height:d.height});e.maskBounds=h?h.getBounds():[0,0,1,1],l.render({pass:"mask",channel:e.index,layers:e.layers,layerFilter:t,viewports:h?[h]:[],onViewportActive:i,views:r,moduleParameters:{devicePixelRatio:1}})}this.masks[e.id]={index:e.index,bounds:e.maskBounds,coordinateOrigin:e.coordinateOrigin,coordinateSystem:e.coordinateSystem}}_sortMaskChannels(e){const t={};let i=0;for(const r of e){const{id:o}=r.root;let s=t[o];if(!s){if(++i>4){ki.warn("Too many mask layers. The max supported is 4")();continue}s={id:o,index:this.channels.findIndex(a=>a?.id===o),layers:[],layerBounds:[],coordinateOrigin:r.root.props.coordinateOrigin,coordinateSystem:r.root.props.coordinateSystem},t[o]=s}s.layers.push(r),s.layerBounds.push(r.getBounds())}for(let r=0;r<4;r++){const o=this.channels[r];(!o||!(o.id in t))&&(this.channels[r]=null)}for(const r in t){const o=t[r];o.index<0&&(o.index=this.channels.findIndex(s=>!s),this.channels[o.index]=o)}return t}getModuleParameters(){return{maskMap:this.masks?this.maskMap:this.dummyMaskMap,maskChannels:this.masks}}cleanup(){this.dummyMaskMap&&(this.dummyMaskMap.delete(),this.dummyMaskMap=void 0),this.maskPass&&(this.maskPass.delete(),this.maskPass=void 0,this.maskMap=void 0),this.lastViewport=void 0,this.masks=null,this.channels.length=0}}const vxe=new Lk;class wxe{constructor(){we(this,"effects",void 0),we(this,"_internalEffects",void 0),we(this,"_needsRedraw",void 0),this.effects=[],this._internalEffects=[],this._needsRedraw="Initial render",this.setEffects()}setProps(e){"effects"in e&&(e.effects.length!==this.effects.length||!T_(e.effects,this.effects))&&(this.setEffects(e.effects),this._needsRedraw="effects changed")}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}getEffects(){return this._internalEffects}finalize(){this.cleanup()}setEffects(e=[]){this.cleanup(),this.effects=e,this._internalEffects=e.slice(),this._internalEffects.push(new bxe),e.some(t=>t instanceof Lk)||this._internalEffects.push(vxe)}cleanup(){for(const e of this.effects)e.cleanup();for(const e of this._internalEffects)e.cleanup();this.effects.length=0,this._internalEffects.length=0}}class xxe extends NS{shouldDrawLayer(e){return"draw"===e.props.operation}}const rW={blendFunc:[1,0,32771,0],blendEquation:32774};class oW extends NS{constructor(...e){super(...e),we(this,"pickZ",void 0),we(this,"_colors",null)}render(e){return e.pickingFBO?this._drawPickingBuffer(e):super.render(e)}_drawPickingBuffer({layers:e,layerFilter:t,views:i,viewports:r,onViewportActive:o,pickingFBO:s,deviceRect:{x:a,y:c,width:l,height:d},cullRect:h,effects:f,pass:m="picking",pickZ:g}){const v=this.gl;this.pickZ=g;const C=g?null:{byLayer:new Map,byAlpha:[]};this._colors=C;const B=Zc(v,{scissorTest:!0,scissor:[a,c,l,d],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0],...rW,blend:!g},()=>super.render({target:s,layers:e,layerFilter:t,views:i,viewports:r,onViewportActive:o,cullRect:h,effects:f?.filter(le=>le.useInPicking),pass:m}));return this._colors=null,{decodePickingColor:C&&Cxe.bind(null,C),stats:B}}shouldDrawLayer(e){return e.props.pickable&&"draw"===e.props.operation}getModuleParameters(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}getLayerParameters(e,t,i){const r={...e.props.parameters};return this._colors?(Object.assign(r,rW),r.blend=!0,r.blendColor=function Exe(n,e,t){const{byLayer:i,byAlpha:r}=n;let o,s=i.get(e);return s?(s.viewports.push(t),o=s.a):(o=i.size+1,o<=255?(s={a:o,layer:e,viewports:[t]},i.set(e,s),r[o]=s):(ki.warn("Too many pickable layers, only picking the first 255")(),o=0)),[0,0,0,o/255]}(this._colors,e,i)):r.blend=!1,r}}function Cxe(n,e){const t=n.byAlpha[e[3]];return t&&{pickedLayer:t.layer,pickedViewports:t.viewports,pickedObjectIndex:t.layer.decodePickingColor(e)}}class Axe{constructor(e){this.gl=e,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new xxe(e),this.pickLayersPass=new oW(e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(e){"layerFilter"in e&&this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),"drawPickingColors"in e&&this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(e){const t=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass;e.layerFilter=e.layerFilter||this.layerFilter,e.effects=e.effects||[],e.target=e.target||Xo.getDefaultFramebuffer(this.gl),this._preRender(e.effects,e);const i=this.lastPostProcessEffect?this.renderBuffers[0]:e.target,r=t.render({...e,target:i});this._postRender(e.effects,e),this.renderCount++,sa("deckRenderer.renderLayers",this,r,e)}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}finalize(){const{renderBuffers:e}=this;for(const t of e)t.delete();e.length=0}_preRender(e,t){let i=null;for(const r of e)r.preRender(this.gl,t),r.postRender&&(i=r);i&&this._resizeRenderBuffers(),this.lastPostProcessEffect=i}_resizeRenderBuffers(){const{renderBuffers:e}=this;0===e.length&&e.push(new Xo(this.gl),new Xo(this.gl));for(const t of e)t.resize()}_postRender(e,t){const{renderBuffers:i}=this,r={inputBuffer:i[0],swapBuffer:i[1],target:null};for(const o of e)if(o.postRender){if(o===this.lastPostProcessEffect){r.target=t.target,o.postRender(this.gl,r);break}const s=o.postRender(this.gl,r);r.inputBuffer=s,r.swapBuffer=s===i[0]?i[1]:i[0]}}}const Txe={pickedColor:null,pickedObjectIndex:-1};function Mxe({pickedColors:n,decodePickingColor:e,deviceX:t,deviceY:i,deviceRadius:r,deviceRect:o}){const{x:s,y:a,width:c,height:l}=o;let d=r*r,h=-1,f=0;for(let m=0;m<l;m++){const g=m+a-i,v=g*g;if(v>d)f+=4*c;else for(let C=0;C<c;C++){if(n[f+3]-1>=0){const z=C+s-t,le=z*z+v;le<=d&&(d=le,h=f)}f+=4}}if(h>=0){const m=n.slice(h,h+4),g=e(m);if(g){const v=Math.floor(h/4/c),C=h/4-v*c;return{...g,pickedColor:m,pickedX:s+C,pickedY:a+v}}ki.error("Picked non-existent layer. Is picking buffer corrupt?")()}return Txe}function sW({pickInfo:n,viewports:e,pixelRatio:t,x:i,y:r,z:o}){let a,s=e[0];if(e.length>1&&(s=function Oxe(n,e){for(let t=n.length-1;t>=0;t--){const i=n[t];if(i.containsPixel(e))return i}return n[0]}(n?.pickedViewports||e,{x:i,y:r})),s){const c=[i-s.x,r-s.y];void 0!==o&&(c[2]=o),a=s.unproject(c)}return{color:null,layer:null,viewport:s,index:-1,picked:!1,x:i,y:r,pixel:[i,r],coordinate:a,devicePixel:n&&"pickedX"in n?[n.pickedX,n.pickedY]:void 0,pixelRatio:t}}function Dxe(n){const{pickInfo:e,lastPickedInfo:t,mode:i,layers:r}=n,{pickedColor:o,pickedLayer:s,pickedObjectIndex:a}=e,c=s?[s]:[];if("hover"===i){const f=t.layerId,m=s?s.props.id:null;if(m!==f||a!==t.index){if(m!==f){const g=r.find(v=>v.props.id===f);g&&c.unshift(g)}t.layerId=m,t.index=a,t.info=null}}const l=sW(n),d=new Map;return d.set(null,l),c.forEach(h=>{let f={...l};h===s&&(f.color=o,f.index=a,f.picked=!0),f=aW({layer:h,info:f,mode:i});const m=f.layer;h===s&&"hover"===i&&(t.info=f),d.set(m.id,f),"hover"===i&&m.updateAutoHighlight(f)}),d}function aW({layer:n,info:e,mode:t}){for(;n&&e;){const i=e.layer||null;e.sourceLayer=i,e.layer=n,e=n.getPickingInfo({info:e,mode:t,sourceLayer:i}),n=n.parent}return e}class Rxe{constructor(e){we(this,"gl",void 0),we(this,"pickingFBO",void 0),we(this,"depthFBO",void 0),we(this,"pickLayersPass",void 0),we(this,"layerFilter",void 0),we(this,"lastPickedInfo",void 0),we(this,"_pickable",!0),this.gl=e,this.pickLayersPass=new oW(e),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}pickObject(e){return this._pickClosestObject(e)}pickObjects(e){return this._pickVisibleObjects(e)}getLastPickedObject({x:e,y:t,layers:i,viewports:r},o=this.lastPickedInfo.info){const s=o&&o.layer&&o.layer.id,a=o&&o.viewport&&o.viewport.id,c=s?i.find(f=>f.id===s):null,l=a&&r.find(f=>f.id===a)||r[0],d=l&&l.unproject([e-l.x,t-l.y]);return{...o,x:e,y:t,viewport:l,coordinate:d,layer:c}}_resizeBuffer(){var e,t;const{gl:i}=this;if(!this.pickingFBO&&(this.pickingFBO=new Xo(i),Xo.isSupported(i,{colorBufferFloat:!0}))){const r=new Xo(i);r.attach({36064:new Os(i,{format:Si(i)?34836:6408,type:5126})}),this.depthFBO=r}null===(e=this.pickingFBO)||void 0===e||e.resize({width:i.canvas.width,height:i.canvas.height}),null===(t=this.depthFBO)||void 0===t||t.resize({width:i.canvas.width,height:i.canvas.height})}_getPickable(e){if(!1===this._pickable)return null;const t=e.filter(i=>i.isPickable()&&!i.isComposite);return t.length?t:null}_pickClosestObject({layers:e,views:t,viewports:i,x:r,y:o,radius:s=0,depth:a=1,mode:c="query",unproject3D:l,onViewportActive:d,effects:h}){const f=this._getPickable(e),m=D_(this.gl);if(!f)return{result:[],emptyInfo:sW({viewports:i,x:r,y:o,pixelRatio:m})};this._resizeBuffer();const g=_k(this.gl,[r,o],!0),v=[g.x+Math.floor(g.width/2),g.y+Math.floor(g.height/2)],C=Math.round(s*m),{width:B,height:z}=this.pickingFBO,le=this._getPickingRect({deviceX:v[0],deviceY:v[1],deviceRadius:C,deviceWidth:B,deviceHeight:z}),se={x:r-s,y:o-s,width:2*s+1,height:2*s+1};let ke;const $e=[],dt=new Set;for(let gt=0;gt<a;gt++){let tt,bt;tt=le?Mxe({...this._drawAndSample({layers:f,views:t,viewports:i,onViewportActive:d,deviceRect:le,cullRect:se,effects:h,pass:"picking:".concat(c)}),deviceX:v[0],deviceY:v[1],deviceRadius:C,deviceRect:le}):{pickedColor:null,pickedObjectIndex:-1},tt.pickedLayer&&l&&this.depthFBO&&(bt=this._drawAndSample({layers:[tt.pickedLayer],views:t,viewports:i,onViewportActive:d,deviceRect:{x:tt.pickedX,y:tt.pickedY,width:1,height:1},cullRect:se,effects:h,pass:"picking:".concat(c,":z")},!0).pickedColors[0]),tt.pickedLayer&&gt+1<a&&(dt.add(tt.pickedLayer),tt.pickedLayer.disablePickingIndex(tt.pickedObjectIndex)),ke=Dxe({pickInfo:tt,lastPickedInfo:this.lastPickedInfo,mode:c,layers:f,viewports:i,x:r,y:o,z:bt,pixelRatio:m});for(const Rt of ke.values())Rt.layer&&$e.push(Rt);if(!tt.pickedColor)break}for(const gt of dt)gt.restorePickingColors();return{result:$e,emptyInfo:ke.get(null)}}_pickVisibleObjects({layers:e,views:t,viewports:i,x:r,y:o,width:s=1,height:a=1,mode:c="query",maxObjects:l=null,onViewportActive:d,effects:h}){const f=this._getPickable(e);if(!f)return[];this._resizeBuffer();const m=D_(this.gl),g=_k(this.gl,[r,o],!0),v=g.x,C=g.y+g.height,B=_k(this.gl,[r+s,o+a],!0),le=B.y,$e=function Ixe({pickedColors:n,decodePickingColor:e}){const t=new Map;if(n)for(let i=0;i<n.length;i+=4)if(n[i+3]-1>=0){const o=n.slice(i,i+4),s=o.join(",");if(!t.has(s)){const a=e(o);a?t.set(s,{...a,color:o}):ki.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return Array.from(t.values())}(this._drawAndSample({layers:f,views:t,viewports:i,onViewportActive:d,deviceRect:{x:v,y:le,width:B.x+B.width-v,height:C-le},cullRect:{x:r,y:o,width:s,height:a},effects:h,pass:"picking:".concat(c)})),dt=new Map,gt=Number.isFinite(l);for(let tt=0;tt<$e.length&&!(gt&&l&&dt.size>=l);tt++){const bt=$e[tt];let Rt={color:bt.pickedColor,layer:null,index:bt.pickedObjectIndex,picked:!0,x:r,y:o,pixelRatio:m};Rt=aW({layer:bt.pickedLayer,info:Rt,mode:c}),dt.has(Rt.object)||dt.set(Rt.object,Rt)}return Array.from(dt.values())}_drawAndSample({layers:e,views:t,viewports:i,onViewportActive:r,deviceRect:o,cullRect:s,effects:a,pass:c},l=!1){const d=l?this.depthFBO:this.pickingFBO,{decodePickingColor:h}=this.pickLayersPass.render({layers:e,layerFilter:this.layerFilter,views:t,viewports:i,onViewportActive:r,pickingFBO:d,deviceRect:o,cullRect:s,effects:a,pass:c,pickZ:l}),{x:f,y:m,width:g,height:v}=o,C=new(l?Float32Array:Uint8Array)(g*v*4);return OS(d,{sourceX:f,sourceY:m,sourceWidth:g,sourceHeight:v,target:C}),{pickedColors:C,decodePickingColor:h}}_getPickingRect({deviceX:e,deviceY:t,deviceRadius:i,deviceWidth:r,deviceHeight:o}){const s=Math.max(0,e-i),a=Math.max(0,t-i),c=Math.min(r,e+i+1)-s,l=Math.min(o,t+i+1)-a;return c<=0||l<=0?null:{x:s,y:a,width:c,height:l}}}const Pxe={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class kxe{constructor(e){we(this,"el",null),we(this,"isVisible",!1);const t=e.parentElement;t&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,Pxe),t.appendChild(this.el))}setTooltip(e,t,i){const r=this.el;if(r){if("string"==typeof e)r.innerText=e;else{if(!e)return this.isVisible=!1,void(r.style.display="none");e.text&&(r.innerText=e.text),e.html&&(r.innerHTML=e.html),e.className&&(r.className=e.className),Object.assign(r.style,e.style)}this.isVisible=!0,r.style.display="block",r.style.transform="translate(".concat(t,"px, ").concat(i,"px)")}}remove(){this.el&&(this.el.remove(),this.el=null)}}function cW(n,e){if(!n)throw new Error(e||"loader assertion failed.")}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const Fxe=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),lW=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),{_parseImageNode:Lxe}=(lW&&parseFloat(lW[1]),globalThis),C2=typeof Image<"u",S2=typeof ImageBitmap<"u",A2=!!Fxe||!!Lxe;function dW(n){const e=function hW(n){return typeof ImageBitmap<"u"&&n instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&n instanceof Image?"image":n&&"object"==typeof n&&n.data&&n.width&&n.height?"data":null}(n);if(!e)throw new Error("Not an image");return e}const Uxe=/^data:image\/svg\+xml/,Vxe=/\.svg((\?|#).*)?$/;function T2(n){return n&&(Uxe.test(n)||Vxe.test(n))}function fW(n,e){if(T2(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(n)])}function pW(n,e,t){return M2.apply(this,arguments)}function M2(){return M2=fn(function*(n,e,t){const i=function zxe(n,e){if(T2(e)){let i=(new TextDecoder).decode(n);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(i=unescape(encodeURIComponent(i)))}catch(o){throw new Error(o.message)}return"data:image/svg+xml;base64,".concat(btoa(i))}return fW(n,e)}(n,t),r=self.URL||self.webkitURL,o="string"!=typeof i&&r.createObjectURL(i);try{return yield function Hxe(n,e){return I2.apply(this,arguments)}(o||i,e)}finally{o&&r.revokeObjectURL(o)}}),M2.apply(this,arguments)}function I2(){return I2=fn(function*(n,e){const t=new Image;return t.src=n,e.image&&e.image.decode&&t.decode?(yield t.decode(),t):yield new Promise((i,r)=>{try{t.onload=()=>i(t),t.onerror=o=>r(new Error("Could not load image ".concat(n,": ").concat(o)))}catch(o){r(o)}})}),I2.apply(this,arguments)}const Gxe={};let mW=!0;function D2(){return D2=fn(function*(n,e,t){let i;i=T2(t)?yield pW(n,e,t):fW(n,t);const r=e&&e.imagebitmap;return yield function $xe(n){return O2.apply(this,arguments)}(i,r)}),D2.apply(this,arguments)}function O2(){return O2=fn(function*(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((function Xxe(n){for(const e in n||Gxe)return!1;return!0}(e)||!mW)&&(e=null),e)try{return yield createImageBitmap(n,e)}catch(t){console.warn(t),mW=!1}return yield createImageBitmap(n)}),O2.apply(this,arguments)}const kd=!1,$0=!0;function gW(n){const e=X0(n);return function eEe(n){const e=X0(n);return e.byteLength>=24&&2303741511===e.getUint32(0,kd)?{mimeType:"image/png",width:e.getUint32(16,kd),height:e.getUint32(20,kd)}:null}(e)||function iEe(n){const e=X0(n);if(!(e.byteLength>=3&&65496===e.getUint16(0,kd)&&255===e.getUint8(2)))return null;const{tableMarkers:i,sofMarkers:r}=function rEe(){const n=new Set([65499,65476,65484,65501,65534]);for(let t=65504;t<65520;++t)n.add(t);return{tableMarkers:n,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let o=2;for(;o+9<e.byteLength;){const s=e.getUint16(o,kd);if(r.has(s))return{mimeType:"image/jpeg",height:e.getUint16(o+5,kd),width:e.getUint16(o+7,kd)};if(!i.has(s))return null;o+=2,o+=e.getUint16(o,kd)}return null}(e)||function tEe(n){const e=X0(n);return e.byteLength>=10&&1195984440===e.getUint32(0,kd)?{mimeType:"image/gif",width:e.getUint16(6,$0),height:e.getUint16(8,$0)}:null}(e)||function nEe(n){const e=X0(n);return e.byteLength>=14&&16973===e.getUint16(0,kd)&&e.getUint32(2,$0)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,$0),height:e.getUint32(22,$0)}:null}(e)||function Zxe(n){const t=function Yxe(n){return function Qxe(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=function Jxe(n){return[...n].map(e=>e.charCodeAt(0))}(e);for(let r=0;r<i.length;++r)if(i[r]!==n[r+t])return!1;return!0}(n,"ftyp",4)&&96&n[8]?function qxe(n){switch(function Kxe(n,e,t){return String.fromCharCode(...n.slice(e,t))}(n,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}(n):null}(new Uint8Array(n instanceof DataView?n.buffer:n));return t?{mimeType:t.mimeType,width:0,height:0}:null}(e)}function X0(n){if(n instanceof DataView)return n;if(ArrayBuffer.isView(n))return new DataView(n.buffer);if(n instanceof ArrayBuffer)return new DataView(n);throw new Error("toDataView")}function R2(){return R2=fn(function*(n,e){const{mimeType:t}=gW(n)||{},i=globalThis._parseImageNode;return cW(i),yield i(n,t)}),R2.apply(this,arguments)}function P2(){return P2=fn(function*(n,e,t){const r=((e=e||{}).image||{}).type||"auto",{url:o}=t||{},s=function aEe(n){switch(n){case"auto":case"data":return function jxe(){if(S2)return"imagebitmap";if(C2)return"image";if(A2)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function Bxe(n){switch(n){case"auto":return S2||C2||A2;case"imagebitmap":return S2;case"image":return C2;case"data":return A2;default:throw new Error("@loaders.gl/images: image ".concat(n," not supported in this environment"))}}(n),n}}(r);let a;switch(s){case"imagebitmap":a=yield function Wxe(n,e,t){return D2.apply(this,arguments)}(n,e,o);break;case"image":a=yield pW(n,e,o);break;case"data":a=yield function oEe(n,e){return R2.apply(this,arguments)}(n,e);break;default:cW(!1)}return"data"===r&&(a=function uW(n){switch(dW(n)){case"data":return n;case"image":case"imagebitmap":const e=document.createElement("canvas"),t=e.getContext("2d");if(!t)throw new Error("getImageData");return e.width=n.width,e.height=n.height,t.drawImage(n,0,0),t.getImageData(0,0,n.width,n.height);default:throw new Error("getImageData")}}(a)),a}),P2.apply(this,arguments)}const _W={id:"image",module:"images",name:"Images",version:"3.4.14",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:function sEe(n,e,t){return P2.apply(this,arguments)},tests:[n=>!!gW(new DataView(n))],options:{image:{type:"auto",decode:!0}}},lEe={id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:function cEe(n){const e=n[0],t=n[n.length-1];return"{"===e&&"}"===t||"["===e&&"]"===t},parseTextSync:JSON.parse},Y0="8.8.27",zS=globalThis.deck&&globalThis.deck.VERSION;if(zS&&zS!==Y0)throw new Error("deck.gl - multiple versions detected: ".concat(zS," vs ").concat(Y0));zS||(ki.log(1,"deck.gl ".concat(Y0))(),globalThis.deck={...globalThis.deck,VERSION:Y0,version:Y0,log:ki,_registerLoggers:function N0e(n){Bk=n}},q9([lEe,[_W,{imagebitmap:{premultiplyAlpha:"none"}}]]));const dEe=globalThis.deck,HS=globalThis;function yW(n){if(!n&&!Ad())return"Node";if(vG(n))return"Electron";const t=n||(typeof navigator<"u"?navigator:{}).userAgent||"";if(t.indexOf("Edge")>-1)return"Edge";const i=-1!==t.indexOf("MSIE "),r=-1!==t.indexOf("Trident/");return i||r?"IE":HS.chrome?"Chrome":HS.safari?"Safari":HS.mozInnerScreenX?"Firefox":"Unknown"}class GS extends Gu{get[Symbol.toStringTag](){return"Query"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const i=Si(e),r=K6(e,"TIMER_QUERY");let o=i||r;for(const s of t)switch(s){case"queries":o=o&&i;break;case"timers":o=o&&r;break;default:ln(!1)}return o}constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.target=null,this._queryPending=!1,this._pollingPromise=null,Object.seal(this)}beginTimeElapsedQuery(){return this.begin(35007)}beginOcclusionQuery(){let{conservative:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.begin(e?36202:35887)}beginTransformFeedbackQuery(){return this.begin(35976)}begin(e){return this._queryPending||(this.target=e,this.gl2.beginQuery(this.target,this.handle)),this}end(){return this._queryPending||this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this}isResultAvailable(){if(!this._queryPending)return!1;const e=this.gl2.getQueryParameter(this.handle,34919);return e&&(this._queryPending=!1),e}isTimerDisjoint(){return this.gl2.getParameter(36795)}getResult(){return this.gl2.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}createPoll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;let t=0;return this._pollingPromise=new Promise((i,r)=>{const o=()=>{this.isResultAvailable()?(i(this.getResult()),this._pollingPromise=null):t++>e?(r("Timed out"),this._pollingPromise=null):requestAnimationFrame(o)};requestAnimationFrame(o)}),this._pollingPromise}_createHandle(){return GS.isSupported(this.gl)?this.gl2.createQuery():null}_deleteHandle(){this.gl2.deleteQuery(this.handle)}}const bW=Ad()&&typeof document<"u";let vEe=0;class wEe{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onCreateContext:t=(C=>P6(C)),onAddHTML:i=null,onInitialize:r=(()=>{}),onRender:o=(()=>{}),onFinalize:s=(()=>{}),onError:a,gl:c=null,glOptions:l={},debug:d=!1,createFramebuffer:h=!1,autoResizeViewport:f=!0,autoResizeDrawingBuffer:m=!0,stats:g=Xp.get("animation-loop-".concat(vEe++))}=e;let{useDevicePixels:v=!0}=e;"useDevicePixelRatio"in e&&(Dn.deprecated("useDevicePixelRatio","useDevicePixels")(),v=e.useDevicePixelRatio),this.props={onCreateContext:t,onAddHTML:i,onInitialize:r,onRender:o,onFinalize:s,onError:a,gl:c,glOptions:l,debug:d,createFramebuffer:h},this.gl=c,this.needsRedraw=null,this.timeline=null,this.stats=g,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:f,autoResizeDrawingBuffer:m,useDevicePixels:v}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}delete(){this.stop(),this._setDisplay(null)}setNeedsRedraw(e){return ln("string"==typeof e),this.needsRedraw=this.needsRedraw||e,this}setProps(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;const t=this._getPageLoadPromise().then(()=>!this._running||this._initialized?null:(this._createWebGLContext(e),this._createFramebuffer(),this._startEventHandling(),this._initializeCallbackData(),this._updateCallbackData(),this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._gpuTimeQuery=GS.isSupported(this.gl,["timers"])?new GS(this.gl):null,this._initialized=!0,this.onInitialize(this.animationProps))).then(i=>{this._running&&(this._addCallbackData(i||{}),!1!==i&&this._startLoop())});return this.props.onError&&t.catch(this.props.onError),this}redraw(){return this.isContextLost()||(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers()),this}stop(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}attachTimeline(e){return this.timeline=e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(e=>{this._resolveNextFrame=e})),this._nextFramePromise}toDataURL(){var e=this;return fn(function*(){return e.setNeedsRedraw("toDataURL"),yield e.waitForRender(),e.gl.canvas.toDataURL()})()}isContextLost(){return this.gl.isContextLost()}onCreateContext(){return this.props.onCreateContext(...arguments)}onInitialize(){return this.props.onInitialize(...arguments)}onRender(){return this.props.onRender(...arguments)}onFinalize(){return this.props.onFinalize(...arguments)}getHTMLControlValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const i=document.getElementById(e);return i?Number(i.value):t}setViewParameters(){return Dn.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}_startLoop(){const e=()=>{this._running&&(this.redraw(),this._animationFrameId=this._requestAnimationFrame(e))};this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(e)}_getPageLoadPromise(){return this._pageLoadPromise||(this._pageLoadPromise=bW?new Promise((e,t)=>{bW&&"complete"===document.readyState?e(document):window.addEventListener("load",()=>{e(document)})}):Promise.resolve({})),this._pageLoadPromise}_setDisplay(e){this.display&&(this.display.delete(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}_cancelAnimationFrame(e){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(e):function bEe(n){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame(n):clearTimeout(n)}(e)}_requestAnimationFrame(e){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(e):function yEe(n){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame(n):setTimeout(n,1e3/60)}(e)}_renderFrame(){this.display?this.display._renderFrame(...arguments):this.onRender(...arguments)}_clearNeedsRedraw(){this.needsRedraw=null}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}_initializeCallbackData(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}_updateCallbackData(){const{width:e,height:t,aspect:i}=this._getSizeAndAspect();(e!==this.animationProps.width||t!==this.animationProps.height)&&this.setNeedsRedraw("drawing buffer resized"),i!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=t,this.animationProps.aspect=i,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}_finalizeCallbackData(){this.onFinalize(this.animationProps)}_addCallbackData(e){"object"==typeof e&&null!==e&&(this.animationProps=Object.assign({},this.animationProps,e))}_createWebGLContext(e){if(this.offScreen=e.canvas&&typeof OffscreenCanvas<"u"&&e.canvas instanceof OffscreenCanvas,e=Object.assign({},e,this.props.glOptions),this.gl=this.props.gl?bk(this.props.gl,e):this.onCreateContext(e),!IS(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");(function pbe(n){Hu(n,gk)})(this.gl),this._createInfoDiv()}_createInfoDiv(){if(this.gl.canvas&&this.props.onAddHTML){const e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";const t=document.createElement("div");t.style.position="absolute",t.style.left="10px",t.style.bottom="10px",t.style.width="300px",t.style.background="white",e.appendChild(this.gl.canvas),e.appendChild(t);const i=this.props.onAddHTML(t);i&&(t.innerHTML=i)}}_getSizeAndAspect(){const e=this.gl.drawingBufferWidth,t=this.gl.drawingBufferHeight;let i=1;const{canvas:r}=this.gl;return r&&r.clientHeight?i=r.clientWidth/r.clientHeight:e>0&&t>0&&(i=e/t),{width:e,height:t,aspect:i}}_resizeViewport(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){this.autoResizeDrawingBuffer&&function bbe(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.canvas){const i=function mbe(n){const e=typeof window>"u"?1:window.devicePixelRatio||1;return Number.isFinite(n)?n<=0?1:n:n?e:1}(e.useDevicePixels);return void function Cbe(n,e,t){let i="width"in t?t.width:n.canvas.clientWidth,r="height"in t?t.height:n.canvas.clientHeight;(!i||!r)&&(Dn.log(1,"Canvas clientWidth/clientHeight is 0")(),e=1,i=n.canvas.width||1,r=n.canvas.height||1),n.luma=n.luma||{},n.luma.canvasSizeInfo=n.luma.canvasSizeInfo||{};const o=n.luma.canvasSizeInfo;if(o.clientWidth!==i||o.clientHeight!==r||o.devicePixelRatio!==e){let s=e;const a=Math.floor(i*s),c=Math.floor(r*s);n.canvas.width=a,n.canvas.height=c,(n.drawingBufferWidth!==a||n.drawingBufferHeight!==c)&&(Dn.warn("Device pixel ratio clamped")(),s=Math.min(n.drawingBufferWidth/i,n.drawingBufferHeight/r),n.canvas.width=Math.floor(i*s),n.canvas.height=Math.floor(r*s)),Object.assign(n.luma.canvasSizeInfo,{clientWidth:i,clientHeight:r,devicePixelRatio:e})}}(n,i,e)}const t=n.getExtension("STACKGL_resize_drawingbuffer");t&&"width"in e&&"height"in e&&t.resize(e.width,e.height)}(this.gl,{useDevicePixels:this.useDevicePixels})}_createFramebuffer(){this.props.createFramebuffer&&(this.framebuffer=new Xo(this.gl))}_resizeFramebuffer(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}_beginTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}_endTimers(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}_startEventHandling(){const{canvas:e}=this.gl;e&&(e.addEventListener("mousemove",this._onMousemove),e.addEventListener("mouseleave",this._onMouseleave))}_onMousemove(e){this.animationProps._mousePosition=[e.offsetX,e.offsetY]}_onMouseleave(e){this.animationProps._mousePosition=null}}var WS=S(7271);const xEe={mousedown:1,mousemove:2,mouseup:4};(function CEe(n){const e=n.prototype.handler;n.prototype.handler=function(i){const r=this.store;i.button>0&&"pointerdown"===i.type&&(function EEe(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return!0;return!1}(r,o=>o.pointerId===i.pointerId)||r.push(i)),e.call(this,i)}})(WS.PointerEventInput),function SEe(n){n.prototype.handler=function(t){let i=xEe[t.type];1&i&&t.button>=0&&(this.pressed=!0),2&i&&0===t.which&&(i=4),this.pressed&&(4&i&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}}(WS.MouseInput);const AEe=WS.Manager,Nd=WS;class $S{constructor(e,t,i){this.element=e,this.callback=t,this.options={enable:!0,...i}}}const TEe=Nd?[[Nd.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[Nd.Rotate,{enable:!1}],[Nd.Pinch,{enable:!1}],[Nd.Swipe,{enable:!1}],[Nd.Pan,{threshold:0,enable:!1}],[Nd.Press,{enable:!1}],[Nd.Tap,{event:"doubletap",taps:2,enable:!1}],[Nd.Tap,{event:"anytap",enable:!1}],[Nd.Tap,{enable:!1}]]:null,xW={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},MEe={doubletap:["tap"]},IEe={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},N2={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},DEe={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},EW={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},OEe=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",U_=typeof window<"u"?window:global;typeof global<"u"?global:window,typeof document<"u"&&document;let F2=!1;try{U_.addEventListener("test",null,{get passive(){return F2=!0,!0}}),U_.removeEventListener("test",null)}catch{F2=!1}const REe=-1!==OEe.indexOf("firefox"),{WHEEL_EVENTS:PEe}=N2,SW=4.000244140625;class FEe extends $S{constructor(e,t,i){super(e,t,i),this.handleEvent=r=>{if(!this.options.enable)return;let o=r.deltaY;U_.WheelEvent&&(REe&&r.deltaMode===U_.WheelEvent.DOM_DELTA_PIXEL&&(o/=U_.devicePixelRatio),r.deltaMode===U_.WheelEvent.DOM_DELTA_LINE&&(o*=40)),0!==o&&o%SW==0&&(o=Math.floor(o/SW)),r.shiftKey&&o&&(o*=.25),this.callback({type:"wheel",center:{x:r.clientX,y:r.clientY},delta:-o,srcEvent:r,pointerType:"mouse",target:r.target})},this.events=(this.options.events||[]).concat(PEe),this.events.forEach(r=>e.addEventListener(r,this.handleEvent,!!F2&&{passive:!1}))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,t){"wheel"===e&&(this.options.enable=t)}}const{MOUSE_EVENTS:LEe}=N2,AW="pointermove",TW="pointerover",MW="pointerout",IW="pointerenter",DW="pointerleave";class BEe extends $S{constructor(e,t,i){super(e,t,i),this.handleEvent=o=>{this.handleOverEvent(o),this.handleOutEvent(o),this.handleEnterEvent(o),this.handleLeaveEvent(o),this.handleMoveEvent(o)},this.pressed=!1;const{enable:r}=this.options;this.enableMoveEvent=r,this.enableLeaveEvent=r,this.enableEnterEvent=r,this.enableOutEvent=r,this.enableOverEvent=r,this.events=(this.options.events||[]).concat(LEe),this.events.forEach(o=>e.addEventListener(o,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,t){e===AW&&(this.enableMoveEvent=t),e===TW&&(this.enableOverEvent=t),e===MW&&(this.enableOutEvent=t),e===IW&&(this.enableEnterEvent=t),e===DW&&(this.enableLeaveEvent=t)}handleOverEvent(e){this.enableOverEvent&&"mouseover"===e.type&&this._emit(TW,e)}handleOutEvent(e){this.enableOutEvent&&"mouseout"===e.type&&this._emit(MW,e)}handleEnterEvent(e){this.enableEnterEvent&&"mouseenter"===e.type&&this._emit(IW,e)}handleLeaveEvent(e){this.enableLeaveEvent&&"mouseleave"===e.type&&this._emit(DW,e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this._emit(AW,e);break;case"mouseup":this.pressed=!1}}_emit(e,t){this.callback({type:e,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}const{KEY_EVENTS:jEe}=N2,OW="keydown";class UEe extends $S{constructor(e,t,i){super(e,t,i),this.handleEvent=r=>{const o=r.target||r.srcElement;"INPUT"===o.tagName&&"text"===o.type||"TEXTAREA"===o.tagName||(this.enableDownEvent&&"keydown"===r.type&&this.callback({type:OW,srcEvent:r,key:r.key,target:r.target}),this.enableUpEvent&&"keyup"===r.type&&this.callback({type:"keyup",srcEvent:r,key:r.key,target:r.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(jEe),e.tabIndex=this.options.tabIndex||0,e.style.outline="none",this.events.forEach(r=>e.addEventListener(r,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,t){e===OW&&(this.enableDownEvent=t),"keyup"===e&&(this.enableUpEvent=t)}}const PW="contextmenu";class VEe extends $S{constructor(e,t,i){super(e,t,i),this.handleEvent=r=>{this.options.enable&&this.callback({type:PW,center:{x:r.clientX,y:r.clientY},srcEvent:r,pointerType:"mouse",target:r.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,t){e===PW&&(this.options.enable=t)}}const zEe={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};function QEe(n){const e=zEe[n.srcEvent.type];if(!e)return null;const{buttons:t,button:i,which:r}=n.srcEvent;let o=!1,s=!1,a=!1;return 4===e||2===e&&!Number.isFinite(t)?(o=1===r,s=2===r,a=3===r):2===e?(o=!!(1&t),s=!!(4&t),a=!!(2&t)):1===e&&(o=0===i,s=1===i,a=2===i),{leftButton:o,middleButton:s,rightButton:a}}function ZEe(n,e){const t=n.center;if(!t)return null;const i=e.getBoundingClientRect();return{center:t,offsetCenter:{x:(t.x-i.left-e.clientLeft)/(i.width/e.offsetWidth||1),y:(t.y-i.top-e.clientTop)/(i.height/e.offsetHeight||1)}}}const j2={srcElement:"root",priority:0};class eCe{constructor(e){this.handleEvent=t=>{if(this.isEmpty())return;const i=this._normalizeEvent(t);let r=t.srcEvent.target;for(;r&&r!==i.rootElement;){if(this._emit(i,r),i.handled)return;r=r.parentNode}this._emit(i,"root")},this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,t,i,r=!1,o=!1){const{handlers:s,handlersByElement:a}=this;let c=j2;"string"==typeof i||i&&i.addEventListener?c={...j2,srcElement:i}:i&&(c={...j2,...i});let l=a.get(c.srcElement);l||(l=[],a.set(c.srcElement,l));const d={type:e,handler:t,srcElement:c.srcElement,priority:c.priority};r&&(d.once=!0),o&&(d.passive=!0),s.push(d),this._active=this._active||!d.passive;let h=l.length-1;for(;h>=0&&!(l[h].priority>=d.priority);)h--;l.splice(h+1,0,d)}remove(e,t){const{handlers:i,handlersByElement:r}=this;for(let o=i.length-1;o>=0;o--){const s=i[o];if(s.type===e&&s.handler===t){i.splice(o,1);const a=r.get(s.srcElement);a.splice(a.indexOf(s),1),0===a.length&&r.delete(s.srcElement)}}this._active=i.some(o=>!o.passive)}_emit(e,t){const i=this.handlersByElement.get(t);if(i){let r=!1;const o=()=>{e.handled=!0},s=()=>{e.handled=!0,r=!0},a=[];for(let c=0;c<i.length;c++){const{type:l,handler:d,once:h}=i[c];if(d({...e,type:l,stopPropagation:o,stopImmediatePropagation:s}),h&&a.push(i[c]),r)break}for(let c=0;c<a.length;c++){const{type:l,handler:d}=a[c];this.remove(l,d)}}}_normalizeEvent(e){const t=this.eventManager.getElement();return{...e,...QEe(e),...ZEe(e,t),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:t}}}const tCe={events:null,recognizers:null,recognizerOptions:{},Manager:AEe,touchAction:"none",tabIndex:0};class nCe{constructor(e=null,t){this._onBasicInput=r=>{const{srcEvent:o}=r,s=IEe[o.type];s&&this.manager.emit(s,r)},this._onOtherEvent=r=>{this.manager.emit(r.type,r)},this.options={...tCe,...t},this.events=new Map,this.setElement(e);const{events:i}=this.options;i&&this.on(i)}getElement(){return this.element}setElement(e){if(this.element&&this.destroy(),this.element=e,!e)return;const{options:t}=this;this.manager=new(0,t.Manager)(e,{touchAction:t.touchAction,recognizers:t.recognizers||TEe}).on("hammer.input",this._onBasicInput),t.recognizers||Object.keys(xW).forEach(r=>{const o=this.manager.get(r);o&&xW[r].forEach(s=>{o.recognizeWith(s)})});for(const r in t.recognizerOptions){const o=this.manager.get(r);if(o){const s=t.recognizerOptions[r];delete s.enable,o.set(s)}}this.wheelInput=new FEe(e,this._onOtherEvent,{enable:!1}),this.moveInput=new BEe(e,this._onOtherEvent,{enable:!1}),this.keyInput=new UEe(e,this._onOtherEvent,{enable:!1,tabIndex:t.tabIndex}),this.contextmenuInput=new VEe(e,this._onOtherEvent,{enable:!1});for(const[r,o]of this.events)o.isEmpty()||(this._toggleRecognizer(o.recognizerName,!0),this.manager.on(r,o.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(e,t,i){this._addEventHandler(e,t,i,!1)}once(e,t,i){this._addEventHandler(e,t,i,!0)}watch(e,t,i){this._addEventHandler(e,t,i,!1,!0)}off(e,t){this._removeEventHandler(e,t)}_toggleRecognizer(e,t){const{manager:i}=this;if(!i)return;const r=i.get(e);if(r&&r.options.enable!==t){r.set({enable:t});const o=MEe[e];o&&!this.options.recognizers&&o.forEach(s=>{const a=i.get(s);t?(a.requireFailure(e),r.dropRequireFailure(s)):a.dropRequireFailure(e)})}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t),this.contextmenuInput.enableEventType(e,t)}_addEventHandler(e,t,i,r,o){if("string"!=typeof e){i=t;for(const d in e)this._addEventHandler(d,e[d],i,r,o);return}const{manager:s,events:a}=this,c=EW[e]||e;let l=a.get(c);l||(l=new eCe(this),a.set(c,l),l.recognizerName=DEe[c]||c,s&&s.on(c,l.handleEvent)),l.add(e,t,i,r,o),l.isEmpty()||this._toggleRecognizer(l.recognizerName,!0)}_removeEventHandler(e,t){if("string"!=typeof e){for(const s in e)this._removeEventHandler(s,e[s]);return}const{events:i}=this,o=i.get(EW[e]||e);if(o&&(o.remove(e,t),o.isEmpty())){const{recognizerName:s}=o;let a=!1;for(const c of i.values())if(c.recognizerName===s&&!c.isEmpty()){a=!0;break}a||this._toggleRecognizer(s,!1)}}}function Jp(){}const kW={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,glOptions:{},parameters:{},parent:null,gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,onWebGLInitialized:Jp,onResize:Jp,onViewStateChange:Jp,onInteractionStateChange:Jp,onBeforeRender:Jp,onAfterRender:Jp,onLoad:Jp,onError:n=>ki.error(n.message)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:({isDragging:n})=>n?"grabbing":"grab",getTooltip:null,debug:!1,drawPickingColors:!1};class U2{constructor(e){we(this,"props",void 0),we(this,"width",0),we(this,"height",0),we(this,"userData",{}),we(this,"canvas",null),we(this,"viewManager",null),we(this,"layerManager",null),we(this,"effectManager",null),we(this,"deckRenderer",null),we(this,"deckPicker",null),we(this,"eventManager",null),we(this,"tooltip",null),we(this,"metrics",void 0),we(this,"animationLoop",void 0),we(this,"stats",void 0),we(this,"viewState",void 0),we(this,"cursorState",void 0),we(this,"_needsRedraw",void 0),we(this,"_pickRequest",void 0),we(this,"_lastPointerDownInfo",null),we(this,"_metricsCounter",void 0),we(this,"_onPointerMove",t=>{const{_pickRequest:i}=this;if("pointerleave"===t.type)i.x=-1,i.y=-1,i.radius=0;else{if(t.leftButton||t.rightButton)return;{const r=t.offsetCenter;if(!r)return;i.x=r.x,i.y=r.y,i.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:i.x,y:i.y}),i.event=t}),we(this,"_onEvent",t=>{const i=t6[t.type],r=t.offsetCenter;if(!i||!r||!this.layerManager)return;const o=this.layerManager.getLayers(),s=this.deckPicker.getLastPickedObject({x:r.x,y:r.y,layers:o,viewports:this.getViewports(r)},this._lastPointerDownInfo),{layer:a}=s,c=a&&(a[i.handler]||a.props[i.handler]),l=this.props[i.handler];let d=!1;c&&(d=c.call(a,s,t)),!d&&l&&l(s,t)}),we(this,"_onPointerDown",t=>{const i=t.offsetCenter,r=this._pick("pickObject","pickObject Time",{x:i.x,y:i.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=r.result[0]||r.emptyInfo}),this.props={...kW,...e},e=this.props,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this.cursorState={isHovering:!1,isDragging:!1},e.viewState&&e.initialViewState&&ki.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),"IE"===yW()&&ki.warn("IE 11 is not supported")(),this.viewState=e.initialViewState,e.gl||typeof document<"u"&&(this.canvas=this._createCanvas(e)),this.animationLoop=this._createAnimationLoop(e),this.stats=new vk({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(e),e._typedArrayManagerProps&&A0.setOptions(e._typedArrayManagerProps),this.animationLoop.start()}finalize(){var e,t,i,r,o,s,a,c;this.animationLoop.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,null===(e=this.layerManager)||void 0===e||e.finalize(),this.layerManager=null,null===(t=this.viewManager)||void 0===t||t.finalize(),this.viewManager=null,null===(i=this.effectManager)||void 0===i||i.finalize(),this.effectManager=null,null===(r=this.deckRenderer)||void 0===r||r.finalize(),this.deckRenderer=null,null===(o=this.deckPicker)||void 0===o||o.finalize(),this.deckPicker=null,null===(s=this.eventManager)||void 0===s||s.destroy(),this.eventManager=null,null===(a=this.tooltip)||void 0===a||a.remove(),this.tooltip=null,this.props.canvas||this.props.gl||!this.canvas||(null===(c=this.canvas.parentElement)||void 0===c||c.removeChild(this.canvas),this.canvas=null)}setProps(e){this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&ki.removed("onLayerHover","onHover")(),"onLayerClick"in e&&ki.removed("onLayerClick","onClick")(),e.initialViewState&&!T_(this.props.initialViewState,e.initialViewState)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);const t=Object.create(this.props);Object.assign(t,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(t),this.layerManager&&(this.viewManager.setProps(t),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(t),this.effectManager.setProps(t),this.deckRenderer.setProps(t),this.deckPicker.setProps(t)),this.stats.get("setProps Time").timeEnd()}needsRedraw(e={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);const i=this.viewManager.needsRedraw(e),r=this.layerManager.needsRedraw(e),o=this.effectManager.needsRedraw(e),s=this.deckRenderer.needsRedraw(e);return t=t||i||r||o||s,t}redraw(e){if(!this.layerManager)return;let t=this.needsRedraw({clearRedrawFlags:!0});t=e||t,t&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(t):this._drawLayers(t))}get isInitialized(){return null!==this.viewManager}getViews(){return Ds(this.viewManager),this.viewManager.views}getViewports(e){return Ds(this.viewManager),this.viewManager.getViewports(e)}pickObject(e){const t=this._pick("pickObject","pickObject Time",e).result;return t.length?t[0]:null}pickMultipleObjects(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}pickObjects(e){return this._pick("pickObjects","pickObjects Time",e)}_addResources(e,t=!1){for(const i in e)this.layerManager.resourceManager.add({resourceId:i,data:e[i],forceUpdate:t})}_removeResources(e){for(const t of e)this.layerManager.resourceManager.remove(t)}_pick(e,t,i){Ds(this.deckPicker);const{stats:r}=this;r.get("Pick Count").incrementCount(),r.get(t).timeStart();const o=this.deckPicker[e]({layers:this.layerManager.getLayers(i),views:this.viewManager.getViews(),viewports:this.getViewports(i),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...i});return r.get(t).timeEnd(),o}_createCanvas(e){let t=e.canvas;return"string"==typeof t&&(t=document.getElementById(t),Ds(t)),t||(t=document.createElement("canvas"),t.id=e.id||"deckgl-overlay",(e.parent||document.body).appendChild(t)),Object.assign(t.style,e.style),t}_setCanvasSize(e){if(!this.canvas)return;const{width:t,height:i}=e;if(t||0===t){const o=Number.isFinite(t)?"".concat(t,"px"):t;this.canvas.style.width=o}if(i||0===i){var r;const o=Number.isFinite(i)?"".concat(i,"px"):i;this.canvas.style.position=(null===(r=e.style)||void 0===r?void 0:r.position)||"absolute",this.canvas.style.height=o}}_updateCanvasSize(){const{canvas:e}=this;if(!e)return;const t=e.clientWidth||e.width,i=e.clientHeight||e.height;var r;t===this.width&&i===this.height||(this.width=t,this.height=i,null===(r=this.viewManager)||void 0===r||r.setProps({width:t,height:i}),this.props.onResize({width:t,height:i}))}_createAnimationLoop(e){const{width:t,height:i,gl:r,glOptions:o,debug:s,onError:a,onBeforeRender:c,onAfterRender:l,useDevicePixels:d}=e;return new wEe({width:t,height:i,useDevicePixels:d,autoResizeViewport:!1,gl:r,onCreateContext:h=>P6({...o,...h,canvas:this.canvas,debug:s,onContextLost:()=>this._onContextLost()}),onInitialize:h=>this._setGLContext(h.gl),onRender:this._onRenderFrame.bind(this),onBeforeRender:c,onAfterRender:l,onError:a})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){let e=this.props.views||[new iW({id:"default-view"})];return e=Array.isArray(e)?e:[e],e.length&&this.props.controller&&(e[0].props.controller=this.props.controller),e}_onContextLost(){const{onError:e}=this.props;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}_pickAndCallback(){const{_pickRequest:e}=this;if(e.event){const{result:i,emptyInfo:r}=this._pick("pickObject","pickObject Time",e);this.cursorState.isHovering=i.length>0;let o=r,s=!1;for(const a of i){var t;o=a,s=(null===(t=a.layer)||void 0===t?void 0:t.onHover(a,e.event))||s}if(!s&&this.props.onHover&&this.props.onHover(o,e.event),this.props.getTooltip&&this.tooltip){const a=this.props.getTooltip(o);this.tooltip.setTooltip(a,o.x,o.y)}e.event=null}}_updateCursor(){const e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}_setGLContext(e){if(this.layerManager)return;this.canvas||(this.canvas=e.canvas,bk(e,{enable:!0,copyState:!0})),this.tooltip=new kxe(this.canvas),Hu(e,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(e);const t=new x9;t.play(),this.animationLoop.attachTimeline(t),this.eventManager=new nCe(this.props.parent||e.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const r in t6)this.eventManager.on(r,this._onEvent);this.viewManager=new cxe({timeline:t,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const i=this.viewManager.getViewports()[0];this.layerManager=new axe(e,{deck:this,stats:this.stats,viewport:i,timeline:t}),this.effectManager=new wxe,this.deckRenderer=new Axe(e),this.deckPicker=new Rxe(e),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(e,t){const{gl:i}=this.layerManager.context;Hu(i,this.props.parameters),this.props.onBeforeRender({gl:i}),this.deckRenderer.renderLayers({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",redrawReason:e,effects:this.effectManager.getEffects(),...t}),this.props.onAfterRender({gl:i})}_onRenderFrame(e){this._getFrameStats(),this._metricsCounter++%60==0&&(this._getMetrics(),this.stats.reset(),ki.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(e){const t=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState={...this.viewState,[e.viewId]:t},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}_getFrameStats(){const{stats:e}=this;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();const t=this.animationLoop.stats;e.get("GPU Time").addTime(t.get("GPU Time").lastTiming),e.get("CPU Time").addTime(t.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:e,stats:t}=this;e.fps=t.get("frameRate").getHz(),e.setPropsTime=t.get("setProps Time").time,e.updateAttributesTime=t.get("Update Attributes").time,e.framesRedrawn=t.get("Redraw Count").count,e.pickTime=t.get("pickObject Time").time+t.get("pickMultipleObjects Time").time+t.get("pickObjects Time").time,e.pickCount=t.get("Pick Count").count,e.gpuTime=t.get("GPU Time").time,e.cpuTime=t.get("CPU Time").time,e.gpuTimePerFrame=t.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=t.get("CPU Time").getAverageTime();const i=Xp.get("Memory Usage");e.bufferMemory=i.get("Buffer Memory").count,e.textureMemory=i.get("Texture Memory").count,e.renderbufferMemory=i.get("Renderbuffer Memory").count,e.gpuMemory=i.get("GPU Memory").count}}we(U2,"defaultProps",kW),we(U2,"VERSION",dEe.VERSION);var Fd=S(1979);class V2{constructor(e,t){we(this,"opts",void 0),we(this,"source",void 0),this.opts=t,this.source=e}get value(){return this.source.value}getValue(){const e=this.source.getBuffer(),t=this.getAccessor();if(e)return[e,t];const{value:i}=this.source,{size:r}=t;let o=i;if(i&&i.length!==r){o=new Float32Array(r);const s=t.elementOffset||0;for(let a=0;a<r;++a)o[a]=i[s+a]}return o}getAccessor(){return{...this.source.getAccessor(),...this.opts}}}function YS(n){return n.stride||n.size*n.bytesPerElement}function NW(n,e){e.offset&&ki.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const t=YS(n),o=(void 0!==e.vertexOffset?e.vertexOffset:n.vertexOffset||0)*t+(e.elementOffset||0)*n.bytesPerElement+(n.offset||0);return{...e,offset:o,stride:t}}class oCe{constructor(e,t,i){we(this,"gl",void 0),we(this,"id",void 0),we(this,"size",void 0),we(this,"settings",void 0),we(this,"value",void 0),we(this,"doublePrecision",void 0),we(this,"_buffer",void 0),we(this,"state",void 0),this.gl=e,this.id=t.id||"",this.size=t.size||1;const r=t.logicalType||t.type,o=5130===r;let a,{defaultValue:s}=t;s=Number.isFinite(s)?[s]:s||new Array(this.size).fill(0),a=o?5126:!r&&t.isIndexed?e&&Dk(e,"ELEMENT_INDEX_UINT32")?5125:5123:r||5126;let c=function iCe(n){switch(n){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}(r||a||5126);this.doublePrecision=o,o&&!1===t.fp64&&(c=Float32Array),this.value=null,this.settings={...t,defaultType:c,defaultValue:s,logicalType:r,type:a,size:this.size,bytesPerElement:c.BYTES_PER_ELEMENT},this.state={...i,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1},this._buffer=null}get isConstant(){return this.state.constant}get buffer(){if(!this._buffer){const{isIndexed:e,type:t}=this.settings;this._buffer=new wr(this.gl,{id:this.id,target:e?34963:34962,accessor:{type:t}})}return this._buffer}get byteOffset(){const e=this.getAccessor();return e.vertexOffset?e.vertexOffset*YS(e):0}get numInstances(){return this.state.numInstances}set numInstances(e){this.state.numInstances=e}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),A0.release(this.state.allocatedValue)}getShaderAttributes(e,t){if(this.doublePrecision){const i={},r=this.value instanceof Float64Array,o=function rCe(n,e){const t=NW(n,e);return{high:t,low:{...t,offset:t.offset+4*n.size}}}(this.getAccessor(),t||{});return i[e]=new V2(this,o.high),i["".concat(e,"64Low")]=r?new V2(this,o.low):new Float32Array(this.size),i}if(t){const i=NW(this.getAccessor(),t);return{[e]:new V2(this,i)}}return{[e]:this}}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let e=null;if(this.state.constant&&this.value){const t=Array.from(this.value);e=[t,t]}else{const{value:t,numInstances:i,size:r}=this,o=i*r;if(t&&o&&t.length>=o){const s=new Array(r).fill(1/0),a=new Array(r).fill(-1/0);for(let c=0;c<o;)for(let l=0;l<r;l++){const d=t[c++];d<s[l]&&(s[l]=d),d>a[l]&&(a[l]=d)}e=[s,a]}}return this.state.bounds=e,e}setData(e){const{state:t}=this;let i;i=ArrayBuffer.isView(e)?{value:e}:e instanceof wr?{buffer:e}:e;const r={...this.settings,...i};if(t.bufferAccessor=r,t.bounds=null,i.constant){let o=i.value;if(o=this._normalizeValue(o,[],0),this.settings.normalized&&(o=this.normalizeConstant(o)),t.constant&&this._areValuesEqual(o,this.value))return!1;t.externalBuffer=null,t.constant=!0,this.value=o}else if(i.buffer){const o=i.buffer;t.externalBuffer=o,t.constant=!1,this.value=i.value||null;const s=i.value instanceof Float64Array;r.type=i.type||o.accessor.type,r.bytesPerElement=o.accessor.BYTES_PER_ELEMENT*(s?2:1),r.stride=YS(r)}else if(i.value){this._checkExternalBuffer(i);let o=i.value;t.externalBuffer=null,t.constant=!1,this.value=o,r.bytesPerElement=o.BYTES_PER_ELEMENT,r.stride=YS(r);const{buffer:s,byteOffset:a}=this;this.doublePrecision&&o instanceof Float64Array&&(o=HP(o,r));const c=o.byteLength+a+2*r.stride;s.byteLength<c&&s.reallocate(c),s.setAccessor(null),s.subData({data:o,offset:a}),r.type=i.type||s.accessor.type}return!0}updateSubBuffer(e={}){this.state.bounds=null;const t=this.value,{startOffset:i=0,endOffset:r}=e;this.buffer.subData({data:this.doublePrecision&&t instanceof Float64Array?HP(t,{size:this.size,startIndex:i,endIndex:r}):t.subarray(i,r),offset:i*t.BYTES_PER_ELEMENT+this.byteOffset})}allocate(e,t=!1){const{state:i}=this,r=i.allocatedValue,o=A0.allocate(r,e+1,{size:this.size,type:this.settings.defaultType,copy:t});this.value=o;const{buffer:s,byteOffset:a}=this;return s.byteLength<o.byteLength+a&&(s.reallocate(o.byteLength+a),t&&r&&s.subData({data:r instanceof Float64Array?HP(r,this):r,offset:a})),i.allocatedValue=o,i.constant=!1,i.externalBuffer=null,i.bufferAccessor=this.settings,!0}_checkExternalBuffer(e){const{value:t}=e;if(!ArrayBuffer.isView(t))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));const i=this.settings.defaultType;let r=!1;if(this.doublePrecision&&(r=t.BYTES_PER_ELEMENT<4),r)throw new Error("Attribute ".concat(this.id," does not support ").concat(t.constructor.name));!(t instanceof i)&&this.settings.normalized&&!("normalized"in e)&&ki.warn("Attribute ".concat(this.id," is normalized"))()}normalizeConstant(e){switch(this.settings.type){case 5120:return new Float32Array(e).map(t=>(t+128)/255*2-1);case 5122:return new Float32Array(e).map(t=>(t+32768)/65535*2-1);case 5121:return new Float32Array(e).map(t=>t/255);case 5123:return new Float32Array(e).map(t=>t/65535);default:return e}}_normalizeValue(e,t,i){const{defaultValue:r,size:o}=this.settings;if(Number.isFinite(e))return t[i]=e,t;if(!e)return t[i]=r[0],t;switch(o){case 4:t[i+3]=Number.isFinite(e[3])?e[3]:r[3];case 3:t[i+2]=Number.isFinite(e[2])?e[2]:r[2];case 2:t[i+1]=Number.isFinite(e[1])?e[1]:r[1];case 1:t[i+0]=Number.isFinite(e[0])?e[0]:r[0];break;default:let s=o;for(;--s>=0;)t[i+s]=Number.isFinite(e[s])?e[s]:r[s]}return t}_areValuesEqual(e,t){if(!e||!t)return!1;const{size:i}=this;for(let r=0;r<i;r++)if(e[r]!==t[r])return!1;return!0}}const FW=[],LW=[];function qS(n,e=0,t=1/0){let i=FW;const r={index:-1,data:n,target:[]};return n?"function"==typeof n[Symbol.iterator]?i=n:n.length>0&&(LW.length=n.length,i=LW):i=FW,(e>0||Number.isFinite(t))&&(i=(Array.isArray(i)?i:Array.from(i)).slice(e,t),r.index=e-1),{iterable:i,objectInfo:r}}function BW(n){return n&&n[Symbol.asyncIterator]}const aCe=[],KS=[[0,1/0]];function z2(n){const{source:e,target:t,start:i=0,size:r,getData:o}=n,a=e.length,c=(n.end||t.length)-i;if(a>c)return void t.set(e.subarray(0,c),i);if(t.set(e,i),!o)return;let l=a;for(;l<c;){const d=o(l,e);for(let h=0;h<r;h++)t[i+l]=d[h]||0,l++}}const dCe={interpolation:{duration:0,easing:n=>n},spring:{stiffness:.05,damping:.5}};function jW(n,e){if(!n)return null;Number.isFinite(n)&&(n={type:"interpolation",duration:n});const t=n.type||"interpolation";return{...dCe[t],...e,...n,type:t}}function UW(n,e){const t=e.getBuffer();return t?[t,{divisor:0,size:e.size,normalized:e.settings.normalized}]:e.value}function VW(n){switch(n){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(n,'"'))}}function zW(n){n.push(n.shift())}function H2(n,e){const{doublePrecision:t,settings:i,value:r,size:o}=n,s=t&&r instanceof Float64Array?2:1;return(i.noAlloc?r.length:e*o)*s}function HW({buffer:n,numInstances:e,attribute:t,fromLength:i,fromStartIndices:r,getData:o=(s=>s)}){const s=t.doublePrecision&&t.value instanceof Float64Array?2:1,a=t.size*s,c=t.byteOffset,l=t.startIndices,d=r&&l,h=H2(t,e),f=t.isConstant;if(!d&&i>=h)return;const m=f?t.value:t.getBuffer().getData({srcByteOffset:c});if(t.settings.normalized&&!f){const B=o;o=(z,le)=>t.normalizeConstant(B(z,le))}const g=f?(B,z)=>o(m,z):(B,z)=>o(m.subarray(B,B+a),z),v=n.getData({length:i}),C=new Float32Array(h);(function lCe({source:n,target:e,size:t,getData:i,sourceStartIndices:r,targetStartIndices:o}){if(!Array.isArray(o))return z2({source:n,target:e,size:t,getData:i}),e;let s=0,a=0;const c=i&&((d,h)=>i(d+a,h)),l=Math.min(r.length,o.length);for(let d=1;d<l;d++){const h=r[d]*t,f=o[d]*t;z2({source:n.subarray(s,h),target:e,start:a,end:f,size:t,getData:c}),s=h,a=f}a<e.length&&z2({source:[],target:e,start:a,size:t,getData:c})})({source:v,target:C,sourceStartIndices:r,targetStartIndices:l,size:a,getData:g}),n.byteLength<C.byteLength+c&&n.reallocate(C.byteLength+c),n.subData({data:C,offset:c})}class G2 extends oCe{constructor(e,t){super(e,t,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:KS}),we(this,"constant",!1),this.settings.update=t.update||(t.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(e){this.state.startIndices=e}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:e=!1}={}){const t=this.state.needsRedraw;return this.state.needsRedraw=t&&!e,t}getUpdateTriggers(){const{accessor:e}=this.settings;return[this.id].concat("function"!=typeof e&&e||[])}supportsTransition(){return!!this.settings.transition}getTransitionSetting(e){if(!e||!this.supportsTransition())return null;const{accessor:t}=this.settings,i=this.settings.transition;return jW(Array.isArray(t)?e[t.find(o=>e[o])]:e[t],i)}setNeedsUpdate(e=this.id,t){if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),t){const{startRow:i=0,endRow:r=1/0}=t;this.state.updateRanges=function cCe(n,e){if(n===KS||(e[0]<0&&(e[0]=0),e[0]>=e[1]))return n;const t=[],i=n.length;let r=0;for(let o=0;o<i;o++){const s=n[o];s[1]<e[0]?(t.push(s),r=o+1):s[0]>e[1]?t.push(s):e=[Math.min(s[0],e[0]),Math.max(s[1],e[1])]}return t.splice(r,0,e),t}(this.state.updateRanges,[i,r])}else this.state.updateRanges=KS}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=aCe}setNeedsRedraw(e=this.id){this.state.needsRedraw=this.state.needsRedraw||e}allocate(e){const{state:t,settings:i}=this;return!i.noAlloc&&!!i.update&&(super.allocate(e,t.updateRanges!==KS),!0)}updateBuffer({numInstances:e,data:t,props:i,context:r}){if(!this.needsUpdate())return!1;const{state:{updateRanges:o},settings:{update:s,noAlloc:a}}=this;let c=!0;if(s){for(const[l,d]of o)s.call(r,this,{data:t,startRow:l,endRow:d,props:i,numInstances:e});if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[l,d]of o){const h=Number.isFinite(l)?this.getVertexOffset(l):0,f=Number.isFinite(d)?this.getVertexOffset(d):a||!Number.isFinite(e)?this.value.length:e*this.size;super.updateSubBuffer({startOffset:h,endOffset:f})}this._checkAttributeArray()}else c=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),c}setConstantValue(e){return void 0!==e&&"function"!=typeof e&&(this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}setExternalBuffer(e){const{state:t}=this;return e?(this.clearNeedsUpdate(),t.lastExternalBuffer===e||(t.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(t.lastExternalBuffer=null,!1)}setBinaryValue(e,t=null){const{state:i,settings:r}=this;if(!e)return i.binaryValue=null,i.binaryAccessor=null,!1;if(r.noAlloc)return!1;if(i.binaryValue===e)return this.clearNeedsUpdate(),!0;if(i.binaryValue=e,this.setNeedsRedraw(),r.transform||t!==this.startIndices){ArrayBuffer.isView(e)&&(e={value:e});const s=e;return Ds(ArrayBuffer.isView(s.value),"invalid ".concat(r.accessor)),i.binaryAccessor=function sCe(n,e){const{size:t,stride:i,offset:r,startIndices:o,nested:s}=e,a=n.BYTES_PER_ELEMENT,c=i?i/a:t,l=r?r/a:0,d=Math.floor((n.length-l)/c);return(h,{index:f,target:m})=>{if(!o){const B=f*c+l;for(let z=0;z<t;z++)m[z]=n[B+z];return m}const g=o[f],v=o[f+1]||d;let C;if(s){C=new Array(v-g);for(let B=g;B<v;B++){const z=B*c+l;m=new Array(t);for(let le=0;le<t;le++)m[le]=n[z+le];C[B-g]=m}}else if(c===t)C=n.subarray(g*t+l,v*t+l);else{C=new n.constructor((v-g)*t);let B=0;for(let z=g;z<v;z++){const le=z*c+l;for(let se=0;se<t;se++)C[B++]=n[le+se]}}return C}}(s.value,{size:s.size||this.size,stride:s.stride,offset:s.offset,startIndices:t,nested:!!s.size&&s.size!==this.size}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}getVertexOffset(e){const{startIndices:t}=this;return(t?e<t.length?t[e]:this.numInstances:e)*this.size}getShaderAttributes(){const e=this.settings.shaderAttributes||{[this.id]:null},t={};for(const i in e)Object.assign(t,super.getShaderAttributes(i,e[i]));return t}_autoUpdater(e,{data:t,startRow:i,endRow:r,props:o,numInstances:s}){if(e.constant)return;const{settings:a,state:c,value:l,size:d,startIndices:h}=e,{accessor:f,transform:m}=a,g=c.binaryAccessor||("function"==typeof f?f:o[f]);Ds("function"==typeof g,'accessor "'.concat(f,'" is not a function'));let v=e.getVertexOffset(i);const{iterable:C,objectInfo:B}=qS(t,i,r);for(const z of C){B.index++;let le=g(z,B);if(m&&(le=m.call(this,le)),h){const se=(B.index<h.length-1?h[B.index+1]:s)-h[B.index];if(le&&Array.isArray(le[0])){let ke=v;for(const $e of le)e._normalizeValue($e,l,ke),ke+=d}else le&&le.length>d?l.set(le,v):(e._normalizeValue(le,B.target,0),F0e({target:l,source:B.target,start:v,count:se}));v+=se*d}else e._normalizeValue(le,l,v),v+=d}}_validateAttributeUpdaters(){const{settings:e}=this;if(!e.noAlloc&&"function"!=typeof e.update)throw new Error("Attribute ".concat(this.id," missing update or accessor"))}_checkAttributeArray(){const{value:e}=this,t=Math.min(4,this.size);if(e&&e.length>=t){let i=!0;switch(t){case 4:i=i&&Number.isFinite(e[3]);case 3:i=i&&Number.isFinite(e[2]);case 2:i=i&&Number.isFinite(e[1]);case 1:i=i&&Number.isFinite(e[0]);break;default:i=!1}if(!i)throw new Error("Illegal attribute generated for ".concat(this.id))}}}const GW="out vec4 transform_output;\nvoid main() {\n  transform_output = vec4(0);\n}",hCe="#version 300 es\n".concat(GW);function WW(n,e){e=Array.isArray(e)?e:[e];const t=n.replace(/^\s+/,"").split(/\s+/),[i,r,o]=t;return e.includes(i)&&r&&o?{qualifier:i,type:r,name:o.split(";")[0]}:null}function $W(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{version:e=100,input:t,inputType:i,output:r}=n;if(!t)return 300===e?hCe:e>300?"#version ".concat(e,"\n").concat(GW):"void main() {gl_FragColor = vec4(0);}";const o=function mCe(n,e){switch(e){case"float":return"vec4(".concat(n,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(n,", 0.0, 1.0)");case"vec3":return"vec4(".concat(n,", 1.0)");case"vec4":return n;default:return bc(!1),null}}(t,i);return e>=300?"#version ".concat(e," ").concat(300===e?"es":"","\nin ").concat(i," ").concat(t,";\nout vec4 ").concat(r,";\nvoid main() {\n  ").concat(r," = ").concat(o,";\n}"):"varying ".concat(i," ").concat(t,";\nvoid main() {\n  gl_FragColor = ").concat(o,";\n}")}class XW extends Gu{get[Symbol.toStringTag](){return"TransformFeedback"}static isSupported(e){return Si(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ra(e),super(e,t),this.initialize(t),this.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(this)}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,O_(this.buffers)||this.bind(()=>this._unbindBuffers()),this.setProps(e),this}setProps(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)}setBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind(()=>{for(const t in e)this.setBuffer(t,e[t])}),this}setBuffer(e,t){const i=this._getVaryingIndex(e),{buffer:r,byteSize:o,byteOffset:s}=this._getBufferParams(t);return i<0?(this.unused[e]=r,Dn.warn("".concat(this.id," unused varying buffer ").concat(e))(),this):(this.buffers[i]=t,this.bindOnUse||this._bindBuffer(i,r,s,o),this)}begin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this}end(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}_getBufferParams(e){let t,i,r;return e instanceof wr?r=e:(r=e.buffer,i=e.byteSize,t=e.byteOffset),(void 0!==t||void 0!==i)&&(t=t||0,i=i||r.byteLength-t),{buffer:r,byteOffset:t,byteSize:i}}_getVaryingInfo(e){return this.configuration&&this.configuration.getVaryingInfo(e)}_getVaryingIndex(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;const t=Number(e);return Number.isFinite(t)?t:-1}_bindBuffers(){if(this.bindOnUse)for(const e in this.buffers){const{buffer:t,byteSize:i,byteOffset:r}=this._getBufferParams(this.buffers[e]);this._bindBuffer(e,t,r,i)}}_unbindBuffers(){if(this.bindOnUse)for(const e in this.buffers)this._bindBuffer(e,null)}_bindBuffer(e,t){let r=arguments.length>3?arguments[3]:void 0;const o=t&&t.handle;return o&&void 0!==r?this.gl.bindBufferRange(35982,e,o,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r):this.gl.bindBufferBase(35982,e,o),this}_createHandle(){return this.gl.createTransformFeedback()}_deleteHandle(){this.gl.deleteTransformFeedback(this.handle)}_bindHandle(e){this.gl.bindTransformFeedback(36386,this.handle)}}class gCe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(t),Object.seal(this)}setupResources(e){for(const t of this.bindings)this._setupTransformFeedback(t,e)}updateModelProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyings:t}=this;return t.length>0&&(e=Object.assign({},e,{varyings:t})),e}getDrawOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.bindings[this.currentIndex],{sourceBuffers:i,transformFeedback:r}=t;return{attributes:Object.assign({},i,e.attributes),transformFeedback:r}}swap(){return!!this.feedbackMap&&(this.currentIndex=this._getNextIndex(),!0)}update(){this._setupBuffers(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}getBuffer(e){const{feedbackBuffers:t}=this.bindings[this.currentIndex],i=e?t[e]:null;return i?i instanceof wr?i:i.buffer:null}getData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyingName:t}=e,i=this.getBuffer(t);return i?i.getData():null}delete(){for(const e in this.resources)this.resources[e].delete()}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e),this.varyings=e.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&ln(Si(this.gl))}_getFeedbackBuffers(e){const{sourceBuffers:t={}}=e,i={};if(this.bindings[this.currentIndex]&&Object.assign(i,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(const r in this.feedbackMap)r in t&&(i[this.feedbackMap[r]]=r);Object.assign(i,e.feedbackBuffers);for(const r in i){const o=i[r];if("string"==typeof o){const s=t[o],{byteLength:a,usage:c,accessor:l}=s;i[r]=this._createNewBuffer(r,{byteLength:a,usage:c,accessor:l})}}return i}_setupBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t=null}=e;Object.assign(this.feedbackMap,e.feedbackMap);const i=this._getFeedbackBuffers(e);this._updateBindings({sourceBuffers:t,feedbackBuffers:i})}_setupTransformFeedback(e,t){let{model:i}=t;const{program:r}=i;e.transformFeedback=new XW(this.gl,{program:r,buffers:e.feedbackBuffers})}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this.feedbackMap){const{sourceBuffers:t,feedbackBuffers:i}=this._swapBuffers(this.bindings[this.currentIndex]),r=this._getNextIndex();this.bindings[r]=this._updateBinding(this.bindings[r],{sourceBuffers:t,feedbackBuffers:i})}}_updateBinding(e,t){return e?(Object.assign(e.sourceBuffers,t.sourceBuffers),Object.assign(e.feedbackBuffers,t.feedbackBuffers),e.transformFeedback&&e.transformFeedback.setBuffers(e.feedbackBuffers),e):{sourceBuffers:Object.assign({},t.sourceBuffers),feedbackBuffers:Object.assign({},t.feedbackBuffers)}}_swapBuffers(e){if(!this.feedbackMap)return null;const t=Object.assign({},e.sourceBuffers),i=Object.assign({},e.feedbackBuffers);for(const r in this.feedbackMap){const o=this.feedbackMap[r];t[r]=e.feedbackBuffers[o],i[o]=e.sourceBuffers[r],ln(i[o]instanceof wr)}return{sourceBuffers:t,feedbackBuffers:i}}_createNewBuffer(e,t){const i=new wr(this.gl,t);return this.resources[e]&&this.resources[e].delete(),this.resources[e]=i,i}_getNextIndex(){return(this.currentIndex+1)%2}}function YW(n){let e=100;const t=n.match(/[^\s]+/g);if(t.length>=2&&"#version"===t[0]){const i=parseInt(t[1],10);Number.isFinite(i)&&(e=i)}return e}const _Ce={name:"transform",vs:"attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",fs:null},JS="transform_uSize_",qW="transform_position";const SCe={10241:9728,10240:9728,10242:33071,10243:33071};class TCe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(t),Object.seal(this)}updateModelProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._processVertexShader(e);return Object.assign({},e,t)}getDrawOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t,sourceTextures:i,framebuffer:r,targetTexture:o}=this.bindings[this.currentIndex],s=Object.assign({},t,e.attributes),a=Object.assign({},e.uniforms),c=Object.assign({},e.parameters);let l=e.discard;if(this.hasSourceTextures||this.hasTargetTexture){s.transform_elementID=this.elementIDBuffer;for(const h in this.samplerTextureMap)a[h]=i[this.samplerTextureMap[h]];this._setSourceTextureParameters();const d=function vCe(n){let{sourceTextureMap:e,targetTextureVarying:t,targetTexture:i}=n;const r={};let o,s;t&&(({width:o,height:s}=i),r["".concat(JS).concat(t)]=[o,s]);for(const a in e)({width:o,height:s}=e[a]),r["".concat(JS).concat(a)]=[o,s];return r}({sourceTextureMap:i,targetTextureVarying:this.targetTextureVarying,targetTexture:o});Object.assign(a,d)}return this.hasTargetTexture&&(l=!1,c.viewport=[0,0,r.width,r.height]),{attributes:s,framebuffer:r,uniforms:a,discard:l,parameters:c}}swap(){return!!this._swapTexture&&(this.currentIndex=this._getNextIndex(),!0)}update(){this._setupTextures(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}getTargetTexture(){const{targetTexture:e}=this.bindings[this.currentIndex];return e}getData(){let{packed:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{framebuffer:t}=this.bindings[this.currentIndex],i=OS(t);if(!e)return i;const r=i.constructor,o=function pCe(n){switch(n){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return bc(!1),null}}(this.targetTextureType),s=new r(i.length*o/4);let a=0;for(let c=0;c<i.length;c+=4)for(let l=0;l<o;l++)s[a++]=i[c+l];return s}getFramebuffer(){return this.bindings[this.currentIndex].framebuffer}delete(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{_targetTextureVarying:t,_swapTexture:i}=e;this._swapTexture=i,this.targetTextureVarying=t,this.hasTargetTexture=t,this._setupTextures(e)}_createTargetTexture(e){const{sourceTextures:t,textureOrReference:i}=e;if(i instanceof Os)return i;const r=t[i];return r?(this._targetRefTexName=i,this._createNewTexture(r)):null}_setupTextures(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t,_sourceTextures:i={},_targetTexture:r}=e,o=this._createTargetTexture({sourceTextures:i,textureOrReference:r});this.hasSourceTextures=this.hasSourceTextures||i&&Object.keys(i).length>0,this._updateBindings({sourceBuffers:t,sourceTextures:i,targetTexture:o}),"elementCount"in e&&this._updateElementIDBuffer(e.elementCount)}_updateElementIDBuffer(e){if("number"!=typeof e||this.elementCount>=e)return;const t=new Float32Array(e);t.forEach((i,r,o)=>{o[r]=r}),this.elementIDBuffer?this.elementIDBuffer.setData({data:t}):this.elementIDBuffer=new wr(this.gl,{data:t,accessor:{size:1}}),this.elementCount=e}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this._swapTexture){const{sourceTextures:t,targetTexture:i}=this._swapTextures(this.bindings[this.currentIndex]),r=this._getNextIndex();this.bindings[r]=this._updateBinding(this.bindings[r],{sourceTextures:t,targetTexture:i})}}_updateBinding(e,t){const{sourceBuffers:i,sourceTextures:r,targetTexture:o}=t;if(e||(e={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(e.sourceTextures,r),Object.assign(e.sourceBuffers,i),o){e.targetTexture=o;const{width:s,height:a}=o,{framebuffer:c}=e;c?(c.update({attachments:{36064:o},resizeAttachments:!1}),c.resize({width:s,height:a})):e.framebuffer=new Xo(this.gl,{id:"transform-framebuffer",width:s,height:a,attachments:{36064:o}})}return e}_setSourceTextureParameters(){const e=this.currentIndex,{sourceTextures:t}=this.bindings[e];for(const i in t)t[i].setParameters(SCe)}_swapTextures(e){if(!this._swapTexture)return null;const t=Object.assign({},e.sourceTextures);return t[this._swapTexture]=e.targetTexture,{sourceTextures:t,targetTexture:e.sourceTextures[this._swapTexture]}}_createNewTexture(e){const t=function $be(n,e){ln(n instanceof Os||n instanceof Gbe||n instanceof Wbe);const t=n.constructor,{gl:i,width:r,height:o,format:s,type:a,dataFormat:c,border:l,mipmaps:d}=n;return new t(i,Object.assign({width:r,height:o,format:s,type:a,dataFormat:c,border:l,mipmaps:d},e))}(e,{parameters:{10241:9728,10240:9728,10242:33071,10243:33071},pixelStore:{37440:!1}});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=t,t}_getNextIndex(){return(this.currentIndex+1)%2}_processVertexShader(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceTextures:t,targetTexture:i}=this.bindings[this.currentIndex],{vs:r,uniforms:o,targetTextureType:s,inject:a,samplerTextureMap:c}=function bCe(n){let{vs:e,sourceTextureMap:t,targetTextureVarying:i,targetTexture:r}=n,s=Object.keys(t).length,a=null;const c={};let l=e,d={};if(s>0||i){const h=l.split("\n"),f=h.slice();if(h.forEach((m,g,v)=>{if(s>0){const C=function CCe(n,e){const t={},i=function wCe(n){return WW(n,["attribute","in"])}(n);if(!i)return null;const{type:r,name:o}=i;if(o&&e[o]){const s="// ".concat(n," => Replaced by Transform with a sampler"),{samplerName:a,sizeName:c,uniformDeclerations:l}=function xCe(n){const e="".concat("transform_uSampler_").concat(n),t="".concat(JS).concat(n);return{samplerName:e,sizeName:t,uniformDeclerations:"  uniform sampler2D ".concat(e,";\n  uniform vec2 ").concat(t,";")}}(o),d=function fCe(n){switch(n){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return bc(!1),null}}(r),h="  ".concat(r," ").concat(o," = transform_getInput(").concat(a,", ").concat(c,").").concat(d,";\n");return t[a]=o,{updatedLine:s,inject:{"vs:#decl":l,"vs:#main-start":h},samplerTextureMap:t}}return null}(m,t);if(C){const{updatedLine:B,inject:z}=C;f[g]=B,d=hk([d,z]),Object.assign(c,C.samplerTextureMap),s--}}i&&!a&&(a=function ECe(n,e){const t=WW(n,["varying","out"]);return t&&t.name===e?t.type:null}(m,i))}),i){ln(r);const m="".concat(JS).concat(i),g="uniform vec2 ".concat(m,";\n"),v="     vec2 ".concat(qW," = transform_getPos(").concat(m,");\n     gl_Position = vec4(").concat(qW,", 0, 1.);\n");d=hk([d,{"vs:#decl":g,"vs:#main-start":v}])}l=f.join("\n")}return{vs:l,targetTextureType:a,inject:d,samplerTextureMap:c}}({vs:e.vs,sourceTextureMap:t,targetTextureVarying:this.targetTextureVarying,targetTexture:i}),l=hk([e.inject||{},a]);return this.targetTextureType=s,this.samplerTextureMap=c,{vs:r,fs:e._fs||$W({version:YW(r),input:this.targetTextureVarying,inputType:s,output:"transform_output"}),modules:this.hasSourceTextures||this.targetTextureVarying?[_Ce].concat(e.modules||[]):e.modules,uniforms:o,inject:l}}}let QS=null;class xc extends Gu{get[Symbol.toStringTag](){return"VertexArrayObject"}static isSupported(e){return!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).constantAttributeZero||Si(e)||"Chrome"===yW()}static getDefaultArray(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new xc(e,{handle:null,isDefaultArray:!0})),e.luma.defaultVertexArray}static getMaxAttributes(e){return xc.MAX_ATTRIBUTES=xc.MAX_ATTRIBUTES||e.getParameter(34921),xc.MAX_ATTRIBUTES}static setConstant(e,t,i){switch(i.constructor){case Float32Array:xc._setConstantFloatArray(e,t,i);break;case Int32Array:xc._setConstantIntArray(e,t,i);break;case Uint32Array:xc._setConstantUintArray(e,t,i);break;default:ln(!1)}}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,Object.assign({},t,{id:t.id||t.program&&t.program.id})),this.buffer=null,this.bufferValue=null,this.isDefaultArray=t.isDefaultArray||!1,this.gl2=e,this.initialize(t),Object.seal(this)}delete(){return super.delete(),this.buffer&&this.buffer.delete(),this}get MAX_ATTRIBUTES(){return xc.getMaxAttributes(this.gl)}initialize(){return this.setProps(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}setProps(e){return this}setElementBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ln(!e||34963===e.target,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.bind(()=>{this.gl.bindBuffer(34963,e?e.handle:null)}),this}setBuffer(e,t,i){if(34963===t.target)return this.setElementBuffer(t,i);const{size:r,type:o,stride:s,offset:a,normalized:c,integer:l,divisor:d}=i,{gl:h,gl2:f}=this;return e=Number(e),this.bind(()=>{h.bindBuffer(34962,t.handle),l?(ln(Si(h)),f.vertexAttribIPointer(e,r,o,s,a)):h.vertexAttribPointer(e,r,o,c,s,a),h.enableVertexAttribArray(e),f.vertexAttribDivisor(e,d||0)}),this}enable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!t&&0===e&&!xc.isSupported(this.gl,{constantAttributeZero:!0})||(e=Number(e),this.bind(()=>t?this.gl.enableVertexAttribArray(e):this.gl.disableVertexAttribArray(e))),this}getConstantBuffer(e,t){const i=this._normalizeConstantArrayValue(t),r=i.byteLength*e,o=i.length*e;let s=!this.buffer;if(this.buffer=this.buffer||new wr(this.gl,r),s=s||this.buffer.reallocate(r),s=s||!this._compareConstantArrayValues(i,this.bufferValue),s){const a=function ICe(n,e){const t=function MCe(n){return(!QS||QS.byteLength<n)&&(QS=new ArrayBuffer(n)),QS}(n.BYTES_PER_ELEMENT*e);return new n(t,0,e)}(t.constructor,o);(function DCe(n){let{target:e,source:t,start:i=0,count:r=1}=n;const o=t.length,s=r*o;let a=0;for(let c=i;a<o;a++)e[c++]=t[a];for(;a<s;)a<s-a?(e.copyWithin(i+a,i,i+a),a*=2):(e.copyWithin(i+a,i,i+s-a),a=s)})({target:a,source:i,start:0,count:o}),this.buffer.subData(a),this.bufferValue=t}return this.buffer}_normalizeConstantArrayValue(e){return Array.isArray(e)?new Float32Array(e):e}_compareConstantArrayValues(e,t){if(!e||!t||e.length!==t.length||e.constructor!==t.constructor)return!1;for(let i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}static _setConstantFloatArray(e,t,i){switch(i.length){case 1:e.vertexAttrib1fv(t,i);break;case 2:e.vertexAttrib2fv(t,i);break;case 3:e.vertexAttrib3fv(t,i);break;case 4:e.vertexAttrib4fv(t,i);break;default:ln(!1)}}static _setConstantIntArray(e,t,i){switch(ln(Si(e)),i.length){case 1:e.vertexAttribI1iv(t,i);break;case 2:e.vertexAttribI2iv(t,i);break;case 3:e.vertexAttribI3iv(t,i);break;case 4:e.vertexAttribI4iv(t,i);break;default:ln(!1)}}static _setConstantUintArray(e,t,i){switch(ln(Si(e)),i.length){case 1:e.vertexAttribI1uiv(t,i);break;case 2:e.vertexAttribI2uiv(t,i);break;case 3:e.vertexAttribI3uiv(t,i);break;case 4:e.vertexAttribI4uiv(t,i);break;default:ln(!1)}}_createHandle(){return this.gl.createVertexArray()}_deleteHandle(e){return this.gl2.deleteVertexArray(e),[this.elements]}_bindHandle(e){this.gl2.bindVertexArray(e)}_getParameter(e,t){let{location:i}=t;return ln(Number.isFinite(i)),this.bind(()=>34373===e?this.gl.getVertexAttribOffset(i,e):this.gl.getVertexAttrib(i,e))}}const PCe=/^(.+)__LOCATION_([0-9]+)$/,kCe=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"];class NCe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.id=t.id||t.program&&t.program.id,this.gl=e,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new xc(e),L6(this,"VertexArray","v6.0",kCe),this.initialize(t),Object.seal(this)}delete(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(e)}reset(){this.elements=null,this.elementsAccessor=null;const{MAX_ATTRIBUTES:e}=this.vertexArrayObject;return this.values=new Array(e).fill(null),this.accessors=new Array(e).fill(null),this.unused={},this.drawParams=null,this}setProps(e){return"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"attributes"in e&&this.setAttributes(e.attributes),"elements"in e&&this.setElementBuffer(e.elements),"bindOnUse"in e&&(e=e.bindOnUse),this}clearDrawParams(){this.drawParams=null}getDrawParams(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}setAttributes(e){return Object.assign(this.attributes,e),this.vertexArrayObject.bind(()=>{for(const t in e)this._setAttribute(t,e[t]);this.gl.bindBuffer(34962,null)}),this}setElementBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=e,this.elementsAccessor=t,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(e,t),this}setBuffer(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===t.target)return this.setElementBuffer(t,i);const{location:r,accessor:o}=this._resolveLocationAndAccessor(e,t,t.accessor,i);return r>=0&&(this.values[r]=t,this.accessors[r]=o,this.clearDrawParams(),this.vertexArrayObject.setBuffer(r,t,o)),this}setConstant(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{location:r,accessor:o}=this._resolveLocationAndAccessor(e,t,Object.assign({size:t.length},i));return r>=0&&(t=this.vertexArrayObject._normalizeConstantArrayValue(t),this.values[r]=t,this.accessors[r]=o,this.clearDrawParams(),this.vertexArrayObject.enable(r,!1)),this}unbindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.vertexArrayObject.setElementBuffer(null),this.buffer=this.buffer||new wr(this.gl,{accessor:{size:4}});for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)this.values[e]instanceof wr&&(this.gl.disableVertexAttribArray(e),this.gl.bindBuffer(34962,this.buffer.handle),this.gl.vertexAttribPointer(e,1,5126,!1,0,0))}),this}bindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.setElementBuffer(this.elements);for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++){const t=this.values[e];t instanceof wr&&this.setBuffer(e,t)}}),this}bindForDraw(e,t,i){let r;return this.vertexArrayObject.bind(()=>{this._setConstantAttributes(e,t),r=i()}),r}_resolveLocationAndAccessor(e,t,i,r){const o={location:-1,accessor:null},{location:s,name:a}=this._getAttributeIndex(e);if(!Number.isFinite(s)||s<0)return this.unused[e]=t,Dn.once(3,()=>"unused value ".concat(e," in ").concat(this.id))(),o;const c=this._getAttributeInfo(a||s);if(!c)return o;const d=qa.resolve(c.accessor,this.accessors[s]||{},i,r),{size:h,type:f}=d;return ln(Number.isFinite(h)&&Number.isFinite(f)),{location:s,accessor:d}}_getAttributeInfo(e){return this.configuration&&this.configuration.getAttributeInfo(e)}_getAttributeIndex(e){const t=Number(e);if(Number.isFinite(t))return{location:t};const i=PCe.exec(e),r=i?i[1]:e,o=i?Number(i[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(r)+o,name:r}:{location:-1}}_setAttribute(e,t){if(t instanceof wr)this.setBuffer(e,t);else if(Array.isArray(t)&&t.length&&t[0]instanceof wr)this.setBuffer(e,t[0],t[1]);else if(ArrayBuffer.isView(t)||Array.isArray(t))this.setConstant(e,t);else{if(!(t.buffer instanceof wr))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");this.setBuffer(e,t.buffer,t)}}_setConstantAttributes(e,t){const i=Math.max(0|e,0|t);let r=this.values[0];ArrayBuffer.isView(r)&&this._setConstantAttributeZero(r,i);for(let o=1;o<this.vertexArrayObject.MAX_ATTRIBUTES;o++)r=this.values[o],ArrayBuffer.isView(r)&&this._setConstantAttribute(o,r)}_setConstantAttributeZero(e,t){if(xc.isSupported(this.gl,{constantAttributeZero:!0}))return void this._setConstantAttribute(0,e);const i=this.vertexArrayObject.getConstantBuffer(t,e);this.vertexArrayObject.setBuffer(0,i,this.accessors[0])}_setConstantAttribute(e,t){xc.setConstant(this.gl,e,t)}_updateDrawParams(){const e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0};for(let t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++)this._updateDrawParamsForLocation(e,t);return this.elements&&(e.elementCount=this.elements.getElementCount(this.elements.accessor),e.isIndexed=!0,e.indexType=this.elementsAccessor.type||this.elements.accessor.type,e.indexOffset=this.elementsAccessor.offset||0),e.indexCount===1/0&&(e.indexCount=0),e.vertexCount===1/0&&(e.vertexCount=0),e.instanceCount===1/0&&(e.instanceCount=0),e}_updateDrawParamsForLocation(e,t){const i=this.values[t],r=this.accessors[t];if(!i)return;const{divisor:o}=r,s=o>0;if(e.isInstanced=e.isInstanced||s,i instanceof wr){const a=i;if(s){const c=a.getVertexCount(r);e.instanceCount=Math.min(e.instanceCount,c)}else{const c=a.getVertexCount(r);e.vertexCount=Math.min(e.vertexCount,c)}}}setElements(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Dn.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(e,t)}}function q0(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{isInteger:i=!1}=e;if(Array.isArray(n)||ArrayBuffer.isView(n))return function FCe(n,e){const{maxElts:t=16,size:i=1}=e;let r="[";for(let s=0;s<n.length&&s<t;++s)s>0&&(r+=",".concat(s%i==0?" ":"")),r+=q0(n[s],e);const o=n.length>t?"...":"]";return"".concat(r).concat(o)}(n,e);if(!Number.isFinite(n))return String(n);if(Math.abs(n)<1e-16)return i?"0":"0.";if(i||Math.abs(n)>100&&Math.abs(n)<1e4)return n.toFixed(0);const r=n.toPrecision(2);return r.indexOf(".0")===r.length-2?r.slice(0,-1):r}function KW(n,e,t,i){const{gl:r}=n;if(!e)return{[i]:"null","Format ":"N/A"};let l,d,h,o="NOT PROVIDED",s=1,a=0,c=0;if(t&&(o=t.type,s=t.size,o=String(o).replace("Array",""),l=-1!==o.indexOf("nt")),e instanceof wr){const f=e,{data:m,changed:g}=f.getDebugData();let v;return d=g?"*":"",h=m,c=f.byteLength,a=c/m.BYTES_PER_ELEMENT/s,t?v="".concat(t.divisor>0?"I ":"P "," ").concat(a," (x").concat(s,"=").concat(c," bytes ").concat(pf(r,o),")"):(l=!0,v="".concat(c," bytes")),{[i]:"".concat(d).concat(q0(h,{size:s,isInteger:l})),"Format ":v}}return h=e,s=e.length,o=String(e.constructor.name).replace("Array",""),l=-1!==o.indexOf("nt"),{[i]:"".concat(q0(h,{size:s,isInteger:l})," (constant)"),"Format ":"".concat(s,"x").concat(o," (constant)")}}function BCe(n,e){const{type:t,size:i}=e,r=d9(t,i);return r?"".concat(n," (").concat(r.name,")"):n}function JW(n){let{header:e="Uniforms",program:t,uniforms:i,undefinedOnly:r=!1}=n;ln(t);const s=".*Matrix",c={},l=Object.keys(t._uniformSetters).sort();let d=0;for(const m of l)!m.match(".*_.*")&&!m.match(s)&&W2({table:c,header:e,uniforms:i,uniformName:m,undefinedOnly:r})&&d++;for(const m of l)m.match(s)&&W2({table:c,header:e,uniforms:i,uniformName:m,undefinedOnly:r})&&d++;for(const m of l)c[m]||W2({table:c,header:e,uniforms:i,uniformName:m,undefinedOnly:r})&&d++;let h=0;const f={};if(!r)for(const m in i){const g=i[m];c[m]||(h++,f[m]={Type:"NOT USED: ".concat(g),[e]:q0(g)})}return{table:c,count:d,unusedTable:f,unusedCount:h}}function W2(n){let{table:e,header:t,uniforms:i,uniformName:r,undefinedOnly:o}=n;const s=i[r],a=function jCe(n){return null!=n}(s);return!(o&&a||(e[r]={[t]:a?q0(s):"N/A","Uniform Type":a?s:"NOT PROVIDED"},0))}function QW(n){const{type:e,size:t}=n.accessor,i=d9(e,t);return i?"".concat(i.name," ").concat(n.name):n.name}const VCe={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function HCe(n,e){const{attributeMap:t=VCe}=e||{};return t&&t[n]||n}function GCe(n,e){let t;switch(n){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":t="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":t="vectors"}switch(t){case"vectors":e.size=e.size||3;break;case"uvs":e.size=e.size||2}ln(Number.isFinite(e.size),"attribute ".concat(n," needs size"))}const ZW=()=>{},XCe={};class z_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:i=Ya("model")}=t;ln(IS(e)),this.id=i,this.gl=e,this.id=t.id||Ya("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(t)}initialize(e){this.props={},this.programManager=e.programManager||H0.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;const{program:t=null,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d}=e;this.programProps={program:t,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(e.moduleSettings))),this.drawMode=void 0!==e.drawMode?e.drawMode:4,this.vertexCount=e.vertexCount||0,this.geometryBuffers={},this.isInstanced=e.isInstanced||e.instanced||e.instanceCount>0,this._setModelProps(e),this.geometry={},ln(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}setProps(e){this._setModelProps(e)}delete(){for(const e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}getDrawMode(){return this.drawMode}getVertexCount(){return this.vertexCount}getInstanceCount(){return this.instanceCount}getAttributes(){return this.attributes}getProgram(){return this.program}setProgram(e){const{program:t,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d}=e;this.programProps={program:t,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d},this._programDirty=!0}getUniforms(){return this.uniforms}setDrawMode(e){return this.drawMode=e,this}setVertexCount(e){return ln(Number.isFinite(e)),this.vertexCount=e,this}setInstanceCount(e){return ln(Number.isFinite(e)),this.instanceCount=e,this}setGeometry(e){return this.drawMode=e.drawMode,this.vertexCount=e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function zCe(n,e,t){const i={};let r=e.indices;for(const o in e.attributes){const s=e.attributes[o],a=HCe(o,t);if("indices"===o)r=s;else if(s.constant)i[a]=s.value;else{const c=s.value,l={...s};delete l.value,i[a]=[new wr(n,c),l],GCe(o,l)}}if(r){const o=r.value||r;ln(o instanceof Uint16Array||o instanceof Uint32Array,'attribute array for "indices" must be of integer type');const s={size:1,isIndexed:void 0===r.isIndexed||r.isIndexed};i.indices=[new wr(n,{data:o,target:34963}),s]}return i}(this.gl,e),this.vertexArray.setAttributes(this.geometryBuffers),this}setAttributes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(O_(e))return this;const t={};for(const i in e){const r=e[i];t[i]=r.getValue?r.getValue():r}return this.vertexArray.setAttributes(t),this}setUniforms(){return Object.assign(this.uniforms,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this}getModuleUniforms(e){this._checkProgram();const t=this.programManager.getUniforms(this.program);return t?t(e):{}}updateModuleSettings(e){const t=this.getModuleUniforms(e||{});return this.setUniforms(t)}clear(e){return Tk(this.program.gl,e),this}draw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();const{moduleSettings:t=null,framebuffer:i,uniforms:r={},attributes:o={},transformFeedback:s=this.transformFeedback,parameters:a={},vertexArray:c=this.vertexArray}=e;let l;this.setAttributes(o),this.updateModuleSettings(t),this.setUniforms(r),Dn.priority>=2&&(l=this._logDrawCallStart(2));const d=this.vertexArray.getDrawParams(),{isIndexed:h=d.isIndexed,indexType:f=d.indexType,indexOffset:m=d.indexOffset,vertexArrayInstanced:g=d.isInstanced}=this.props;g&&!this.isInstanced&&Dn.warn("Found instanced attributes on non-instanced model",this.id)();const{isInstanced:v,instanceCount:C}=this,{onBeforeRender:B=ZW,onAfterRender:z=ZW}=this.props;B(),this.program.setUniforms(this.uniforms);const le=this.program.draw(Object.assign(XCe,e,{logPriority:l,uniforms:null,framebuffer:i,parameters:a,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:c,transformFeedback:s,isIndexed:h,indexType:f,isInstanced:v,instanceCount:C,offset:h?m:0}));return z(),Dn.priority>=2&&this._logDrawCallEnd(l,c,i),le}transform(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{discard:t=!0,feedbackBuffers:i,unbindModels:r=[]}=e;let{parameters:o}=e;i&&this._setFeedbackBuffers(i),t&&(o=Object.assign({},o,{35977:t})),r.forEach(s=>s.vertexArray.unbindBuffers());try{this.draw(Object.assign({},e,{parameters:o}))}finally{r.forEach(s=>s.vertexArray.bindBuffers())}return this}render(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Dn.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(e).draw()}_setModelProps(e){Object.assign(this.props,e),"uniforms"in e&&this.setUniforms(e.uniforms),"pickable"in e&&(this.pickable=e.pickable),"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers)}_checkProgram(){if(!this._programDirty&&this.programManager.stateHash===this._programManagerState)return;let{program:t}=this.programProps;if(t)this._managedProgram=!1;else{const{vs:i,fs:r,modules:o,inject:s,defines:a,varyings:c,bufferMode:l,transpileToGLSL100:d}=this.programProps;t=this.programManager.get({vs:i,fs:r,modules:o,inject:s,defines:a,varyings:c,bufferMode:l,transpileToGLSL100:d}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}ln(t instanceof h9,"Model needs a program"),this._programDirty=!1,t!==this.program&&(this.program=t,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new NCe(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}_deleteGeometryBuffers(){for(const e in this.geometryBuffers){const t=this.geometryBuffers[e][0]||this.geometryBuffers[e];t instanceof wr&&t.delete()}}_setAnimationProps(e){this.animated&&ln(e,"Model.draw(): animated uniforms but no animationProps")}_setFeedbackBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(O_(e))return this;const{gl:t}=this.program;return this.transformFeedback=this.transformFeedback||new XW(t,{program:this.program}),this.transformFeedback.setBuffers(e),this}_logDrawCallStart(e){const t=e>3?0:1e4;if(!(Date.now()-this.lastLogTime<t))return this.lastLogTime=Date.now(),Dn.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:Dn.level<=2})(),e}_logDrawCallEnd(e,t,i,r){if(void 0===e)return;const o=function LCe(n){let{vertexArray:e,header:t="Attributes"}=n;if(!e.configuration)return{};const i={};e.elements&&(i.ELEMENT_ARRAY_BUFFER=KW(e,e.elements,null,t));const r=e.values;for(const o in r){const s=e._getAttributeInfo(o);if(s){let a="".concat(o,": ").concat(s.name);const c=e.accessors[s.location];c&&(a="".concat(o,": ").concat(BCe(s.name,c))),i[a]=KW(e,r[o],c,t)}}return i}({vertexArray:t,header:"".concat(this.id," attributes"),attributes:this._attributes}),{table:s,unusedTable:a,unusedCount:c}=JW({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,i)}),{table:l,count:d}=JW({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,i),undefinedOnly:!0});d>0&&Dn.log("MISSING UNIFORMS",Object.keys(l))(),c>0&&Dn.log("UNUSED UNIFORMS",Object.keys(a))();const h=function UCe(n){const e={},t="Accessors for ".concat(n.id);for(const i of n.attributeInfos)if(i){const r=QW(i);e["in ".concat(r)]={[t]:JSON.stringify(i.accessor)}}for(const i of n.varyingInfos)if(i){const r=QW(i);e["out ".concat(r)]={[t]:JSON.stringify(i.accessor)}}return e}(this.vertexArray.configuration);Dn.table(e,o)(),Dn.table(e,s)(),Dn.table(e+1,h)(),r&&r.log({logLevel:2,message:"Rendered to ".concat(r.id)}),Dn.groupEnd(2)()}}class $2{static isSupported(e){return Si(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(t),Object.seal(this)}delete(){const{model:e,bufferTransform:t,textureTransform:i}=this;e&&e.delete(),t&&t.delete(),i&&i.delete()}run(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{clearRenderTarget:t=!0}=e,i=this._updateDrawOptions(e);t&&i.framebuffer&&i.framebuffer.clear({color:!0}),this.model.transform(i)}swap(){let e=!1;const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of t)e=e||i.swap();ln(e,"Nothing to swap")}getBuffer(){return this.bufferTransform&&this.bufferTransform.getBuffer(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)}getData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of t){const r=i.getData(e);if(r)return r}return null}getFramebuffer(){return this.textureTransform&&this.textureTransform.getFramebuffer()}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"elementCount"in e&&this.model.setVertexCount(e.elementCount);const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of t)i.update(e)}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{gl:t}=this;this._buildResourceTransforms(t,e),e=this._updateModelProps(e),this.model=new z_(t,Object.assign({},e,{fs:e.fs||$W({version:YW(e.vs)}),id:e.id||"transform-model",drawMode:e.drawMode||0,vertexCount:e.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}_updateModelProps(e){let t=Object.assign({},e);const i=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of i)t=r.updateModelProps(t);return t}_buildResourceTransforms(e,t){(function YCe(n){return!(O_(n.feedbackBuffers)&&O_(n.feedbackMap)&&!(n.varyings&&n.varyings.length>0))})(t)&&(this.bufferTransform=new gCe(e,t)),function qCe(n){return!(O_(n._sourceTextures)&&!n._targetTexture&&!n._targetTextureVarying)}(t)&&(this.textureTransform=new TCe(e,t)),ln(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}_updateDrawOptions(e){let t=Object.assign({},e);const i=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of i)t=Object.assign(t,r.getDrawOptions(t));return t}}const i1e={interpolation:class KCe{constructor({gl:e,attribute:t,timeline:i}){we(this,"gl",void 0),we(this,"type","interpolation"),we(this,"attributeInTransition",void 0),we(this,"settings",void 0),we(this,"attribute",void 0),we(this,"transition",void 0),we(this,"currentStartIndices",void 0),we(this,"currentLength",void 0),we(this,"transform",void 0),we(this,"buffers",void 0),this.gl=e,this.transition=new R0(i),this.attribute=t,this.attributeInTransition=new G2(e,t.settings),this.currentStartIndices=t.startIndices,this.currentLength=0,this.transform=function QCe(n,e){const t=VW(e.size);return new $2(n,{vs:"\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n",defines:{ATTRIBUTE_TYPE:t},varyings:["vCurrent"]})}(e,t);const r={byteLength:0,usage:35050};this.buffers=[new wr(e,r),new wr(e,r)]}get inProgress(){return this.transition.inProgress}start(e,t){if(e.duration<=0)return void this.transition.cancel();this.settings=e;const{buffers:r,attribute:o}=this;zW(r);const s={numInstances:t,attribute:o,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const a of r)HW({buffer:a,...s});this.currentStartIndices=o.startIndices,this.currentLength=H2(o,t),this.attributeInTransition.setData({buffer:r[1],value:o.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/o.size),sourceBuffers:{aFrom:r[0],aTo:UW(0,o)},feedbackBuffers:{vCurrent:r[1]}})}update(){const e=this.transition.update();if(e){const{duration:t,easing:i}=this.settings,{time:r}=this.transition;let o=r/t;i&&(o=i(o)),this.transform.run({uniforms:{time:o}})}return e}cancel(){this.transition.cancel(),this.transform.delete();for(const e of this.buffers)e.delete();this.buffers.length=0}},spring:class ZCe{constructor({gl:e,attribute:t,timeline:i}){we(this,"gl",void 0),we(this,"type","spring"),we(this,"attributeInTransition",void 0),we(this,"settings",void 0),we(this,"attribute",void 0),we(this,"transition",void 0),we(this,"currentStartIndices",void 0),we(this,"currentLength",void 0),we(this,"texture",void 0),we(this,"framebuffer",void 0),we(this,"transform",void 0),we(this,"buffers",void 0),this.gl=e,this.type="spring",this.transition=new R0(i),this.attribute=t,this.attributeInTransition=new G2(e,{...t.settings,normalized:!1}),this.currentStartIndices=t.startIndices,this.currentLength=0,this.texture=function t1e(n){return new Os(n,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}(e),this.framebuffer=function n1e(n,e){return new Xo(n,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:{36064:e}})}(e,this.texture),this.transform=function e1e(n,e,t){const i=VW(e.size);return new $2(n,{framebuffer:t,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:i},varyings:["vNext"]})}(e,t,this.framebuffer);const r={byteLength:0,usage:35050};this.buffers=[new wr(e,r),new wr(e,r),new wr(e,r)]}get inProgress(){return this.transition.inProgress}start(e,t){const{buffers:r,attribute:o}=this,s={numInstances:t,attribute:o,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const a of r)HW({buffer:a,...s});this.settings=e,this.currentStartIndices=o.startIndices,this.currentLength=H2(o,t),this.attributeInTransition.setData({buffer:r[1],value:o.value}),this.transition.start({...e,duration:1/0}),this.transform.update({elementCount:Math.floor(this.currentLength/o.size),sourceBuffers:{aTo:UW(0,o)}})}update(){const{buffers:e,transform:t,framebuffer:i,transition:r}=this;if(!r.update())return!1;const s=this.settings;return t.update({sourceBuffers:{aPrev:e[0],aCur:e[1]},feedbackBuffers:{vNext:e[2]}}),t.run({framebuffer:i,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:s.stiffness,damping:s.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),zW(e),this.attributeInTransition.setData({buffer:e[1],value:this.attribute.value}),OS(i)[0]>0||r.end(),!0}cancel(){this.transition.cancel(),this.transform.delete();for(const e of this.buffers)e.delete();this.buffers.length=0,this.texture.delete(),this.framebuffer.delete()}}};class r1e{constructor(e,{id:t,timeline:i}){we(this,"id",void 0),we(this,"isSupported",void 0),we(this,"gl",void 0),we(this,"timeline",void 0),we(this,"transitions",void 0),we(this,"needsRedraw",void 0),we(this,"numInstances",void 0),this.id=t,this.gl=e,this.timeline=i,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=$2.isSupported(e)}finalize(){for(const e in this.transitions)this._removeTransition(e)}update({attributes:e,transitions:t,numInstances:i}){this.numInstances=i||1;for(const r in e){const o=e[r],s=o.getTransitionSetting(t);s&&this._updateAttribute(r,o,s)}for(const r in this.transitions){const o=e[r];(!o||!o.getTransitionSetting(t))&&this._removeTransition(r)}}hasAttribute(e){const t=this.transitions[e];return t&&t.inProgress}getAttributes(){const e={};for(const t in this.transitions){const i=this.transitions[t];i.inProgress&&(e[t]=i.attributeInTransition)}return e}run(){if(!this.isSupported||0===this.numInstances)return!1;for(const t in this.transitions)this.transitions[t].update()&&(this.needsRedraw=!0);const e=this.needsRedraw;return this.needsRedraw=!1,e}_removeTransition(e){this.transitions[e].cancel(),delete this.transitions[e]}_updateAttribute(e,t,i){const r=this.transitions[e];let o=!r||r.type!==i.type;if(o){if(!this.isSupported)return void ki.warn("WebGL2 not supported by this browser. Transition for ".concat(e," is disabled."))();r&&this._removeTransition(e);const s=i1e[i.type];s?this.transitions[e]=new s({attribute:t,timeline:this.timeline,gl:this.gl}):(ki.error("unsupported transition type '".concat(i.type,"'"))(),o=!1)}(o||t.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(i,this.numInstances))}}const e7="attributeManager.invalidate";class d1e{constructor(e,{id:t="attribute-manager",stats:i,timeline:r}={}){we(this,"id",void 0),we(this,"gl",void 0),we(this,"attributes",void 0),we(this,"updateTriggers",void 0),we(this,"needsRedraw",void 0),we(this,"userData",void 0),we(this,"stats",void 0),we(this,"attributeTransitionManager",void 0),this.id=t,this.gl=e,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=i,this.attributeTransitionManager=new r1e(e,{id:"".concat(t,"-transitions"),timeline:r}),Object.seal(this)}finalize(){for(const e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(e={clearRedrawFlags:!1}){const t=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,t&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(e){this._add(e)}addInstanced(e){this._add(e,{instanced:1})}remove(e){for(const t of e)void 0!==this.attributes[t]&&(this.attributes[t].delete(),delete this.attributes[t])}invalidate(e,t){const i=this._invalidateTrigger(e,t);sa(e7,this,e,i)}invalidateAll(e){for(const t in this.attributes)this.attributes[t].setNeedsUpdate(t,e);sa(e7,this,"all")}update({data:e,numInstances:t,startIndices:i=null,transitions:r,props:o={},buffers:s={},context:a={}}){let c=!1;sa("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const l in this.attributes){const d=this.attributes[l],h=d.settings.accessor;d.startIndices=i,d.numInstances=t,o[l]&&ki.removed("props.".concat(l),"data.attributes.".concat(l))(),d.setExternalBuffer(s[l])||d.setBinaryValue("string"==typeof h?s[h]:void 0,e.startIndices)||"string"==typeof h&&!s[h]&&d.setConstantValue(o[h])||d.needsUpdate()&&(c=!0,this._updateAttribute({attribute:d,numInstances:t,data:e,props:o,context:a})),this.needsRedraw=this.needsRedraw||d.needsRedraw()}c&&sa("attributeManager.updateEnd",this,t),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:t,transitions:r})}updateTransition(){const{attributeTransitionManager:e}=this,t=e.run();return this.needsRedraw=this.needsRedraw||t,t}getAttributes(){return this.attributes}getChangedAttributes(e={clearChangedFlags:!1}){const{attributes:t,attributeTransitionManager:i}=this,r={...i.getAttributes()};for(const o in t){const s=t[o];s.needsRedraw(e)&&!i.hasAttribute(o)&&(r[o]=s)}return r}getShaderAttributes(e,t={}){e||(e=this.getAttributes());const i={};for(const r in e)t[r]||Object.assign(i,e[r].getShaderAttributes());return i}_add(e,t={}){for(const i in e)this.attributes[i]=this._createAttribute(i,e[i],t);this._mapUpdateTriggersToAttributes()}_createAttribute(e,t,i){const r={...t,id:e,size:(t.isIndexed?1:t.size)||1,divisor:i.instanced?1:t.divisor||0};return new G2(this.gl,r)}_mapUpdateTriggersToAttributes(){const e={};for(const t in this.attributes)this.attributes[t].getUpdateTriggers().forEach(r=>{e[r]||(e[r]=[]),e[r].push(t)});this.updateTriggers=e}_invalidateTrigger(e,t){const{attributes:i,updateTriggers:r}=this,o=r[e];return o&&o.forEach(s=>{const a=i[s];a&&a.setNeedsUpdate(a.id,t)}),o}_updateAttribute(e){const{attribute:t,numInstances:i}=e;sa("attribute.updateStart",t),t.constant?t.setConstantValue(t.value):(t.allocate(i)&&sa("attribute.allocate",t,i),t.updateBuffer(e)&&(this.needsRedraw=!0,sa("attribute.updateEnd",t,i)))}}function n7(n,e,t,i,r){const o=e-n;return(t-e)*r+-o*i+o+e}function i7(n,e){if(Array.isArray(n)){let t=0;for(let i=0;i<n.length;i++){const r=n[i]-e[i];t+=r*r}return Math.sqrt(t)}return Math.abs(n-e)}const p1e={interpolation:class u1e extends R0{get value(){return this._value}_onUpdate(){const{time:e,settings:{fromValue:t,toValue:i,duration:r,easing:o}}=this,s=o(e/r);this._value=uS(t,i,s)}},spring:class f1e extends R0{get value(){return this._currValue}_onUpdate(){const{fromValue:e,toValue:t,damping:i,stiffness:r}=this.settings,{_prevValue:o=e,_currValue:s=e}=this;let a=function h1e(n,e,t,i,r){if(Array.isArray(t)){const o=[];for(let s=0;s<t.length;s++)o[s]=n7(n[s],e[s],t[s],i,r);return o}return n7(n,e,t,i,r)}(o,s,t,i,r);const c=i7(a,t),l=i7(a,s);c<1e-5&&l<1e-5&&(a=t,this.end()),this._prevValue=s,this._currValue=a}}};class m1e{constructor(e){this.transitions=new Map,this.timeline=e}get active(){return this.transitions.size>0}add(e,t,i,r){const{transitions:o}=this;if(o.has(e)){const c=o.get(e),{value:l=c.settings.fromValue}=c;t=l,this.remove(e)}if(!(r=jW(r)))return;const s=p1e[r.type];if(!s)return void ki.error("unsupported transition type '".concat(r.type,"'"))();const a=new s(this.timeline);a.start({...r,fromValue:t,toValue:i}),o.set(e,a)}remove(e){const{transitions:t}=this;t.has(e)&&(t.get(e).cancel(),t.delete(e))}update(){const e={};for(const[t,i]of this.transitions)i.update(),e[t]=i.value,i.inProgress||this.remove(t);return e}clear(){for(const e of this.transitions.keys())this.remove(e)}}function y1e(n,e){if(!n.transitions)return!1;const t={},i=Y2(n);let r=!1;for(const o in n.transitions){const s=i[o],a=s&&s.type;("number"===a||"color"===a||"array"===a)&&X2(n[o],e[o],s)&&(t[o]=!0,r=!0)}return!!r&&t}function r7({newProps:n,oldProps:e,ignoreProps:t={},propTypes:i={},triggerName:r="props"}){if(e===n)return!1;if("object"!=typeof n||null===n||"object"!=typeof e||null===e)return"".concat(r," changed shallowly");for(const o of Object.keys(n))if(!(o in t)){if(!(o in e))return"".concat(r,".").concat(o," added");const s=X2(n[o],e[o],i[o]);if(s)return"".concat(r,".").concat(o," ").concat(s)}for(const o of Object.keys(e))if(!(o in t)){if(!(o in n))return"".concat(r,".").concat(o," dropped");if(!Object.hasOwnProperty.call(n,o)){const s=X2(n[o],e[o],i[o]);if(s)return"".concat(r,".").concat(o," ").concat(s)}}return!1}function X2(n,e,t){let i=t&&t.equal;return i&&!i(n,e,t)||!i&&(i=n&&e&&n.equals,i&&!i.call(n,e))?"changed deeply":i||e===n?null:"changed shallowly"}function w1e(n,e){if(null===e)return!0;const t=e.extensions,{extensions:i}=n;if(i===t)return!1;if(!t||!i||i.length!==t.length)return!0;for(let r=0;r<i.length;r++)if(!i[r].equals(t[r]))return!0;return!1}function o7(n,e,t){let i=n.updateTriggers[t];i=i??{};let r=e.updateTriggers[t];return r=r??{},r7({oldProps:r,newProps:i,triggerName:t})}function Y2(n){const e=n[LS],t=e&&e.constructor;return t?t._propTypes:{}}function T1e(n,e){if(!e)return n;const t={...n,...e};if("defines"in e&&(t.defines={...n.defines,...e.defines}),"modules"in e&&(t.modules=(n.modules||[]).concat(e.modules),e.modules.some(i=>"project64"===i.name))){const i=t.modules.findIndex(r=>"project32"===r.name);i>=0&&t.modules.splice(i,1)}if("inject"in e)if(n.inject){const i={...n.inject};for(const r in e.inject)i[r]=(i[r]||"")+e.inject[r];t.inject=i}else t.inject=e.inject;return t}function q2(n,e,t=!1){const i=e.projectPosition(n);if(t&&e instanceof bf){const[r,o,s=0]=n,a=e.getDistanceScales([r,o]);i[2]=s*a.unitsPerMeter[2]}return i}function s7(n,{viewport:e,modelMatrix:t,coordinateSystem:i,coordinateOrigin:r,offsetMode:o}){let[s,a,c=0]=n;switch(t&&([s,a,c]=I0([],[s,a,c,1],t)),i){case Wi.LNGLAT:return q2([s,a,c],e,o);case Wi.LNGLAT_OFFSETS:return q2([s+r[0],a+r[1],c+(r[2]||0)],e,o);case Wi.METER_OFFSETS:return q2(WG(r,[s,a,c]),e,o);default:return e.isGeospatial?[s+r[0],a+r[1],c+r[2]]:e.projectPosition([s,a,c])}}const D1e={10241:9987,10240:9729,10242:33071,10243:33071},K2={},P1e={boolean:{validate:(n,e)=>!0,equal:(n,e,t)=>!!n==!!e},number:{validate:(n,e)=>Number.isFinite(n)&&(!("max"in e)||n<=e.max)&&(!("min"in e)||n>=e.min)},color:{validate:(n,e)=>e.optional&&!n||J0(n)&&(3===n.length||4===n.length),equal:(n,e,t)=>J2(n,e)},accessor:{validate(n,e){const t=ZS(n);return"function"===t||t===ZS(e.value)},equal:(n,e,t)=>"function"==typeof e||J2(n,e)},array:{validate:(n,e)=>e.optional&&!n||J0(n),equal:(n,e,t)=>t.compare?J2(n,e):n===e},object:{equal:(n,e,t)=>t.compare?T_(n,e):n===e},function:{validate:(n,e)=>e.optional&&!n||"function"==typeof n,equal:(n,e,t)=>!t.compare||n===e},data:{transform:(n,e,t)=>{const{dataTransform:i}=t.props;return i&&n?i(n):n}},image:{transform:(n,e,t)=>function O1e(n,e){const t=n.context&&n.context.gl;if(!t||!e)return null;if(e instanceof Os)return e;e.constructor&&"Object"!==e.constructor.name&&(e={data:e});let i=null;e.compressed&&(i={10241:e.data.length>1?9985:9729});const r=new Os(t,{...e,parameters:{...D1e,...i,...n.props.textureParameters}});return K2[r.id]=!0,r}(t,n),release:n=>{!function R1e(n){!n||!(n instanceof Os)||K2[n.id]&&(n.delete(),delete K2[n.id])}(n)}}};function J2(n,e){if(n===e)return!0;if(!J0(n)||!J0(e))return!1;const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function N1e(n,e){switch(ZS(e)){case"object":return K0(n,e);case"array":return K0(n,{type:"array",value:e,compare:!1});case"boolean":return K0(n,{type:"boolean",value:e});case"number":return K0(n,{type:"number",value:e});case"function":return K0(n,{type:"function",value:e,compare:!0});default:return{name:n,type:"unknown",value:e}}}function K0(n,e){return"type"in e?{name:n,...P1e[e.type],...e}:"value"in e?{name:n,type:ZS(e.value),...e}:{name:n,type:"object",value:e}}function J0(n){return Array.isArray(n)||ArrayBuffer.isView(n)}function ZS(n){return J0(n)?"array":null===n?"null":typeof n}function a7(n){return eA(n,"_mergedDefaultProps")||(function L1e(n){if(!n.prototype)return;const t=Object.getPrototypeOf(n),i=a7(t),o=function k1e(n){const e={},t={},i={};for(const[r,o]of Object.entries(n)){const s=o?.deprecatedFor;if(s)i[r]=Array.isArray(s)?s:[s];else{const a=N1e(r,o);e[r]=a,t[r]=a.value}}return{propTypes:e,defaultProps:t,deprecatedProps:i}}(eA(n,"defaultProps")||{}),s=function B1e(n,e,t){const i=Object.create(null);Object.assign(i,e,n);const r=function z1e(n){const e=eA(n,"layerName")||eA(n,"componentName");return e||ki.once(0,"".concat(n.name,".componentName not specified"))(),e||n.name}(t);return delete n.id,Object.defineProperties(i,{id:{writable:!0,value:r}}),i}(o.defaultProps,i,n),a={...t._propTypes,...o.propTypes};!function U1e(n,e){const t={},i={};for(const r in e){const o=e[r],{name:s,value:a}=o;o.async&&(t[s]=a,i[s]=V1e(s))}n[L_]=t,n[Kp]={},Object.defineProperties(n,i)}(s,a);const c={...t._deprecatedProps,...o.deprecatedProps};(function j1e(n,e){for(const t in e)Object.defineProperty(n,t,{enumerable:!1,set(i){const r="".concat(this.id,": ").concat(t);for(const o of e[t])c7(this,o)||(this[o]=i);ki.deprecated(r,e[t].join("/"))()}})})(s,c),n._mergedDefaultProps=s,n._propTypes=a,n._deprecatedProps=c}(n),n._mergedDefaultProps)}function V1e(n){return{enumerable:!0,set(e){"string"==typeof e||e instanceof Promise||BW(e)?this[Kp][n]=e:this[gf][n]=e},get(){if(this[gf]){if(n in this[gf])return this[gf][n]||this[L_][n];if(n in this[Kp]){const e=this[LS]&&this[LS].internalState;if(e&&e.hasAsyncProp(n))return e.getAsyncProp(n)||this[L_][n]}}return this[L_][n]}}}function c7(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function eA(n,e){return c7(n,e)&&n[e]}let H1e=0;class Q2{constructor(...e){we(this,"id",void 0),we(this,"props",void 0),we(this,"count",void 0),this.props=function F1e(n,e){const t=a7(n.constructor),i=Object.create(t);i[LS]=n,i[Kp]={},i[gf]={};for(let r=0;r<e.length;++r){const o=e[r];for(const s in o)i[s]=o[s]}return Object.freeze(i),i}(this,e),this.id=this.props.id,this.count=H1e++}clone(e){const{props:t}=this,i={};for(const r in t[L_])r in t[gf]?i[r]=t[gf][r]:r in t[Kp]&&(i[r]=t[Kp][r]);return new this.constructor({...t,...i,...e})}}we(Q2,"componentName","Component"),we(Q2,"defaultProps",{});const G1e=Object.freeze({});class W1e{constructor(e){we(this,"component",void 0),we(this,"onAsyncPropUpdated",void 0),we(this,"asyncProps",void 0),we(this,"oldProps",void 0),we(this,"oldAsyncProps",void 0),this.component=e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const e in this.asyncProps){const t=this.asyncProps[e];t&&t.type&&t.type.release&&t.type.release(t.resolvedValue,t.type,this.component)}}getOldProps(){return this.oldAsyncProps||this.oldProps||G1e}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component.props}hasAsyncProp(e){return e in this.asyncProps}getAsyncProp(e){const t=this.asyncProps[e];return t&&t.resolvedValue}isAsyncPropLoading(e){if(e){const t=this.asyncProps[e];return!!(t&&t.pendingLoadCount>0&&t.pendingLoadCount!==t.resolvedLoadCount)}for(const t in this.asyncProps)if(this.isAsyncPropLoading(t))return!0;return!1}reloadAsyncProp(e,t){this._watchPromise(e,Promise.resolve(t))}setAsyncProps(e){const t=e[gf]||{},i=e[Kp]||e,r=e[L_]||{};for(const o in t){const s=t[o];this._createAsyncPropData(o,r[o]),this._updateAsyncProp(o,s),t[o]=this.getAsyncProp(o)}for(const o in i){const s=i[o];this._createAsyncPropData(o,r[o]),this._updateAsyncProp(o,s)}}_fetch(e,t){return null}_onResolve(e,t){}_onError(e,t){}_updateAsyncProp(e,t){if(this._didAsyncInputValueChange(e,t)){if("string"==typeof t&&(t=this._fetch(e,t)),t instanceof Promise)return void this._watchPromise(e,t);if(BW(t))return void this._resolveAsyncIterable(e,t);this._setPropValue(e,t)}}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}}_didAsyncInputValueChange(e,t){const i=this.asyncProps[e];return t!==i.resolvedValue&&t!==i.lastValue&&(i.lastValue=t,!0)}_setPropValue(e,t){this._freezeAsyncOldProps();const i=this.asyncProps[e];i&&(t=this._postProcessValue(i,t),i.resolvedValue=t,i.pendingLoadCount++,i.resolvedLoadCount=i.pendingLoadCount)}_setAsyncPropValue(e,t,i){const r=this.asyncProps[e];r&&i>=r.resolvedLoadCount&&void 0!==t&&(this._freezeAsyncOldProps(),r.resolvedValue=t,r.resolvedLoadCount=i,this.onAsyncPropUpdated(e,t))}_watchPromise(e,t){const i=this.asyncProps[e];if(i){i.pendingLoadCount++;const r=i.pendingLoadCount;t.then(o=>{o=this._postProcessValue(i,o),this._setAsyncPropValue(e,o,r),this._onResolve(e,o)}).catch(o=>{this._onError(e,o)})}}_resolveAsyncIterable(e,t){var i=this;return fn(function*(){if("data"!==e)return void i._setPropValue(e,t);const r=i.asyncProps[e];if(!r)return;r.pendingLoadCount++;const o=r.pendingLoadCount;let s=[],a=0;var d,c=!1,l=!1;try{for(var f,h=s2(t);c=!(f=yield h.next()).done;c=!1){const m=f.value;{const{dataTransform:g}=i.component.props;s=g?g(m,s):s.concat(m),Object.defineProperty(s,"__diff",{enumerable:!1,value:[{startRow:a,endRow:s.length}]}),a=s.length,i._setAsyncPropValue(e,s,o)}}}catch(m){l=!0,d=m}finally{try{c&&null!=h.return&&(yield h.return())}finally{if(l)throw d}}i._onResolve(e,s)})()}_postProcessValue(e,t){const i=e.type;return i&&(i.release&&i.release(e.resolvedValue,i,this.component),i.transform)?i.transform(t,i,this.component):t}_createAsyncPropData(e,t){if(!this.asyncProps[e]){const r=this.component&&this.component.constructor._propTypes;this.asyncProps[e]={type:r&&r[e],lastValue:null,resolvedValue:t,pendingLoadCount:0,resolvedLoadCount:0}}}}class $1e extends W1e{constructor({attributeManager:e,layer:t}){super(t),we(this,"attributeManager",void 0),we(this,"needsRedraw",void 0),we(this,"needsUpdate",void 0),we(this,"subLayers",void 0),we(this,"usesPickingColorCache",void 0),we(this,"changeFlags",void 0),we(this,"viewport",void 0),we(this,"uniformTransitions",void 0),we(this,"propsInTransition",void 0),this.attributeManager=e,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}set layer(e){this.component=e}_fetch(e,t){const i=this.component.props.fetch;return i?i(t,{propName:e,layer:this.layer}):super._fetch(e,t)}_onResolve(e,t){const i=this.component.props.onDataLoad;"data"===e&&i&&i(t,{propName:e,layer:this.layer})}_onError(e,t){this.layer.raiseError(t,"loading ".concat(e," of ").concat(this.layer))}}const Q1e=Object.freeze([]),Z1e=FS(({oldViewport:n,viewport:e})=>n.equals(e));let Ld=new Uint8ClampedArray(0);const eSe={data:{type:"data",value:Q1e,async:!0},dataComparator:{type:"function",value:null,compare:!1,optional:!0},_dataDiff:{type:"function",value:n=>n&&n.__diff,compare:!1,optional:!0},dataTransform:{type:"function",value:null,compare:!1,optional:!0},onDataLoad:{type:"function",value:null,compare:!1,optional:!0},onError:{type:"function",value:null,compare:!1,optional:!0},fetch:{type:"function",value:(n,{propName:e,layer:t,loaders:i,loadOptions:r,signal:o})=>{const{resourceManager:s}=t.context;var a;r=r||t.getLoadOptions(),i=i||t.props.loaders,o&&(r={...r,fetch:{...null===(a=r)||void 0===a?void 0:a.fetch,signal:o}});let c=s.contains(n);return!c&&!r&&(s.add({resourceId:n,data:W0(n,i),persistent:!1}),c=!0),c?s.subscribe({resourceId:n,onChange:l=>{var d;return null===(d=t.internalState)||void 0===d?void 0:d.reloadAsyncProp(e,l)},consumerId:t.id,requestId:e}):W0(n,i,r)},compare:!1},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,compare:!1,optional:!0},onClick:{type:"function",value:null,compare:!1,optional:!0},onDragStart:{type:"function",value:null,compare:!1,optional:!0},onDrag:{type:"function",value:null,compare:!1,optional:!0},onDragEnd:{type:"function",value:null,compare:!1,optional:!0},coordinateSystem:Wi.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,compare:!0},getPolygonOffset:{type:"function",value:({layerIndex:n})=>[0,100*-n],compare:!1},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class Qp extends Q2{constructor(...e){super(...e),we(this,"internalState",null),we(this,"lifecycle","Awaiting state"),we(this,"context",void 0),we(this,"state",void 0),we(this,"parent",null)}get root(){let e=this;for(;e.parent;)e=e.parent;return e}toString(){return"".concat(this.constructor.layerName||this.constructor.name,"({id: '").concat(this.props.id,"'})")}project(e){Ds(this.internalState);const t=this.internalState.viewport||this.context.viewport,i=s7(e,{viewport:t,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[r,o,s]=XG(i,t.pixelProjectionMatrix);return 2===e.length?[r,o]:[r,o,s]}unproject(e){return Ds(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(e)}projectPosition(e,t){return Ds(this.internalState),function I1e(n,e){const{viewport:t,coordinateSystem:i,coordinateOrigin:r,modelMatrix:o,fromCoordinateSystem:s,fromCoordinateOrigin:a}=function M1e(n){const{viewport:e,modelMatrix:t,coordinateOrigin:i}=n;let{coordinateSystem:r,fromCoordinateSystem:o,fromCoordinateOrigin:s}=n;return r===Wi.DEFAULT&&(r=e.isGeospatial?Wi.LNGLAT:Wi.CARTESIAN),void 0===o&&(o=r),void 0===s&&(s=i),{viewport:e,coordinateSystem:r,coordinateOrigin:i,modelMatrix:t,fromCoordinateSystem:o,fromCoordinateOrigin:s}}(e),{geospatialOrigin:c,shaderCoordinateOrigin:l,offsetMode:d}=v9(t,i,r),h=s7(n,{viewport:t,modelMatrix:o,coordinateSystem:s,coordinateOrigin:a,offsetMode:d});d&&function pge(n,e,t){n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2]}(h,h,t.projectPosition(c||l));return h}(e,{viewport:this.internalState.viewport||this.context.viewport,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...t})}get isComposite(){return!1}setState(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return!!this.internalState&&!this.internalState.isAsyncPropLoading()}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){return this.state&&(this.state.models||this.state.model&&[this.state.model])||[]}setModuleParameters(e){for(const t of this.getModels())t.updateModuleSettings(e)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:e}=this.props;return e===Wi.DEFAULT||e===Wi.LNGLAT||e===Wi.CARTESIAN}onHover(e,t){return this.props.onHover&&this.props.onHover(e,t)||!1}onClick(e,t){return this.props.onClick&&this.props.onClick(e,t)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(e,t=[]){return t[0]=e+1&255,t[1]=e+1>>8&255,t[2]=e+1>>8>>8&255,t}decodePickingColor(e){Ds(e instanceof Uint8Array);const[t,i,r]=e;return t+256*i+65536*r-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:function C1e(n){if(!function A1e(n){return null!==n&&"object"==typeof n}(n))throw new Error("count(): argument not an object");if("function"==typeof n.count)return n.count();if(Number.isFinite(n.size))return n.size;if(Number.isFinite(n.length))return n.length;if(function S1e(n){return null!==n&&"object"==typeof n&&n.constructor===Object}(n))return Object.keys(n).length;throw new Error("count(): argument not a container")}(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var e;const t=this.getAttributeManager();if(!t)return null;const{positions:i,instancePositions:r}=t.attributes;return null===(e=i||r)||void 0===e?void 0:e.getBounds()}getShaders(e){for(const t of this.props.extensions)e=T1e(e,t.getShaders.call(this,t));return e}shouldUpdateState(e){return e.changeFlags.propsOrDataChanged}updateState(e){const t=this.getAttributeManager(),{dataChanged:i}=e.changeFlags;if(i&&t)if(Array.isArray(i))for(const c of i)t.invalidateAll(c);else t.invalidateAll();const{props:r,oldProps:o}=e,s=Number.isInteger(o.highlightedObjectIndex)||o.pickable,a=Number.isInteger(r.highlightedObjectIndex)||r.pickable;if(s!==a&&t){const{pickingColors:c,instancePickingColors:l}=t.attributes,d=c||l;d&&(a&&d.constant&&(d.constant=!1,t.invalidate(d.id)),!d.value&&!a&&(d.constant=!0,d.value=[0,0,0]))}}finalizeState(e){for(const i of this.getModels())i.delete();const t=this.getAttributeManager();t&&t.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(e){for(const t of this.getModels())t.draw(e)}getPickingInfo({info:e}){const{index:r}=e;return r>=0&&Array.isArray(this.props.data)&&(e.object=this.props.data[r]),e}raiseError(e,t){var i,r,o,s;t&&(e.message="".concat(t,": ").concat(e.message)),null!==(i=(r=this.props).onError)&&void 0!==i&&i.call(r,e)||null===(o=this.context)||void 0===o||null===(s=o.onError)||void 0===s||s.call(o,e,this)}getNeedsRedraw(e={clearRedrawFlags:!1}){return this._getNeedsRedraw(e)}needsUpdate(){return!!this.internalState&&(this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()))}hasUniformTransition(){var e;return(null===(e=this.internalState)||void 0===e?void 0:e.uniformTransitions.active)||!1}activateViewport(e){if(!this.internalState)return;const t=this.internalState.viewport;this.internalState.viewport=e,(!t||!Z1e({oldViewport:t,viewport:e}))&&(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(e="all"){const t=this.getAttributeManager();t&&("all"===e?t.invalidateAll():t.invalidate(e))}updateAttributes(e){for(const t of this.getModels())this._setModelAttributes(t,e)}_updateAttributes(){const e=this.getAttributeManager();if(!e)return;const t=this.props,i=this.getNumInstances(),r=this.getStartIndices();e.update({data:t.data,numInstances:i,startIndices:r,props:t,transitions:t.transitions,buffers:t.data.attributes,context:this});const o=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(o)}_updateAttributeTransition(){const e=this.getAttributeManager();e&&e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:e}=this.internalState;if(e.active){const t=e.update(),i=Object.create(this.props);for(const r in t)Object.defineProperty(i,r,{value:t[r]});return i}return this.props}calculateInstancePickingColors(e,{numInstances:t}){if(e.constant)return;const i=Math.floor(Ld.length/3);if(this.internalState.usesPickingColorCache=!0,i<t){t>16777215&&ki.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),Ld=A0.allocate(Ld,t,{size:3,copy:!0,maxCount:Math.max(t,16777215)});const r=Math.floor(Ld.length/3),o=[];for(let s=i;s<r;s++)this.encodePickingColor(s,o),Ld[3*s+0]=o[0],Ld[3*s+1]=o[1],Ld[3*s+2]=o[2]}e.value=Ld.subarray(0,3*t)}_setModelAttributes(e,t){const o=this.getAttributeManager().getShaderAttributes(t,e.userData.excludeAttributes||{});e.setAttributes(o)}disablePickingIndex(e){this._disablePickingIndex(e)}_disablePickingIndex(e){const{pickingColors:t,instancePickingColors:i}=this.getAttributeManager().attributes,r=t||i;if(!r)return;const o=r.getVertexOffset(e),s=r.getVertexOffset(e+1);r.buffer.subData({data:new Uint8Array(s-o),offset:o})}restorePickingColors(){const{pickingColors:e,instancePickingColors:t}=this.getAttributeManager().attributes,i=e||t;i&&(this.internalState.usesPickingColorCache&&i.value.buffer!==Ld.buffer&&(i.value=Ld.subarray(0,i.value.length)),i.updateSubBuffer({startOffset:0}))}_initialize(){Ds(!this.internalState),Ds(Number.isFinite(this.props.coordinateSystem)),sa("layer.initialize",this);const e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new $1e({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(ki.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e)}),this.internalState.layer=this,this.internalState.uniformTransitions=new m1e(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const t of this.props.extensions)t.initializeState.call(this,this.context,t);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(e){sa("layer.matched",this,this===e);const{state:t,internalState:i}=e;this!==e&&(this.internalState=i,this.internalState.layer=this,this.state=t,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const e=this.needsUpdate();if(sa("layer.update",this,e),!e)return;const t=this.props,i=this.context,r=this.internalState,o=i.viewport,s=this._updateUniformTransition();r.propsInTransition=s,i.viewport=r.viewport||o,this.props=s;try{const a=this._getUpdateParams(),c=this.getModels();if(i.gl)this.updateState(a);else try{this.updateState(a)}catch{}for(const d of this.props.extensions)d.updateState.call(this,a,d);const l=this.getModels()[0]!==c[0];this._postUpdate(a,l)}finally{i.viewport=o,this.props=t,this._clearChangeFlags(),r.needsUpdate=!1,r.resetOldProps()}}_finalize(){sa("layer.finalize",this),this.finalizeState(this.context);for(const e of this.props.extensions)e.finalizeState.call(this,e)}_drawLayer({moduleParameters:e=null,uniforms:t={},parameters:i={}}){this._updateAttributeTransition();const r=this.props,o=this.context;this.props=this.internalState.propsInTransition||r,t.opacity=Math.pow(this.props.opacity,1/2.2);try{e&&this.setModuleParameters(e);const{getPolygonOffset:a}=this.props,c=a&&a(t)||[0,0];Hu(o.gl,{polygonOffset:c}),Zc(o.gl,i,()=>{const l={moduleParameters:e,uniforms:t,parameters:i,context:o};for(const d of this.props.extensions)d.draw.call(this,l,d);this.draw(l)})}finally{this.props=r}}getChangeFlags(){var e;return null===(e=this.internalState)||void 0===e?void 0:e.changeFlags}setChangeFlags(e){if(!this.internalState)return;const{changeFlags:t}=this.internalState;for(const r in e)if(e[r]){let o=!1;if("dataChanged"===r){const s=e[r],a=t[r];s&&Array.isArray(a)&&(t.dataChanged=Array.isArray(s)?a.concat(s):s,o=!0)}t[r]||(t[r]=e[r],o=!0),o&&sa("layer.changeFlag",this,r,e)}const i=!!(t.dataChanged||t.updateTriggersChanged||t.propsChanged||t.extensionsChanged);t.propsOrDataChanged=i,t.somethingChanged=i||t.viewportChanged||t.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(e,t){const i=function _1e(n,e){const t=r7({newProps:n,oldProps:e,propTypes:Y2(n),ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),i=function b1e(n,e){if(null===e)return"oldProps is null, initial diff";let t=!1;const{dataComparator:i,_dataDiff:r}=n;return i?i(n.data,e.data)||(t="Data comparator detected a change"):n.data!==e.data&&(t="A new data container was supplied"),t&&r&&(t=r(n.data,e.data)||t),t}(n,e);let r=!1;return i||(r=function v1e(n,e){if(null===e)return{all:!0};if("all"in n.updateTriggers&&o7(n,e,"all"))return{all:!0};const t={};let i=!1;for(const r in n.updateTriggers)"all"!==r&&o7(n,e,r)&&(t[r]=!0,i=!0);return!!i&&t}(n,e)),{dataChanged:i,propsChanged:t,updateTriggersChanged:r,extensionsChanged:w1e(n,e),transitionsChanged:y1e(n,e)}}(e,t);if(i.updateTriggersChanged)for(const o in i.updateTriggersChanged)i.updateTriggersChanged[o]&&this.invalidateAttribute(o);if(i.transitionsChanged)for(const o in i.transitionsChanged){var r;this.internalState.uniformTransitions.add(o,t[o],e[o],null===(r=e.transitions)||void 0===r?void 0:r[o])}return this.setChangeFlags(i)}validateProps(){!function g1e(n){const e=Y2(n);for(const t in e){const i=e[t],{validate:r}=i;if(r&&!r(n[t],i))throw new Error("Invalid prop ".concat(t,": ").concat(n[t]))}}(this.props)}updateAutoHighlight(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}_updateAutoHighlight(e){const t={pickingSelectedColor:e.picked?e.color:null},{highlightColor:i}=this.props;e.picked&&"function"==typeof i&&(t.pickingHighlightColor=i(e)),this.setModuleParameters(t),this.setNeedsRedraw()}_getAttributeManager(){const e=this.context;return new d1e(e.gl,{id:this.props.id,stats:e.stats,timeline:e.timeline})}_postUpdate(e,t){const{props:i,oldProps:r}=e;this.setNeedsRedraw(),this._updateAttributes();const{model:o}=this.state;o?.setInstanceCount(this.getNumInstances());const{autoHighlight:s,highlightedObjectIndex:a,highlightColor:c}=i;if(t||r.autoHighlight!==s||r.highlightedObjectIndex!==a||r.highlightColor!==c){const l={};s||(l.pickingSelectedColor=null),Array.isArray(c)&&(l.pickingHighlightColor=c),(t||a!==r.highlightedObjectIndex)&&(l.pickingSelectedColor=Number.isFinite(a)&&a>=0?this.encodePickingColor(a):null),this.setModuleParameters(l)}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(e){if(!this.internalState)return!1;let t=!1;t=t||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags;const i=this.getAttributeManager(),r=!!i&&i.getNeedsRedraw(e);return t=t||r,t}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}we(Qp,"defaultProps",eSe),we(Qp,"layerName","Layer");class Z2 extends Qp{get isComposite(){return!0}get isLoaded(){return super.isLoaded&&this.getSubLayers().every(e=>e.isLoaded)}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(e){}setState(e){super.setState(e),this.setNeedsUpdate()}getPickingInfo({info:e}){const{object:t}=e;return t&&t.__source&&t.__source.parent&&t.__source.parent.id===this.id&&(e.object=t.__source.object,e.index=t.__source.index),e}filterSubLayer(e){return!0}shouldRenderSubLayer(e,t){return t&&t.length}getSubLayerClass(e,t){const{_subLayerProps:i}=this.props;return i&&i[e]&&i[e].type||t}getSubLayerRow(e,t,i){return e.__source={parent:this,object:t,index:i},e}getSubLayerAccessor(e){if("function"==typeof e){const t={index:-1,data:this.props.data,target:[]};return(i,r)=>i&&i.__source?(t.index=i.__source.index,e(i.__source.object,t)):e(i,r)}return e}getSubLayerProps(e={}){var t;const{opacity:i,pickable:r,visible:o,parameters:s,getPolygonOffset:a,highlightedObjectIndex:c,autoHighlight:l,highlightColor:d,coordinateSystem:h,coordinateOrigin:f,wrapLongitude:m,positionFormat:g,modelMatrix:v,extensions:C,fetch:B,operation:z,_subLayerProps:le}=this.props,se={id:"",updateTriggers:{},opacity:i,pickable:r,visible:o,parameters:s,getPolygonOffset:a,highlightedObjectIndex:c,autoHighlight:l,highlightColor:d,coordinateSystem:h,coordinateOrigin:f,wrapLongitude:m,positionFormat:g,modelMatrix:v,extensions:C,fetch:B,operation:z},ke=le&&e.id&&le[e.id],$e=ke&&ke.updateTriggers,dt=e.id||"sublayer";if(ke){const gt=this.constructor._propTypes,tt=e.type?e.type._propTypes:{};for(const bt in ke){const Rt=tt[bt]||gt[bt];Rt&&"accessor"===Rt.type&&(ke[bt]=this.getSubLayerAccessor(ke[bt]))}}Object.assign(se,e,ke),se.id="".concat(this.props.id,"-").concat(dt),se.updateTriggers={all:null===(t=this.props.updateTriggers)||void 0===t?void 0:t.all,...e.updateTriggers,...$e};for(const gt of C){const tt=gt.getSubLayerProps.call(this,gt);tt&&Object.assign(se,tt,{updateTriggers:Object.assign(se.updateTriggers,tt.updateTriggers)})}return se}_updateAutoHighlight(e){for(const t of this.getSubLayers())t.updateAutoHighlight(e)}_getAttributeManager(){return null}_postUpdate(e,t){let i=this.internalState.subLayers;const r=!i||this.needsUpdate();r&&(i=jk(this.renderLayers(),Boolean),this.internalState.subLayers=i),sa("compositeLayer.renderLayers",this,r,i);for(const o of i)o.parent=this}}we(Z2,"layerName","CompositeLayer");const tA={name:"project32",dependencies:[Nk],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  mat3 rotation;\n  if (project_needs_rotation(projectedPosition, rotation)) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"},nSe={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1},nA={inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    // for picking depth values\n    picking_setPickingAttribute(position.z / position.w);\n  ","vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  ","fs:#decl":"\nuniform bool picking_uAttribute;\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}},name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function iSe(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nSe;const e={};if(void 0!==n.pickingSelectedColor)if(n.pickingSelectedColor){const t=n.pickingSelectedColor.slice(0,3);e.picking_uSelectedColorValid=1,e.picking_uSelectedColor=t}else e.picking_uSelectedColorValid=0;if(n.pickingHighlightColor){const t=Array.from(n.pickingHighlightColor,i=>i/255);Number.isFinite(t[3])||(t[3]=1),e.picking_uHighlightColor=t}return void 0!==n.pickingActive&&(e.picking_uActive=!!n.pickingActive,e.picking_uAttribute=!!n.pickingAttribute),e}},d7={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};class vf{static get DRAW_MODE(){return d7}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=Ya("geometry"),drawMode:i=d7.TRIANGLES,attributes:r={},indices:o=null,vertexCount:s=null}=e;this.id=t,this.drawMode=0|i,this.attributes={},this.userData={},this._setAttributes(r,o),this.vertexCount=s||this._calculateVertexCount(this.attributes,this.indices)}get mode(){return this.drawMode}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(e){return"Geometry ".concat(this.id," attribute ").concat(e)}_setAttributes(e,t){t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t);for(const i in e){let r=e[i];r=ArrayBuffer.isView(r)?{value:r}:r,ln(ArrayBuffer.isView(r.value),"".concat(this._print(i),": must be typed array or object with value as typed array")),("POSITION"===i||"positions"===i)&&!r.size&&(r.size=3),"indices"===i?(ln(!this.indices),this.indices=r):this.attributes[i]=r}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}_calculateVertexCount(e,t){if(t)return t.value.length;let i=1/0;for(const r in e){const o=e[r],{value:s,size:a,constant:c}=o;!c&&s&&a>=1&&(i=Math.min(i,s.length/a))}return ln(Number.isFinite(i)),i}}const u7=()=>{},h7={10241:9987,10240:9729,10242:33071,10243:33071};function cSe(n){return Math.pow(2,Math.ceil(Math.log2(n)))}function lSe(n,e,t,i){return t===e.width&&i===e.height?e:(n.canvas.height=i,n.canvas.width=t,n.clearRect(0,0,n.canvas.width,n.canvas.height),n.drawImage(e,0,0,e.width,e.height,0,0,t,i),n.canvas)}function Q0(n){return n&&(n.id||n.url)}function f7(n,e,t){for(let i=0;i<e.length;i++){const{icon:r,xOffset:o}=e[i];n[Q0(r)]={...r,x:o,y:t}}}class fSe{constructor(e,{onUpdate:t=u7,onError:i=u7}){we(this,"gl",void 0),we(this,"onUpdate",void 0),we(this,"onError",void 0),we(this,"_loadOptions",null),we(this,"_texture",null),we(this,"_externalTexture",null),we(this,"_mapping",{}),we(this,"_textureParameters",null),we(this,"_pendingCount",0),we(this,"_autoPacking",!1),we(this,"_xOffset",0),we(this,"_yOffset",0),we(this,"_rowHeight",0),we(this,"_buffer",4),we(this,"_canvasWidth",1024),we(this,"_canvasHeight",0),we(this,"_canvas",null),this.gl=e,this.onUpdate=t,this.onError=i}finalize(){var e;null===(e=this._texture)||void 0===e||e.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping(e){const t=this._autoPacking?Q0(e):e;return this._mapping[t]||{}}setProps({loadOptions:e,autoPacking:t,iconAtlas:i,iconMapping:r,textureParameters:o}){var s;e&&(this._loadOptions=e),void 0!==t&&(this._autoPacking=t),r&&(this._mapping=r),i&&(null===(s=this._texture)||void 0===s||s.delete(),this._texture=null,this._externalTexture=i),o&&(this._textureParameters=o)}get isLoaded(){return 0===this._pendingCount}packIcons(e,t){if(!this._autoPacking||typeof document>"u")return;const i=Object.values(function hSe(n,e,t){if(!n||!e)return null;t=t||{};const i={},{iterable:r,objectInfo:o}=qS(n);for(const s of r){o.index++;const a=e(s,o),c=Q0(a);if(!a)throw new Error("Icon is missing.");if(!a.url)throw new Error("Icon url is missing.");!i[c]&&(!t[c]||a.url!==t[c].url)&&(i[c]={...a,source:s,sourceIndex:o.index})}return i}(e,t,this._mapping)||{});if(i.length>0){const{mapping:r,xOffset:o,yOffset:s,rowHeight:a,canvasHeight:c}=function uSe({icons:n,buffer:e,mapping:t={},xOffset:i=0,yOffset:r=0,rowHeight:o=0,canvasWidth:s}){let a=[];for(let c=0;c<n.length;c++){const l=n[c];if(!t[Q0(l)]){const{height:h,width:f}=l;i+f+e>s&&(f7(t,a,r),i=0,r=o+r+e,o=0,a=[]),a.push({icon:l,xOffset:i}),i=i+f+e,o=Math.max(o,h)}}return a.length>0&&f7(t,a,r),{mapping:t,rowHeight:o,xOffset:i,yOffset:r,canvasWidth:s,canvasHeight:cSe(o+r+e)}}({icons:i,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});this._rowHeight=a,this._mapping=r,this._xOffset=o,this._yOffset=s,this._canvasHeight=c,this._texture||(this._texture=new Os(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:this._textureParameters||h7})),this._texture.height!==this._canvasHeight&&(this._texture=function dSe(n,e,t,i){const r=n.width,o=n.height,s=new Os(n.gl,{width:e,height:t,parameters:i});return function Ybe(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{sourceX:i=0,sourceY:r=0,targetMipmaplevel:o=0,targetInternalFormat:s=6408}=t;let{targetX:a,targetY:c,targetZ:l,width:d,height:h}=t;const{framebuffer:f,deleteFramebuffer:m}=j0(n);ln(f);const{gl:g,handle:v}=f,C=typeof a<"u"||typeof c<"u"||typeof l<"u";a=a||0,c=c||0,l=l||0;const B=g.bindFramebuffer(36160,v);ln(e);let z=null;if(e instanceof Yp&&(z=e,d=Number.isFinite(d)?d:z.width,h=Number.isFinite(h)?h:z.height,z.bind(0),e=z.target),C)switch(e){case 3553:case 34067:g.copyTexSubImage2D(e,o,a,c,i,r,d,h);break;case 35866:case 32879:ra(g).copyTexSubImage3D(e,o,a,c,l,i,r,d,h)}else g.copyTexImage2D(e,o,s,i,r,d,h,0);z&&z.unbind(),g.bindFramebuffer(36160,B||null),m&&f.delete()}(n,s,{targetY:0,width:r,height:o}),n.delete(),s}(this._texture,this._canvasWidth,this._canvasHeight,this._textureParameters||h7)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(i)}}_loadIcons(e){const t=this._canvas.getContext("2d");for(const i of e)this._pendingCount++,W0(i.url,_W,this._loadOptions).then(r=>{const o=Q0(i),{x:s,y:a,width:c,height:l}=this._mapping[o],d=lSe(t,r,c,l);this._texture.setSubImageData({data:d,x:s,y:a,width:c,height:l}),this._texture.generateMipmap(),this.onUpdate()}).catch(r=>{this.onError({url:i.url,source:i.source,sourceIndex:i.sourceIndex,loadOptions:this._loadOptions,error:r})}).finally(()=>{this._pendingCount--})}}const p7=[0,0,0,255],pSe={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:n=>n.position},getIcon:{type:"accessor",value:n=>n.icon},getColor:{type:"accessor",value:p7},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,compare:!1,optional:!0}};class eN extends Qp{constructor(...e){super(...e),we(this,"state",void 0)}getShaders(){return super.getShaders({vs:'#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\nattribute vec2 instancePixelOffset;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform bool billboard;\nuniform int sizeUnits;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n\n  vec2 iconSize = instanceIconFrames.zw;\n  // convert size in meters to pixels, then scaled and clamp\n \n  // project meters to pixels and clamp to limits \n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits), \n    sizeMinPixels, sizeMaxPixels\n  );\n\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); \n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n\n  vColorMode = instanceColorModes;\n}\n',fs:"#define SHADER_NAME icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float alphaCutoff;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n\n  // if colorMode == 0, use pixel color from the texture\n  // if colorMode == 1 or rendering picking buffer, use texture as transparency mask\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  // Take the global opacity and the alpha from vColor into account for the alpha component\n  float a = texColor.a * opacity * vColor.a;\n\n  if (a < alphaCutoff) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[tA,nA]})}initializeState(){this.state={iconManager:new fSe(this.context.gl,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:p7},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState(e){super.updateState(e);const{props:t,oldProps:i,changeFlags:r}=e,o=this.getAttributeManager(),{iconAtlas:s,iconMapping:a,data:c,getIcon:l,textureParameters:d}=t,{iconManager:h}=this.state,f=s||this.internalState.isAsyncPropLoading("iconAtlas");if(h.setProps({loadOptions:t.loadOptions,autoPacking:!f,iconAtlas:s,iconMapping:f?a:null,textureParameters:d}),f?i.iconMapping!==t.iconMapping&&o.invalidate("getIcon"):(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getIcon))&&h.packIcons(c,l),r.extensionsChanged){var m;const{gl:g}=this.context;null===(m=this.state.model)||void 0===m||m.delete(),this.state.model=this._getModel(g),o.invalidateAll()}}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState(e){super.finalizeState(e),this.state.iconManager.finalize()}draw({uniforms:e}){const{sizeScale:t,sizeMinPixels:i,sizeMaxPixels:r,sizeUnits:o,billboard:s,alphaCutoff:a}=this.props,{iconManager:c}=this.state,l=c.getTexture();l&&this.state.model.setUniforms(e).setUniforms({iconsTexture:l,iconsTextureDim:[l.width,l.height],sizeUnits:ES[o],sizeScale:t,sizeMinPixels:i,sizeMaxPixels:r,billboard:s,alphaCutoff:a}).draw()}_getModel(e){return new z_(e,{...this.getShaders(),id:this.props.id,geometry:new vf({drawMode:6,attributes:{positions:{size:2,value:new Float32Array([-1,-1,-1,1,1,1,1,-1])}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError(e){var t;const i=null===(t=this.getCurrentLayer())||void 0===t?void 0:t.props.onIconError;i?i(e):ki.error(e.error.message)()}getInstanceOffset(e){const{width:t,height:i,anchorX:r=t/2,anchorY:o=i/2}=this.state.iconManager.getIconMapping(e);return[t/2-r,i/2-o]}getInstanceColorMode(e){return this.state.iconManager.getIconMapping(e).mask?1:0}getInstanceIconFrame(e){const{x:t,y:i,width:r,height:o}=this.state.iconManager.getIconMapping(e);return[t,i,r,o]}}we(eN,"defaultProps",pSe),we(eN,"layerName","IconLayer");const g7=[];class tN extends eN{constructor(...e){super(...e),we(this,"state",void 0)}getShaders(){return{...super.getShaders(),fs:"#define SHADER_NAME multi-icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float gamma;\nuniform bool sdf;\nuniform float alphaCutoff;\nuniform float buffer;\nuniform float outlineBuffer;\nuniform vec4 outlineColor;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  if (!picking_uActive) {\n    float alpha = texture2D(iconsTexture, vTextureCoords).a;\n    vec4 color = vColor;\n\n    // if enable sdf (signed distance fields)\n    if (sdf) {\n      float distance = alpha;\n      alpha = smoothstep(buffer - gamma, buffer + gamma, distance);\n\n      if (outlineBuffer > 0.0) {\n        float inFill = alpha;\n        float inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);\n        color = mix(outlineColor, vColor, inFill);\n        alpha = inBorder;\n      }\n    }\n\n    // Take the global opacity and the alpha from color into account for the alpha component\n    float a = alpha * color.a;\n    \n    if (a < alphaCutoff) {\n      discard;\n    }\n\n    gl_FragColor = vec4(color.rgb, a * opacity);\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n"}}initializeState(){super.initializeState(),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:5121,size:3,accessor:(t,{index:i,target:r})=>this.encodePickingColor(i,r)}})}updateState(e){super.updateState(e);const{props:t,oldProps:i}=e;let{outlineColor:r}=t;r!==i.outlineColor&&(r=r.map(o=>o/255),r[3]=Number.isFinite(r[3])?r[3]:1,this.setState({outlineColor:r})),!t.sdf&&t.outlineWidth&&ki.warn("".concat(this.id,": fontSettings.sdf is required to render outline"))()}draw(e){const{sdf:t,smoothing:i,outlineWidth:r}=this.props,{outlineColor:o}=this.state;e.uniforms={...e.uniforms,buffer:.75,outlineBuffer:r?Math.max(i,.75*(1-r)):-1,gamma:i,sdf:!!t,outlineColor:o},super.draw(e)}getInstanceOffset(e){return e?Array.from(e).flatMap(t=>super.getInstanceOffset(t)):g7}getInstanceColorMode(e){return 1}getInstanceIconFrame(e){return e?Array.from(e).flatMap(t=>super.getInstanceIconFrame(t)):g7}}we(tN,"defaultProps",{getIconOffsets:{type:"accessor",value:n=>n.offsets},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}}),we(tN,"layerName","MultiIconLayer");var _Se=S(822),ySe=S.n(_Se);const bSe=32,vSe=[];function wSe(n){return Math.pow(2,Math.ceil(Math.log2(n)))}function _7(n,e,t,i){let r=0;for(let s=e;s<t;s++){var o;r+=(null===(o=i[n[s]])||void 0===o?void 0:o.width)||0}return r}function y7(n,e,t,i,r,o){let s=e,a=0;for(let c=e;c<t;c++){const l=_7(n,c,c+1,r);a+l>i&&(s<c&&o.push(c),s=c,a=0),a+=l}return a}function CSe(n,e,t,i,r=0,o){void 0===o&&(o=n.length);const s=[];return"break-all"===e?y7(n,r,o,t,i,s):function ESe(n,e,t,i,r,o){let s=e,a=e,c=e,l=0;for(let d=e;d<t;d++)if((" "===n[d]||" "===n[d+1]||d+1===t)&&(c=d+1),c>a){let h=_7(n,a,c,r);l+h>i&&(s<a&&(o.push(a),s=a,l=0),h>i&&(h=y7(n,a,c,i,r,o),s=o[o.length-1])),a=c,l+=h}}(n,r,o,t,i,s),s}function SSe(n,e,t,i,r,o){let s=0,a=0;for(let c=e;c<t;c++){const l=n[c],d=i[l];d?(a||(a=d.height),r[c]=s+d.width/2,s+=d.width):(ki.warn("Missing character: ".concat(l," (").concat(l.codePointAt(0),")"))(),r[c]=s,s+=bSe)}o[0]=s,o[1]=a}function b7(n,e,t,i,r){const o=Array.from(n),s=o.length,a=new Array(s),c=new Array(s),l=new Array(s),d=("break-word"===t||"break-all"===t)&&isFinite(i)&&i>0,h=[0,0],f=[0,0];let m=0,g=0,v=0;for(let C=0;C<=s;C++){const B=o[C];if(("\n"===B||C===s)&&(v=C),v>g){const z=d?CSe(o,t,i,r,g,v):vSe;for(let le=0;le<=z.length;le++){const se=0===le?g:z[le-1],ke=le<z.length?z[le]:v;SSe(o,se,ke,r,a,f);for(let $e=se;$e<ke;$e++)c[$e]=m+f[1]/2,l[$e]=f[0];m+=f[1]*e,h[0]=Math.max(h[0],f[0])}g=v}"\n"===B&&(a[g]=0,c[g]=0,l[g]=0,g++)}return h[1]=m,{x:a,y:c,rowWidth:l,size:h}}class v7{constructor(e=5){we(this,"limit",void 0),we(this,"_cache",{}),we(this,"_order",[]),this.limit=e}get(e){const t=this._cache[e];return t&&(this._deleteOrder(e),this._appendOrder(e)),t}set(e,t){this._cache[e]?(this.delete(e),this._cache[e]=t,this._appendOrder(e)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[e]=t,this._appendOrder(e))}delete(e){this._cache[e]&&(delete this._cache[e],this._deleteOrder(e))}_deleteOrder(e){const t=this._order.indexOf(e);t>=0&&this._order.splice(t,1)}_appendOrder(e){this._order.push(e)}}const Z0={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:function TSe(){const n=[];for(let e=32;e<128;e++)n.push(String.fromCharCode(e));return n}(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1};let iA=new v7(3);function DSe(n,e){for(let t=0;t<n.length;t++)e.data[4*t+3]=n[t]}function C7(n,e,t,i){n.font="".concat(i," ").concat(t,"px ").concat(e),n.fillStyle="#000",n.textBaseline="alphabetic",n.textAlign="left"}class RSe{constructor(){we(this,"props",{...Z0}),we(this,"_key",void 0),we(this,"_atlas",void 0)}get texture(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){return 1.2}setProps(e={}){Object.assign(this.props,e);const t=this._key;this._key=this._getKey();const i=function ISe(n,e){let t;t="string"==typeof e?new Set(Array.from(e)):new Set(e);const i=iA.get(n);if(!i)return t;for(const r in i.mapping)t.has(r)&&t.delete(r);return t}(this._key,this.props.characterSet),r=iA.get(this._key);if(r&&0===i.size)return void(this._key!==t&&(this._atlas=r));const o=this._generateFontAtlas(this._key,i,r);this._atlas=o,iA.set(this._key,o)}_generateFontAtlas(e,t,i){const{fontFamily:r,fontWeight:o,fontSize:s,buffer:a,sdf:c,radius:l,cutoff:d}=this.props;let h=i&&i.data;h||(h=document.createElement("canvas"),h.width=1024);const f=h.getContext("2d");C7(f,r,s,o);const{mapping:m,canvasHeight:g,xOffset:v,yOffset:C}=function xSe({characterSet:n,getFontWidth:e,fontHeight:t,buffer:i,maxCanvasWidth:r,mapping:o={},xOffset:s=0,yOffset:a=0}){let c=0,l=s;for(const h of n)if(!o[h]){const f=e(h);l+f+2*i>r&&(l=0,c++),o[h]={x:l+i,y:a+c*(t+2*i)+i,width:f,height:t},l+=f+2*i}const d=t+2*i;return{mapping:o,xOffset:l,yOffset:a+c*d,canvasHeight:wSe(a+(c+1)*d)}}({getFontWidth:B=>f.measureText(B).width,fontHeight:1.2*s,buffer:a,characterSet:t,maxCanvasWidth:1024,...i&&{mapping:i.mapping,xOffset:i.xOffset,yOffset:i.yOffset}});if(h.height!==g){const B=f.getImageData(0,0,h.width,h.height);h.height=g,f.putImageData(B,0,0)}if(C7(f,r,s,o),c){const B=new(ySe())(s,a,l,d,r,o),z=f.getImageData(0,0,B.size,B.size);for(const le of t)DSe(B.draw(le),z),f.putImageData(z,m[le].x-a,m[le].y+a)}else for(const B of t)f.fillText(B,m[B].x,m[B].y+.9*s);return{xOffset:v,yOffset:C,mapping:m,data:h,width:h.width,height:h.height}}_getKey(){const{fontFamily:e,fontWeight:t,fontSize:i,buffer:r,sdf:o,radius:s,cutoff:a}=this.props;return o?"".concat(e," ").concat(t," ").concat(i," ").concat(r," ").concat(s," ").concat(a):"".concat(e," ").concat(t," ").concat(i," ").concat(r)}}const NSe={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:n=>n.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};class nN extends Qp{constructor(...e){super(...e),we(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME text-background-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec4 instanceRects;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec2 instancePixelOffsets;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform bool billboard;\nuniform float opacity;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform vec4 padding;\nuniform int sizeUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = radians(angle);\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n  vLineWidth = instanceLineWidths;\n\n  // convert size in meters to pixels, then scaled and clamp\n\n  // project meters to pixels and clamp to limits\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),\n    sizeMinPixels, sizeMaxPixels\n  );\n\n  dimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;\n\n  vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);\n  pixelOffset += instancePixelOffsets;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME text-background-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec2 pixelPosition = uv * dimensions;\n  if (stroked) {\n    float distToEdge = min(\n      min(pixelPosition.x, dimensions.x - pixelPosition.x),\n      min(pixelPosition.y, dimensions.y - pixelPosition.y)\n    );\n    float isBorder = smoothedge(distToEdge, vLineWidth);\n    gl_FragColor = mix(vFillColor, vLineColor, isBorder);\n  } else {\n    gl_FragColor = vFillColor;\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[tA,nA]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){super.updateState(e);const{changeFlags:t}=e;if(t.extensionsChanged){var i;const{gl:r}=this.context;null===(i=this.state.model)||void 0===i||i.delete(),this.state.model=this._getModel(r),this.getAttributeManager().invalidateAll()}}draw({uniforms:e}){const{billboard:t,sizeScale:i,sizeUnits:r,sizeMinPixels:o,sizeMaxPixels:s,getLineWidth:a}=this.props;let{padding:c}=this.props;c.length<4&&(c=[c[0],c[1],c[0],c[1]]),this.state.model.setUniforms(e).setUniforms({billboard:t,stroked:!!a,padding:c,sizeUnits:ES[r],sizeScale:i,sizeMinPixels:o,sizeMaxPixels:s}).draw()}_getModel(e){return new z_(e,{...this.getShaders(),id:this.props.id,geometry:new vf({drawMode:6,vertexCount:4,attributes:{positions:{size:2,value:new Float32Array([0,0,1,0,1,1,0,1])}}}),isInstanced:!0})}}we(nN,"defaultProps",NSe),we(nN,"layerName","TextBackgroundLayer");const S7={start:1,middle:0,end:-1},A7={top:1,center:0,bottom:-1},iN=[0,0,0,255],LSe={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:iN},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:Z0.characterSet},fontFamily:Z0.fontFamily,fontWeight:Z0.fontWeight,lineHeight:1,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:iN},fontSettings:{},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:n=>n.text},getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:iN},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};class rN extends Z2{constructor(...e){super(...e),we(this,"state",void 0),we(this,"getBoundingRect",(t,i)=>{const r=this.state.fontAtlasManager.mapping,o=this.state.getText,{wordBreak:s,maxWidth:a,lineHeight:c,getTextAnchor:l,getAlignmentBaseline:d}=this.props,h=o(t,i)||"",{size:[f,m]}=b7(h,c,s,a,r);return[(S7["function"==typeof l?l(t,i):l]-1)*f/2,(A7["function"==typeof d?d(t,i):d]-1)*m/2,f,m]}),we(this,"getIconOffsets",(t,i)=>{const r=this.state.fontAtlasManager.mapping,o=this.state.getText,{wordBreak:s,maxWidth:a,lineHeight:c,getTextAnchor:l,getAlignmentBaseline:d}=this.props,h=o(t,i)||"",{x:f,y:m,rowWidth:g,size:[v,C]}=b7(h,c,s,a,r),B=S7["function"==typeof l?l(t,i):l],z=A7["function"==typeof d?d(t,i):d],le=f.length,se=new Array(2*le);let ke=0;for(let $e=0;$e<le;$e++)se[ke++]=(B-1)*v/2+(1-B)*(v-g[$e])/2+f[$e],se[ke++]=(z-1)*C/2+m[$e];return se})}initializeState(){this.state={styleVersion:0,fontAtlasManager:new RSe}}updateState(e){const{props:t,oldProps:i,changeFlags:r}=e;(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getText))&&this._updateText(),(this._updateFontAtlas()||t.lineHeight!==i.lineHeight||t.wordBreak!==i.wordBreak||t.maxWidth!==i.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo({info:e}){return e.object=e.index>=0?this.props.data[e.index]:null,e}_updateFontAtlas(){const{fontSettings:e,fontFamily:t,fontWeight:i}=this.props,{fontAtlasManager:r,characterSet:o}=this.state,s={...e,characterSet:o,fontFamily:t,fontWeight:i};if(!r.mapping)return r.setProps(s),!0;for(const a in s)if(s[a]!==r.props[a])return r.setProps(s),!0;return!1}_updateText(){var e;const{data:t,characterSet:i}=this.props,r=null===(e=t.attributes)||void 0===e?void 0:e.getText;let a,{getText:o}=this.props,s=t.startIndices;const c="auto"===i&&new Set;if(r&&s){const{texts:l,characterCount:d}=function ASe({value:n,length:e,stride:t,offset:i,startIndices:r,characterSet:o}){const s=n.BYTES_PER_ELEMENT,a=t?t/s:1,c=i?i/s:0,l=r[e]||Math.ceil((n.length-c)/a),d=o&&new Set,h=new Array(e);let f=n;if(a>1||c>0){f=new(0,n.constructor)(l);for(let g=0;g<l;g++)f[g]=n[g*a+c]}for(let m=0;m<e;m++){const C=f.subarray(r[m],r[m+1]||l);h[m]=String.fromCodePoint.apply(null,C),d&&C.forEach(d.add,d)}if(d)for(const m of d)o.add(String.fromCodePoint(m));return{texts:h,characterCount:l}}({...ArrayBuffer.isView(r)?{value:r}:r,length:t.length,startIndices:s,characterSet:c});a=d,o=(h,{index:f})=>l[f]}else{const{iterable:l,objectInfo:d}=qS(t);s=[0],a=0;for(const h of l){d.index++;const f=Array.from(o(h,d)||"");c&&f.forEach(c.add,c),a+=f.length,s.push(a)}}this.setState({getText:o,startIndices:s,numInstances:a,characterSet:c||i})}renderLayers(){const{startIndices:e,numInstances:t,getText:i,fontAtlasManager:{scale:r,texture:o,mapping:s},styleVersion:a}=this.state,{data:c,_dataDiff:l,getPosition:d,getColor:h,getSize:f,getAngle:m,getPixelOffset:g,getBackgroundColor:v,getBorderColor:C,getBorderWidth:B,backgroundPadding:z,background:le,billboard:se,fontSettings:ke,outlineWidth:$e,outlineColor:dt,sizeScale:gt,sizeUnits:tt,sizeMinPixels:bt,sizeMaxPixels:Rt,transitions:Vt,updateTriggers:wt}=this.props,Tt=this.getSubLayerClass("characters",tN),Xt=this.getSubLayerClass("background",nN);return[le&&new Xt({getFillColor:v,getLineColor:C,getLineWidth:B,padding:z,getPosition:d,getSize:f,getAngle:m,getPixelOffset:g,billboard:se,sizeScale:gt/this.state.fontAtlasManager.props.fontSize,sizeUnits:tt,sizeMinPixels:bt,sizeMaxPixels:Rt,transitions:Vt&&{getPosition:Vt.getPosition,getAngle:Vt.getAngle,getSize:Vt.getSize,getFillColor:Vt.getBackgroundColor,getLineColor:Vt.getBorderColor,getLineWidth:Vt.getBorderWidth,getPixelOffset:Vt.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:wt.getPosition,getAngle:wt.getAngle,getSize:wt.getSize,getFillColor:wt.getBackgroundColor,getLineColor:wt.getBorderColor,getLineWidth:wt.getBorderWidth,getPixelOffset:wt.getPixelOffset,getBoundingRect:{getText:wt.getText,getTextAnchor:wt.getTextAnchor,getAlignmentBaseline:wt.getAlignmentBaseline,styleVersion:a}}}),{data:c.attributes&&c.attributes.background?{length:c.length,attributes:c.attributes.background}:c,_dataDiff:l,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new Tt({sdf:ke.sdf,smoothing:Number.isFinite(ke.smoothing)?ke.smoothing:Z0.smoothing,outlineWidth:$e,outlineColor:dt,iconAtlas:o,iconMapping:s,getPosition:d,getColor:h,getSize:f,getAngle:m,getPixelOffset:g,billboard:se,sizeScale:gt*r,sizeUnits:tt,sizeMinPixels:bt*r,sizeMaxPixels:Rt*r,transitions:Vt&&{getPosition:Vt.getPosition,getAngle:Vt.getAngle,getColor:Vt.getColor,getSize:Vt.getSize,getPixelOffset:Vt.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{getIcon:wt.getText,getPosition:wt.getPosition,getAngle:wt.getAngle,getColor:wt.getColor,getSize:wt.getSize,getPixelOffset:wt.getPixelOffset,getIconOffsets:{getText:wt.getText,getTextAnchor:wt.getTextAnchor,getAlignmentBaseline:wt.getAlignmentBaseline,styleVersion:a}}}),{data:c,_dataDiff:l,startIndices:e,numInstances:t,getIconOffsets:this.getIconOffsets,getIcon:i})]}static set fontAtlasCacheLimit(e){!function OSe(n){ki.assert(Number.isFinite(n)&&n>=3,"Invalid cache limit"),iA=new v7(n)}(e)}}we(rN,"defaultProps",LSe),we(rN,"layerName","TextLayer");const T7="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n",BSe={lightSources:{}};function oN(){let{color:n=[0,0,0],intensity:e=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.map(t=>t*e/255)}const sN={name:"lights",vs:T7,fs:T7,getUniforms:function M7(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:BSe;if("lightSources"in n){const{ambientLight:e,pointLights:t,directionalLights:i}=n.lightSources||{};return e||t&&t.length>0||i&&i.length>0?Object.assign({},function jSe(n){let{ambientLight:e,pointLights:t=[],directionalLights:i=[]}=n;const r={};return r["lighting_uAmbientLight.color"]=e?oN(e):[0,0,0],t.forEach((o,s)=>{r["lighting_uPointLight[".concat(s,"].color")]=oN(o),r["lighting_uPointLight[".concat(s,"].position")]=o.position,r["lighting_uPointLight[".concat(s,"].attenuation")]=o.attenuation||[1,0,0]}),r.lighting_uPointLightCount=t.length,i.forEach((o,s)=>{r["lighting_uDirectionalLight[".concat(s,"].color")]=oN(o),r["lighting_uDirectionalLight[".concat(s,"].direction")]=o.direction}),r.lighting_uDirectionalLightCount=i.length,r}({ambientLight:e,pointLights:t,directionalLights:i}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in n){const e={pointLights:[],directionalLights:[]};for(const t of n.lights||[])switch(t.type){case"ambient":e.ambientLight=t;break;case"directional":e.directionalLights.push(t);break;case"point":e.pointLights.push(t)}return M7({lightSources:e})}return{}},defines:{MAX_LIGHTS:3}},USe={};const zSe={name:"phong-lighting",dependencies:[sN],fs:"\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n",defines:{LIGHTING_FRAGMENT:1},getUniforms:function D7(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:USe;if(!("material"in n))return{};const{material:e}=n;return e?function VSe(n){const{ambient:e=.35,diffuse:t=.6,shininess:i=32,specularColor:r=[30,30,30]}=n;return{lighting_uAmbient:e,lighting_uDiffuse:t,lighting_uShininess:i,lighting_uSpecularColor:r.map(o=>o/255)}}(e):{lighting_uEnabled:!1}}},aN=Math.PI/180,rA=new Float32Array(16),O7=new Float32Array(12);function R7(n,e,t){const i=e[0]*aN,r=e[1]*aN,o=e[2]*aN,s=Math.sin(o),a=Math.sin(i),c=Math.sin(r),l=Math.cos(o),d=Math.cos(i),h=Math.cos(r),f=t[0],m=t[1],g=t[2];n[0]=f*h*d,n[1]=f*c*d,n[2]=f*-a,n[3]=m*(-c*l+h*a*s),n[4]=m*(h*l+c*a*s),n[5]=m*d*s,n[6]=g*(c*s+h*a*l),n[7]=g*(-h*s+c*a*l),n[8]=g*d*l}function P7(n){return n[0]=n[0],n[1]=n[1],n[2]=n[2],n[3]=n[4],n[4]=n[5],n[5]=n[6],n[6]=n[8],n[7]=n[9],n[8]=n[10],n[9]=n[12],n[10]=n[13],n[11]=n[14],n.subarray(0,12)}const k7={size:12,accessor:["getOrientation","getScale","getTranslation","getTransformMatrix"],shaderAttributes:{instanceModelMatrix__LOCATION_0:{size:3,elementOffset:0},instanceModelMatrix__LOCATION_1:{size:3,elementOffset:3},instanceModelMatrix__LOCATION_2:{size:3,elementOffset:6},instanceTranslation:{size:3,elementOffset:9}},update(n,{startRow:e,endRow:t}){const{data:i,getOrientation:r,getScale:o,getTranslation:s,getTransformMatrix:a}=this.props,c=Array.isArray(a),l=c&&16===a.length,d=Array.isArray(o),h=Array.isArray(r),f=Array.isArray(s),m=l||!c&&!!a(i[0]);n.constant=m?l:h&&d&&f;const g=n.value;if(n.constant){let v;m?(rA.set(a),v=P7(rA)):(v=O7,R7(v,r,o),v.set(s,9)),n.value=new Float32Array(v)}else{let v=e*n.size;const{iterable:C,objectInfo:B}=qS(i,e,t);for(const z of C){let le;B.index++,m?(rA.set(l?a:a(z,B)),le=P7(rA)):(le=O7,R7(le,h?r:r(z,B),d?o:o(z,B)),le.set(f?s:s(z,B),9)),g[v++]=le[0],g[v++]=le[1],g[v++]=le[2],g[v++]=le[3],g[v++]=le[4],g[v++]=le[5],g[v++]=le[6],g[v++]=le[7],g[v++]=le[8],g[v++]=le[9],g[v++]=le[10],g[v++]=le[11]}}}};function N7(n,e){return e===Wi.CARTESIAN||e===Wi.METER_OFFSETS||e===Wi.DEFAULT&&!n.isGeospatial}function F7(n,e){(n.COLOR_0||n.colors)&&e||(n.colors={constant:!0,value:new Float32Array([1,1,1])}),ki.assert(n.positions||n.POSITION,'no "postions" or "POSITION" attribute in mesh')}function WSe(n,e){if(n.attributes)return F7(n.attributes,e),n instanceof vf?n:new vf(n);if(n.positions||n.POSITION)return F7(n,e),new vf({attributes:n});throw Error("Invalid mesh")}class cN extends Qp{constructor(...e){super(...e),we(this,"state",void 0)}getShaders(){const e=!Si(this.context.gl),t={};return Dk(this.context.gl,"GLSL_DERIVATIVES")&&(t.DERIVATIVES_AVAILABLE=1),super.getShaders({vs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\n\n// Scale the model\nuniform float sizeScale;\nuniform bool composeModelMatrix;\n\n// Primitive attributes\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\n\n// Instance attributes\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\n\n// Outputs to fragment shader\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = instancePickingColors;\n\n  vTexCoord = texCoords;\n  cameraPosition = project_uCameraPosition;\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale + instanceTranslation;\n\n  if (composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    // using instancePositions as world coordinates\n    // when using globe mode, this branch does not re-orient the model to align with the surface of the earth\n    // call project_normal before setting position to avoid rotation\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), position_commonspace);\n    geometry.position = position_commonspace;\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, position_commonspace);\n    geometry.position = position_commonspace;\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n  }\n\n  geometry.normal = normals_commonspace;\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n\n// NOTE(Tarek): This is necessary because\n// headless.gl reports the extension as\n// available but does not support it in\n// the shader.\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[tA,zSe,nA],transpileToGLSL100:e,defines:t})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{transition:!0,type:5130,fp64:this.use64bitPositions(),size:3,accessor:"getPosition"},instanceColors:{type:5121,transition:!0,size:this.props.colorFormat.length,normalized:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceModelMatrix:k7}),this.setState({emptyTexture:new Os(this.context.gl,{data:new Uint8Array(4),width:1,height:1})})}updateState(e){super.updateState(e);const{props:t,oldProps:i,changeFlags:r}=e;if(t.mesh!==i.mesh||r.extensionsChanged){var o;if(null===(o=this.state.model)||void 0===o||o.delete(),t.mesh){this.state.model=this.getModel(t.mesh);const s=t.mesh.attributes||t.mesh;this.setState({hasNormals:!(!s.NORMAL&&!s.normals)})}this.getAttributeManager().invalidateAll()}t.texture!==i.texture&&this.setTexture(t.texture),this.state.model&&this.state.model.setDrawMode(this.props.wireframe?3:4)}finalizeState(e){super.finalizeState(e),this.state.emptyTexture.delete()}draw({uniforms:e}){if(!this.state.model)return;const{viewport:t}=this.context,{sizeScale:i,coordinateSystem:r,_instanced:o}=this.props;this.state.model.setUniforms(e).setUniforms({sizeScale:i,composeModelMatrix:!o||N7(t,r),flatShading:!this.state.hasNormals}).draw()}getModel(e){const t=new z_(this.context.gl,{...this.getShaders(),id:this.props.id,geometry:WSe(e,this.props._useMeshColors),isInstanced:!0}),{texture:i}=this.props,{emptyTexture:r}=this.state;return t.setUniforms({sampler:i||r,hasTexture:!!i}),t}setTexture(e){const{emptyTexture:t,model:i}=this.state;i&&i.setUniforms({sampler:e||t,hasTexture:!!e})}}we(cN,"defaultProps",{mesh:{type:"object",value:null,async:!0},texture:{type:"image",value:null,async:!0},sizeScale:{type:"number",value:1,min:0},_useMeshColors:{type:"boolean",value:!1},_instanced:!0,wireframe:!1,material:!0,getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:[0,0,0,255]},getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]}}),we(cN,"layerName","SimpleMeshLayer");const L7={name:"pbr",vs:"uniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 pbr_vPosition;\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n# ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n# else\nvarying vec3 pbr_vNormal;\n# endif\n#endif\n\nvoid pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)\n{\n  vec4 pos = u_ModelMatrix * position;\n  pbr_vPosition = vec3(pos.xyz) / pos.w;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;\n  pbr_vTBN = mat3(tangentW, bitangentW, normalW);\n#else\n  pbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));\n#endif\n#endif\n\n#ifdef HAS_UV\n  pbr_vUV = uv;\n#else\n  pbr_vUV = vec2(0.,0.);\n#endif\n}\n",fs:"#if defined(USE_TEX_LOD) && !defined(FEATURE_GLSL_TEXTURE_LOD)\n# error PBR fragment shader: Texture LOD is not available\n#endif\n\n#if !defined(HAS_TANGENTS) && !defined(FEATURE_GLSL_DERIVATIVES)\n# error PBR fragment shader: Derivatives are not available\n#endif\n\n\n#if (__VERSION__ < 300)\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL1COND; INCR)\n#else\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL2COND; INCR)\n#endif\n\nprecision highp float;\n\nuniform bool pbr_uUnlit;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\nuniform vec2 u_ScaleIBLAmbient;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\n#ifdef ALPHA_CUTOFF\nuniform float u_AlphaCutoff;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n#ifdef PBR_DEBUG\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\n#endif\n\nvarying vec3 pbr_vPosition;\n\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n#else\nvarying vec3 pbr_vNormal;\n#endif\n#endif\n\n\nstruct PBRInfo\n{\n  float NdotL;\n  float NdotV;\n  float NdotH;\n  float LdotH;\n  float VdotH;\n  float perceptualRoughness;\n  float metalness;\n  vec3 reflectance0;\n  vec3 reflectance90;\n  float alphaRoughness;\n  vec3 diffuseColor;\n  vec3 specularColor;\n  vec3 n;\n  vec3 v;\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n#ifdef MANUAL_SRGB\n#ifdef SRGB_FAST_APPROXIMATION\n  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n#else\n  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n#endif\n  return vec4(linOut,srgbIn.w);;\n#else\n  return srgbIn;\n#endif\n}\n\nvec3 getNormal()\n{\n#ifndef HAS_TANGENTS\n  vec3 pos_dx = dFdx(pbr_vPosition);\n  vec3 pos_dy = dFdy(pbr_vPosition);\n  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));\n  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));\n  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n  vec3 ng = normalize(pbr_vNormal);\n#else\n  vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n  t = normalize(t - ng * dot(ng, t));\n  vec3 b = normalize(cross(ng, t));\n  mat3 tbn = mat3(t, b, ng);\n#else\n  mat3 tbn = pbr_vTBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n  vec3 n = texture2D(u_NormalSampler, pbr_vUV).rgb;\n  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n  vec3 n = normalize(tbn[2].xyz);\n#endif\n\n  return n;\n}\n\n\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n  float mipCount = 9.0;\n  float lod = (pbrInputs.perceptualRoughness * mipCount);\n  vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT,\n    vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n  vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n\n#ifdef USE_TEX_LOD\n  vec3 specularLight = SRGBtoLINEAR(textureCubeLod(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n  vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n  vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n  vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n  diffuse *= u_ScaleIBLAmbient.x;\n  specular *= u_ScaleIBLAmbient.y;\n\n  return diffuse + specular;\n}\n#endif\n\n\nvec3 diffuse(PBRInfo pbrInputs)\n{\n  return pbrInputs.diffuseColor / M_PI;\n}\n\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n  return pbrInputs.reflectance0 +\n    (pbrInputs.reflectance90 - pbrInputs.reflectance0) *\n    pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n\n\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n  float NdotL = pbrInputs.NdotL;\n  float NdotV = pbrInputs.NdotV;\n  float r = pbrInputs.alphaRoughness;\n\n  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n  return attenuationL * attenuationV;\n}\n\n\n\n\n\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n  float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n  float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n  return roughnessSq / (M_PI * f * f);\n}\n\nvoid PBRInfo_setAmbientLight(inout PBRInfo pbrInputs) {\n  pbrInputs.NdotL = 1.0;\n  pbrInputs.NdotH = 0.0;\n  pbrInputs.LdotH = 0.0;\n  pbrInputs.VdotH = 1.0;\n}\n\nvoid PBRInfo_setDirectionalLight(inout PBRInfo pbrInputs, vec3 lightDirection) {\n  vec3 n = pbrInputs.n;\n  vec3 v = pbrInputs.v;\n  vec3 l = normalize(lightDirection);\n  vec3 h = normalize(l+v);\n\n  pbrInputs.NdotL = clamp(dot(n, l), 0.001, 1.0);\n  pbrInputs.NdotH = clamp(dot(n, h), 0.0, 1.0);\n  pbrInputs.LdotH = clamp(dot(l, h), 0.0, 1.0);\n  pbrInputs.VdotH = clamp(dot(v, h), 0.0, 1.0);\n}\n\nvoid PBRInfo_setPointLight(inout PBRInfo pbrInputs, PointLight pointLight) {\n  vec3 light_direction = normalize(pointLight.position - pbr_vPosition);\n  PBRInfo_setDirectionalLight(pbrInputs, light_direction);\n}\n\nvec3 calculateFinalColor(PBRInfo pbrInputs, vec3 lightColor) {\n  vec3 F = specularReflection(pbrInputs);\n  float G = geometricOcclusion(pbrInputs);\n  float D = microfacetDistribution(pbrInputs);\n  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n  vec3 specContrib = F * G * D / (4.0 * pbrInputs.NdotL * pbrInputs.NdotV);\n  return pbrInputs.NdotL * lightColor * (diffuseContrib + specContrib);\n}\n\nvec4 pbr_filterColor(vec4 colorUnused)\n{\n#ifdef HAS_BASECOLORMAP\n  vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;\n#else\n  vec4 baseColor = u_BaseColorFactor;\n#endif\n\n#ifdef ALPHA_CUTOFF\n  if (baseColor.a < u_AlphaCutoff) {\n    discard;\n  }\n#endif\n\n  vec3 color = vec3(0, 0, 0);\n\n  if(pbr_uUnlit){\n    color.rgb = baseColor.rgb;\n  }\n  else{\n\n\n    float perceptualRoughness = u_MetallicRoughnessValues.y;\n    float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n\n    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, pbr_vUV);\n    perceptualRoughness = mrSample.g * perceptualRoughness;\n    metallic = mrSample.b * metallic;\n#endif\n    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    vec3 f0 = vec3(0.04);\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n    diffuseColor *= 1.0 - metallic;\n    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n\n\n    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n    vec3 n = getNormal();\n    vec3 v = normalize(u_Camera - pbr_vPosition);\n\n    float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\n    vec3 reflection = -normalize(reflect(v, n));\n\n    PBRInfo pbrInputs = PBRInfo(\n      0.0,\n      NdotV,\n      0.0,\n      0.0,\n      0.0,\n      perceptualRoughness,\n      metallic,\n      specularEnvironmentR0,\n      specularEnvironmentR90,\n      alphaRoughness,\n      diffuseColor,\n      specularColor,\n      n,\n      v\n    );\n\n#ifdef USE_LIGHTS\n    PBRInfo_setAmbientLight(pbrInputs);\n    color += calculateFinalColor(pbrInputs, lighting_uAmbientLight.color);\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uDirectionalLightCount, i++) {\n      if (i < lighting_uDirectionalLightCount) {\n        PBRInfo_setDirectionalLight(pbrInputs, lighting_uDirectionalLight[i].direction);\n        color += calculateFinalColor(pbrInputs, lighting_uDirectionalLight[i].color);\n      }\n    }\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uPointLightCount, i++) {\n      if (i < lighting_uPointLightCount) {\n        PBRInfo_setPointLight(pbrInputs, lighting_uPointLight[i]);\n        float attenuation = getPointLightAttenuation(lighting_uPointLight[i], distance(lighting_uPointLight[i].position, pbr_vPosition));\n        color += calculateFinalColor(pbrInputs, lighting_uPointLight[i].color / attenuation);\n      }\n    }\n#endif\n#ifdef USE_IBL\n    color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n#ifdef HAS_OCCLUSIONMAP\n    float ao = texture2D(u_OcclusionSampler, pbr_vUV).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;\n    color += emissive;\n#endif\n\n#ifdef PBR_DEBUG\n\n\n\n\n\n    color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n    color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n    color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n#endif\n\n  }\n\n  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n",defines:{LIGHTING_FRAGMENT:1},dependencies:[sN]};class H_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t}=e;this.id=t||Ya(this.constructor.name),this.display=!0,this.position=new ia,this.rotation=new ia,this.scale=new ia(1,1,1),this.matrix=new Lt,this.userData={},this.props={},this._setScenegraphNodeProps(e)}delete(){}setProps(e){return this._setScenegraphNodeProps(e),this}toString(){return"{type: ScenegraphNode, id: ".concat(this.id,")}")}getBounds(){return null}setPosition(e){return ln(3===e.length,"setPosition requires vector argument"),this.position=e,this}setRotation(e){return ln(3===e.length,"setRotation requires vector argument"),this.rotation=e,this}setScale(e){return ln(3===e.length,"setScale requires vector argument"),this.scale=e,this}setMatrix(e){arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?this.matrix=e:this.matrix.copy(e)}setMatrixComponents(e){let{position:t,rotation:i,scale:r,update:o=!0}=e;return t&&this.setPosition(t),i&&this.setRotation(i),r&&this.setScale(r),o&&this.updateMatrix(),this}updateMatrix(){const e=this.position,t=this.rotation,i=this.scale;return this.matrix.identity(),this.matrix.translate(e),this.matrix.rotateXYZ(t),this.matrix.scale(i),this}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{position:t,rotation:i,scale:r}=e;return t&&this.setPosition(t),i&&this.setRotation(i),r&&this.setScale(r),this.updateMatrix(),this}getCoordinateUniforms(e,t){ln(e),t=t||this.matrix;const i=new Lt(e).multiplyRight(t),r=i.invert(),o=r.transpose();return{viewMatrix:e,modelMatrix:t,objectMatrix:t,worldMatrix:i,worldInverseMatrix:r,worldInverseTransposeMatrix:o}}_setScenegraphNodeProps(e){"display"in e&&(this.display=e.display),"position"in e&&this.setPosition(e.position),"rotation"in e&&this.setRotation(e.rotation),"scale"in e&&this.setScale(e.scale),"matrix"in e&&this.setMatrix(e.matrix),Object.assign(this.props,e)}}class ew extends H_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Array.isArray(e)?{children:e}:e;const{children:t=[]}=e;Dn.assert(t.every(i=>i instanceof H_),"every child must an instance of ScenegraphNode"),super(e),this.children=t}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const r of t)Array.isArray(r)?this.add(...r):this.children.push(r);return this}remove(e){const t=this.children,i=t.indexOf(e);return i>-1&&t.splice(i,1),this}removeAll(){return this.children=[],this}delete(){this.children.forEach(e=>e.delete()),this.removeAll(),super.delete()}getBounds(){const e=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];return this.traverse((t,i)=>{let{worldMatrix:r}=i;const o=t.getBounds();if(!o)return;const[s,a]=o,c=new ia(s).add(a).divide([2,2,2]);r.transformAsPoint(c,c);const l=new ia(a).subtract(s).divide([2,2,2]);r.transformAsVector(l,l);for(let d=0;d<8;d++){const h=new ia(1&d?-1:1,2&d?-1:1,4&d?-1:1).multiply(l).add(c);for(let f=0;f<3;f++)e[0][f]=Math.min(e[0][f],h[f]),e[1][f]=Math.max(e[1][f],h[f])}}),Number.isFinite(e[0][0])?e:null}traverse(e){let{worldMatrix:t=new Lt}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new Lt(t).multiplyRight(this.matrix);for(const r of this.children)r instanceof ew?r.traverse(e,{worldMatrix:i}):e(r,{worldMatrix:i})}}let oA;class lN extends IG{static get ZERO(){return oA||(oA=new lN(0,0,0,0),Object.freeze(oA)),oA}constructor(e=0,t=0,i=0,r=0){super(-0,-0,-0,-0),Uu(e)&&1===arguments.length?this.copy(e):(Do.debug&&(Rr(e),Rr(t),Rr(i),Rr(r)),this[0]=e,this[1]=t,this[2]=i,this[3]=r)}set(e,t,i,r){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}fromObject(e){return Do.debug&&(Rr(e.x),Rr(e.y),Rr(e.z),Rr(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}get ELEMENTS(){return 4}get z(){return this[2]}set z(e){this[2]=Rr(e)}get w(){return this[3]}set w(e){this[3]=Rr(e)}transform(e){return VP(this,this,e),this.check()}transformByMatrix3(e){return function Tge(n,e,t){const i=e[0],r=e[1],o=e[2];n[0]=t[0]*i+t[3]*r+t[6]*o,n[1]=t[1]*i+t[4]*r+t[7]*o,n[2]=t[2]*i+t[5]*r+t[8]*o,n[3]=e[3]}(this,this,e),this.check()}transformByMatrix2(e){return function Age(n,e,t){const i=e[0],r=e[1];n[0]=t[0]*i+t[2]*r,n[1]=t[1]*i+t[3]*r,n[2]=e[2],n[3]=e[3]}(this,this,e),this.check()}transformByQuaternion(e){return PG(this,this,e),this.check()}applyMatrix4(e){return e.transform(this,this),this}}function B7(){var n=new Xa(4);return Xa!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n[3]=1,n}function j7(n,e,t){t*=.5;var i=Math.sin(t);return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=Math.cos(t),n}function U7(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=t[0],c=t[1],l=t[2],d=t[3];return n[0]=i*d+s*a+r*l-o*c,n[1]=r*d+s*c+o*a-i*l,n[2]=o*d+s*l+i*c-r*a,n[3]=s*d-i*a-r*c-o*l,n}var z7=UG,aAe=function(){var n=DG(),e=OG(1,0,0),t=OG(0,1,0);return function(i,r,o){var s=RG(r,o);return s<-.999999?(fS(n,e,r),function fge(n){return Math.hypot(n[0],n[1],n[2])}(n)<1e-6&&fS(n,t,r),function gge(n,e){var t=e[0],i=e[1],r=e[2],o=t*t+i*i+r*r;o>0&&(o=1/Math.sqrt(o)),n[0]=e[0]*o,n[1]=e[1]*o,n[2]=e[2]*o}(n,n),j7(i,n,Math.PI),i):s>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(fS(n,r,o),i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=1+s,function i_e(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t*t+i*i+r*r+o*o;return s>0&&(s=1/Math.sqrt(s)),n[0]=t*s,n[1]=i*s,n[2]=r*s,n[3]=o*s,n}(i,i))}}();B7(),B7(),function XSe(){var n=new Xa(9);Xa!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1}();const cAe=[0,0,0,1],dAe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},uAe={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function W7(n){if(!n._animation){const e=uAe[n.componentType],t=dAe[n.type],i=t*n.count,{buffer:r,byteOffset:o}=n.bufferView.data,s=new e(r,o+(n.byteOffset||0),i);if(1===t)n._animation=Array.from(s);else{const a=[];for(let c=0;c<s.length;c+=t)a.push(Array.from(s.slice(c,c+t)));n._animation=a}}return n._animation}const hAe=new Lt,dN=new class lAe extends UP{constructor(e=0,t=0,i=0,r=1){super(-0,-0,-0,-0),Array.isArray(e)&&1===arguments.length?this.copy(e):this.set(e,t,i,r)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}set(e,t,i,r){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this.check()}fromObject(e){return this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this.check()}fromMatrix3(e){return function V7(n,e){var i,t=e[0]+e[4]+e[8];if(t>0)i=Math.sqrt(t+1),n[3]=.5*i,n[0]=(e[5]-e[7])*(i=.5/i),n[1]=(e[6]-e[2])*i,n[2]=(e[1]-e[3])*i;else{var r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);var o=(r+1)%3,s=(r+2)%3;i=Math.sqrt(e[3*r+r]-e[3*o+o]-e[3*s+s]+1),n[r]=.5*i,n[3]=(e[3*o+s]-e[3*s+o])*(i=.5/i),n[o]=(e[3*o+r]+e[3*r+o])*i,n[s]=(e[3*s+r]+e[3*r+s])*i}return n}(this,e),this.check()}fromAxisRotation(e,t){return j7(this,e,t),this.check()}identity(){return function YSe(n){n[0]=0,n[1]=0,n[2]=0,n[3]=1}(this),this.check()}setAxisAngle(e,t){return this.fromAxisRotation(e,t)}get ELEMENTS(){return 4}get x(){return this[0]}set x(e){this[0]=Rr(e)}get y(){return this[1]}set y(e){this[1]=Rr(e)}get z(){return this[2]}set z(e){this[2]=Rr(e)}get w(){return this[3]}set w(e){this[3]=Rr(e)}len(){return function t_e(n){return Math.hypot(n[0],n[1],n[2],n[3])}(this)}lengthSquared(){return function n_e(n){var e=n[0],t=n[1],i=n[2],r=n[3];return e*e+t*t+i*i+r*r}(this)}dot(e){return function r_e(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}(this,e)}rotationTo(e,t){return aAe(this,e,t),this.check()}add(e){return function e_e(n,e,t){n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3]}(this,this,e),this.check()}calculateW(){return function QSe(n,e){var t=e[0],i=e[1],r=e[2];n[0]=t,n[1]=i,n[2]=r,n[3]=Math.sqrt(Math.abs(1-t*t-i*i-r*r))}(this,this),this.check()}conjugate(){return function nAe(n,e){n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3]}(this,this),this.check()}invert(){return function tAe(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t*t+i*i+r*r+o*o,a=s?1/s:0;n[0]=-t*a,n[1]=-i*a,n[2]=-r*a,n[3]=o*a}(this,this),this.check()}lerp(e,t,i){return void 0===i?this.lerp(this,e,t):(function o_e(n,e,t,i){var r=e[0],o=e[1],s=e[2],a=e[3];n[0]=r+i*(t[0]-r),n[1]=o+i*(t[1]-o),n[2]=s+i*(t[2]-s),n[3]=a+i*(t[3]-a)}(this,e,t,i),this.check())}multiplyRight(e){return U7(this,this,e),this.check()}multiplyLeft(e){return U7(this,e,this),this.check()}normalize(){const e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}rotateX(e){return function qSe(n,e,t){t*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),c=Math.cos(t);n[0]=i*c+s*a,n[1]=r*c+o*a,n[2]=o*c-r*a,n[3]=s*c-i*a}(this,this,e),this.check()}rotateY(e){return function KSe(n,e,t){t*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),c=Math.cos(t);n[0]=i*c-o*a,n[1]=r*c+s*a,n[2]=o*c+i*a,n[3]=s*c-r*a}(this,this,e),this.check()}rotateZ(e){return function JSe(n,e,t){t*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),c=Math.cos(t);n[0]=i*c+r*a,n[1]=r*c-i*a,n[2]=o*c+s*a,n[3]=s*c-o*a}(this,this,e),this.check()}scale(e){return z7(this,this,e),this.check()}slerp(e,t,i){let r,o,s;switch(arguments.length){case 1:({start:r=cAe,target:o,ratio:s}=e);break;case 2:r=this,o=e,s=t;break;default:r=e,o=t,s=i}return function sA(n,e,t,i){var f,m,g,v,C,r=e[0],o=e[1],s=e[2],a=e[3],c=t[0],l=t[1],d=t[2],h=t[3];return(m=r*c+o*l+s*d+a*h)<0&&(m=-m,c=-c,l=-l,d=-d,h=-h),1-m>Td?(f=Math.acos(m),g=Math.sin(f),v=Math.sin((1-i)*f)/g,C=Math.sin(i*f)/g):(v=1-i,C=i),n[0]=v*r+C*c,n[1]=v*o+C*l,n[2]=v*s+C*d,n[3]=v*a+C*h,n}(this,r,o,s),this.check()}transformVector4(e,t=new lN){return function s_e(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],c=t[2],l=t[3],d=l*i+a*o-c*r,h=l*r+c*i-s*o,f=l*o+s*r-a*i,m=-s*i-a*r-c*o;n[0]=d*l+m*-s+h*-c-f*-a,n[1]=h*l+m*-a+f*-s-d*-c,n[2]=f*l+m*-c+d*-a-h*-s,n[3]=e[3]}(t,e,this),hS(t,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(e,t){return this.setAxisAngle(e,t)}premultiply(e){return this.multiplyLeft(e)}multiply(e){return this.multiplyRight(e)}};class yAe{constructor(e){this.startTime=0,this.playing=!0,this.speed=1,this.channels=[],Object.assign(this,e)}animate(e){if(!this.playing)return;const i=(e/1e3-this.startTime)*this.speed;this.channels.forEach(r=>{let{sampler:o,target:s,path:a}=r;(function _Ae(n,e,t,i){let{input:r,interpolation:o,output:s}=e;const c=n%r[r.length-1],l=r.findIndex(m=>m>=c),d=Math.max(0,l-1);if(!Array.isArray(t[i]))switch(i){case"translation":t[i]=[0,0,0];break;case"rotation":t[i]=[0,0,0,1];break;case"scale":t[i]=[1,1,1];break;default:Dn.warn("Bad animation path ".concat(i))()}ln(t[i].length===s[d].length);const h=r[d],f=r[l];switch(o){case"STEP":!function gAe(n,e,t){for(let i=0;i<t.length;i++)n[e][i]=t[i]}(t,i,s[d]);break;case"LINEAR":f>h&&function pAe(n,e,t,i,r){if("rotation"===e){dN.slerp({start:t,target:i,ratio:r});for(let o=0;o<dN.length;o++)n[e][o]=dN[o]}else for(let o=0;o<t.length;o++)n[e][o]=r*i[o]+(1-r)*t[o]}(t,i,s[d],s[l],(c-h)/(f-h));break;case"CUBICSPLINE":f>h&&function mAe(n,e,t){let{p0:i,outTangent0:r,inTangent1:o,p1:s,tDiff:a,ratio:c}=t;for(let l=0;l<n[e].length;l++){const d=r[l]*a,h=o[l]*a;n[e][l]=(2*Math.pow(c,3)-3*Math.pow(c,2)+1)*i[l]+(Math.pow(c,3)-2*Math.pow(c,2)+c)*d+(-2*Math.pow(c,3)+3*Math.pow(c,2))*s[l]+(Math.pow(c,3)-Math.pow(c,2))*h}}(t,i,{p0:s[3*d+1],outTangent0:s[3*d+2],inTangent1:s[3*l+0],p1:s[3*l+1],tDiff:f-h,ratio:(c-h)/(f-h)});break;default:Dn.warn("Interpolation ".concat(o," not supported"))()}})(i,o,s,a),function fAe(n,e){if(e.matrix.identity(),n.translation&&e.matrix.translate(n.translation),n.rotation){const t=hAe.fromQuaternion(n.rotation);e.matrix.multiplyRight(t)}n.scale&&e.matrix.scale(n.scale)}(s,s._node)})}}class bAe{constructor(e){this.animations=e.animations.map((t,i)=>{const r=t.name||"Animation-".concat(i),o=t.samplers.map(a=>{let{input:c,interpolation:l="LINEAR",output:d}=a;return{input:W7(e.accessors[c]),interpolation:l,output:W7(e.accessors[d])}}),s=t.channels.map(a=>{let{sampler:c,target:l}=a;return{sampler:o[c],target:e.nodes[l.node],path:l.path}});return new yAe({name:r,channels:s})})}animate(e){this.setTime(e)}setTime(e){this.animations.forEach(t=>t.animate(e))}getAnimations(){return this.animations}}class vAe extends H_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),this.onBeforeRender=null,this.AfterRender=null,e instanceof z_?(this.model=e,this._setModelNodeProps(t)):this.model=new z_(e,t),this.bounds=null,this.managedResources=t.managedResources||[]}setProps(e){return super.setProps(e),this._setModelNodeProps(e),this}getBounds(){return this.bounds}delete(){this.model&&(this.model.delete(),this.model=null),this.managedResources.forEach(e=>e.delete()),this.managedResources=[]}draw(){return this.model.draw(...arguments)}setUniforms(){return this.model.setUniforms(...arguments),this}setAttributes(){return this.model.setAttributes(...arguments),this}updateModuleSettings(){return this.model.updateModuleSettings(...arguments),this}_setModelNodeProps(e){this.model.setProps(e)}}class wAe{constructor(e,t){let{attributes:i,material:r,pbrDebug:o,imageBasedLightingEnvironment:s,lights:a,useTangents:c}=t;this.gl=e,this.defines={MANUAL_SRGB:1,SRGB_FAST_APPROXIMATION:1},Dk(e,"GLSL_TEXTURE_LOD")&&(this.defines.USE_TEX_LOD=1),this.uniforms={u_Camera:[0,0,0],u_MetallicRoughnessValues:[1,1]},this.parameters={},this.generatedTextures=[],s&&(this.uniforms.u_DiffuseEnvSampler=s.getDiffuseEnvSampler(),this.uniforms.u_SpecularEnvSampler=s.getSpecularEnvSampler(),this.uniforms.u_brdfLUT=s.getBrdfTexture(),this.uniforms.u_ScaleIBLAmbient=[1,1]),o&&(this.uniforms.u_ScaleDiffBaseMR=[0,0,0,0],this.uniforms.u_ScaleFGDSpec=[0,0,0,0]),this.defineIfPresent(i.NORMAL,"HAS_NORMALS"),this.defineIfPresent(i.TANGENT&&c,"HAS_TANGENTS"),this.defineIfPresent(i.TEXCOORD_0,"HAS_UV"),this.defineIfPresent(s,"USE_IBL"),this.defineIfPresent(a,"USE_LIGHTS"),this.defineIfPresent(o,"PBR_DEBUG"),r&&this.parseMaterial(r)}defineIfPresent(e,t){e&&(this.defines[t]=1)}parseTexture(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=e.texture.source.image;let s,a={};o.compressed?(s=o,a={[this.gl.TEXTURE_MIN_FILTER]:o.data.length>1?this.gl.LINEAR_MIPMAP_NEAREST:this.gl.LINEAR}):s={data:o};const c=new Os(this.gl,{id:e.name||e.id,parameters:{...e.texture&&e.texture.sampler&&e.texture.sampler.parameters||{},...a},pixelStore:{[this.gl.UNPACK_FLIP_Y_WEBGL]:!1},...s});this.uniforms[t]=c,this.defineIfPresent(i,i),this.generatedTextures.push(c)}parsePbrMetallicRoughness(e){e.baseColorTexture&&this.parseTexture(e.baseColorTexture,"u_BaseColorSampler","HAS_BASECOLORMAP"),this.uniforms.u_BaseColorFactor=e.baseColorFactor||[1,1,1,1],e.metallicRoughnessTexture&&this.parseTexture(e.metallicRoughnessTexture,"u_MetallicRoughnessSampler","HAS_METALROUGHNESSMAP");const{metallicFactor:t=1,roughnessFactor:i=1}=e;this.uniforms.u_MetallicRoughnessValues=[t,i]}parseMaterial(e){if(this.uniforms.pbr_uUnlit=!!e.unlit,e.pbrMetallicRoughness&&this.parsePbrMetallicRoughness(e.pbrMetallicRoughness),e.normalTexture){this.parseTexture(e.normalTexture,"u_NormalSampler","HAS_NORMALMAP");const{scale:t=1}=e.normalTexture;this.uniforms.u_NormalScale=t}if(e.occlusionTexture){this.parseTexture(e.occlusionTexture,"u_OcclusionSampler","HAS_OCCLUSIONMAP");const{strength:t=1}=e.occlusionTexture;this.uniforms.u_OcclusionStrength=t}if(e.emissiveTexture&&(this.parseTexture(e.emissiveTexture,"u_EmissiveSampler","HAS_EMISSIVEMAP"),this.uniforms.u_EmissiveFactor=e.emissiveFactor||[0,0,0]),"MASK"===e.alphaMode){const{alphaCutoff:t=.5}=e;this.defines.ALPHA_CUTOFF=1,this.uniforms.u_AlphaCutoff=t}else"BLEND"===e.alphaMode&&(Dn.warn("BLEND alphaMode might not work well because it requires mesh sorting")(),Object.assign(this.parameters,{blend:!0,blendEquation:this.gl.FUNC_ADD,blendFunc:[this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA]}))}delete(){this.generatedTextures.forEach(e=>e.delete())}}function $7(n,e){return Si(n)?"#version 300 es\n".concat(e):e}const SAe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},AAe={modelOptions:{},pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1};class TAe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.options=Object.assign({},AAe,t)}instantiate(e){return this.gltf=e,(e.scenes||[]).map(i=>this.createScene(i))}createAnimator(){return Array.isArray(this.gltf.animations)?new bAe(this.gltf):null}createScene(e){const i=(e.nodes||[]).map(o=>this.createNode(o));return new ew({id:e.name||e.id,children:i})}createNode(e){if(!e._node){const i=(e.children||[]).map(o=>this.createNode(o));e.mesh&&i.push(this.createMesh(e.mesh));const r=new ew({id:e.name||e.id,children:i});if(e.matrix)r.setMatrix(e.matrix);else{if(r.matrix.identity(),e.translation&&r.matrix.translate(e.translation),e.rotation){const o=(new Lt).fromQuaternion(e.rotation);r.matrix.multiplyRight(o)}e.scale&&r.matrix.scale(e.scale)}e._node=r}return e._node}createMesh(e){if(!e._mesh){const i=(e.primitives||[]).map((o,s)=>this.createPrimitive(o,s,e)),r=new ew({id:e.name||e.id,children:i});e._mesh=r}return e._mesh}getVertexCount(e){Dn.warn("getVertexCount() not found")()}createPrimitive(e,t,i){const r=function CAe(n,e){const{id:t,drawMode:i,vertexCount:r,attributes:o,modelOptions:s}=e,a=new wAe(n,e);Dn.info(4,"createGLTFModel defines: ",a.defines)();const c=[];c.push(...a.generatedTextures),c.push(...Object.values(o).map(d=>d.buffer));const l=new vAe(n,{id:t,drawMode:i,vertexCount:r,modules:[L7],parameters:a.parameters,vs:$7(n,"\n#if (__VERSION__ < 300)\n  #define _attr attribute\n#else\n  #define _attr in\n#endif\n\n  _attr vec4 POSITION;\n\n  #ifdef HAS_NORMALS\n    _attr vec4 NORMAL;\n  #endif\n\n  #ifdef HAS_TANGENTS\n    _attr vec4 TANGENT;\n  #endif\n\n  #ifdef HAS_UV\n    _attr vec2 TEXCOORD_0;\n  #endif\n\n  void main(void) {\n    vec4 _NORMAL = vec4(0.);\n    vec4 _TANGENT = vec4(0.);\n    vec2 _TEXCOORD_0 = vec2(0.);\n\n    #ifdef HAS_NORMALS\n      _NORMAL = NORMAL;\n    #endif\n\n    #ifdef HAS_TANGENTS\n      _TANGENT = TANGENT;\n    #endif\n\n    #ifdef HAS_UV\n      _TEXCOORD_0 = TEXCOORD_0;\n    #endif\n\n    pbr_setPositionNormalTangentUV(POSITION, _NORMAL, _TANGENT, _TEXCOORD_0);\n    gl_Position = u_MVPMatrix * POSITION;\n  }\n"),fs:$7(n,"\n#if (__VERSION__ < 300)\n  #define fragmentColor gl_FragColor\n#else\n  out vec4 fragmentColor;\n#endif\n\n  void main(void) {\n    fragmentColor = pbr_filterColor(vec4(0));\n  }\n"),managedResources:c,...s,defines:{...a.defines,...s.defines}});return l.setProps({attributes:o}),l.setUniforms(a.uniforms),l}(this.gl,Object.assign({id:e.name||"".concat(i.name||i.id,"-primitive-").concat(t),drawMode:e.mode||4,vertexCount:e.indices?e.indices.count:this.getVertexCount(e.attributes),attributes:this.createAttributes(e.attributes,e.indices),material:e.material},this.options));return r.bounds=[e.attributes.POSITION.min,e.attributes.POSITION.max],r}createAttributes(e,t){const i={};return Object.keys(e).forEach(r=>{i[r]=this.createAccessor(e[r],this.createBuffer(e[r],this.gl.ARRAY_BUFFER))}),t&&(i.indices=this.createAccessor(t,this.createBuffer(t,this.gl.ELEMENT_ARRAY_BUFFER))),Dn.info(4,"glTF Attributes",{attributes:e,indices:t,generated:i})(),i}createBuffer(e,t){e.bufferView||(e.bufferView={});const{bufferView:i}=e;return i.lumaBuffers||(i.lumaBuffers={}),i.lumaBuffers[t]||(i.lumaBuffers[t]=new wr(this.gl,{id:"from-".concat(i.id),data:i.data||e.value,target:t})),i.lumaBuffers[t]}createAccessor(e,t){return new qa({buffer:t,offset:e.byteOffset||0,stride:e.bufferView.byteStride||0,type:e.componentType,size:SAe[e.type]})}createSampler(e){return e}needsPOT(){return!1}}var tw=S(9125);const OAe="3.2.13",uN={};function Zp(n){return hN.apply(this,arguments)}function hN(){return hN=fn(function*(n,e=null,t={}){return e&&(n=function RAe(n,e,t){if(n.startsWith("http"))return n;const i=t.modules||{};return i[n]?i[n]:yf?t.CDN?(Od(t.CDN.startsWith("http")),"".concat(t.CDN,"/").concat(e,"@").concat(OAe,"/dist/libs/").concat(n)):Qk?"../src/libs/".concat(n):"modules/".concat(e,"/src/libs/").concat(n):"modules/".concat(e,"/dist/libs/").concat(n)}(n,e,t)),uN[n]=uN[n]||function PAe(n){return fN.apply(this,arguments)}(n),yield uN[n]}),hN.apply(this,arguments)}function fN(){return fN=fn(function*(n){if(n.endsWith("wasm"))return yield(yield fetch(n)).arrayBuffer();if(!yf)try{return tw&&tw.requireFromFile&&(yield tw.requireFromFile(n))}catch{return null}return Qk?importScripts(n):function kAe(n,e){if(!yf)return tw.requireFromString&&tw.requireFromString(n,e);if(Qk)return eval.call(lwe,n),null;const t=document.createElement("script");t.id=e;try{t.appendChild(document.createTextNode(n))}catch{t.text=n}return document.body.appendChild(t),null}(yield(yield fetch(n)).text(),n)}),fN.apply(this,arguments)}const NAe="https://unpkg.com/@loaders.gl/textures@".concat("3.2.13","/dist/libs/basis_encoder.wasm"),FAe="https://unpkg.com/@loaders.gl/textures@".concat("3.2.13","/dist/libs/basis_encoder.js");let pN,_N;function Y7(n){return mN.apply(this,arguments)}function mN(){return mN=fn(function*(n){const e=n.modules||{};return e.basis?e.basis:(pN=pN||function LAe(n){return gN.apply(this,arguments)}(n),yield pN)}),mN.apply(this,arguments)}function gN(){return gN=fn(function*(n){let e=null,t=null;return[e,t]=yield Promise.all([yield Zp("basis_transcoder.js","textures",n),yield Zp("basis_transcoder.wasm","textures",n)]),e=e||globalThis.BASIS,yield function BAe(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(i=>{n(t).then(r=>{const{BasisFile:o,initializeBasis:s}=r;s(),i({BasisFile:o})})})}(e,t)}),gN.apply(this,arguments)}function q7(n){return yN.apply(this,arguments)}function yN(){return yN=fn(function*(n){const e=n.modules||{};return e.basisEncoder?e.basisEncoder:(_N=_N||function jAe(n){return bN.apply(this,arguments)}(n),yield _N)}),yN.apply(this,arguments)}function bN(){return bN=fn(function*(n){let e=null,t=null;return[e,t]=yield Promise.all([yield Zp(FAe,"textures",n),yield Zp(NAe,"textures",n)]),e=e||globalThis.BASIS,yield function UAe(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(i=>{n(t).then(r=>{const{BasisFile:o,KTX2File:s,initializeBasis:a,BasisEncoder:c}=r;a(),i({BasisFile:o,KTX2File:s,BasisEncoder:c})})})}(e,t)}),bN.apply(this,arguments)}const VAe=["","WEBKIT_","MOZ_"],K7={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let aA=null;var vN,cA,wN,lA,Q7,xN,Z7,e$;new Uint8Array([0]),function(n){n[n.NONE=0]="NONE",n[n.BASISLZ=1]="BASISLZ",n[n.ZSTD=2]="ZSTD",n[n.ZLIB=3]="ZLIB"}(vN||(vN={})),function(n){n[n.BASICFORMAT=0]="BASICFORMAT"}(cA||(cA={})),function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.ETC1S=163]="ETC1S",n[n.UASTC=166]="UASTC"}(wN||(wN={})),function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.SRGB=1]="SRGB"}(lA||(lA={})),function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.LINEAR=1]="LINEAR",n[n.SRGB=2]="SRGB",n[n.ITU=3]="ITU",n[n.NTSC=4]="NTSC",n[n.SLOG=5]="SLOG",n[n.SLOG2=6]="SLOG2"}(Q7||(Q7={})),function(n){n[n.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",n[n.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(xN||(xN={})),function(n){n[n.RGB=0]="RGB",n[n.RRR=3]="RRR",n[n.GGG=4]="GGG",n[n.AAA=15]="AAA"}(Z7||(Z7={})),function(n){n[n.RGB=0]="RGB",n[n.RGBA=3]="RGBA",n[n.RRR=4]="RRR",n[n.RRRG=5]="RRRG"}(e$||(e$={}));const Ec=[171,75,84,88,32,50,48,187,13,10,26,10],XAe={etc1:{basisFormat:0,compressed:!0,format:36196},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:33776},bc3:{basisFormat:3,compressed:!0,format:33779},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:35840},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:35842},"astc-4x4":{basisFormat:10,compressed:!0,format:37808},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function CN(){return CN=fn(function*(n,e){if("auto"===e.basis.containerFormat){if(function $Ae(n){const e=new Uint8Array(n);return!(e.byteLength<Ec.length||e[0]!==Ec[0]||e[1]!==Ec[1]||e[2]!==Ec[2]||e[3]!==Ec[3]||e[4]!==Ec[4]||e[5]!==Ec[5]||e[6]!==Ec[6]||e[7]!==Ec[7]||e[8]!==Ec[8]||e[9]!==Ec[9]||e[10]!==Ec[10]||e[11]!==Ec[11])}(n))return i$((yield q7(e)).KTX2File,n,e);const{BasisFile:t}=yield Y7(e);return SN(t,n,e)}if("encoder"===e.basis.module){const t=yield q7(e);return"ktx2"===e.basis.containerFormat?i$(t.KTX2File,n,e):SN(t.BasisFile,n,e)}{const{BasisFile:i}=yield Y7(e);return SN(i,n,e)}}),CN.apply(this,arguments)}function SN(n,e,t){const i=new n(new Uint8Array(e));try{if(!i.startTranscoding())throw new Error("Failed to start basis transcoding");const r=i.getNumImages(),o=[];for(let s=0;s<r;s++){const a=i.getNumLevels(s),c=[];for(let l=0;l<a;l++)c.push(qAe(i,s,l,t));o.push(c)}return o}finally{i.close(),i.delete()}}function qAe(n,e,t,i){const r=n.getImageWidth(e,t),o=n.getImageHeight(e,t),s=n.getHasAlpha(),{compressed:a,format:c,basisFormat:l}=r$(i,s),d=n.getImageTranscodedSizeInBytes(e,t,l),h=new Uint8Array(d);if(!n.transcodeImage(h,e,t,l,0,0))throw new Error("failed to start Basis transcoding");return{width:r,height:o,data:h,compressed:a,format:c,hasAlpha:s}}function i$(n,e,t){const i=new n(new Uint8Array(e));try{if(!i.startTranscoding())throw new Error("failed to start KTX2 transcoding");const r=i.getLevels(),o=[];for(let s=0;s<r;s++){o.push(KAe(i,s,t));break}return[o]}finally{i.close(),i.delete()}}function KAe(n,e,t){const{alphaFlag:i,height:r,width:o}=n.getImageLevelInfo(e,0,0),{compressed:s,format:a,basisFormat:c}=r$(t,i),l=n.getImageTranscodedSizeInBytes(e,0,0,c),d=new Uint8Array(l);if(!n.transcodeImage(d,e,0,0,c,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:o,height:r,data:d,compressed:s,hasAlpha:i,format:a}}function r$(n,e){let t=n&&n.basis&&n.basis.format;return"auto"===t&&(t=o$()),"object"==typeof t&&(t=e?t.alpha:t.noAlpha),t=t.toLowerCase(),XAe[t]}function o$(){const n=function zAe(n){if(!aA){n=n||function HAe(){try{return document.createElement("canvas").getContext("webgl")}catch{return null}}()||void 0,aA=new Set;for(const e of VAe)for(const t in K7)n&&n.getExtension("".concat(e).concat(t))&&aA.add(K7[t])}return aA}();return n.has("astc")?"astc-4x4":n.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:n.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:n.has("etc1")?"etc1":n.has("etc2")?"etc2":"rgb565"}const JAe={name:"Basis",id:"basis",module:"textures",version:"3.2.13",worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}},parse:function YAe(n,e){return CN.apply(this,arguments)}};function em(n,e){if(!n)throw new Error(e||"loader assertion failed.")}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const uA=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),s$=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),{_parseImageNode:ZAe}=(s$&&parseFloat(s$[1]),globalThis),AN=typeof Image<"u",TN=typeof ImageBitmap<"u",MN=!!uA||!!ZAe;function a$(n){const e=function l$(n){return typeof ImageBitmap<"u"&&n instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&n instanceof Image?"image":n&&"object"==typeof n&&n.data&&n.width&&n.height?"data":null}(n);if(!e)throw new Error("Not an image");return e}const nTe=/^data:image\/svg\+xml/,iTe=/\.svg((\?|#).*)?$/;function IN(n){return n&&(nTe.test(n)||iTe.test(n))}function d$(n,e){if(IN(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(n)])}function u$(n,e,t){return DN.apply(this,arguments)}function DN(){return DN=fn(function*(n,e,t){const i=function rTe(n,e){if(IN(e)){let i=(new TextDecoder).decode(n);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(i=unescape(encodeURIComponent(i)))}catch(o){throw new Error(o.message)}return"data:image/svg+xml;base64,".concat(btoa(i))}return d$(n,e)}(n,t),r=self.URL||self.webkitURL,o="string"!=typeof i&&r.createObjectURL(i);try{return yield function oTe(n,e){return ON.apply(this,arguments)}(o||i,e)}finally{o&&r.revokeObjectURL(o)}}),DN.apply(this,arguments)}function ON(){return ON=fn(function*(n,e){const t=new Image;return t.src=n,e.image&&e.image.decode&&t.decode?(yield t.decode(),t):yield new Promise((i,r)=>{try{t.onload=()=>i(t),t.onerror=o=>r(new Error("Could not load image ".concat(n,": ").concat(o)))}catch(o){r(o)}})}),ON.apply(this,arguments)}const sTe={};let h$=!0;function RN(){return RN=fn(function*(n,e,t){let i;i=IN(t)?yield u$(n,e,t):d$(n,t);const r=e&&e.imagebitmap;return yield function cTe(n){return PN.apply(this,arguments)}(i,r)}),RN.apply(this,arguments)}function PN(){return PN=fn(function*(n,e=null){if((function lTe(n){for(const e in n||sTe)return!1;return!0}(e)||!h$)&&(e=null),e)try{return yield createImageBitmap(n,e)}catch(t){console.warn(t),h$=!1}return yield createImageBitmap(n)}),PN.apply(this,arguments)}const jd=!1,iw=!0;function kN(n){const e=rw(n);return function dTe(n){const e=rw(n);return e.byteLength>=24&&2303741511===e.getUint32(0,jd)?{mimeType:"image/png",width:e.getUint32(16,jd),height:e.getUint32(20,jd)}:null}(e)||function fTe(n){const e=rw(n);if(!(e.byteLength>=3&&65496===e.getUint16(0,jd)&&255===e.getUint8(2)))return null;const{tableMarkers:i,sofMarkers:r}=function pTe(){const n=new Set([65499,65476,65484,65501,65534]);for(let t=65504;t<65520;++t)n.add(t);return{tableMarkers:n,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let o=2;for(;o+9<e.byteLength;){const s=e.getUint16(o,jd);if(r.has(s))return{mimeType:"image/jpeg",height:e.getUint16(o+5,jd),width:e.getUint16(o+7,jd)};if(!i.has(s))return null;o+=2,o+=e.getUint16(o,jd)}return null}(e)||function uTe(n){const e=rw(n);return e.byteLength>=10&&1195984440===e.getUint32(0,jd)?{mimeType:"image/gif",width:e.getUint16(6,iw),height:e.getUint16(8,iw)}:null}(e)||function hTe(n){const e=rw(n);return e.byteLength>=14&&16973===e.getUint16(0,jd)&&e.getUint32(2,iw)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,iw),height:e.getUint32(22,iw)}:null}(e)}function rw(n){if(n instanceof DataView)return n;if(ArrayBuffer.isView(n))return new DataView(n.buffer);if(n instanceof ArrayBuffer)return new DataView(n);throw new Error("toDataView")}function NN(){return NN=fn(function*(n,e){const{mimeType:t}=kN(n)||{},i=globalThis._parseImageNode;return em(i),yield i(n,t)}),NN.apply(this,arguments)}function FN(){return FN=fn(function*(n,e,t){const r=((e=e||{}).image||{}).type||"auto",{url:o}=t||{},s=function _Te(n){switch(n){case"auto":case"data":return function tTe(){if(TN)return"imagebitmap";if(AN)return"image";if(MN)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function eTe(n){switch(n){case"auto":return TN||AN||MN;case"imagebitmap":return TN;case"image":return AN;case"data":return MN;default:throw new Error("@loaders.gl/images: image ".concat(n," not supported in this environment"))}}(n),n}}(r);let a;switch(s){case"imagebitmap":a=yield function aTe(n,e,t){return RN.apply(this,arguments)}(n,e,o);break;case"image":a=yield u$(n,e,o);break;case"data":a=yield function mTe(n,e){return NN.apply(this,arguments)}(n,e);break;default:em(!1)}return"data"===r&&(a=function c$(n){switch(a$(n)){case"data":return n;case"image":case"imagebitmap":const e=document.createElement("canvas"),t=e.getContext("2d");if(!t)throw new Error("getImageData");return e.width=n.width,e.height=n.height,t.drawImage(n,0,0),t.getImageData(0,0,n.width,n.height);default:throw new Error("getImageData")}}(a)),a}),FN.apply(this,arguments)}const yTe={id:"image",module:"images",name:"Images",version:"3.2.13",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:function gTe(n,e,t){return FN.apply(this,arguments)},tests:[n=>!!kN(new DataView(n))],options:{image:{type:"auto",decode:!0}}};function f$(n,e,t){if(n.byteLength<=e+t)return"";const i=new DataView(n);let r="";for(let o=0;o<t;o++)r+=String.fromCharCode(i.getUint8(e+o));return r}function p$(n,e,t){const i=void 0!==t?new Uint8Array(n).subarray(e,e+t):new Uint8Array(n).subarray(e);return new Uint8Array(i).buffer}function Cc(n,e){if(!n)throw new Error(e||"assert failed: gltf")}function m$(n,e){if(n.startsWith("data:")||n.startsWith("http:")||n.startsWith("https:"))return n;const i=e.baseUri||e.uri;if(!i)throw new Error("'baseUri' must be provided to resolve relative url ".concat(n));return i.substr(0,i.lastIndexOf("/")+1)+n}function ow(n,e){return em(n>=0),em(e>0),n+(e-1)&~(e-1)}function wTe(n,e,t){let i;return i=n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer||n.arrayBuffer,n.byteOffset,n.byteLength),e.set(i,t),t+ow(i.byteLength,4)}const _$=["SCALAR","VEC2","VEC3","VEC4"],xTe=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],ETe=new Map(xTe),CTe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},STe={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},ATe={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function y$(n){return _$[n-1]||_$[0]}function b$(n){const e=ETe.get(n.constructor);if(!e)throw new Error("Illegal typed array");return e}function v$(n,e){const t=ATe[n.componentType],i=CTe[n.type],o=n.count*i,s=n.count*i*STe[n.componentType];return Cc(s>=0&&s<=e.byteLength),{ArrayType:t,length:o,byteLength:s}}const TTe={asset:{version:"2.0",generator:"loaders.gl"},buffers:[]};class el{constructor(e){we(this,"gltf",void 0),we(this,"sourceBuffers",void 0),we(this,"byteLength",void 0),this.gltf=e||{json:{...TTe},buffers:[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(e){return this.json[e]}getExtraData(e){return(this.json.extras||{})[e]}getExtension(e){return this.getUsedExtensions().find(r=>r===e)?(this.json.extensions||{})[e]||!0:null}getRequiredExtension(e){return this.getRequiredExtensions().find(i=>i===e)?this.getExtension(e):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getObjectExtension(e,t){return(e.extensions||{})[t]}getScene(e){return this.getObject("scenes",e)}getNode(e){return this.getObject("nodes",e)}getSkin(e){return this.getObject("skins",e)}getMesh(e){return this.getObject("meshes",e)}getMaterial(e){return this.getObject("materials",e)}getAccessor(e){return this.getObject("accessors",e)}getTexture(e){return this.getObject("textures",e)}getSampler(e){return this.getObject("samplers",e)}getImage(e){return this.getObject("images",e)}getBufferView(e){return this.getObject("bufferViews",e)}getBuffer(e){return this.getObject("buffers",e)}getObject(e,t){if("object"==typeof t)return t;const i=this.json[e]&&this.json[e][t];if(!i)throw new Error("glTF file error: Could not find ".concat(e,"[").concat(t,"]"));return i}getTypedArrayForBufferView(e){e=this.getBufferView(e);const i=this.gltf.buffers[e.buffer];return Cc(i),new Uint8Array(i.arrayBuffer,(e.byteOffset||0)+i.byteOffset,e.byteLength)}getTypedArrayForAccessor(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),r=this.getBuffer(t.buffer).data,{ArrayType:o,length:s}=v$(e,t);return new o(r,t.byteOffset+e.byteOffset,s)}getTypedArrayForImageData(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),r=this.getBuffer(t.buffer).data;return new Uint8Array(r,t.byteOffset||0,t.byteLength)}addApplicationData(e,t){return this.json[e]=t,this}addExtraData(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}addObjectExtension(e,t,i){return e.extensions=e.extensions||{},e.extensions[t]=i,this.registerUsedExtension(t),this}setObjectExtension(e,t,i){(e.extensions||{})[t]=i}removeObjectExtension(e,t){const i=e.extensions||{},r=i[t];return delete i[t],r}addExtension(e,t={}){return Cc(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}addRequiredExtension(e,t={}){return Cc(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}registerUsedExtension(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(t=>t===e)||this.json.extensionsUsed.push(e)}registerRequiredExtension(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(t=>t===e)||this.json.extensionsRequired.push(e)}removeExtension(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]}setDefaultScene(e){this.json.scene=e}addScene(e){const{nodeIndices:t}=e;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:t}),this.json.scenes.length-1}addNode(e){const{meshIndex:t,matrix:i}=e;this.json.nodes=this.json.nodes||[];const r={mesh:t};return i&&(r.matrix=i),this.json.nodes.push(r),this.json.nodes.length-1}addMesh(e){const{attributes:t,indices:i,material:r,mode:o=4}=e,a={primitives:[{attributes:this._addAttributes(t),mode:o}]};if(i){const c=this._addIndices(i);a.primitives[0].indices=c}return Number.isFinite(r)&&(a.primitives[0].material=r),this.json.meshes=this.json.meshes||[],this.json.meshes.push(a),this.json.meshes.length-1}addPointCloud(e){const i={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(i),this.json.meshes.length-1}addImage(e,t){const i=kN(e),r=t||i?.mimeType,s={bufferView:this.addBufferView(e),mimeType:r};return this.json.images=this.json.images||[],this.json.images.push(s),this.json.images.length-1}addBufferView(e){const t=e.byteLength;Cc(Number.isFinite(t)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);const i={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.byteLength+=ow(t,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(i),this.json.bufferViews.length-1}addAccessor(e,t){const i={bufferView:e,type:y$(t.size),componentType:t.componentType,count:t.count,max:t.max,min:t.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(i),this.json.accessors.length-1}addBinaryBuffer(e,t={size:3}){const i=this.addBufferView(e);let r={min:t.min,max:t.max};(!r.min||!r.max)&&(r=this._getAccessorMinMax(e,t.size));const o={size:t.size,componentType:b$(e),count:Math.round(e.length/t.size),min:r.min,max:r.max};return this.addAccessor(i,Object.assign(o,t))}addTexture(e){const{imageIndex:t}=e,i={source:t};return this.json.textures=this.json.textures||[],this.json.textures.push(i),this.json.textures.length-1}addMaterial(e){return this.json.materials=this.json.materials||[],this.json.materials.push(e),this.json.materials.length-1}createBinaryChunk(){var e,t;this.gltf.buffers=[];const i=this.byteLength,r=new ArrayBuffer(i),o=new Uint8Array(r);let s=0;for(const a of this.sourceBuffers||[])s=wTe(a,o,s);null!==(e=this.json)&&void 0!==e&&null!==(t=e.buffers)&&void 0!==t&&t[0]?this.json.buffers[0].byteLength=i:this.json.buffers=[{byteLength:i}],this.gltf.binary=r,this.sourceBuffers=[r]}_removeStringFromArray(e,t){let i=!0;for(;i;){const r=e.indexOf(t);r>-1?e.splice(r,1):i=!1}}_addAttributes(e={}){const t={};for(const i in e){const r=e[i],o=this._getGltfAttributeName(i),s=this.addBinaryBuffer(r.value,r);t[o]=s}return t}_addIndices(e){return this.addBinaryBuffer(e,{size:1})}_getGltfAttributeName(e){switch(e.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return e}}_getAccessorMinMax(e,t){const i={min:null,max:null};if(e.length<t)return i;i.min=[],i.max=[];const r=e.subarray(0,t);for(const o of r)i.min.push(o),i.max.push(o);for(let o=t;o<e.length;o+=t)for(let s=0;s<t;s++)i.min[0+s]=Math.min(i.min[0+s],e[o+s]),i.max[0+s]=Math.max(i.max[0+s],e[o+s]);return i}}const ITe="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",DTe="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",OTe=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),RTe=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),w$={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},PTe={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};function UN(){return UN=fn(function*(n,e,t,i,r,o="NONE"){const s=yield function hA(){return zN.apply(this,arguments)}();!function fA(n,e,t,i,r,o,s){const a=n.exports.sbrk,c=i+3&-4,l=a(c*r),d=a(o.length),h=new Uint8Array(n.exports.memory.buffer);h.set(o,d);const f=e(l,i,r,d,o.length);if(0===f&&s&&s(l,c,r),t.set(h.subarray(l,l+i*r)),a(l-a(0)),0!==f)throw new Error("Malformed buffer data: ".concat(f))}(s,s.exports[PTe[r]],n,e,t,i,s.exports[w$[o||"NONE"]])}),UN.apply(this,arguments)}let VN;function zN(){return zN=fn(function*(){return VN||(VN=function NTe(){return HN.apply(this,arguments)}()),VN}),zN.apply(this,arguments)}function HN(){return HN=fn(function*(){let n=ITe;WebAssembly.validate(OTe)&&(n=DTe,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const e=yield WebAssembly.instantiate(function FTe(n){const e=new Uint8Array(n.length);for(let i=0;i<n.length;++i){const r=n.charCodeAt(i);e[i]=r>96?r-71:r>64?r-65:r>47?r+4:r>46?63:62}let t=0;for(let i=0;i<n.length;++i)e[t++]=e[i]<60?RTe[e[i]]:64*(e[i]-60)+e[++i];return e.buffer.slice(0,t)}(n),{});return yield e.instance.exports.__wasm_call_ctors(),e.instance}),HN.apply(this,arguments)}const GN="EXT_meshopt_compression",LTe=GN;function BTe(n,e){return WN.apply(this,arguments)}function WN(){return WN=fn(function*(n,e){var t;const i=new el(n);if(null==e||null===(t=e.gltf)||void 0===t||!t.decompressMeshes)return;const r=[];for(const o of n.json.bufferViews||[])r.push(jTe(i,o));yield Promise.all(r),i.removeExtension(GN)}),WN.apply(this,arguments)}function jTe(n,e){return $N.apply(this,arguments)}function $N(){return $N=fn(function*(n,e){const t=n.getObjectExtension(e,GN);if(t){const{byteOffset:i=0,byteLength:r=0,byteStride:o,count:s,mode:a,filter:c="NONE",buffer:l}=t,d=n.gltf.buffers[l],h=new Uint8Array(d.arrayBuffer,d.byteOffset+i,r),f=new Uint8Array(n.gltf.buffers[e.buffer].arrayBuffer,e.byteOffset,e.byteLength);return yield function kTe(n,e,t,i,r){return UN.apply(this,arguments)}(f,s,o,h,a,c),f}return null}),$N.apply(this,arguments)}const UTe=["image/png","image/jpeg","image/gif"],XN={};const W_="EXT_texture_webp",GTe=W_;function WTe(n,e){const t=new el(n);if(!function VTe(n){return void 0===XN[n]&&(XN[n]=function zTe(n){switch(n){case"image/webp":return function HTe(){if(!uA)return!1;try{return 0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch{return!1}}();case"image/svg":return uA;default:if(!uA){const{_parseImageNode:e}=globalThis;return!!e&&UTe.includes(n)}return!0}}(n)),XN[n]}("image/webp")){if(t.getRequiredExtensions().includes(W_))throw new Error("gltf: Required extension ".concat(W_," not supported by browser"));return}const{json:i}=t;for(const r of i.textures||[]){const o=t.getObjectExtension(r,W_);o&&(r.source=o.source),t.removeObjectExtension(r,W_)}t.removeExtension(W_)}const pA="KHR_texture_basisu",$Te=pA;function XTe(n,e){const t=new el(n),{json:i}=t;for(const r of i.textures||[]){const o=t.getObjectExtension(r,pA);o&&(r.source=o.source),t.removeObjectExtension(r,pA)}t.removeExtension(pA)}const E$={name:"Draco",id:"draco",module:"draco",shapes:["mesh"],version:"3.2.13",worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}};class mA{constructor(e,t,i=!1,r=new Map){we(this,"name",void 0),we(this,"type",void 0),we(this,"nullable",void 0),we(this,"metadata",void 0),this.name=e,this.type=t,this.nullable=i,this.metadata=r}get typeId(){return this.type&&this.type.typeId}clone(){return new mA(this.name,this.type,this.nullable,this.metadata)}compareTo(e){return this.name===e.name&&this.type===e.type&&this.nullable===e.nullable&&this.metadata===e.metadata}toString(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}let xr,C$,S$,A$,T$,M$,I$,D$,O$;!function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth"}(xr||(xr={}));class tm{static isNull(e){return e&&e.typeId===xr.Null}static isInt(e){return e&&e.typeId===xr.Int}static isFloat(e){return e&&e.typeId===xr.Float}static isBinary(e){return e&&e.typeId===xr.Binary}static isUtf8(e){return e&&e.typeId===xr.Utf8}static isBool(e){return e&&e.typeId===xr.Bool}static isDecimal(e){return e&&e.typeId===xr.Decimal}static isDate(e){return e&&e.typeId===xr.Date}static isTime(e){return e&&e.typeId===xr.Time}static isTimestamp(e){return e&&e.typeId===xr.Timestamp}static isInterval(e){return e&&e.typeId===xr.Interval}static isList(e){return e&&e.typeId===xr.List}static isStruct(e){return e&&e.typeId===xr.Struct}static isUnion(e){return e&&e.typeId===xr.Union}static isFixedSizeBinary(e){return e&&e.typeId===xr.FixedSizeBinary}static isFixedSizeList(e){return e&&e.typeId===xr.FixedSizeList}static isMap(e){return e&&e.typeId===xr.Map}static isDictionary(e){return e&&e.typeId===xr.Dictionary}get typeId(){return xr.NONE}compareTo(e){return this===e}}Symbol,Symbol,C$=Symbol.toStringTag;class $_ extends tm{constructor(e,t){super(),we(this,"isSigned",void 0),we(this,"bitWidth",void 0),this.isSigned=e,this.bitWidth=t}get typeId(){return xr.Int}get[C$](){return"Int"}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}class qTe extends $_{constructor(){super(!0,8)}}class KTe extends $_{constructor(){super(!0,16)}}class JTe extends $_{constructor(){super(!0,32)}}class QTe extends $_{constructor(){super(!1,8)}}class ZTe extends $_{constructor(){super(!1,16)}}class eMe extends $_{constructor(){super(!1,32)}}S$=Symbol.toStringTag;class R$ extends tm{constructor(e){super(),we(this,"precision",void 0),this.precision=e}get typeId(){return xr.Float}get[S$](){return"Float"}toString(){return"Float".concat(this.precision)}}class tMe extends R${constructor(){super(32)}}class nMe extends R${constructor(){super(64)}}Symbol,Symbol,A$=Symbol.toStringTag,T$=Symbol.toStringTag,M$=Symbol.toStringTag,I$=Symbol.toStringTag,D$=Symbol.toStringTag;class iMe extends tm{constructor(e,t){super(),we(this,"listSize",void 0),we(this,"children",void 0),this.listSize=e,this.children=[t]}get typeId(){return xr.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get[D$](){return"FixedSizeList"}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}O$=Symbol.toStringTag;class X_{constructor(e,t){we(this,"fields",void 0),we(this,"metadata",void 0),function aMe(n,e){if(!n)throw new Error(e||"loader assertion failed.")}(Array.isArray(e)),function cMe(n){const e={};for(const t of n)e[t.name]&&console.warn("Schema: duplicated field name",t.name,t),e[t.name]=!0}(e),this.fields=e,this.metadata=t||new Map}compareTo(e){if(this.metadata!==e.metadata||this.fields.length!==e.fields.length)return!1;for(let t=0;t<this.fields.length;++t)if(!this.fields[t].compareTo(e.fields[t]))return!1;return!0}select(...e){const t=Object.create(null);for(const r of e)t[r]=!0;const i=this.fields.filter(r=>t[r.name]);return new X_(i,this.metadata)}selectAt(...e){const t=e.map(i=>this.fields[i]).filter(Boolean);return new X_(t,this.metadata)}assign(e){let t,i=this.metadata;if(e instanceof X_){const s=e;t=s.fields,i=k$(k$(new Map,this.metadata),s.metadata)}else t=e;const r=Object.create(null);for(const s of this.fields)r[s.name]=s;for(const s of t)r[s.name]=s;const o=Object.values(r);return new X_(o,i)}}function k$(n,e){return new Map([...n||new Map,...e||new Map])}function N$(n,e,t){return function P$(n,e,t){const i=function rMe(n){switch(n.constructor){case Int8Array:return new qTe;case Uint8Array:return new QTe;case Int16Array:return new KTe;case Uint16Array:return new ZTe;case Int32Array:return new JTe;case Uint32Array:return new eMe;case Float32Array:return new tMe;case Float64Array:return new nMe;default:throw new Error("array type not supported")}}(e.value),r=t||function sMe(n){const e=new Map;return"byteOffset"in n&&e.set("byteOffset",n.byteOffset.toString(10)),"byteStride"in n&&e.set("byteStride",n.byteStride.toString(10)),"normalized"in n&&e.set("normalized",n.normalized.toString()),e}(e);return new mA(n,new iMe(e.size,new mA("value",i)),!1,r)}(n,e,t?F$(t.metadata):void 0)}function F$(n){const e=new Map;for(const t in n)e.set("".concat(t,".string"),JSON.stringify(n[t]));return e}const L$={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},uMe={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array};class fMe{constructor(e){we(this,"draco",void 0),we(this,"decoder",void 0),we(this,"metadataQuerier",void 0),this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(e,t={}){const i=new this.draco.DecoderBuffer;i.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(t);const r=this.decoder.GetEncodedGeometryType(i),o=r===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let s;switch(r){case this.draco.TRIANGULAR_MESH:s=this.decoder.DecodeBufferToMesh(i,o);break;case this.draco.POINT_CLOUD:s=this.decoder.DecodeBufferToPointCloud(i,o);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!s.ok()||!o.ptr){const f="DRACO decompression failed: ".concat(s.error_msg());throw new Error(f)}const a=this._getDracoLoaderData(o,r,t),c=this._getMeshData(o,a,t),l=function YTe(n){let e=1/0,t=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;const a=n.POSITION?n.POSITION.value:[],c=a&&a.length;for(let l=0;l<c;l+=3){const d=a[l],h=a[l+1],f=a[l+2];e=d<e?d:e,t=h<t?h:t,i=f<i?f:i,r=d>r?d:r,o=h>o?h:o,s=f>s?f:s}return[[e,t,i],[r,o,s]]}(c.attributes),d=function lMe(n,e,t){const i=F$(e.metadata),r=[],o=function dMe(n){const e={};for(const t in n){const i=n[t];e[i.name||"undefined"]=i}return e}(e.attributes);for(const s in n){const c=N$(s,n[s],o[s]);r.push(c)}if(t){const s=N$("indices",t);r.push(s)}return new X_(r,i)}(c.attributes,a,c.indices);return{loader:"draco",loaderData:a,header:{vertexCount:o.num_points(),boundingBox:l},...c,schema:d}}finally{this.draco.destroy(i),o&&this.draco.destroy(o)}}_getDracoLoaderData(e,t,i){const r=this._getTopLevelMetadata(e),o=this._getDracoAttributes(e,i);return{geometry_type:t,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:r,attributes:o}}_getDracoAttributes(e,t){const i={};for(let r=0;r<e.num_attributes();r++){const o=this.decoder.GetAttribute(e,r),s=this._getAttributeMetadata(e,r);i[o.unique_id()]={unique_id:o.unique_id(),attribute_type:o.attribute_type(),data_type:o.data_type(),num_components:o.num_components(),byte_offset:o.byte_offset(),byte_stride:o.byte_stride(),normalized:o.normalized(),attribute_index:r,metadata:s};const a=this._getQuantizationTransform(o,t);a&&(i[o.unique_id()].quantization_transform=a);const c=this._getOctahedronTransform(o,t);c&&(i[o.unique_id()].octahedron_transform=c)}return i}_getMeshData(e,t,i){const r=this._getMeshAttributes(t,e,i);if(!r.POSITION)throw new Error("DRACO: No position attribute found.");return e instanceof this.draco.Mesh?"triangle-strip"===i.topology?{topology:"triangle-strip",mode:4,attributes:r,indices:{value:this._getTriangleStripIndices(e),size:1}}:{topology:"triangle-list",mode:5,attributes:r,indices:{value:this._getTriangleListIndices(e),size:1}}:{topology:"point-list",mode:0,attributes:r}}_getMeshAttributes(e,t,i){const r={};for(const o of Object.values(e.attributes)){const s=this._deduceAttributeName(o,i);o.name=s;const{value:a,size:c}=this._getAttributeValues(t,o);r[s]={value:a,size:c,byteOffset:o.byte_offset,byteStride:o.byte_stride,normalized:o.normalized}}return r}_getTriangleListIndices(e){const i=3*e.num_faces(),r=4*i,o=this.draco._malloc(r);try{return this.decoder.GetTrianglesUInt32Array(e,r,o),new Uint32Array(this.draco.HEAPF32.buffer,o,i).slice()}finally{this.draco._free(o)}}_getTriangleStripIndices(e){const t=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,t),function gMe(n){const e=n.size(),t=new Int32Array(e);for(let i=0;i<e;i++)t[i]=n.GetValue(i);return t}(t)}finally{this.draco.destroy(t)}}_getAttributeValues(e,t){const i=uMe[t.data_type],r=t.num_components,s=e.num_points()*r,a=s*i.BYTES_PER_ELEMENT,c=function pMe(n,e){switch(e){case Float32Array:return n.DT_FLOAT32;case Int8Array:return n.DT_INT8;case Int16Array:return n.DT_INT16;case Int32Array:return n.DT_INT32;case Uint8Array:return n.DT_UINT8;case Uint16Array:return n.DT_UINT16;case Uint32Array:return n.DT_UINT32;default:return n.DT_INVALID}}(this.draco,i);let l;const d=this.draco._malloc(a);try{const h=this.decoder.GetAttribute(e,t.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,h,c,a,d),l=new i(this.draco.HEAPF32.buffer,d,s).slice()}finally{this.draco._free(d)}return{value:l,size:r}}_deduceAttributeName(e,t){const i=e.unique_id;for(const[s,a]of Object.entries(t.extraAttributes||{}))if(a===i)return s;const r=e.attribute_type;for(const s in L$)if(this.draco[s]===r)return L$[s];const o=t.attributeNameEntry||"name";return e.metadata[o]?e.metadata[o].string:"CUSTOM_ATTRIBUTE_".concat(i)}_getTopLevelMetadata(e){const t=this.decoder.GetMetadata(e);return this._getDracoMetadata(t)}_getAttributeMetadata(e,t){const i=this.decoder.GetAttributeMetadata(e,t);return this._getDracoMetadata(i)}_getDracoMetadata(e){if(!e||!e.ptr)return{};const t={},i=this.metadataQuerier.NumEntries(e);for(let r=0;r<i;r++){const o=this.metadataQuerier.GetEntryName(e,r);t[o]=this._getDracoMetadataField(e,o)}return t}_getDracoMetadataField(e,t){const i=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,t,i);const r=function mMe(n){const e=n.size(),t=new Int32Array(e);for(let i=0;i<e;i++)t[i]=n.GetValue(i);return t}(i);return{int:this.metadataQuerier.GetIntEntry(e,t),string:this.metadataQuerier.GetStringEntry(e,t),double:this.metadataQuerier.GetDoubleEntry(e,t),intArray:r}}finally{this.draco.destroy(i)}}_disableAttributeTransforms(e){const{quantizedAttributes:t=[],octahedronAttributes:i=[]}=e,r=[...t,...i];for(const o of r)this.decoder.SkipAttributeTransform(this.draco[o])}_getQuantizationTransform(e,t){const{quantizedAttributes:i=[]}=t,r=e.attribute_type();if(i.map(s=>this.decoder[s]).includes(r)){const s=new this.draco.AttributeQuantizationTransform;try{if(s.InitFromAttribute(e))return{quantization_bits:s.quantization_bits(),range:s.range(),min_values:new Float32Array([1,2,3]).map(a=>s.min_value(a))}}finally{this.draco.destroy(s)}}return null}_getOctahedronTransform(e,t){const{octahedronAttributes:i=[]}=t,r=e.attribute_type();if(i.map(s=>this.decoder[s]).includes(r)){const s=new this.draco.AttributeQuantizationTransform;try{if(s.InitFromAttribute(e))return{quantization_bits:s.quantization_bits()}}finally{this.draco.destroy(s)}}return null}}const gA="1.4.1",_Me="https://www.gstatic.com/draco/versioned/decoders/".concat(gA,"/draco_decoder.js"),yMe="https://www.gstatic.com/draco/versioned/decoders/".concat(gA,"/draco_wasm_wrapper.js"),bMe="https://www.gstatic.com/draco/versioned/decoders/".concat(gA,"/draco_decoder.wasm");let sw;function JN(){return JN=fn(function*(n){const e=n.modules||{};return sw=e.draco3d?sw||e.draco3d.createDecoderModule({}).then(t=>({draco:t})):sw||function xMe(n){return ZN.apply(this,arguments)}(n),yield sw}),JN.apply(this,arguments)}function ZN(){return ZN=fn(function*(n){let e,t;return"js"===(n.draco&&n.draco.decoderType)?e=yield Zp(_Me,"draco",n):[e,t]=yield Promise.all([yield Zp(yMe,"draco",n),yield Zp(bMe,"draco",n)]),e=e||globalThis.DracoDecoderModule,yield function EMe(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(i=>{n({...t,onModuleLoaded:r=>i({draco:r})})})}(e,t)}),ZN.apply(this,arguments)}"https://raw.githubusercontent.com/google/draco/".concat(gA,"/javascript/draco_encoder.js");const tF={...E$,parse:function SMe(n,e){return nF.apply(this,arguments)}};function nF(){return nF=fn(function*(n,e){const{draco:t}=yield function wMe(n){return JN.apply(this,arguments)}(e),i=new fMe(t);try{return i.parseSync(n,e?.draco)}finally{i.destroy()}}),nF.apply(this,arguments)}function B$(n){const{buffer:e,size:t,count:i}=function TMe(n){let e=n,t=1,i=0;return n&&n.value&&(e=n.value,t=n.size||1),e&&(ArrayBuffer.isView(e)||(e=function MMe(n,e,t=!1){return n?Array.isArray(n)?new e(n):!t||n instanceof e?n:new e(n):null}(e,Float32Array)),i=e.length/t),{buffer:e,size:t,count:i}}(n);return{value:e,size:t,byteOffset:0,count:i,type:y$(t),componentType:b$(e)}}const nm="KHR_draco_mesh_compression",IMe=nm;function DMe(n,e,t){const i=new el(n);for(const r of j$(i))i.getObjectExtension(r,nm)}function OMe(n,e,t){return iF.apply(this,arguments)}function iF(){return iF=fn(function*(n,e,t){var i;if(null==e||null===(i=e.gltf)||void 0===i||!i.decompressMeshes)return;const r=new el(n),o=[];for(const s of j$(r))r.getObjectExtension(s,nm)&&o.push(PMe(r,s,e,t));yield Promise.all(o),r.removeExtension(nm)}),iF.apply(this,arguments)}function RMe(n,e={}){const t=new el(n);for(const i of t.json.meshes||[])kMe(i),t.addRequiredExtension(nm)}function PMe(n,e,t,i){return rF.apply(this,arguments)}function rF(){return rF=fn(function*(n,e,t,i){const r=n.getObjectExtension(e,nm);if(!r)return;const o=n.getTypedArrayForBufferView(r.bufferView),s=p$(o.buffer,o.byteOffset),{parse:a}=i,c={...t};delete c["3d-tiles"];const l=yield a(s,tF,c,i),d=function AMe(n){const e={};for(const t in n)if("indices"!==t){const r=B$(n[t]);e[t]=r}return e}(l.attributes);for(const[h,f]of Object.entries(d))if(h in e.attributes){const g=n.getAccessor(e.attributes[h]);null!=g&&g.min&&null!=g&&g.max&&(f.min=g.min,f.max=g.max)}e.attributes=d,l.indices&&(e.indices=B$(l.indices)),function NMe(n){if(!n.attributes&&Object.keys(n.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}(e)}),rF.apply(this,arguments)}function kMe(n,e,t=4,i,r){var o;if(!i.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const s=i.DracoWriter.encodeSync({attributes:n}),a=null==r||null===(o=r.parseSync)||void 0===o?void 0:o.call(r,{attributes:n}),c=i._addFauxAttributes(a.attributes),l=i.addBufferView(s);return{primitives:[{attributes:c,mode:t,extensions:{[nm]:{bufferView:l,attributes:c}}}]}}function*j$(n){for(const e of n.json.meshes||[])for(const t of e.primitives)yield t}const im="KHR_lights_punctual",FMe=im;function LMe(n){return oF.apply(this,arguments)}function oF(){return oF=fn(function*(n){const e=new el(n),{json:t}=e,i=e.getExtension(im);i&&(e.json.lights=i.lights,e.removeExtension(im));for(const r of t.nodes||[]){const o=e.getObjectExtension(r,im);o&&(r.light=o.light),e.removeObjectExtension(r,im)}}),oF.apply(this,arguments)}function BMe(n){return sF.apply(this,arguments)}function sF(){return sF=fn(function*(n){const e=new el(n),{json:t}=e;if(t.lights){const i=e.addExtension(im);Cc(!i.lights),i.lights=t.lights,delete t.lights}if(e.json.lights){for(const i of e.json.lights)e.addObjectExtension(i.node,im,i);delete e.json.lights}}),sF.apply(this,arguments)}const cw="KHR_materials_unlit",jMe=cw;function UMe(n){return aF.apply(this,arguments)}function aF(){return aF=fn(function*(n){const e=new el(n),{json:t}=e;e.removeExtension(cw);for(const i of t.materials||[])i.extensions&&i.extensions.KHR_materials_unlit&&(i.unlit=!0),e.removeObjectExtension(i,cw)}),aF.apply(this,arguments)}function VMe(n){const e=new el(n),{json:t}=e;if(e.materials)for(const i of t.materials||[])i.unlit&&(delete i.unlit,e.addObjectExtension(i,cw,{}),e.addExtension(cw))}const lw="KHR_techniques_webgl",zMe=lw;function HMe(n){return cF.apply(this,arguments)}function cF(){return cF=fn(function*(n){const e=new el(n),{json:t}=e,i=e.getExtension(lw);if(i){const r=function WMe(n,e){const{programs:t=[],shaders:i=[],techniques:r=[]}=n,o=new TextDecoder;return i.forEach(s=>{if(!Number.isFinite(s.bufferView))throw new Error("KHR_techniques_webgl: no shader code");s.code=o.decode(e.getTypedArrayForBufferView(s.bufferView))}),t.forEach(s=>{s.fragmentShader=i[s.fragmentShader],s.vertexShader=i[s.vertexShader]}),r.forEach(s=>{s.program=t[s.program]}),r}(i,e);for(const o of t.materials||[]){const s=e.getObjectExtension(o,lw);s&&(o.technique=Object.assign({},s,r[s.technique]),o.technique.values=$Me(o.technique,e)),e.removeObjectExtension(o,lw)}e.removeExtension(lw)}}),cF.apply(this,arguments)}function GMe(n,e){return lF.apply(this,arguments)}function lF(){return(lF=fn(function*(n,e){})).apply(this,arguments)}function $Me(n,e){const t=Object.assign({},n.values);return Object.keys(n.uniforms||{}).forEach(i=>{n.uniforms[i].value&&!(i in t)&&(t[i]=n.uniforms[i].value)}),Object.keys(t).forEach(i=>{"object"==typeof t[i]&&void 0!==t[i].index&&(t[i].texture=e.getTexture(t[i].index))}),t}const U$=[Z,A,$,H,Y,_,x];function dF(){return dF=fn(function*(n,e={},t){const i=U$.filter(o=>V$(o.name,e));for(const o of i){var r;yield null===(r=o.decode)||void 0===r?void 0:r.call(o,n,e,t)}}),dF.apply(this,arguments)}function V$(n,e){var t;const i=(null==e||null===(t=e.gltf)||void 0===t?void 0:t.excludeExtensions)||{};return!(n in i&&!i[n])}const uF="KHR_binary_glTF",z$={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},KMe={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"};class JMe{constructor(){we(this,"idToIndexMap",{animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}),we(this,"json",void 0)}normalize(e,t){this.json=e.json;const i=e.json;switch(i.asset&&i.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(i.asset.version))}if(!t.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(i),this._convertTopLevelObjectsToArrays(i),function qMe(n){const e=new el(n),{json:t}=e;for(const i of t.images||[]){const r=e.getObjectExtension(i,uF);r&&Object.assign(i,r),e.removeObjectExtension(i,uF)}t.buffers&&t.buffers[0]&&delete t.buffers[0].uri,e.removeExtension(uF)}(e),this._convertObjectIdsToArrayIndices(i),this._updateObjects(i),this._updateMaterial(i)}_addAsset(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(e){for(const t in z$)this._convertTopLevelObjectToArray(e,t)}_convertTopLevelObjectToArray(e,t){const i=e[t];if(i&&!Array.isArray(i)){e[t]=[];for(const r in i){const o=i[r];o.id=o.id||r;const s=e[t].length;e[t].push(o),this.idToIndexMap[t][r]=s}}}_convertObjectIdsToArrayIndices(e){for(const t in z$)this._convertIdsToIndices(e,t);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));for(const t of e.textures)this._convertTextureIds(t);for(const t of e.meshes)this._convertMeshIds(t);for(const t of e.nodes)this._convertNodeIds(t);for(const t of e.scenes)this._convertSceneIds(t)}_convertTextureIds(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}_convertMeshIds(e){for(const t of e.primitives){const{attributes:i,indices:r,material:o}=t;for(const s in i)i[s]=this._convertIdToIndex(i[s],"accessor");r&&(t.indices=this._convertIdToIndex(r,"accessor")),o&&(t.material=this._convertIdToIndex(o,"material"))}}_convertNodeIds(e){e.children&&(e.children=e.children.map(t=>this._convertIdToIndex(t,"node"))),e.meshes&&(e.meshes=e.meshes.map(t=>this._convertIdToIndex(t,"mesh")))}_convertSceneIds(e){e.nodes&&(e.nodes=e.nodes.map(t=>this._convertIdToIndex(t,"node")))}_convertIdsToIndices(e,t){e[t]||(console.warn("gltf v1: json doesn't contain attribute ".concat(t)),e[t]=[]);for(const i of e[t])for(const r in i){const s=this._convertIdToIndex(i[r],r);i[r]=s}}_convertIdToIndex(e,t){const i=KMe[t];if(i in this.idToIndexMap){const r=this.idToIndexMap[i][e];if(!Number.isFinite(r))throw new Error("gltf v1: failed to resolve ".concat(t," with id ").concat(e));return r}return e}_updateObjects(e){for(const t of this.json.buffers)delete t.type}_updateMaterial(e){for(const o of e.materials){var t,i,r;o.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const s=(null===(t=o.values)||void 0===t?void 0:t.tex)||(null===(i=o.values)||void 0===i?void 0:i.texture2d_0)||(null===(r=o.values)||void 0===r?void 0:r.diffuseTex),a=e.textures.findIndex(c=>c.id===s);-1!==a&&(o.pbrMetallicRoughness.baseColorTexture={index:a})}}}const ZMe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},eIe={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},tIe={magFilter:10240,minFilter:10241,wrapS:10242,wrapT:10243},nIe={10240:9729,10241:9986,10242:10497,10243:10497};class oIe{constructor(){we(this,"baseUri",""),we(this,"json",{}),we(this,"buffers",[]),we(this,"images",[])}postProcess(e,t={}){const{json:i,buffers:r=[],images:o=[],baseUri:s=""}=e;return Cc(i),this.baseUri=s,this.json=i,this.buffers=r,this.images=o,this._resolveTree(this.json,t),this.json}_resolveTree(e,t={}){e.bufferViews&&(e.bufferViews=e.bufferViews.map((i,r)=>this._resolveBufferView(i,r))),e.images&&(e.images=e.images.map((i,r)=>this._resolveImage(i,r))),e.samplers&&(e.samplers=e.samplers.map((i,r)=>this._resolveSampler(i,r))),e.textures&&(e.textures=e.textures.map((i,r)=>this._resolveTexture(i,r))),e.accessors&&(e.accessors=e.accessors.map((i,r)=>this._resolveAccessor(i,r))),e.materials&&(e.materials=e.materials.map((i,r)=>this._resolveMaterial(i,r))),e.meshes&&(e.meshes=e.meshes.map((i,r)=>this._resolveMesh(i,r))),e.nodes&&(e.nodes=e.nodes.map((i,r)=>this._resolveNode(i,r))),e.skins&&(e.skins=e.skins.map((i,r)=>this._resolveSkin(i,r))),e.scenes&&(e.scenes=e.scenes.map((i,r)=>this._resolveScene(i,r))),void 0!==e.scene&&(e.scene=e.scenes[this.json.scene])}getScene(e){return this._get("scenes",e)}getNode(e){return this._get("nodes",e)}getSkin(e){return this._get("skins",e)}getMesh(e){return this._get("meshes",e)}getMaterial(e){return this._get("materials",e)}getAccessor(e){return this._get("accessors",e)}getCamera(e){return null}getTexture(e){return this._get("textures",e)}getSampler(e){return this._get("samplers",e)}getImage(e){return this._get("images",e)}getBufferView(e){return this._get("bufferViews",e)}getBuffer(e){return this._get("buffers",e)}_get(e,t){if("object"==typeof t)return t;const i=this.json[e]&&this.json[e][t];return i||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),i}_resolveScene(e,t){return e.id=e.id||"scene-".concat(t),e.nodes=(e.nodes||[]).map(i=>this.getNode(i)),e}_resolveNode(e,t){return e.id=e.id||"node-".concat(t),e.children&&(e.children=e.children.map(i=>this.getNode(i))),void 0!==e.mesh?e.mesh=this.getMesh(e.mesh):void 0!==e.meshes&&e.meshes.length&&(e.mesh=e.meshes.reduce((i,r)=>{const o=this.getMesh(r);return i.id=o.id,i.primitives=i.primitives.concat(o.primitives),i},{primitives:[]})),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin)),e}_resolveSkin(e,t){return e.id=e.id||"skin-".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices),e}_resolveMesh(e,t){return e.id=e.id||"mesh-".concat(t),e.primitives&&(e.primitives=e.primitives.map(i=>{const r=(i={...i}).attributes;i.attributes={};for(const o in r)i.attributes[o]=this.getAccessor(r[o]);return void 0!==i.indices&&(i.indices=this.getAccessor(i.indices)),void 0!==i.material&&(i.material=this.getMaterial(i.material)),i})),e}_resolveMaterial(e,t){if(e.id=e.id||"material-".concat(t),e.normalTexture&&(e.normalTexture={...e.normalTexture},e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlustionTexture={...e.occlustionTexture},e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emmisiveTexture={...e.emmisiveTexture},e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.emissiveFactor||(e.emissiveFactor=e.emmisiveTexture?[1,1,1]:[0,0,0]),e.pbrMetallicRoughness){e.pbrMetallicRoughness={...e.pbrMetallicRoughness};const i=e.pbrMetallicRoughness;i.baseColorTexture&&(i.baseColorTexture={...i.baseColorTexture},i.baseColorTexture.texture=this.getTexture(i.baseColorTexture.index)),i.metallicRoughnessTexture&&(i.metallicRoughnessTexture={...i.metallicRoughnessTexture},i.metallicRoughnessTexture.texture=this.getTexture(i.metallicRoughnessTexture.index))}return e}_resolveAccessor(e,t){if(e.id=e.id||"accessor-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=function iIe(n){return eIe[n]}(e.componentType),e.components=function rIe(n){return ZMe[n]}(e.type),e.bytesPerElement=e.bytesPerComponent*e.components,e.bufferView){const i=e.bufferView.buffer,{ArrayType:r,byteLength:o}=v$(e,e.bufferView),s=(e.bufferView.byteOffset||0)+(e.byteOffset||0)+i.byteOffset;let a=i.arrayBuffer.slice(s,s+o);e.bufferView.byteStride&&(a=this._getValueFromInterleavedBuffer(i,s,e.bufferView.byteStride,e.bytesPerElement,e.count)),e.value=new r(a)}return e}_getValueFromInterleavedBuffer(e,t,i,r,o){const s=new Uint8Array(o*r);for(let a=0;a<o;a++){const c=t+a*i;s.set(new Uint8Array(e.arrayBuffer.slice(c,c+r)),a*r)}return s.buffer}_resolveTexture(e,t){return e.id=e.id||"texture-".concat(t),e.sampler="sampler"in e?this.getSampler(e.sampler):nIe,e.source=this.getImage(e.source),e}_resolveSampler(e,t){e.id=e.id||"sampler-".concat(t),e.parameters={};for(const i in e){const r=this._enumSamplerParameter(i);void 0!==r&&(e.parameters[r]=e[i])}return e}_enumSamplerParameter(e){return tIe[e]}_resolveImage(e,t){e.id=e.id||"image-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));const i=this.images[t];return i&&(e.image=i),e}_resolveBufferView(e,t){const i=e.buffer,r={id:"bufferView-".concat(t),...e,buffer:this.buffers[i]};let s=this.buffers[i].byteOffset||0;return"byteOffset"in e&&(s+=e.byteOffset),r.data=new Uint8Array(this.buffers[i].arrayBuffer,s,e.byteLength),r}_resolveCamera(e,t){return e.id=e.id||"camera-".concat(t),e}}const H$=1735152710,hF=12,_A=8,aIe=1313821514,cIe=5130562,lIe=0,dIe=1,uIe=0,Y_=!0;function fF(n,e,t,i){const r=new Uint8Array(e.buffer,t,i),s=new TextDecoder("utf8").decode(r);return n.json=JSON.parse(s),ow(i,4)}function pF(n,e,t,i){return n.header.hasBinChunk=!0,n.binChunks.push({byteOffset:t,byteLength:i,arrayBuffer:e.buffer}),ow(i,4)}function mF(){return mF=fn(function*(n,e,t=0,i,r){var o,s,a,c;(function bIe(n,e,t,i){if(i.uri&&(n.baseUri=i.uri),e instanceof ArrayBuffer&&!function fIe(n,e=0,t={}){const i=new DataView(n),{magic:r=H$}=t,o=i.getUint32(e,!1);return o===r||o===H$}(e,t,i)&&(e=(new TextDecoder).decode(e)),"string"==typeof e)n.json=function vTe(n){try{return JSON.parse(n)}catch{throw new Error('Failed to parse JSON from data starting with "'.concat(function bTe(n,e=5){return"string"==typeof n?n.slice(0,e):ArrayBuffer.isView(n)?f$(n.buffer,n.byteOffset,e):n instanceof ArrayBuffer?f$(n,0,e):""}(n),'"'))}}(e);else if(e instanceof ArrayBuffer){const s={};t=function pIe(n,e,t=0,i={}){const r=new DataView(e),o=function hIe(n,e=0){return"".concat(String.fromCharCode(n.getUint8(e+0))).concat(String.fromCharCode(n.getUint8(e+1))).concat(String.fromCharCode(n.getUint8(e+2))).concat(String.fromCharCode(n.getUint8(e+3)))}(r,t+0),s=r.getUint32(t+4,Y_),a=r.getUint32(t+8,Y_);switch(Object.assign(n,{header:{byteOffset:t,byteLength:a,hasBinChunk:!1},type:o,version:s,json:{},binChunks:[]}),t+=hF,n.version){case 1:return function mIe(n,e,t){em(n.header.byteLength>hF+_A);const i=e.getUint32(t+0,Y_),r=e.getUint32(t+4,Y_);return t+=_A,em(r===uIe),fF(n,e,t,i),(t+=i)+pF(n,e,t,n.header.byteLength)}(n,r,t);case 2:return function gIe(n,e,t,i){return em(n.header.byteLength>hF+_A),function _Ie(n,e,t,i){for(;t+8<=n.header.byteLength;){const r=e.getUint32(t+0,Y_),o=e.getUint32(t+4,Y_);switch(t+=_A,o){case aIe:fF(n,e,t,r);break;case cIe:pF(n,e,t,r);break;case lIe:i.strict||fF(n,e,t,r);break;case dIe:i.strict||pF(n,e,t,r)}t+=ow(r,4)}}(n,e,t,i),t+n.header.byteLength}(n,r,t,{});default:throw new Error("Invalid GLB version ".concat(n.version,". Only supports v1 and v2."))}}(s,e,t,i.glb),Cc("glTF"===s.type,"Invalid GLB magic string ".concat(s.type)),n._glb=s,n.json=s.json}else Cc(!1,"GLTF: must be ArrayBuffer or string");if(n.buffers=new Array((n.json.buffers||[]).length).fill(null),n._glb&&n._glb.header.hasBinChunk){const{binChunks:s}=n._glb;n.buffers[0]={arrayBuffer:s[0].arrayBuffer,byteOffset:s[0].byteOffset,byteLength:s[0].byteLength}}n.images=new Array((n.json.images||[]).length).fill({})})(n,e,t,i),function QMe(n,e={}){(new JMe).normalize(n,e)}(n,{normalize:null==i||null===(o=i.gltf)||void 0===o?void 0:o.normalize}),function XMe(n,e={},t){const i=U$.filter(o=>V$(o.name,e));for(const o of i){var r;null===(r=o.preprocess)||void 0===r||r.call(o,n,e,t)}}(n,i,r);const l=[];if(null!=i&&null!==(s=i.gltf)&&void 0!==s&&s.loadBuffers&&n.json.buffers&&(yield function vIe(n,e,t){return gF.apply(this,arguments)}(n,i,r)),null!=i&&null!==(a=i.gltf)&&void 0!==a&&a.loadImages){const h=function wIe(n,e,t){return _F.apply(this,arguments)}(n,i,r);l.push(h)}const d=function YMe(n){return dF.apply(this,arguments)}(n,i,r);return l.push(d),yield Promise.all(l),null!=i&&null!==(c=i.gltf)&&void 0!==c&&c.postProcess?function sIe(n,e){return(new oIe).postProcess(n,e)}(n,i):n}),mF.apply(this,arguments)}function gF(){return gF=fn(function*(n,e,t){const i=n.json.buffers||[];for(let s=0;s<i.length;++s){const a=i[s];if(a.uri){var r,o;const{fetch:c}=t;Cc(c);const l=m$(a.uri,e),d=yield null==t||null===(r=t.fetch)||void 0===r?void 0:r.call(t,l),h=yield null==d||null===(o=d.arrayBuffer)||void 0===o?void 0:o.call(d);n.buffers[s]={arrayBuffer:h,byteOffset:0,byteLength:h.byteLength},delete a.uri}else null===n.buffers[s]&&(n.buffers[s]={arrayBuffer:new ArrayBuffer(a.byteLength),byteOffset:0,byteLength:a.byteLength})}}),gF.apply(this,arguments)}function _F(){return _F=fn(function*(n,e,t){const i=function xIe(n){const e=new Set,t=n.json.textures||[];for(const i of t)void 0!==i.source&&e.add(i.source);return Array.from(e).sort()}(n),r=n.json.images||[],o=[];for(const s of i)o.push(EIe(n,r[s],s,e,t));return yield Promise.all(o)}),_F.apply(this,arguments)}function EIe(n,e,t,i,r){return yF.apply(this,arguments)}function yF(){return yF=fn(function*(n,e,t,i,r){const{fetch:o,parse:s}=r;let a;if(e.uri&&!e.hasOwnProperty("bufferView")){const l=m$(e.uri,i);a=yield(yield o(l)).arrayBuffer()}if(Number.isFinite(e.bufferView)){const l=function g$(n,e,t){const i=n.bufferViews[t];Cc(i);const o=e[i.buffer];return Cc(o),new Uint8Array(o.arrayBuffer,(i.byteOffset||0)+o.byteOffset,i.byteLength)}(n.json,n.buffers,e.bufferView);a=p$(l.buffer,l.byteOffset,l.byteLength)}Cc(a,"glTF image has no data");let c=yield s(a,[yTe,JAe],{mimeType:e.mimeType,basis:i.basis||{format:o$()}},r);c&&c[0]&&(c={compressed:!0,mipmaps:!1,width:c[0].width,height:c[0].height,data:c[0]}),n.images=n.images||[],n.images[t]=c}),yF.apply(this,arguments)}const q_={name:"glTF",id:"gltf",module:"gltf",version:"3.2.13",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:function CIe(n){return bF.apply(this,arguments)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}};function bF(){return bF=fn(function*(n,e={},t){(e={...q_.options,...e}).gltf={...q_.options.gltf,...e.gltf};const{byteOffset:i=0}=e;return yield function yIe(n,e){return mF.apply(this,arguments)}({},n,i,e,t)}),bF.apply(this,arguments)}function vF(){return vF=fn(function*(n){const e=[];return n.scenes.forEach(t=>{t.traverse(i=>{Object.values(i.model.getUniforms()).forEach(r=>{!1===r.loaded&&e.push(r)})})}),yield function AIe(n){return wF.apply(this,arguments)}(()=>e.some(t=>!t.loaded))}),vF.apply(this,arguments)}function wF(){return wF=fn(function*(n){for(;n();)yield new Promise(e=>requestAnimationFrame(e))}),wF.apply(this,arguments)}const G$=[255,255,255,255],IIe={scenegraph:{type:"object",value:null,async:!0},getScene:n=>n&&n.scenes?"object"==typeof n.scene?n.scene:n.scenes[n.scene||0]:n,getAnimator:n=>n&&n.animator,_animations:null,sizeScale:{type:"number",value:1,min:0},sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:G$},_lighting:"flat",_imageBasedLightingEnvironment:null,getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},loaders:[q_]};class xF extends Qp{constructor(...e){super(...e),we(this,"state",void 0)}getShaders(){const e=[tA,nA];return"pbr"===this.props._lighting&&e.push(L7),{vs:"#version 300 es\n\n// Instance attributes\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\n\n// Uniforms\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform mat4 sceneModelMatrix;\nuniform bool composeModelMatrix;\n\n// Attributes\nin vec4 POSITION;\n\n#ifdef HAS_UV\n  in vec2 TEXCOORD_0;\n#endif\n\n#ifdef MODULE_PBR\n  #ifdef HAS_NORMALS\n    in vec4 NORMAL;\n  #endif\n#endif\n\n// Varying\nout vec4 vColor;\n\n// MODULE_PBR contains all the varying definitions needed\n#ifndef MODULE_PBR\n  #ifdef HAS_UV\n    out vec2 vTEXCOORD_0;\n  #endif\n#endif\n\n// Main\nvoid main(void) {\n  #if defined(HAS_UV) && !defined(MODULE_PBR)\n    vTEXCOORD_0 = TEXCOORD_0;\n    geometry.uv = vTEXCOORD_0;\n  #endif\n\n  geometry.worldPosition = instancePositions;\n  geometry.pickingColor = instancePickingColors;\n\n  vec3 normal = vec3(0.0, 0.0, 1.0);\n  #ifdef MODULE_PBR\n    #ifdef HAS_NORMALS\n      normal = instanceModelMatrix * (sceneModelMatrix * vec4(NORMAL.xyz, 0.0)).xyz;\n    #endif\n  #endif\n\n  float originalSize = project_size_to_pixel(sizeScale);\n  float clampedSize = clamp(originalSize, sizeMinPixels, sizeMaxPixels);\n\n  vec3 pos = (instanceModelMatrix * (sceneModelMatrix * POSITION).xyz) * sizeScale * (clampedSize / originalSize) + instanceTranslation;\n  if(composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    // using instancePositions as world coordinates\n    // when using globe mode, this branch does not re-orient the model to align with the surface of the earth\n    // call project_normal before setting position to avoid rotation\n    geometry.normal = project_normal(normal);\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, geometry.position);\n    geometry.normal = project_normal(normal);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  #ifdef MODULE_PBR\n    // set PBR data\n    pbr_vPosition = geometry.position.xyz;\n    #ifdef HAS_NORMALS\n      pbr_vNormal = geometry.normal;\n    #endif\n\n    #ifdef HAS_UV\n      pbr_vUV = TEXCOORD_0;\n    #else\n      pbr_vUV = vec2(0., 0.);\n    #endif\n    geometry.uv = pbr_vUV;\n  #endif\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n\n// Uniforms\nuniform float opacity;\n\n// Varying\nin vec4 vColor;\n\nout vec4 fragmentColor;\n\n// MODULE_PBR contains all the varying definitions needed\n#ifndef MODULE_PBR\n  #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n    in vec2 vTEXCOORD_0;\n    uniform sampler2D u_BaseColorSampler;\n  #endif\n#endif\n\nvoid main(void) {\n  #ifdef MODULE_PBR\n    fragmentColor = vColor * pbr_filterColor(vec4(0));\n    geometry.uv = pbr_vUV;\n  #else\n    #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n      fragmentColor = vColor * texture2D(u_BaseColorSampler, vTEXCOORD_0);\n      geometry.uv = vTEXCOORD_0;\n    #else\n      fragmentColor = vColor;\n    #endif\n  #endif\n\n  fragmentColor.a *= opacity;\n  DECKGL_FILTER_COLOR(fragmentColor, geometry);\n}\n",modules:e}}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),accessor:"getPosition",transition:!0},instanceColors:{type:5121,size:this.props.colorFormat.length,accessor:"getColor",normalized:!0,defaultValue:G$,transition:!0},instanceModelMatrix:k7})}updateState(e){super.updateState(e);const{props:t,oldProps:i}=e;t.scenegraph!==i.scenegraph?this._updateScenegraph():t._animations!==i._animations&&this._applyAnimationsProp(this.state.scenegraph,this.state.animator,t._animations)}finalizeState(e){super.finalizeState(e),this._deleteScenegraph()}_updateScenegraph(){const e=this.props,{gl:t}=this.context;let i=null;if(e.scenegraph instanceof H_)i={scenes:[e.scenegraph]};else if(e.scenegraph&&!e.scenegraph.gltf){const a=e.scenegraph,c=function MAe(n,e,t){const i=new TAe(n,t);return{scenes:i.instantiate(e),animator:i.createAnimator()}}(t,a,this._getModelOptions());i={gltf:a,...c},function SIe(n){return vF.apply(this,arguments)}(c).then(()=>this.setNeedsRedraw())}else e.scenegraph&&(ki.deprecated("ScenegraphLayer.props.scenegraph","Use GLTFLoader instead of GLTFScenegraphLoader")(),i=e.scenegraph);const r={layer:this,gl:t},o=e.getScene(i,r),s=e.getAnimator(i,r);o instanceof H_?(this._deleteScenegraph(),this._applyAllAttributes(o),this._applyAnimationsProp(o,s,e._animations),this.setState({scenegraph:o,animator:s})):null!==o&&ki.warn("invalid scenegraph:",o)()}_applyAllAttributes(e){if(this.state.attributesAvailable){const t=this.getAttributeManager().getAttributes();e.traverse(i=>{this._setModelAttributes(i.model,t)})}}_applyAnimationsProp(e,t,i){if(!e||!t||!i)return;const r=t.getAnimations();Object.keys(i).sort().forEach(o=>{const s=i[o];if("*"===o)r.forEach(a=>{Object.assign(a,s)});else if(Number.isFinite(Number(o))){const a=Number(o);a>=0&&a<r.length?Object.assign(r[a],s):ki.warn("animation ".concat(o," not found"))()}else{const a=r.find(({name:c})=>c===o);a?Object.assign(a,s):ki.warn("animation ".concat(o," not found"))()}})}_deleteScenegraph(){const{scenegraph:e}=this.state;e instanceof H_&&e.delete()}_getModelOptions(){const{_imageBasedLightingEnvironment:e}=this.props;let t=null;return e&&(t="function"==typeof e?e({gl:this.context.gl,layer:this}):e),{gl:this.context.gl,waitForFullLoad:!0,imageBasedLightingEnvironment:t,modelOptions:{isInstanced:!0,transpileToGLSL100:!Si(this.context.gl),...this.getShaders()},useTangents:!1}}updateAttributes(e){this.setState({attributesAvailable:!0}),this.state.scenegraph&&this.state.scenegraph.traverse(t=>{this._setModelAttributes(t.model,e)})}draw({moduleParameters:e=null,parameters:t={},context:i}){if(!this.state.scenegraph)return;this.props._animations&&this.state.animator&&(this.state.animator.animate(i.timeline.getTime()),this.setNeedsRedraw());const{viewport:r}=this.context,{sizeScale:o,sizeMinPixels:s,sizeMaxPixels:a,opacity:c,coordinateSystem:l}=this.props,d=this.getNumInstances();this.state.scenegraph.traverse((h,{worldMatrix:f})=>{h.model.setInstanceCount(d),h.updateModuleSettings(e),h.draw({parameters:t,uniforms:{sizeScale:o,opacity:c,sizeMinPixels:s,sizeMaxPixels:a,composeModelMatrix:N7(r,l),sceneModelMatrix:f,u_Camera:h.model.getUniforms().project_uCameraPosition}})})}}we(xF,"defaultProps",IIe),we(xF,"layerName","ScenegraphLayer");class DIe extends vf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=Ya("sphere-geometry")}=e,{indices:i,attributes:r}=function OIe(n){const{nlat:e=10,nlong:t=10}=n;let{radius:i=1}=n;const s=Math.PI-0,l=2*Math.PI-0,d=(e+1)*(t+1);if("number"==typeof i){const B=i;i=(z,le,se,ke,$e)=>B}const h=new Float32Array(3*d),f=new Float32Array(3*d),m=new Float32Array(2*d),v=new(d>65535?Uint32Array:Uint16Array)(e*t*6);for(let B=0;B<=e;B++)for(let z=0;z<=t;z++){const le=z/t,se=B/e,ke=z+B*(t+1),$e=2*ke,dt=3*ke,gt=l*le,tt=s*se,bt=Math.sin(gt),Rt=Math.cos(gt),Vt=Math.sin(tt),Tt=Rt*Vt,Xt=Math.cos(tt),xt=bt*Vt,$t=i(Tt,Xt,xt,le,se);h[dt+0]=$t*Tt,h[dt+1]=$t*Xt,h[dt+2]=$t*xt,f[dt+0]=Tt,f[dt+1]=Xt,f[dt+2]=xt,m[$e+0]=le,m[$e+1]=1-se}const C=t+1;for(let B=0;B<t;B++)for(let z=0;z<e;z++){const le=6*(B*e+z);v[le+0]=z*C+B,v[le+1]=z*C+B+1,v[le+2]=(z+1)*C+B,v[le+3]=(z+1)*C+B,v[le+4]=z*C+B+1,v[le+5]=(z+1)*C+B+1}return{indices:{size:1,value:v},attributes:{POSITION:{size:3,value:h},NORMAL:{size:3,value:f},TEXCOORD_0:{size:2,value:m}}}}(e);super({...e,id:t,indices:i,attributes:{...r,...e.attributes}})}}const RIe={x:[2,0,1],y:[0,1,2],z:[1,2,0]};class W$ extends vf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=Ya("truncated-code-geometry")}=e,{indices:i,attributes:r}=function PIe(n){const{bottomRadius:e=0,topRadius:t=0,height:i=1,nradial:r=10,nvertical:o=10,verticalAxis:s="y",topCap:a=!1,bottomCap:c=!1}=n,l=(a?2:0)+(c?2:0),d=(r+1)*(o+1+l),h=Math.atan2(e-t,i),f=Math.sin,m=Math.cos,g=Math.PI,v=m(h),C=f(h),B=a?-2:0,z=o+(c?2:0),le=r+1,se=new Uint16Array(r*(o+l)*6),ke=RIe[s],$e=new Float32Array(3*d),dt=new Float32Array(3*d),gt=new Float32Array(2*d);let tt=0,bt=0;for(let Rt=B;Rt<=z;Rt++){let Tt,Vt=Rt/o,wt=i*Vt;Rt<0?(wt=0,Vt=1,Tt=e):Rt>o?(wt=i,Vt=1,Tt=t):Tt=e+Rt/o*(t-e),(-2===Rt||Rt===o+2)&&(Tt=0,Vt=0),wt-=i/2;for(let Xt=0;Xt<le;Xt++){const xt=f(Xt*g*2/r),$t=m(Xt*g*2/r);$e[tt+ke[0]]=xt*Tt,$e[tt+ke[1]]=wt,$e[tt+ke[2]]=$t*Tt,dt[tt+ke[0]]=Rt<0||Rt>o?0:xt*v,dt[tt+ke[1]]=Rt<0?-1:Rt>o?1:C,dt[tt+ke[2]]=Rt<0||Rt>o?0:$t*v,gt[bt+0]=Xt/r,gt[bt+1]=Vt,bt+=2,tt+=3}}for(let Rt=0;Rt<o+l;Rt++)for(let Vt=0;Vt<r;Vt++){const wt=6*(Rt*r+Vt);se[wt+0]=le*(Rt+0)+0+Vt,se[wt+1]=le*(Rt+0)+1+Vt,se[wt+2]=le*(Rt+1)+1+Vt,se[wt+3]=le*(Rt+0)+0+Vt,se[wt+4]=le*(Rt+1)+1+Vt,se[wt+5]=le*(Rt+1)+0+Vt}return{indices:se,attributes:{POSITION:{size:3,value:$e},NORMAL:{size:3,value:dt},TEXCOORD_0:{size:2,value:gt}}}}(e);super({...e,id:t,indices:i,attributes:{...r,...e.attributes}})}}class kIe extends W${constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=Ya("cone-geometry"),radius:i=1,cap:r=!0}=e;super({...e,id:t,topRadius:0,topCap:!!r,bottomCap:!!r,bottomRadius:i})}}class NIe extends W${constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=Ya("cylinder-geometry"),radius:i=1}=e;super({...e,id:t,bottomRadius:i,topRadius:i})}}const FIe=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),LIe=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),BIe=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),jIe=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]),UIe={POSITION:{size:3,value:new Float32Array(LIe)},NORMAL:{size:3,value:new Float32Array(BIe)},TEXCOORD_0:{size:2,value:new Float32Array(jIe)}};class VIe extends vf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=Ya("cube-geometry")}=e;super({...e,id:t,indices:{size:1,value:new Uint16Array(FIe)},attributes:{...UIe,...e.attributes}})}}function yA(n,e,t){e||(e=new Lt(Lt.IDENTITY));const i=new Lt(Lt.IDENTITY);if(!n)return!0;if(n.matrix)i.copy(n.matrix);else{if(i.identity(),n.translation&&i.translate(n.translation),n.rotation){const o=new Lt(Lt.IDENTITY).fromQuaternion(n.rotation);i.multiplyRight(o)}n.scale&&i.scale(n.scale)}const r=new Lt(e).multiplyRight(i);if(!1===t(n,r,e))return!1;for(const o of n.nodes||n.children||[])if(!1===yA(o,r,t))return!1;return!0}function X$(){q9([E$,q_])}function Y$(n,e){const t=e.nodes?.find(i=>i.name===n);if(t){let i=!1;for(const r of e.scenes)i||yA(r,new Lt(Lt.IDENTITY),(o,s)=>o!==t||(o.matrix=s,o.translation=void 0,o.rotation=void 0,o.scale=void 0,i=!0,!1));return e.scene={id:n,name:n,nodes:[t]},e.scenes=[e.scene],{scene:e.scene,scenes:e.scenes}}return e}function q$(n,e){return EF.apply(this,arguments)}function EF(){return EF=fn(function*(n,e){const t=n.scenegraph;let i;i=e?e[t]||(e[t]=fetch(t).then(o=>o.blob())):fetch(t);const r=yield VS(i,q_,{DracoLoader:tF,gltf:{decompressMeshes:!0,postProcess:!0}});return r.nodes||console.log("WARNING: Empty Scene",t,r),Y$(n.scenegraphNode,r)}),EF.apply(this,arguments)}function zIe(n,e){return CF.apply(this,arguments)}function CF(){return CF=fn(function*(n,e){return Y$(n,yield e)}),CF.apply(this,arguments)}class Pl{constructor(e){void 0===e&&(e=[0,0,0,0,0,0,0,0,0]),this.elements=e}identity(){const e=this.elements;e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1}setZero(){const e=this.elements;e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0}setTrace(e){const t=this.elements;t[0]=e.x,t[4]=e.y,t[8]=e.z}getTrace(e){void 0===e&&(e=new be);const t=this.elements;return e.x=t[0],e.y=t[4],e.z=t[8],e}vmult(e,t){void 0===t&&(t=new be);const i=this.elements,r=e.x,o=e.y,s=e.z;return t.x=i[0]*r+i[1]*o+i[2]*s,t.y=i[3]*r+i[4]*o+i[5]*s,t.z=i[6]*r+i[7]*o+i[8]*s,t}smult(e){for(let t=0;t<this.elements.length;t++)this.elements[t]*=e}mmult(e,t){void 0===t&&(t=new Pl);const i=this.elements,r=e.elements,o=t.elements,s=i[0],a=i[1],c=i[2],l=i[3],d=i[4],h=i[5],f=i[6],m=i[7],g=i[8],v=r[0],C=r[1],B=r[2],z=r[3],le=r[4],se=r[5],ke=r[6],$e=r[7],dt=r[8];return o[0]=s*v+a*z+c*ke,o[1]=s*C+a*le+c*$e,o[2]=s*B+a*se+c*dt,o[3]=l*v+d*z+h*ke,o[4]=l*C+d*le+h*$e,o[5]=l*B+d*se+h*dt,o[6]=f*v+m*z+g*ke,o[7]=f*C+m*le+g*$e,o[8]=f*B+m*se+g*dt,t}scale(e,t){void 0===t&&(t=new Pl);const i=this.elements,r=t.elements;for(let o=0;3!==o;o++)r[3*o+0]=e.x*i[3*o+0],r[3*o+1]=e.y*i[3*o+1],r[3*o+2]=e.z*i[3*o+2];return t}solve(e,t){void 0===t&&(t=new be);const o=[];let s,a;for(s=0;s<12;s++)o.push(0);for(s=0;s<3;s++)for(a=0;a<3;a++)o[s+4*a]=this.elements[s+3*a];o[3]=e.x,o[7]=e.y,o[11]=e.z;let c=3;const l=c;let d,f;do{if(s=l-c,0===o[s+4*s])for(a=s+1;a<l;a++)if(0!==o[s+4*a]){d=4;do{f=4-d,o[f+4*s]+=o[f+4*a]}while(--d);break}if(0!==o[s+4*s])for(a=s+1;a<l;a++){const m=o[s+4*a]/o[s+4*s];d=4;do{f=4-d,o[f+4*a]=f<=s?0:o[f+4*a]-o[f+4*s]*m}while(--d)}}while(--c);if(t.z=o[11]/o[10],t.y=(o[7]-o[6]*t.z)/o[5],t.x=(o[3]-o[2]*t.z-o[1]*t.y)/o[0],isNaN(t.x)||isNaN(t.y)||isNaN(t.z)||t.x===1/0||t.y===1/0||t.z===1/0)throw`Could not solve equation! Got x=[${t.toString()}], b=[${e.toString()}], A=[${this.toString()}]`;return t}e(e,t,i){if(void 0===i)return this.elements[t+3*e];this.elements[t+3*e]=i}copy(e){for(let t=0;t<e.elements.length;t++)this.elements[t]=e.elements[t];return this}toString(){let e="";for(let i=0;i<9;i++)e+=this.elements[i]+",";return e}reverse(e){void 0===e&&(e=new Pl);const r=HIe;let o,s;for(o=0;o<3;o++)for(s=0;s<3;s++)r[o+6*s]=this.elements[o+3*s];r[3]=1,r[9]=0,r[15]=0,r[4]=0,r[10]=1,r[16]=0,r[5]=0,r[11]=0,r[17]=1;let a=3;const c=a;let l,h;do{if(o=c-a,0===r[o+6*o])for(s=o+1;s<c;s++)if(0!==r[o+6*s]){l=6;do{h=6-l,r[h+6*o]+=r[h+6*s]}while(--l);break}if(0!==r[o+6*o])for(s=o+1;s<c;s++){const f=r[o+6*s]/r[o+6*o];l=6;do{h=6-l,r[h+6*s]=h<=o?0:r[h+6*s]-r[h+6*o]*f}while(--l)}}while(--a);o=2;do{s=o-1;do{const f=r[o+6*s]/r[o+6*o];l=6;do{h=6-l,r[h+6*s]=r[h+6*s]-r[h+6*o]*f}while(--l)}while(s--)}while(--o);o=2;do{const f=1/r[o+6*o];l=6;do{h=6-l,r[h+6*o]=r[h+6*o]*f}while(--l)}while(o--);o=2;do{s=2;do{if(h=r[3+s+6*o],isNaN(h)||h===1/0)throw`Could not reverse! A=[${this.toString()}]`;e.e(o,s,h)}while(s--)}while(o--);return e}setRotationFromQuaternion(e){const t=e.x,i=e.y,r=e.z,o=e.w,s=t+t,a=i+i,c=r+r,l=t*s,d=t*a,h=t*c,f=i*a,m=i*c,g=r*c,v=o*s,C=o*a,B=o*c,z=this.elements;return z[0]=1-(f+g),z[1]=d-B,z[2]=h+C,z[3]=d+B,z[4]=1-(l+g),z[5]=m-v,z[6]=h-C,z[7]=m+v,z[8]=1-(l+f),this}transpose(e){void 0===e&&(e=new Pl);const t=this.elements,i=e.elements;let r;return i[0]=t[0],i[4]=t[4],i[8]=t[8],r=t[1],i[1]=t[3],i[3]=r,r=t[2],i[2]=t[6],i[6]=r,r=t[5],i[5]=t[7],i[7]=r,e}}const HIe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];class be{constructor(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),this.x=e,this.y=t,this.z=i}cross(e,t){void 0===t&&(t=new be);const i=e.x,r=e.y,o=e.z,s=this.x,a=this.y,c=this.z;return t.x=a*o-c*r,t.y=c*i-s*o,t.z=s*r-a*i,t}set(e,t,i){return this.x=e,this.y=t,this.z=i,this}setZero(){this.x=this.y=this.z=0}vadd(e,t){if(!t)return new be(this.x+e.x,this.y+e.y,this.z+e.z);t.x=e.x+this.x,t.y=e.y+this.y,t.z=e.z+this.z}vsub(e,t){if(!t)return new be(this.x-e.x,this.y-e.y,this.z-e.z);t.x=this.x-e.x,t.y=this.y-e.y,t.z=this.z-e.z}crossmat(){return new Pl([0,-this.z,this.y,this.z,0,-this.x,-this.y,this.x,0])}normalize(){const e=this.x,t=this.y,i=this.z,r=Math.sqrt(e*e+t*t+i*i);if(r>0){const o=1/r;this.x*=o,this.y*=o,this.z*=o}else this.x=0,this.y=0,this.z=0;return r}unit(e){void 0===e&&(e=new be);const t=this.x,i=this.y,r=this.z;let o=Math.sqrt(t*t+i*i+r*r);return o>0?(o=1/o,e.x=t*o,e.y=i*o,e.z=r*o):(e.x=1,e.y=0,e.z=0),e}length(){const e=this.x,t=this.y,i=this.z;return Math.sqrt(e*e+t*t+i*i)}lengthSquared(){return this.dot(this)}distanceTo(e){const t=this.x,i=this.y,r=this.z,o=e.x,s=e.y,a=e.z;return Math.sqrt((o-t)*(o-t)+(s-i)*(s-i)+(a-r)*(a-r))}distanceSquared(e){const t=this.x,i=this.y,r=this.z,o=e.x,s=e.y,a=e.z;return(o-t)*(o-t)+(s-i)*(s-i)+(a-r)*(a-r)}scale(e,t){void 0===t&&(t=new be);const r=this.y,o=this.z;return t.x=e*this.x,t.y=e*r,t.z=e*o,t}vmul(e,t){return void 0===t&&(t=new be),t.x=e.x*this.x,t.y=e.y*this.y,t.z=e.z*this.z,t}addScaledVector(e,t,i){return void 0===i&&(i=new be),i.x=this.x+e*t.x,i.y=this.y+e*t.y,i.z=this.z+e*t.z,i}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}isZero(){return 0===this.x&&0===this.y&&0===this.z}negate(e){return void 0===e&&(e=new be),e.x=-this.x,e.y=-this.y,e.z=-this.z,e}tangents(e,t){const i=this.length();if(i>0){const r=GIe,o=1/i;r.set(this.x*o,this.y*o,this.z*o);const s=WIe;Math.abs(r.x)<.9?(s.set(1,0,0),r.cross(s,e)):(s.set(0,1,0),r.cross(s,e)),r.cross(e,t)}else e.set(1,0,0),t.set(0,1,0)}toString(){return`${this.x},${this.y},${this.z}`}toArray(){return[this.x,this.y,this.z]}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}lerp(e,t,i){const r=this.x,o=this.y,s=this.z;i.x=r+(e.x-r)*t,i.y=o+(e.y-o)*t,i.z=s+(e.z-s)*t}almostEquals(e,t){return void 0===t&&(t=1e-6),!(Math.abs(this.x-e.x)>t||Math.abs(this.y-e.y)>t||Math.abs(this.z-e.z)>t)}almostZero(e){return void 0===e&&(e=1e-6),!(Math.abs(this.x)>e||Math.abs(this.y)>e||Math.abs(this.z)>e)}isAntiparallelTo(e,t){return this.negate(K$),K$.almostEquals(e,t)}clone(){return new be(this.x,this.y,this.z)}}be.ZERO=new be(0,0,0),be.UNIT_X=new be(1,0,0),be.UNIT_Y=new be(0,1,0),be.UNIT_Z=new be(0,0,1);const GIe=new be,WIe=new be,K$=new be;class Er{constructor(e){void 0===e&&(e={}),this.lowerBound=new be,this.upperBound=new be,e.lowerBound&&this.lowerBound.copy(e.lowerBound),e.upperBound&&this.upperBound.copy(e.upperBound)}setFromPoints(e,t,i,r){const o=this.lowerBound,s=this.upperBound,a=i;o.copy(e[0]),a&&a.vmult(o,o),s.copy(o);for(let c=1;c<e.length;c++){let l=e[c];a&&(a.vmult(l,J$),l=J$),l.x>s.x&&(s.x=l.x),l.x<o.x&&(o.x=l.x),l.y>s.y&&(s.y=l.y),l.y<o.y&&(o.y=l.y),l.z>s.z&&(s.z=l.z),l.z<o.z&&(o.z=l.z)}return t&&(t.vadd(o,o),t.vadd(s,s)),r&&(o.x-=r,o.y-=r,o.z-=r,s.x+=r,s.y+=r,s.z+=r),this}copy(e){return this.lowerBound.copy(e.lowerBound),this.upperBound.copy(e.upperBound),this}clone(){return(new Er).copy(this)}extend(e){this.lowerBound.x=Math.min(this.lowerBound.x,e.lowerBound.x),this.upperBound.x=Math.max(this.upperBound.x,e.upperBound.x),this.lowerBound.y=Math.min(this.lowerBound.y,e.lowerBound.y),this.upperBound.y=Math.max(this.upperBound.y,e.upperBound.y),this.lowerBound.z=Math.min(this.lowerBound.z,e.lowerBound.z),this.upperBound.z=Math.max(this.upperBound.z,e.upperBound.z)}overlaps(e){const t=this.lowerBound,i=this.upperBound,r=e.lowerBound,o=e.upperBound;return(r.x<=i.x&&i.x<=o.x||t.x<=o.x&&o.x<=i.x)&&(r.y<=i.y&&i.y<=o.y||t.y<=o.y&&o.y<=i.y)&&(r.z<=i.z&&i.z<=o.z||t.z<=o.z&&o.z<=i.z)}volume(){const e=this.lowerBound,t=this.upperBound;return(t.x-e.x)*(t.y-e.y)*(t.z-e.z)}contains(e){const t=this.lowerBound,i=this.upperBound,r=e.lowerBound,o=e.upperBound;return t.x<=r.x&&i.x>=o.x&&t.y<=r.y&&i.y>=o.y&&t.z<=r.z&&i.z>=o.z}getCorners(e,t,i,r,o,s,a,c){const l=this.lowerBound,d=this.upperBound;e.copy(l),t.set(d.x,l.y,l.z),i.set(d.x,d.y,l.z),r.set(l.x,d.y,d.z),o.set(d.x,l.y,d.z),s.set(l.x,d.y,l.z),a.set(l.x,l.y,d.z),c.copy(d)}toLocalFrame(e,t){const i=Q$;this.getCorners(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]);for(let f=0;8!==f;f++){const m=i[f];e.pointToLocal(m,m)}return t.setFromPoints(i)}toWorldFrame(e,t){const i=Q$;this.getCorners(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]);for(let f=0;8!==f;f++){const m=i[f];e.pointToWorld(m,m)}return t.setFromPoints(i)}overlapsRay(e){const{direction:t,from:i}=e,r=1/t.x,o=1/t.y,s=1/t.z,a=(this.lowerBound.x-i.x)*r,c=(this.upperBound.x-i.x)*r,l=(this.lowerBound.y-i.y)*o,d=(this.upperBound.y-i.y)*o,h=(this.lowerBound.z-i.z)*s,f=(this.upperBound.z-i.z)*s,m=Math.max(Math.max(Math.min(a,c),Math.min(l,d)),Math.min(h,f)),g=Math.min(Math.min(Math.max(a,c),Math.max(l,d)),Math.max(h,f));return!(g<0||m>g)}}const J$=new be,Q$=[new be,new be,new be,new be,new be,new be,new be,new be];class $Ie{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;return void 0===i[e]&&(i[e]=[]),i[e].includes(t)||i[e].push(t),this}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return!(void 0===i[e]||!i[e].includes(t))}hasAnyEventListener(e){return void 0!==this._listeners&&void 0!==this._listeners[e]}removeEventListener(e,t){if(void 0===this._listeners)return this;const i=this._listeners;if(void 0===i[e])return this;const r=i[e].indexOf(t);return-1!==r&&i[e].splice(r,1),this}dispatchEvent(e){if(void 0===this._listeners)return this;const i=this._listeners[e.type];if(void 0!==i){e.target=this;for(let r=0,o=i.length;r<o;r++)i[r].call(this,e)}return this}}class uo{constructor(e,t,i,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=1),this.x=e,this.y=t,this.z=i,this.w=r}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}toString(){return`${this.x},${this.y},${this.z},${this.w}`}toArray(){return[this.x,this.y,this.z,this.w]}setFromAxisAngle(e,t){const i=Math.sin(.5*t);return this.x=e.x*i,this.y=e.y*i,this.z=e.z*i,this.w=Math.cos(.5*t),this}toAxisAngle(e){void 0===e&&(e=new be),this.normalize();const t=2*Math.acos(this.w),i=Math.sqrt(1-this.w*this.w);return i<.001?(e.x=this.x,e.y=this.y,e.z=this.z):(e.x=this.x/i,e.y=this.y/i,e.z=this.z/i),[e,t]}setFromVectors(e,t){if(e.isAntiparallelTo(t)){const i=XIe;e.tangents(i,YIe),this.setFromAxisAngle(i,Math.PI)}else{const i=e.cross(t);this.x=i.x,this.y=i.y,this.z=i.z,this.w=Math.sqrt(e.length()**2*t.length()**2)+e.dot(t),this.normalize()}return this}mult(e,t){void 0===t&&(t=new uo);const i=this.x,r=this.y,o=this.z,s=this.w,a=e.x,c=e.y,l=e.z,d=e.w;return t.x=i*d+s*a+r*l-o*c,t.y=r*d+s*c+o*a-i*l,t.z=o*d+s*l+i*c-r*a,t.w=s*d-i*a-r*c-o*l,t}inverse(e){void 0===e&&(e=new uo);const t=this.x,i=this.y,r=this.z,o=this.w;this.conjugate(e);const s=1/(t*t+i*i+r*r+o*o);return e.x*=s,e.y*=s,e.z*=s,e.w*=s,e}conjugate(e){return void 0===e&&(e=new uo),e.x=-this.x,e.y=-this.y,e.z=-this.z,e.w=this.w,e}normalize(){let e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=0):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}normalizeFast(){const e=(3-(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w))/2;return 0===e?(this.x=0,this.y=0,this.z=0,this.w=0):(this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}vmult(e,t){void 0===t&&(t=new be);const i=e.x,r=e.y,o=e.z,s=this.x,a=this.y,c=this.z,l=this.w,d=l*i+a*o-c*r,h=l*r+c*i-s*o,f=l*o+s*r-a*i,m=-s*i-a*r-c*o;return t.x=d*l+m*-s+h*-c-f*-a,t.y=h*l+m*-a+f*-s-d*-c,t.z=f*l+m*-c+d*-a-h*-s,t}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this}toEuler(e,t){let i,r,o;void 0===t&&(t="YZX");const s=this.x,a=this.y,c=this.z,l=this.w;if("YZX"!==t)throw new Error(`Euler order ${t} not supported yet.`);{const d=s*a+c*l;if(d>.499&&(i=2*Math.atan2(s,l),r=Math.PI/2,o=0),d<-.499&&(i=-2*Math.atan2(s,l),r=-Math.PI/2,o=0),void 0===i){const h=s*s,m=c*c;i=Math.atan2(2*a*l-2*s*c,1-a*a*2-2*m),r=Math.asin(2*d),o=Math.atan2(2*s*l-2*a*c,1-2*h-2*m)}}e.y=i,e.z=r,e.x=o}setFromEuler(e,t,i,r){void 0===r&&(r="XYZ");const o=Math.cos(e/2),s=Math.cos(t/2),a=Math.cos(i/2),c=Math.sin(e/2),l=Math.sin(t/2),d=Math.sin(i/2);return"XYZ"===r?(this.x=c*s*a+o*l*d,this.y=o*l*a-c*s*d,this.z=o*s*d+c*l*a,this.w=o*s*a-c*l*d):"YXZ"===r?(this.x=c*s*a+o*l*d,this.y=o*l*a-c*s*d,this.z=o*s*d-c*l*a,this.w=o*s*a+c*l*d):"ZXY"===r?(this.x=c*s*a-o*l*d,this.y=o*l*a+c*s*d,this.z=o*s*d+c*l*a,this.w=o*s*a-c*l*d):"ZYX"===r?(this.x=c*s*a-o*l*d,this.y=o*l*a+c*s*d,this.z=o*s*d-c*l*a,this.w=o*s*a+c*l*d):"YZX"===r?(this.x=c*s*a+o*l*d,this.y=o*l*a+c*s*d,this.z=o*s*d-c*l*a,this.w=o*s*a-c*l*d):"XZY"===r&&(this.x=c*s*a-o*l*d,this.y=o*l*a-c*s*d,this.z=o*s*d+c*l*a,this.w=o*s*a+c*l*d),this}clone(){return new uo(this.x,this.y,this.z,this.w)}slerp(e,t,i){void 0===i&&(i=new uo);const r=this.x,o=this.y,s=this.z,a=this.w;let f,m,g,v,C,c=e.x,l=e.y,d=e.z,h=e.w;return m=r*c+o*l+s*d+a*h,m<0&&(m=-m,c=-c,l=-l,d=-d,h=-h),1-m>1e-6?(f=Math.acos(m),g=Math.sin(f),v=Math.sin((1-t)*f)/g,C=Math.sin(t*f)/g):(v=1-t,C=t),i.x=v*r+C*c,i.y=v*o+C*l,i.z=v*s+C*d,i.w=v*a+C*h,i}integrate(e,t,i,r){void 0===r&&(r=new uo);const o=e.x*i.x,s=e.y*i.y,a=e.z*i.z,c=this.x,l=this.y,d=this.z,h=this.w,f=.5*t;return r.x+=f*(o*h+s*d-a*l),r.y+=f*(s*h+a*c-o*d),r.z+=f*(a*h+o*l-s*c),r.w+=f*(-o*c-s*l-a*d),r}}const XIe=new be,YIe=new be,qIe={SPHERE:1,PLANE:2,BOX:4,COMPOUND:8,CONVEXPOLYHEDRON:16,HEIGHTFIELD:32,PARTICLE:64,CYLINDER:128,TRIMESH:256};let On=(()=>{class n{constructor(t){void 0===t&&(t={}),this.id=n.idCounter++,this.type=t.type||0,this.boundingSphereRadius=0,this.collisionResponse=!t.collisionResponse||t.collisionResponse,this.collisionFilterGroup=void 0!==t.collisionFilterGroup?t.collisionFilterGroup:1,this.collisionFilterMask=void 0!==t.collisionFilterMask?t.collisionFilterMask:-1,this.material=t.material?t.material:null,this.body=null}updateBoundingSphereRadius(){throw`computeBoundingSphereRadius() not implemented for shape type ${this.type}`}volume(){throw`volume() not implemented for shape type ${this.type}`}calculateLocalInertia(t,i){throw`calculateLocalInertia() not implemented for shape type ${this.type}`}calculateWorldAABB(t,i,r,o){throw`calculateWorldAABB() not implemented for shape type ${this.type}`}}return n.idCounter=0,n.types=qIe,n})();class Yi{constructor(e){void 0===e&&(e={}),this.position=new be,this.quaternion=new uo,e.position&&this.position.copy(e.position),e.quaternion&&this.quaternion.copy(e.quaternion)}pointToLocal(e,t){return Yi.pointToLocalFrame(this.position,this.quaternion,e,t)}pointToWorld(e,t){return Yi.pointToWorldFrame(this.position,this.quaternion,e,t)}vectorToWorldFrame(e,t){return void 0===t&&(t=new be),this.quaternion.vmult(e,t),t}static pointToLocalFrame(e,t,i,r){return void 0===r&&(r=new be),i.vsub(e,r),t.conjugate(eX),eX.vmult(r,r),r}static pointToWorldFrame(e,t,i,r){return void 0===r&&(r=new be),t.vmult(i,r),r.vadd(e,r),r}static vectorToWorldFrame(e,t,i){return void 0===i&&(i=new be),e.vmult(t,i),i}static vectorToLocalFrame(e,t,i,r){return void 0===r&&(r=new be),t.w*=-1,t.vmult(i,r),t.w*=-1,r}}const eX=new uo;class rm extends On{constructor(e){void 0===e&&(e={});const{vertices:t=[],faces:i=[],normals:r=[],axes:o,boundingSphereRadius:s}=e;super({type:On.types.CONVEXPOLYHEDRON}),this.vertices=t,this.faces=i,this.faceNormals=r,0===this.faceNormals.length&&this.computeNormals(),s?this.boundingSphereRadius=s:this.updateBoundingSphereRadius(),this.worldVertices=[],this.worldVerticesNeedsUpdate=!0,this.worldFaceNormals=[],this.worldFaceNormalsNeedsUpdate=!0,this.uniqueAxes=o?o.slice():null,this.uniqueEdges=[],this.computeEdges()}computeEdges(){const e=this.faces,t=this.vertices,i=this.uniqueEdges;i.length=0;const r=new be;for(let o=0;o!==e.length;o++){const s=e[o],a=s.length;for(let c=0;c!==a;c++){t[s[c]].vsub(t[s[(c+1)%a]],r),r.normalize();let d=!1;for(let h=0;h!==i.length;h++)if(i[h].almostEquals(r)||i[h].almostEquals(r)){d=!0;break}d||i.push(r.clone())}}}computeNormals(){this.faceNormals.length=this.faces.length;for(let e=0;e<this.faces.length;e++){for(let r=0;r<this.faces[e].length;r++)if(!this.vertices[this.faces[e][r]])throw new Error(`Vertex ${this.faces[e][r]} not found!`);const t=this.faceNormals[e]||new be;if(this.getFaceNormal(e,t),t.negate(t),this.faceNormals[e]=t,t.dot(this.vertices[this.faces[e][0]])<0){console.error(`.faceNormals[${e}] = Vec3(${t.toString()}) looks like it points into the shape? The vertices follow. Make sure they are ordered CCW around the normal, using the right hand rule.`);for(let r=0;r<this.faces[e].length;r++)console.warn(`.vertices[${this.faces[e][r]}] = Vec3(${this.vertices[this.faces[e][r]].toString()})`)}}}getFaceNormal(e,t){const i=this.faces[e];rm.computeNormal(this.vertices[i[0]],this.vertices[i[1]],this.vertices[i[2]],t)}static computeNormal(e,t,i,r){const o=new be,s=new be;t.vsub(e,s),i.vsub(t,o),o.cross(s,r),r.isZero()||r.normalize()}clipAgainstHull(e,t,i,r,o,s,a,c,l){const d=new be;let h=-1,f=-Number.MAX_VALUE;for(let g=0;g<i.faces.length;g++){d.copy(i.faceNormals[g]),o.vmult(d,d);const v=d.dot(s);v>f&&(f=v,h=g)}const m=[];for(let g=0;g<i.faces[h].length;g++){const v=i.vertices[i.faces[h][g]],C=new be;C.copy(v),o.vmult(C,C),r.vadd(C,C),m.push(C)}h>=0&&this.clipFaceAgainstHull(s,e,t,m,a,c,l)}findSeparatingAxis(e,t,i,r,o,s,a,c){const l=new be,d=new be,h=new be,f=new be,m=new be,g=new be;let v=Number.MAX_VALUE;const C=this;if(C.uniqueAxes)for(let B=0;B!==C.uniqueAxes.length;B++){i.vmult(C.uniqueAxes[B],l);const z=C.testSepAxis(l,e,t,i,r,o);if(!1===z)return!1;z<v&&(v=z,s.copy(l))}else{const B=a?a.length:C.faces.length;for(let z=0;z<B;z++){l.copy(C.faceNormals[a?a[z]:z]),i.vmult(l,l);const se=C.testSepAxis(l,e,t,i,r,o);if(!1===se)return!1;se<v&&(v=se,s.copy(l))}}if(e.uniqueAxes)for(let B=0;B!==e.uniqueAxes.length;B++){o.vmult(e.uniqueAxes[B],d);const z=C.testSepAxis(d,e,t,i,r,o);if(!1===z)return!1;z<v&&(v=z,s.copy(d))}else{const B=c?c.length:e.faces.length;for(let z=0;z<B;z++){d.copy(e.faceNormals[c?c[z]:z]),o.vmult(d,d);const se=C.testSepAxis(d,e,t,i,r,o);if(!1===se)return!1;se<v&&(v=se,s.copy(d))}}for(let B=0;B!==C.uniqueEdges.length;B++){i.vmult(C.uniqueEdges[B],f);for(let z=0;z!==e.uniqueEdges.length;z++)if(o.vmult(e.uniqueEdges[z],m),f.cross(m,g),!g.almostZero()){g.normalize();const le=C.testSepAxis(g,e,t,i,r,o);if(!1===le)return!1;le<v&&(v=le,s.copy(g))}}return r.vsub(t,h),h.dot(s)>0&&s.negate(s),!0}testSepAxis(e,t,i,r,o,s){rm.project(this,e,i,r,SF),rm.project(t,e,o,s,AF);const c=SF[0],l=SF[1],d=AF[0],h=AF[1];if(c<h||d<l)return!1;const f=c-h,m=d-l;return f<m?f:m}calculateLocalInertia(e,t){const i=new be,r=new be;this.computeLocalAABB(r,i);const o=i.x-r.x,s=i.y-r.y,a=i.z-r.z;t.x=1/12*e*(2*s*2*s+2*a*2*a),t.y=1/12*e*(2*o*2*o+2*a*2*a),t.z=1/12*e*(2*s*2*s+2*o*2*o)}getPlaneConstantOfFace(e){return-this.faceNormals[e].dot(this.vertices[this.faces[e][0]])}clipFaceAgainstHull(e,t,i,r,o,s,a){const c=new be,l=new be,d=new be,h=new be,f=new be,m=new be,g=new be,v=new be,C=this,z=r,le=[];let se=-1,ke=Number.MAX_VALUE;for(let bt=0;bt<C.faces.length;bt++){c.copy(C.faceNormals[bt]),i.vmult(c,c);const Rt=c.dot(e);Rt<ke&&(ke=Rt,se=bt)}if(se<0)return;const $e=C.faces[se];$e.connectedFaces=[];for(let bt=0;bt<C.faces.length;bt++)for(let Rt=0;Rt<C.faces[bt].length;Rt++)-1!==$e.indexOf(C.faces[bt][Rt])&&bt!==se&&-1===$e.connectedFaces.indexOf(bt)&&$e.connectedFaces.push(bt);const dt=$e.length;for(let bt=0;bt<dt;bt++){const Rt=C.vertices[$e[bt]];Rt.vsub(C.vertices[$e[(bt+1)%dt]],l),d.copy(l),i.vmult(d,d),t.vadd(d,d),h.copy(this.faceNormals[se]),i.vmult(h,h),t.vadd(h,h),d.cross(h,f),f.negate(f),m.copy(Rt),i.vmult(m,m),t.vadd(m,m);const wt=$e.connectedFaces[bt];g.copy(this.faceNormals[wt]);const Tt=this.getPlaneConstantOfFace(wt);v.copy(g),i.vmult(v,v);const Xt=Tt-v.dot(t);for(this.clipFaceAgainstPlane(z,le,v,Xt);z.length;)z.shift();for(;le.length;)z.push(le.shift())}g.copy(this.faceNormals[se]);const gt=this.getPlaneConstantOfFace(se);v.copy(g),i.vmult(v,v);const tt=gt-v.dot(t);for(let bt=0;bt<z.length;bt++){let Rt=v.dot(z[bt])+tt;Rt<=o&&(console.log(`clamped: depth=${Rt} to minDist=${o}`),Rt=o),Rt<=s&&Rt<=1e-6&&a.push({point:z[bt],normal:v,depth:Rt})}}clipFaceAgainstPlane(e,t,i,r){let o,s;const a=e.length;if(a<2)return t;let c=e[e.length-1],l=e[0];o=i.dot(c)+r;for(let d=0;d<a;d++){if(l=e[d],s=i.dot(l)+r,o<0)if(s<0){const h=new be;h.copy(l),t.push(h)}else{const h=new be;c.lerp(l,o/(o-s),h),t.push(h)}else if(s<0){const h=new be;c.lerp(l,o/(o-s),h),t.push(h),t.push(l)}c=l,o=s}return t}computeWorldVertices(e,t){for(;this.worldVertices.length<this.vertices.length;)this.worldVertices.push(new be);const i=this.vertices,r=this.worldVertices;for(let o=0;o!==this.vertices.length;o++)t.vmult(i[o],r[o]),e.vadd(r[o],r[o]);this.worldVerticesNeedsUpdate=!1}computeLocalAABB(e,t){const i=this.vertices;e.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),t.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);for(let r=0;r<this.vertices.length;r++){const o=i[r];o.x<e.x?e.x=o.x:o.x>t.x&&(t.x=o.x),o.y<e.y?e.y=o.y:o.y>t.y&&(t.y=o.y),o.z<e.z?e.z=o.z:o.z>t.z&&(t.z=o.z)}}computeWorldFaceNormals(e){const t=this.faceNormals.length;for(;this.worldFaceNormals.length<t;)this.worldFaceNormals.push(new be);const i=this.faceNormals,r=this.worldFaceNormals;for(let o=0;o!==t;o++)e.vmult(i[o],r[o]);this.worldFaceNormalsNeedsUpdate=!1}updateBoundingSphereRadius(){let e=0;const t=this.vertices;for(let i=0;i!==t.length;i++){const r=t[i].lengthSquared();r>e&&(e=r)}this.boundingSphereRadius=Math.sqrt(e)}calculateWorldAABB(e,t,i,r){const o=this.vertices;let s,a,c,l,d,h,f=new be;for(let m=0;m<o.length;m++)f.copy(o[m]),t.vmult(f,f),e.vadd(f,f),(void 0===s||f.x<s)&&(s=f.x),(void 0===l||f.x>l)&&(l=f.x),(void 0===a||f.y<a)&&(a=f.y),(void 0===d||f.y>d)&&(d=f.y),(void 0===c||f.z<c)&&(c=f.z),(void 0===h||f.z>h)&&(h=f.z);i.set(s,a,c),r.set(l,d,h)}volume(){return 4*Math.PI*this.boundingSphereRadius/3}getAveragePointLocal(e){void 0===e&&(e=new be);const t=this.vertices;for(let i=0;i<t.length;i++)e.vadd(t[i],e);return e.scale(1/t.length,e),e}transformAllPoints(e,t){const i=this.vertices.length,r=this.vertices;if(t){for(let o=0;o<i;o++){const s=r[o];t.vmult(s,s)}for(let o=0;o<this.faceNormals.length;o++){const s=this.faceNormals[o];t.vmult(s,s)}}if(e)for(let o=0;o<i;o++){const s=r[o];s.vadd(e,s)}}pointIsInside(e){const t=this.vertices,i=this.faces,r=this.faceNormals,s=new be;this.getAveragePointLocal(s);for(let a=0;a<this.faces.length;a++){let c=r[a];const l=t[i[a][0]],d=new be;e.vsub(l,d);const h=c.dot(d),f=new be;s.vsub(l,f);const m=c.dot(f);if(h<0&&m>0||h>0&&m<0)return!1}return-1}static project(e,t,i,r,o){const s=e.vertices.length,a=JIe;let c=0,l=0;const d=QIe,h=e.vertices;d.setZero(),Yi.vectorToLocalFrame(i,r,t,a),Yi.pointToLocalFrame(i,r,d,d);const f=d.dot(a);l=c=h[0].dot(a);for(let m=1;m<s;m++){const g=h[m].dot(a);g>c&&(c=g),g<l&&(l=g)}if(l-=f,c-=f,l>c){const m=l;l=c,c=m}o[0]=c,o[1]=l}}const SF=[],AF=[],JIe=(new be,new be),QIe=new be;class bA extends On{constructor(e){super({type:On.types.BOX}),this.halfExtents=e,this.convexPolyhedronRepresentation=null,this.updateConvexPolyhedronRepresentation(),this.updateBoundingSphereRadius()}updateConvexPolyhedronRepresentation(){const e=this.halfExtents.x,t=this.halfExtents.y,i=this.halfExtents.z,r=be,o=[new r(-e,-t,-i),new r(e,-t,-i),new r(e,t,-i),new r(-e,t,-i),new r(-e,-t,i),new r(e,-t,i),new r(e,t,i),new r(-e,t,i)],a=[new r(0,0,1),new r(0,1,0),new r(1,0,0)],c=new rm({vertices:o,faces:[[3,2,1,0],[4,5,6,7],[5,4,0,1],[2,3,7,6],[0,4,7,3],[1,2,6,5]],axes:a});this.convexPolyhedronRepresentation=c,c.material=this.material}calculateLocalInertia(e,t){return void 0===t&&(t=new be),bA.calculateInertia(this.halfExtents,e,t),t}static calculateInertia(e,t,i){const r=e;i.x=1/12*t*(2*r.y*2*r.y+2*r.z*2*r.z),i.y=1/12*t*(2*r.x*2*r.x+2*r.z*2*r.z),i.z=1/12*t*(2*r.y*2*r.y+2*r.x*2*r.x)}getSideNormals(e,t){const i=e,r=this.halfExtents;if(i[0].set(r.x,0,0),i[1].set(0,r.y,0),i[2].set(0,0,r.z),i[3].set(-r.x,0,0),i[4].set(0,-r.y,0),i[5].set(0,0,-r.z),void 0!==t)for(let o=0;o!==i.length;o++)t.vmult(i[o],i[o]);return i}volume(){return 8*this.halfExtents.x*this.halfExtents.y*this.halfExtents.z}updateBoundingSphereRadius(){this.boundingSphereRadius=this.halfExtents.length()}forEachWorldCorner(e,t,i){const r=this.halfExtents,o=[[r.x,r.y,r.z],[-r.x,r.y,r.z],[-r.x,-r.y,r.z],[-r.x,-r.y,-r.z],[r.x,-r.y,-r.z],[r.x,r.y,-r.z],[-r.x,r.y,-r.z],[r.x,-r.y,r.z]];for(let s=0;s<o.length;s++)xf.set(o[s][0],o[s][1],o[s][2]),t.vmult(xf,xf),e.vadd(xf,xf),i(xf.x,xf.y,xf.z)}calculateWorldAABB(e,t,i,r){const o=this.halfExtents;Ud[0].set(o.x,o.y,o.z),Ud[1].set(-o.x,o.y,o.z),Ud[2].set(-o.x,-o.y,o.z),Ud[3].set(-o.x,-o.y,-o.z),Ud[4].set(o.x,-o.y,-o.z),Ud[5].set(o.x,o.y,-o.z),Ud[6].set(-o.x,o.y,-o.z),Ud[7].set(o.x,-o.y,o.z);const s=Ud[0];t.vmult(s,s),e.vadd(s,s),r.copy(s),i.copy(s);for(let a=1;a<8;a++){const c=Ud[a];t.vmult(c,c),e.vadd(c,c);const l=c.x,d=c.y,h=c.z;l>r.x&&(r.x=l),d>r.y&&(r.y=d),h>r.z&&(r.z=h),l<i.x&&(i.x=l),d<i.y&&(i.y=d),h<i.z&&(i.z=h)}}}const xf=new be,Ud=[new be,new be,new be,new be,new be,new be,new be,new be];class Rn extends $Ie{constructor(e){void 0===e&&(e={}),super(),this.id=Rn.idCounter++,this.index=-1,this.world=null,this.vlambda=new be,this.collisionFilterGroup="number"==typeof e.collisionFilterGroup?e.collisionFilterGroup:1,this.collisionFilterMask="number"==typeof e.collisionFilterMask?e.collisionFilterMask:-1,this.collisionResponse="boolean"!=typeof e.collisionResponse||e.collisionResponse,this.position=new be,this.previousPosition=new be,this.interpolatedPosition=new be,this.initPosition=new be,e.position&&(this.position.copy(e.position),this.previousPosition.copy(e.position),this.interpolatedPosition.copy(e.position),this.initPosition.copy(e.position)),this.velocity=new be,e.velocity&&this.velocity.copy(e.velocity),this.initVelocity=new be,this.force=new be;const t="number"==typeof e.mass?e.mass:0;this.mass=t,this.invMass=t>0?1/t:0,this.material=e.material||null,this.linearDamping="number"==typeof e.linearDamping?e.linearDamping:.01,this.type=t<=0?Rn.STATIC:Rn.DYNAMIC,typeof e.type==typeof Rn.STATIC&&(this.type=e.type),this.allowSleep=!(typeof e.allowSleep<"u")||e.allowSleep,this.sleepState=Rn.AWAKE,this.sleepSpeedLimit=typeof e.sleepSpeedLimit<"u"?e.sleepSpeedLimit:.1,this.sleepTimeLimit=typeof e.sleepTimeLimit<"u"?e.sleepTimeLimit:1,this.timeLastSleepy=0,this.wakeUpAfterNarrowphase=!1,this.torque=new be,this.quaternion=new uo,this.initQuaternion=new uo,this.previousQuaternion=new uo,this.interpolatedQuaternion=new uo,e.quaternion&&(this.quaternion.copy(e.quaternion),this.initQuaternion.copy(e.quaternion),this.previousQuaternion.copy(e.quaternion),this.interpolatedQuaternion.copy(e.quaternion)),this.angularVelocity=new be,e.angularVelocity&&this.angularVelocity.copy(e.angularVelocity),this.initAngularVelocity=new be,this.shapes=[],this.shapeOffsets=[],this.shapeOrientations=[],this.inertia=new be,this.invInertia=new be,this.invInertiaWorld=new Pl,this.invMassSolve=0,this.invInertiaSolve=new be,this.invInertiaWorldSolve=new Pl,this.fixedRotation=typeof e.fixedRotation<"u"&&e.fixedRotation,this.angularDamping=typeof e.angularDamping<"u"?e.angularDamping:.01,this.linearFactor=new be(1,1,1),e.linearFactor&&this.linearFactor.copy(e.linearFactor),this.angularFactor=new be(1,1,1),e.angularFactor&&this.angularFactor.copy(e.angularFactor),this.aabb=new Er,this.aabbNeedsUpdate=!0,this.boundingRadius=0,this.wlambda=new be,this.isTrigger=!!e.isTrigger,e.shape&&this.addShape(e.shape),this.updateMassProperties()}wakeUp(){const e=this.sleepState;this.sleepState=Rn.AWAKE,this.wakeUpAfterNarrowphase=!1,e===Rn.SLEEPING&&this.dispatchEvent(Rn.wakeupEvent)}sleep(){this.sleepState=Rn.SLEEPING,this.velocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.wakeUpAfterNarrowphase=!1}sleepTick(e){if(this.allowSleep){const t=this.sleepState,i=this.velocity.lengthSquared()+this.angularVelocity.lengthSquared(),r=this.sleepSpeedLimit**2;t===Rn.AWAKE&&i<r?(this.sleepState=Rn.SLEEPY,this.timeLastSleepy=e,this.dispatchEvent(Rn.sleepyEvent)):t===Rn.SLEEPY&&i>r?this.wakeUp():t===Rn.SLEEPY&&e-this.timeLastSleepy>this.sleepTimeLimit&&(this.sleep(),this.dispatchEvent(Rn.sleepEvent))}}updateSolveMassProperties(){this.sleepState===Rn.SLEEPING||this.type===Rn.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve.setZero(),this.invInertiaWorldSolve.setZero()):(this.invMassSolve=this.invMass,this.invInertiaSolve.copy(this.invInertia),this.invInertiaWorldSolve.copy(this.invInertiaWorld))}pointToLocalFrame(e,t){return void 0===t&&(t=new be),e.vsub(this.position,t),this.quaternion.conjugate().vmult(t,t),t}vectorToLocalFrame(e,t){return void 0===t&&(t=new be),this.quaternion.conjugate().vmult(e,t),t}pointToWorldFrame(e,t){return void 0===t&&(t=new be),this.quaternion.vmult(e,t),t.vadd(this.position,t),t}vectorToWorldFrame(e,t){return void 0===t&&(t=new be),this.quaternion.vmult(e,t),t}addShape(e,t,i){const r=new be,o=new uo;return t&&r.copy(t),i&&o.copy(i),this.shapes.push(e),this.shapeOffsets.push(r),this.shapeOrientations.push(o),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=this,this}removeShape(e){const t=this.shapes.indexOf(e);return-1===t?(console.warn("Shape does not belong to the body"),this):(this.shapes.splice(t,1),this.shapeOffsets.splice(t,1),this.shapeOrientations.splice(t,1),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=null,this)}updateBoundingRadius(){const e=this.shapes,t=this.shapeOffsets,i=e.length;let r=0;for(let o=0;o!==i;o++){const s=e[o];s.updateBoundingSphereRadius();const a=t[o].length(),c=s.boundingSphereRadius;a+c>r&&(r=a+c)}this.boundingRadius=r}updateAABB(){const e=this.shapes,t=this.shapeOffsets,i=this.shapeOrientations,r=e.length,o=ZIe,s=eDe,a=this.quaternion,c=this.aabb,l=tDe;for(let d=0;d!==r;d++){const h=e[d];a.vmult(t[d],o),o.vadd(this.position,o),a.mult(i[d],s),h.calculateWorldAABB(o,s,l.lowerBound,l.upperBound),0===d?c.copy(l):c.extend(l)}this.aabbNeedsUpdate=!1}updateInertiaWorld(e){const t=this.invInertia;if(t.x!==t.y||t.y!==t.z||e){const i=nDe,r=iDe;i.setRotationFromQuaternion(this.quaternion),i.transpose(r),i.scale(t,i),i.mmult(r,this.invInertiaWorld)}}applyForce(e,t){if(void 0===t&&(t=new be),this.type!==Rn.DYNAMIC)return;this.sleepState===Rn.SLEEPING&&this.wakeUp();const i=oDe;t.cross(e,i),this.force.vadd(e,this.force),this.torque.vadd(i,this.torque)}applyLocalForce(e,t){if(void 0===t&&(t=new be),this.type!==Rn.DYNAMIC)return;const i=sDe,r=aDe;this.vectorToWorldFrame(e,i),this.vectorToWorldFrame(t,r),this.applyForce(i,r)}applyTorque(e){this.type===Rn.DYNAMIC&&(this.sleepState===Rn.SLEEPING&&this.wakeUp(),this.torque.vadd(e,this.torque))}applyImpulse(e,t){if(void 0===t&&(t=new be),this.type!==Rn.DYNAMIC)return;this.sleepState===Rn.SLEEPING&&this.wakeUp();const i=t,r=cDe;r.copy(e),r.scale(this.invMass,r),this.velocity.vadd(r,this.velocity);const o=lDe;i.cross(e,o),this.invInertiaWorld.vmult(o,o),this.angularVelocity.vadd(o,this.angularVelocity)}applyLocalImpulse(e,t){if(void 0===t&&(t=new be),this.type!==Rn.DYNAMIC)return;const i=dDe,r=uDe;this.vectorToWorldFrame(e,i),this.vectorToWorldFrame(t,r),this.applyImpulse(i,r)}updateMassProperties(){const e=hDe;this.invMass=this.mass>0?1/this.mass:0;const t=this.inertia,i=this.fixedRotation;this.updateAABB(),e.set((this.aabb.upperBound.x-this.aabb.lowerBound.x)/2,(this.aabb.upperBound.y-this.aabb.lowerBound.y)/2,(this.aabb.upperBound.z-this.aabb.lowerBound.z)/2),bA.calculateInertia(e,this.mass,t),this.invInertia.set(t.x>0&&!i?1/t.x:0,t.y>0&&!i?1/t.y:0,t.z>0&&!i?1/t.z:0),this.updateInertiaWorld(!0)}getVelocityAtWorldPoint(e,t){const i=new be;return e.vsub(this.position,i),this.angularVelocity.cross(i,t),this.velocity.vadd(t,t),t}integrate(e,t,i){if(this.previousPosition.copy(this.position),this.previousQuaternion.copy(this.quaternion),this.type!==Rn.DYNAMIC&&this.type!==Rn.KINEMATIC||this.sleepState===Rn.SLEEPING)return;const r=this.velocity,o=this.angularVelocity,s=this.position,a=this.force,c=this.torque,l=this.quaternion,h=this.invInertiaWorld,f=this.linearFactor,m=this.invMass*e;r.x+=a.x*m*f.x,r.y+=a.y*m*f.y,r.z+=a.z*m*f.z;const g=h.elements,v=this.angularFactor,C=c.x*v.x,B=c.y*v.y,z=c.z*v.z;o.x+=e*(g[0]*C+g[1]*B+g[2]*z),o.y+=e*(g[3]*C+g[4]*B+g[5]*z),o.z+=e*(g[6]*C+g[7]*B+g[8]*z),s.x+=r.x*e,s.y+=r.y*e,s.z+=r.z*e,l.integrate(this.angularVelocity,e,this.angularFactor,l),t&&(i?l.normalizeFast():l.normalize()),this.aabbNeedsUpdate=!0,this.updateInertiaWorld()}}Rn.idCounter=0,Rn.COLLIDE_EVENT_NAME="collide",Rn.DYNAMIC=1,Rn.STATIC=2,Rn.KINEMATIC=4,Rn.AWAKE=0,Rn.SLEEPY=1,Rn.SLEEPING=2,Rn.wakeupEvent={type:"wakeup"},Rn.sleepyEvent={type:"sleepy"},Rn.sleepEvent={type:"sleep"};const ZIe=new be,eDe=new uo,tDe=new Er,nDe=new Pl,iDe=new Pl,oDe=(new Pl,new be),sDe=new be,aDe=new be,cDe=new be,lDe=new be,dDe=new be,uDe=new be,hDe=new be;new be,new be,new uo,new be,new be,new be,new be;class dw{constructor(){this.rayFromWorld=new be,this.rayToWorld=new be,this.hitNormalWorld=new be,this.hitPointWorld=new be,this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}reset(){this.rayFromWorld.setZero(),this.rayToWorld.setZero(),this.hitNormalWorld.setZero(),this.hitPointWorld.setZero(),this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}abort(){this.shouldStop=!0}set(e,t,i,r,o,s,a){this.rayFromWorld.copy(e),this.rayToWorld.copy(t),this.hitNormalWorld.copy(i),this.hitPointWorld.copy(r),this.shape=o,this.body=s,this.distance=a}}let tX,nX,iX,rX,oX,sX,aX;tX=On.types.SPHERE,nX=On.types.PLANE,iX=On.types.BOX,rX=On.types.CYLINDER,oX=On.types.CONVEXPOLYHEDRON,sX=On.types.HEIGHTFIELD,aX=On.types.TRIMESH;class Yo{get[tX](){return this._intersectSphere}get[nX](){return this._intersectPlane}get[iX](){return this._intersectBox}get[rX](){return this._intersectConvex}get[oX](){return this._intersectConvex}get[sX](){return this._intersectHeightfield}get[aX](){return this._intersectTrimesh}constructor(e,t){void 0===e&&(e=new be),void 0===t&&(t=new be),this.from=e.clone(),this.to=t.clone(),this.direction=new be,this.precision=1e-4,this.checkCollisionResponse=!0,this.skipBackfaces=!1,this.collisionFilterMask=-1,this.collisionFilterGroup=-1,this.mode=Yo.ANY,this.result=new dw,this.hasHit=!1,this.callback=i=>{}}intersectWorld(e,t){return this.mode=t.mode||Yo.ANY,this.result=t.result||new dw,this.skipBackfaces=!!t.skipBackfaces,this.collisionFilterMask=typeof t.collisionFilterMask<"u"?t.collisionFilterMask:-1,this.collisionFilterGroup=typeof t.collisionFilterGroup<"u"?t.collisionFilterGroup:-1,this.checkCollisionResponse=!(typeof t.checkCollisionResponse<"u")||t.checkCollisionResponse,t.from&&this.from.copy(t.from),t.to&&this.to.copy(t.to),this.callback=t.callback||(()=>{}),this.hasHit=!1,this.result.reset(),this.updateDirection(),this.getAABB(cX),DF.length=0,e.broadphase.aabbQuery(e,cX,DF),this.intersectBodies(DF),this.hasHit}intersectBody(e,t){t&&(this.result=t,this.updateDirection());const i=this.checkCollisionResponse;if(i&&!e.collisionResponse||!(this.collisionFilterGroup&e.collisionFilterMask)||!(e.collisionFilterGroup&this.collisionFilterMask))return;const r=bDe,o=vDe;for(let s=0,a=e.shapes.length;s<a;s++){const c=e.shapes[s];if((!i||c.collisionResponse)&&(e.quaternion.mult(e.shapeOrientations[s],o),e.quaternion.vmult(e.shapeOffsets[s],r),r.vadd(e.position,r),this.intersectShape(c,o,r,e),this.result.shouldStop))break}}intersectBodies(e,t){t&&(this.result=t,this.updateDirection());for(let i=0,r=e.length;!this.result.shouldStop&&i<r;i++)this.intersectBody(e[i])}updateDirection(){this.to.vsub(this.from,this.direction),this.direction.normalize()}intersectShape(e,t,i,r){if(function FDe(n,e,t){t.vsub(n,om);const i=om.dot(e);return e.scale(i,wA),wA.vadd(n,wA),t.distanceTo(wA)}(this.from,this.direction,i)>e.boundingSphereRadius)return;const a=this[e.type];a&&a.call(this,e,t,i,r,e)}_intersectBox(e,t,i,r,o){return this._intersectConvex(e.convexPolyhedronRepresentation,t,i,r,o)}_intersectPlane(e,t,i,r,o){const s=this.from,a=this.to,c=this.direction,l=new be(0,0,1);t.vmult(l,l);const d=new be;s.vsub(i,d);const h=d.dot(l);if(a.vsub(i,d),h*d.dot(l)>0||s.distanceTo(a)<h)return;const m=l.dot(c);if(Math.abs(m)<this.precision)return;const g=new be,v=new be,C=new be;s.vsub(i,g);const B=-l.dot(g)/m;c.scale(B,v),s.vadd(v,C),this.reportIntersection(l,C,o,r,-1)}getAABB(e){const{lowerBound:t,upperBound:i}=e,r=this.to,o=this.from;t.x=Math.min(r.x,o.x),t.y=Math.min(r.y,o.y),t.z=Math.min(r.z,o.z),i.x=Math.max(r.x,o.x),i.y=Math.max(r.y,o.y),i.z=Math.max(r.z,o.z)}_intersectHeightfield(e,t,i,r,o){const s=wDe;s.from.copy(this.from),s.to.copy(this.to),Yi.pointToLocalFrame(i,t,s.from,s.from),Yi.pointToLocalFrame(i,t,s.to,s.to),s.updateDirection();const a=xDe;let c,l,d,h;c=l=0,d=h=e.data.length-1;const f=new Er;s.getAABB(f),e.getIndexOfPosition(f.lowerBound.x,f.lowerBound.y,a,!0),c=Math.max(c,a[0]),l=Math.max(l,a[1]),e.getIndexOfPosition(f.upperBound.x,f.upperBound.y,a,!0),d=Math.min(d,a[0]+1),h=Math.min(h,a[1]+1);for(let m=c;m<d;m++)for(let g=l;g<h;g++){if(this.result.shouldStop)return;if(e.getAabbAtIndex(m,g,f),f.overlapsRay(s)){if(e.getConvexTrianglePillar(m,g,!1),Yi.pointToWorldFrame(i,t,e.pillarOffset,vA),this._intersectConvex(e.pillarConvex,t,vA,r,o,lX),this.result.shouldStop)return;e.getConvexTrianglePillar(m,g,!0),Yi.pointToWorldFrame(i,t,e.pillarOffset,vA),this._intersectConvex(e.pillarConvex,t,vA,r,o,lX)}}}_intersectSphere(e,t,i,r,o){const s=this.from,a=this.to,l=(a.x-s.x)**2+(a.y-s.y)**2+(a.z-s.z)**2,d=2*((a.x-s.x)*(s.x-i.x)+(a.y-s.y)*(s.y-i.y)+(a.z-s.z)*(s.z-i.z)),f=d**2-4*l*((s.x-i.x)**2+(s.y-i.y)**2+(s.z-i.z)**2-e.radius**2),m=EDe,g=CDe;if(!(f<0))if(0===f)s.lerp(a,f,m),m.vsub(i,g),g.normalize(),this.reportIntersection(g,m,o,r,-1);else{const v=(-d-Math.sqrt(f))/(2*l),C=(-d+Math.sqrt(f))/(2*l);if(v>=0&&v<=1&&(s.lerp(a,v,m),m.vsub(i,g),g.normalize(),this.reportIntersection(g,m,o,r,-1)),this.result.shouldStop)return;C>=0&&C<=1&&(s.lerp(a,C,m),m.vsub(i,g),g.normalize(),this.reportIntersection(g,m,o,r,-1))}}_intersectConvex(e,t,i,r,o,s){const a=SDe,c=dX,l=s&&s.faceList||null,d=e.faces,h=e.vertices,f=e.faceNormals,m=this.direction,g=this.from,C=g.distanceTo(this.to),B=l?l.length:d.length,z=this.result;for(let le=0;!z.shouldStop&&le<B;le++){const se=l?l[le]:le,ke=d[se],$e=f[se],dt=t,gt=i;c.copy(h[ke[0]]),dt.vmult(c,c),c.vadd(gt,c),c.vsub(g,c),dt.vmult($e,a);const tt=m.dot(a);if(Math.abs(tt)<this.precision)continue;const bt=a.dot(c)/tt;if(!(bt<0)){m.scale(bt,Ka),Ka.vadd(g,Ka),kl.copy(h[ke[0]]),dt.vmult(kl,kl),gt.vadd(kl,kl);for(let Rt=1;!z.shouldStop&&Rt<ke.length-1;Rt++){Vd.copy(h[ke[Rt]]),zd.copy(h[ke[Rt+1]]),dt.vmult(Vd,Vd),dt.vmult(zd,zd),gt.vadd(Vd,Vd),gt.vadd(zd,zd);const Vt=Ka.distanceTo(g);!Yo.pointInTriangle(Ka,kl,Vd,zd)&&!Yo.pointInTriangle(Ka,Vd,kl,zd)||Vt>C||this.reportIntersection(a,Ka,o,r,se)}}}}_intersectTrimesh(e,t,i,r,o,s){const a=MDe,c=kDe,l=NDe,d=dX,h=IDe,f=DDe,m=ODe,g=PDe,v=RDe,C=e.indices,B=this.from,z=this.to,le=this.direction;l.position.copy(i),l.quaternion.copy(t),Yi.vectorToLocalFrame(i,t,le,h),Yi.pointToLocalFrame(i,t,B,f),Yi.pointToLocalFrame(i,t,z,m),m.x*=e.scale.x,m.y*=e.scale.y,m.z*=e.scale.z,f.x*=e.scale.x,f.y*=e.scale.y,f.z*=e.scale.z,m.vsub(f,h),h.normalize();const se=f.distanceSquared(m);e.tree.rayQuery(this,l,c);for(let ke=0,$e=c.length;!this.result.shouldStop&&ke!==$e;ke++){const dt=c[ke];e.getNormal(dt,a),e.getVertex(C[3*dt],kl),kl.vsub(f,d);const gt=h.dot(a),tt=a.dot(d)/gt;if(tt<0)continue;h.scale(tt,Ka),Ka.vadd(f,Ka),e.getVertex(C[3*dt+1],Vd),e.getVertex(C[3*dt+2],zd);const bt=Ka.distanceSquared(f);!Yo.pointInTriangle(Ka,Vd,kl,zd)&&!Yo.pointInTriangle(Ka,kl,Vd,zd)||bt>se||(Yi.vectorToWorldFrame(t,a,v),Yi.pointToWorldFrame(i,t,Ka,g),this.reportIntersection(v,g,o,r,dt))}c.length=0}reportIntersection(e,t,i,r,o){const s=this.from,a=this.to,c=s.distanceTo(t),l=this.result;if(!(this.skipBackfaces&&e.dot(this.direction)>0))switch(l.hitFaceIndex=typeof o<"u"?o:-1,this.mode){case Yo.ALL:this.hasHit=!0,l.set(s,a,e,t,i,r,c),l.hasHit=!0,this.callback(l);break;case Yo.CLOSEST:(c<l.distance||!l.hasHit)&&(this.hasHit=!0,l.hasHit=!0,l.set(s,a,e,t,i,r,c));break;case Yo.ANY:this.hasHit=!0,l.hasHit=!0,l.set(s,a,e,t,i,r,c),l.shouldStop=!0}}static pointInTriangle(e,t,i,r){r.vsub(t,om),i.vsub(t,uw),e.vsub(t,OF);const o=om.dot(om),s=om.dot(uw),a=om.dot(OF),c=uw.dot(uw),l=uw.dot(OF);let d,h;return(d=c*a-s*l)>=0&&(h=o*l-s*a)>=0&&d+h<o*c-s*s}}Yo.CLOSEST=1,Yo.ANY=2,Yo.ALL=4;const cX=new Er,DF=[],uw=new be,OF=new be,bDe=new be,vDe=new uo,Ka=new be,kl=new be,Vd=new be,zd=new be;new be,new dw;const lX={faceList:[0]},vA=new be,wDe=new Yo,xDe=[],EDe=new be,CDe=new be,SDe=new be,dX=(new be,new be,new be),MDe=new be,IDe=new be,DDe=new be,ODe=new be,RDe=new be,PDe=new be;new Er;const kDe=[],NDe=new Yi,om=new be,wA=new be;new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new Yo,new be,new be,new be,new be(1,0,0),new be(0,1,0),new be(0,0,1),new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new Er,new be,new Er,new be,new be,new be,new be,new be,new be,new be,new Er,new be,new Yi,new Er,new be,new be,new be,new be,new be,new uo,new uo,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new Er,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new uo,new be,new be,new be,new be,new be,new be,new be,new be,new be,new Er,new Yo;const ss=globalThis.performance||{};if(!ss.now){let n=Date.now();ss.timing&&ss.timing.navigationStart&&(n=ss.timing.navigationStart),ss.now=()=>Date.now()-n}function NF(){return NF=fn(function*(n){console.log("Starting Collisioning");const e=n.filter(s=>!s.scenegraph&&"wireframe"!==s.geometry).map(s=>{const a=new Lt(s.transformMatrix),c=a.transformAsPoint([-1,-1,-1],[]),l=a.transformAsPoint([1,1,1],[]);return{"@id":s["@id"],name:s.tooltip,entityId:s.entityId,bbox:new Er({lowerBound:new be(...c.map((d,h)=>Math.min(d,l[h]))),upperBound:new be(...l.map((d,h)=>Math.max(d,c[h])))})}}),t=[];for(const s of n.filter(a=>!!a.scenegraph)){const a=yield W0(s.scenegraph,q_,{DracoLoader:tF,decompress:!0,postProcess:!0});for(const c of a.scenes)yA(c,new Lt(s.transformMatrix),(l,d)=>{if(l.mesh&&l.mesh.primitives&&l.mesh.primitives.length>0)for(const h of l.mesh.primitives)if(h.attributes.POSITION&&h.attributes.POSITION.min){const f=d.transformAsPoint(h.attributes.POSITION.min,[]),m=d.transformAsPoint(h.attributes.POSITION.max,[]);t.push({"@id":s["@id"],name:l.name,entityId:s.entityId,bbox:new Er({lowerBound:new be(...f.map((g,v)=>Math.min(g,m[v]))),upperBound:new be(...m.map((g,v)=>Math.max(g,f[v])))}),gltf:a})}return!0})}const i=[],r=[];for(const s of e){const a=[];for(const c of t)s.bbox.overlaps(c.bbox)&&a.push({"@id":c["@id"],name:c.name});a.length>0?i.push({"@id":s.entityId,name:s.name,hits:a}):r.push(s)}console.log({sourceBoxes:e,targetBoxes:t,report:i,sad:r,maxHits:Math.max(...i.map(s=>s.hits.length))});const o=[];for(const s of i){o.push({"Tissue ID":s["@id"],"Tissue Name":s.name,"Hit ID":"","Hit Name":""});for(const a of s.hits)o.push({"Tissue ID":s["@id"],"Tissue Name":s.name,"Hit ID":a["@id"],"Hit Name":a.name})}return console.log(o),i}),NF.apply(this,arguments)}function FF(n,e,t){if(e&&0!==e.length){let i;switch(t.geometry){case"sphere":i=new DIe;break;case"cone":i=new kIe;break;case"cylinder":i=new NIe;break;default:i=new VIe}return new cN({id:n,pickable:!0,autoHighlight:!1,highlightColor:[30,136,229,255],coordinateSystem:Wi.CARTESIAN,data:e,mesh:i,wireframe:!1,getColor:r=>r.color||[255,255,255,229.5],getTransformMatrix:r=>r.transformMatrix,...t})}}function FX(n,e,t){if(e&&0!==e.length)return new rN({id:n,pickable:!0,data:e.map(i=>({...i,position:new Lt(i.transformMatrix).getTranslation()})),getText:i=>i.text,getPosition:i=>i.position,getColor:i=>i.color,...t})}new be;let VPe=(()=>{class n extends Z2{static#e=this.layerName="BodyUILayer";static#t=this.gltfCache={};initializeState(){const{data:t}=this.props;this.setState({data:t??[],zoomOpacity:.8,doCollisions:!1}),X$()}renderLayers(){const t=this.state,i={sphere:[],cone:[],cylinder:[],cube:[],text:[],wireframe:[],scenegraph:[]};for(const s of t.data){const a=s.geometry??"cube";s.scenegraph?i.scenegraph.push(s):void 0!==i[a]&&i[a].push(s)}const r={};for(const s of i.scenegraph)s.scenegraph&&s.scenegraphNode&&!Object.prototype.hasOwnProperty.call(r,s.scenegraph)&&(r[s.scenegraph]=q$({scenegraph:s.scenegraph},n.gltfCache));const o=[];for(const[s,a]of Object.entries(i))if("scenegraph"===s)for(const c of a)o.push(new xF({id:"models-"+c["@id"],opacity:c.zoomBasedOpacity?t.zoomOpacity:c.opacity??1,pickable:!c.unpickable,coordinateSystem:Wi.CARTESIAN,data:[c],scenegraph:c.scenegraphNode?zIe(c.scenegraphNode,r[c.scenegraph]):c.scenegraph,_lighting:c._lighting,getTransformMatrix:c.transformMatrix,getColor:c.color??[0,255,0,127.5],parameters:{depthMask:!c.zoomBasedOpacity&&(void 0===c.opacity||1===c.opacity)}}));else"text"===s?(o.push(FX("text",a.filter(c=>c.unpickable),{pickable:!1})),o.push(FX("textPickable",a.filter(c=>!c.unpickable),{pickable:!0}))):"wireframe"===s?o.push(FF(s,a,{wireframe:!0,pickable:!1,geometry:s})):(o.push(FF(s,a.filter(c=>c.unpickable),{wireframe:!1,pickable:!1,geometry:s})),o.push(FF(`${s}Pickable`,a.filter(c=>!c.unpickable),{wireframe:!1,pickable:!0,geometry:s})));return t.doCollisions&&function UPe(n){NF.apply(this,arguments)}(t.data),o.filter(s=>!!s)}getPickingInfo(t){return t.info}}return n})();function LX(n,e=[]){for(const t of n.nodes||n.children||[])e.push(t.name),LX(t,e);return e}function LF(){return LF=fn(function*(n,e,t,i){X$();const r=yield q$({scenegraph:n,scenegraphNode:t},i),o={},s=[];e=new Lt(e??Lt.IDENTITY);for(const a of r.scenes)yA(a,e,(c,l)=>{const d={"@id":c.name||c.id,"@type":"ProcessedNode",transformMatrix:new Lt(l),geometry:"wireframe",node:c};if(s.push({"@id":`GLTF:${d["@id"]}`,"@type":"GLTFNode",scenegraph:n,scenegraphNode:d["@id"],transformMatrix:new Lt(e||Lt.IDENTITY),tooltip:c.name||c.id,color:[255,255,255,255],_lighting:"pbr",zoomBasedOpacity:!0,node:c}),c.mesh&&c.mesh.primitives&&c.mesh.primitives.length>0)for(const h of c.mesh.primitives)if(h.attributes.POSITION&&h.attributes.POSITION.min){const f=l.transformAsPoint(h.attributes.POSITION.min,[]),m=l.transformAsPoint(h.attributes.POSITION.max,[]);d.bbox=new Er({lowerBound:new be(...f.map((g,v)=>Math.min(g,m[v]))),upperBound:new be(...m.map((g,v)=>Math.max(g,f[v])))})}return o[d["@id"]]=d,!0});for(const a of Object.values(o).filter(c=>!c.bbox)){for(const c of LX(a.node).map(l=>o[l]).filter(l=>l.bbox))a.bbox?a.bbox.extend(c.bbox):a.bbox=c.bbox.clone();a.bbox||delete o[a["@id"]]}for(const a of Object.values(o)){const c=a.bbox.lowerBound,h=(a.size=a.bbox.upperBound.clone().vsub(c)).clone().vmul(new be(.5,.5,.5)),f=a.center=c.clone().vadd(h);a.transformMatrix=new Lt(Lt.IDENTITY).translate(f.toArray()).scale(h.toArray())}for(const a of s)o[a["@id"]]=a;return o}),LF.apply(this,arguments)}class lm{constructor(e){this.deckProps=e,this.bodyUILayer=new VPe({}),this.nodeClickSubject=new rn,this.nodeHoverStartSubject=new rn,this.nodeHoverStopSubject=new rn,this.sceneRotationSubject=new hr([0,0]),this.nodeDragStartSubject=new rn,this.nodeDragSubject=new rn,this.nodeDragEndSubject=new rn,this.nodeClick$=this.nodeClickSubject.pipe(xd()),this.nodeHoverStart$=this.nodeHoverStartSubject.pipe(xd()),this.nodeHoverStop$=this.nodeHoverStopSubject.pipe(xd()),this.sceneRotation$=this.sceneRotationSubject.pipe(xd()),this.nodeDragStart$=this.nodeDragStartSubject.pipe(xd()),this.nodeDrag$=this.nodeDragSubject.pipe(xd()),this.nodeDragEnd$=this.nodeDragEndSubject.pipe(xd());const t={...e,views:["orthographic"===e.camera?new ik({flipY:!1,near:-1e3}):new s6({orbitAxis:"Y"})],controller:e.interactive??!0,layers:[this.bodyUILayer],onHover:this._onHover,onClick:this._onClick,onViewStateChange:this._onViewStateChange,onDragStart:this._onDragStart,onDrag:this._onDrag,onDragEnd:this._onDragEnd,getCursor:i=>this.cursor??(i.isDragging?"grabbing":"grab")};e.legacyLighting&&(t.effects=[new Lk({ambientLight:new f9({color:[255,255,255],intensity:10})})]),this.deck=new U2(t),this.deck.setProps({viewState:{orbitAxis:"Y",minRotationX:e.minRotationX??-15,maxRotationX:e.maxRotationX??15,target:e.target??[.5,.5,0],rotationX:0,rotationOrbit:e.rotation??0,zoom:e.zoom??9.5,camera:e.camera}}),e.rotation&&this.sceneRotationSubject.next([e.rotation,0])}initialize(){var e=this;return fn(function*(){for(;!e.bodyUILayer.state;)yield new Promise(t=>{setTimeout(t,200)})})()}finalize(){this.deck.finalize()}setScene(e){if(e?.length>0){let t=this.bodyUILayer.state.zoomOpacity,i=!1;for(const r of e)r.zoomToOnLoad&&(this.zoomTo(r),i=!0);t=i?.05:t,this.deckProps.debugSceneNodeProcessing?this.debugSceneNodeProcessing(e,t):this.bodyUILayer.setState({data:e,zoomOpacity:t})}}debugSceneNodeProcessing(e,t){const i="https://hubmapconsortium.github.io/ccf-3d-reference-object-library/VH_Female/United/VHF_United_Color.glb",r=new Lt([.076,0,0,0,0,.076,16875389974302382e-33,0,0,-16875389974302382e-33,.076,0,.49,.034,.11,1]);(function zPe(n,e,t,i){return LF.apply(this,arguments)})(i,r,"VHF_Kidney_L_Low1").then(o=>{console.log("results",o),console.log("data",e),(e=e.concat(Object.values(o))).push({"@id":"TEST","@type":"TEST",scenegraph:i,scenegraphNode:"VHF_Kidney_R_Low",transformMatrix:r,color:[255,255,255,200],_lighting:"pbr",zoomBasedOpacity:!1}),this.bodyUILayer.setState({data:e,zoomOpacity:t})})}zoomTo(e){const t=new Lt(e.transformMatrix);this.deck.setProps({viewState:{...this.deck.props.viewState,target:t.getTranslation(),rotationX:0,rotationOrbit:0,zoom:11.5}})}setRotation(e){this.deck.setProps({viewState:{...this.deck.props.viewState,rotationOrbit:e}})}setRotationX(e){this.deck.setProps({viewState:{...this.deck.props.viewState,rotationX:e}})}setZoom(e){this.deck.setProps({viewState:{...this.deck.props.viewState,zoom:e}})}setTarget(e){this.deck.setProps({viewState:{...this.deck.props.viewState,target:e}})}setInteractive(e){this.deck.setProps({controller:e})}_onHover(e){const{lastHovered:t}=this;this.cursor=e.picked?"pointer":void 0,e.picked&&e.object?.["@id"]?t!==e.object&&(t&&this.nodeHoverStopSubject.next(t),this.lastHovered=e.object,this.nodeHoverStartSubject.next(e.object)):t&&(this.nodeHoverStopSubject.next(t),this.lastHovered=void 0)}_onClick(e,t){e.picked&&e.object?.["@id"]&&this.nodeClickSubject.next({node:e.object,ctrlClick:t?.srcEvent?.ctrlKey??void 0})}_onViewStateChange(e){if(e.interactionState?.isZooming){const t=this.bodyUILayer.state,i=Math.min(Math.max(1-(e.viewState.zoom-8.9)/2,.05),1);t.zoomOpacity!==i&&this.bodyUILayer.setState({data:t.data,zoomOpacity:i})}this.deck.setProps({viewState:{...e.viewState}}),this.sceneRotationSubject.next([e.viewState.rotationOrbit,e.viewState.rotationX])}_onDragStart(e,t){this._dragEvent(e,t,this.nodeDragStartSubject)}_onDrag(e,t){this._dragEvent(e,t,this.nodeDragSubject)}_onDragEnd(e,t){this._dragEvent(e,t,this.nodeDragEndSubject)}_dragEvent(e,t,i){e?.object?.["@id"]&&i.next({node:e.object,info:e,e:t})}}Pt([Fd.ak,Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],lm.prototype,"_onHover",null),Pt([Fd.ak,Fe("design:type",Function),Fe("design:paramtypes",[Object,Object]),Fe("design:returntype",void 0)],lm.prototype,"_onClick",null),Pt([Fd.ak,Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],lm.prototype,"_onViewStateChange",null),Pt([Fd.ak,Fe("design:type",Function),Fe("design:paramtypes",[Object,MouseEvent]),Fe("design:returntype",void 0)],lm.prototype,"_onDragStart",null),Pt([Fd.ak,Fe("design:type",Function),Fe("design:paramtypes",[Object,MouseEvent]),Fe("design:returntype",void 0)],lm.prototype,"_onDrag",null),Pt([Fd.ak,Fe("design:type",Function),Fe("design:paramtypes",[Object,MouseEvent]),Fe("design:returntype",void 0)],lm.prototype,"_onDragEnd",null);const HPe=["bodyCanvas"];let GPe=(()=>{class n{constructor(){this.clsName="ccf-body-ui",this.rotationChange=new qt,this.nodeDrag=new qt,this.nodeClick=new qt,this.nodeHoverStart=new qt,this.nodeHoverStop=new qt,this.initialized=new qt,this._interactive=!0,this._rotation=0,this._rotationX=0,this._zoom=9.5,this._target=[0,0,0],this._scene=[],this.subscriptions=[]}get scene(){return this._scene}set scene(t){this._scene=t,this.bodyUI?.setScene(t)}get rotation(){return this._rotation}set rotation(t){this._rotation=t,this.bodyUI?.setRotation(t)}get rotationX(){return this._rotationX}set rotationX(t){this._rotationX=t,this.bodyUI?.setRotationX(t)}get zoom(){return this._zoom}set zoom(t){this._zoom=t,this.bodyUI?.setZoom(t)}get target(){return this._target}set target(t){this._target=t,this.bodyUI?.setTarget(t)}get bounds(){return this._bounds}set bounds(t){this._bounds=t,this.zoomToBounds(t)}get camera(){return this._camera}set camera(t){this._camera=t}get interactive(){return this._interactive}set interactive(t){this._interactive=t,this.bodyUI&&this.recreateBodyUI()}ngAfterViewInit(){this.setupBodyUI()}zoomToBounds(t,i={x:48,y:48}){if(this.bodyCanvas){const{width:r,height:o}=this.bodyCanvas.nativeElement,s=window.devicePixelRatio,a=Math.min(Math.log2((r-i.x)/s/t.x),Math.log2((o-i.y)/s/t.y));this.zoom=a}}setupBodyUI(){var t=this;return fn(function*(){const i=t.bodyCanvas.nativeElement,r=new lm({id:"body-ui",canvas:i,zoom:t.zoom,target:[0,0,0],rotation:0,minRotationX:-75,maxRotationX:75,interactive:t.interactive,camera:t.camera});i.addEventListener("contextmenu",o=>o.preventDefault()),yield r.initialize(),t.bodyUI=r,window.bodyUI=r,t.scene?.length>0&&t.bodyUI.setScene(t.scene),t.bounds&&t.zoomToBounds(t.bounds),t.target&&t.bodyUI.setTarget(t.target),t.subscriptions=[t.bodyUI.sceneRotation$.subscribe(o=>t.rotationChange.next(o)),t.bodyUI.nodeDrag$.subscribe(o=>t.nodeDrag.emit(o)),t.bodyUI.nodeClick$.subscribe(o=>t.nodeClick.emit(o)),t.bodyUI.nodeHoverStart$.subscribe(o=>t.nodeHoverStart.emit(o)),t.bodyUI.nodeHoverStop$.subscribe(o=>t.nodeHoverStop.emit(o))],t.initialized.emit()})()}recreateBodyUI(){this.clearSubscriptions(),this.bodyUI.finalize(),this.setupBodyUI()}clearSubscriptions(){this.subscriptions.forEach(t=>t.unsubscribe()),this.subscriptions=[]}ngOnDestroy(){this.clearSubscriptions()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-body-ui"]],viewQuery:function(i,r){if(1&i&&Di(HPe,5,In),2&i){let o;An(o=Tn())&&(r.bodyCanvas=o.first)}},hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},inputs:{scene:"scene",rotation:"rotation",rotationX:"rotationX",zoom:"zoom",target:"target",bounds:"bounds",camera:"camera",interactive:"interactive"},outputs:{rotationChange:"rotationChange",nodeDrag:"nodeDrag",nodeClick:"nodeClick",nodeHoverStart:"nodeHoverStart",nodeHoverStop:"nodeHoverStop",initialized:"initialized"},decls:2,vars:0,consts:[[1,"body-ui"],["bodyCanvas",""]],template:function(i,r){1&i&&_n(0,"canvas",0,1)},styles:["[_nghost-%COMP%]{height:100%;display:block}[_nghost-%COMP%]   .body-ui[_ngcontent-%COMP%]{position:relative!important;background-color:#000;border-radius:.5rem}"],changeDetection:0})}return n})(),WPe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi]})}return n})(),BX=(()=>{class n{constructor(){this.bootstrap$=new qh(1)}get appBootstrapped$(){return this.bootstrap$.asObservable()}bootstrap(){this.bootstrap$.next(!0),this.bootstrap$.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $Pe(n,e){return n===e}function BF(n,e=$Pe){let t=null,i=null;function r(){return function XPe(n,e,t){if(null===e||null===t||e.length!==t.length)return!1;const i=e.length;for(let r=0;r<i;r++)if(!n(e[r],t[r]))return!1;return!0}(e,t,arguments)||(i=n.apply(null,arguments)),t=arguments,i}return r.reset=function(){t=null,i=null},r}let YPe=(()=>{class n{static set(t){this._value=t}static pop(){const t=this._value;return this._value={},t}}return n._value={},n})();const jX=new _t("INITIAL_STATE_TOKEN",{providedIn:"root",factory:()=>YPe.pop()}),UX=new _t("\u0275NGXS_STATE_FACTORY"),VX=new _t("\u0275NGXS_STATE_CONTEXT_FACTORY");function dm(n){return!!n&&(n instanceof Et||Oe(n.lift)&&Oe(n.subscribe))}function zX(n,e){return e?t=>t.pipe(zX((i,r)=>Zr(n(i,r)).pipe(Bt((o,s)=>e(i,o,r,s))))):_i((t,i)=>{let r=0,o=null,s=!1;t.subscribe(wn(i,a=>{o||(o=wn(i,void 0,()=>{o=null,s&&i.complete()}),Zr(n(a,r++)).subscribe(o))},()=>{s=!0,!o&&i.complete()}))})}function Z_(n){return _i((e,t)=>{let i=!1;e.subscribe(wn(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function IA(n){return"function"==typeof n}function HX(n){return typeof n>"u"}function JPe(n,e,t){return function(r){let o=!!n;return function jF(n){return"function"==typeof n}(n)&&(o=n(r)),function $X(n,e){return IA(n)?n(e):HX(n)?e:n}(o?e:t,r)}}function QPe(n,e){return function(i){if(function KPe(n){return null===n||HX(n)}(n)&&i)return i;if(!Array.isArray(i))return[n];const r=i.slice();let o=0;return e>0&&(o=e),r.splice(o,0,n),r}}function um(n){return function(t){let i=null;for(const r in n){const o=n[r],s=t?.[r],a=IA(o)?o(s):o;a!==s&&(i||(i=Object.assign({},t)),i[r]=a)}return i||t}}function hm(n){return n.constructor&&n.constructor.type?n.constructor.type:n.type}const UF=(n,e,t)=>{n=Object.assign({},n);const i=e.split("."),r=i.length-1;return i.reduce((o,s,a)=>(o[s]=a===r?t:Array.isArray(o[s])?o[s].slice():Object.assign({},o[s]),o&&o[s]),n),n},_w=(n,e)=>e.split(".").reduce((t,i)=>t&&t[i],n),VF=n=>n&&"object"==typeof n&&!Array.isArray(n),zF=(n,...e)=>{if(!e.length)return n;const t=e.shift();if(VF(n)&&VF(t))for(const i in t)VF(t[i])?(n[i]||Object.assign(n,{[i]:{}}),zF(n[i],t[i])):Object.assign(n,{[i]:t[i]});return zF(n,...e)};let XX=(()=>{class n{constructor(t,i){this._ngZone=t,this._platformId=i}enter(t){return $v(this._platformId)?this.runInsideAngular(t):this.runOutsideAngular(t)}leave(t){return this.runInsideAngular(t)}runInsideAngular(t){return gn.isInAngularZone()?t():this._ngZone.run(t)}runOutsideAngular(t){return gn.isInAngularZone()?this._ngZone.runOutsideAngular(t):t()}}return n.\u0275fac=function(t){return new(t||n)(et(gn),et(Ss))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YX=new _t("ROOT_OPTIONS"),qX=new _t("ROOT_STATE_TOKEN"),KX=new _t("FEATURE_STATE_TOKEN"),HF=new _t("NGXS_PLUGINS"),Zu="NGXS_META",JX="NGXS_OPTIONS_META",GF="NGXS_SELECTOR_META";let DA=(()=>{class n{constructor(){this.defaultsState={},this.selectorOptions={injectContainerState:!0,suppressErrors:!0},this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=XX}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=It({token:n,factory:function(t){let i=null;return t?i=new t:(r=et(YX),i=zF(new n,r)),i;var r},providedIn:"root"}),n})();class ake{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}}let cke=(()=>{class n{enter(t){return t()}leave(t){return t()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QX=new _t("USER_PROVIDED_NGXS_EXECUTION_STRATEGY"),lke=new _t("NGXS_EXECUTION_STRATEGY",{providedIn:"root",factory:()=>{const n=jt(yu),e=n.get(QX);return n.get(e||(typeof Ni.Zone<"u"?XX:cke))}});function WF(n){if(!n.hasOwnProperty(Zu)){const e={name:null,actions:{},defaults:{},path:null,makeRootSelector:t=>t.getStateGetter(e.name),children:[]};Object.defineProperty(n,Zu,{value:e})}return fm(n)}function fm(n){return n[Zu]}function $F(n){return n.hasOwnProperty(GF)||Object.defineProperty(n,GF,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),OA(n)}function OA(n){return n[GF]}function ZX(n,e){return e&&e.compatibility&&e.compatibility.strictContentSecurityPolicy?function dke(n){const e=n.slice();return t=>e.reduce((i,r)=>i&&i[r],t)}(n):function uke(n){const e=n;let t="store."+e[0],i=0;const r=e.length;let o=t;for(;++i<r;)o=o+" && "+(t=t+"."+e[i]);return new Function("store","return "+o+";")}(n)}function _ke(...n){return function ey(n,e,t=vke){const i=function wke(n){return n.reduce((e,t)=>(e[hm(t)]=!0,e),{})}(n),r=e&&function xke(n){return n.reduce((e,t)=>(e[t]=!0,e),{})}(e);return function(o){return o.pipe(function yke(n,e){return vi(t=>{const i=hm(t.action);return n[i]&&(!e||e[t.status])})}(i,r),t())}}(n,["DISPATCHED"])}function vke(){return Bt(n=>n.action)}function RA(n){return e=>new Et(t=>e.subscribe({next(i){n.leave(()=>t.next(i))},error(i){n.leave(()=>t.error(i))},complete(){n.leave(()=>t.complete())}}))}let eY=(()=>{class n{constructor(t){this._executionStrategy=t}enter(t){return this._executionStrategy.enter(t)}leave(t){return this._executionStrategy.leave(t)}}return n.\u0275fac=function(t){return new(t||n)(et(lke))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tY(n){const e=[];let t=!1;return function(...r){if(t)e.unshift(r);else{for(t=!0,n(...r);e.length>0;){const o=e.pop();o&&n(...o)}t=!1}}}class Eke extends rn{constructor(){super(...arguments),this._orderedNext=tY(e=>super.next(e))}next(e){this._orderedNext(e)}}class Cke extends hr{constructor(e){super(e),this._orderedNext=tY(t=>super.next(t)),this._currentValue=e}getValue(){return this._currentValue}next(e){this._currentValue=e,this._orderedNext(e)}}let nY=(()=>{class n extends Eke{ngOnDestroy(){this.complete()}}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=Gi(n)))(i||n)}})(),n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iY=n=>(...e)=>n.shift()(...e,(...i)=>iY(n)(...i));let rY=(()=>{class n{constructor(t){this._injector=t,this._errorHandler=null}reportErrorSafely(t){null===this._errorHandler&&(this._errorHandler=this._injector.get(hc));try{this._errorHandler.handleError(t)}catch{}}}return n.\u0275fac=function(t){return new(t||n)(et(xi))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XF=(()=>{class n extends Cke{constructor(){super({})}ngOnDestroy(){this.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YF=(()=>{class n{constructor(t,i){this._parentManager=t,this._pluginHandlers=i,this.plugins=[],this.registerHandlers()}get rootPlugins(){return this._parentManager&&this._parentManager.plugins||this.plugins}registerHandlers(){const t=this.getPluginHandlers();this.rootPlugins.push(...t)}getPluginHandlers(){return(this._pluginHandlers||[]).map(i=>i.handle?i.handle.bind(i):i)}}return n.\u0275fac=function(t){return new(t||n)(et(n,12),et(HF,8))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),oY=(()=>{class n extends rn{}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=Gi(n)))(i||n)}})(),n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ake=(()=>{class n{constructor(t,i,r,o,s,a){this._actions=t,this._actionResults=i,this._pluginManager=r,this._stateStream=o,this._ngxsExecutionStrategy=s,this._internalErrorReporter=a}dispatch(t){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(t)).pipe(function Ske(n,e){return t=>{let i=!1;return t.subscribe({error:r=>{e.enter(()=>Promise.resolve().then(()=>{i||e.leave(()=>n.reportErrorSafely(r))}))}}),new Et(r=>(i=!0,t.pipe(RA(e)).subscribe(r)))}}(this._internalErrorReporter,this._ngxsExecutionStrategy))}dispatchByEvents(t){return Array.isArray(t)?0===t.length?Mn(this._stateStream.getValue()):c0(t.map(i=>this.dispatchSingle(i))):this.dispatchSingle(t)}dispatchSingle(t){const i=this._stateStream.getValue();return iY([...this._pluginManager.plugins,(o,s)=>{o!==i&&this._stateStream.next(o);const a=this.getActionResultStream(s);return a.subscribe(c=>this._actions.next(c)),this._actions.next({action:s,status:"DISPATCHED"}),this.createDispatchObservable(a)}])(i,t).pipe(Yc())}getActionResultStream(t){return this._actionResults.pipe(vi(i=>i.action===t&&"DISPATCHED"!==i.status),cr(1),Yc())}createDispatchObservable(t){return t.pipe(zX(i=>{switch(i.status){case"SUCCESSFUL":return Mn(this._stateStream.getValue());case"ERRORED":return tf(i.error);default:return ea}})).pipe(Yc())}}return n.\u0275fac=function(t){return new(t||n)(et(nY),et(oY),et(YF),et(XF),et(eY),et(rY))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yw=(()=>{class n{constructor(t,i,r){this._stateStream=t,this._dispatcher=i,this._config=r}getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:i=>this._stateStream.next(i),dispatch:i=>this._dispatcher.dispatch(i)}}setStateToTheCurrentWithNew(t){const i=this.getRootStateOperations(),r=i.getState();i.setState(Object.assign(Object.assign({},r),t.defaults))}}return n.\u0275fac=function(t){return new(t||n)(et(XF),et(Ake),et(DA))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qF=(()=>{class n{constructor(t){this._internalStateOperations=t}createStateContext(t){const i=this._internalStateOperations.getRootStateOperations();return{getState:()=>lY(i.getState(),t.path),patchState(r){const o=i.getState(),s=function Tke(n){return e=>{const t=Object.assign({},e);for(const i in n)t[i]=n[i];return t}}(r);return cY(i,o,s,t.path)},setState(r){const o=i.getState();return IA(r)?cY(i,o,r,t.path):aY(i,o,r,t.path)},dispatch:r=>i.dispatch(r)}}}return n.\u0275fac=function(t){return new(t||n)(et(yw))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function aY(n,e,t,i){const r=UF(e,i,t);return n.setState(r),r}function cY(n,e,t,i){return aY(n,e,t(lY(e,i)),i)}function lY(n,e){return _w(n,e)}new RegExp("^[a-zA-Z0-9_]+$");let KF=(()=>{class n{}return n.type="@@INIT",n})(),JF=(()=>{class n{constructor(t){this.addedStates=t}}return n.type="@@UPDATE_STATE",n})();new _t("NGXS_DEVELOPMENT_OPTIONS",{providedIn:"root",factory:()=>({warnOnUnhandledActions:!0})});let ty=(()=>{class n{constructor(t,i,r,o,s,a,c){this._injector=t,this._config=i,this._parentFactory=r,this._actions=o,this._actionResults=s,this._stateContextFactory=a,this._initialState=c,this._actionsSubscription=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=BF(()=>{const l=this;function d(f){const m=l.statePaths[f];return m?ZX(m.split("."),l._config):null}return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(f){let m=d(f);return m||((...g)=>(m||(m=d(f)),m?m(...g):void 0))},getSelectorOptions:f=>Object.assign(Object.assign({},l._config.selectorOptions),f||{})}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}static _cloneDefaults(t){let i=t;return Array.isArray(t)?i=t.slice():function gke(n){return"object"==typeof n&&null!==n||"function"==typeof n}(t)?i=Object.assign({},t):void 0===t&&(i={}),i}ngOnDestroy(){var t;null===(t=this._actionsSubscription)||void 0===t||t.unsubscribe()}add(t){const{newStates:i}=this.addToStatesMap(t);if(!i.length)return[];const r=function hke(n){const e=t=>n.find(r=>r===t)[Zu].name;return n.reduce((t,i)=>{const{name:r,children:o}=i[Zu];return t[r]=(o||[]).map(e),t},{})}(i),o=function mke(n){const e=[],t={},i=(r,o=[])=>{Array.isArray(o)||(o=[]),o.push(r),t[r]=!0,n[r].forEach(s=>{t[s]||i(s,o.slice(0))}),e.indexOf(r)<0&&e.push(r)};return Object.keys(n).forEach(r=>i(r)),e.reverse()}(r),s=function pke(n,e={}){const t=(i,r)=>{for(const o in i)if(i.hasOwnProperty(o)&&i[o].indexOf(r)>=0){const s=t(i,o);return null!==s?`${s}.${o}`:o}return null};for(const i in n)if(n.hasOwnProperty(i)){const r=t(n,i);e[i]=r?`${r}.${i}`:i}return e}(r),a=function fke(n){return n.reduce((e,t)=>(e[t[Zu].name]=t,e),{})}(i),c=[];for(const l of o){const d=a[l],h=s[l],f=d[Zu];this.addRuntimeInfoToMeta(f,h);const m={name:l,path:h,isInitialised:!1,actions:f.actions,instance:this._injector.get(d),defaults:n._cloneDefaults(f.defaults)};this.hasBeenMountedAndBootstrapped(l,h)||c.push(m),this.states.push(m)}return c}addAndReturnDefaults(t){const r=this.add(t||[]);return{defaults:r.reduce((s,a)=>UF(s,a.path,a.defaults),{}),states:r}}connectActionHandlers(){if(this._parentFactory||null!==this._actionsSubscription)return;const t=new rn;this._actionsSubscription=this._actions.pipe(vi(i=>"DISPATCHED"===i.status),Wo(i=>{t.next(i);const r=i.action;return this.invokeActions(t,r).pipe(Bt(()=>({action:r,status:"SUCCESSFUL"})),Z_({action:r,status:"CANCELED"}),$a(o=>Mn({action:r,status:"ERRORED",error:o})))})).subscribe(i=>this._actionResults.next(i))}invokeActions(t,i){const r=hm(i),o=[];let s=!1;for(const a of this.states){const c=a.actions[r];if(c)for(const l of c){const d=this._stateContextFactory.createStateContext(a);try{let h=a.instance[l.fn](d,i);h instanceof Promise&&(h=qr(h)),dm(h)?(h=h.pipe(Wo(f=>f instanceof Promise?qr(f):dm(f)?f:Mn(f)),Z_({})),l.options.cancelUncompleted&&(h=h.pipe(Ei(t.pipe(_ke(i)))))):h=Mn({}).pipe(Yc()),o.push(h)}catch(h){o.push(tf(h))}s=!0}}return o.length||o.push(Mn({})),c0(o)}addToStatesMap(t){const i=[],r=this.statesByName;for(const o of t){const s=fm(o).name;!r[s]&&(i.push(o),r[s]=o)}return{newStates:i}}addRuntimeInfoToMeta(t,i){this.statePaths[t.name]=i,t.path=i}hasBeenMountedAndBootstrapped(t,i){const r=void 0!==_w(this._initialState,i);return this.statesByName[t]&&r}}return n.\u0275fac=function(t){return new(t||n)(et(xi),et(DA),et(n,12),et(nY),et(oY),et(qF),et(jX,8))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();function dY(n){const e=OA(n)||fm(n);return e&&e.makeRootSelector||(()=>n)}let Hd=(()=>{class n{constructor(t,i,r,o,s,a){this._stateStream=t,this._internalStateOperations=i,this._config=r,this._internalExecutionStrategy=o,this._stateFactory=s,this._selectableStateStream=this._stateStream.pipe(RA(this._internalExecutionStrategy),Yc({bufferSize:1,refCount:!0})),this.initStateStream(a)}dispatch(t){return this._internalStateOperations.getRootStateOperations().dispatch(t)}select(t){const i=this.getStoreBoundSelectorFn(t);return this._selectableStateStream.pipe(Bt(i),$a(r=>{const{suppressErrors:o}=this._config.selectorOptions;return r instanceof TypeError&&o?Mn(void 0):tf(r)}),ta(),RA(this._internalExecutionStrategy))}selectOnce(t){return this.select(t).pipe(cr(1))}selectSnapshot(t){return this.getStoreBoundSelectorFn(t)(this._stateStream.getValue())}subscribe(t){return this._selectableStateStream.pipe(RA(this._internalExecutionStrategy)).subscribe(t)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(t){return this._internalStateOperations.getRootStateOperations().setState(t)}getStoreBoundSelectorFn(t){return dY(t)(this._stateFactory.getRuntimeSelectorContext())}initStateStream(t){const i=this._stateStream.value;if(!i||0===Object.keys(i).length){const s=Object.keys(this._config.defaultsState).length>0?Object.assign(Object.assign({},this._config.defaultsState),t):t;this._stateStream.next(s)}}}return n.\u0275fac=function(t){return new(t||n)(et(XF),et(yw),et(DA),et(eY),et(ty),et(jX,8))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kA=(()=>{class n{constructor(t,i){n.store=t,n.config=i}ngOnDestroy(){n.store=null,n.config=null}}return n.store=null,n.config=null,n.\u0275fac=function(t){return new(t||n)(et(Hd),et(DA))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uY=(()=>{class n{constructor(t,i,r,o,s){this._store=t,this._internalErrorReporter=i,this._internalStateOperations=r,this._stateContextFactory=o,this._bootstrapper=s,this._destroy$=new rn}ngOnDestroy(){this._destroy$.next()}ngxsBootstrap(t,i){this._internalStateOperations.getRootStateOperations().dispatch(t).pipe(vi(()=>!!i),tr(()=>this._invokeInitOnStates(i.states)),Wo(()=>this._bootstrapper.appBootstrapped$),vi(r=>!!r),$a(r=>(this._internalErrorReporter.reportErrorSafely(r),ea)),Ei(this._destroy$)).subscribe(()=>this._invokeBootstrapOnStates(i.states))}_invokeInitOnStates(t){for(const i of t){const r=i.instance;r.ngxsOnChanges&&this._store.select(o=>_w(o,i.path)).pipe(is(void 0),_i((n,e)=>{let t,i=!1;n.subscribe(wn(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))}),Ei(this._destroy$)).subscribe(([o,s])=>{const a=new ake(o,s,!i.isInitialised);r.ngxsOnChanges(a)}),r.ngxsOnInit&&r.ngxsOnInit(this._getStateContext(i)),i.isInitialised=!0}}_invokeBootstrapOnStates(t){for(const i of t){const r=i.instance;r.ngxsAfterBootstrap&&r.ngxsAfterBootstrap(this._getStateContext(i))}}_getStateContext(t){return this._stateContextFactory.createStateContext(t)}}return n.\u0275fac=function(t){return new(t||n)(et(Hd),et(rY),et(yw),et(qF),et(BX))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uke=(()=>{class n{constructor(t,i,r,o,s=[],a){const c=t.addAndReturnDefaults(s);i.setStateToTheCurrentWithNew(c),t.connectActionHandlers(),a.ngxsBootstrap(new KF,c)}}return n.\u0275fac=function(t){return new(t||n)(et(ty),et(yw),et(Hd),et(kA),et(qX,8),et(uY))},n.\u0275mod=on({type:n}),n.\u0275inj=en({}),n})(),Vke=(()=>{class n{constructor(t,i,r,o=[],s){const a=n.flattenStates(o),c=r.addAndReturnDefaults(a);c.states.length&&(i.setStateToTheCurrentWithNew(c),s.ngxsBootstrap(new JF(c.defaults),c))}static flattenStates(t=[]){return t.reduce((i,r)=>i.concat(r),[])}}return n.\u0275fac=function(t){return new(t||n)(et(Hd),et(yw),et(ty),et(KX,8),et(uY))},n.\u0275mod=on({type:n}),n.\u0275inj=en({}),n})(),zke=(()=>{class n{static forRoot(t=[],i={}){return{ngModule:Uke,providers:[ty,YF,...t,...n.ngxsTokenProviders(t,i)]}}static forFeature(t=[]){return{ngModule:Vke,providers:[ty,YF,...t,{provide:KX,multi:!0,useValue:t}]}}static ngxsTokenProviders(t,i){return[{provide:QX,useValue:i.executionStrategy},{provide:qX,useValue:t},{provide:YX,useValue:i},{provide:Vv,useFactory:n.appBootstrapListenerFactory,multi:!0,deps:[BX]},{provide:VX,useExisting:qF},{provide:UX,useExisting:ty}]}static appBootstrapListenerFactory(t){return()=>t.bootstrap()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=en({}),n})();function QF(n,e){return(t,i)=>{const r=WF(t.constructor);Array.isArray(n)||(n=[n]);for(const o of n){const s=o.type;r.actions[s]||(r.actions[s]=[]),r.actions[s].push({fn:i,options:e||{},type:s})}}}function Gd(n){return e=>{const t=e,i=WF(t),r=Object.getPrototypeOf(t),o=function Hke(n,e){return Object.assign(Object.assign({},n[JX]||{}),e)}(r,n);(function Gke(n){const{meta:e,inheritedStateClass:t,optionsWithInheritance:i}=n,{children:r,defaults:o,name:s}=i,a="string"==typeof s?s:s&&s.getName()||null;if(t.hasOwnProperty(Zu)){const c=t[Zu]||{};e.actions=Object.assign(Object.assign({},e.actions),c.actions)}e.children=r,e.defaults=o,e.name=a})({meta:i,inheritedStateClass:r,optionsWithInheritance:o}),t[JX]=o}}const Wke=36;function NA(n,...e){return function(t,i){const r=i.toString(),o=`__${r}__selector`,s=function Xke(n,e,t=[]){return e=e||function Yke(n){const e=n.length-1;return n.charCodeAt(e)===Wke?n.slice(0,e):n}(n),"string"==typeof e?ZX(t.length?[e,...t]:e.split("."),kA.config):e}(r,n,e);Object.defineProperties(t,{[o]:{writable:!0,enumerable:!1,configurable:!0},[r]:{enumerable:!0,configurable:!0,get(){return this[o]||(this[o]=function $ke(n){return kA.store||function ske(){throw new Error("You have forgotten to import the NGXS module!")}(),kA.store.select(n)}(s))}}})}}const hY="NGXS_SELECTOR_OPTIONS_META",FA={getOptions:n=>n&&n[hY]||{},defineOptions:(n,e)=>{n&&(n[hY]=e)}};function bw(n,e,t){const i=function Lke(n,e){const t=e&&e.containerClass,r=BF(function(...s){const a=n.apply(t,s);return a instanceof Function?BF.apply(null,[a]):a});return Object.setPrototypeOf(r,n),r}(e,t),r=function qke(n,e){const t=$F(n);t.originalFn=n;let i=()=>({});e&&(t.containerClass=e.containerClass,t.selectorName=e.selectorName||null,i=e.getSelectorOptions||i);const r=Object.assign({},t);return t.getSelectorOptions=()=>function Kke(n,e){return Object.assign(Object.assign(Object.assign(Object.assign({},FA.getOptions(n.containerClass)||{}),FA.getOptions(n.originalFn)||{}),n.getSelectorOptions()||{}),e)}(r,i()),t}(e,t);return r.makeRootSelector=function Fke(n,e,t){return i=>{const{argumentSelectorFunctions:r,selectorOptions:o}=function Bke(n,e,t=[]){const i=e.getSelectorOptions(),r=n.getSelectorOptions(i),s=function jke(n=[],e,t){const i=[];return t&&(0===n.length||e.injectContainerState)&&fm(t)&&i.push(t),n&&i.push(...n),i}(t,r,e.containerClass).map(a=>dY(a)(n));return{selectorOptions:r,argumentSelectorFunctions:s}}(i,n,e);return function(a){const c=r.map(l=>l(a));try{return t(...c)}catch(l){if(l instanceof TypeError&&o.suppressErrors)return;throw l}}}}(r,n,i),i}function ny(n){return(e,t,i)=>{i||(i=Object.getOwnPropertyDescriptor(e,t));const r=i?.value,o=bw(n,r,{containerClass:e,selectorName:t.toString(),getSelectorOptions:()=>({})}),s={configurable:!0,get:()=>o};return s.originalFn=r,s}}class Jke{constructor(e){this.name=e,$F(this).makeRootSelector=i=>i.getStateGetter(this.name)}getName(){return this.name}toString(){return`StateToken[${this.name}]`}}function Zke(n,e){if(1&n&&(nt(0,"li",4),Wt(1),ei(2,"json"),ot()),2&n){const t=e.$implicit;pt(1),VC("",t[0],": ",ni(2,2,t[1]),"")}}function e2e(n,e){if(1&n&&(nt(0,"div",1)(1,"div"),Wt(2),ot(),nt(3,"ul",2),hn(4,Zke,3,4,"li",3),ot()()),2&n){const t=e.$implicit;pt(2),So(t[0]),pt(2),Ot("ngForOf",t[1])}}let t2e=(()=>{class n{get data(){return Object.entries(this.root).map(([r,o])=>[r,Object.entries(o)]).filter(([r,o])=>o.length>0)}constructor(t,i){this.clsName="ccf-store-debug",this.root={},this.subscriptions=new mt;const r=t.subscribe(o=>{this.root=o,i.markForCheck()});this.subscriptions.add(r)}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Hd),Te(Ii))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-store-debug"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},decls:1,vars:1,consts:[["class","state",4,"ngFor","ngForOf"],[1,"state"],[1,"kvlist"],["class","kvpair",4,"ngFor","ngForOf"],[1,"kvpair"]],template:function(i,r){1&i&&hn(0,e2e,5,2,"div",0),2&i&&Ot("ngForOf",r.data)},dependencies:[Xc,eH],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return n})(),fY=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Vc),Te(In))};static#t=this.\u0275dir=Jt({type:n})}return n})(),pm=(()=>{class n extends fY{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Gi(n)))(r||n)}})();static#t=this.\u0275dir=Jt({type:n,features:[Gn]})}return n})();const ks=new _t("NgValueAccessor"),i2e={provide:ks,useExisting:fe(()=>iy),multi:!0},o2e=new _t("CompositionEventMode");let iy=(()=>{class n extends fY{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function r2e(){const n=Xh()?Xh().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Vc),Te(In),Te(o2e,8))};static#t=this.\u0275dir=Jt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Ft("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Yn([i2e]),Gn]})}return n})();function Ef(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function mY(n){return null!=n&&"number"==typeof n.length}const bs=new _t("NgValidators"),Cf=new _t("NgAsyncValidators"),s2e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class mm{static min(e){return function gY(n){return e=>{if(Ef(e.value)||Ef(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function _Y(n){return e=>{if(Ef(e.value)||Ef(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function yY(n){return Ef(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function bY(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function vY(n){return Ef(n.value)||s2e.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function wY(n){return e=>Ef(e.value)||!mY(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return xY(e)}static pattern(e){return function EY(n){if(!n)return BA;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Ef(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return IY(e)}static composeAsync(e){return DY(e)}}function xY(n){return e=>mY(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function BA(n){return null}function CY(n){return null!=n}function SY(n){return Zg(n)?qr(n):n}function AY(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function TY(n,e){return e.map(t=>t(n))}function MY(n){return n.map(e=>function a2e(n){return!n.validate}(e)?e:t=>e.validate(t))}function IY(n){if(!n)return null;const e=n.filter(CY);return 0==e.length?null:function(t){return AY(TY(t,e))}}function ZF(n){return null!=n?IY(MY(n)):null}function DY(n){if(!n)return null;const e=n.filter(CY);return 0==e.length?null:function(t){return c0(TY(t,e).map(SY)).pipe(Bt(AY))}}function eL(n){return null!=n?DY(MY(n)):null}function OY(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function RY(n){return n._rawValidators}function PY(n){return n._rawAsyncValidators}function tL(n){return n?Array.isArray(n)?n:[n]:[]}function jA(n,e){return Array.isArray(n)?n.includes(e):n===e}function kY(n,e){const t=tL(e);return tL(n).forEach(r=>{jA(t,r)||t.push(r)}),t}function NY(n,e){return tL(e).filter(t=>!jA(n,t))}class FY{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ZF(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=eL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Aa extends FY{get formDirective(){return null}get path(){return null}}class Nl extends FY{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class LY{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let UA=(()=>{class n extends LY{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Nl,2))};static#t=this.\u0275dir=Jt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&pn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Gn]})}return n})(),BY=(()=>{class n extends LY{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Aa,10))};static#t=this.\u0275dir=Jt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&pn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Gn]})}return n})();const vw="VALID",zA="INVALID",ry="PENDING",ww="DISABLED";function rL(n){return(HA(n)?n.validators:n)||null}function oL(n,e){return(HA(e)?e.asyncValidators:n)||null}function HA(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class zY{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vw}get invalid(){return this.status===zA}get pending(){return this.status==ry}get disabled(){return this.status===ww}get enabled(){return this.status!==ww}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(kY(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kY(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NY(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NY(e,this._rawAsyncValidators))}hasValidator(e){return jA(this._rawValidators,e)}hasAsyncValidator(e){return jA(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ry,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ww,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vw,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vw||this.status===ry)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ww:vw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ry,this._hasOwnPendingAsyncValidator=!0;const t=SY(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new qt,this.statusChanges=new qt}_calculateStatus(){return this._allControlsDisabled()?ww:this.errors?zA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ry)?ry:this._anyControlsHaveStatus(zA)?zA:vw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){HA(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function u2e(n){return Array.isArray(n)?ZF(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function h2e(n){return Array.isArray(n)?eL(n):n||null}(this._rawAsyncValidators)}}class sL extends zY{constructor(e,t,i){super(rL(t),oL(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function VY(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new Pe(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function UY(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new Pe(1e3,"");if(!i[t])throw new Pe(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const gm=new _t("CallSetDisabledState",{providedIn:"root",factory:()=>xw}),xw="always";function Ew(n,e,t=xw){aL(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function m2e(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&HY(n,e)})}(n,e),function _2e(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function g2e(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&HY(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function p2e(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function WA(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),XA(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function $A(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function aL(n,e){const t=RY(n);null!==e.validator?n.setValidators(OY(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=PY(n);null!==e.asyncValidator?n.setAsyncValidators(OY(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();$A(e._rawValidators,r),$A(e._rawAsyncValidators,r)}function XA(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=RY(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=PY(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return $A(e._rawValidators,i),$A(e._rawAsyncValidators,i),t}function HY(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function GY(n,e){aL(n,e)}function lL(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function WY(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function dL(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===iy?t=o:function v2e(n){return Object.getPrototypeOf(n.constructor)===pm}(o)?i=o:r=o}),r||i||t||null}const x2e={provide:Aa,useExisting:fe(()=>_m)},Cw=(()=>Promise.resolve())();let _m=(()=>{class n extends Aa{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new qt,this.form=new sL({},ZF(t),eL(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Cw.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Ew(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Cw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Cw.then(()=>{const i=this._findContainer(t.path),r=new sL({});GY(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Cw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Cw.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,WY(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(Te(bs,10),Te(Cf,10),Te(gm,8))};static#t=this.\u0275dir=Jt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Ft("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Yn([x2e]),Gn]})}return n})();function $Y(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function XY(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const YA=class extends zY{constructor(e=null,t,i){super(rL(t),oL(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),HA(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=XY(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$Y(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$Y(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){XY(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Sw=YA,S2e={provide:Nl,useExisting:fe(()=>uL)},KY=(()=>Promise.resolve())();let uL=(()=>{class n extends Nl{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new YA,this._registered=!1,this.name="",this.update=new qt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=dL(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),lL(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ew(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){KY.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Xi(i);KY.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function GA(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Aa,9),Te(bs,10),Te(Cf,10),Te(ks,10),Te(Ii,8),Te(gm,8))};static#t=this.\u0275dir=Jt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Yn([S2e]),Gn,Ji]})}return n})(),JY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Jt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),ZY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({})}return n})();const hL=new _t("NgModelWithFormControlWarning"),D2e={provide:Nl,useExisting:fe(()=>Aw)};let Aw=(()=>{class n extends Nl{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new qt,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=dL(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&WA(i,this,!1),Ew(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}lL(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&WA(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static#t=this.\u0275fac=function(i){return new(i||n)(Te(bs,10),Te(Cf,10),Te(ks,10),Te(hL,8),Te(gm,8))};static#n=this.\u0275dir=Jt({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Yn([D2e]),Gn,Ji]})}return n})();const O2e={provide:Aa,useExisting:fe(()=>oy)};let oy=(()=>{class n extends Aa{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new qt,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(XA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Ew(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){WA(t.control||null,t,!1),function w2e(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,WY(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(WA(i||null,t),(n=>n instanceof YA)(r)&&(Ew(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);GY(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function y2e(n,e){return XA(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){aL(this.form,this),this._oldForm&&XA(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(Te(bs,10),Te(Cf,10),Te(gm,8))};static#t=this.\u0275dir=Jt({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Ft("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Yn([O2e]),Gn,Ji]})}return n})();let ym=(()=>{class n{constructor(){this._validator=BA}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):BA,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Jt({type:n,features:[Ji]})}return n})();const X2e={provide:bs,useExisting:fe(()=>yL),multi:!0};let yL=(()=>{class n extends ym{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function sq(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>xY(t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Gi(n)))(r||n)}})();static#t=this.\u0275dir=Jt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&oi("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Yn([X2e]),Gn]})}return n})(),fq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[ZY]})}return n})(),bL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gm,useValue:t.callSetDisabledState??xw}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[fq]})}return n})(),vL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:hL,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:gm,useValue:t.callSetDisabledState??xw}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[fq]})}return n})();const Tw=ut(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function bm(n){return new Et(e=>{Zr(n()).subscribe(e)})}function wL(n){return Bt(()=>n)}function pq(n,e){return e?t=>n0(e.pipe(cr(1),function J2e(){return _i((n,e)=>{n.subscribe(wn(e,ft))})}()),t.pipe(pq(n))):Wo((t,i)=>Zr(n(t,i)).pipe(cr(1),wL(t)))}function xL(n,e=l_){const t=p0(n,e);return pq(()=>t)}const Q2e=["panel"];function Z2e(n,e){if(1&n){const t=Co();nt(0,"div",0,1),Ft("@panelAnimation.done",function(r){return Fi(t),Jn(Sn()._animationDone.next(r))}),Bn(2),ot()}if(2&n){const t=e.id,i=Sn();Ot("id",i.id)("ngClass",i._classList)("@panelAnimation",i.isOpen?"visible":"hidden"),oi("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(t))}}const eNe=["*"],tNe=qc("panelAnimation",[To("void, hidden",er({opacity:0,transform:"scaleY(0.8)"})),ys(":enter, hidden => visible",[LR([_s("0.03s linear",er({opacity:1})),_s("0.12s cubic-bezier(0, 0, 0.2, 1)",er({transform:"scaleY(1)"}))])]),ys(":leave, visible => hidden",[_s("0.075s linear",er({opacity:0}))])]);let nNe=0;class iNe{constructor(e,t){this.source=e,this.option=t}}const mq=new _t("mat-autocomplete-default-options",{providedIn:"root",factory:function rNe(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let oNe=(()=>{class n{get isOpen(){return this._isOpen&&this.showPanel}_setColor(t){this._color=t,this._setThemeClasses(this._classList)}set classList(t){this._classList=t&&t.length?function hde(n,e=/\s+/){const t=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(e);for(const r of i){const o=`${r}`.trim();o&&t.push(o)}}return t}(t).reduce((i,r)=>(i[r]=!0,i),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}constructor(t,i,r,o){this._changeDetectorRef=t,this._elementRef=i,this._defaults=r,this._activeOptionChanges=mt.EMPTY,this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._animationDone=new qt,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new qt,this.opened=new qt,this.closed=new qt,this.optionActivated=new qt,this._classList={},this.id="mat-autocomplete-"+nNe++,this.inertGroups=o?.SAFARI||!1,this.autoActiveFirstOption=!!r.autoActiveFirstOption,this.autoSelectActiveOption=!!r.autoSelectActiveOption,this.requireSelection=!!r.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new o8(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const i=new iNe(this,t);this.optionSelected.emit(i)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}_setThemeClasses(t){t["mat-primary"]="primary"===this._color,t["mat-warn"]="warn"===this._color,t["mat-accent"]="accent"===this._color}_skipPredicate(){return!1}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Ii),Te(In),Te(mq),Te(ao))};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-autocomplete"]],contentQueries:function(i,r,o){if(1&i&&(dr(o,s0,5),dr(o,QR,5)),2&i){let s;An(s=Tn())&&(r.options=s),An(s=Tn())&&(r.optionGroups=s)}},viewQuery:function(i,r){if(1&i&&(Di(za,7),Di(Q2e,5)),2&i){let o;An(o=Tn())&&(r.template=o.first),An(o=Tn())&&(r.panel=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-autocomplete"],inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:["autoActiveFirstOption","autoActiveFirstOption",Xi],autoSelectActiveOption:["autoSelectActiveOption","autoSelectActiveOption",Xi],requireSelection:["requireSelection","requireSelection",Xi],panelWidth:"panelWidth",disableRipple:["disableRipple","disableRipple",Xi],classList:["class","classList"],hideSingleSelectionIndicator:["hideSingleSelectionIndicator","hideSingleSelectionIndicator",Xi]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[Yn([{provide:JR,useExisting:n}]),gd],ngContentSelectors:eNe,decls:1,vars:0,consts:[["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"],["panel",""]],template:function(i,r){1&i&&(vr(),hn(0,Z2e,3,5,"ng-template"))},dependencies:[m1],styles:["div.mat-mdc-autocomplete-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[tNe]},changeDetection:0})}return n})();const sNe={provide:ks,useExisting:fe(()=>_q),multi:!0},gq=new _t("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const n=jt(rs);return()=>n.scrollStrategies.reposition()}});let _q=(()=>{class n{constructor(t,i,r,o,s,a,c,l,d,h,f){this._element=t,this._overlay=i,this._viewContainerRef=r,this._zone=o,this._changeDetectorRef=s,this._dir=c,this._formField=l,this._document=d,this._viewportRuler=h,this._defaults=f,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=mt.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new rn,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=bm(()=>{const m=this.autocomplete?this.autocomplete.options:null;return m?m.changes.pipe(is(m),Dr(()=>Ms(...m.map(g=>g.onSelectionChange)))):this._zone.onStable.pipe(cr(1),Dr(()=>this.optionSelections))}),this._handlePanelKeydown=m=>{(27===m.keyCode&&!Ga(m)||38===m.keyCode&&Ga(m,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),m.stopPropagation(),m.preventDefault())},this._trackedModal=null,this._scrollStrategy=a}ngAfterViewInit(){const t=this._getWindow();typeof t<"u"&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();typeof t<"u"&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel(),this._trackedModal&&S1(this._trackedModal,"aria-owns",this.autocomplete.id)}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal)&&d_(this._trackedModal,"aria-owns",this.autocomplete.id)}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Ms(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(vi(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(vi(()=>this._overlayAttached)):Mn()).pipe(Bt(t=>t instanceof S8?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Ms(Bp(this._document,"click"),Bp(this._document,"auxclick"),Bp(this._document,"touchend")).pipe(vi(t=>{const i=ku(t),r=this._formField?this._formField._elementRef.nativeElement:null,o=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(i))&&(!o||!o.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const i=t.keyCode,r=Ga(t);if(27===i&&!r&&t.preventDefault(),this.activeOption&&13===i&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const o=this.autocomplete._keyManager.activeItem,s=38===i||40===i;9===i||s&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):s&&this._canOpen()&&this.openPanel(),(s||this.autocomplete._keyManager.activeItem!==o)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let i=t.target,r=i.value;if("number"===i.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r){if(this._previousValue=r,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(r),r){if(this.panelOpen&&!this.autocomplete.requireSelection){const o=this.autocomplete.options?.find(s=>s.selected);o&&r!==(this.autocomplete.displayWith?.(o)??o.value)&&o.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);this._canOpen()&&this._document.activeElement===t.target&&this.openPanel()}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){return Ms(this._zone.onStable.pipe(cr(1)),this.autocomplete.options.changes.pipe(tr(()=>this._positionStrategy.reapplyLastPosition()),xL(0))).pipe(Dr(()=>(this._zone.run(()=>{const r=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit())}),this.panelClosingActions)),cr(1)).subscribe(r=>this._setValueAndClose(r))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_assignOptionValue(t){const i=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t;null==t&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(i??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){const i=this.autocomplete,r=t?t.source:this._pendingAutoselectedOption;r?(this._clearPreviousSelectedOption(r),this._assignOptionValue(r.value),this._onChange(r.value),i._emitSelectEvent(r),this._element.nativeElement.focus()):i.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),i._animationDone?i._animationDone.pipe(cr(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(t,i){this.autocomplete?.options?.forEach(r=>{r!==t&&r.selected&&r.deselect(i)})}_attachOverlay(){let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new __(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})})),t&&!t.hasAttached()&&(t.attach(this._portal),this._valueOnAttach=this._element.nativeElement.value,this._closingActionsSubscription=this._subscribeToClosingActions());const i=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&i!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const t=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=t.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=t.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new m0({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let s;s="above"===this.position?o:"below"===this.position?i:[...i,...o],t.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;if(t.autoActiveFirstOption){let i=-1;for(let r=0;r<t.options.length;r++)if(!t.options.get(r).disabled){i=r;break}t._keyManager.setActiveItem(i)}else t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(t){const i=this.autocomplete,r=A8(t,i.options,i.optionGroups);if(0===t&&1===r)i._setScrollTop(0);else if(i.panel){const o=i.options.toArray()[t];if(o){const s=o._getHostElement(),a=T8(s.offsetTop,s.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(a)}}}_applyModalPanelOwnership(){const t=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const i=this.autocomplete.id;this._trackedModal&&d_(this._trackedModal,"aria-owns",i),S1(t,"aria-owns",i),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(d_(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In),Te(rs),Te(ms),Te(gn),Te(Ii),Te(gq),Te(Il,8),Te(a0,9),Te(Qn,8),Te(W1),Te(mq,8))};static#t=this.\u0275dir=Jt({type:n,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(i,r){1&i&&Ft("focusin",function(){return r._handleFocus()})("blur",function(){return r._onTouched()})("input",function(s){return r._handleInput(s)})("keydown",function(s){return r._handleKeydown(s)})("click",function(){return r._handleClick()}),2&i&&oi("autocomplete",r.autocompleteAttribute)("role",r.autocompleteDisabled?null:"combobox")("aria-autocomplete",r.autocompleteDisabled?null:"list")("aria-activedescendant",r.panelOpen&&r.activeOption?r.activeOption.id:null)("aria-expanded",r.autocompleteDisabled?null:r.panelOpen.toString())("aria-controls",r.autocompleteDisabled||!r.panelOpen||null==r.autocomplete?null:r.autocomplete.id)("aria-haspopup",r.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled",Xi]},exportAs:["matAutocompleteTrigger"],features:[Yn([sNe]),gd,Ji]})}return n})();const yq=s_({passive:!0});let cNe=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ea;const i=Jh(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new rn,s="cdk-text-field-autofilled",a=c=>{"cdk-text-field-autofill-start"!==c.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===c.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,yq),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,yq)}}),o}stopMonitoring(t){const i=Jh(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(et(ao),et(gn))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({})}return n})();const dNe=new _t("MAT_INPUT_VALUE_ACCESSOR"),uNe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let hNe=0;const fNe=KR(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new rn}});let vm=(()=>{class n extends fNe{get disabled(){return this._disabled}set disabled(t){this._disabled=mi(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(mm.required)??!1}set required(t){this._required=mi(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&zH().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=mi(t)}constructor(t,i,r,o,s,a,c,l,d,h){super(a,o,s,r),this._elementRef=t,this._platform=i,this._autofillMonitor=l,this._formField=h,this._uid="mat-input-"+hNe++,this.focused=!1,this.stateChanges=new rn,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(g=>zH().has(g)),this._iOSKeyupListener=g=>{const v=g.target;!v.value&&0===v.selectionStart&&0===v.selectionEnd&&(v.setSelectionRange(1,1),v.setSelectionRange(0,0))};const f=this._elementRef.nativeElement,m=f.nodeName.toLowerCase();this._inputValueAccessor=c||f,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&d.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===m,this._isTextarea="textarea"===m,this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){uNe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In),Te(ao),Te(Nl,10),Te(_m,8),Te(oy,8),Te(D1),Te(dNe,10),Te(cNe),Te(gn),Te(a0,8))};static#t=this.\u0275dir=Jt({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&Ft("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(Zs("id",r.id)("disabled",r.disabled)("required",r.required),oi("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),pn("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Yn([{provide:k1,useExisting:n}]),Gn,Ji]})}return n})(),sy=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[nr,ef,ef,lNe,nr]})}return n})();function bq(n,e){return n>=0&&n<e?n:n>=e?e:n+e<0?0:n+e}function mNe(n,e){if(1&n&&(nt(0,"span"),Wt(1),ot()),2&n){const t=e.$implicit;(function Cl(n){Al(fU,Cte,n,!1)})(t.styles),Ci(t.classes),pt(1),oo(" ",t.text,"\n")}}let gNe=(()=>{class n{constructor(){this.clsName="ccf-decorated-text",this.segments=[]}ngOnChanges(t){("text"in t||"decorations"in t)&&(this.segments=this.createSegments())}createSegments(){const{text:t}=this;if(!t)return[this.makeUndecoratedSegment(t)];const i=this.getNormalizedDecorations();if(0===i.length)return[this.makeUndecoratedSegment(t)];const r=this.createStackOps(i),o=[];let s=[],a=0;0===r[0].index&&(s=this.updateStack(s,r.shift()));for(const c of r)o.push(this.makeDecoratedSegment(t.slice(a,c.index),s)),a=c.index,s=this.updateStack(s,c);return a!==t.length&&o.push(this.makeDecoratedSegment(t.slice(a),s)),o}createStackOps(t){const i={},r=o=>i[o]??={index:o,added:[],removed:[]};for(const o of t)r(o.start).added.push(o),r(o.end).removed.push(o);return Object.entries(i).sort((o,s)=>+o[0]-+s[0]).map(o=>o[1])}updateStack(t,i){return t.filter(r=>!i.removed.includes(r)).concat(i.added)}getNormalizedDecorations(){const{decorations:t=[],text:{length:i}}=this;return t.map(r=>function pNe(n,e){return{start:bq(n.start??0,e),end:bq(n.end??e,e),classes:n.classes??[],styles:n.styles??{}}}(r,i)).filter(r=>r.start<i&&r.start<r.end)}makeUndecoratedSegment(t){return{text:t,classes:[],styles:{}}}makeDecoratedSegment(t,i){return{text:t,classes:i.reduce((s,a)=>s.concat(a.classes),[]),styles:i.reduce((s,a)=>({...s,...a.styles}),{})}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-decorated-text"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},inputs:{text:"text",decorations:"decorations"},features:[Ji],decls:1,vars:1,consts:[[3,"class","style",4,"ngFor","ngForOf"]],template:function(i,r){1&i&&hn(0,mNe,2,5,"span",0),2&i&&Ot("ngForOf",r.segments)},dependencies:[Xc],styles:["[_nghost-%COMP%]{display:flex}"],changeDetection:0})}return n})();function _Ne(n,e){if(1&n&&(nt(0,"mat-option"),_n(1,"ccf-decorated-text",8),ot()),2&n){const t=e.$implicit;pt(1),Ot("text",t.label)("decorations",t.decorations)}}const yNe=[[["","matPrefix",""]],[["","matSuffix",""]]],bNe=["[matPrefix]","[matSuffix]"],vNe=new _t("Maximum number of autocomplete options displayed",{providedIn:"root",factory:()=>10});class KA{get value(){return this.controller.value}set value(e){this.controller.setValue(e,{emitEvent:!1})}constructor(e){this.defaultMaxOptions=e,this.clsName="ccf-text-search",this.placeholder="Search...",this.optionSelected=new qt,this.controller=new Sw,this.options=this.controller.valueChanges.pipe(is(""),ta(),Dr(this.getOptions)),this.valueChange=this.controller.valueChanges}getOptions(e){var t=this;return fn(function*(){const{autoCompleter:i,maxOptions:r=t.defaultMaxOptions}=t;return!i||r<1?[]:function K2e(n,e){const t="object"==typeof e;return new Promise((i,r)=>{let s,o=!1;n.subscribe({next:a=>{s=a,o=!0},error:r,complete:()=>{o?i(s):t?i(e.defaultValue):r(new Tw)}})})}(qr(i(e,r)).pipe(cr(1),Bt(s=>s.length<=r?s:s.slice(0,r))))})()}optionDisplay(e){return e?.label??""}optionId(e,t){return t.id}static#e=this.\u0275fac=function(t){return new(t||KA)(Te(vNe))};static#t=this.\u0275cmp=dn({type:KA,selectors:[["ccf-text-search"]],hostVars:2,hostBindings:function(t,i){2&t&&Ci(i.clsName)},inputs:{placeholder:"placeholder",value:"value",maxOptions:"maxOptions",autoCompleter:"autoCompleter"},outputs:{valueChange:"valueChange",optionSelected:"optionSelected"},ngContentSelectors:bNe,decls:11,vars:8,consts:[[1,"form"],["appearance","outline",1,"form-field"],["matPrefix",""],["matInput","","type","search",1,"input",3,"placeholder","formControl","matAutocomplete"],[1,"autocomplete",3,"displayWith","optionSelected"],["auto","matAutocomplete"],[4,"ngFor","ngForOf","ngForTrackBy"],["matSuffix",""],[3,"text","decorations"]],template:function(t,i){if(1&t&&(vr(yNe),nt(0,"form",0)(1,"mat-form-field",1),Tv(2,2),Bn(3),Mv(),_n(4,"input",3),nt(5,"mat-autocomplete",4,5),Ft("optionSelected",function(o){return i.optionSelected.emit(o.option.value)}),hn(7,_Ne,2,2,"mat-option",6),ei(8,"async"),ot(),Tv(9,7),Bn(10,1),Mv(),ot()()),2&t){const r=ts(6);pt(4),Ot("placeholder",i.placeholder)("formControl",i.controller)("matAutocomplete",r),pt(1),Ot("displayWith",i.optionDisplay),pt(2),Ot("ngForOf",ni(8,6,i.options))("ngForTrackBy",i.optionId)}},dependencies:[Xc,JY,iy,UA,BY,_m,Aw,oNe,s0,_q,Zh,rhe,tP,vm,gNe,vd],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{margin-left:.5rem}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{margin:0}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper .mat-form-field-flex{align-items:center}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix{height:3rem;border:none}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-suffix{top:0;border:none}"],changeDetection:0})}Pt([Fd.ak,Fe("design:type",Function),Fe("design:paramtypes",[String]),Fe("design:returntype",Promise)],KA.prototype,"getOptions",null);var wNe=S(1563);const JA=[{src:"app:skin",organ:"Skin",name:"Skin",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002097"},{src:"app:brain",organ:"Brain",name:"Brain",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000955"},{disabled:!0,src:"app:lymph-nodes",organ:"Lymph Node",name:"Lymph Node",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000029"},{src:"app:lymph-nodes",organ:"Lymph Node",name:"Lymph Node",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002509"},{disabled:!0,src:"app:eye",organ:"Eye",name:"Eye, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000970"},{src:"app:eye",organ:"Eye",name:"Eye, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004548"},{src:"app:eye",organ:"Eye",name:"Eye, R",side:"right",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004549"},{disabled:!0,src:"app:fallopian-tube-left",organ:"Fallopian Tube",name:"Fallopian Tube, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0003889"},{src:"app:fallopian-tube-left",organ:"Fallopian Tube",name:"Fallopian Tube, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001303"},{src:"app:fallopian-tube-right",organ:"Fallopian Tube",name:"Fallopian Tube, R",side:"right",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001302"},{src:"app:heart",organ:"Heart",name:"Heart",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000948"},{disabled:!0,src:"app:kidney-left",organ:"Kidney",name:"Kidney, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002113"},{src:"app:kidney-left",organ:"Kidney",name:"Kidney, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004538"},{src:"app:kidney-right",organ:"Kidney",name:"Kidney, R",side:"right",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004539"},{disabled:!0,src:"app:knee",organ:"Knee",name:"Knee, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001465"},{src:"app:knee",organ:"Knee",name:"Knee, L",side:"left",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma24978"},{src:"app:knee",organ:"Knee",name:"Knee, R",side:"right",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma24977"},{src:"app:liver",organ:"Liver",name:"Liver",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002107"},{disabled:!0,src:"app:lung",organ:"Lung",name:"Lungs",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002048"},{src:"app:lung",organ:"Lung",name:"Lungs",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001004"},{disabled:!0,src:"app:mammary-gland",organ:"Mammary Gland",name:"Mammary Gland, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001911"},{src:"app:mammary-gland",organ:"Mammary Gland",name:"Mammary Gland, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma57991"},{src:"app:mammary-gland",organ:"Mammary Gland",name:"Mammary Gland, R",side:"right",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma57987"},{disabled:!0,src:"app:ovary-left",organ:"Ovary",name:"Ovary, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0000992"},{src:"app:ovary-left",organ:"Ovary",name:"Ovary, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma7214"},{src:"app:ovary-right",organ:"Ovary",name:"Ovary, R",side:"right",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma7213"},{src:"app:larynx",organ:"Larynx",name:"Larynx",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001737"},{src:"app:main-bronchus",organ:"Main Bronchus",name:"Main Bronchus",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002182"},{disabled:!0,src:"app:palatine-tonsil",organ:"Palatine Tonsil",name:"Palatine Tonsil, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002373"},{src:"app:palatine-tonsil",organ:"Palatine Tonsil",name:"Palatine Tonsil, L",side:"left",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma54974"},{src:"app:palatine-tonsil",organ:"Palatine Tonsil",name:"Palatine Tonsil, R",side:"right",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma54973"},{src:"app:pancreas",organ:"Pancreas",name:"Pancreas",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001264"},{src:"app:pelvis-f",organ:"Pelvis",name:"Pelvis",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001270"},{src:"app:placenta",organ:"Placenta",name:"Placenta",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001987"},{src:"app:prostate",organ:"Prostate",name:"Prostate",hasSex:!1,sex:"male",id:"http://purl.obolibrary.org/obo/UBERON_0002367",disabled:!0},{src:"app:prostate",organ:"Prostate",name:"Prostate",hasSex:!1,sex:"male",id:"http://purl.obolibrary.org/obo/UBERON_0000079"},{src:"app:small-intestine",organ:"Small Intestine",name:"Small Intestine",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002108"},{src:"app:large-intestine",organ:"Large Intestine",name:"Large Intestine",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000059"},{src:"app:spinal-cord",organ:"Spinal Cord",name:"Spinal Cord",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002240"},{src:"app:spleen",organ:"Spleen",name:"Spleen",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002106"},{src:"app:thymus",organ:"Thymus",name:"Thymus",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002370"},{src:"app:trachea",organ:"Trachea",name:"Trachea",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0003126"},{disabled:!0,src:"app:ureter-left",organ:"Ureter",name:"Ureter, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000056"},{src:"app:ureter-left",organ:"Ureter",name:"Ureter, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001223"},{src:"app:ureter-right",organ:"Ureter",name:"Ureter, R",side:"right",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001222"},{src:"app:bladder",organ:"Urinary Bladder",name:"Urinary Bladder",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001255"},{src:"app:uterus",organ:"Uterus",name:"Uterus",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0000995"},{src:"app:vasculature-thick",organ:"Blood Vasculature",name:"Blood Vasculature",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004537"},{disabled:!0,src:"app:vasculature-thick",organ:"Blood Vasculature",name:"Blood Vasculature",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002049"}].sort((n,e)=>n.name.localeCompare(e.name)).filter(n=>!0!==n.disabled),ENe=["knob"],CNe=["valueIndicatorContainer"];function SNe(n,e){if(1&n&&(nt(0,"div",4,5)(2,"div",6)(3,"span",7),Wt(4),ot()()()),2&n){const t=Sn();pt(4),So(t.valueIndicatorText)}}const ANe=["trackActive"];function TNe(n,e){if(1&n&&_n(0,"div"),2&n){const t=e.$implicit,i=e.$index,r=Sn(3);Ci(0===t?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),zg("transform",r._calcTickMarkTransform(i))}}function MNe(n,e){1&n&&function LU(n,e,t,i,r,o,s,a,c,l,d){vp("NgControlFlow");const h=void 0!==c,f=Nt(),m=a?s.bind(f[yr][pr]):s,g=new xne(h,m);f[Zn+n]=g,hn(n+1,e,t,i,r,o),h&&hn(n+2,c,l,d)}(0,TNe,1,4,"div",9,FU),2&n&&function BU(n){const e=re(null),t=Jo();try{const i=Nt(),r=i[tn],o=i[t];if(void 0===o.liveCollection){const a=t+1,c=rO(i,a),l=oO(r,a);o.liveCollection=new Ene(c,i,l)}else o.liveCollection.reset();const s=o.liveCollection;if(function dne(n,e,t){let i,r,o=0,s=n.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){const c=n.at(o),l=e[o],d=ZD(o,c,o,l,t);if(0!==d){d<0&&n.updateValue(o,l),o++;continue}const h=n.at(s),f=e[a],m=ZD(s,h,a,f,t);if(0!==m){m<0&&n.updateValue(s,f),s--,a--;continue}const g=t(o,c),v=t(s,h),C=t(o,l);if(Object.is(C,v)){const B=t(a,f);Object.is(B,g)?(n.swap(o,s),n.updateValue(s,f),a--,s--):n.move(s,o),n.updateValue(o,l),o++}else if(i??=new AU,r??=SU(n,o,s,t),eO(n,i,o,C))n.updateValue(o,l),o++,s++;else if(r.has(C))i.set(g,n.detach(o)),s--;else{const B=n.create(o,e[o]);n.attach(o,B),o++,s++}}for(;o<=a;)CU(n,i,t,o,e[o]),o++}else if(null!=e){const a=e[Symbol.iterator]();let c=a.next();for(;!c.done&&o<=s;){const l=n.at(o),d=c.value,h=ZD(o,l,o,d,t);if(0!==h)h<0&&n.updateValue(o,d),o++,c=a.next();else{i??=new AU,r??=SU(n,o,s,t);const f=t(o,d);if(eO(n,i,o,f))n.updateValue(o,d),o++,s++,c=a.next();else if(r.has(f)){const m=t(o,l);i.set(m,n.detach(o)),s--}else n.attach(o,n.create(o,d)),o++,s++,c=a.next()}}for(;!c.done;)CU(n,i,t,n.length,c.value),c=a.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(a=>{n.destroy(a)})}(s,n,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){const a=ka(),c=0===s.length;if(Vo(i,a,c)){const l=t+2,d=rO(i,l);if(c){const h=oO(r,l),f=Hg(d,h.tView.ssrId);Ev(d,xv(i,h,void 0,{dehydratedView:f}),0,Gg(h,f))}else tO(d,0)}}}finally{re(e)}}(Sn(2)._tickMarks)}function INe(n,e){if(1&n&&(nt(0,"div",7,8),hn(2,MNe,2,0),ot()),2&n){const t=Sn();pt(2),Vi(2,t._cachedWidth?2:-1)}}function DNe(n,e){if(1&n&&_n(0,"mat-slider-visual-thumb",6),2&n){const t=Sn();Ot("discrete",t.discrete)("thumbPosition",1)("valueIndicatorText",t.startValueIndicatorText)}}const ONe=["*"],QA=new _t("_MatSlider"),vq=new _t("_MatSliderThumb"),wq=new _t("_MatSliderRangeThumb"),xq=new _t("_MatSliderVisualThumb");let RNe=(()=>{class n{constructor(t,i,r,o){this._cdr=t,this._ngZone=i,this._slider=o,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=s=>{if(this._sliderInput._isFocused)return;const a=this._hostElement.getBoundingClientRect(),c=this._slider._isCursorOnSliderThumb(s,a);this._isHovered=c,c?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=s=>{0===s.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef)},this._hostElement=r.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const t=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{t.addEventListener("pointermove",this._onPointerMove),t.addEventListener("pointerdown",this._onDragStart),t.addEventListener("pointerup",this._onDragEnd),t.addEventListener("pointerleave",this._onMouseLeave),t.addEventListener("focus",this._onFocus),t.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const t=this._sliderInputEl;t.removeEventListener("pointermove",this._onPointerMove),t.removeEventListener("pointerdown",this._onDragStart),t.removeEventListener("pointerup",this._onDragEnd),t.removeEventListener("pointerleave",this._onMouseLeave),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(t){return 0===t?.state||1===t?.state}_showRipple(t,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||i))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})}_hideRipple(t){if(t?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Ii),Te(gn),Te(In),Te(QA))};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(i,r){if(1&i&&(Di(Wa,5),Di(ENe,5),Di(CNe,5)),2&i){let o;An(o=Tn())&&(r._ripple=o.first),An(o=Tn())&&(r._knob=o.first),An(o=Tn())&&(r._valueIndicatorContainer=o.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[Yn([{provide:xq,useExisting:n}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(i,r){1&i&&(hn(0,SNe,5,1,"div",0),_n(1,"div",1,2)(3,"div",3)),2&i&&(Vi(0,r.discrete?0:-1),pt(3),Ot("matRippleDisabled",!0))},dependencies:[Wa],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return n})();const PNe=qR(I1(class{constructor(n){this._elementRef=n}}),"primary");let Eq=(()=>{class n extends PNe{get disabled(){return this._disabled}set disabled(t){this._disabled=mi(t);const i=this._getInput(2),r=this._getInput(1);i&&(i.disabled=this._disabled),r&&(r.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(t){this._discrete=mi(t),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(t){this._showTickMarks=mi(t)}get min(){return this._min}set min(t){const i=gs(t,this._min);this._min!==i&&this._updateMin(i)}_updateMin(t){const i=this._min;this._min=t,this._isRange?this._updateMinRange({old:i,new:t}):this._updateMinNonRange(t),this._onMinMaxOrStepChange()}_updateMinRange(t){const i=this._getInput(2),r=this._getInput(1),o=i.value,s=r.value;r.min=t.new,i.min=Math.max(t.new,r.value),r.max=Math.min(i.max,i.value),r._updateWidthInactive(),i._updateWidthInactive(),t.new<t.old?this._onTranslateXChangeBySideEffect(i,r):this._onTranslateXChangeBySideEffect(r,i),o!==i.value&&this._onValueChange(i),s!==r.value&&this._onValueChange(r)}_updateMinNonRange(t){const i=this._getInput(2);if(i){const r=i.value;i.min=t,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(t){const i=gs(t,this._max);this._max!==i&&this._updateMax(i)}_updateMax(t){const i=this._max;this._max=t,this._isRange?this._updateMaxRange({old:i,new:t}):this._updateMaxNonRange(t),this._onMinMaxOrStepChange()}_updateMaxRange(t){const i=this._getInput(2),r=this._getInput(1),o=i.value,s=r.value;i.max=t.new,r.max=Math.min(t.new,i.value),i.min=r.value,i._updateWidthInactive(),r._updateWidthInactive(),t.new>t.old?this._onTranslateXChangeBySideEffect(r,i):this._onTranslateXChangeBySideEffect(i,r),o!==i.value&&this._onValueChange(i),s!==r.value&&this._onValueChange(r)}_updateMaxNonRange(t){const i=this._getInput(2);if(i){const r=i.value;i.max=t,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(t){const i=gs(t,this._step);this._step!==i&&this._updateStep(i)}_updateStep(t){this._step=t,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const t=this._getInput(2),i=this._getInput(1),r=t.value,o=i.value,s=i.value;t.min=this._min,i.max=this._max,t.step=this._step,i.step=this._step,this._platform.SAFARI&&(t.value=t.value,i.value=i.value),t.min=Math.max(this._min,i.value),i.max=Math.min(this._max,t.value),i._updateWidthInactive(),t._updateWidthInactive(),t.value<s?this._onTranslateXChangeBySideEffect(i,t):this._onTranslateXChangeBySideEffect(t,i),r!==t.value&&this._onValueChange(t),o!==i.value&&this._onValueChange(i)}_updateStepNonRange(){const t=this._getInput(2);if(t){const i=t.value;t.step=this._step,this._platform.SAFARI&&(t.value=t.value),t._updateThumbUIByValue(),i!==t.value&&this._onValueChange(t)}}constructor(t,i,r,o,s,a){super(r),this._ngZone=t,this._cdr=i,this._dir=o,this._globalRippleOptions=s,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=1,this.displayWith=c=>`${c}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=jt(ao),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===a,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const t=this._getInput(2),i=this._getInput(1);this._isRange=!!t&&!!i,this._cdr.detectChanges();const r=this._getThumb(2);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(t,i):this._initUINonRange(t),this._updateTrackUI(t),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(t){t.initProps(),t.initUI(),this._updateValueIndicatorUI(t),this._hasViewInitialized=!0,t._updateThumbUIByValue()}_initUIRange(t,i){t.initProps(),t.initUI(),i.initProps(),i.initUI(),t._updateMinMax(),i._updateMinMax(),t._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,t._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const t=this._getInput(2),i=this._getInput(1);t._setIsLeftThumb(),i._setIsLeftThumb(),t.translateX=t._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateWidthInactive(),i._updateWidthInactive(),t._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(t=2){const i=this._getInput(t);return i?i.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(t){const i=this._trackActive.nativeElement.style;i.left=t.left,i.right=t.right,i.transformOrigin=t.transformOrigin,i.transform=t.transform}_calcTickMarkTransform(t){return`translateX(${t*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(t){this._hasViewInitialized&&(this._updateThumbUI(t),this._updateTrackUI(t),this._updateOverlappingThumbUI(t))}_onTranslateXChangeBySideEffect(t,i){this._hasViewInitialized&&(t._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(t){this._hasViewInitialized&&(this._updateValueIndicatorUI(t),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const t=this._getInput(2),i=this._getInput(1);t._updateThumbUIByValue(),i._updateThumbUIByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateMinMax(),i._updateMinMax(),t._updateWidthInactive(),i._updateWidthInactive()}else{const t=this._getInput(2);t&&t._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const t=this._getInput(1),i=this._getInput(2);return!(!t||!i)&&i.translateX-t.translateX<20}_updateOverlappingThumbClassNames(t){const i=t.getSibling(),r=this._getThumb(t.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(t){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(t))}_updateThumbUI(t){this._skipUpdate()||(this._getThumb(2===t.thumbPosition?2:1)._hostElement.style.transform=`translateX(${t.translateX}px)`)}_updateValueIndicatorUI(t){if(this._skipUpdate())return;const i=this.displayWith(t.value);if(this._hasViewInitialized?t._valuetext=i:t._hostElement.setAttribute("aria-valuetext",i),this.discrete){1===t.thumbPosition?this.startValueIndicatorText=i:this.endValueIndicatorText=i;const r=this._getThumb(t.thumbPosition);i.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const t=this._getInput(2),i=this._getInput(1);t&&this._updateValueIndicatorUI(t),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const t=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/t)*t-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*r-6}_updateTrackUI(t){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(t):this._updateTrackUINonRange(t))}_updateTrackUIRange(t){const i=t.getSibling();if(!i||!this._cachedWidth)return;const r=Math.abs(i.translateX-t.translateX)/this._cachedWidth;this._setTrackActiveStyles(t._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-i.translateX+"px",transformOrigin:"right",transform:`scaleX(${r})`}:{left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(t){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-t.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${t.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const t=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(t):this._updateTickMarkUINonRange(t),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(t){const i=this._getValue();let r=Math.max(Math.floor((i-this.min)/t),0),o=Math.max(Math.floor((this.max-i)/t),0);this._isRtl?r++:o++,this._tickMarks=Array(r).fill(0).concat(Array(o).fill(1))}_updateTickMarkUIRange(t){const i=this._getValue(),r=this._getValue(1),o=Math.max(Math.floor((r-this.min)/t),0),s=Math.max(Math.floor((i-r)/t)+1,0),a=Math.max(Math.floor((this.max-i)/t),0);this._tickMarks=Array(o).fill(1).concat(Array(s).fill(0),Array(a).fill(1))}_getInput(t){return 2===t&&this._input?this._input:this._inputs?.length?1===t?this._inputs.first:this._inputs.last:void 0}_getThumb(t){return 2===t?this._thumbs?.last:this._thumbs?.first}_setTransition(t){this._hasAnimation=!this._platform.IOS&&t&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(t,i){const r=i.width/2,c=t.clientY-(i.y+r);return Math.pow(t.clientX-(i.x+r),2)+Math.pow(c,2)<Math.pow(r,2)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(gn),Te(Ii),Te(In),Te(Il,8),Te(o0,8),Te(ro,8))};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-slider"]],contentQueries:function(i,r,o){if(1&i&&(dr(o,vq,5),dr(o,wq,4)),2&i){let s;An(s=Tn())&&(r._input=s.first),An(s=Tn())&&(r._inputs=s)}},viewQuery:function(i,r){if(1&i&&(Di(ANe,5),Di(xq,5)),2&i){let o;An(o=Tn())&&(r._trackActive=o.first),An(o=Tn())&&(r._thumbs=o)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(i,r){2&i&&pn("mdc-slider--range",r._isRange)("mdc-slider--disabled",r.disabled)("mdc-slider--discrete",r.discrete)("mdc-slider--tick-marks",r.showTickMarks)("_mat-animation-noopable",r._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[Yn([{provide:QA,useExisting:n}]),Gn],ngContentSelectors:ONe,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[3,"class","transform"]],template:function(i,r){1&i&&(vr(),Bn(0),nt(1,"div",0),_n(2,"div",1),nt(3,"div",2),_n(4,"div",3,4),ot(),hn(6,INe,3,1,"div",5),ot(),hn(7,DNe,1,3,"mat-slider-visual-thumb",6),_n(8,"mat-slider-visual-thumb",6)),2&i&&(pt(6),Vi(6,r.showTickMarks?6:-1),pt(1),Vi(7,r._isRange?7:-1),pt(1),Ot("discrete",r.discrete)("thumbPosition",2)("valueIndicatorText",r.endValueIndicatorText))},dependencies:[RNe],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:50%;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:translateX(-50%);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:translateX(-50%);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color);border-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color);border-color:var(--mdc-slider-disabled-handle-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color)}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color);opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color);opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color)}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size);width:var(--mdc-slider-with-tick-marks-container-size)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking);font-size:var(--mdc-slider-label-label-text-size);font-family:var(--mdc-slider-label-label-text-font);font-weight:var(--mdc-slider-label-label-text-weight);line-height:var(--mdc-slider-label-label-text-line-height)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape);width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-style:solid;border-width:calc(var(--mdc-slider-handle-height) / 2) calc(var(--mdc-slider-handle-width) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color);border-color:var(--mdc-slider-hover-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color);border-color:var(--mdc-slider-focus-handle-color)}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color);border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-slider-value-indicator-opacity)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slider .mdc-slider__value-indicator{word-break:normal}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();const NNe={provide:ks,useExisting:fe(()=>ZA),multi:!0};let ZA=(()=>{class n{get value(){return gs(this._hostElement.value)}set value(t){const i=gs(t).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=i,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()):this._initialValue=i}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(t){this._translateX=t}get min(){return gs(this._hostElement.min)}set min(t){this._hostElement.min=gs(t).toString(),this._cdr.detectChanges()}get max(){return gs(this._hostElement.max)}set max(t){this._hostElement.max=gs(t).toString(),this._cdr.detectChanges()}get step(){return gs(this._hostElement.step)}set step(t){this._hostElement.step=gs(t).toString(),this._cdr.detectChanges()}get disabled(){return mi(this._hostElement.disabled)}set disabled(t){this._hostElement.disabled=mi(t),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(t){this._isFocused=t}constructor(t,i,r,o){this._ngZone=t,this._elementRef=i,this._cdr=r,this._slider=o,this.valueChange=new qt,this.dragStart=new qt,this.dragEnd=new qt,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new rn,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=jt(ao),this._hostElement=i.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(t){if(!this.disabled&&0===t.button){if(this._platform.IOS){const i=this._slider._isCursorOnSliderThumb(t,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=i,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(t){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(t)},0)}_fixValue(t){const i=t.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,o=0===this._slider.step?1:this._slider.step,s=Math.floor((this._slider.max-this._slider.min)/o),l=Math.round((this._slider._isRtl?1-i/r:i/r)*s)/s*(this._slider.max-this._slider.min)+this._slider.min,d=Math.round(l/o)*o;if(d===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation}));this.value=d,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})}_onPointerMove(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)}_onPointerUp(){this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(t){return Math.max(Math.min(t,this._slider._cachedWidth),0)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*(this._slider._cachedWidth-6)+3}_calcTranslateXByPointerEvent(t){return t.clientX-this._slider._cachedLeft}_updateWidthActive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding}px)`}_updateWidthInactive(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"}_updateThumbUIByValue(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)}_updateThumbUIByPointerEvent(t,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(i)}_updateThumbUI(t){this._slider._setTransition(!!t?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(t){(this._isControlInitialized||null!==t)&&(this.value=t)}registerOnChange(t){this._onChangeFn=t,this._isControlInitialized=!0}registerOnTouched(t){this._onTouchedFn=t}setDisabledState(t){this.disabled=t}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#e=this.\u0275fac=function(i){return new(i||n)(Te(gn),Te(In),Te(Ii),Te(QA))};static#t=this.\u0275dir=Jt({type:n,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(i,r){1&i&&Ft("change",function(){return r._onChange()})("input",function(){return r._onInput()})("blur",function(){return r._onBlur()})("focus",function(){return r._onFocus()}),2&i&&oi("aria-valuetext",r._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[Yn([NNe,{provide:vq,useExisting:n}])]})}return n})(),Cq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[nr,mc]})}return n})(),Sq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,co,Cq,mc]})}return n})();function BNe(n,e){}class eT{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let EL=(()=>{class n extends z1{constructor(t,i,r,o,s,a,c,l){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const h=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),h},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=kR(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=kR();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=kR())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In),Te(c8),Te(Qn,8),Te(eT),Te(XR),Te(gn),Te(X1),Te(Fu))};static#t=this.\u0275cmp=dn({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&Di(y_,7),2&i){let o;An(o=Tn())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&oi("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[Gn,Hh],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&hn(0,BNe,0,0,"ng-template",0)},dependencies:[Bu,y_],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class CL{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new rn,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Ga(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const Aq=new _t("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=jt(rs);return()=>n.scrollStrategies.block()}}),jNe=new _t("DialogData"),UNe=new _t("DefaultDialogConfig");let zNe=0,Tq=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new rn,this._afterOpenedAtThisLevel=new rn,this._ariaHiddenElements=new Map,this.afterAllClosed=bm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(is(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new eT,...i}).id=i.id||"cdk-dialog-"+zNe++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new CL(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(t,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){SL(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){SL(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),SL(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new m0({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:eT,useValue:r},{provide:CL,useValue:i},{provide:X1,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=EL;const c=new g_(a,r.viewContainerRef,xi.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,o){if(t instanceof za){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new __(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new g_(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:jNe,useValue:t.data},{provide:CL,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(Il,null,{optional:!0}))&&a.push({provide:Il,useValue:{value:t.direction,change:Mn()}}),xi.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)(et(rs),et(xi),et(UNe,8),et(n,12),et(g0),et(Aq))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function SL(n,e){let t=n.length;for(;t--;)e(n[t])}let HNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({providers:[Tq],imports:[_0,Bu,g8,EL,Bu]})}return n})();function GNe(n,e){}class AL{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const TL="mdc-dialog--open",Mq="mdc-dialog--opening",Iq="mdc-dialog--closing";let ML=(()=>{class n extends EL{constructor(t,i,r,o,s,a,c,l,d){super(t,i,r,o,s,a,c,d),this._animationMode=l,this._animationStateChanged=new qt,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Oq(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Oq(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Dq,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Mq,TL)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(TL),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(TL),this._animationsEnabled?(this._hostElement.style.setProperty(Dq,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Iq)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Mq,Iq)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(t){const i=super.attachComponentPortal(t);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In),Te(c8),Te(Qn,8),Te(AL),Te(XR),Te(gn),Te(X1),Te(ro,8),Te(Fu))};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,r){2&i&&(Zs("id",r._config.id),oi("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),pn("_mat-animation-noopable",!r._animationsEnabled))},standalone:!0,features:[Gn,Hh],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(nt(0,"div",0)(1,"div",1),hn(2,GNe,0,0,"ng-template",2),ot()())},dependencies:[Bu,y_],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();const Dq="--mat-dialog-transition-duration";function Oq(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?gs(n.substring(0,n.length-2)):n.endsWith("s")?1e3*gs(n.substring(0,n.length-1)):"0"===n?0:null}class ay{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new rn,this._beforeClosed=new rn,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(vi(r=>"opened"===r.state),cr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(vi(r=>"closed"===r.state),cr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Ms(this.backdropClick(),this.keydownEvents().pipe(vi(r=>27===r.keyCode&&!this.disableClose&&!Ga(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function Rq(n,e,t){return n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(vi(t=>"closing"===t.state),cr(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const IL=new _t("MatMdcDialogData"),XNe=new _t("mat-mdc-dialog-default-options"),Pq=new _t("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=jt(rs);return()=>n.scrollStrategies.block()}});let qNe=0,Sf=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,s,a,c,l){this._overlay=t,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new rn,this._afterOpenedAtThisLevel=new rn,this.dialogConfigClass=AL,this.afterAllClosed=bm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(is(void 0))),this._dialog=i.get(Tq),this._dialogRefConstructor=ay,this._dialogContainerType=ML,this._dialogDataToken=IL}open(t,i){let r;(i={...this._defaultOptions||new AL,...i}).id=i.id||"mat-mdc-dialog-"+qNe++,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:eT,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,i,c),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static#e=this.\u0275fac=function(i){return new(i||n)(et(rs),et(xi),et(Dp,8),et(XNe,8),et(Pq),et(n,12),et(g0),et(ro,8))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),KNe=0,tT=(()=>{class n{constructor(t,i,r){this._dialogRef=t,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+KNe++}ngOnInit(){this._dialogRef||(this._dialogRef=function kq(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){const t=this._dialogRef?._containerInstance?._ariaLabelledByQueue;t&&Promise.resolve().then(()=>{const i=t.indexOf(this.id);i>-1&&t.splice(i,1)})}static#e=this.\u0275fac=function(i){return new(i||n)(Te(ay,8),Te(In),Te(Sf))};static#t=this.\u0275dir=Jt({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){2&i&&Zs("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0})}return n})(),nT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Jt({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0})}return n})();let iT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({providers:[Sf],imports:[HNe,_0,Bu,nr,ML,nr]})}return n})();class ZNe{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new rn,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e){if(this.compareWith){for(let t of this._selection)if(this.compareWith(e,t))return t;return e}return e}}let DL=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Fq=new _t("CdkAccordion");let eFe=0,tFe=(()=>{class n{get expanded(){return this._expanded}set expanded(t){this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=mt.EMPTY,this.closed=new qt,this.opened=new qt,this.destroyed=new qt,this.expandedChange=new qt,this.id="cdk-accordion-child-"+eFe++,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Fq,12),Te(Ii),Te(DL))};static#t=this.\u0275dir=Jt({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:["expanded","expanded",Xi],disabled:["disabled","disabled",Xi]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Yn([{provide:Fq,useValue:void 0}]),gd]})}return n})(),nFe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({})}return n})();const iFe=["body"];function rFe(n,e){}const oFe=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],sFe=["mat-expansion-panel-header","*","mat-action-row"];function aFe(n,e){1&n&&_n(0,"span",2),2&n&&Ot("@indicatorRotate",Sn()._getExpandedState())}const cFe=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],lFe=["mat-panel-title","mat-panel-description","*"],Lq=new _t("MAT_ACCORDION"),Bq="225ms cubic-bezier(0.4,0.0,0.2,1)",jq={indicatorRotate:qc("indicatorRotate",[To("collapsed, void",er({transform:"rotate(0deg)"})),To("expanded",er({transform:"rotate(180deg)"})),ys("expanded <=> collapsed, void => collapsed",_s(Bq))]),bodyExpansion:qc("bodyExpansion",[To("collapsed, void",er({height:"0px",visibility:"hidden"})),To("expanded",er({height:"*",visibility:""})),ys("expanded <=> collapsed, void => collapsed",_s(Bq))])},Uq=new _t("MAT_EXPANSION_PANEL");let dFe=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}static#e=this.\u0275fac=function(i){return new(i||n)(Te(za),Te(Uq,8))};static#t=this.\u0275dir=Jt({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]})}return n})(),uFe=0;const Vq=new _t("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let rT=(()=>{class n extends tFe{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=mi(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,i,r,o,s,a,c){super(t,i,r),this._viewContainerRef=o,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new qt,this.afterCollapse=new qt,this._inputChanges=new rn,this._headerId="mat-expansion-panel-header-"+uFe++,this._bodyAnimationDone=new rn,this.accordion=t,this._document=s,this._bodyAnimationDone.pipe(ta((l,d)=>l.fromState===d.fromState&&l.toState===d.toState)).subscribe(l=>{"void"!==l.fromState&&("expanded"===l.toState?this.afterExpand.emit():"collapsed"===l.toState&&this.afterCollapse.emit())}),c&&(this.hideToggle=c.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(is(null),vi(()=>this.expanded&&!this._portal),cr(1)).subscribe(()=>{this._portal=new __(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Lq,12),Te(Ii),Te(DL),Te(ms),Te(Qn),Te(ro,8),Te(Vq,8))};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,o){if(1&i&&dr(o,dFe,5),2&i){let s;An(s=Tn())&&(r._lazyContent=s.first)}},viewQuery:function(i,r){if(1&i&&Di(iFe,5),2&i){let o;An(o=Tn())&&(r._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,r){2&i&&pn("mat-expanded",r.expanded)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Yn([{provide:Lq,useValue:void 0},{provide:Uq,useExisting:n}]),Gn,Ji],ngContentSelectors:sFe,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){1&i&&(vr(oFe),Bn(0),nt(1,"div",0,1),Ft("@bodyExpansion.done",function(s){return r._bodyAnimationDone.next(s)}),nt(3,"div",2),Bn(4,1),hn(5,rFe,0,0,"ng-template",3),ot(),Bn(6,2),ot()),2&i&&(pt(1),Ot("@bodyExpansion",r._getExpandedState())("id",r.id),oi("aria-labelledby",r._headerId),pt(4),Ot("cdkPortalOutlet",r._portal))},dependencies:[y_],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[jq.bodyExpansion]},changeDetection:0})}return n})();class hFe{}const fFe=h_(hFe);let OL=(()=>{class n extends fFe{constructor(t,i,r,o,s,a,c){super(),this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=a,this._parentChangeSubscription=mt.EMPTY;const l=t.accordion?t.accordion._stateChanges.pipe(vi(d=>!(!d.hideToggle&&!d.togglePosition))):ea;this.tabIndex=parseInt(c||"")||0,this._parentChangeSubscription=Ms(t.opened,t.closed,l,t._inputChanges.pipe(vi(d=>!!(d.hideToggle||d.disabled||d.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(vi(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:Ga(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(rT,1),Te(In),Te(Fu),Te(Ii),Te(Vq,8),Te(ro,8),qs("tabindex"))};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,r){1&i&&Ft("click",function(){return r._toggle()})("keydown",function(s){return r._keydown(s)}),2&i&&(oi("id",r.panel._headerId)("tabindex",r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),zg("height",r._getHeaderHeight()),pn("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[Gn],ngContentSelectors:lFe,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator"],[1,"mat-expansion-indicator"]],template:function(i,r){1&i&&(vr(cFe),nt(0,"span",0),Bn(1),Bn(2,1),Bn(3,2),ot(),hn(4,aFe,1,1,"span",1)),2&i&&(pn("mat-content-hide-toggle",!r._showToggle()),pt(4),Vi(4,r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[jq.indicatorRotate]},changeDetection:0})}return n})(),zq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Jt({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return n})(),RL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[nr,nFe,Bu]})}return n})();function Hq(n,e,t){return t?Hq(n,e).pipe(C1(t)):new Et(i=>{const r=(...s)=>i.next(1===s.length?s[0]:s),o=n(r);return Oe(e)?()=>e(r,o):void 0})}const pFe=["youtubeContainer"];let $q=(()=>{class n{get height(){return this._height}set height(t){this._height=t||390}get width(){return this._width}set width(t){this._width=t||640}constructor(t,i){this._ngZone=t,this._destroyed=new rn,this._playerChanges=new hr(void 0),this._height=390,this._width=640,this.disableCookies=!1,this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=wd(i)}ngAfterViewInit(){this._isBrowser&&(window.YT&&window.YT.Player?this._createPlayer():(this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback?.(),this._ngZone.run(()=>this._createPlayer())}))}ngOnChanges(t){this._shouldRecreatePlayer(t)?this._createPlayer():this._player&&((t.width||t.height)&&this._setSize(),t.suggestedQuality&&this._setQuality(),(t.startSeconds||t.endSeconds||t.suggestedQuality)&&this._cuePlayer())}ngOnDestroy(){this._pendingPlayer?.destroy(),this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(t,i){this._player?this._player.seekTo(t,i):this._getPendingState().seek={seconds:t,allowSeekAhead:i}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(t){this._player?this._player.setVolume(t):this._getPendingState().volume=t}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(t){if(this._player)return this._player.setPlaybackRate(t);this._getPendingState().playbackRate=t}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_shouldRecreatePlayer(t){const i=t.videoId||t.playerVars||t.disableCookies;return!!i&&!i.isFirstChange()}_createPlayer(){if(this._player?.destroy(),this._pendingPlayer?.destroy(),typeof YT>"u"||!this.videoId&&!this.playerVars?.list)return;const t=this._ngZone.runOutsideAngular(()=>new YT.Player(this.youtubeContainer.nativeElement,{videoId:this.videoId,host:this.disableCookies?"https://www.youtube-nocookie.com":void 0,width:this.width,height:this.height,playerVars:this.playerVars})),i=()=>{this._player=t,this._pendingPlayer=void 0,t.removeEventListener("onReady",i),this._playerChanges.next(t),this._setSize(),this._setQuality(),this._pendingPlayerState&&(this._applyPendingPlayerState(t,this._pendingPlayerState),this._pendingPlayerState=void 0);const r=t.getPlayerState();(r===YT.PlayerState.UNSTARTED||r===YT.PlayerState.CUED||null==r)&&this._cuePlayer()};this._pendingPlayer=t,t.addEventListener("onReady",i)}_applyPendingPlayerState(t,i){const{playbackState:r,playbackRate:o,volume:s,muted:a,seek:c}=i;switch(r){case YT.PlayerState.PLAYING:t.playVideo();break;case YT.PlayerState.PAUSED:t.pauseVideo();break;case YT.PlayerState.CUED:t.stopVideo()}null!=o&&t.setPlaybackRate(o),null!=s&&t.setVolume(s),null!=a&&(a?t.mute():t.unMute()),null!=c&&t.seekTo(c.seconds,c.allowSeekAhead)}_cuePlayer(){this._player&&this.videoId&&this._player.cueVideoById({videoId:this.videoId,startSeconds:this.startSeconds,endSeconds:this.endSeconds,suggestedQuality:this.suggestedQuality})}_setSize(){this._player?.setSize(this.width,this.height)}_setQuality(){this._player&&this.suggestedQuality&&this._player.setPlaybackQuality(this.suggestedQuality)}_getLazyEmitter(t){return this._playerChanges.pipe(Dr(i=>i?Hq(r=>{i.addEventListener(t,r)},r=>{try{i?.removeEventListener?.(t,r)}catch{}}):Mn()),i=>new Et(r=>i.subscribe({next:o=>this._ngZone.run(()=>r.next(o)),error:o=>r.error(o),complete:()=>r.complete()})),Ei(this._destroyed))}static#e=this.\u0275fac=function(i){return new(i||n)(Te(gn),Te(Ss))};static#t=this.\u0275cmp=dn({type:n,selectors:[["youtube-player"]],viewQuery:function(i,r){if(1&i&&Di(pFe,7),2&i){let o;An(o=Tn())&&(r.youtubeContainer=o.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:"disableCookies",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},features:[Ji],decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(i,r){1&i&&_n(0,"div",null,0)},encapsulation:2,changeDetection:0})}return n})(),Xq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({})}return n})();function Yq(n=mFe){return _i((e,t)=>{let i=!1;e.subscribe(wn(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function mFe(){return new Tw}let wm={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function qq(n){wm=n}const Kq=/[&<>"']/,gFe=new RegExp(Kq.source,"g"),Jq=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,_Fe=new RegExp(Jq.source,"g"),yFe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Qq=n=>yFe[n];function Sc(n,e){if(e){if(Kq.test(n))return n.replace(gFe,Qq)}else if(Jq.test(n))return n.replace(_Fe,Qq);return n}const bFe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function vFe(n){return n.replace(bFe,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const wFe=/(^|[^\[])\^/g;function ur(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(i,r)=>(r=(r="object"==typeof r&&"source"in r?r.source:r).replace(wFe,"$1"),n=n.replace(i,r),t),getRegex:()=>new RegExp(n,e)};return t}function Zq(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const oT={exec:()=>null};function eK(n,e){const i=n.replace(/\|/g,(o,s,a)=>{let c=!1,l=s;for(;--l>=0&&"\\"===a[l];)c=!c;return c?"|":" |"}).split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function sT(n,e,t){const i=n.length;if(0===i)return"";let r=0;for(;r<i;){const o=n.charAt(i-r-1);if(o!==e||t){if(o===e||!t)break;r++}else r++}return n.slice(0,i-r)}function tK(n,e,t,i){const r=e.href,o=e.title?Sc(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){i.state.inLink=!0;const a={type:"link",raw:t,href:r,title:o,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,a}return{type:"image",raw:t,href:r,title:o,text:Sc(s)}}class aT{options;rules;lexer;constructor(e){this.options=e||wm}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:sT(i,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],r=function EFe(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const i=t[1];return e.split("\n").map(r=>{const o=r.match(/^\s+/);if(null===o)return r;const[s]=o;return s.length>=i.length?r.slice(i.length):r}).join("\n")}(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const r=sT(i,"#");(this.options.pedantic||!r||/ $/.test(r))&&(i=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const i=sT(t[0].replace(/^ *>[ \t]?/gm,""),"\n"),r=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(i);return this.lexer.state.top=r,{type:"blockquote",raw:t[0],tokens:o,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim();const r=i.length>1,o={type:"list",raw:"",ordered:r,start:r?+i.slice(0,-1):"",loose:!1,items:[]};i=r?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=r?i:"[*+-]");const s=new RegExp(`^( {0,3}${i})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",c="",l=!1;for(;e;){let d=!1;if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let h=t[2].split("\n",1)[0].replace(/^\t+/,B=>" ".repeat(3*B.length)),f=e.split("\n",1)[0],m=0;this.options.pedantic?(m=2,c=h.trimStart()):(m=t[2].search(/[^ ]/),m=m>4?1:m,c=h.slice(m),m+=t[1].length);let g=!1;if(!h&&/^ *$/.test(f)&&(a+=f+"\n",e=e.substring(f.length+1),d=!0),!d){const B=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),z=new RegExp(`^ {0,${Math.min(3,m-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),le=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:\`\`\`|~~~)`),se=new RegExp(`^ {0,${Math.min(3,m-1)}}#`);for(;e;){const ke=e.split("\n",1)[0];if(f=ke,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),le.test(f)||se.test(f)||B.test(f)||z.test(e))break;if(f.search(/[^ ]/)>=m||!f.trim())c+="\n"+f.slice(m);else{if(g||h.search(/[^ ]/)>=4||le.test(h)||se.test(h)||z.test(h))break;c+="\n"+f}!g&&!f.trim()&&(g=!0),a+=ke+"\n",e=e.substring(ke.length+1),h=f.slice(m)}}o.loose||(l?o.loose=!0:/\n *\n *$/.test(a)&&(l=!0));let C,v=null;this.options.gfm&&(v=/^\[[ xX]\] /.exec(c),v&&(C="[ ] "!==v[0],c=c.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:a,task:!!v,checked:C,loose:!1,text:c,tokens:[]}),o.raw+=a}o.items[o.items.length-1].raw=a.trimEnd(),o.items[o.items.length-1].text=c.trimEnd(),o.raw=o.raw.trimEnd();for(let d=0;d<o.items.length;d++)if(this.lexer.state.top=!1,o.items[d].tokens=this.lexer.blockTokens(o.items[d].text,[]),!o.loose){const h=o.items[d].tokens.filter(m=>"space"===m.type),f=h.length>0&&h.some(m=>/\n.*\n/.test(m.raw));o.loose=f}if(o.loose)for(let d=0;d<o.items.length;d++)o.items[d].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const i=t[1].toLowerCase().replace(/\s+/g," "),r=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:r,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(t){if(!/[:|]/.test(t[2]))return;const i={type:"table",raw:t[0],header:eK(t[1]).map(r=>({text:r,tokens:[]})),align:t[2].replace(/^\||\| *$/g,"").split("|"),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(i.header.length===i.align.length){let o,s,a,c,r=i.align.length;for(o=0;o<r;o++){const l=i.align[o];l&&(i.align[o]=/^ *-+: *$/.test(l)?"right":/^ *:-+: *$/.test(l)?"center":/^ *:-+ *$/.test(l)?"left":null)}for(r=i.rows.length,o=0;o<r;o++)i.rows[o]=eK(i.rows[o],i.header.length).map(l=>({text:l,tokens:[]}));for(r=i.header.length,s=0;s<r;s++)i.header[s].tokens=this.lexer.inline(i.header[s].text);for(r=i.rows.length,s=0;s<r;s++)for(c=i.rows[s],a=0;a<c.length;a++)c[a].tokens=this.lexer.inline(c[a].text);return i}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Sc(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const s=sT(i.slice(0,-1),"\\");if((i.length-s.length)%2==0)return}else{const s=function xFe(n,e){if(-1===n.indexOf(e[1]))return-1;let t=0;for(let i=0;i<n.length;i++)if("\\"===n[i])i++;else if(n[i]===e[0])t++;else if(n[i]===e[1]&&(t--,t<0))return i;return-1}(t[2],"()");if(s>-1){const c=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let r=t[2],o="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);s&&(r=s[1],o=s[3])}else o=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(r=this.options.pedantic&&!/>$/.test(i)?r.slice(1):r.slice(1,-1)),tK(t,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let r=(i[2]||i[1]).replace(/\s+/g," ");if(r=t[r.toLowerCase()],!r){const o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return tK(i,r,i[0],this.lexer)}}emStrong(e,t,i=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!(!r||r[3]&&i.match(/[\p{L}\p{N}]/u))&&(!r[1]&&!r[2]||!i||this.rules.inline.punctuation.exec(i))){const s=[...r[0]].length-1;let a,c,l=s,d=0;const h="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+s);null!=(r=h.exec(t));){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(c=[...a].length,r[3]||r[4]){l+=c;continue}if((r[5]||r[6])&&s%3&&!((s+c)%3)){d+=c;continue}if(l-=c,l>0)continue;c=Math.min(c,c+l+d);const f=[...r[0]][0].length,m=e.slice(0,s+r.index+f+c);if(Math.min(s,c)%2){const v=m.slice(1,-1);return{type:"em",raw:m,text:v,tokens:this.lexer.inlineTokens(v)}}const g=m.slice(2,-2);return{type:"strong",raw:m,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const r=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return r&&o&&(i=i.substring(1,i.length-1)),i=Sc(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let i,r;return"@"===t[2]?(i=Sc(t[1]),r="mailto:"+i):(i=Sc(t[1]),r=i),{type:"link",raw:t[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let i,r;if("@"===t[2])i=Sc(t[0]),r="mailto:"+i;else{let o;do{o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0]}while(o!==t[0]);i=Sc(t[0]),r="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let i;return i=this.lexer.state.inRawBlock?t[0]:Sc(t[0]),{type:"text",raw:t[0],text:i}}}}const Vn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:oT,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Vn.def=ur(Vn.def).replace("label",Vn._label).replace("title",Vn._title).getRegex(),Vn.bullet=/(?:[*+-]|\d{1,9}[.)])/,Vn.listItemStart=ur(/^( *)(bull) */).replace("bull",Vn.bullet).getRegex(),Vn.list=ur(Vn.list).replace(/bull/g,Vn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Vn.def.source+")").getRegex(),Vn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Vn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Vn.html=ur(Vn.html,"i").replace("comment",Vn._comment).replace("tag",Vn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Vn.lheading=ur(Vn.lheading).replace(/bull/g,Vn.bullet).getRegex(),Vn.paragraph=ur(Vn._paragraph).replace("hr",Vn.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vn._tag).getRegex(),Vn.blockquote=ur(Vn.blockquote).replace("paragraph",Vn.paragraph).getRegex(),Vn.normal={...Vn},Vn.gfm={...Vn.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Vn.gfm.table=ur(Vn.gfm.table).replace("hr",Vn.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vn._tag).getRegex(),Vn.gfm.paragraph=ur(Vn._paragraph).replace("hr",Vn.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Vn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Vn._tag).getRegex(),Vn.pedantic={...Vn.normal,html:ur("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Vn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:oT,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ur(Vn.normal._paragraph).replace("hr",Vn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Vn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const vn={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:oT,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:oT,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};vn.punctuation=ur(vn.punctuation,"u").replace(/punctuation/g,vn._punctuation).getRegex(),vn.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,vn.anyPunctuation=/\\[punct]/g,vn._escapes=/\\([punct])/g,vn._comment=ur(Vn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),vn.emStrong.lDelim=ur(vn.emStrong.lDelim,"u").replace(/punct/g,vn._punctuation).getRegex(),vn.emStrong.rDelimAst=ur(vn.emStrong.rDelimAst,"gu").replace(/punct/g,vn._punctuation).getRegex(),vn.emStrong.rDelimUnd=ur(vn.emStrong.rDelimUnd,"gu").replace(/punct/g,vn._punctuation).getRegex(),vn.anyPunctuation=ur(vn.anyPunctuation,"gu").replace(/punct/g,vn._punctuation).getRegex(),vn._escapes=ur(vn._escapes,"gu").replace(/punct/g,vn._punctuation).getRegex(),vn._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,vn._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,vn.autolink=ur(vn.autolink).replace("scheme",vn._scheme).replace("email",vn._email).getRegex(),vn._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,vn.tag=ur(vn.tag).replace("comment",vn._comment).replace("attribute",vn._attribute).getRegex(),vn._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,vn._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,vn._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,vn.link=ur(vn.link).replace("label",vn._label).replace("href",vn._href).replace("title",vn._title).getRegex(),vn.reflink=ur(vn.reflink).replace("label",vn._label).replace("ref",Vn._label).getRegex(),vn.nolink=ur(vn.nolink).replace("ref",Vn._label).getRegex(),vn.reflinkSearch=ur(vn.reflinkSearch,"g").replace("reflink",vn.reflink).replace("nolink",vn.nolink).getRegex(),vn.normal={...vn},vn.pedantic={...vn.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ur(/^!?\[(label)\]\((.*?)\)/).replace("label",vn._label).getRegex(),reflink:ur(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",vn._label).getRegex()},vn.gfm={...vn.normal,escape:ur(vn.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},vn.gfm.url=ur(vn.gfm.url,"i").replace("email",vn.gfm._extended_email).getRegex(),vn.breaks={...vn.gfm,br:ur(vn.br).replace("{2,}","*").getRegex(),text:ur(vn.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class Wd{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||wm,this.options.tokenizer=this.options.tokenizer||new aT,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Vn.normal,inline:vn.normal};this.options.pedantic?(t.block=Vn.pedantic,t.inline=vn.pedantic):this.options.gfm&&(t.block=Vn.gfm,t.inline=this.options.breaks?vn.breaks:vn.gfm),this.tokenizer.rules=t}static get rules(){return{block:Vn,inline:vn}}static lex(e,t){return new Wd(t).lex(e)}static lexInline(e,t){return new Wd(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let i,r,o,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,c,l)=>c+"    ".repeat(l.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(i=a.call({lexer:this},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),1===i.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(i):(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title}):(r.raw+="\n"+i.raw,r.text+="\n"+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const c=e.slice(1);let l;this.options.extensions.startBlock.forEach(d=>{l=d.call({lexer:this},c),"number"==typeof l&&l>=0&&(a=Math.min(a,l))}),a<1/0&&a>=0&&(o=e.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){r=t[t.length-1],s&&"paragraph"===r.type?(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i),s=o.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i,r,o,a,c,l,s=e;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)d.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(l=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>!!(i=d.call({lexer:this},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&"text"===i.type&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),r=t[t.length-1],r&&"text"===i.type&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,s,l)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e))){e=e.substring(i.raw.length),t.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const h=e.slice(1);let f;this.options.extensions.startInline.forEach(m=>{f=m.call({lexer:this},h),"number"==typeof f&&f>=0&&(d=Math.min(d,f))}),d<1/0&&d>=0&&(o=e.substring(0,d+1))}if(i=this.tokenizer.inlineText(o)){e=e.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(l=i.raw.slice(-1)),c=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}return t}}class cy{options;constructor(e){this.options=e||wm}code(e,t,i){const r=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="language-'+Sc(r)+'">'+(i?e:Sc(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:Sc(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,i){return`<h${t}>${e}</h${t}>\n`}hr(){return"<hr>\n"}list(e,t,i){const r=t?"ol":"ul";return"<"+r+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e,t,i){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+e+`</${i}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,i){const r=Zq(e);if(null===r)return i;let o='<a href="'+(e=r)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+i+"</a>",o}image(e,t,i){const r=Zq(e);if(null===r)return i;let o=`<img src="${e=r}" alt="${i}"`;return t&&(o+=` title="${t}"`),o+=">",o}text(e){return e}}class kL{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}class $d{options;renderer;textRenderer;constructor(e){this.options=e||wm,this.options.renderer=this.options.renderer||new cy,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new kL}static parse(e,t){return new $d(t).parse(e)}static parseInline(e,t){return new $d(t).parseInline(e)}parse(e,t=!0){let i="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const s=o,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==a||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){i+=a||"";continue}}switch(o.type){case"space":continue;case"hr":i+=this.renderer.hr();continue;case"heading":{const s=o;i+=this.renderer.heading(this.parseInline(s.tokens),s.depth,vFe(this.parseInline(s.tokens,this.textRenderer)));continue}case"code":i+=this.renderer.code(o.text,o.lang,!!o.escaped);continue;case"table":{const s=o;let a="",c="";for(let d=0;d<s.header.length;d++)c+=this.renderer.tablecell(this.parseInline(s.header[d].tokens),{header:!0,align:s.align[d]});a+=this.renderer.tablerow(c);let l="";for(let d=0;d<s.rows.length;d++){const h=s.rows[d];c="";for(let f=0;f<h.length;f++)c+=this.renderer.tablecell(this.parseInline(h[f].tokens),{header:!1,align:s.align[f]});l+=this.renderer.tablerow(c)}i+=this.renderer.table(a,l);continue}case"blockquote":{const a=this.parse(o.tokens);i+=this.renderer.blockquote(a);continue}case"list":{const s=o,a=s.ordered,c=s.start,l=s.loose;let d="";for(let h=0;h<s.items.length;h++){const f=s.items[h],m=f.checked,g=f.task;let v="";if(f.task){const C=this.renderer.checkbox(!!m);l?f.tokens.length>0&&"paragraph"===f.tokens[0].type?(f.tokens[0].text=C+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&"text"===f.tokens[0].tokens[0].type&&(f.tokens[0].tokens[0].text=C+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:C+" "}):v+=C+" "}v+=this.parse(f.tokens,l),d+=this.renderer.listitem(v,g,!!m)}i+=this.renderer.list(d,a,c);continue}case"html":i+=this.renderer.html(o.text,o.block);continue;case"paragraph":i+=this.renderer.paragraph(this.parseInline(o.tokens));continue;case"text":{let s=o,a=s.tokens?this.parseInline(s.tokens):s.text;for(;r+1<e.length&&"text"===e[r+1].type;)s=e[++r],a+="\n"+(s.tokens?this.parseInline(s.tokens):s.text);i+=t?this.renderer.paragraph(a):a;continue}default:{const s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return i}parseInline(e,t){t=t||this.renderer;let i="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const s=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){i+=s||"";continue}}switch(o.type){case"escape":case"text":i+=t.text(o.text);break;case"html":i+=t.html(o.text);break;case"link":i+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break;case"image":i+=t.image(o.href,o.title,o.text);break;case"strong":i+=t.strong(this.parseInline(o.tokens,t));break;case"em":i+=t.em(this.parseInline(o.tokens,t));break;case"codespan":i+=t.codespan(o.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(o.tokens,t));break;default:{const s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return i}}class cT{options;constructor(e){this.options=e||wm}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}const xm=new class CFe{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#e(Wd.lex,$d.parse);parseInline=this.#e(Wd.lexInline,$d.parseInline);Parser=$d;Renderer=cy;TextRenderer=kL;Lexer=Wd;Tokenizer=aT;Hooks=cT;constructor(...e){this.use(...e)}walkTokens(e,t){let i=[];for(const r of e)switch(i=i.concat(t.call(this,r)),r.type){case"table":{const o=r;for(const s of o.header)i=i.concat(this.walkTokens(s.tokens,t));for(const s of o.rows)for(const a of s)i=i.concat(this.walkTokens(a.tokens,t));break}case"list":i=i.concat(this.walkTokens(r.items,t));break;default:{const o=r;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(s=>{i=i.concat(this.walkTokens(o[s],t))}):o.tokens&&(i=i.concat(this.walkTokens(o.tokens,t)))}}return i}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{const r={...i};if(r.async=this.defaults.async||r.async||!1,i.extensions&&(i.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const s=t.renderers[o.name];t.renderers[o.name]=s?function(...a){let c=o.renderer.apply(this,a);return!1===c&&(c=s.apply(this,a)),c}:o.renderer}if("tokenizer"in o){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");const s=t[o.level];s?s.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&("block"===o.level?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:"inline"===o.level&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),r.extensions=t),i.renderer){const o=this.defaults.renderer||new cy(this.defaults);for(const s in i.renderer){const a=i.renderer[s],l=o[s];o[s]=(...d)=>{let h=a.apply(o,d);return!1===h&&(h=l.apply(o,d)),h||""}}r.renderer=o}if(i.tokenizer){const o=this.defaults.tokenizer||new aT(this.defaults);for(const s in i.tokenizer){const a=i.tokenizer[s],l=o[s];o[s]=(...d)=>{let h=a.apply(o,d);return!1===h&&(h=l.apply(o,d)),h}}r.tokenizer=o}if(i.hooks){const o=this.defaults.hooks||new cT;for(const s in i.hooks){const a=i.hooks[s],l=o[s];o[s]=cT.passThroughHooks.has(s)?d=>{if(this.defaults.async)return Promise.resolve(a.call(o,d)).then(f=>l.call(o,f));const h=a.call(o,d);return l.call(o,h)}:(...d)=>{let h=a.apply(o,d);return!1===h&&(h=l.apply(o,d)),h}}r.hooks=o}if(i.walkTokens){const o=this.defaults.walkTokens,s=i.walkTokens;r.walkTokens=function(a){let c=[];return c.push(s.call(this,a)),o&&(c=c.concat(o.call(this,a))),c}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Wd.lex(e,t??this.defaults)}parser(e,t){return $d.parse(e,t??this.defaults)}#e(e,t){return(i,r)=>{const o={...r},s={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const a=this.#t(!!s.silent,!!s.async);if(typeof i>"u"||null===i)return a(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof i)return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(i):i).then(c=>e(c,s)).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>t(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(a);try{s.hooks&&(i=s.hooks.preprocess(i));const c=e(i,s);s.walkTokens&&this.walkTokens(c,s.walkTokens);let l=t(c,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(c){return a(c)}}}#t(e,t){return i=>{if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const r="<p>An error occurred:</p><pre>"+Sc(i.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(i);throw i}}};function ir(n,e){return xm.parse(n,e)}ir.options=ir.setOptions=function(n){return xm.setOptions(n),qq(ir.defaults=xm.defaults),ir},ir.getDefaults=function PL(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},ir.defaults=wm,ir.use=function(...n){return xm.use(...n),qq(ir.defaults=xm.defaults),ir},ir.walkTokens=function(n,e){return xm.walkTokens(n,e)},ir.parseInline=xm.parseInline,ir.Parser=$d,ir.parser=$d.parse,ir.Renderer=cy,ir.TextRenderer=kL,ir.Lexer=Wd,ir.lexer=Wd.lex,ir.Tokenizer=aT,ir.Hooks=cT,ir.parse=ir;const SFe=["*"];let nK=(()=>{class n{constructor(){this._buttonClick$=new rn,this.copied$=this._buttonClick$.pipe(Dr(()=>Ms(Mn(!0),p0(3e3).pipe(wL(!1)))),ta(),Yc(1)),this.copiedText$=this.copied$.pipe(is(!1),Bt(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=dn({type:n,selectors:[["markdown-clipboard"]],standalone:!0,features:[Hh],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(i,r){1&i&&(nt(0,"button",0),Ft("click",function(){return r.onCopyToClipboardClick()}),ei(1,"async"),Wt(2),ei(3,"async"),ot()),2&i&&(pn("copied",ni(1,3,r.copied$)),pt(2),So(ni(3,5,r.copiedText$)))},dependencies:[vd],encapsulation:2,changeDetection:0})}return n})();const MFe=new _t("CLIPBOARD_OPTIONS");var NL=function(n){return n.CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",n}(NL||{});const iK=new _t("MARKED_EXTENSIONS"),DFe=new _t("MARKED_OPTIONS"),rK=new _t("SECURITY_CONTEXT");let FL=(()=>{class n{get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}constructor(t,i,r,o,s,a,c){this.clipboardOptions=t,this.extensions=i,this.platform=o,this.securityContext=s,this.http=a,this.sanitizer=c,this.DEFAULT_MARKED_OPTIONS={renderer:new cy},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new rn,this.reload$=this._reload$.asObservable(),this.options=r}parse(t,i=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:r,inline:o,emoji:s,mermaid:a,disableSanitizer:c}=i,l={...this.options,...i.markedOptions},d=l.renderer||this.renderer||new cy;this.extensions&&(this.renderer=this.extendsRendererForExtensions(d)),a&&(this.renderer=this.extendsRendererForMermaid(d));const h=this.trimIndentation(t),f=r?this.decodeHtml(h):h,m=s?this.parseEmoji(f):f,g=this.parseMarked(m,l,o);return(c?g:this.sanitizer.sanitize(this.securityContext,g))||""}render(t,i=this.DEFAULT_RENDER_OPTIONS,r){const{clipboard:o,clipboardOptions:s,katex:a,katexOptions:c,mermaid:l,mermaidOptions:d}=i;o&&this.renderClipboard(t,r,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...c}),l&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...d}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(Bt(i=>this.handleExtension(t,i)))}highlight(t){if(!wd(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const i=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(i,r=>r.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!wd(this.platform))return t;const i=document.createElement("textarea");return i.innerHTML=t,i.value}extendsRendererForExtensions(t){const i=t;return!0===i.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&ir.use(...this.extensions),i.\u0275NgxMarkdownRendererExtendedForExtensions=!0),t}extendsRendererForMermaid(t){const i=t;if(!0===i.\u0275NgxMarkdownRendererExtendedForMermaid)return t;const r=t.code;return t.code=function(o,s,a){return"mermaid"===s?`<div class="mermaid">${o}</div>`:r.call(this,o,s,a)},i.\u0275NgxMarkdownRendererExtendedForMermaid=!0,t}handleExtension(t,i){const r=t.lastIndexOf("://"),o=r>-1?t.substring(r+4):t,s=o.lastIndexOf("/"),a=s>-1?o.substring(s+1).split("?")[0]:"",c=a.lastIndexOf("."),l=c>-1?a.substring(c+1):"";return l&&"md"!==l?"```"+l+"\n"+i+"\n```":i}parseMarked(t,i,r=!1){return i.renderer&&(ir.use({renderer:i.renderer}),delete i.renderer),r?ir.parseInline(t,i):ir.parse(t,i)}parseEmoji(t){if(!wd(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,i){if(wd(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,i)}}renderClipboard(t,i,r){if(!wd(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!i)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:o,buttonTemplate:s}=r,a=t.querySelectorAll("pre");for(let c=0;c<a.length;c++){const l=a.item(c),d=document.createElement("div");d.style.position="relative",l.parentNode.insertBefore(d,l),d.appendChild(l);const h=document.createElement("div");let f,m;h.style.position="absolute",h.style.top=".5em",h.style.right=".5em",h.style.opacity="0",h.style.transition="opacity 250ms ease-out",d.insertAdjacentElement("beforeend",h),l.onmouseover=()=>h.style.opacity="1",l.onmouseout=()=>h.style.opacity="0",f=o?i.createComponent(o).hostView:s?i.createEmbeddedView(s):i.createComponent(nK).hostView,f.rootNodes.forEach(g=>{g.onmouseover=()=>h.style.opacity="1",h.appendChild(g),m=new ClipboardJS(g,{text:()=>l.innerText})}),f.onDestroy(()=>m.destroy())}}renderMermaid(t,i=this.DEFAULT_MERMAID_OPTIONS){if(!wd(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const r=t.querySelectorAll(".mermaid");0!==r.length&&(mermaid.initialize(i),mermaid.run({nodes:r}))}trimIndentation(t){if(!t)return"";let i;return t.split("\n").map(r=>{let o=i;return r.length>0&&(o=isNaN(o)?r.search(/\S|$/):Math.min(r.search(/\S|$/),o)),isNaN(i)&&(i=o),o?r.substring(o):r}).join("\n")}static#e=this.\u0275fac=function(i){return new(i||n)(et(MFe,8),et(iK,8),et(DFe,8),et(Ss),et(rK),et(Cd,8),et(Op))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})(),oK=(()=>{class n{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}constructor(t,i,r){this.element=t,this.markdownService=i,this.viewContainerRef=r,this.error=new qt,this.load=new qt,this.ready=new qt,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new rn}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(Ei(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,i=!1){var r=this;return fn(function*(){const o={decodeHtml:i,inline:r.inline,emoji:r.emoji,mermaid:r.mermaid,disableSanitizer:r.disableSanitizer},s={clipboard:r.clipboard,clipboardOptions:{buttonComponent:r.clipboardButtonComponent,buttonTemplate:r.clipboardButtonTemplate},katex:r.katex,katexOptions:r.katexOptions,mermaid:r.mermaid,mermaidOptions:r.mermaidOptions},a=yield r.markdownService.parse(t,o);r.element.nativeElement.innerHTML=a,r.handlePlugins(),r.markdownService.render(r.element.nativeElement,s,r.viewContainerRef),r.ready.emit()})()}coerceBooleanProperty(t){return null!=t&&"false"!=`${String(t)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t).then(()=>{this.load.emit(t)})},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,NL.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,NL.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,i){const r=t.querySelectorAll("pre");for(let o=0;o<r.length;o++){const s=i instanceof Array?i:[i];r.item(o).classList.add(...s)}}setPluginOptions(t,i){const r=t.querySelectorAll("pre");for(let o=0;o<r.length;o++)Object.keys(i).forEach(s=>{const a=i[s];if(a){const c=this.toLispCase(s);r.item(o).setAttribute(c,a.toString())}})}toLispCase(t){const i=t.match(/([A-Z])/g);if(!i)return t;let r=t.toString();for(let o=0,s=i.length;o<s;o++)r=r.replace(new RegExp(i[o]),"-"+i[o].toLowerCase());return"-"===r.slice(0,1)&&(r=r.slice(1)),r}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In),Te(FL),Te(ms))};static#t=this.\u0275cmp=dn({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[Ji,Hh],ngContentSelectors:SFe,decls:1,vars:0,template:function(i,r){1&i&&(vr(),Bn(0))},encapsulation:2})}return n})();function BFe(n){return[FL,n?.loader??[],n?.clipboardOptions??[],n?.markedOptions??[],{provide:iK,useValue:n?.markedExtensions??[]},{provide:rK,useValue:n?.sanitize??Uo.HTML}]}let jFe=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[BFe(t)]}}static forChild(){return{ngModule:n}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi]})}return n})();var sK;!function(n){let e;var r;let t,i;(r=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",r.Loose="loose",r.Antiscript="antiscript",r.Sandbox="sandbox",function(r){r.Base="base",r.Forest="forest",r.Dark="dark",r.Default="default",r.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(r){r[r.Debug=1]="Debug",r[r.Info=2]="Info",r[r.Warn=3]="Warn",r[r.Error=4]="Error",r[r.Fatal=5]="Fatal"}(i=n.LogLevel||(n.LogLevel={}))}(sK||(sK={}));let UFe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,iT,co,RL,Xq,jFe.forRoot({})]})}return n})(),VFe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,UFe,co,c5]})}return n})(),zFe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({})}return n})(),LL=(()=>{class n{get obj(){const t=this.findGlobalObject();return Object.defineProperties(this,{obj:{configurable:!1,writable:!1,value:t}}),t}has(t){const{obj:i}=this;return null!=i&&t in i}get(t,i){const{obj:r}=this;return(r&&r[t])??i}set(t,i){const{obj:r}=this;r&&(r[t]=i)}remove(t){const{obj:i}=this;i&&delete i[t]}findGlobalObject(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self;try{return new Function("return this;")()}catch{}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ly(n){return!0===n}function Ns(n){return null===n||typeof n>"u"}function aa(n){return!Ns(n)}function BL(n){return!!n}function uK(n){return Ns(n)?n:JSON.parse(JSON.stringify(n))}function hK(n){return aa(n)&&"object"==typeof n&&function jL(n){return"[object Object]"===Object.prototype.toString.call(n)}(n)}const pLe="NGXS_COMPUTED_OPTION",mK="NGXS_DATA_META",UL="NGXS_META",gK="NGXS_ARGUMENT_REGISTRY_META";let _K=(()=>{class n{constructor(t){this.subscription=null,this.sequence$=new hr(0),t&&(this.subscription=t.subscribe(()=>this.updateSequence()))}get sequenceValue(){return this.sequence$.getValue()}ngOnDestroy(){this.sequence$.next(0),this.subscription?.unsubscribe()}updateSequence(){this.sequence$.next(this.sequenceValue+1)}}return n.\u0275fac=function(t){return new(t||n)(et(Hd,8))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();function Iw(n){return n[mK]}let nl=(()=>{class n{constructor(t,i,r){n.store=t.get(Hd),n.ngZone=t.get(gn),n.factory=i,n.context=r,n.computed=t.get(_K),n.injector=t}}return n.store=null,n.computed=null,n.context=null,n.factory=null,n.ngZone=null,n.injector=null,n.\u0275fac=function(t){return new(t||n)(et(xi),et(UX),et(VX))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();class Oo{constructor(){Oo.statesCachedMeta.clear()}static createStateContext(e){return nl.context.createStateContext(e)}static ensureMappedState(e){if(Ns(nl.factory)||Ns(e))throw new Error("Metadata not created \n Maybe you forgot to import the NgxsDataPluginModule\n Also, you cannot use this.ctx.* until the application is fully rendered \n (use by default ngxsOnInit(ctx: StateContext), or ngxsAfterBootstrap(ctx: StateContext) !!!");return(aa(e.name)?Oo.statesCachedMeta.get(e.name):null)||Oo.ensureMeta(e)}static getRepositoryByInstance(e){const i=Iw(Oo.getStateClassByInstance(e))??null;if(Ns(i))throw new Error("You forgot add decorator @StateRepository or initialize state!\nExample: NgxsModule.forRoot([ .. ]), or NgxsModule.forFeature([ .. ])");return i}static getStateClassByInstance(e){return(e??{}).constructor}static clearMetaByInstance(e){const t=Oo.getRepositoryByInstance(e);t.stateMeta.actions={},t.operations={}}static createPayload(e,t){const i={},r=Array.from(e);for(const[o,s]of r.entries()){const a=t?.getPayloadTypeByIndex(o);aa(a)&&(i[a]=s)}return Object.keys(i).length>0?i:null}static createAction(e,t,i){const r=Oo.createPayload(t,i),o=function yLe(n){return class{constructor(t){if(t)for(const i of Object.keys(t))this[i]=t[i]}static get type(){return n}}}(e.type);return new o(r)}static ensureMeta(e){const t=aa(e.name)?nl.factory.states?.find(i=>i.name===e.name):null;return aa(t)&&aa(e.name)&&Oo.statesCachedMeta.set(e.name,t),t}}Oo.statesCachedMeta=new Map,Oo.\u0275fac=function(e){return new(e||Oo)},Oo.\u0275prov=It({token:Oo,factory:Oo.\u0275fac}),new class bLe{constructor(){this.subject=new qh(1)}init(){this.subject.next()}onInit(e){this.subject.pipe(function eh(n,e){const t=arguments.length>=2;return i=>i.pipe(n?vi((r,o)=>n(r,o,i)):cs,cr(1),t?Z_(e):Yq(()=>new Tw))}()).subscribe(e)}reset(){this.subject.complete(),this.subject=new qh(1)}};class wLe extends Error{constructor(e){super(`Child states can only be added to an object. Cannot convert ${aa(e?.constructor)?e.constructor.name:e} to PlainObject`)}}function yK(n){return n.NGXS_OPTIONS_META??{name:""}}function bK(n){const e=yK(n),t=e.children??[],r=uK(void 0===e.defaults?{}:e.defaults);if(t.length>0){if(hK(r))return function xLe(n,e){return e.reduce((t,i)=>{const r=yK(i);if(function Mw(n){const e="string"==typeof n?n.trim():n;return[void 0,null,NaN,"",1/0].includes(e)}(r.name))throw new Error("State name not provided in class");return t[r.name.toString()]=bK(i),t},n??{})}(r,t);throw new wLe(r)}return r}function vK(){return`__${pLe}__`}function wK(n){return n[vK()]??null}function xK(){return nl?.computed?.sequenceValue??0}function SLe(n){let e=!1;return dm(n)&&(e=!0),e}function VL(n){return n[gK]}class ALe extends Error{constructor(e,t){super(`An argument with the name '${e}' already exists in the method '${t}'`)}}class TLe{constructor(){this.payloadMap=new Map,this.argumentMap=new Map}getPayloadTypeByIndex(e){return this.payloadMap.get(e)??null}getArgumentNameByIndex(e){return this.argumentMap.get(e)??null}createPayloadType(e,t,i){this.checkDuplicateName(e,t),this.payloadMap.set(i,e),this.payloadMap.set(e,e)}createArgumentName(e,t,i){this.checkDuplicateName(e,t),this.argumentMap.set(i,e),this.argumentMap.set(e,e)}checkDuplicateName(e,t){if(BL(this.argumentMap.has(e))||BL(this.payloadMap.has(e)))throw new ALe(e,t)}}function RLe(n){return{enumerable:!0,configurable:!0,get(){const e=Iw(n),t=Oo.ensureMappedState(e.stateMeta);return Oo.createStateContext(t)}}}function HL(n){if(!n)throw new Error("You forgot add decorator @StateRepository or initialize state!\nExample: NgxsModule.forRoot([ .. ]), or NgxsModule.forFeature([ .. ])");return{...n,getState:()=>n.getState(),setState(e){n.setState(e)},patchState(e){n.patchState(e)}}}const LLe={dataActionSubscribeRequired:!0},BLe=new _t("NGXS_DATA_CONFIG",{providedIn:"root",factory:()=>LLe});let jLe=(()=>{class n{constructor(t,i){this.accessor=t,this.injector=i}static forRoot(t=[]){return{ngModule:n,providers:[Oo,nl,_K,...t]}}}return n.\u0275fac=function(t){return new(t||n)(et(Oo,2),et(nl,2))},n.\u0275mod=on({type:n}),n.\u0275inj=en({}),n})();function zi(){return(n,e,t)=>{!function _Le(n,e){if(!function oLe(n,e){let t=n,i=!1;if(hK(t))for(;null!==t;){if(ly(t?.hasOwnProperty(e))){i=!!Object.getOwnPropertyDescriptor(t,e)?.get;break}t=Object.getPrototypeOf(t)}return i}(n,e?.toString()))throw new Error(`The method must be a getter for the computed decorator to work properly.\nExample: \n@Computed() get ${e.toString()}() { \n\t .. \n}`)}(n,e);const i=t.get;return t.get=function(...r){const o=function CLe(n){return Ns(wK(n))&&Object.defineProperties(n,{[vK()]:{enumerable:!0,configurable:!0,value:new WeakMap}}),wK(n)}(this),s=o?.get(i);if(ly(s?.isObservable))return s?.value;if(Ns(s)||s.sequenceId!==xK()){o.delete(i);const c=i.apply(this,r);return o.set(i,{value:c,sequenceId:xK(),isObservable:SLe(c)}),c}return s?.value},t}}const ULe={cancelUncompleted:!0,insideZone:!1,subscribeRequired:!0};function qn(n={}){const e=function VLe(n){const e=nl?.injector?.get(BLe,void 0,Mi.Optional),t={...ULe};return aa(e)&&void 0!==e?.dataActionSubscribeRequired&&(t.subscribeRequired=e.dataActionSubscribeRequired),{...t,...n}}(n);return(t,i,r)=>{!function gLe(n,e){if(n.hasOwnProperty("prototype"))throw new Error("Cannot support static methods with @DataAction()");if(void 0===e)throw new Error("@DataAction() can only decorate a method implementation")}(t,r);const o=r.value,s=i.toString();return r.value=function(...a){const c=this;let l=null;const d=Oo.getRepositoryByInstance(c),h=d.operations;let f=h[s];const m=d.stateMeta,g=VL(o);if(Ns(f)){const le=function FLe(n){return String(n).replace(/\/\/.*$/gm,"").replace(/\s+/g,"").replace(/\/\*[^*/]*\*\//g,"").split("){",1)?.[0]?.replace(/^[^(]*\(/,"").replace(/=[^,]+/g,"").split(",").filter(Boolean)??[]}(o),se=function vLe(n){const{statePath:e,argumentsNames:t,methodName:i,argumentRegistry:r}=n;let o="";for(let s=0;s<t.length;s++)aa(r?.getArgumentNameByIndex(s))?o+=r?.getArgumentNameByIndex(s):aa(r?.getPayloadTypeByIndex(s))?o+=r?.getPayloadTypeByIndex(s):o+=`$arg${s}`,s!==t.length-1&&(o+=", ");return`@${e.replace(/\./g,"/")}.${i}(${o})`}({statePath:m.path,methodName:s,argumentsNames:le,argumentRegistry:g});f=h[s]={type:se,options:{cancelUncompleted:e.cancelUncompleted??!1}},aa(f)&&(m.actions[f.type]=[{type:f.type,options:f.options,fn:f.type}])}Oo.ensureMappedState(m).instance[f.type]=()=>(ly(e.insideZone)?nl.ngZone?.run(()=>{l=o.apply(c,a)}):l=o.apply(c,a),dm(l)&&ly(e.subscribeRequired)?Mn(null).pipe(Bt(()=>l)):l);const B=Oo.createAction(f,a,g),z=nl.store.dispatch(B);return dm(l)?function ELe(n,e){return c0([n,e]).pipe(Bt(t=>t.pop()))}(z,l):l},r}}function as(n){return(e,t,i)=>{const r=n.trim();if(!r)throw new Error("Payload name should be initialized");(function MLe(n,e){const t=n[e];return Ns(VL(t))&&Object.defineProperties(t,{[gK]:{enumerable:!0,configurable:!0,value:new TLe}}),VL(t)})(e,t).createPayloadType(r,t,i)}}function th(){return n=>{const e=function NLe(n){if(function YFe(n){return!BL(n)}(n.hasOwnProperty(UL))){const e={name:null,actions:{},defaults:{},path:null,makeRootSelector:t=>t.getStateGetter(e.name),children:[]};Object.defineProperty(n,UL,{value:e})}return function kLe(n){return n?.[UL]}(n)}(n);if(Ns(e.name))throw new Error("@StateRepository should be add before decorator @State");!function OLe(n,e){(function DLe(n){const e=Iw(n)??null;return(Ns(e)||e?.stateClass!==n)&&function ILe(n){Object.defineProperty(n,mK,{writable:!0,configurable:!0,enumerable:!0,value:{stateMeta:null,operations:{},stateClass:n}})}(n),Iw(n)}(n)).stateMeta=e}(n,e),function HLe(n,e,t){Object.defineProperties(n.prototype,{name:{enumerable:!0,configurable:!0,value:e.name},initialState:{enumerable:!0,configurable:!0,get:()=>uK(t)},context:RLe(n)})}(n,e,bK(n)),function PLe(n){const t=Iw(n)?.stateMeta?.name??null;if(aa(t)){const i=`__${t}__selector`;Object.defineProperties(n.prototype,{[i]:{writable:!0,enumerable:!1,configurable:!0},state$:{enumerable:!0,configurable:!0,get(){if(aa(this[i]))return this[i];if(Ns(nl.store))throw new Error("Metadata not created \n Maybe you forgot to import the NgxsDataPluginModule\n Also, you cannot use this.ctx.* until the application is fully rendered \n (use by default ngxsOnInit(ctx: StateContext), or ngxsAfterBootstrap(ctx: StateContext) !!!");return this[i]=nl.store.select(n).pipe(Bt(r=>r),Yc({refCount:!0,bufferSize:1})),this[i]}}})}}(n)}}var EK=function(n){return n.ID="id",n}(EK||{}),GL=function(n){return n.ASC="asc",n.DESC="desc",n}(GL||{});let WL=(()=>{class n{constructor(){this._dirty=!0,this.browserStorageEvents$=new rn,this.isInitialised=!1,this.isBootstrapped=!1}get dirty(){return this._dirty}set dirty(t){this._dirty=t}ngxsOnChanges(t){this.dirty&&this.isBootstrapped&&(this.dirty=!1,this.ngxsDataDoCheck?.())}ngxsOnInit(){this.isInitialised=!0}ngxsAfterBootstrap(){this.isBootstrapped=!0,this.dirty&&(this.dirty=!1,this.ngxsDataDoCheck?.())}markAsDirtyAfterReset(){this.dirty=!0,this.ngxsDataAfterReset?.()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),WLe=(()=>{class n extends WL{get snapshot(){return this.getState()}get ctx(){return HL(this.context)}patchState(t){this.ctx.patchState(t)}setState(t){this.ctx.setState(t)}reset(){this.ctx.setState(this.initialState),this.markAsDirtyAfterReset()}getState(){return this.ctx.getState()}dispatch(t){return this.ctx.dispatch(t)}}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=Gi(n)))(i||n)}})(),n.\u0275prov=It({token:n,factory:n.\u0275fac}),Pt([zi(),Fe("design:type",Object),Fe("design:paramtypes",[])],n.prototype,"snapshot",null),Pt([qn(),Go(0,as("patchValue")),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],n.prototype,"patchState",null),Pt([qn(),Go(0,as("stateValue")),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],n.prototype,"setState",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[]),Fe("design:returntype",void 0)],n.prototype,"reset",null),n})(),$Le=(()=>{class n extends WL{constructor(){super(...arguments),this.primaryKey=EK.ID,this.comparator=null}get snapshot(){return this.getState()}get ids(){return this.snapshot.ids}get entities(){return this.snapshot.entities}get entitiesArray(){const t=this.snapshot;return t.ids.map(i=>t.entities[i])}get ids$(){return this.state$.pipe(Bt(t=>t.ids))}get entities$(){return this.state$.pipe(Bt(t=>t.entities))}get entitiesArray$(){return this.state$.pipe(Bt(t=>t.ids.map(i=>t.entities[i])))}get ctx(){return HL(this.context)}reset(){this.setEntitiesState(this.initialState),this.markAsDirtyAfterReset()}addOne(t){this.addEntityOne(t)}addMany(t){this.addEntitiesMany(t)}setOne(t){this.setEntityOne(t)}setMany(t){this.setEntitiesMany(t)}setAll(t){this.setEntitiesAll(t)}updateOne(t){this.updateEntitiesMany([t])}updateMany(t){this.updateEntitiesMany(t)}upsertOne(t){this.upsertEntitiesMany([t])}upsertMany(t){this.upsertEntitiesMany(t)}removeOne(t){this.removeEntitiesMany([t])}removeMany(t){this.removeEntitiesMany(t)}removeByEntity(t){const i=this.selectId(t);this.removeEntitiesMany([i])}removeByEntities(t){const i=[];for(const r of t){const o=this.selectId(r);i.push(o)}this.removeEntitiesMany(i)}removeAll(){this.setAll([])}sort(t){this.comparator=t??this.comparator,Ns(this.comparator)?console.warn("You must set the compare function before sorting."):this.setEntitiesState(this.getState())}patchState(t){this.ctx.patchState(t)}setComparator(t){return this.comparator=t,this}dispatch(t){return this.ctx.dispatch(t)}getState(){return this.ctx.getState()}selectId(t){return t?.[this.primaryKey]}selectOne(t){return this.snapshot.entities[t]??null}selectAll(){const t=this.getState();return t.ids.map(i=>t.entities[i])}addEntityOne(t){const i=this.getState(),r=this.selectIdValue(t);r in i.entities||this.setEntitiesState({...i,ids:[...i.ids,r],entities:{...i.entities,[r]:t}})}addEntitiesMany(t){const i=this.getState(),r={},o=[];for(const s of t){const a=this.selectIdValue(s);a in i.entities||a in r||(o.push(a),r[a]=s)}o.length>0&&this.setEntitiesState({...i,ids:[...i.ids,...o],entities:{...i.entities,...r}})}setEntitiesAll(t){const i=this.getState(),r={},o=[];for(const s of t){const a=this.selectIdValue(s);a in r||(o.push(a),r[a]=s)}this.setEntitiesState({...i,ids:o,entities:r})}setEntityOne(t){const i=this.getState(),r=this.selectIdValue(t);this.setEntitiesState(r in i.entities?{...i,entities:{...i.entities,[r]:t}}:{...i,ids:[...i.ids,r],entities:{...i.entities,[r]:t}})}setEntitiesMany(t){for(const i of t)this.setEntityOne(i)}updateEntitiesMany(t){const i=this.getState(),r=t.filter(a=>a.id in i.entities);if(0===r.length)return;const o=this.generateKeyMap(i),s={...i.entities};for(const a of r){const c=this.updateOrigin(s,a),l=this.selectIdValue(c);l!==a.id&&(delete o[a.id],delete s[a.id]),o[a.id]=l,s[l]=c}this.setEntitiesState({...i,ids:i.ids.map(a=>o[a]??a),entities:s})}upsertEntitiesMany(t){const i=this.getState(),r=[],o=[];for(const s of t){const a=this.selectIdValue(s);a in i.entities?r.push({id:a,changes:s}):o.push(s)}this.updateMany(r),this.addMany(o)}removeEntitiesMany(t){const i=this.getState(),r=this.generateKeyMap(i),o={...i.entities};for(const s of t)s in o&&(delete r[s],delete o[s]);this.setEntitiesState({...i,ids:i.ids.filter(s=>s in r),entities:o})}setEntitiesState(t){const i=this.sortKeysByComparator(t.ids,t.entities);this.ctx.patchState({...t,ids:i,entities:t.entities})}sortKeysByComparator(t,i){if(Ns(this.comparator))return t;const r=t.slice(),o=this.comparator;return"function"==typeof o?r.sort((s,a)=>o(i[s],i[a])):this.sortByComparatorOptions(r,o,i)}sortByComparatorOptions(t,i,r){switch(i?.sortByOrder){case GL.ASC:return t.sort((o,s)=>function cLe(n,e,t){return e?.[n]>t?.[n]?1:e?.[n]<t?.[n]?-1:0}(i?.sortBy,r[o],r[s]));case GL.DESC:return t.sort((o,s)=>function lLe(n,e,t){return e?.[n]>t?.[n]?-1:e?.[n]<t?.[n]?1:0}(i?.sortBy,r[o],r[s]));default:return t}}generateKeyMap(t){return t.ids.reduce((i,r)=>(i[r]=r,i),{})}updateOrigin(t,i){return{...t[i.id],...i.changes}}selectIdValue(t){const i=this.selectId(t);return Ns(i),i}}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=Gi(n)))(i||n)}})(),n.\u0275prov=It({token:n,factory:n.\u0275fac}),Pt([zi(),Fe("design:type",Object),Fe("design:paramtypes",[])],n.prototype,"snapshot",null),Pt([zi(),Fe("design:type",Array),Fe("design:paramtypes",[])],n.prototype,"ids",null),Pt([zi(),Fe("design:type",Object),Fe("design:paramtypes",[])],n.prototype,"entities",null),Pt([zi(),Fe("design:type",Array),Fe("design:paramtypes",[])],n.prototype,"entitiesArray",null),Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],n.prototype,"ids$",null),Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],n.prototype,"entities$",null),Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],n.prototype,"entitiesArray$",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[]),Fe("design:returntype",void 0)],n.prototype,"reset",null),Pt([qn(),Go(0,as("entity")),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],n.prototype,"addOne",null),Pt([qn(),Go(0,as("entities")),Fe("design:type",Function),Fe("design:paramtypes",[Array]),Fe("design:returntype",void 0)],n.prototype,"addMany",null),Pt([qn(),Go(0,as("entity")),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],n.prototype,"setOne",null),Pt([qn(),Go(0,as("entities")),Fe("design:type",Function),Fe("design:paramtypes",[Array]),Fe("design:returntype",void 0)],n.prototype,"setMany",null),Pt([qn(),Go(0,as("entities")),Fe("design:type",Function),Fe("design:paramtypes",[Array]),Fe("design:returntype",void 0)],n.prototype,"setAll",null),Pt([qn(),Go(0,as("update")),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],n.prototype,"updateOne",null),Pt([qn(),Go(0,as("updates")),Fe("design:type",Function),Fe("design:paramtypes",[Array]),Fe("design:returntype",void 0)],n.prototype,"updateMany",null),Pt([qn(),Go(0,as("entity")),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],n.prototype,"upsertOne",null),Pt([qn(),Go(0,as("entities")),Fe("design:type",Function),Fe("design:paramtypes",[Array]),Fe("design:returntype",void 0)],n.prototype,"upsertMany",null),Pt([qn(),Go(0,as("id")),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],n.prototype,"removeOne",null),Pt([qn(),Go(0,as("ids")),Fe("design:type",Function),Fe("design:paramtypes",[Array]),Fe("design:returntype",void 0)],n.prototype,"removeMany",null),Pt([qn(),Go(0,as("entity")),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],n.prototype,"removeByEntity",null),Pt([qn(),Go(0,as("entities")),Fe("design:type",Function),Fe("design:paramtypes",[Array]),Fe("design:returntype",void 0)],n.prototype,"removeByEntities",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[]),Fe("design:returntype",void 0)],n.prototype,"removeAll",null),Pt([qn(),Go(0,as("comparator")),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],n.prototype,"sort",null),Pt([qn(),Go(0,as("patchValue")),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],n.prototype,"patchState",null),n})(),Em=(()=>{class n extends WL{get snapshot(){return this.getState()}get ctx(){return HL(this.context)}patchState(t){this.ctx.patchState(t)}setState(t){this.ctx.setState(t)}reset(){this.ctx.setState(this.initialState),this.markAsDirtyAfterReset()}getState(){return this.ctx.getState()}dispatch(t){return this.ctx.dispatch(t)}}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=Gi(n)))(i||n)}})(),n.\u0275prov=It({token:n,factory:n.\u0275fac}),Pt([zi(),Fe("design:type",Object),Fe("design:paramtypes",[])],n.prototype,"snapshot",null),Pt([qn(),Go(0,as("patchValue")),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],n.prototype,"patchState",null),Pt([qn(),Go(0,as("stateValue")),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],n.prototype,"setState",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[]),Fe("design:returntype",void 0)],n.prototype,"reset",null),n})();function $L(){return vi(n=>null!=n)}function XL(...n){const e=n.length;if(0===e)throw new Error("list of properties cannot be empty.");return Bt(t=>{let i=t;for(let r=0;r<e;r++){const o=i?.[n[r]];if(!(typeof o<"u"))return;i=o}return i})}const XLe={};function YL(...n){const e=n[n.length-1];let t=n,i=XLe;return"object"==typeof e&&(i=e,t=t.slice(0,-1)),r=>r.pipe(XL(...t),ta(i.compare),Yc(1))}let qo=class cx extends Em{constructor(){super(...arguments),this.optionCache=new Map}get config$(){return this.state$.pipe($L(),Yc(1))}setConfig(e){this.setState(e)}patchConfig(e){this.patchState(e)}getProperty(e){return this.config$.pipe(XL(...e),ta(),Yc(1))}getOption(...e){const t=this.getPathKey(e);if(this.optionCache.has(t))return this.optionCache.get(t)??Mn();const i=this.config$.pipe(XL(...e),ta(),Yc(1));return this.optionCache.set(t,i),i}getPathKey(e){return`${e.length}:${e.join(".")}`}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Gi(cx)))(i||cx)}})();static#t=this.\u0275prov=It({token:cx,factory:cx.\u0275fac})};Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],qo.prototype,"config$",null),qo=Pt([th(),Gd({name:"globalConfig",defaults:null})],qo);const CK="ALLOW_TELEMETRY",YLe=SK();function SK(){const n=localStorage.getItem(CK);return null===n?void 0:"true"===n.toLowerCase()}let qL=class lx extends Em{setAllowTelemetry(e){const t=SK();localStorage.setItem(CK,e.toString()),this.ctx.patchState({allowTelemetry:e}),(void 0!==t||!1===e)&&location.reload()}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Gi(lx)))(i||lx)}})();static#t=this.\u0275prov=It({token:lx,factory:lx.\u0275fac})};Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Boolean]),Fe("design:returntype",void 0)],qL.prototype,"setAllowTelemetry",null),qL=Pt([th(),Gd({name:"tracking",defaults:{allowTelemetry:YLe}})],qL);const AK={leading:!0,trailing:!1};function TK(n,e=AK){return _i((t,i)=>{const{leading:r,trailing:o}=e;let s=!1,a=null,c=null,l=!1;const d=()=>{c?.unsubscribe(),c=null,o&&(m(),l&&i.complete())},h=()=>{c=null,l&&i.complete()},f=g=>c=Zr(n(g)).subscribe(wn(i,d,h)),m=()=>{if(s){s=!1;const g=a;a=null,i.next(g),!l&&f(g)}};t.subscribe(wn(i,g=>{s=!0,a=g,(!c||c.closed)&&(r?m():f(g))},()=>{l=!0,(!(o&&s&&c)||c.closed)&&i.complete()}))})}function fT(n,e=l_,t=AK){const i=p0(n,e);return TK(()=>i,t)}function pT(){return _i((n,e)=>{let t=null;n._refCount++;const i=wn(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class KL extends Et{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,sl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mt;const t=this.getSubject();e.add(this.source.subscribe(wn(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mt.EMPTY)}return e}refCount(){return pT()(this)}}Error;const MT=new _t("ngx-google-analytics-settings",{factory:()=>({trackingCode:"",enableTracing:!1})}),SB=new _t("ngx-window",{providedIn:"root",factory:()=>{const{defaultView:n}=jt(Qn);if(!n)throw new Error("Window is not available");return n}}),uje=new _t("ngx-data-layer",{providedIn:"root",factory:()=>function dje(n){return n?n.dataLayer=n.dataLayer||[]:null}(jt(SB))}),SJ=new _t("ngx-gtag-fn",{providedIn:"root",factory:()=>function hje(n,e){return n?n.gtag=n.gtag||function(){e.push(arguments)}:null}(jt(SB),jt(uje))});let vs=(()=>{class n{constructor(t,i,r){this.settings=t,this._document=i,this._gtag=r}get document(){return this._document}throw(t){this.settings.enableTracing&&console&&console.error&&console.error(t)}toKeyValue(t){return t.size>0?Array.from(t).reduce((i,[r,o])=>Object.defineProperty(i,r,{value:o,enumerable:!0}),{}):void 0}gtag(...t){try{this._gtag(...t.filter(i=>void 0!==i))}catch(i){this.throw(i)}}event(t,i,r,o,s,a){try{const c=new Map;i&&c.set("event_category",i),r&&c.set("event_label",r),o&&c.set("value",o),void 0!==s&&c.set("interaction",s),a&&Object.entries(a).map(([d,h])=>c.set(d,h));const l=this.toKeyValue(c);l?this.gtag("event",t,l):this.gtag("event",t)}catch(c){this.throw(c)}}pageView(t,i,r,o){try{const s=new Map([["page_path",t]]);i&&s.set("page_title",i),(r||this.document)&&s.set("page_location",r||this.document.location.href),o&&Object.entries(o).map(([a,c])=>s.set(a,c)),this.gtag("config",this.settings.trackingCode,this.toKeyValue(s))}catch(s){this.throw(s)}}appView(t,i,r,o,s){try{const a=new Map([["screen_name",t],["app_name",i]]);r&&a.set("app_id",r),o&&a.set("app_version",o),s&&a.set("app_installer_id",s),this.gtag("event","screen_view",this.toKeyValue(a))}catch(a){this.throw(a)}}set(...t){try{this._gtag("set",...t)}catch(i){this.throw(i)}}exception(t,i){try{const r=new Map;t&&r.set("description",t),i&&r.set("fatal",i),this.toKeyValue(r)?this.gtag("event","exception",this.toKeyValue(r)):this.gtag("event","exception")}catch(r){this.throw(r)}}}return n.\u0275fac=function(t){return new(t||n)(et(MT),et(Qn),et(SJ))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pje={provide:BO,multi:!0,useFactory:function mje(n,e,t){return fn(function*(){if(!n.trackingCode)return void console.error("Empty tracking code for Google Analytics. Make sure to provide one when initializing NgxGoogleAnalyticsModule.");if(!e)return void console.error("Was not possible create or read gtag() fn. Make sure this module is running on a Browser w/ access to Window interface.");t||console.error("Was not possible to access Document interface. Make sure this module is running on a Browser w/ access do Document interface."),n.uri=n.uri||`https://www.googletagmanager.com/gtag/js?id=${n.trackingCode}`,n.initCommands=n?.initCommands??[],n.initCommands.find(o=>"config"===o.command)||n.initCommands.unshift({command:"config",values:[n.trackingCode]}),n.initCommands.find(o=>"js"===o.command)||n.initCommands.unshift({command:"js",values:[new Date]});for(const o of n.initCommands)e(o.command,...o.values);const i=t.createElement("script");i.async=!0,i.src=n.uri,n.nonce&&i.setAttribute("nonce",n.nonce),t.getElementsByTagName("head")[0].appendChild(i)})},deps:[MT,SJ,Qn]};new _t("ngx-google-analytics-routing-settings",{factory:()=>({})});let TJ=(()=>{class n{static forRoot(t,i=[],r,o,s){return{ngModule:n,providers:[{provide:MT,useValue:{trackingCode:t,initCommands:i,uri:r,enableTracing:o,nonce:s}},pje]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=en({}),n})(),bje=(()=>{class n{constructor(t,i){t&&function yje(n,e){Bp(n,"mousemove").pipe(fT(1e3),Bt(r=>{const{clientWidth:o,clientHeight:s}=n,{clientX:a,clientY:c}=r;return[a,c,o,s].join("_")})).subscribe(r=>e.event("webpage","mousemove",r))}(t.body,i)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Qn),et(vs))};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({})}return n})(),vje=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,Lu]})}return n})(),Ww=(()=>{class n{constructor(){this.consent="not-set",this.consentChange=new qh(1),this.consentChange.next(this.consent)}ngOnDestroy(){this.consentChange.complete()}setConsent(t){this.consent!==t&&(this.consent=t,this.consentChange.next(t))}unsetConsent(){this.setConsent("not-set")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})(),wje=(()=>{class n{constructor(t,i,{trackingCode:r}){this.window=i,this.subscriptions=new mt,this.token=r,this.subscriptions.add(t.consentChange.subscribe(o=>this.toggleGoogleAnalytics("rescinded"===o)))}ngOnDestroy(){this.subscriptions.unsubscribe()}toggleGoogleAnalytics(t){this.window&&(this.window[`ga-disable-${this.token}`]=t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Ww),et(SB),et(MT))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})();const xje=new _t("Key under which consent is stored",{providedIn:"root",factory:()=>"ALLOW_TELEMETRY"}),MJ=[Ww,wje,(()=>{class n{constructor(t,i){this.key=i,this.subscriptions=new mt;try{this.storage=localStorage}catch{}t.setConsent(this.loadConsent()),this.subscriptions.add(t.consentChange.subscribe(r=>this.saveConsent(r)))}ngOnDestroy(){this.subscriptions.unsubscribe()}loadConsent(){const t=this.storage?.getItem?.(this.key);if(null==t)return"not-set";const i=t.trim().toLowerCase();switch(i){case"given":case"rescinded":return i;default:return"not-set"}}saveConsent(t){this.storage?.setItem?.(this.key,t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(Ww),et(xje))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})()];function Eje(n){return Object.entries(n).reduce((e,[t,i])=>(null!=i&&(e[t]=`${i}`),e),{})}let Sje=(()=>{class n{static forRoot(t){const{providers:i=[]}=TJ.forRoot(t.gaToken,function Cje(n){const{appName:e,projectName:t,developmentMode:i}=n;return[{command:"set",values:[Eje({appName:e,projectName:t,developmentMode:i})]}]}(t));return{ngModule:n,providers:i}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({providers:[...MJ,{provide:BO,multi:!0,useFactory:()=>()=>{},deps:MJ}],imports:[TJ]})}return n})();function Aje(n,e){if(1&n){const t=Co();nt(0,"button",1),Ft("click",function(){return Fi(t),Jn(Sn().submit(!0))}),Wt(1),ot()}if(2&n){const t=Sn();pt(1),oo(" ","not-set"===t.allowTelemetry?"I understand":"Opt in","\n")}}function Tje(n,e){if(1&n){const t=Co();nt(0,"button",1),Ft("click",function(){return Fi(t),Jn(Sn().submit(!1))}),Wt(1,"Opt out"),ot()}}let Mje=(()=>{class n{get allowTelemetry(){return this.consentService.consent}constructor(t,i,r){this.consentService=i,this.data=r,this.clsName="ccf-tracking-popup",this.container=t.nativeElement}dismiss(){this.data.preClose()}submit(t){this.consentService.setConsent(t?"given":"rescinded"),this.dismiss()}showButton(t){const{allowTelemetry:i}=this;return"not-set"===i||("opt-in"===t?"rescinded"===i:"given"===i)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In),Te(Ww),Te(hP))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-tracking-popup"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},decls:4,vars:2,consts:[["mat-button","","color","basic",3,"click",4,"ngIf"],["mat-button","","color","basic",3,"click"]],template:function(i,r){1&i&&(nt(0,"p"),Wt(1,"We log usage to improve this service."),ot(),hn(2,Aje,2,1,"button",0)(3,Tje,2,0,"button",0)),2&i&&(pt(2),Ot("ngIf",r.showButton("opt-in")),pt(1),Ot("ngIf",r.showButton("opt-out")))},dependencies:[Ha,m_],styles:["[_nghost-%COMP%]{display:flex;align-items:center;min-width:400px;color:#ffffffb3;background:#323232;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;z-index:9999}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{margin:24px}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{margin:1rem;min-width:6rem;background-color:#007cbe;display:flex;justify-content:center}"],changeDetection:0})}return n})();const Dje={connector:()=>new rn};function Pje(n,e,t,i){t&&!Oe(t)&&(i=t);const r=Oe(t)?t:void 0;return o=>function Rje(n,e){const t=Oe(n)?n:()=>n;return Oe(e)?function Oje(n,e=Dje){const{connector:t}=e;return _i((i,r)=>{const o=t();Zr(n(function Ije(n){return new Et(e=>n.subscribe(e))}(o))).subscribe(r),r.add(i.subscribe(o))})}(e,{connector:t}):i=>new KL(i,t)}(new qh(n,e,i),r)(o)}class kje{}const Fje=(n,e)=>JSON.stringify(n)===JSON.stringify(e),Lje=n=>n.map(e=>void 0!==e?JSON.parse(JSON.stringify(e)):e),Ll={storageStrategy:class Nje extends kje{constructor(){super(...arguments),this.cachePairs=[]}add(e,t,i){this.cachePairs.push(e)}addMany(e){this.cachePairs=e}updateAtIndex(e,t){Object.assign(this.cachePairs[e],t)}update(e,t){Object.assign(this.cachePairs[e],t)}getAll(){return this.cachePairs}removeAtIndex(e){this.cachePairs.splice(e,1)}remove(e){this.cachePairs.splice(e,1)}removeAll(){this.cachePairs.length=0}},globalCacheKey:"CACHE_STORAGE",promiseImplementation:Promise},Bje=new rn;function Ac(n={}){return function(e,t,i){const r=n.cacheKey||e.constructor.name+"#"+t,o=i.value;if(i&&i.value){let s=n.storageStrategy?new n.storageStrategy:new Ll.storageStrategy;const a=[];n.cacheModifier&&n.cacheModifier.subscribe(d=>s.addMany(d(s.getAll(r,this)),r,this)),Ms(Bje.asObservable(),n.cacheBusterObserver?n.cacheBusterObserver:function Rle(n){return n?function Ple(n){return new Et(e=>n.schedule(()=>e.complete()))}(n):ea}()).subscribe(d=>{s.removeAll(r,this),a.length=0}),n.cacheResolver=n.cacheResolver||Ll.cacheResolver||Fje,n.cacheHasher=n.cacheHasher||Ll.cacheHasher||Lje,i.value=function(...d){const h=s.getAll(r,this);let f=n.cacheHasher(d),m=h.find(v=>n.cacheResolver(v.parameters,f));const g=a.find(v=>n.cacheResolver(v.parameters,f));if((n.maxAge||Ll.maxAge)&&m&&m.created&&((new Date).getTime()-new Date(m.created).getTime()>(n.maxAge||Ll.maxAge)?(s.remove?s.remove(h.indexOf(m),m,r,this):s.removeAtIndex(h.indexOf(m),r,this),m=null):(n.slidingExpiration||Ll.slidingExpiration)&&(m.created=new Date,s.update?s.update(h.indexOf(m),m,r,this):s.updateAtIndex(h.indexOf(m),m,r,this))),m){const v=Mn(m.response);return n.async?v.pipe(xL(0)):v}if(g)return g.response;{const v=o.call(this,...d).pipe(kp(()=>{const C=a.find(B=>n.cacheResolver(B.parameters,f));a.splice(a.indexOf(C),1)}),tr(C=>{(!n.shouldCacheDecider||n.shouldCacheDecider(C))&&((!(n.maxCacheCount||Ll.maxCacheCount)||1===(n.maxCacheCount||Ll.maxCacheCount)||(n.maxCacheCount||Ll.maxCacheCount)&&(n.maxCacheCount||Ll.maxCacheCount)<h.length+1)&&(s.remove?s.remove(0,h[0],r,this):s.removeAtIndex(0,r,this)),s.add({parameters:f,response:C,created:n.maxAge||Ll.maxAge?new Date:null},r,this))}),Pje(1),pT());return a.push({parameters:f,response:v,created:new Date}),v}}}return i}}class jje{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Uje=new _t("basePath");class IJ{constructor(e={}){this.apiKeys=e.apiKeys,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.withCredentials=e.withCredentials,this.encoder=e.encoder,this.encodeParam=e.encodeParam?e.encodeParam:t=>this.defaultEncodeParam(t),this.credentials=e.credentials?e.credentials:{}}selectHeaderContentType(e){if(0===e.length)return;const t=e.find(i=>this.isJsonMime(i));return void 0===t?e[0]:t}selectHeaderAccept(e){if(0===e.length)return;const t=e.find(i=>this.isJsonMime(i));return void 0===t?e[0]:t}isJsonMime(e){const t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}lookupCredential(e){const t=this.credentials[e];return"function"==typeof t?t():t}defaultEncodeParam(e){const t="date-time"===e.dataFormat&&e.value instanceof Date?e.value.toISOString():e.value;return encodeURIComponent(String(t))}}let DJ=(()=>{class n{constructor(t,i,r){this.httpClient=t,this.basePath="https://apps.humanatlas.io/hra-api/v1",this.defaultHeaders=new gc,this.configuration=new IJ,r&&(this.configuration=r),"string"!=typeof this.configuration.basePath&&("string"!=typeof i&&(i=this.basePath),this.configuration.basePath=i),this.encoder=this.configuration.encoder||new jje}addToHttpParams(t,i,r){return this.addToHttpParamsRecursive(t,i,r)}addToHttpParamsRecursive(t,i,r){if(null==i)return t;if("object"==typeof i)if(Array.isArray(i))i.forEach(o=>t=this.addToHttpParamsRecursive(t,o,r));else if(i instanceof Date){if(null==r)throw Error("key may not be null if value is Date");t=t.append(r,i.toISOString().substr(0,10))}else Object.keys(i).forEach(o=>t=this.addToHttpParamsRecursive(t,i[o],null!=r?`${r}.${o}`:o));else{if(null==r)throw Error("key may not be null if value is not object or array");t=t.append(r,i)}return t}aggregateResults(t,i="body",r=!1,o){const s=t.age,a=t.ageRange,c=t.bmi,l=t.bmiRange,d=t.cache,h=t.ontologyTerms,f=t.cellTypeTerms,m=t.biomarkerTerms,g=t.consortiums,v=t.providers,C=t.sex,B=t.spatial,z=t.technologies,le=t.token;let se=new Or({encoder:this.encoder});null!=s&&(se=this.addToHttpParams(se,s,"age")),null!=a&&(se=this.addToHttpParams(se,a,"age-range")),null!=c&&(se=this.addToHttpParams(se,c,"bmi")),null!=l&&(se=this.addToHttpParams(se,l,"bmi-range")),null!=d&&(se=this.addToHttpParams(se,d,"cache")),h&&h.forEach(tt=>{se=this.addToHttpParams(se,tt,"ontology-terms")}),f&&f.forEach(tt=>{se=this.addToHttpParams(se,tt,"cell-type-terms")}),m&&m.forEach(tt=>{se=this.addToHttpParams(se,tt,"biomarker-terms")}),g&&g.forEach(tt=>{se=this.addToHttpParams(se,tt,"consortiums")}),v&&v.forEach(tt=>{se=this.addToHttpParams(se,tt,"providers")}),null!=C&&(se=this.addToHttpParams(se,C,"sex")),B&&B.forEach(tt=>{se=this.addToHttpParams(se,tt,"spatial")}),z&&z.forEach(tt=>{se=this.addToHttpParams(se,tt,"technologies")}),null!=le&&(se=this.addToHttpParams(se,le,"token"));let ke=this.defaultHeaders,$e=o&&o.httpHeaderAccept;void 0===$e&&($e=this.configuration.selectHeaderAccept(["application/json"])),void 0!==$e&&(ke=ke.set("Accept",$e));let dt=o&&o.context;void 0===dt&&(dt=new Io);let gt="json";return $e&&(gt=$e.startsWith("text")?"text":this.configuration.isJsonMime($e)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/aggregate-results`,{context:dt,params:se,responseType:gt,withCredentials:this.configuration.withCredentials,headers:ke,observe:i,reportProgress:r})}biomarkerTermOccurences(t,i="body",r=!1,o){const s=t.age,a=t.ageRange,c=t.bmi,l=t.bmiRange,d=t.cache,h=t.ontologyTerms,f=t.cellTypeTerms,m=t.biomarkerTerms,g=t.consortiums,v=t.providers,C=t.sex,B=t.spatial,z=t.technologies,le=t.token;let se=new Or({encoder:this.encoder});null!=s&&(se=this.addToHttpParams(se,s,"age")),null!=a&&(se=this.addToHttpParams(se,a,"age-range")),null!=c&&(se=this.addToHttpParams(se,c,"bmi")),null!=l&&(se=this.addToHttpParams(se,l,"bmi-range")),null!=d&&(se=this.addToHttpParams(se,d,"cache")),h&&h.forEach(tt=>{se=this.addToHttpParams(se,tt,"ontology-terms")}),f&&f.forEach(tt=>{se=this.addToHttpParams(se,tt,"cell-type-terms")}),m&&m.forEach(tt=>{se=this.addToHttpParams(se,tt,"biomarker-terms")}),g&&g.forEach(tt=>{se=this.addToHttpParams(se,tt,"consortiums")}),v&&v.forEach(tt=>{se=this.addToHttpParams(se,tt,"providers")}),null!=C&&(se=this.addToHttpParams(se,C,"sex")),B&&B.forEach(tt=>{se=this.addToHttpParams(se,tt,"spatial")}),z&&z.forEach(tt=>{se=this.addToHttpParams(se,tt,"technologies")}),null!=le&&(se=this.addToHttpParams(se,le,"token"));let ke=this.defaultHeaders,$e=o&&o.httpHeaderAccept;void 0===$e&&($e=this.configuration.selectHeaderAccept(["application/json"])),void 0!==$e&&(ke=ke.set("Accept",$e));let dt=o&&o.context;void 0===dt&&(dt=new Io);let gt="json";return $e&&(gt=$e.startsWith("text")?"text":this.configuration.isJsonMime($e)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/biomarker-term-occurences`,{context:dt,params:se,responseType:gt,withCredentials:this.configuration.withCredentials,headers:ke,observe:i,reportProgress:r})}biomarkerTreeModel(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new Or({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Io);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/biomarker-tree-model`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}cellTypeTermOccurences(t,i="body",r=!1,o){const s=t.age,a=t.ageRange,c=t.bmi,l=t.bmiRange,d=t.cache,h=t.ontologyTerms,f=t.cellTypeTerms,m=t.biomarkerTerms,g=t.consortiums,v=t.providers,C=t.sex,B=t.spatial,z=t.technologies,le=t.token;let se=new Or({encoder:this.encoder});null!=s&&(se=this.addToHttpParams(se,s,"age")),null!=a&&(se=this.addToHttpParams(se,a,"age-range")),null!=c&&(se=this.addToHttpParams(se,c,"bmi")),null!=l&&(se=this.addToHttpParams(se,l,"bmi-range")),null!=d&&(se=this.addToHttpParams(se,d,"cache")),h&&h.forEach(tt=>{se=this.addToHttpParams(se,tt,"ontology-terms")}),f&&f.forEach(tt=>{se=this.addToHttpParams(se,tt,"cell-type-terms")}),m&&m.forEach(tt=>{se=this.addToHttpParams(se,tt,"biomarker-terms")}),g&&g.forEach(tt=>{se=this.addToHttpParams(se,tt,"consortiums")}),v&&v.forEach(tt=>{se=this.addToHttpParams(se,tt,"providers")}),null!=C&&(se=this.addToHttpParams(se,C,"sex")),B&&B.forEach(tt=>{se=this.addToHttpParams(se,tt,"spatial")}),z&&z.forEach(tt=>{se=this.addToHttpParams(se,tt,"technologies")}),null!=le&&(se=this.addToHttpParams(se,le,"token"));let ke=this.defaultHeaders,$e=o&&o.httpHeaderAccept;void 0===$e&&($e=this.configuration.selectHeaderAccept(["application/json"])),void 0!==$e&&(ke=ke.set("Accept",$e));let dt=o&&o.context;void 0===dt&&(dt=new Io);let gt="json";return $e&&(gt=$e.startsWith("text")?"text":this.configuration.isJsonMime($e)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/cell-type-term-occurences`,{context:dt,params:se,responseType:gt,withCredentials:this.configuration.withCredentials,headers:ke,observe:i,reportProgress:r})}cellTypeTreeModel(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new Or({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Io);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/cell-type-tree-model`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}dbStatus(t,i="body",r=!1,o){const s=t.token;let a=new Or({encoder:this.encoder});null!=s&&(a=this.addToHttpParams(a,s,"token"));let c=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(c=c.set("Accept",l));let d=o&&o.context;void 0===d&&(d=new Io);let h="json";return l&&(h=l.startsWith("text")?"text":this.configuration.isJsonMime(l)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/db-status`,{context:d,params:a,responseType:h,withCredentials:this.configuration.withCredentials,headers:c,observe:i,reportProgress:r})}getSpatialPlacement(t,i="body",r=!1,o){const s=t.getSpatialPlacementRequest;if(null==s)throw new Error("Required parameter getSpatialPlacementRequest was null or undefined when calling getSpatialPlacement.");let a=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(a=a.set("Accept",c));let l=o&&o.context;void 0===l&&(l=new Io);const h=this.configuration.selectHeaderContentType(["application/json"]);void 0!==h&&(a=a.set("Content-Type",h));let f="json";return c&&(f=c.startsWith("text")?"text":this.configuration.isJsonMime(c)?"json":"blob"),this.httpClient.post(`${this.configuration.basePath}/get-spatial-placement`,s,{context:l,responseType:f,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:r})}gtexRuiLocations(t,i="body",r=!1,o){const s=t.cache;let a=new Or({encoder:this.encoder});null!=s&&(a=this.addToHttpParams(a,s,"cache"));let c=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(c=c.set("Accept",l));let d=o&&o.context;void 0===d&&(d=new Io);let h="json";return l&&(h=l.startsWith("text")?"text":this.configuration.isJsonMime(l)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/gtex/rui_locations.jsonld`,{context:d,params:a,responseType:h,withCredentials:this.configuration.withCredentials,headers:c,observe:i,reportProgress:r})}hubmapRuiLocations(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new Or({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Io);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/hubmap/rui_locations.jsonld`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}ontologyTermOccurences(t,i="body",r=!1,o){const s=t.age,a=t.ageRange,c=t.bmi,l=t.bmiRange,d=t.cache,h=t.ontologyTerms,f=t.cellTypeTerms,m=t.biomarkerTerms,g=t.consortiums,v=t.providers,C=t.sex,B=t.spatial,z=t.technologies,le=t.token;let se=new Or({encoder:this.encoder});null!=s&&(se=this.addToHttpParams(se,s,"age")),null!=a&&(se=this.addToHttpParams(se,a,"age-range")),null!=c&&(se=this.addToHttpParams(se,c,"bmi")),null!=l&&(se=this.addToHttpParams(se,l,"bmi-range")),null!=d&&(se=this.addToHttpParams(se,d,"cache")),h&&h.forEach(tt=>{se=this.addToHttpParams(se,tt,"ontology-terms")}),f&&f.forEach(tt=>{se=this.addToHttpParams(se,tt,"cell-type-terms")}),m&&m.forEach(tt=>{se=this.addToHttpParams(se,tt,"biomarker-terms")}),g&&g.forEach(tt=>{se=this.addToHttpParams(se,tt,"consortiums")}),v&&v.forEach(tt=>{se=this.addToHttpParams(se,tt,"providers")}),null!=C&&(se=this.addToHttpParams(se,C,"sex")),B&&B.forEach(tt=>{se=this.addToHttpParams(se,tt,"spatial")}),z&&z.forEach(tt=>{se=this.addToHttpParams(se,tt,"technologies")}),null!=le&&(se=this.addToHttpParams(se,le,"token"));let ke=this.defaultHeaders,$e=o&&o.httpHeaderAccept;void 0===$e&&($e=this.configuration.selectHeaderAccept(["application/json"])),void 0!==$e&&(ke=ke.set("Accept",$e));let dt=o&&o.context;void 0===dt&&(dt=new Io);let gt="json";return $e&&(gt=$e.startsWith("text")?"text":this.configuration.isJsonMime($e)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/ontology-term-occurences`,{context:dt,params:se,responseType:gt,withCredentials:this.configuration.withCredentials,headers:ke,observe:i,reportProgress:r})}ontologyTreeModel(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new Or({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Io);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/ontology-tree-model`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}providerNames(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new Or({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Io);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/provider-names`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}referenceOrganScene(t,i="body",r=!1,o){const s=t.organIri;if(null==s)throw new Error("Required parameter organIri was null or undefined when calling referenceOrganScene.");const a=t.age,c=t.ageRange,l=t.bmi,d=t.bmiRange,h=t.cache,f=t.ontologyTerms,m=t.cellTypeTerms,g=t.biomarkerTerms,v=t.consortiums,C=t.providers,B=t.sex,z=t.spatial,le=t.technologies,se=t.token;let ke=new Or({encoder:this.encoder});null!=a&&(ke=this.addToHttpParams(ke,a,"age")),null!=c&&(ke=this.addToHttpParams(ke,c,"age-range")),null!=l&&(ke=this.addToHttpParams(ke,l,"bmi")),null!=d&&(ke=this.addToHttpParams(ke,d,"bmi-range")),null!=h&&(ke=this.addToHttpParams(ke,h,"cache")),f&&f.forEach(bt=>{ke=this.addToHttpParams(ke,bt,"ontology-terms")}),m&&m.forEach(bt=>{ke=this.addToHttpParams(ke,bt,"cell-type-terms")}),g&&g.forEach(bt=>{ke=this.addToHttpParams(ke,bt,"biomarker-terms")}),null!=s&&(ke=this.addToHttpParams(ke,s,"organ-iri")),v&&v.forEach(bt=>{ke=this.addToHttpParams(ke,bt,"consortiums")}),C&&C.forEach(bt=>{ke=this.addToHttpParams(ke,bt,"providers")}),null!=B&&(ke=this.addToHttpParams(ke,B,"sex")),z&&z.forEach(bt=>{ke=this.addToHttpParams(ke,bt,"spatial")}),le&&le.forEach(bt=>{ke=this.addToHttpParams(ke,bt,"technologies")}),null!=se&&(ke=this.addToHttpParams(ke,se,"token"));let $e=this.defaultHeaders,dt=o&&o.httpHeaderAccept;void 0===dt&&(dt=this.configuration.selectHeaderAccept(["application/json"])),void 0!==dt&&($e=$e.set("Accept",dt));let gt=o&&o.context;void 0===gt&&(gt=new Io);let tt="json";return dt&&(tt=dt.startsWith("text")?"text":this.configuration.isJsonMime(dt)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/reference-organ-scene`,{context:gt,params:ke,responseType:tt,withCredentials:this.configuration.withCredentials,headers:$e,observe:i,reportProgress:r})}referenceOrgans(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new Or({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Io);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/reference-organs`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}scene(t,i="body",r=!1,o){const s=t.age,a=t.ageRange,c=t.bmi,l=t.bmiRange,d=t.cache,h=t.ontologyTerms,f=t.cellTypeTerms,m=t.biomarkerTerms,g=t.consortiums,v=t.providers,C=t.sex,B=t.spatial,z=t.technologies,le=t.token;let se=new Or({encoder:this.encoder});null!=s&&(se=this.addToHttpParams(se,s,"age")),null!=a&&(se=this.addToHttpParams(se,a,"age-range")),null!=c&&(se=this.addToHttpParams(se,c,"bmi")),null!=l&&(se=this.addToHttpParams(se,l,"bmi-range")),null!=d&&(se=this.addToHttpParams(se,d,"cache")),h&&h.forEach(tt=>{se=this.addToHttpParams(se,tt,"ontology-terms")}),f&&f.forEach(tt=>{se=this.addToHttpParams(se,tt,"cell-type-terms")}),m&&m.forEach(tt=>{se=this.addToHttpParams(se,tt,"biomarker-terms")}),g&&g.forEach(tt=>{se=this.addToHttpParams(se,tt,"consortiums")}),v&&v.forEach(tt=>{se=this.addToHttpParams(se,tt,"providers")}),null!=C&&(se=this.addToHttpParams(se,C,"sex")),B&&B.forEach(tt=>{se=this.addToHttpParams(se,tt,"spatial")}),z&&z.forEach(tt=>{se=this.addToHttpParams(se,tt,"technologies")}),null!=le&&(se=this.addToHttpParams(se,le,"token"));let ke=this.defaultHeaders,$e=o&&o.httpHeaderAccept;void 0===$e&&($e=this.configuration.selectHeaderAccept(["application/json"])),void 0!==$e&&(ke=ke.set("Accept",$e));let dt=o&&o.context;void 0===dt&&(dt=new Io);let gt="json";return $e&&(gt=$e.startsWith("text")?"text":this.configuration.isJsonMime($e)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/scene`,{context:dt,params:se,responseType:gt,withCredentials:this.configuration.withCredentials,headers:ke,observe:i,reportProgress:r})}sennetRuiLocations(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new Or({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Io);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/sennet/rui_locations.jsonld`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}sparql(t,i="body",r=!1,o){const s=t.query;if(null==s)throw new Error("Required parameter query was null or undefined when calling sparql.");const a=t.token,c=t.format;let l=new Or({encoder:this.encoder});null!=s&&(l=this.addToHttpParams(l,s,"query")),null!=a&&(l=this.addToHttpParams(l,a,"token")),null!=c&&(l=this.addToHttpParams(l,c,"format"));let d=this.defaultHeaders,h=o&&o.httpHeaderAccept;void 0===h&&(h=this.configuration.selectHeaderAccept(["application/json","text/csv"])),void 0!==h&&(d=d.set("Accept",h));let f=o&&o.context;void 0===f&&(f=new Io);let m="json";return h&&(m=h.startsWith("text")?"text":this.configuration.isJsonMime(h)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/sparql`,{context:f,params:l,responseType:m,withCredentials:this.configuration.withCredentials,headers:d,observe:i,reportProgress:r})}sparqlPost(t,i="body",r=!1,o){const s=t.sparqlQueryRequest;if(null==s)throw new Error("Required parameter sparqlQueryRequest was null or undefined when calling sparqlPost.");const a=t.token,c=t.format;let l=new Or({encoder:this.encoder});null!=a&&(l=this.addToHttpParams(l,a,"token")),null!=c&&(l=this.addToHttpParams(l,c,"format"));let d=this.defaultHeaders,h=o&&o.httpHeaderAccept;void 0===h&&(h=this.configuration.selectHeaderAccept(["application/json","text/csv"])),void 0!==h&&(d=d.set("Accept",h));let f=o&&o.context;void 0===f&&(f=new Io);const g=this.configuration.selectHeaderContentType(["application/json","application/x-www-form-urlencoded"]);void 0!==g&&(d=d.set("Content-Type",g));let v="json";return h&&(v=h.startsWith("text")?"text":this.configuration.isJsonMime(h)?"json":"blob"),this.httpClient.post(`${this.configuration.basePath}/sparql`,s,{context:f,params:l,responseType:v,withCredentials:this.configuration.withCredentials,headers:d,observe:i,reportProgress:r})}technologyNames(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new Or({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Io);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/technology-names`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}tissueBlocks(t,i="body",r=!1,o){const s=t.age,a=t.ageRange,c=t.bmi,l=t.bmiRange,d=t.cache,h=t.ontologyTerms,f=t.cellTypeTerms,m=t.biomarkerTerms,g=t.consortiums,v=t.providers,C=t.sex,B=t.spatial,z=t.technologies,le=t.token;let se=new Or({encoder:this.encoder});null!=s&&(se=this.addToHttpParams(se,s,"age")),null!=a&&(se=this.addToHttpParams(se,a,"age-range")),null!=c&&(se=this.addToHttpParams(se,c,"bmi")),null!=l&&(se=this.addToHttpParams(se,l,"bmi-range")),null!=d&&(se=this.addToHttpParams(se,d,"cache")),h&&h.forEach(tt=>{se=this.addToHttpParams(se,tt,"ontology-terms")}),f&&f.forEach(tt=>{se=this.addToHttpParams(se,tt,"cell-type-terms")}),m&&m.forEach(tt=>{se=this.addToHttpParams(se,tt,"biomarker-terms")}),g&&g.forEach(tt=>{se=this.addToHttpParams(se,tt,"consortiums")}),v&&v.forEach(tt=>{se=this.addToHttpParams(se,tt,"providers")}),null!=C&&(se=this.addToHttpParams(se,C,"sex")),B&&B.forEach(tt=>{se=this.addToHttpParams(se,tt,"spatial")}),z&&z.forEach(tt=>{se=this.addToHttpParams(se,tt,"technologies")}),null!=le&&(se=this.addToHttpParams(se,le,"token"));let ke=this.defaultHeaders,$e=o&&o.httpHeaderAccept;void 0===$e&&($e=this.configuration.selectHeaderAccept(["application/json"])),void 0!==$e&&(ke=ke.set("Accept",$e));let dt=o&&o.context;void 0===dt&&(dt=new Io);let gt="json";return $e&&(gt=$e.startsWith("text")?"text":this.configuration.isJsonMime($e)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/tissue-blocks`,{context:dt,params:se,responseType:gt,withCredentials:this.configuration.withCredentials,headers:ke,observe:i,reportProgress:r})}}return n.\u0275fac=function(t){return new(t||n)(et(Cd),et(Uje,8),et(IJ,8))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AB=new rn,by={cacheBusterObserver:AB},Am={cacheBusterObserver:AB,maxCacheCount:4};function OJ(n,e,t){return n?{min:n[0]>e?n[0]:void 0,max:n[1]<t?n[1]:void 0}:void 0}function Vje(n){return{age:OJ(n?.ageRange,1,110),bmi:OJ(n?.bmiRange,13,83),sex:n?.sex?.toLowerCase?.(),ontologyTerms:n?.ontologyTerms,cellTypeTerms:n?.cellTypeTerms,biomarkerTerms:n?.biomarkerTerms,consortiums:n?.consortiums,providers:n?.tmc,technologies:n?.technologies,spatial:n?.spatialSearches}}function RJ(n){return n.map(e=>({...e,transformMatrix:new Lt(e.transformMatrix??[])}))}class Fs{constructor(e,t){this.api=e,this.globalConfig=t,t.getOption("hubmapToken").subscribe(AB)}getDatabaseStatus(){return this.doRequest(e=>this.api.dbStatus(e))}getProviderNames(){return this.doRequest(e=>this.api.providerNames(e))}getDatasetTechnologyNames(){return this.doRequest(e=>this.api.technologyNames(e))}getOntologyTreeModel(){return this.doRequest(e=>this.api.ontologyTreeModel(e),void 0,{},n=>n)}getCellTypeTreeModel(){return this.doRequest(e=>this.api.cellTypeTreeModel(e),void 0,{},n=>n)}getBiomarkerTreeModel(){return this.doRequest(e=>this.api.biomarkerTreeModel(e),void 0,{},n=>n)}getReferenceOrgans(){return this.doRequest(e=>this.api.referenceOrgans(e),void 0,{},n=>n)}getTissueBlockResults(e){return this.doRequest(t=>this.api.tissueBlocks(t),e,{},n=>n)}getAggregateResults(e){return this.doRequest(t=>this.api.aggregateResults(t),e)}getOntologyTermOccurences(e){return this.doRequest(t=>this.api.ontologyTermOccurences(t),e)}getCellTypeTermOccurences(e){return this.doRequest(t=>this.api.cellTypeTermOccurences(t),e)}getBiomarkerTermOccurences(e){return this.doRequest(t=>this.api.biomarkerTermOccurences(t),e)}getScene(e){return this.doRequest(t=>this.api.scene(t),e,{},RJ)}getReferenceOrganScene(e,t){return this.doRequest(i=>this.api.referenceOrganScene(i),t,{organIri:e},RJ)}doRequest(e,t,i,r){const{api:o,globalConfig:s}=this,a={...Vje(t),...i};return Mo([s.getOption("remoteApiEndpoint"),s.getOption("hubmapToken")]).pipe(cr(1),tr(([c,l])=>{o.configuration.basePath=c,l&&(a.token=l)}),Dr(()=>e(a)),Bt(c=>r?r(c):c))}static#e=this.\u0275fac=function(t){return new(t||Fs)(et(DJ),et(qo))};static#t=this.\u0275prov=It({token:Fs,factory:Fs.\u0275fac,providedIn:"root"})}function Ja(n){return new Promise((e,t)=>{n.oncomplete=n.onsuccess=()=>e(n.result),n.onabort=n.onerror=()=>t(n.error)})}let TB;function Bl(){return TB||(TB=function zje(n,e){const t=indexedDB.open(n);t.onupgradeneeded=()=>t.result.createObjectStore(e);const i=Ja(t);return(r,o)=>i.then(s=>o(s.transaction(e,r).objectStore(e)))}("keyval-store","keyval")),TB}function Hje(n,e=Bl()){return e("readonly",t=>Ja(t.get(n)))}function Gje(n,e=Bl()){return e("readwrite",t=>(n.forEach(i=>t.put(i[1],i[0])),Ja(t.transaction)))}function Wje(n,e=Bl()){return e("readwrite",t=>(n.forEach(i=>t.delete(i)),Ja(t.transaction)))}Pt([Ac(by),Fe("design:type",Function),Fe("design:paramtypes",[]),Fe("design:returntype",Et)],Fs.prototype,"getProviderNames",null),Pt([Ac(by),Fe("design:type",Function),Fe("design:paramtypes",[]),Fe("design:returntype",Et)],Fs.prototype,"getDatasetTechnologyNames",null),Pt([Ac(by),Fe("design:type",Function),Fe("design:paramtypes",[]),Fe("design:returntype",Et)],Fs.prototype,"getOntologyTreeModel",null),Pt([Ac(by),Fe("design:type",Function),Fe("design:paramtypes",[]),Fe("design:returntype",Et)],Fs.prototype,"getCellTypeTreeModel",null),Pt([Ac(by),Fe("design:type",Function),Fe("design:paramtypes",[]),Fe("design:returntype",Et)],Fs.prototype,"getBiomarkerTreeModel",null),Pt([Ac(by),Fe("design:type",Function),Fe("design:paramtypes",[]),Fe("design:returntype",Et)],Fs.prototype,"getReferenceOrgans",null),Pt([Ac(Am),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",Et)],Fs.prototype,"getTissueBlockResults",null),Pt([Ac(Am),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",Et)],Fs.prototype,"getAggregateResults",null),Pt([Ac(Am),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",Et)],Fs.prototype,"getOntologyTermOccurences",null),Pt([Ac(Am),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",Et)],Fs.prototype,"getCellTypeTermOccurences",null),Pt([Ac(Am),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",Et)],Fs.prototype,"getBiomarkerTermOccurences",null),Pt([Ac(Am),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",Et)],Fs.prototype,"getScene",null),Pt([Ac(Am),Fe("design:type",Function),Fe("design:paramtypes",[String,Object]),Fe("design:returntype",Et)],Fs.prototype,"getReferenceOrganScene",null),S(5020);const Xw="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Yw="http://www.w3.org/2001/XMLSchema#",IB="http://www.w3.org/2000/10/swap/",ca={xsd:{decimal:`${Yw}decimal`,boolean:`${Yw}boolean`,double:`${Yw}double`,integer:`${Yw}integer`,string:`${Yw}string`},rdf:{type:`${Xw}type`,nil:`${Xw}nil`,first:`${Xw}first`,rest:`${Xw}rest`,langString:`${Xw}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${IB}reify#forSome`,forAll:`${IB}reify#forAll`},log:{implies:`${IB}log#implies`}};var $je=S(3410),Xje=S.n($je);const{xsd:IT}=ca,Yje=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,PJ={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},qje=/[\x00-\x20<>\\"\{\}\|\^\`]/,Kje={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},Jje=/$0^/;class kJ{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,this._lineMode=!!(e=e||{}).lineMode){this._n3Mode=!1;for(const t in this)!(t in Kje)&&this[t]instanceof RegExp&&(this[t]=Jje)}else this._n3Mode=!1!==e.n3;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let i=this._input,r=i.length;for(;;){let a,c;for(;a=this._newline.exec(i);)this._comments&&(c=this._comment.exec(a[0]))&&o("comment",c[1],"",this._line,a[0].length),i=i.substr(a[0].length,i.length),r=i.length,this._line++;if(!a&&(a=this._whitespace.exec(i))&&(i=i.substr(a[0].length,i.length)),this._endOfFile.test(i))return t&&(this._comments&&(c=this._comment.exec(i))&&o("comment",c[1],"",this._line,i.length),i=null,o("eof","","",this._line,0)),this._input=i;const l=this._line,d=i[0];let h="",f="",m="",g=null,v=0,C=!1;switch(d){case"^":if(i.length<3)break;if("^"!==i[1]){this._n3Mode&&(v=1,h="^");break}if(this._previousMarker="^^",i=i.substr(2),"<"!==i[0]){C=!0;break}case"<":if(g=this._unescapedIri.exec(i))h="IRI",f=g[1];else if(g=this._iri.exec(i)){if(f=this._unescape(g[1]),null===f||qje.test(f))return s(this);h="IRI"}else i.length>1&&"<"===i[1]?(h="<<",v=2):this._n3Mode&&i.length>1&&"="===i[1]&&(h="inverse",v=2,f=">");break;case">":i.length>1&&">"===i[1]&&(h=">>",v=2);break;case"_":((g=this._blank.exec(i))||t&&(g=this._blank.exec(`${i} `)))&&(h="blank",m="_",f=g[1]);break;case'"':if(g=this._simpleQuotedString.exec(i))f=g[1];else if(({value:f,matchLength:v}=this._parseLiteral(i)),null===f)return s(this);(null!==g||0!==v)&&(h="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(g=this._simpleApostropheString.exec(i))f=g[1];else if(({value:f,matchLength:v}=this._parseLiteral(i)),null===f)return s(this);(null!==g||0!==v)&&(h="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(g=this._variable.exec(i))&&(h="var",f=g[0]);break;case"@":"literal"===this._previousMarker&&(g=this._langcode.exec(i))?(h="langcode",f=g[1]):(g=this._keyword.exec(i))&&(h=g[0]);break;case".":if(1===i.length?t:i[1]<"0"||i[1]>"9"){h=".",v=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(g=this._number.exec(i)||t&&(g=this._number.exec(`${i} `)))&&(h="literal",f=g[0],m="string"==typeof g[1]?IT.double:"string"==typeof g[2]?IT.decimal:IT.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(g=this._sparqlKeyword.exec(i))?h=g[0].toUpperCase():C=!0;break;case"f":case"t":(g=this._boolean.exec(i))?(h="literal",f=g[0],m=IT.boolean):C=!0;break;case"a":(g=this._shortPredicates.exec(i))?(h="abbreviation",f="a"):C=!0;break;case"=":this._n3Mode&&i.length>1&&(h="abbreviation",">"!==i[1]?(v=1,f="="):(v=2,f=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(v=1,h=d);break;case"{":!this._lineMode&&i.length>=2&&("|"===i[1]?(h="{|",v=2):(h=d,v=1));break;case"|":i.length>=2&&"}"===i[1]&&(h="|}",v=2);break;default:C=!0}if(C&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(g=this._prefix.exec(i))?((g=this._prefixed.exec(i))||t&&(g=this._prefixed.exec(`${i} `)))&&(h="prefixed",m=g[1]||"",f=this._unescape(g[2])):(h="prefix",f=g[1]||"")),"^^"===this._previousMarker)switch(h){case"prefixed":h="type";break;case"IRI":h="typeIRI";break;default:h=""}if(!h)return t||!/^'''|^"""/.test(i)&&/\n|\r/.test(i)?s(this):this._input=i;const B=v||g[0].length,z=o(h,f,m,l,B);this.previousToken=z,this._previousMarker=h,i=i.substr(B,i.length)}function o(a,c,l,d,h){const f=i?r-i.length:r,g={type:a,value:c,prefix:l,line:d,start:f,end:f+h};return e(null,g),g}function s(a){e(a._syntaxError(/^\S*/.exec(i)[0]))}}_unescape(e){let t=!1;const i=e.replace(Yje,(r,o,s,a)=>{if("string"==typeof o)return String.fromCharCode(Number.parseInt(o,16));if("string"==typeof s){let c=Number.parseInt(s,16);return c<=65535?String.fromCharCode(Number.parseInt(s,16)):String.fromCharCode(55296+((c-=65536)>>10),56320+(1023&c))}return a in PJ?PJ[a]:(t=!0,"")});return t?null:i}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],i=t.length;let r=Math.max(this._literalClosingPos,i);for(;(r=e.indexOf(t,r))>0;){let o=0;for(;"\\"===e[r-o-1];)o++;if(o%2==0){const s=e.substring(i,r),a=s.split(/\r\n|\r|\n/).length-1,c=r+i;if(1===i&&0!==a||3===i&&this._lineMode)break;return this._line+=a,{value:this._unescape(s),matchLength:c}}r++}this._literalClosingPos=e.length-i+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const t=new Error(`Unexpected "${e}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}_readStartingBom(e){return e.startsWith("\ufeff")?e.substr(1):e}tokenize(e,t){if(this._line=1,"string"==typeof e){if(this._input=this._readStartingBom(e),"function"!=typeof t){const i=[];let r;if(this._tokenizeToEnd((o,s)=>o?r=o:i.push(s),!0),r)throw r;return i}Xje()(()=>this._tokenizeToEnd(t,!0))}else this._pendingBuffer=null,"function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",i=>{null!==this._input&&0!==i.length&&(this._pendingBuffer&&(i=Buffer.concat([this._pendingBuffer,i]),this._pendingBuffer=null),128&i[i.length-1]?this._pendingBuffer=i:(typeof this._input>"u"?this._input=this._readStartingBom("string"==typeof i?i:i.toString()):this._input+=i,this._tokenizeToEnd(t,!1)))}),e.on("end",()=>{"string"==typeof this._input&&this._tokenizeToEnd(t,!0)}),e.on("error",t)}}function Qje(n){return!!n&&"NamedNode"===n.termType}function Zje(n){return!!n&&"BlankNode"===n.termType}function eUe(n){return!!n&&"Literal"===n.termType}function tUe(n){return!!n&&"Variable"===n.termType}function vy(n){return!!n&&"DefaultGraph"===n.termType}function nUe(n){return vy(n.graph)}function iUe(n,e){return DB({"":n.value||n},e)("")}function DB(n,e){const t=Object.create(null);for(const r in n)i(r,n[r]);function i(r,o){if("string"==typeof o){const s=Object.create(null);t[r]=a=>s[a]||(s[a]=e.namedNode(o+a))}else if(!(r in t))throw new Error(`Unknown prefix: ${r}`);return t[r]}return e=e||il,i}const{rdf:rUe,xsd:Tm}=ca;let qw,oUe=0;const OB={namedNode:function sUe(n){return new RB(n)},blankNode:function aUe(n){return new FJ(n||"n3-"+oUe++)},variable:function lUe(n){return new LJ(n)},literal:function cUe(n,e){if("string"==typeof e)return new Mm(`"${n}"@${e.toLowerCase()}`);let t=e?e.value:"";return""===t&&("boolean"==typeof n?t=Tm.boolean:"number"==typeof n&&(Number.isFinite(n)?t=Number.isInteger(n)?Tm.integer:Tm.double:(t=Tm.double,Number.isNaN(n)||(n=n>0?"INF":"-INF")))),new Mm(""===t||t===Tm.string?`"${n}"`:`"${n}"^^${t}`)},defaultGraph:function dUe(){return qw},quad:jJ,triple:jJ},il=OB;class jl{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof jl?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class RB extends jl{get termType(){return"NamedNode"}}class Mm extends jl{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new RB(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,i=t<e.length?e[t]:"";return"^"===i?e.substr(t+2):"@"!==i?Tm.string:rUe.langString}equals(e){return e instanceof Mm?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class FJ extends jl{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class LJ extends jl{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}qw=new class BJ extends jl{constructor(){return super(""),qw||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};class PB extends jl{constructor(e,t,i,r){super(""),this._subject=e,this._predicate=t,this._object=i,this._graph=r||qw}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function jJ(n,e,t,i){return new PB(n,e,t,i)}let UJ=0;function NB(){}function VJ(n,e){const t=e.namedNode;n._namedNode=t,n._blankNode=e.blankNode,n._literal=e.literal,n._variable=e.variable,n._quad=e.quad,n.DEFAULTGRAPH=e.defaultGraph(),n.RDF_FIRST=t(ca.rdf.first),n.RDF_REST=t(ca.rdf.rest),n.RDF_NIL=t(ca.rdf.nil),n.N3_FORALL=t(ca.r.forAll),n.N3_FORSOME=t(ca.r.forSome),n.ABBREVIATIONS={a:t(ca.rdf.type),"=":t(ca.owl.sameAs),">":t(ca.log.implies)},n.QUANTIFIERS_GRAPH=t("urn:n3:quantifiers")}VJ(class kB{constructor(e){this._contextStack=[],this._graph=null,this._setBase((e=e||{}).baseIRI),e.factory&&VJ(this,e.factory);const t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",i=/turtle/.test(t),r=/trig/.test(t),o=/triple/.test(t),s=/quad/.test(t),a=this._n3Mode=/n3/.test(t),c=o||s;(this._supportsNamedGraphs=!(i||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(i||r||o||a),this._supportsRDFStar=""===t||/star|\*$/.test(t),c&&(this._resolveRelativeIRI=l=>null),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new kJ({lineMode:c,n3:a}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){UJ=0}_setBase(e){if(e){const t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}_saveContext(e,t,i,r,o){const s=this._n3Mode;this._contextStack.push({type:e,subject:i,predicate:r,object:o,graph:t,inverse:!!s&&this._inversePredicate,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,t){const i=this._contextStack.pop();if(!i||i.type!==e)return this._error(`Unexpected ${t.type}`,t);this._subject=i.subject,this._predicate=i.predicate,this._object=i.object,this._graph=i.graph,this._n3Mode&&(this._inversePredicate=i.inverse,this._prefixes._=i.blankPrefix,this._quantified=i.quantified)}_readInTopContext(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let i;switch(e.type){case"IRI":case"typeIRI":const r=this._resolveIRI(e.value);if(null===r)return this._error("Invalid IRI",e);i=this._namedNode(r);break;case"type":case"prefixed":const o=this._prefixes[e.prefix];if(void 0===o)return this._error(`Undefined prefix "${e.prefix}:"`,e);i=this._namedNode(o+e.value);break;case"blank":i=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":i=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!t&&this._n3Mode&&i.id in this._quantified&&(i=this._quantified[i.id]),i}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error(`Unexpected ${t}`,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return"{"!==e.type?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const t=null===this._predicate;return this._restoreContext("blank",e),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,i=null,r=this._readListItem;const o=this._subject,s=this._contextStack,a=s[s.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,i=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),r=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,i=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),0!==s.length&&"list"===s[s.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(r=this._readPredicate,this._subject===this.RDF_NIL)return r}else if(r=this._getContextEndReader(),this._object===this.RDF_NIL)return r;i=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,r=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),r=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===i&&(this._subject=i=this._blankNode()),null===o?null===a.predicate?a.subject=i:a.object=i:this._emit(o,this.RDF_REST,i,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,i,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(i,this.RDF_FIRST,t,this._graph)}return r}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const i=this._readEntity(e);if(void 0===i)return;t=this._literal(this._literalValue,i),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const i=this._completeLiteral(e);if(i)return this._object=i.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===i.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(i.token))}_readFormulaTail(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,i=this._graph;const r=this._subject,o=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,o&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",e);this._subject=this._quad(r,this._predicate,this._object,this.DEFAULTGRAPH),t=this._readPredicate;break;case"|}":if("Quad"!==this._subject.termType)return this._error("Unexpected asserted triple closing",e);this._subject=null,t=this._readPunctuation;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(i=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(null!==r){const s=this._predicate,a=this._object;o?this._emit(a,s,r,i):this._emit(r,s,a,i)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if("IRI"!==e.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){const t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const t=this._contextStack,i=t.length&&t[t.length-1];if(i&&"item"===i.type){const r=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,r,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,i;const r=this._blankNode();if(void 0!==(i=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=r):(t=this._object,this._object=r),this._emit(t,i,r,this._graph),this._readPath}_readBackwardPath(e){const t=this._blankNode();let i,r;if(void 0!==(i=this._readEntity(e)))return null===this._predicate?(r=this._subject,this._subject=t):(r=this._object,this._object=t),this._emit(t,i,r,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return">>"!==e.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(e))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(">>"!==e.type)return this._error(`Expected >> but got ${e.type}`,e);const t=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),null===this._subject?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,i,r){this._callback(null,this._quad(e,t,i,r||this.DEFAULTGRAPH))}_error(e,t){const i=new Error(`${e} on line ${t.line}.`);i.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(i),this._callback=NB}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const t=e.length;let i="",r=-1,o=-1,s=0,a="/";for(;r<t;){switch(a){case":":if(o<0&&"/"===e[++r]&&"/"===e[++r])for(;(o=r+1)<t&&"/"!==e[o];)r=o;break;case"?":case"#":r=t;break;case"/":if("."===e[r+1])switch(a=e[1+ ++r],a){case"/":i+=e.substring(s,r-1),s=r+1;break;case void 0:case"?":case"#":return i+e.substring(s,r)+e.substr(r+1);case".":if(a=e[1+ ++r],void 0===a||"/"===a||"?"===a||"#"===a){if(i+=e.substring(s,r-2),(s=i.lastIndexOf("/"))>=o&&(i=i.substr(0,s)),"/"!==a)return`${i}/${e.substr(r+1)}`;s=r+1}}}a=e[++r]}return i+e.substring(s)}parse(e,t,i){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${UJ++}_`,this._prefixCallback=i||NB,this._inversePredicate=!1,this._quantified=Object.create(null),!t){const r=[];let o;if(this._callback=(s,a)=>{s?o=s:a&&r.push(a)},this._lexer.tokenize(e).every(s=>this._readCallback=this._readCallback(s)),o)throw o;return r}this._callback=t,this._lexer.tokenize(e,(r,o)=>{null!==r?(this._callback(r),this._callback=NB):this._readCallback&&(this._readCallback=this._readCallback(o))})}}.prototype,il),il.defaultGraph();S(8905);function YJ(n,e,t,i,r){return n.readQuads(e,t,i,r)}Symbol,Symbol,S(7661),S(2821);var KJ=S(4938),gUe=S.n(KJ),Qw=(S(7991),S(6990)),_Ue=S(9689);const mr=DB({base:"http://purl.org/ccf/latest/ccf.owl#",ccf:"http://purl.org/ccf/",fma:"http://purl.org/sig/ont/fma/fma",obo:"http://purl.obolibrary.org/obo/",uberon:"http://purl.obolibrary.org/obo/UBERON_",cl:"http://purl.obolibrary.org/obo/CL_",lmha:"http://purl.obolibrary.org/obo/LMHA_",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/"},il),mn=(mr("rdf"),mr("rdf")("type"),mr("rdfs"),mr("rdfs")("label"),mr("rdfs")("comment"),mr("rdfs")("isDefinedBy"),mr("rdfs")("seeAlso"),mr("ccf")),nh=(mr("ccf")("has_registration_location"),mr("rdfs")("label"),mr("rdfs")("comment"),mn("url"),mn("sex"),mn("age"),mn("bmi"),il.literal("Male"),il.literal("Female"),mn("consortium_name"),mn("tissue_provider_name"),mn("tissue_provider_uuid"),mn("comes_from"),mn("subdivided_into_sections"),mn("generates_dataset"),mn("sample_type"),il.literal("Tissue Block"),il.literal("Tissue Section"),il.literal("Non-standard"),mn("section_count"),mn("section_size"),mn("section_size_unit"),mn("section_number"),mn("has_registration_location"),mn("has_ontology_term"),mn("has_cell_type_term"),mn("has_biomarker_term"),mn("technology"),mn("thumbnail"),{x:mn,base:mr("base"),ontologyNode:{label:mn("ccf_pref_label"),parent:mn("ccf_part_of"),children:mn("ccf_part_of"),rui_rank:mn("rui_rank"),synonymLabels:il.namedNode("http://www.geneontology.org/formats/oboInOwl#hasExactSynonym")},asctb:{part_of:mn("ccf_part_of"),ct_is_a:mn("ccf_ct_isa"),located_in:mn("ccf_located_in"),characterizes:mn("ccf_characterizes"),bm_located_in:mn("ccf_bm_located_in")},spatial:{Female:mr("base")("VHFemale"),Male:mr("base")("VHMale"),BothSexes:mr("base")("VHBothSexes"),FemaleOrgans:mr("base")("VHFemaleOrgans"),MaleOrgans:mr("base")("VHMaleOrgans")},SpatialObjectReference:mn("spatial_object_reference"),SpatialEntity:mn("spatial_entity"),SpatialPlacement:mn("spatial_placement"),spatialObjectReference:{file:mn("file_url"),file_format:mn("file_format"),file_subpath:mn("file_subpath")},extractionSet:{label:mr("rdfs")("label"),rui_rank:mn("rui_rank")},spatialEntity:{label:mr("rdfs")("label"),description:mr("rdfs")("comment"),creator:mr("dcterms")("creator"),creator_first_name:mn("creator_first_name"),creator_last_name:mn("creator_last_name"),creator_middle_name:mn("creator_middle_name"),creator_orcid:mn("creator_orcid"),creation_date:mr("dcterms")("created"),updated_date:mn("updated_date"),ccf_annotations:mn("collides_with"),representation_of:mn("representation_of"),reference_organ:mn("has_reference_organ"),extraction_set_for:mn("extraction_set_for"),extraction_set:mn("has_extraction_set"),sex:mn("organ_owner_sex"),side:mn("organ_side"),rui_rank:mn("rui_rank"),slice_thickness:mn("slice_thickness"),slice_count:mn("slice_count"),x_dimension:mn("x_dimension"),y_dimension:mn("y_dimension"),z_dimension:mn("z_dimension"),dimension_units:mn("dimension_unit"),object:mn("has_object_reference")},spatialPlacement:{source:mn("placement_for"),target:mn("placement_relative_to"),placement_date:mr("dcterms")("created"),x_scaling:mn("x_scaling"),y_scaling:mn("y_scaling"),z_scaling:mn("z_scaling"),scaling_units:mn("scaling_unit"),x_rotation:mn("x_rotation"),y_rotation:mn("y_rotation"),z_rotation:mn("z_rotation"),w_rotation:mn("theta_rotation"),rotation_order:mn("rotation_order"),rotation_units:mn("rotation_unit"),x_translation:mn("x_translation"),y_translation:mn("y_translation"),z_translation:mn("z_translation"),translation_units:mn("translation_unit")}}),gi={x:mr("uberon"),body:mr("uberon")("0013702")},bUe={x:mr("cl"),cell:mr("cl")("0000000")},Zw={x:mr("fma")},JJ=(mr("lmha"),{body:gi.body,cell:bUe.cell,respiratory_system:gi.x("0001004"),colon:gi.x("0001155"),left_lung:gi.x("0002168"),right_lung:gi.x("0002167"),left_bronchus:gi.x("0002178"),right_bronchus:gi.x("0002177"),kidney:gi.x("0002113"),ureter:gi.x("0000056"),eye:gi.x("0000970"),fallopian_tube:gi.x("0003889"),knee:gi.x("0001465"),ovary:gi.x("0000992"),trachea:gi.x("0003126"),aorta:gi.x("0000947"),blood:gi.x("0000178"),bone_marrow:gi.x("0002371"),male_reproductive_system:gi.x("0000079"),lymph_node:gi.x("0000029"),blood_vasculature:gi.x("0004537"),brain:gi.x("0000955"),eye_left:gi.x("0004548"),eye_right:Zw.x("54449"),fallopian_tube_left:gi.x("0001303"),fallopian_tube_right:gi.x("0001302"),heart:gi.x("0000948"),kidney_left:gi.x("0004538"),kidney_right:gi.x("0004539"),knee_left:Zw.x("24978"),knee_right:Zw.x("24977"),large_intestine:gi.x("0000059"),liver:gi.x("0002107"),lungs:gi.x("0002048"),mesenteric_lymph_node:gi.x("0002509"),ovary_left:Zw.x("7214"),ovary_right:Zw.x("7213"),pancreas:gi.x("0001264"),pelvis:gi.x("0001270"),prostate_gland:gi.x("0002367"),skin:gi.x("0002097"),small_intestine:gi.x("0002108"),spleen:gi.x("0002106"),thymus:gi.x("0002370"),ureter_left:gi.x("0001223"),ureter_right:gi.x("0001222"),urinary_bladder:gi.x("0001255"),uterus:gi.x("0000995")});function UB(n){const e={};return Object.entries(n).forEach(([t,i])=>{e[i.id]=t}),e}UB(nh.spatialObjectReference),UB(nh.spatialEntity),UB(nh.spatialPlacement),gUe(),Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1}),Math,Math;const Wr={};function AUe(n,{precision:e=Wr.precision||4}={}){return n=function SUe(n){return Math.round(n/Wr.EPSILON)*Wr.EPSILON}(n),"".concat(parseFloat(n.toPrecision(e)))}function Mf(n){return Array.isArray(n)||ArrayBuffer.isView(n)&&!(n instanceof DataView)}function tx(n,e,t){const i=Wr.EPSILON;t&&(Wr.EPSILON=t);try{if(n===e)return!0;if(Mf(n)&&Mf(e)){if(n.length!==e.length)return!1;for(let r=0;r<n.length;++r)if(!tx(n[r],e[r]))return!1;return!0}return n&&n.equals?n.equals(e):e&&e.equals?e.equals(n):!(!Number.isFinite(n)||!Number.isFinite(e))&&Math.abs(n-e)<=Wr.EPSILON*Math.max(1,Math.abs(n),Math.abs(e))}finally{Wr.EPSILON=i}}function rh(n,e){if(!n)throw new Error("math.gl assertion ".concat(e))}Wr.EPSILON=1e-12,Wr.debug=!1,Wr.precision=4,Wr.printTypes=!1,Wr.printDegrees=!1,Wr.printRowMajor=!0;class ZJ extends(function RUe(n){function e(){var t=Reflect.construct(n,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return e.prototype=Object.create(n.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n,e}(Array)){get ELEMENTS(){return rh(!1),0}clone(){return(new this.constructor).copy(this)}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}fromArray(e,t=0){for(let i=0;i<this.ELEMENTS;++i)this[i]=e[i+t];return this.check()}to(e){return e===this?this:Mf(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toArray(e=[],t=0){for(let i=0;i<this.ELEMENTS;++i)e[t+i]=this[i];return e}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(Wr)}formatString(e){let t="";for(let i=0;i<this.ELEMENTS;++i)t+=(i>0?", ":"")+AUe(this[i],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!tx(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,i){void 0===i&&(i=t,t=e,e=this);for(let r=0;r<this.ELEMENTS;++r){const o=e[r];this[r]=o+i*(t[r]-o)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e[i]),t[i]);return this.check()}add(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]+=t[i];return this.check()}subtract(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]-=t[i];return this.check()}scale(e){if(Array.isArray(e))return this.multiply(e);for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.scale(1/e)}clampScalar(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e),t);return this.check()}multiplyByScalar(e){return this.scale(e)}get elements(){return this}check(){if(Wr.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}}function Tc(n){if(!Number.isFinite(n))throw new Error("Invalid number ".concat(n));return n}const eQ={};function VB(n,e){eQ[n]||(eQ[n]=!0,console.warn("".concat(n," has been removed in version ").concat(e,", see upgrade guide for more information")))}class NUe extends ZJ{get ELEMENTS(){return rh(!1),0}copy(e){return rh(!1),this}get x(){return this[0]}set x(e){this[0]=Tc(e)}get y(){return this[1]}set y(e){this[1]=Tc(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let i=0;i<this.ELEMENTS;++i){const r=this[i]-e[i];t+=r*r}return Tc(t)}dot(e){let t=0;for(let i=0;i<this.ELEMENTS;++i)t+=this[i]*e[i];return Tc(t)}normalize(){const e=this.magnitude();if(0!==e)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]*=t[i];return this.check()}divide(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]/=t[i];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return rh(e>=0&&e<this.ELEMENTS,"index is out of range"),Tc(this[e])}setComponent(e,t){return rh(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}var nx=typeof Float32Array<"u"?Float32Array:Array;function tQ(n,e,t){var i=e[0],r=e[1],o=e[2];return n[0]=i*t[0]+r*t[3]+o*t[6],n[1]=i*t[1]+r*t[4]+o*t[7],n[2]=i*t[2]+r*t[5]+o*t[8],n}Math,Math,Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)}),function BUe(){var n=new nx(3);nx!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0)}();const zB=[0,0,0],nQ={};class ui extends NUe{static get ZERO(){return nQ.ZERO=nQ.ZERO||Object.freeze(new ui(0,0,0,0))}constructor(e=0,t=0,i=0){super(-0,-0,-0),1===arguments.length&&Mf(e)?this.copy(e):(Wr.debug&&(Tc(e),Tc(t),Tc(i)),this[0]=e,this[1]=t,this[2]=i)}set(e,t,i){return this[0]=e,this[1]=t,this[2]=i,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return Wr.debug&&(Tc(e.x),Tc(e.y),Tc(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=Tc(e)}angle(e){return function $Ue(n,e){var t=n[0],i=n[1],r=n[2],o=e[0],s=e[1],a=e[2],d=Math.sqrt(t*t+i*i+r*r)*Math.sqrt(o*o+s*s+a*a),h=d&&function jUe(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}(n,e)/d;return Math.acos(Math.min(Math.max(h,-1),1))}(this,e)}cross(e){return function UUe(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],c=t[2];n[0]=r*c-o*a,n[1]=o*s-i*c,n[2]=i*a-r*s}(this,this,e),this.check()}rotateX({radians:e,origin:t=zB}){return function HUe(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateY({radians:e,origin:t=zB}){return function GUe(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateZ({radians:e,origin:t=zB}){return function WUe(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return function VUe(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o+t[15];n[0]=(t[0]*i+t[4]*r+t[8]*o+t[12])/(s=s||1),n[1]=(t[1]*i+t[5]*r+t[9]*o+t[13])/s,n[2]=(t[2]*i+t[6]*r+t[10]*o+t[14])/s}(this,this,e),this.check()}transformAsVector(e){return function XUe(n,e,t){const i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o||1;n[0]=(t[0]*i+t[4]*r+t[8]*o)/s,n[1]=(t[1]*i+t[5]*r+t[9]*o)/s,n[2]=(t[2]*i+t[6]*r+t[10]*o)/s}(this,this,e),this.check()}transformByMatrix3(e){return tQ(this,this,e),this.check()}transformByMatrix2(e){return function YUe(n,e,t){const i=e[0],r=e[1];n[0]=t[0]*i+t[2]*r,n[1]=t[1]*i+t[3]*r,n[2]=e[2]}(this,this,e),this.check()}transformByQuaternion(e){return function zUe(n,e,t){var i=t[0],r=t[1],o=t[2],a=e[0],c=e[1],l=e[2],d=r*l-o*c,h=o*a-i*l,f=i*c-r*a,m=r*f-o*h,g=o*d-i*f,v=i*h-r*d,C=2*t[3];h*=C,f*=C,g*=2,v*=2,n[0]=a+(d*=C)+(m*=2),n[1]=c+h+g,n[2]=l+f+v}(this,this,e),this.check()}}new ui,new ui,new ui,new ui,new ui,new ui,new ui,new ui,new ui,new ui,new ui;const cQ=new ui,lQ=new ui;class HB{constructor(e=[0,0,1],t=0){this.normal=new ui,this.distance=-0,this.fromNormalDistance(e,t)}fromNormalDistance(e,t){return rh(Number.isFinite(t)),this.normal.from(e).normalize(),this.distance=t,this}fromPointNormal(e,t){e=cQ.from(e),this.normal.from(t).normalize();const i=-this.normal.dot(e);return this.distance=i,this}fromCoefficients(e,t,i,r){return this.normal.set(e,t,i),rh(tx(this.normal.len(),1)),this.distance=r,this}clone(e){return new HB(this.normal,this.distance)}equals(e){return tx(this.distance,e.distance)&&tx(this.normal,e.normal)}getPointDistance(e){return this.normal.dot(e)+this.distance}transform(e){const t=lQ.copy(this.normal).transformAsVector(e).normalize(),i=this.normal.scale(-this.distance).transform(e);return this.fromPointNormal(i,t)}projectPointOntoPlane(e,t=[0,0,0]){e=cQ.from(e);const i=this.getPointDistance(e),r=lQ.copy(this.normal).scale(i);return e.subtract(r).to(t)}}new ui([1,0,0]),new ui([0,1,0]),new ui([0,0,1]),new ui,new ui,new HB(new ui(1,0,0),0),new ui,new ui,new ui,new ui,new ui,new ui,new ui,new ui,new ui,new ui,new ui,new ui,new ui,new ui,new ui,new ui,new ui,Math;class bVe extends ZJ{get ELEMENTS(){return rh(!1),0}get RANK(){return rh(!1),0}toString(){let e="[";if(Wr.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let i=0;i<this.RANK;++i)e+=" ".concat(this[i*this.RANK+t])}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=" ".concat(this[t])}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,i){return this[t*this.RANK+e]=Tc(i),this}getColumn(e,t=new Array(this.RANK).fill(-0)){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)t[r]=this[i+r];return t}setColumn(e,t){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)this[i+r]=t[r];return this}}function hQ(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],f=t[0],m=t[1],g=t[2],v=t[3],C=t[4],B=t[5],z=t[6],le=t[7],se=t[8];return n[0]=f*i+m*s+g*l,n[1]=f*r+m*a+g*d,n[2]=f*o+m*c+g*h,n[3]=v*i+C*s+B*l,n[4]=v*r+C*a+B*d,n[5]=v*o+C*c+B*h,n[6]=z*i+le*s+se*l,n[7]=z*r+le*a+se*d,n[8]=z*o+le*c+se*h,n}function fQ(n,e,t){var i=t[0],r=t[1];return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=r*e[3],n[4]=r*e[4],n[5]=r*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}!function AVe(){var n=new nx(2);nx!=Float32Array&&(n[0]=0,n[1]=0)}();const pQ=Object.freeze([1,0,0,0,1,0,0,0,1]),MVe=Object.freeze([0,0,0,0,0,0,0,0,0]),IVe=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),Sy={};class Ul extends bVe{static get IDENTITY(){return Sy.IDENTITY=Sy.IDENTITY||Object.freeze(new Ul(pQ)),Sy.IDENTITY}static get ZERO(){return Sy.ZERO=Sy.ZERO||Object.freeze(new Ul(MVe)),Sy.ZERO}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return IVe}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}set(e,t,i,r,o,s,a,c,l){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this[4]=o,this[5]=s,this[6]=a,this[7]=c,this[8]=l,this.check()}setRowMajor(e,t,i,r,o,s,a,c,l){return this[0]=e,this[1]=r,this[2]=a,this[3]=t,this[4]=o,this[5]=c,this[6]=i,this[7]=s,this[8]=l,this.check()}determinant(){return function xVe(n){var r=n[3],o=n[4],s=n[5],a=n[6],c=n[7],l=n[8];return n[0]*(l*o-s*c)+n[1]*(-l*r+s*a)+n[2]*(c*r-o*a)}(this)}identity(){return this.copy(pQ)}fromQuaternion(e){return function SVe(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t+t,a=i+i,c=r+r,l=t*s,d=i*s,h=i*a,f=r*s,m=r*a,g=r*c,v=o*s,C=o*a,B=o*c;n[0]=1-h-g,n[3]=d-B,n[6]=f+C,n[1]=d+B,n[4]=1-l-g,n[7]=m-v,n[2]=f-C,n[5]=m+v,n[8]=1-l-h}(this,e),this.check()}transpose(){return function vVe(n,e){if(n===e){var t=e[1],i=e[2],r=e[5];n[1]=e[3],n[2]=e[6],n[3]=t,n[5]=e[7],n[6]=i,n[7]=r}else n[0]=e[0],n[1]=e[3],n[2]=e[6],n[3]=e[1],n[4]=e[4],n[5]=e[7],n[6]=e[2],n[7]=e[5],n[8]=e[8]}(this,this),this.check()}invert(){return function wVe(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],d=e[8],h=d*s-a*l,f=-d*o+a*c,m=l*o-s*c,g=t*h+i*f+r*m;g&&(n[0]=h*(g=1/g),n[1]=(-d*i+r*l)*g,n[2]=(a*i-r*s)*g,n[3]=f*g,n[4]=(d*t-r*c)*g,n[5]=(-a*t+r*o)*g,n[6]=m*g,n[7]=(-l*t+i*c)*g,n[8]=(s*t-i*o)*g)}(this,this),this.check()}multiplyLeft(e){return hQ(this,e,this),this.check()}multiplyRight(e){return hQ(this,this,e),this.check()}rotate(e){return function CVe(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],f=Math.sin(t),m=Math.cos(t);n[0]=m*i+f*s,n[1]=m*r+f*a,n[2]=m*o+f*c,n[3]=m*s-f*i,n[4]=m*a-f*r,n[5]=m*c-f*o,n[6]=l,n[7]=d,n[8]=h}(this,this,e),this.check()}scale(e){return Array.isArray(e)?fQ(this,this,e):fQ(this,this,[e,e,e]),this.check()}translate(e){return function EVe(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],f=t[0],m=t[1];n[0]=i,n[1]=r,n[2]=o,n[3]=s,n[4]=a,n[5]=c,n[6]=f*i+m*s+l,n[7]=f*r+m*a+d,n[8]=f*o+m*c+h}(this,this,e),this.check()}transform(e,t){switch(e.length){case 2:t=function TVe(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[3]*r+t[6],n[1]=t[1]*i+t[4]*r+t[7],n}(t||[-0,-0],e,this);break;case 3:t=tQ(t||[-0,-0,-0],e,this);break;case 4:t=function qUe(n,e,t){const i=e[0],r=e[1],o=e[2];return n[0]=t[0]*i+t[3]*r+t[6]*o,n[1]=t[1]*i+t[4]*r+t[7]*o,n[2]=t[2]*i+t[5]*r+t[8]*o,n[3]=e[3],n}(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return function kUe(n,e,t=""){if(Wr.debug&&!function PUe(n,e){if(n.length!==e)return!1;for(let t=0;t<n.length;++t)if(!Number.isFinite(n[t]))return!1;return!0}(n,e))throw new Error("math.gl: ".concat(t," some fields set to invalid numbers'"));return n}(t,e.length),t}transformVector(e,t){return VB("Matrix3.transformVector"),this.transform(e,t)}transformVector2(e,t){return VB("Matrix3.transformVector"),this.transform(e,t)}transformVector3(e,t){return VB("Matrix3.transformVector"),this.transform(e,t)}}function ize(n,e,t){const i={"@id":e,"@type":"OntologyTreeNode",id:e,parent:"",children:[],synonymLabels:[],label:""},r={[nh.ontologyNode.label.id]:"label",[t]:"parent",[nh.ontologyNode.synonymLabels.id]:"synonymLabels"};for(const[o,s]of function*yUe(n,e,t){for(const[i,r]of Object.entries(t))for(const o of YJ(n,e,i,null,null)){const s="Literal"===o.object.termType?(0,_Ue.fromRdf)(o.object):o.object.id;yield[r,s]}}(n,e,r))"synonymLabels"===o?i.synonymLabels.push(s):i[o]=s;return i.children=n.getSubjects(t,e,null).map(o=>o.id),i}function gQ(n,e,t,i){const r={root:e,nodes:{}},o=new Set;for(const a of YJ(n,null,i,null,null))o.add(a.subject.id),o.add(a.object.id);for(const a of o)r.nodes[a]=ize(n,a,i);r.nodes[e]||(r.nodes[e]={"@id":e,"@type":"OntologyTreeNode",id:e,label:t,children:[],synonymLabels:[]});const s=n.getSubjects(i,e,null).map(a=>a.id).sort((a,c)=>r.nodes[a].label.localeCompare(r.nodes[c].label));return r.nodes[e].children=s,_Q(r),r}function _Q(n,e=void 0,t=new Set){const i=n.nodes[e??n.root];if(i){i.children=i.children.filter(r=>!t.has(r)),i.children.forEach(r=>t.add(r));for(const r of i.children)_Q(n,r,t),n.nodes[r]&&(n.nodes[r].parent=i["@id"])}}new Ul,new Ul,new Ul,new Ul,new Ul,new ui,new ui,new ui,new ui,new ui,new Ul,new Ul,new Ul,(0,Qw.memoize)(function rze(n){const e=gQ(n,JJ.body.id,"body",nh.asctb.part_of.id);return e.nodes[JJ.body.id].children=["http://purl.obolibrary.org/obo/UBERON_0000955","http://purl.obolibrary.org/obo/UBERON_0000029","http://purl.obolibrary.org/obo/UBERON_0000970","http://purl.obolibrary.org/obo/UBERON_0003889","http://purl.obolibrary.org/obo/UBERON_0000948","http://purl.obolibrary.org/obo/UBERON_0002113","http://purl.obolibrary.org/obo/UBERON_0001465","http://purl.obolibrary.org/obo/UBERON_0001737","http://purl.obolibrary.org/obo/UBERON_0002107","http://purl.obolibrary.org/obo/UBERON_0002048","http://purl.obolibrary.org/obo/UBERON_0002182","http://purl.obolibrary.org/obo/UBERON_0001911","http://purl.obolibrary.org/obo/UBERON_0000992","http://purl.obolibrary.org/obo/UBERON_0002373","http://purl.obolibrary.org/obo/UBERON_0001264","http://purl.obolibrary.org/obo/UBERON_0001270","http://purl.obolibrary.org/obo/UBERON_0001987","http://purl.obolibrary.org/obo/UBERON_0002367","http://purl.obolibrary.org/obo/UBERON_0002097","http://purl.obolibrary.org/obo/UBERON_0002108","http://purl.obolibrary.org/obo/UBERON_0002240","http://purl.obolibrary.org/obo/UBERON_0000059","http://purl.obolibrary.org/obo/UBERON_0002106","http://purl.obolibrary.org/obo/UBERON_0002370","http://purl.obolibrary.org/obo/UBERON_0003126","http://purl.obolibrary.org/obo/UBERON_0000056","http://purl.obolibrary.org/obo/UBERON_0001255","http://purl.obolibrary.org/obo/UBERON_0000995","http://purl.obolibrary.org/obo/UBERON_0004537"].filter(t=>t in e.nodes),e},()=>"");const Cze=[204,204,204,255],Im=[213,0,0,255],Dm=[29,204,101,255],Om=[41,121,255,255],Aze=[204,204,204,255],BT=[213,0,0,255],jT=[29,204,101,255],UT=[41,121,255,255];class EQ extends Error{constructor(){super(...arguments),this.message="NgxsDispatchPluginModule is not imported"}}class Pze{constructor(){this.cancelUncompleted$=new rn}cancelPreviousAction(){this.cancelUncompleted$.next()}}const o3="\u0275fac",CQ=Symbol("InjectorInstance"),SQ=Symbol("FactoryHasBeenDecorated");function AQ(n,e){const t=n[CQ];return t?t.get(e):null}const Fze={cancelUncompleted:!1};function TQ(n=Fze){return(e,t,i)=>{let r;const o=function kze(n){return n?new Pze:null}(n.cancelUncompleted);function s(){null!==o&&o.cancelPreviousAction();const a=AQ(this,Hd)||function Oze(){throw new EQ}(),c=AQ(this,gn)||function Rze(){throw new EQ}(),l=r.apply(this,arguments);return c.runOutsideAngular(()=>function Dze(n,e,t){return Zg(e)?function Ize(n,e){return e.then(t=>(n.dispatch(t),t))}(n,e):dm(e)?function Mze(n,e,t){return null!==t&&(e=e.pipe(Ei(t.cancelUncompleted$))),e.subscribe({next:i=>n.dispatch(i)}),e}(n,e,t):(n.dispatch(e),e)}(a,l,o))}"function"==typeof i?.value?(r=i.value,i.value=s):Object.defineProperty(e,t,{set:a=>r=a,get:()=>s}),function Nze(n){if(SQ in n.constructor.prototype)return;const e=n.constructor;"function"==typeof e[o3]&&function s3(n){const e=n[o3];if("function"!=typeof e)return;const t=n.\u0275prov||n.\u0275pipe||n.\u0275cmp||n.\u0275dir,i=()=>{const r=e();return r[CQ]=Te(yu),r};t&&(t.factory=i),Object.defineProperty(n,o3,{get:()=>i})}(e),n.constructor.prototype[SQ]=!0}(e)}}let MQ=(()=>{class n{static#e=this.type="[CallToAction] Learn More"}return n})(),IQ=(()=>{class n{static#e=this.type="[CallToAction] Open Dialog"}return n})(),DQ=(()=>{class n{static#e=this.type="[CallToAction] Close Dialog"}return n})(),a3=(()=>{class n{constructor(t){this.http=t,this.panelContent=new hr({content:[],infoTitle:"",videoID:""})}updateData(t,i,r){this.http.get(t,{responseType:"text"}).subscribe(o=>{const s={content:this.parseMarkdown(o),infoTitle:r,videoID:i};this.panelContent.next(s)})}parseMarkdown(t){const i=[],r=t.split("# ");for(const o of r)if(o.length){const s=o.includes("\n\n")?"\n\n":"\r\n\r\n",a=o.split(s);i.push({title:a[0],content:a.splice(1).join(s)})}return i}static#e=this.\u0275fac=function(i){return new(i||n)(et(Cd))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Lze(n,e){if(1&n&&(nt(0,"div",16),_n(1,"youtube-player",17),ot()),2&n){const t=Sn(3);pt(1),UC("videoId",t.videoID)}}function Bze(n,e){if(1&n&&(nt(0,"mat-expansion-panel",11)(1,"mat-expansion-panel-header")(2,"h2",12),Wt(3),ot()(),nt(4,"div",13),_n(5,"markdown",14),hn(6,Lze,2,1,"div",15),ot()()),2&n){const t=Sn(),i=t.index,r=t.$implicit;Ot("expanded",0===i),pt(3),So(r.title),pt(2),pn("first",0===i),Ot("data",r.content),pt(1),Ot("ngIf",0===i)}}function jze(n,e){if(1&n&&(nt(0,"div",9),hn(1,Bze,7,6,"mat-expansion-panel",10),ot()),2&n){const t=e.$implicit;pt(1),Ot("ngIf",t)}}let OQ=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i,this.documentationContents=i.content||[],this.infoTitle=i.title||"",this.videoID=i.videoID}ngOnInit(){const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.body.appendChild(t)}close(){document.getElementsByClassName("modal-animated")[0]?.classList.add("modal-animate-fade-out"),setTimeout(()=>{this.dialogRef.close()},250)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(ay),Te(IL))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-info-dialog"]],decls:11,vars:2,consts:[[1,"about","wrapper"],[1,"container"],[1,"content"],[1,"header"],["mat-dialog-title","",1,"title"],[1,"close"],[1,"material-icons","close-icon",3,"click"],[1,"mat-typography","dialog-content"],["class","panel",4,"ngFor","ngForOf"],[1,"panel"],[3,"expanded",4,"ngIf"],[3,"expanded"],[1,"no-header-margin"],[1,"top-padding"],[1,"variable-binding",3,"data"],["class","video-player",4,"ngIf"],[1,"video-player"],[3,"videoId"]],template:function(i,r){1&i&&(nt(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),Wt(5),ot(),nt(6,"div",5)(7,"mat-icon",6),Ft("click",function(){return r.close()}),Wt(8,"clear"),ot()()(),nt(9,"mat-dialog-content",7),hn(10,jze,2,1,"div",8),ot()()()()),2&i&&(pt(5),So(r.infoTitle),pt(5),Ot("ngForOf",r.documentationContents))},dependencies:[Xc,Ha,tT,nT,na,rT,OL,$q,oK],styles:[".mat-dialog-container{padding:0}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1.5rem;text-align:left}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:3rem;margin-bottom:2.25rem;position:relative}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5rem;margin-bottom:1rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{cursor:pointer;height:3rem;width:3rem;line-height:3rem;text-align:center;transition:.6s}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;margin:0 auto;line-height:3rem;height:3rem;justify-self:center;display:flex}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem;margin-top:0;margin-bottom:.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]{margin-bottom:1.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]   .no-header-margin[_ngcontent-%COMP%]{font-weight:300;margin-bottom:0}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]   .top-padding[_ngcontent-%COMP%]{display:flex}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]   .top-padding[_ngcontent-%COMP%]   markdown[_ngcontent-%COMP%]     ul{margin-top:0;padding-left:1.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:50rem;min-height:10rem;padding:0 1.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding[_ngcontent-%COMP%]{font-weight:300;display:flex}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding.first[_ngcontent-%COMP%]{padding-right:1rem;width:73%}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding[_ngcontent-%COMP%]     ul{margin:0}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding[_ngcontent-%COMP%]     img{margin-left:1rem;float:right}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]{position:relative;width:50%}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]     iframe{width:100%;height:100%}"],changeDetection:0})}return n})();class rl{static#e=this.storage=(()=>{let e;try{e=window.localStorage;const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length?e:void 0}})();get length(){return rl.storage?.length??0}key(e){return rl.storage?.key(e)??null}getItem(e,t){return rl.storage?.getItem(e)??t??null}setItem(e,t){try{return rl.storage?.setItem(e,t),!0}catch{return!1}}removeItem(e){rl.storage?.removeItem(e)}clear(){rl.storage?.clear()}static#t=this.\u0275fac=function(t){return new(t||rl)};static#n=this.\u0275prov=It({token:rl,factory:rl.\u0275fac,providedIn:"root"})}var c3;const RQ="callToActionPopupShown";let Vl=class KT{static#e=c3=this;static ctaDatePassed(e,t=Date.now){return+t()>+new Date(e)}constructor(e,t,i,r,o){this.dialog=e,this.ga=t,this.storage=i,this.infoService=r,this.http=o}ngxsOnInit(e){const{expirationDate:t,popupShown:i}=e.getState(),r=this.storage.getItem(RQ,`${i}`),o=c3.ctaDatePassed(t);"true"!==r&&!o&&e.dispatch(new IQ)}getDialogData(){return this.http.get("assets/docs/SPATIAL_SEARCH_README.md",{responseType:"text"}).pipe(Bt(e=>this.infoService.parseMarkdown(e)))}launchLearnMore(e){this.dialog.open(OQ,{autoFocus:!1,panelClass:"modal-animated",width:"72rem",data:{title:"Spatial Search",content:e,videoID:"UfxMpzatowE"}})}learnMore(e){return this.dialog.closeAll(),this.ga.event("open_learn_more","call_to_action"),this.getDialogData().pipe(tr(t=>this.launchLearnMore(t)))}open(e){this.dialog.open(eu,{autoFocus:!1,panelClass:"modal-animated",width:"30.75rem",height:"36.688rem"}),this.ga.event("open","call_to_action"),this.storage.setItem(RQ,"true"),e.patchState({popupShown:!0})}close(e){this.dialog.closeAll(),this.ga.event("close","call_to_action")}static#t=this.\u0275fac=function(t){return new(t||KT)(et(Sf),et(vs),et(rl),et(a3),et(Cd))};static#n=this.\u0275prov=It({token:KT,factory:KT.\u0275fac})};Pt([QF(MQ),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",Et)],Vl.prototype,"learnMore",null),Pt([QF(IQ),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],Vl.prototype,"open",null),Pt([QF(DQ),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],Vl.prototype,"close",null),Vl=c3=Pt([Gd({name:"callToAction",defaults:{title:"New to the Exploration User Interface",message:"Spatial Search has arrived!",callToAction:"Learn More",imageUrl:"assets/images/spatial_search.gif",expirationDate:"Dec 1, 2022",popupShown:!1}}),Fe("design:paramtypes",[Sf,vs,rl,a3,Cd])],Vl);class Zd{static title(e){return e.title}static message(e){return e.message}static callToAction(e){return e.callToAction}static imageUrl(e){return e.imageUrl}static expirationDate(e){return e.expirationDate}static popupShown(e){return e.popupShown}}Pt([ny([Vl]),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",String)],Zd,"title",null),Pt([ny([Vl]),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",String)],Zd,"message",null),Pt([ny([Vl]),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",String)],Zd,"callToAction",null),Pt([ny([Vl]),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",String)],Zd,"imageUrl",null),Pt([ny([Vl]),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",String)],Zd,"expirationDate",null),Pt([ny([Vl]),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",Boolean)],Zd,"popupShown",null);let PQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Jt({type:n,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-mdc-card-sm-image","mdc-card__media"]})}return n})(),n4e=(()=>{class n{constructor(){this.clsName="ccf-call-to-action",this.callToActionClicked=new qt,this.closeClicked=new qt}close(){this.closeClicked.emit()}onDialogButtonClick(){this.callToActionClicked.emit()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-call-to-action"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},inputs:{infoTitle:"infoTitle",imageUrl:"imageUrl",message:"message",callToAction:"callToAction"},outputs:{callToActionClicked:"callToActionClicked",closeClicked:"closeClicked"},decls:13,vars:4,consts:[[1,"rui-about","wrapper"],[1,"container"],[1,"content"],[1,"first-row"],["mat-dialog-title","",1,"title"],[1,"cta-mat-icon","material-icons","close-icon",3,"click"],["mat-card-sm-image","","alt","preview","layout-fill","",1,"cta-image",3,"src"],[1,"mat-typography","dialog-content"],[1,"message"],["mat-button","",1,"mat-button",3,"text","click"]],template:function(i,r){1&i&&(nt(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),Wt(5),ot(),nt(6,"mat-icon",5),Ft("click",function(){return r.close()}),Wt(7,"clear"),ot()(),_n(8,"img",6),nt(9,"mat-dialog-content",7)(10,"div",8),Wt(11),ot(),nt(12,"a",9),Ft("click",function(){return r.onDialogButtonClick()}),ot()()()()()),2&i&&(pt(5),So(r.infoTitle),pt(3),Ot("src",r.imageUrl,Sg),pt(3),So(r.message),pt(1),Ot("text",r.callToAction))},dependencies:[na,tT,nT,PQ],styles:["[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:block;align-content:center;padding-left:1.6rem;padding-right:1.6rem;border-radius:.25rem}[_nghost-%COMP%]   .info-button-wrapper[_ngcontent-%COMP%]{border-radius:.25rem;padding:.6rem;transition:.6s}[_nghost-%COMP%]   .info-button-wrapper[_ngcontent-%COMP%]   .ccf-info-button[_ngcontent-%COMP%]{cursor:pointer;transition:color .6s;font-size:1.2rem;vertical-align:sub}[_nghost-%COMP%]   .first-row[_ngcontent-%COMP%]{display:flex;width:100%;line-height:.9rem}[_nghost-%COMP%]   .first-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-right:7rem;padding-left:.2rem;font-size:.875rem;padding-top:.75rem}[_nghost-%COMP%]   .first-row[_ngcontent-%COMP%]   .cta-mat-icon[_ngcontent-%COMP%]{height:30%;line-height:3.4rem}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]{padding:.5rem}[_nghost-%COMP%]   .cta-image[_ngcontent-%COMP%]{align-self:center;object-fit:cover;width:100%;border-radius:.25rem}[_nghost-%COMP%]   .mat-button[_ngcontent-%COMP%]{background-color:#444a65;font-size:.75rem;position:relative;margin-bottom:1rem;width:100%;height:2rem;color:#fff}"],changeDetection:0})}return n})();class eu{constructor(){this.close=()=>new DQ,this.learnMore=()=>new MQ}static#e=this.\u0275fac=function(t){return new(t||eu)};static#t=this.\u0275cmp=dn({type:eu,selectors:[["ccf-call-to-action-behavior"]],decls:5,vars:12,consts:[[3,"infoTitle","message","callToAction","imageUrl","callToActionClicked","closeClicked"]],template:function(t,i){if(1&t&&(nt(0,"ccf-call-to-action",0),Ft("callToActionClicked",function(){return i.learnMore()})("closeClicked",function(){return i.close()}),ei(1,"async"),ei(2,"async"),ei(3,"async"),ei(4,"async"),ot()),2&t){let r,o,s,a;Ot("infoTitle",null!==(r=ni(1,4,i.title$))&&void 0!==r?r:"")("message",null!==(o=ni(2,6,i.message$))&&void 0!==o?o:"")("callToAction",null!==(s=ni(3,8,i.callToAction$))&&void 0!==s?s:"")("imageUrl",null!==(a=ni(4,10,i.imageUrl$))&&void 0!==a?a:"")}},dependencies:[n4e,vd],changeDetection:0})}Pt([NA(Zd.title),Fe("design:type",Et)],eu.prototype,"title$",void 0),Pt([NA(Zd.message),Fe("design:type",Et)],eu.prototype,"message$",void 0),Pt([NA(Zd.callToAction),Fe("design:type",Et)],eu.prototype,"callToAction$",void 0),Pt([NA(Zd.imageUrl),Fe("design:type",Et)],eu.prototype,"imageUrl$",void 0),Pt([TQ(),Fe("design:type",Object)],eu.prototype,"close",void 0),Pt([TQ(),Fe("design:type",Object)],eu.prototype,"learnMore",void 0);let i4e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,co]})}return n})(),r4e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,i4e]})}return n})();const o4e={initialConfig:{},parse:{},rename:{}};class s4e{constructor(e,t){this.configState=e,this.storedChanges={},this.options={...o4e,...t}}addChanges(e){this.storedChanges={...this.storedChanges,...e}}applyChanges(e,t={}){void 0===e&&(e=this.storedChanges,this.storedChanges={});const{configState:i,options:{initialConfig:r}}=this,s={...r,...i.snapshot,...t};for(const[a,c]of Object.entries(e))this.processChange(a,c,s);i.setConfig(s)}processChange(e,t,i){const{options:{parse:r,rename:o}}=this,s=o[e]??e,a=t.currentValue,c=r[e]??r[s];if(null==a)delete i[s];else if(c)try{i[s]=c(a)}catch(l){console.warn(`Failed to parse ${e} = ${a} (${typeof a})`,l.message)}else i[s]=a}}let a4e=(()=>{class n{constructor(t,i,r={}){this.configState=t,this.cdr=i,this.options=r,this.initialized=!1,this.configManager=new s4e(this.configState,this.options)}ngOnInit(){this._init=setTimeout(()=>this.initialize(),this.options.initialDelay??0)}ngOnDestroy(){this._init&&clearTimeout(this._init)}ngOnChanges(t){this.configManager.addChanges(t),this.initialized&&this.configManager.applyChanges()}initialize(){this._init=void 0,!this.initialized&&(this.configManager.applyChanges(),this.initialized=!0,this.cdr.markForCheck())}static#e=this.\u0275fac=function(i){SD()};static#t=this.\u0275dir=Jt({type:n,features:[Ji]})}return n})();const kQ={boolean:n=>"false"!=`${n}`,json:n=>"string"==typeof n?JSON.parse(n):n,stringArray:n=>"string"==typeof n?Array.from(n).filter(e=>!"[], ".includes(e)):n,function:n=>{if("function"!=typeof n)throw new Error("Expected a javascript function");return n}},tu_dbOptions={ccfOwlUrl:"https://ccf-ontology.hubmapconsortium.org/v2.1.0/ccf.owl",ccfContextUrl:"https://hubmapconsortium.github.io/ccf-ontology/ccf-context.jsonld",hubmapDataService:"search-api",hubmapPortalUrl:"https://portal.hubmapconsortium.org/",hubmapDataUrl:"",hubmapAssetsUrl:"https://assets.hubmapconsortium.org",hubmapToken:localStorage.getItem("HUBMAP_TOKEN")??""},tu_customization={theme:"hubmap",header:!0,homeUrl:"https://portal.hubmapconsortium.org/",logoTooltip:"Human BioMolecular Atlas Project"},NQ=new _t("Default theme class");let l3=(()=>{class n{static initialize(t){const{injector:i,location:r}=t;i.get(n).initialize(r,i)}constructor(t){this.defaultTheme=this.theme=t??""}getTheme(){return this.theme}setTheme(t){t!==this.theme&&(this.applyThemeClass(this.theme,"remove"),this.applyThemeClass(t),this.theme=t)}resetTheme(){this.setTheme(this.defaultTheme)}initialize(t,i){this.element=t,this.injector=i,this.applyThemeClass(this.getTheme())}applyThemeClass(t,i="add"){const{element:r,injector:o}=this;if(!t||!r||!o)return;const s=o.get(Vc,null);if(!s)return;const a=r.nativeElement,c=o.get(g0,null)?.getContainerElement(),l="add"===i?"addClass":"removeClass";s[l](a,t),c&&s[l](c,t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(NQ,8))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac})}return n})();function la(n,e){return _i((t,i)=>{const r=new Set;t.subscribe(wn(i,o=>{const s=n?n(o):o;r.has(s)||(r.add(s),i.next(o))})),e&&Zr(e).subscribe(wn(i,()=>r.clear(),ft))})}var d4e=S(217);const FQ={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let VT;const u4e=new Uint8Array(16);function h4e(){if(!VT&&(VT=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!VT))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return VT(u4e)}const Bs=[];for(let n=0;n<256;++n)Bs.push((n+256).toString(16).slice(1));const p4e=function f4e(n,e,t){if(FQ.randomUUID&&!e&&!n)return FQ.randomUUID();const i=(n=n||{}).random||(n.rng||h4e)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){t=t||0;for(let r=0;r<16;++r)e[t+r]=i[r];return e}return function LQ(n,e=0){return Bs[n[e+0]]+Bs[n[e+1]]+Bs[n[e+2]]+Bs[n[e+3]]+"-"+Bs[n[e+4]]+Bs[n[e+5]]+"-"+Bs[n[e+6]]+Bs[n[e+7]]+"-"+Bs[n[e+8]]+Bs[n[e+9]]+"-"+Bs[n[e+10]]+Bs[n[e+11]]+Bs[n[e+12]]+Bs[n[e+13]]+Bs[n[e+14]]+Bs[n[e+15]]}(i)};let Rm=class JT extends Em{constructor(e,t){super(),this.globals=e,this.globalConfig=t}ngxsOnInit(){super.ngxsOnInit(),this.getSourceDB().subscribe(e=>{this.setState(e)})}getSourceDB(){return this.globalConfig.getOption("baseHref").pipe(Bt(e=>(e??"")+"assets/reference-organ-data.json"),Dr(e=>qr(fetch(e)).pipe(Dr(t=>t.json()),$a(()=>ea))))}normalizePlacement(e){const i=this.snapshot.placementPatches[e?.target];if(i){const r=function g4e(n,e){const t=e;let i;switch(t.translation_units){case"centimeter":i=.01;break;case"millimeter":i=.001;break;default:i=1}const r=[t.x_translation,t.y_translation,t.z_translation].map(a=>a*i),o=[t.x_rotation,t.y_rotation,t.z_rotation].map(eo),s=[t.x_scaling,t.y_scaling,t.z_scaling];return n.translate(r).rotateXYZ(o).scale(s)}(new Lt(Lt.IDENTITY),i),o={x:e.x_translation,y:e.y_translation,z:e.z_translation},[s,a,c]=r.transformAsPoint([o.x,o.y,o.z],[]),l={...e,target:i.target};return l.x_translation=s,l.y_translation=a,l.z_translation=c,l}return e}getReferenceOrganIri(e,t,i,r){const o=this.snapshot;"KIDNEY"!==e.toUpperCase()&&(i=""),r?.sex&&(t=r.sex);const s=[e,t,i||r?.side].join("|").toUpperCase(),a=Object.keys(o.organIRILookup).find(c=>c.toUpperCase().endsWith(s));return this.getLatestIri(a?o.organIRILookup[a]:void 0)}getOrganData(e){const t=this.getLatestIri(e),r=this.snapshot.organSpatialEntities[t];if(!r)return;const o=r.label??"",s=JA.find(a=>o.endsWith(a.organ)&&(!r.side||r.side.toLowerCase()===a.side));return s?{organ:s,sex:r.sex?.toLowerCase(),side:r.side?.toLowerCase()}:void 0}getLatestIri(e){if(!e)return"";const t=this.snapshot.placementPatches[e];return t?this.getLatestIri(t.target):e}static#e=this.\u0275fac=function(t){return new(t||JT)(et(LL),et(qo))};static#t=this.\u0275prov=It({token:JT,factory:JT.\u0275fac})};function BQ(n){const e=new Lt(n.transformMatrix),t=e.transformAsPoint([-1,-1,-1],[]),i=e.transformAsPoint([1,1,1],[]);return new Er({lowerBound:new be(...t.map((r,o)=>Math.min(r,i[o]))),upperBound:new be(...i.map((r,o)=>Math.max(r,t[o])))})}Rm=Pt([th(),Gd({name:"reference",defaults:{organIRILookup:{},organSpatialEntities:{},anatomicalStructures:{},extractionSets:{},sceneNodeLookup:{},simpleSceneNodeLookup:{},placementPatches:{}}}),Fe("design:paramtypes",[LL,qo])],Rm);let da=class QT extends Em{get nodes$(){return Mo([this.placementCube$,this.referenceOrganNodes$,this.previousRegistrationNodes$,this.nodeCollisions$,this.spatialKeyBoardAxis$]).pipe(Bt(([e,t,i,r,o])=>[...e,...i,...t,...o,...this.snapshot.showCollisions?r:[]]))}get rotatedNodes$(){return Mo([this.rotation$,this.nodes$]).pipe(Bt(([e,t])=>0===e?t:t.map(i=>({...i,transformMatrix:new Lt(Lt.IDENTITY).rotateY(eo(e)).multiplyRight(i.transformMatrix)}))))}get referenceOrganNodes$(){return Mo([this.model.anatomicalStructures$,this.model.extractionSites$,this.model.organIri$]).pipe(Bt(([e,t,i])=>{const r=this.getOrganSpatialEntity(i),o=i?function Tze(n,e=!1,t=!1){const i=n.x_dimension/1e3,r=n.y_dimension/1e3,o=n.z_dimension/1e3,s=.05*Math.max(i,r,o),a=.1*s,c=t?[i,r,o].map(l=>-.5*l):[0,0,0];return[{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginSphere","@type":"SpatialSceneNode",unpickable:!0,geometry:"sphere",transformMatrix:new Lt(Lt.IDENTITY).translate(c).scale(s),color:Aze},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginX","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Lt(Lt.IDENTITY).translate(c).translate([i/2,0,0]).rotateZ(eo(-90)).scale([a,i,a]),color:BT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginXCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Lt(Lt.IDENTITY).translate(c).translate([i,0,0]).rotateZ(eo(-90)).scale([s,3*s,s]),color:BT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginXALabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"A",transformMatrix:new Lt(Lt.IDENTITY).translate(c).translate([2*-s,0,0]).scale(s),color:BT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginXDLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"D",transformMatrix:new Lt(Lt.IDENTITY).translate(c).translate([i+2*s,0,0]).scale(s),color:BT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginY","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Lt(Lt.IDENTITY).translate(c).translate([0,r/2,0]).scale([a,r,a]),color:jT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginYCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Lt(Lt.IDENTITY).translate(c).translate([0,r,0]).scale([s,3*s,s]),color:jT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginYSLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"S",transformMatrix:new Lt(Lt.IDENTITY).translate(c).translate([1.5*s,1.5*s,0]).scale(s),color:jT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginYWLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"W",transformMatrix:new Lt(Lt.IDENTITY).translate(c).translate([0,r+2*s,0]).scale(s),color:jT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZ","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Lt(Lt.IDENTITY).translate(c).translate([0,0,o/2]).rotateX(eo(90)).scale([a,o,a]),color:UT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Lt(Lt.IDENTITY).translate(c).translate([0,0,o]).rotateX(eo(90)).scale([s,3*s,s]),color:UT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZQLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"Q",transformMatrix:new Lt(Lt.IDENTITY).translate(c).translate([1.5*s,1.5*-s,0]).scale(s),color:UT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZELabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"E",transformMatrix:new Lt(Lt.IDENTITY).translate(c).translate([0,0,o+2*s]).scale(s),color:UT}].filter(l=>e&&"text"===l.geometry&&l.text||!l.text)}(r,!1,!0):[];return[...o,...this.createSceneNodes(i,[...e,...t])]}))}get referenceOrganSimpleNodes$(){return Mo([this.model.anatomicalStructures$,this.model.organIri$,this.referenceData.state$]).pipe(Bt(([e,t,i])=>e.map(r=>i.sceneNodeLookup[r.id]?[{...i.simpleSceneNodeLookup[r.id],opacity:(r.opacity??100)/100,color:[255,255,255,255]}]:(i.anatomicalStructures[t]||[]).filter(o=>o.representation_of===r.id).map(o=>({...i.simpleSceneNodeLookup[o["@id"]],opacity:(r.opacity??100)/100,color:[255,255,255,255]}))).reduce((r,o)=>r.concat(o),[])),ta(Qw.isEqual))}get nodeCollisions$(){return Mo([this.referenceOrganSimpleNodes$,this.collisions$,this.placementCube$]).pipe(fT(10,void 0,{leading:!0,trailing:!0}),Bt(([e,t,i])=>void 0!==t?this.filterNodeCollisions(e,t):i.length>0?this.filterNodeBBox(e,i[0]):[]),xd())}get previousRegistrationNodes$(){return Mo([this.model.organIri$,this.model.showPrevious$,this.registration.previousRegistrations$]).pipe(Bt(([e="",t,i])=>t?this.getPreviousRegistrationNodes(e,i):[]))}get spatialKeyBoardAxis$(){return Mo([this.model.organIri$.pipe(vi(t=>void 0!==t&&""!==t)),this.model.position$]).pipe(Bt(([t,i])=>{const r=this.getOrganSpatialEntity(t),o=this.model.snapshot.blockSize,s=this.model.snapshot.rotation;return r?function Sze(n,e){const t=n.x_dimension/1e3,i=n.y_dimension/1e3,r=n.z_dimension/1e3,o=.1*Math.max(t,i,r),s=Math.max(t,i,r),a=.05*s,c=2*s,l=4*a,d={radius:s/1e3/2,x:e.x_translation/1e3,y:e.y_translation/1e3,z:e.z_translation/1e3,rx:eo(e.x_rotation),ry:eo(e.y_rotation),rz:eo(e.z_rotation),sx:n.x_dimension/1e3,sy:n.y_dimension/1e3,sz:n.z_dimension/1e3};return[{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginSphere","@type":"SpatialSceneNode",unpickable:!0,geometry:"sphere",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new Lt(Lt.IDENTITY).translate([-d.sx/2,-d.sy/2,-d.sz/2]).scale(o)),color:Cze},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginX","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new Lt(Lt.IDENTITY).translate([0,-d.sy/2,-d.sz/2]).rotateZ(eo(-90)).scale([a,d.sx,a])),color:Im},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginY","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new Lt(Lt.IDENTITY).translate([-d.sx/2,0,-d.sz/2]).scale([a,d.sy,a])),color:Dm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginZ","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new Lt(Lt.IDENTITY).translate([-d.sx/2,-d.sy/2,0]).rotateX(eo(90)).scale([a,d.sz,a])),color:Om},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXD","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x+d.radius+c/2,d.y,d.z]).rotateZ(eo(-90)).scale([a,c,a]),color:Im},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXDCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x+d.radius+c,d.y,d.z]).rotateZ(eo(-90)).scale([l,3*l,l]),color:Im},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXDLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"D",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x+d.radius+c+3*l,d.y,d.z]).scale(l),color:Im},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXA","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x-d.radius-c/2,d.y,d.z]).rotateZ(eo(-90)).scale([a,c,a]),color:Im},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXACone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x-d.radius-c,d.y,d.z]).rotateZ(eo(90)).scale([l,3*l,l]),color:Im},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXALabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"A",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x-d.radius-c-3.5*l,d.y,d.z]).scale(l),color:Im},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYW","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x,d.y+d.radius+c/2,d.z]).scale([a,c,a]),color:Dm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYWCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x,d.y+d.radius+c,d.z]).scale([l,3*l,l]),color:Dm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYWLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"W",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x,d.y+d.radius+c+3*l,d.z]).scale(l),color:Dm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYS","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x,d.y-d.radius-c/2,d.z]).scale([a,c,a]),color:Dm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYSCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x,d.y-d.radius-c,d.z]).rotateZ(eo(180)).scale([l,3*l,l]),color:Dm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYSLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"S",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x,d.y-d.radius-c-3.5*l,d.z]).scale(l),color:Dm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZQ","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x,d.y,d.z+d.radius+c/2]).rotateX(eo(90)).scale([a,c,a]),color:Om},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZQCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x,d.y,d.z+d.radius+c]).rotateX(eo(90)).scale([l,3*l,l]),color:Om},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZQLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"Q",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x,d.y,d.z+d.radius+c+3*l]).scale(l),color:Om},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZE","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x,d.y,d.z-d.radius-c/2]).rotateX(eo(-90)).scale([a,c,a]),color:Om},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZECone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x,d.y,d.z-d.radius-c]).rotateX(eo(-90)).scale([l,3*l,l]),color:Om},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZELabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"E",transformMatrix:new Lt(Lt.IDENTITY).translate([d.x,d.y,d.z-d.radius-c-3.5*l]).scale(l),color:Om}]}({x_dimension:o.x,y_dimension:o.y,z_dimension:o.z},{x_translation:i.x-r.x_dimension/2,y_translation:i.y-r.y_dimension/2,z_translation:i.z-r.z_dimension/2,x_rotation:s.x,y_rotation:s.y,z_rotation:s.z,x_scaling:1,y_scaling:1,z_scaling:1}):[]}))}get placementCube$(){return Mo([this.model.viewType$,this.model.blockSize$,this.model.rotation$,this.model.position$,this.model.organ$]).pipe(Bt(([e,t,i,r,o])=>""===o.src?[]:[this.placementCube]),ta(Qw.isEqual))}get placementCube(){const{viewType:e,blockSize:t,rotation:i,position:r,organDimensions:o}=this.model.snapshot,s=[o.x,o.y,o.z].map(a=>-a/1e3/2);return{"@id":"#DraftPlacement","@type":"SpatialSceneNode",transformMatrix:new Lt(Lt.IDENTITY).translate([r.x,r.y,r.z].map((a,c)=>a/1e3+s[c])).rotateXYZ([i.x,i.y,i.z].map(eo)).scale([t.x,t.y,t.z].map(a=>a/1e3/2)),color:[255,255,0,200],tooltip:"Draft Placement",unpickable:"3d"===e}}get rotation$(){return this.model.viewSide$.pipe(Bt(e=>{let t=0;switch(e){case"left":t=-90;break;case"right":t=90;break;case"posterior":t=180}return t}))}get collisions$(){return bm(()=>this.registration.throttledJsonld$).pipe(f_(e=>this.getCollisions(e)),is([]))}constructor(e,t,i){super(),this.injector=e,this.http=t,this.globalConfig=i,this.gizmo$=Mn([{"@id":"http://purl.org/ccf/latest/ccf.owl#VHMaleOrgans_VHM_Spleen_Colic_Surface","@type":"SpatialSceneNode",scenegraph:"https://hubmapconsortium.github.io/ccf-3d-reference-object-library/Assets/body4Mesh_1338.glb",transformMatrix:new Lt(Lt.IDENTITY).scale([2,2,2]).rotateY(eo(0)),tooltip:"Gizmo",unpickable:!0,_lighting:"pbr",zoomBasedOpacity:!1,color:[255,255,255,255],opacity:1}])}ngxsOnInit(){super.ngxsOnInit(),this.model=this.injector.get(gr),this.registration=this.injector.get(ho),this.referenceData=this.injector.get(Rm)}createSceneNodes(e,t){const i=this.referenceData.snapshot;return t.filter(r=>r.visible&&r.opacity&&r.opacity>0).map(r=>i.sceneNodeLookup[r.id]?[{...i.sceneNodeLookup[r.id],opacity:(r.opacity??100)/100,color:[255,255,255,255]}]:(i.anatomicalStructures[e]||[]).filter(o=>o.representation_of===r.id).map(o=>({...i.sceneNodeLookup[o["@id"]],opacity:(r.opacity??100)/100,color:[255,255,255,255]}))).reduce((r,o)=>r.concat(o),[])}getOrganSpatialEntity(e){return this.referenceData.snapshot.organSpatialEntities[e]}getCollisions(e){return this.globalConfig.getOption("collisionsEndpoint").pipe(Dr((t="https://pfn8zf2gtu.us-east-2.awsapprunner.com/get-collisions")=>this.http.post(t,JSON.stringify(e),{headers:{"Content-Type":"application/json"}})),$a(()=>Mn(void 0)),cr(1))}filterNodeCollisions(e,t){const i=new Set(t.map(r=>r.id));return e.filter(r=>i.has(r["@id"]))}filterNodeBBox(e,t){const i=BQ(t);return e.filter(r=>i.overlaps(BQ(r)))}getPreviousRegistrationNodes(e,t){return t.map(r=>{const o=Array.isArray(r.placement)?r.placement[0]:r.placement;if(o.target===e){const s=this.model.snapshot.organDimensions,a=[s.x,s.y,s.z].map(c=>-c/1e3/2);return{"@id":r["@id"],"@type":"SpatialSceneNode",transformMatrix:new Lt(Lt.IDENTITY).translate([o.x_translation,o.y_translation,o.z_translation].map((c,l)=>c/1e3+a[l])).rotateXYZ([o.x_rotation,o.y_rotation,o.z_rotation].map(eo)).scale([r.x_dimension,r.y_dimension,r.z_dimension].map(c=>c/1e3/2)),color:[25,118,210,200],tooltip:r.label,unpickable:!0}}}).filter(r=>void 0!==r)}static#e=this.\u0275fac=function(t){return new(t||QT)(et(xi),et(Cd),et(qo))};static#t=this.\u0275prov=It({token:QT,factory:QT.\u0275fac})};Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],da.prototype,"nodes$",null),Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],da.prototype,"rotatedNodes$",null),Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],da.prototype,"referenceOrganNodes$",null),Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],da.prototype,"referenceOrganSimpleNodes$",null),Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],da.prototype,"nodeCollisions$",null),Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],da.prototype,"previousRegistrationNodes$",null),Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],da.prototype,"spatialKeyBoardAxis$",null),Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],da.prototype,"placementCube$",null),Pt([zi(),Fe("design:type",Object),Fe("design:paramtypes",[])],da.prototype,"placementCube",null),Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],da.prototype,"rotation$",null),Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],da.prototype,"collisions$",null),da=Pt([th(),Gd({name:"scene",defaults:{showCollisions:!1}}),Fe("design:paramtypes",[xi,Cd,qo])],da);let nu=class ZT extends $Le{get tags$(){return Mo([this.entities$,this.scene.nodeCollisions$]).pipe(Bt(([e,t])=>{const i=[],r=new Set,o=new Set;Object.entries(e).forEach(([s,a])=>{"removed"===a.type?o.add(s):(r.add(s),i.push(a))});for(const s of t){const a=s.representation_of;a&&!o.has(a)&&!r.has(a)&&(r.add(a),i.push({id:a,label:s.tooltip,type:"assigned"}))}return i}))}get latestTags(){return this._latestTags}constructor(e){super(),this.injector=e,this._latestTags=[]}ngxsOnInit(){super.ngxsOnInit(),this.model=this.injector.get(gr),this.scene=this.injector.get(da),this.page=this.injector.get(Kr),this.tags$.subscribe(e=>{this._latestTags=e}),this.entities$.subscribe(()=>this.page.setHasChanges())}addTags(e){for(const t of e)this.addTagRaw(t)}addTag(e){this.addTagRaw(e)}removeTag(e){this.snapshot.entities[e.id]?this.updateEntitiesMany([{id:e.id,changes:{type:"removed"}}]):this.addEntityOne({...e,type:"removed"})}searchExternal(e,t){const i=this.model.snapshot.anatomicalStructures.filter(r=>-1!==r.name.toLowerCase().indexOf(e.toLowerCase()));return[{totalCount:i.length,results:i.map(r=>({id:r.id,label:r.name,type:"added"})).slice(0,t)}]}addTagRaw(e){this.snapshot.entities[e.id]?this.updateEntitiesMany([{id:e.id,changes:{type:"added"}}]):this.addEntityOne({...e,type:"added"})}static#e=this.\u0275fac=function(t){return new(t||ZT)(et(xi))};static#t=this.\u0275prov=It({token:ZT,factory:ZT.\u0275fac})};Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],nu.prototype,"tags$",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Array]),Fe("design:returntype",void 0)],nu.prototype,"addTags",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],nu.prototype,"addTag",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],nu.prototype,"removeTag",null),Pt([Fd.ak,Fe("design:type",Function),Fe("design:paramtypes",[String,Number]),Fe("design:returntype",Object)],nu.prototype,"searchExternal",null),nu=Pt([th(),Gd({name:"tags",defaults:{...function m4e(n){return n??{ids:[],entities:{}}}()}}),Fe("design:paramtypes",[xi])],nu);let ho=class eM extends Em{get metadata$(){return Mo([this.page.state$,this.model.state$,this.tags.tags$]).pipe(Bt(([e,t,i])=>this.buildMetadata(e,t,i)))}get jsonld$(){return Mo([this.page.state$,this.model.state$,this.tags.tags$]).pipe(Bt(([e,t,i])=>this.buildJsonLd(e,t,i)))}get throttledJsonld$(){return Mo([this.page.state$,this.model.state$,this.tags.tags$]).pipe(fT(100,void 0,{leading:!0,trailing:!0}),ta(Qw.isEqual),Bt(([e,t,i])=>this.buildJsonLd(e,t,i)))}get valid$(){return Mo([this.page.state$,this.model.state$]).pipe(Bt(()=>this.isValid))}get previousRegistrations$(){const{globalConfig:e,state$:t}=this;return Mo([t.pipe(Bt(o=>o?.registrations)),e.getOption("fetchPreviousRegistrations").pipe(Dr(o=>o?.()??[[]]),is([]))]).pipe(Bt(([o,s])=>[...o,...s]))}get currentIdentifier(){return p4e()}get currentDate(){return(new Date).toISOString().split("T")[0]}constructor(e,t){super(),this.injector=e,this.globalConfig=t,this.displayErrors$=this.state$.pipe(Bt(i=>i?.displayErrors))}ngxsOnInit(){super.ngxsOnInit(),this.page=this.injector.get(Kr),this.model=this.injector.get(gr),this.tags=this.injector.get(nu),this.refData=this.injector.get(Rm),this.refData.state$.subscribe(()=>{this.globalConfig.config$.pipe(cr(1),tr(({useDownload:e,register:t,organOptions:i})=>{this.ctx.patchState({useRegistrationCallback:!(e||!t)}),this.page.setOrcidId(),this.model.setOrganDefaults(),this.setOrganSelection(i)})).subscribe(),this.globalConfig.getOption("editRegistration").pipe($L(),tr(e=>{this.editRegistration(e)})).subscribe()})}editRegistration(e){var t=this;return fn(function*(){t.ctx.patchState({initialRegistration:e});const i=t.refData.normalizePlacement(Array.isArray(e.placement)?e.placement[0]:e.placement),r=t.refData.getOrganData(i.target);t.page.setUserName({firstName:e.creator_first_name,middleName:e.creator_middle_name,lastName:e.creator_last_name});const o=t.page.uriToOrcid(e.creator_orcid);t.page.setOrcidId(o),r&&(t.model.setOrgan(r.organ),r.sex&&t.model.setSex(r.sex),r.side&&t.model.setSide(r.side)),t.model.setBlockSize({x:e.x_dimension,y:e.y_dimension,z:e.z_dimension}),t.model.setRotation({x:i.x_rotation,y:i.y_rotation,z:i.z_rotation}),t.model.setSlicesConfig({thickness:e.slice_thickness||NaN,numSlices:e.slice_count||NaN}),t.model.setPosition({x:i.x_translation,y:i.y_translation,z:i.z_translation});const s=new Set(e.ccf_annotations);t.tags.addTags(t.model.snapshot.anatomicalStructures.filter(a=>s.has(a.id)).map(a=>({id:a.id,label:a.name,type:"added"}))),t.page.registrationStarted()})()}setUseRegistrationCallback(e){this.ctx.patchState({useRegistrationCallback:e})}setDisplayErrors(e){this.ctx.patchState({displayErrors:e})}addRegistration(e){this.ctx.setState(um({registrations:QPe(e)})),this.page.registrationStarted()}setOrganSelection(e=[]){this.page.patchState({organOptions:this.organListOptions(e)})}isDataValid(e,t){return[e.user.firstName,e.user.lastName,e.orcidValid,t.organ.src,t.organ.name,t.organ.organ].every(r=>!!r)}get isValid(){return this.isDataValid(this.page.snapshot,this.model.snapshot)}register(e){if(this.page.registrationStarted(),!this.isValid)return;const{globalConfig:{snapshot:{register:t}},page:i,model:r,snapshot:o}=this,s=this.buildJsonLd(i.snapshot,r.snapshot,this.tags.latestTags),a=JSON.stringify(s,void 0,2);if(e??(void 0===e&&o.useRegistrationCallback))t?.(a);else{const c=new Blob([a],{type:"application/json",endings:"native"});(0,d4e.saveAs)(c,"registration-data.json")}this.setDisplayErrors(!1),this.page.clearHasChanges(),this.addRegistration(s)}setToInitialRegistration(){const{page:e}=this,t={...this.snapshot.initialRegistration,creator_first_name:e.snapshot.user.firstName,creator_last_name:e.snapshot.user.lastName,creator_middle_name:e.snapshot.user.middleName,creator_orcid:e.snapshot.user.orcidId};this.editRegistration(t)}buildMetadata(e,t,i){const r=[];return e.registrationCallbackSet||r.push({label:"First Name",value:e.user.firstName},{label:"Last Name",value:e.user.lastName}),r.push({label:"Reference Organ Name",value:t.organ.name},{label:"Tissue Block Dimensions (mm)",value:this.xyzTripletToString(t.blockSize)},{label:"Tissue Block Position (mm)",value:this.xyzTripletToString(t.position)},{label:"Tissue Block Rotation",value:this.xyzTripletToString(t.rotation)},{label:"Anatomical Structure Tags",value:i.map(o=>o.label).join(", ")},{label:"Time Stamp",value:this.currentDate},{label:"Alignment ID",value:this.currentIdentifier}),r}buildJsonLd(e,t,i){return{"@context":"https://hubmapconsortium.github.io/ccf-ontology/ccf-context.jsonld","@id":`http://purl.org/ccf/1.5/${this.currentIdentifier}`,"@type":"SpatialEntity",label:t.label||void 0,creator:`${e.user.firstName} ${e.user.middleName?e.user.middleName+" ":""}${e.user.lastName}`,creator_first_name:e.user.firstName,creator_last_name:e.user.lastName,creator_middle_name:e.user.middleName,creator_orcid:e.user.orcidId,creation_date:this.currentDate,ccf_annotations:i.map(r=>r.id),slice_thickness:t.slicesConfig?.thickness||void 0,slice_count:t.slicesConfig?.numSlices||void 0,x_dimension:+t.blockSize.x.toFixed(3),y_dimension:+t.blockSize.y.toFixed(3),z_dimension:+t.blockSize.z.toFixed(3),dimension_units:"millimeter",placement:{"@context":"https://hubmapconsortium.github.io/ccf-ontology/ccf-context.jsonld","@id":`http://purl.org/ccf/1.5/${this.currentIdentifier}_placement`,"@type":"SpatialPlacement",target:t.organIri,placement_date:this.currentDate,x_scaling:1,y_scaling:1,z_scaling:1,scaling_units:"ratio",x_rotation:+t.rotation.x.toFixed(3),y_rotation:+t.rotation.y.toFixed(3),z_rotation:+t.rotation.z.toFixed(3),rotation_order:"XYZ",rotation_units:"degree",x_translation:+t.position.x.toFixed(3),y_translation:+t.position.y.toFixed(3),z_translation:+t.position.z.toFixed(3),translation_units:"millimeter"}}}xyzTripletToString(e){return`${Math.round(e.x)}, ${Math.round(e.y)}, ${Math.round(e.z)}`}organListOptions(e){return e&&e.length>0?d3.filter(t=>!!t.id&&e.includes(t.id)):d3}static#e=this.\u0275fac=function(t){return new(t||eM)(et(xi),et(qo))};static#t=this.\u0275prov=It({token:eM,factory:eM.\u0275fac})};Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],ho.prototype,"metadata$",null),Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],ho.prototype,"jsonld$",null),Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],ho.prototype,"throttledJsonld$",null),Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],ho.prototype,"valid$",null),Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],ho.prototype,"previousRegistrations$",null),Pt([zi(),Fe("design:type",String),Fe("design:paramtypes",[])],ho.prototype,"currentIdentifier",null),Pt([zi(),Fe("design:type",String),Fe("design:paramtypes",[])],ho.prototype,"currentDate",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Boolean]),Fe("design:returntype",void 0)],ho.prototype,"setUseRegistrationCallback",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Boolean]),Fe("design:returntype",void 0)],ho.prototype,"setDisplayErrors",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],ho.prototype,"addRegistration",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Array]),Fe("design:returntype",void 0)],ho.prototype,"setOrganSelection",null),Pt([zi(),Fe("design:type",Boolean),Fe("design:paramtypes",[])],ho.prototype,"isValid",null),ho=Pt([th(),Gd({name:"registration",defaults:{useRegistrationCallback:!1,displayErrors:!1,registrations:[]}}),Fe("design:paramtypes",[xi,qo])],ho);let Kr=class tM extends Em{get skipConfirmation$(){return this.state$.pipe(YL("skipConfirmation"))}get globalSkipConfirmation$(){return this.globalConfig.getOption("skipUnsavedChangesConfirmation").pipe(Bt(e=>e??false),ta())}get hasChanges$(){return this.state$.pipe(YL("hasChanges"))}constructor(e,t){super(),this.globalConfig=e,this.reg=t,this.user$=this.state$.pipe(Bt(i=>i?.user)),this.registrationStarted$=this.state$.pipe(YL("registrationStarted")),this.useCancelRegistrationCallback$=this.state$.pipe(Bt(i=>i?.useCancelRegistrationCallback)),this.registrationCallbackSet$=this.state$.pipe(Bt(i=>i?.registrationCallbackSet)),this.organOptions$=this.state$.pipe(Bt(i=>i?.organOptions)),this.orcidValid$=this.state$.pipe(Bt(i=>i?.orcidValid))}ngxsOnInit(){super.ngxsOnInit(),Mo([this.reg.state$,this.globalConfig.config$]).pipe(tr(([e,t])=>{this.setState(um({registrationCallbackSet:!!e.useRegistrationCallback&&!!t.register,useCancelRegistrationCallback:!!t.cancelRegistration,user:JPe(!!t.user,t.user??{firstName:"",lastName:""}),registrationStarted:!!(t.user??e.initialRegistration)||void 0}))})).subscribe(),this.initSkipConfirmationListeners()}cancelRegistration(){const{globalConfig:{snapshot:{cancelRegistration:e}},snapshot:{useCancelRegistrationCallback:t,skipConfirmation:i}}=this;t&&(i||confirm("Changes you made may not be saved."))&&e?.()}setUseCancelRegistrationCallback(e){this.ctx.patchState({useCancelRegistrationCallback:e})}setUserName(e){this.ctx.setState(um({user:um({firstName:e.firstName,lastName:e.lastName,middleName:""!==e.middleName?e.middleName:void 0})}))}setOrcidId(e){this.ctx.setState(um({user:um({orcidId:e?this.orcidToUri(e):void 0})})),this.ctx.patchState({orcidValid:!e||this.isOrcidValid()})}registrationStarted(){this.ctx.setState(um({registrationStarted:!0}))}setHasChanges(){const{snapshot:{registrationStarted:e,hasChanges:t}}=this;e&&!t&&this.ctx.patchState({hasChanges:!0})}clearHasChanges(){this.ctx.patchState({hasChanges:!1})}initSkipConfirmationListeners(){const e=i=>this.patchState({skipConfirmation:i});this.globalSkipConfirmation$.pipe(vi(i=>i)).subscribe(e),this.hasChanges$.pipe(function l4e(...n){const e=DR(n);return _i((t,i)=>{const r=n.length,o=new Array(r);let s=n.map(()=>!1),a=!1;for(let c=0;c<r;c++)Zr(n[c]).subscribe(wn(i,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(cs))&&(s=null))},ft));t.subscribe(wn(i,c=>{if(a){const l=[c,...o];i.next(e?e(...l):l)}}))})}(this.globalSkipConfirmation$),Bt(([i,r])=>r||!i),ta()).subscribe(e);const t=i=>(i.preventDefault(),i.returnValue="Changes you made may not be saved.",i.returnValue);this.skipConfirmation$.subscribe(i=>{i?removeEventListener("beforeunload",t):addEventListener("beforeunload",t)})}isOrcidValid(){const e=this.uriToOrcid(this.snapshot.user.orcidId);return!(e&&!e.match("^[a-zA-Z0-9]{4}(-[a-zA-Z0-9]{4}){3}$"))}uriToOrcid(e){return e?e.split("/").slice(-1)[0]:""}orcidToUri(e){return"https://orcid.org/"+e.replace(/-/g,"").replace(/(.{1,4})/g,"$1-").slice(0,-1)}static#e=this.\u0275fac=function(t){return new(t||tM)(et(qo),et(ho))};static#t=this.\u0275prov=It({token:tM,factory:tM.\u0275fac})};Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],Kr.prototype,"skipConfirmation$",null),Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],Kr.prototype,"globalSkipConfirmation$",null),Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],Kr.prototype,"hasChanges$",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Boolean]),Fe("design:returntype",void 0)],Kr.prototype,"setUseCancelRegistrationCallback",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],Kr.prototype,"setUserName",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[String]),Fe("design:returntype",void 0)],Kr.prototype,"setOrcidId",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[]),Fe("design:returntype",void 0)],Kr.prototype,"registrationStarted",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[]),Fe("design:returntype",void 0)],Kr.prototype,"setHasChanges",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[]),Fe("design:returntype",void 0)],Kr.prototype,"clearHasChanges",null),Kr=Pt([th(),Gd({name:"page",defaults:{user:{firstName:"",lastName:""},registrationStarted:!1,useCancelRegistrationCallback:!1,registrationCallbackSet:!1,skipConfirmation:!0,hasChanges:!1,organOptions:[],orcidValid:!1}}),Fe("design:paramtypes",[qo,ho])],Kr);const d3=JA;let gr=class nM extends Em{get modelChanged$(){const e=["viewType","viewSide","showPrevious"],t=Object.keys(this.initialState).filter(i=>!e.includes(i));return this.state$.pipe(fT(0,void 0,{leading:!1,trailing:!0}),ta((i,r)=>{for(const o of t)if(i[o]!==r[o])return!1;return!0}),Bt(()=>{}))}constructor(e,t,i){super(),this.ga=e,this.injector=t,this.globalConfig=i,this.id$=this.state$.pipe(Bt(r=>r?.id),la()),this.blockSize$=this.state$.pipe(Bt(r=>r?.blockSize),la()),this.rotation$=this.state$.pipe(Bt(r=>r?.rotation),la()),this.position$=this.state$.pipe(Bt(r=>r?.position),la()),this.slicesConfig$=this.state$.pipe(Bt(r=>r?.slicesConfig),la()),this.viewType$=this.state$.pipe(Bt(r=>r?.viewType),la()),this.viewSide$=this.state$.pipe(Bt(r=>r?.viewSide),la()),this.organ$=this.state$.pipe(Bt(r=>r?.organ),la()),this.organIri$=this.state$.pipe(Bt(r=>r?.organIri),la()),this.organDimensions$=this.state$.pipe(Bt(r=>r?.organDimensions),la()),this.sex$=this.state$.pipe(Bt(r=>r?.sex),la()),this.side$=this.state$.pipe(Bt(r=>r?.side),la()),this.showPrevious$=this.state$.pipe(Bt(r=>r?.showPrevious),la()),this.extractionSites$=this.state$.pipe(Bt(r=>r?.extractionSites),la()),this.anatomicalStructures$=this.state$.pipe(Bt(r=>r?.anatomicalStructures),la()),this.extractionSets$=this.state$.pipe(Bt(r=>r?.extractionSets),la())}ngxsOnInit(){super.ngxsOnInit(),this.referenceData=this.injector.get(Rm),this.page=this.injector.get(Kr),this.referenceData.state$.subscribe(()=>this.onReferenceDataChange())}idMatches(e,t){return JA.find(i=>!(!e||i.id!==e||i.side&&i.side!==t))}nameMatches(e,t){return JA.find(i=>i.side?i.organ.toLowerCase()===e&&i.side===t:i.organ.toLowerCase()===e)}setBlockSize(e){this.ctx.patchState({blockSize:e})}setRotation(e){this.ctx.patchState({rotation:e})}setPosition(e){this.ga.event("placement",`${this.snapshot.organ?.name}_placement`,`${e.x.toFixed(1)}_${e.y.toFixed(1)}_${e.z.toFixed(1)}`),this.ctx.patchState({position:e})}setSlicesConfig(e){this.ctx.patchState({slicesConfig:e})}setViewType(e){this.ctx.patchState({viewType:e})}setViewSide(e){this.ctx.patchState({viewSide:e})}get defaultPosition(){const e=this.snapshot.organDimensions;return{x:e.x+2*this.snapshot.blockSize.x,y:e.y/2,z:e.z/2}}setOrgan(e){e&&(this.ga.event("organ_select","organ",e.name),this.ctx.patchState({organ:e}),this.ctx.patchState(e.side?{side:e.side}:{side:void 0}),this.onOrganIriChange())}setOrganDefaults(){this.ctx.patchState({position:this.defaultPosition,rotation:{x:0,y:0,z:0}})}setSex(e){this.ctx.patchState({sex:e}),this.onOrganIriChange()}setSide(e){this.ctx.patchState({side:e}),this.onOrganIriChange()}setShowPrevious(e){this.ctx.patchState({showPrevious:e})}setExtractionSites(e){this.ctx.patchState({extractionSites:e})}setAnatomicalStructures(e){this.ctx.patchState({anatomicalStructures:e})}setExtractionSets(e){this.ctx.patchState({extractionSets:e})}toggleRegistrationBlocksVisibility(e,t){if(this.setShowPrevious(e),e){const i=t.map(r=>({...r,opacity:Math.min(20,r.opacity??20)}));this.setAnatomicalStructures(i)}else this.setAnatomicalStructures(t)}onOrganIriChange(){const e=this.referenceData.getReferenceOrganIri(this.snapshot.organ?.organ||"",this.snapshot.sex,this.snapshot.side,this.snapshot.organ),t={x:100,y:100,z:100};if(this.snapshot.organ?.sex&&this.ctx.patchState({sex:this.snapshot.organ?.sex}),e){const i=this.referenceData.snapshot,r={};for(const a of i.anatomicalStructures[e]||[]){const c=a.representation_of??a["@id"];r[c]||(r[c]={id:a.representation_of??a["@id"],name:a.label??"",visible:!0,opacity:20,tooltip:a.comment})}this.ctx.patchState({anatomicalStructures:[{id:"all",name:"all anatomical structures",opacity:20,visible:!0},...Object.values(r)]});const o=(i.extractionSets[e]||[]).map(a=>({name:a.label,sites:[{id:"all",name:"all landmarks",visible:!0,opacity:0}].concat((0,Qw.sortBy)(a.extractionSites.map(c=>({id:c["@id"],name:c.label??"",visible:!0,opacity:0,tooltip:c.comment})),"name"))}));this.ctx.patchState({extractionSets:o}),this.ctx.patchState({extractionSites:o.length>0?o[0].sites:[]});const s=i.organSpatialEntities[e];t.x=s.x_dimension,t.y=s.y_dimension,t.z=s.z_dimension}this.ctx.patchState({organIri:e,organDimensions:t})}onReferenceDataChange(){this.globalConfig.getOption("organ").pipe($L(),xL(0),Dr(e=>this.onOrganChange(e))).subscribe(),this.modelChanged$.pipe(function c4e(n){return _i((e,t)=>{let i=!1;const r=wn(t,()=>{r?.unsubscribe(),i=!0},ft);Zr(n).subscribe(r),e.subscribe(wn(t,o=>i&&t.next(o)))})}(this.page.registrationStarted$.pipe(vi(e=>e)))).subscribe(()=>this.page.setHasChanges())}onOrganChange(e){let t,i;if("string"==typeof e){const r=this.referenceData.getOrganData(e);i=r?.sex?.toLowerCase(),t=r?.organ}else{const r=e.name.toLowerCase(),o=e.side,s=e.ontologyId;i=e.sex?.toLowerCase(),t=this.idMatches(s,o),t||(t=this.nameMatches(r,o))}return t?(this.ctx.patchState({organ:t,sex:i,side:t?.side?.toLowerCase()}),this.referenceData.state$.pipe(tr(()=>this.onOrganIriChange()))):ea}static#e=this.\u0275fac=function(t){return new(t||nM)(et(vs),et(xi),et(qo))};static#t=this.\u0275prov=It({token:nM,factory:nM.\u0275fac})};Pt([zi(),Fe("design:type",Et),Fe("design:paramtypes",[])],gr.prototype,"modelChanged$",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],gr.prototype,"setBlockSize",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],gr.prototype,"setRotation",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],gr.prototype,"setPosition",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],gr.prototype,"setSlicesConfig",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[String]),Fe("design:returntype",void 0)],gr.prototype,"setViewType",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[String]),Fe("design:returntype",void 0)],gr.prototype,"setViewSide",null),Pt([zi(),Fe("design:type",Object),Fe("design:paramtypes",[])],gr.prototype,"defaultPosition",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",void 0)],gr.prototype,"setOrgan",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[]),Fe("design:returntype",void 0)],gr.prototype,"setOrganDefaults",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[String]),Fe("design:returntype",void 0)],gr.prototype,"setSex",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[String]),Fe("design:returntype",void 0)],gr.prototype,"setSide",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Boolean]),Fe("design:returntype",void 0)],gr.prototype,"setShowPrevious",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Array]),Fe("design:returntype",void 0)],gr.prototype,"setExtractionSites",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Array]),Fe("design:returntype",void 0)],gr.prototype,"setAnatomicalStructures",null),Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Array]),Fe("design:returntype",void 0)],gr.prototype,"setExtractionSets",null),gr=Pt([th(),Gd({name:"model",defaults:{id:"",label:"",organ:{src:"",name:""},organIri:"",organDimensions:{x:90,y:90,z:90},sex:"male",blockSize:{x:10,y:10,z:10},rotation:{x:0,y:0,z:0},position:{x:0,y:0,z:0},slicesConfig:{thickness:NaN,numSlices:NaN},viewType:"register",viewSide:"anterior",showPrevious:!1,extractionSites:[],anatomicalStructures:[],extractionSets:[]}}),Fe("design:paramtypes",[vs,xi,qo])],gr);const jQ={isolated:!0},UQ=new _t("Message service configuration",{providedIn:"root",factory:()=>jQ});let v4e=(()=>{class n{static#e=this.counter=0;constructor(t,i,r){this.source=t,this.channel=i,this.messages=r}sendMessage(t){this.channel.next({id:this.nextMessageId(),source:this.source,payload:t})}getMessages(){return this.messages.pipe(vi(t=>t.source!==this.source))}getMessagesFromSource(t){return this.getMessages().pipe(vi(i=>i.source===t))}getMessagesFromSources(t){return this.getMessages().pipe(vi(i=>t.includes(i.source)))}nextMessageId(){const t=n.counter;return n.counter++,t}}return n})();const ax=(()=>{class n{constructor(t,i){this.config=t,this.parent=i,this.channel=new rn,this.messages=t.isolated||!i?this.channel.asObservable():qr([this.channel,i.messages.pipe(S5(()=>!this.channel.closed))]).pipe(qv())}ngOnDestroy(){this.channel.complete()}connect(t){return new v4e(t,this.channel,this.messages)}static#e=this.\u0275fac=function(i){return new(i||n)(et(UQ),et(n,12))};static#t=this.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),w4e=["*"];let zT=(()=>{class n{constructor(t,i){this.className="ccf-drawer-content",this.animationsEnabled=!1,this.leftMargin=0,this.rightMargin=0,this.faded=!1,this.drawers=[],this.subscriptions=new mt;const r=t.connect(this).getMessages();this.subscriptions.add(r.subscribe(o=>{this.handleMessage(o)&&i.markForCheck()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}handleMessage(t){switch(t.payload.type){case"drawer-containers-changed":return this.drawers=t.payload.drawers,this.updateFaded(),!0;case"drawer-initialized":return this.animationsEnabled=!0,!0;case"drawer-toggled":{const i=t.source.position,{opened:r,width:o,margin:s}=t.payload;return this.updateMargin(i,r,o,s),this.updateFaded(),!0}default:return!1}}updateMargin(t,i,r,o){const s=i?r+o:o;"start"===t?this.leftMargin=s:this.rightMargin=s}updateFaded(){const[t,i]=this.drawers;this.faded=!!(t?.opened&&t?.expanded||i?.opened&&i?.expanded)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(ax),Te(Ii))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-drawer-content"]],hostVars:9,hostBindings:function(i,r){2&i&&(Iv("@fadeInOut",r.faded),Ci(r.className),zg("margin-left",r.leftMargin,"px")("margin-right",r.rightMargin,"px"),pn("cff-drawer-content-animations",r.animationsEnabled))},ngContentSelectors:w4e,decls:1,vars:0,template:function(i,r){1&i&&(vr(),Bn(0))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;z-index:2;overflow:auto}.cff-drawer-content-animations[_nghost-%COMP%]{transition-duration:.5s;transition-timing-function:ease-in-out;transition-property:margin-left,margin-right}"],data:{animation:[qc("fadeInOut",[To("false",er({opacity:1})),To("true",er({opacity:0})),ys("false <=> true",_s("1s"))])]},changeDetection:0})}return n})();const x4e=["*"],u3={params:{width:0,margin:0,margin2:0}};class E4e{constructor(){this.initialized=!1,this.deferred=new Promise(e=>{this.resolve=e})}set(){this.initialized=!0,this.resolve()}wait(){var e=this;return fn(function*(){return e.deferred})()}valueOf(){return this.initialized}}let h3=(()=>{class n{get classEnd(){return"end"===this.position}get position(){return this._position}set position(t){this._position=t||"start"}get opened(){return this._opened}set opened(t){this.toggle(mi(t))}get expanded(){return this._expanded}set expanded(t){this.toggleExpanded(mi(t))}get expandedStateObj(){return{value:this.expandedState2,params:{width:this.width,margin:this.measuredMargin,margin2:this.margin2}}}get measuredWidth(){if(this._measuredWidth>0)return this._measuredWidth;const t=this.element.nativeElement;if(!t)return 0;const i=t.getBoundingClientRect(),r=i.right-i.left;return 0===r?0:(this._measuredWidth=r,r)}get measuredMargin(){if(this._measuredMargin>0)return this._measuredMargin;const t=this.element.nativeElement;if(!t)return 0;const o=globalThis.getComputedStyle(t).getPropertyValue("start"===this.position?"margin-right":"margin-left"),s=Number(o.slice(0,-2));return this._measuredMargin=s,s}constructor(t,i,r){this.element=r,this.className="ccf-drawer",this._position="start",this._opened=!1,this._expanded=!1,this.openedChange=new qt(!0),this.expandedChange=new qt(!0),this.stateChange=new qt(!0),this.openedState="closed",this.expandedState="closed",this.expandedState2="collapsed",this._measuredWidth=0,this.width=0,this._measuredMargin=0,this.margin2=0,this.initialized=new E4e,this.subscriptions=new mt,this.channel=t.connect(this),this.subscriptions.add(this.channel.getMessages().subscribe(o=>{this.handleMessage(o)&&i.markForCheck()}))}ngAfterViewInit(){this.initialized.set(),setTimeout(()=>this.channel.sendMessage({type:"drawer-initialized"}))}ngOnDestroy(){this.subscriptions.unsubscribe()}open(){this.toggle(!0)}close(){this.toggle(!1)}toggle(t=!this.opened){this.opened!==t&&(t?this.openedState=this.initialized.valueOf()?"open":"open-instant":(this.openedState="closed",this.expandedState="closed",this.expandedState2="collapsed",this._expanded=!1),this._opened=t,this.sendToggle())}openExpanded(){this.toggleExpanded(!0)}closeExpanded(){this.toggleExpanded(!1)}toggleExpanded(t=!this.expanded){this.expanded!==t&&(t?this.expandedState=this.initialized.valueOf()?"open":"open-instant":(this.expandedState="closed",this.expandedState2="collapsed"),this._expanded=t,this.sendToggle())}closeOpenDone(){this.openedChange.emit(this.opened)}expandCollapseDone(){this.expandedChange.emit(this.expanded)}sendToggle(){var t=this;return fn(function*(){yield t.initialized.wait(),t.channel.sendMessage({type:"drawer-toggled",opened:t.opened,expanded:t.expanded,width:t.measuredWidth,margin:t.measuredMargin}),t.stateChange.emit()})()}handleMessage(t){return"drawer-toggled"===t.payload.type&&(this.syncExpanded(t.source),!0)}syncExpanded(t){(this.expanded||t.expanded)&&(this.expanded&&t.expanded?this.expandedState2=t.expandedState2="half":this.expanded?t.opened?(this.expandedState2="extended",this.width=t.measuredWidth+t.measuredMargin):(this.expandedState2="full",this.margin2=t.measuredMargin):this.opened?(t.expandedState2="extended",t.width=this.measuredWidth+this.measuredMargin):(t.expandedState2="full",t.margin2=this.measuredMargin))}static#e=this.\u0275fac=function(i){return new(i||n)(Te(ax),Te(Ii),Te(In))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-drawer"]],hostVars:10,hostBindings:function(i,r){1&i&&jC("@openClose.done",function(){return r.closeOpenDone()})("@expandCollapse.done",function(){return r.expandCollapseDone()}),2&i&&(Iv("@openClose",r.openedState)("@expandCollapse",r.expandedStateObj),Ci(r.className),pn("ccf-drawer-end",r.classEnd)("ccf-drawer-opened",r.opened)("ccf-drawer-expanded",r.expanded))},inputs:{position:"position",opened:"opened",expanded:"expanded"},outputs:{openedChange:"openedChange",expandedChange:"expandedChange",stateChange:"stateChange"},exportAs:["ccfDrawer"],ngContentSelectors:x4e,decls:2,vars:0,consts:[[1,"cff-drawer-inner-container"]],template:function(i,r){1&i&&(vr(),nt(0,"div",0),Bn(1),ot())},styles:["[_nghost-%COMP%]{display:block;position:absolute;top:0;bottom:0;z-index:2;outline:0;transform:translate3d(-100%,0,0)}.ccf-drawer-end[_nghost-%COMP%]{right:0;transform:translate3d(100%,0,0)}[_nghost-%COMP%]   .cff-drawer-inner-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch;scrollbar-width:thin}"],data:{animation:[qc("openClose",[To("open, open-instant",er({transform:"none"})),To("closed",er({})),ys("closed => open-instant",_s(0)),ys("closed <=> open, open-instant => closed",_s(".5s ease-in-out"))]),qc("expandCollapse",[To("collapsed",er({})),To("half",er({width:"calc(50% - {{ margin }}px)"}),u3),To("extended",er({width:"calc(100% - {{ width }}px - {{ margin }}px)"}),u3),To("full",er({width:"calc(100% - {{ margin }}px - {{ margin2 }}px)"}),u3),ys("* <=> *",_s(".5s ease-in-out"))])]},changeDetection:0})}return n})();function C4e(n,e){1&n&&(nt(0,"ccf-drawer-content"),Bn(1,2),ot())}const S4e=[[["ccf-drawer"]],[["ccf-drawer-content"]],"*"],A4e=["ccf-drawer","ccf-drawer-content","*"];function VQ(n){throw new Error(`Multiple drawers in position ${n}`)}let T4e=(()=>{class n{get content(){return this.content1.first??this.content2.first}get hasWrappedContent(){return 0!==this.content1.length}constructor(t,i){this.cdr=i,this.className="ccf-drawer-container",this.subscriptions=new mt,this.channel=t.connect(this),this.subscriptions.add(this.channel.getMessages().subscribe(r=>{this.handleMessage(r)&&i.markForCheck()}))}ngAfterViewInit(){this.drawers.changes.pipe(is(null)).subscribe(()=>{const t=this.validateDrawers();this.channel.sendMessage({type:"drawer-containers-changed",drawers:t}),this.cdr.markForCheck()}),this.content1.changes.pipe(is(null)).subscribe(()=>{this.channel.sendMessage({type:"content-container-changed",content:this.content}),this.cdr.markForCheck()})}ngOnDestroy(){this.subscriptions.unsubscribe()}handleMessage(t){return!0}validateDrawers(){const t=this.drawers.toArray(),i=t.filter(o=>"start"===o.position),r=t.filter(o=>"end"===o.position);return i.length>1&&VQ("start"),r.length>1&&VQ("end"),[i[0],r[0]]}static#e=this.\u0275fac=function(i){return new(i||n)(Te(ax),Te(Ii))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(dr(o,h3,5),dr(o,zT,5)),2&i){let s;An(s=Tn())&&(r.drawers=s),An(s=Tn())&&(r.content1=s)}},viewQuery:function(i,r){if(1&i&&Di(zT,5),2&i){let o;An(o=Tn())&&(r.content2=o)}},hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.className)},exportAs:["ccfDrawerContainer"],features:[Yn([ax])],ngContentSelectors:A4e,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(i,r){1&i&&(vr(S4e),Bn(0),Bn(1,1),hn(2,C4e,2,0,"ccf-drawer-content",0)),2&i&&(pt(2),Ot("ngIf",!r.hasWrappedContent))},dependencies:[Ha,zT],styles:["[_nghost-%COMP%]{display:block;position:relative;z-index:1;overflow:hidden;-webkit-overflow-scrolling:touch}"],changeDetection:0})}return n})(),M4e=(()=>{class n{get classEnd(){return"end"===this.position}get icon(){let t="arrow_right",i="arrow_left";return"end"===this.position&&([t,i]=[i,t]),this.opened?i:t}constructor(t,i,r){this.drawer=t,this.cdr=r,this.className="ccf-drawer-toggle-button",this.position="start",this.opened=!1,this.subscriptions=new mt;const o=i.connect(this);this.subscriptions.add(o.getMessagesFromSource(t).subscribe(s=>{this.handleMessage(s)&&r.markForCheck()}))}ngAfterViewInit(){setTimeout(()=>{this.position=this.drawer.position,this.cdr.markForCheck()})}ngOnDestroy(){this.subscriptions.unsubscribe()}handleMessage(t){return"drawer-toggled"===t.payload.type&&(this.opened=t.payload.opened,!0)}toggle(){const t=this.drawer,{opened:i,expanded:r}=t;i?r?t.closeExpanded():t.close():t.open()}static#e=this.\u0275fac=function(i){return new(i||n)(Te(h3),Te(ax),Te(Ii))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-drawer-toggle-button"]],hostVars:4,hostBindings:function(i,r){2&i&&(Ci(r.className),pn("ccf-drawer-toggle-button-end",r.classEnd))},decls:4,vars:4,consts:[["aria-hidden","false","aria-label","Close side drawer",1,"expand-collapse-icon",3,"click"]],template:function(i,r){1&i&&(nt(0,"mat-icon",0),Ft("click",function(){return r.toggle()}),Wt(1," arrow_right\n"),ot(),nt(2,"mat-icon",0),Ft("click",function(){return r.toggle()}),Wt(3," arrow_left\n"),ot()),2&i&&(pn("hidden","arrow_left"===r.icon),pt(2),pn("hidden","arrow_right"===r.icon))},dependencies:[na],styles:["[_nghost-%COMP%]{position:absolute;top:calc(50% - 2.0625rem);right:-1.0625rem;width:1.0625rem;height:3rem;border-radius:0rem .25rem .25rem 0rem;cursor:pointer;transition:.25s}.ccf-drawer-toggle-button-end[_nghost-%COMP%]{right:unset;left:calc(-1rem - 1px);border-radius:.25rem 0rem 0rem .25rem}[_nghost-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]{position:absolute;right:0rem;transition:.6s;padding-left:.15rem}[_nghost-%COMP%]   .expand-collapse-icon.hidden[_ngcontent-%COMP%]{opacity:0}.ccf-drawer-toggle-button-end[_nghost-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]{right:unset;left:-.25rem}.mat-icon[_ngcontent-%COMP%]{right:.3rem;top:.675rem;padding-top:.05rem}"],changeDetection:0})}return n})();const I4e=["tooltip"],HQ=new _t("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const n=jt(rs);return()=>n.scrollStrategies.reposition({scrollThrottle:20})}}),O4e={provide:HQ,deps:[rs],useFactory:function D4e(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},P4e=new _t("mat-tooltip-default-options",{providedIn:"root",factory:function R4e(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),GQ="tooltip-panel",WQ=s_({passive:!0});let zl=(()=>{class n{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=mi(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=mi(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=gs(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=gs(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,i,r,o,s,a,c,l,d,h,f,m){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=c,this._focusMonitor=l,this._dir=h,this._defaultOptions=f,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=j4e,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new rn,this._scrollStrategy=d,this._document=m,f&&(this._showDelay=f.showDelay,this._hideDelay=f.hideDelay,f.position&&(this.position=f.position),f.positionAtOrigin&&(this.positionAtOrigin=f.positionAtOrigin),f.touchGestures&&(this.touchGestures=f.touchGestures)),h.change.pipe(Ei(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ei(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,WQ)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new g_(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Ei(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&o._origin instanceof In)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Ei(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${GQ}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ei(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ei(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ei(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!Ga(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(cr(1),Ei(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:o}=t;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const c=`${this._cssClassPrefix}-${GQ}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(i=t),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const i=t.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,WQ)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(i){return new(i||n)(Te(rs),Te(In),Te(E5),Te(ms),Te(gn),Te(ao),Te(Xde),Te(Fu),Te(HQ),Te(Il),Te(P4e,8),Te(Qn))};static#t=this.\u0275dir=Jt({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&pn("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),j4e=(()=>{class n{constructor(t,i,r){this._changeDetectorRef=t,this._elementRef=i,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new rn,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===r}show(t){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(t?o:r),i.classList.add(t?r:o),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Ii),Te(In),Te(ro,8))};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&Di(I4e,7),2&i){let o;An(o=Tn())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,r){1&i&&Ft("mouseleave",function(s){return r._handleMouseLeave(s)}),2&i&&zg("zoom",r.isVisible()?1:null)},decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,r){1&i&&(nt(0,"div",0,1),Ft("animationend",function(s){return r._handleAnimationEnd(s)}),nt(2,"div",2),Wt(3),ot()()),2&i&&(pn("mdc-tooltip--multiline",r._isMultiline),Ot("ngClass",r.tooltipClass),pt(3),So(r.message))},dependencies:[m1],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return n})(),ol=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({providers:[O4e],imports:[g8,Oi,_0,nr,nr,$1]})}return n})();function U4e(n,e){1&n&&pO(0)}function V4e(n,e){if(1&n){const t=Co();nt(0,"div",4),Ft("click",function(){return Fi(t),Jn(Sn().page.cancelRegistration())}),nt(1,"mat-icon",5),Wt(2,"chevron_left"),ot(),nt(3,"span",6),Wt(4,"BACK"),ot()()}}function z4e(n,e){if(1&n&&(nt(0,"a",7),_n(1,"div",8),ot()),2&n){const t=Sn();Ot("href",t.homeUrl,Sg)("matTooltip",t.logoTooltip)}}let H4e=(()=>{class n{constructor(t){this.page=t,this.clsName="ccf-header"}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Kr))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-header"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},inputs:{homeUrl:"homeUrl",logoTooltip:"logoTooltip"},decls:7,vars:5,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["backButton",""],["logo",""],[1,"filler"],["rel","noreferrer noopener",1,"link","home",3,"click"],[1,"icon","backbutton"],[1,"text"],["rel","noreferrer noopener","matTooltipPosition","right",1,"link","portal",3,"href","matTooltip"],["aria-hidden","false","aria-label","Reset tool",1,"logo"]],template:function(i,r){if(1&i&&(hn(0,U4e,1,0,"ng-container",0),ei(1,"async"),hn(2,V4e,5,0,"ng-template",null,1,Lv)(4,z4e,2,2,"ng-template",null,2,Lv),_n(6,"div",3)),2&i){const o=ts(3),s=ts(5);Ot("ngIf",ni(1,3,r.page.useCancelRegistrationCallback$))("ngIfThen",o)("ngIfElse",s)}},dependencies:[Ha,na,zl,vd],styles:["[_nghost-%COMP%]{display:flex;align-items:center;min-height:4rem;padding:0 1.5rem;border-bottom-width:1px;border-bottom-style:solid}[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{padding:.25rem 0;height:2rem;display:flex;align-items:center;font-weight:lighter;font-size:1.5rem}[_nghost-%COMP%]   .link[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;text-decoration:none;padding:.25rem 0}[_nghost-%COMP%]   .home[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:color .6s}[_nghost-%COMP%]   .home[_ngcontent-%COMP%]   .backbutton[_ngcontent-%COMP%]{font-size:2.25rem;width:2.25rem;height:2.25rem}[_nghost-%COMP%]   .portal[_ngcontent-%COMP%]{height:100%;width:25rem;align-items:center;display:flex}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{width:100%;height:50%;background-repeat:no-repeat;background-size:contain}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1;margin:0}"],changeDetection:0})}return n})();function $Q(n,e){return ta((t,i)=>e?e(t[n],i[n]):t[n]===i[n])}const G4e=["input"],W4e=["*"];let XQ=0;class YQ{constructor(e,t){this.source=e,this.value=t}}const $4e={provide:ks,useExisting:fe(()=>f3),multi:!0},qQ=new _t("MatRadioGroup"),X4e=new _t("mat-radio-default-options",{providedIn:"root",factory:function Y4e(){return{color:"accent"}}});let f3=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=mi(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=mi(t),this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+XQ++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new qt}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new YQ(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Ii))};static#t=this.\u0275dir=Jt({type:n,selectors:[["mat-radio-group"]],contentQueries:function(i,r,o){if(1&i&&dr(o,p3,5),2&i){let s;An(s=Tn())&&(r._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[Yn([$4e,{provide:qQ,useExisting:n}])]})}return n})();class q4e{constructor(e){this._elementRef=e}}const K4e=I1(h_(q4e));let p3=(()=>{class n extends K4e{get checked(){return this._checked}set checked(t){const i=mi(t);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(mi(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=mi(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a,c,l){super(i),this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=s,this._providerOverride=c,this._uniqueId="mat-radio-"+ ++XQ,this.id=this._uniqueId,this.change=new qt,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===a,l&&(this.tabIndex=gs(l,0))}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,i)=>{t!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new YQ(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let i;if(i=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}static#e=this.\u0275fac=function(i){return new(i||n)(Te(qQ,8),Te(In),Te(Ii),Te(Fu),Te(DL),Te(ro,8),Te(X4e,8),qs("tabindex"))};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-radio-button"]],viewQuery:function(i,r){if(1&i&&Di(G4e,5),2&i){let o;An(o=Tn())&&(r._inputElement=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(i,r){1&i&&Ft("focus",function(){return r._inputElement.nativeElement.focus()}),2&i&&(oi("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),pn("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],features:[Gn],ngContentSelectors:W4e,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,r){if(1&i&&(vr(),nt(0,"div",0,1)(2,"div",2)(3,"div",3),Ft("click",function(s){return r._onTouchTargetClick(s)}),ot(),nt(4,"input",4,5),Ft("change",function(s){return r._onInputInteraction(s)}),ot(),nt(6,"div",6),_n(7,"div",7)(8,"div",8),ot(),nt(9,"div",9),_n(10,"div",10),ot()(),nt(11,"label",11),Bn(12),ot()()),2&i){const o=ts(1);pn("mdc-form-field--align-end","before"==r.labelPosition),pt(2),pn("mdc-radio--disabled",r.disabled),pt(2),Ot("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),oi("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),pt(5),Ot("matRippleTrigger",o)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),pt(2),Ot("for",r.inputId)}},dependencies:[Wa],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return n})(),KQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[nr,Oi,mc,nr]})}return n})();const J4e=["switch"];function Q4e(n,e){1&n&&(nt(0,"div",12),wh(),nt(1,"svg",13),_n(2,"path",14),ot(),nt(3,"svg",15),_n(4,"path",16),ot()())}const Z4e=["*"],eHe=new _t("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),tHe={provide:ks,useExisting:fe(()=>QQ),multi:!0};class JQ{constructor(e,t){this.source=e,this.checked=t}}let nHe=0,QQ=(()=>{class n{_createChangeEvent(t){return new JQ(this,t)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a){this._elementRef=t,this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=s,this._onChange=c=>{},this._onTouched=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new qt,this.toggleChange=new qt,this.tabIndex=parseInt(o)||0,this.color=s.color||"accent",this._noopAnimations="NoopAnimations"===a,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++nHe,this.hideIcon=s.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new JQ(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In),Te(Fu),Te(Ii),qs("tabindex"),Te(eHe),Te(ro,8))};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(1&i&&Di(J4e,5),2&i){let o;An(o=Tn())&&(r._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,r){2&i&&(Zs("id",r.id),oi("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Ci(r.color?"mat-"+r.color:""),pn("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:["disabled","disabled",Xi],disableRipple:["disableRipple","disableRipple",Xi],color:"color",tabIndex:["tabIndex","tabIndex",t=>null==t?0:P4(t)],name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:["required","required",Xi],checked:["checked","checked",Xi],hideIcon:["hideIcon","hideIcon",Xi]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[Yn([tHe]),gd],ngContentSelectors:Z4e,decls:13,vars:25,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(1&i&&(vr(),nt(0,"div",0)(1,"button",1,2),Ft("click",function(){return r._handleClick()}),_n(3,"div",3),nt(4,"div",4)(5,"div",5)(6,"div",6),_n(7,"div",7),ot(),nt(8,"div",8),_n(9,"div",9),ot(),hn(10,Q4e,5,0,"div",10),ot()()(),nt(11,"label",11),Ft("click",function(s){return s.stopPropagation()}),Bn(12),ot()()),2&i){const o=ts(2);pn("mdc-form-field--align-end","before"==r.labelPosition),pt(1),pn("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),Ot("tabIndex",r.disabled?-1:r.tabIndex)("disabled",r.disabled),oi("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),pt(8),Ot("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),pt(1),Vi(10,r.hideIcon?-1:10),pt(1),Ot("for",r.buttonId),oi("id",r._labelId)}},dependencies:[Wa],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle .mdc-label{font-family:var(--mat-slide-toggle-label-text-font);font-size:var(--mat-slide-toggle-label-text-size);letter-spacing:var(--mat-slide-toggle-label-text-tracking);line-height:var(--mat-slide-toggle-label-text-line-height);font-weight:var(--mat-slide-toggle-label-text-weight)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0})}return n})(),ZQ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({})}return n})(),oHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[ZQ,nr,mc,ZQ,nr]})}return n})(),sHe=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-labeled-slide-toggle",this.labels=["Left","Right"],this.value="Left",this.disabled=!1,this.valueChange=new qt}get left(){const{value:t,labels:i}=this;return t!==i[1]}updateToggle(t){this.value=t?this.labels[0]:this.labels[1],this.ga.event("slide_toggle_toggled","slide_toggle",this.value),this.valueChange.emit(this.value)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(vs))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-labeled-slide-toggle"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},inputs:{labels:"labels",value:"value",disabled:"disabled"},outputs:{valueChange:"valueChange"},decls:6,vars:12,consts:[[1,"slide-label",3,"click"],["hideIcon","",1,"slider",3,"disabled","checked","change"],["toggle",""]],template:function(i,r){if(1&i){const o=Co();nt(0,"span",0),Ft("click",function(){Fi(o);const a=ts(3);return r.left||a.toggle(),Jn(r.updateToggle(!0))}),Wt(1),ot(),nt(2,"mat-slide-toggle",1,2),Ft("change",function(a){return r.updateToggle(!a.checked)}),ot(),nt(4,"span",0),Ft("click",function(){Fi(o);const a=ts(3);return r.left&&a.toggle(),Jn(r.updateToggle(!1))}),Wt(5),ot()}2&i&&(pn("disabled",r.disabled)("highlighted",r.left),pt(1),oo(" ",r.labels[0],"\n"),pt(1),Ot("disabled",r.disabled)("checked",!r.left),pt(2),pn("disabled",r.disabled)("highlighted",!r.left),pt(1),oo(" ",r.labels[1],"\n"))},dependencies:[QQ],styles:["[_nghost-%COMP%]   .slide-label[_ngcontent-%COMP%]{margin:0 1rem;transition:color .6s;cursor:pointer}[_nghost-%COMP%]   .disabled[_ngcontent-%COMP%]{opacity:30%;cursor:not-allowed}"],changeDetection:0})}return n})();const aHe=["label"],cHe=["options"],lHe=()=>["Register","3D\xa0Preview"];let dHe=(()=>{class n{set useDropdownMenu(t){this.isDropdownActive=t,this.isDropdownHidden=!0}get labelEl(){return this.labelRef.nativeElement}get optionsEl(){return this.optionsRef.nativeElement}constructor(t){this.ga=t,this.clsName="ccf-stage-nav",this.side="anterior",this.view3D=!1,this.sideChange=new qt,this.view3DChange=new qt,this.isDropdownActive=!1,this.isDropdownHidden=!0}handleClick(t){const{isDropdownHidden:i,labelEl:r,optionsEl:o}=this;r.contains(t)?this.isDropdownHidden=!i:o.contains(t)||(this.isDropdownHidden=!0)}updateSide(t){this.ga.event("side_update","stage_nav",t),"3D"===t?this.updateView(!0):(this.updateView(!1),this.side=t,this.sideChange.emit(this.side))}updateView(t){this.view3D=t,this.ga.event("view_update","stage_nav",t?"3D":"Register"),this.view3DChange.emit(this.view3D)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(vs))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-stage-nav"]],viewQuery:function(i,r){if(1&i&&(Di(aHe,7),Di(cHe,7)),2&i){let o;An(o=Tn())&&(r.labelRef=o.first),An(o=Tn())&&(r.optionsRef=o.first)}},hostVars:2,hostBindings:function(i,r){1&i&&Ft("click",function(s){return r.handleClick(s.target)},0,Rh),2&i&&Ci(r.clsName)},inputs:{useDropdownMenu:"useDropdownMenu",side:"side",view3D:"view3D"},outputs:{sideChange:"sideChange",view3DChange:"view3DChange"},decls:18,vars:10,consts:[[1,"dropdown-label"],["label",""],[1,"stage-options"],["options",""],[1,"input-group",3,"value","change"],["value","left",1,"nav-input"],["value","right",1,"nav-input"],["value","anterior","checked","",1,"nav-input"],["value","posterior",1,"nav-input"],["matTooltip","Change view.",1,"view-slider",3,"labels","value","valueChange"]],template:function(i,r){1&i&&(nt(0,"div",0,1)(2,"mat-label"),Wt(3,"Options"),ot(),nt(4,"mat-icon"),Wt(5,"arrow_drop_down"),ot()(),nt(6,"div",2,3)(8,"mat-radio-group",4),Ft("change",function(s){return r.updateSide(s.value)}),nt(9,"mat-radio-button",5),Wt(10,"Left"),ot(),nt(11,"mat-radio-button",6),Wt(12,"Right"),ot(),nt(13,"mat-radio-button",7),Wt(14,"Anterior"),ot(),nt(15,"mat-radio-button",8),Wt(16,"Posterior"),ot()(),nt(17,"ccf-labeled-slide-toggle",9),Ft("valueChange",function(s){return r.updateView("Register"!==s)}),ot()()),2&i&&(pn("dropdown",r.isDropdownActive),pt(6),pn("dropdowncontainer",r.isDropdownActive)("hidden",r.isDropdownActive&&r.isDropdownHidden),pt(2),Ot("value",r.side),pt(9),Ot("labels",Tp(9,lHe))("value",r.view3D?"3D\xa0Preview":"Register"))},dependencies:[f3,p3,Qh,na,sHe,zl],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap}[_nghost-%COMP%]   .dropdown-label[_ngcontent-%COMP%]{display:none;align-items:center}[_nghost-%COMP%]   .dropdown-label[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .dropdown-label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:1.5rem}[_nghost-%COMP%]   .dropdown-label.dropdown[_ngcontent-%COMP%]{display:flex;cursor:pointer;align-items:start}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .nav-input[_ngcontent-%COMP%]{margin-right:1rem;margin-bottom:1.5rem}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]     .mdc-label{font-size:1.25rem}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]{white-space:nowrap;display:flex}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]     .slider{display:flex}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]     .slide-label{font-size:1.25rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:.25rem;position:absolute;top:3.5rem;z-index:11;transition:opacity .25s}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{margin-top:.5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{margin-bottom:.5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin-left:.875rem;margin-right:0;display:flex;flex-wrap:wrap}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .nav-input[_ngcontent-%COMP%]{display:flex;margin:0;margin-right:.875rem;height:2.5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .nav-input[_ngcontent-%COMP%]     .mdc-label{padding-left:0}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;margin:0 .5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{visibility:visible;border-top:2px solid}[_nghost-%COMP%]   .stage-options.hidden[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transition:visibility .25s,opacity .25s}[_nghost-%COMP%]   .stage-options.hidden[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0})}return n})();function uHe(n,e){if(1&n&&(nt(0,"mat-icon",8),Wt(1),ot()),2&n){const t=e.$implicit;pn("active",Sn().currentKey===t.key),pt(1),oo("",t.direction," ")}}function hHe(n,e){1&n&&(nt(0,"div",9),Wt(1,"SHIFT"),ot())}let fHe=(()=>{class n{constructor(){this.className="ccf-spatial-search-keyboard-ui",this.keyClicked=new qt,this.keyHovered=new qt,this.keyMap=[{key:"w",direction:"north"},{key:"s",direction:"south"},{key:"a",direction:"west"},{key:"d",direction:"east"},{key:"e",direction:"north_east"},{key:"q",direction:"south_west"}]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-spatial-search-keyboard-ui"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.className)},inputs:{currentKey:"currentKey",shiftPressed:"shiftPressed"},outputs:{keyClicked:"keyClicked",keyHovered:"keyHovered"},decls:18,vars:14,consts:[[1,"direction-arrow"],["class","arrow",3,"active",4,"ngFor","ngForOf"],[1,"keys"],[1,"keyrow"],[1,"key","blue",3,"mousedown","mouseover","mouseout"],[1,"key","green",3,"mousedown","mouseover","mouseout"],[1,"key","red",3,"mousedown","mouseover","mouseout"],["class","shift",4,"ngIf"],[1,"arrow"],[1,"shift"]],template:function(i,r){1&i&&(nt(0,"div",0),hn(1,uHe,2,3,"mat-icon",1),ot(),nt(2,"div",2)(3,"div",3)(4,"div",4),Ft("mousedown",function(){return r.keyClicked.emit("q")})("mouseover",function(){return r.keyHovered.emit("q")})("mouseout",function(){return r.keyHovered.emit()}),Wt(5," Q "),ot(),nt(6,"div",5),Ft("mousedown",function(){return r.keyClicked.emit("w")})("mouseover",function(){return r.keyHovered.emit("w")})("mouseout",function(){return r.keyHovered.emit()}),Wt(7," W "),ot(),nt(8,"div",4),Ft("mousedown",function(){return r.keyClicked.emit("e")})("mouseover",function(){return r.keyHovered.emit("e")})("mouseout",function(){return r.keyHovered.emit()}),Wt(9," E "),ot()(),nt(10,"div",3)(11,"div",6),Ft("mousedown",function(){return r.keyClicked.emit("a")})("mouseover",function(){return r.keyHovered.emit("a")})("mouseout",function(){return r.keyHovered.emit()}),Wt(12," A "),ot(),nt(13,"div",5),Ft("mousedown",function(){return r.keyClicked.emit("s")})("mouseover",function(){return r.keyHovered.emit("s")})("mouseout",function(){return r.keyHovered.emit()}),Wt(14," S "),ot(),nt(15,"div",6),Ft("mousedown",function(){return r.keyClicked.emit("d")})("mouseover",function(){return r.keyHovered.emit("d")})("mouseout",function(){return r.keyHovered.emit()}),Wt(16," D "),ot()(),hn(17,hHe,2,0,"div",7),ot()),2&i&&(pt(1),Ot("ngForOf",r.keyMap),pt(3),pn("highlighted","q"===r.currentKey),pt(2),pn("highlighted","w"===r.currentKey),pt(2),pn("highlighted","e"===r.currentKey),pt(3),pn("highlighted","a"===r.currentKey),pt(2),pn("highlighted","s"===r.currentKey),pt(2),pn("highlighted","d"===r.currentKey),pt(2),Ot("ngIf",r.shiftPressed))},dependencies:[Xc,Ha,na],styles:["[_nghost-%COMP%]   .direction-arrow[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,.5fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;margin-bottom:1rem;width:7rem}[_nghost-%COMP%]   .direction-arrow[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{grid-area:1/3/2/4;opacity:0;transition:.5s}[_nghost-%COMP%]   .direction-arrow[_ngcontent-%COMP%]   .arrow.active[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:0;gap:.5rem;width:7rem;height:7rem;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]   .keyrow[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:0;gap:.5rem}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]   .keyrow[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:.25rem;width:2rem;height:2rem;border:2px solid;border-radius:.5rem;cursor:pointer}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]   .shift[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:.25rem;width:7rem;height:2rem;border:2px solid;border-radius:.5rem}"],changeDetection:0})}return n})(),pHe=(()=>{class n{constructor(){this.className="ccf-spatial-search-keyboard-ui-behavior",this.delta=1,this.shiftDelta=2,this.disablePositionChange=!1,this.changePosition=new qt,this.shiftPressed=!1}updatePosition(t){if(this.currentDelta=this.shiftPressed?this.shiftDelta:this.delta,"Shift"===t)this.shiftPressed=!0;else{switch(this.currentKey=t.toLowerCase(),this.currentKey){case"q":this.position={...this.position,z:this.position.z+this.currentDelta};break;case"e":this.position={...this.position,z:this.position.z-this.currentDelta};break;case"w":this.position={...this.position,y:this.position.y+this.currentDelta};break;case"s":this.position={...this.position,y:this.position.y-this.currentDelta};break;case"a":this.position={...this.position,x:this.position.x-this.currentDelta};break;case"d":this.position={...this.position,x:this.position.x+this.currentDelta}}this.changePosition.emit(this.position)}}handleKey(t){this.disablePositionChange||(t.preventDefault(),this.updatePosition(t.key))}keyUp(t){"Shift"===t.key?this.shiftPressed=!1:this.currentKey=void 0}keyClick(t){this.updatePosition(t)}keyHover(t){this.currentKey=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-spatial-search-keyboard-ui-behavior"]],hostVars:2,hostBindings:function(i,r){1&i&&Ft("keydown",function(s){return r.handleKey(s)},0,Rh)("keyup",function(s){return r.keyUp(s)},!1,Rh),2&i&&Ci(r.className)},inputs:{delta:"delta",shiftDelta:"shiftDelta",position:"position",disablePositionChange:"disablePositionChange"},outputs:{changePosition:"changePosition"},decls:1,vars:2,consts:[[3,"currentKey","shiftPressed","keyClicked","keyHovered"]],template:function(i,r){1&i&&(nt(0,"ccf-spatial-search-keyboard-ui",0),Ft("keyClicked",function(s){return r.keyClick(s)})("keyHovered",function(s){return r.keyHover(s)}),ot()),2&i&&Ot("currentKey",r.currentKey)("shiftPressed",r.shiftPressed)},dependencies:[fHe],encapsulation:2,changeDetection:0})}return n})();const eZ=()=>[];function mHe(n,e){if(1&n){const t=Co();nt(0,"ccf-body-ui",17),Ft("rotationChange",function(r){Fi(t),Sn();const o=ts(13);return o.rotation=r[0],Jn(o.rotationX=r[1])}),ei(1,"async"),ei(2,"async"),ei(3,"async"),ot()}if(2&n){const t=Sn();let i,r;Ot("scene",null!==(i=ni(1,5,t.scene.nodes$))&&void 0!==i?i:Tp(11,eZ))("rotation",null!==(r=ni(2,7,t.scene.rotation$))&&void 0!==r?r:0)("bounds",ni(3,9,t.bounds$))("zoom",11.5)("interactive",!0)}}function gHe(n,e){if(1&n){const t=Co();nt(0,"ccf-body-ui",18),Ft("nodeDrag",function(r){return Fi(t),Jn(Sn().handleNodeDrag(r))}),ei(1,"async"),ei(2,"async"),ot()}if(2&n){const t=Sn();let i;Ot("scene",null!==(i=ni(1,4,t.scene.rotatedNodes$))&&void 0!==i?i:Tp(8,eZ))("interactive",!1)("bounds",ni(2,6,t.bounds$))("zoom",11.5)}}function _He(n,e){if(1&n&&(_n(0,"ccf-spatial-search-keyboard-ui-behavior",19),ei(1,"async")),2&n){const t=Sn();Ot("delta",1)("shiftDelta",2)("position",ni(1,4,t.position$))("disablePositionChange",t.disablePositionChange)}}function yHe(n,e){1&n&&_n(0,"ccf-store-debug",20)}function bHe(n,e){if(1&n){const t=Co();nt(0,"div",21)(1,"button",22),Ft("click",function(){Fi(t);const r=Sn();return Jn(r.debugMode=!r.debugMode)}),Wt(2,"State"),ot(),nt(3,"button",23),Ft("click",function(){return Fi(t),Jn(Sn().registration.setUseRegistrationCallback(!0))}),Wt(4,"Use callback"),ot(),nt(5,"button",23),Ft("click",function(){return Fi(t),Jn(Sn().registration.setUseRegistrationCallback(!1))}),Wt(6,"Use download"),ot()()}}let vHe=(()=>{class n{constructor(t,i,r,o,s,a){this.model=t,this.page=i,this.registration=r,this.scene=o,this.rootRef=s,this.cdr=a,this.clsName="ccf-content",this.disablePositionChange=!1,this.position$=this.model.position$.pipe(Bt(c=>({x:Math.floor(c.x),y:Math.floor(c.y),z:Math.floor(c.z)}))),this.is3DView$=this.model.viewType$.pipe(Bt(c=>"3d"===c)),this.bounds$=this.model.organDimensions$.pipe(Bt(c=>({x:Math.max(c.x,this.model.defaultPosition.x+40)/1e3,y:Math.max(c.y,this.model.defaultPosition.y+40)/1e3,z:Math.max(c.z,this.model.defaultPosition.z+40)/1e3})),$Q("x"),$Q("y")),this.isNarrowView=!1,this.debugMode=!1,this.showDebugButtons=!1}ngOnInit(){this.sensor=new wNe.ResizeSensor(this.rootRef.nativeElement,({width:t})=>{const i=t<440;this.isNarrowView!==i&&(this.isNarrowView=i,this.cdr.markForCheck())})}ngOnDestroy(){this.sensor.detach()}setViewType(t){this.model.setViewType(t?"3d":"register")}resetStage(){this.registration.snapshot.initialRegistration?this.registration.setToInitialRegistration():this.model.setOrganDefaults(),this.model.setViewSide("anterior"),this.model.setViewType("register")}handleNodeDrag(t){if("#DraftPlacement"===t.node["@id"]&&t.info.coordinate){const[i,r]=t.info.coordinate.map(d=>1e3*d),{position:o,viewSide:s,organDimensions:a}=this.model.snapshot,c=[a.x,a.y,a.z].map(d=>d/2);let l=o;switch(s){case"anterior":l={x:i+c[0],y:r+c[1],z:o.z};break;case"posterior":l={x:-i+c[0],y:r+c[1],z:o.z};break;case"left":l={x:o.x,y:r+c[1],z:-i+c[2]};break;case"right":l={x:o.x,y:r+c[1],z:i+c[2]}}this.model.setPosition(l)}}static#e=this.\u0275fac=function(i){return new(i||n)(Te(gr),Te(Kr),Te(ho),Te(da),Te(In),Te(Ii))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-content"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},inputs:{disablePositionChange:"disablePositionChange"},decls:31,vars:37,consts:[[1,"top-bar"],[3,"useDropdownMenu","view3D","side","view3DChange","sideChange"],["matRipple","","matRippleColor","rgba(204, 204, 204, 0.25)",1,"icon","reset",3,"matRippleCentered","matRippleUnbounded","click"],[1,"main-content"],["class","body-ui","camera","perspective",3,"scene","rotation","bounds","zoom","interactive","rotationChange",4,"ngIf"],["class","body-ui","camera","orthographic",3,"scene","interactive","bounds","zoom","nodeDrag",4,"ngIf"],[1,"gizmo-area"],[1,"gizmo",3,"scene","rotation","interactive","zoom"],["gizmo",""],[3,"delta","shiftDelta","position","disablePositionChange",4,"ngIf"],[1,"position-display"],[1,"position"],[1,"x"],[1,"y"],[1,"z"],["class","debug",4,"ngIf"],["style","\n    position: absolute;\n    bottom: 1rem;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    width: 7rem;\n  ",4,"ngIf"],["camera","perspective",1,"body-ui",3,"scene","rotation","bounds","zoom","interactive","rotationChange"],["camera","orthographic",1,"body-ui",3,"scene","interactive","bounds","zoom","nodeDrag"],[3,"delta","shiftDelta","position","disablePositionChange"],[1,"debug"],[2,"position","absolute","bottom","1rem","display","flex","flex-direction","row","justify-content","space-between","width","7rem"],[2,"width","3rem","font-size","0.7rem",3,"click"],[3,"click"]],template:function(i,r){if(1&i&&(nt(0,"div",0)(1,"ccf-stage-nav",1),Ft("view3DChange",function(s){return r.setViewType(s)})("sideChange",function(s){return r.model.setViewSide(s)}),ei(2,"async"),ei(3,"async"),ot(),nt(4,"mat-icon",2),Ft("click",function(){return r.resetStage()}),Wt(5,"refresh"),ot()(),nt(6,"div",3),hn(7,mHe,4,12,"ccf-body-ui",4),ei(8,"async"),hn(9,gHe,3,9,"ccf-body-ui",5),ei(10,"async"),nt(11,"div",6),_n(12,"ccf-body-ui",7,8),ei(14,"async"),ei(15,"async"),hn(16,_He,2,6,"ccf-spatial-search-keyboard-ui-behavior",9),ei(17,"async"),nt(18,"div",10)(19,"div",11)(20,"div",12),Wt(21),ei(22,"async"),ot(),nt(23,"div",13),Wt(24),ei(25,"async"),ot(),nt(26,"div",14),Wt(27),ei(28,"async"),ot()()()()(),hn(29,yHe,1,0,"ccf-store-debug",15)(30,bHe,7,0,"div",16)),2&i){let o,s,a,c,l;pt(1),Ot("useDropdownMenu",r.isNarrowView)("view3D",null!==(o=ni(2,17,r.is3DView$))&&void 0!==o&&o)("side",ni(3,19,r.model.viewSide$)),pt(3),Ot("matRippleCentered",!0)("matRippleUnbounded",!0),pt(3),Ot("ngIf","3d"===ni(8,21,r.model.viewType$)),pt(2),Ot("ngIf","register"===ni(10,23,r.model.viewType$)),pt(3),Ot("scene",ni(14,25,r.scene.gizmo$))("rotation",null!==(s=ni(15,27,r.scene.rotation$))&&void 0!==s?s:0)("interactive",!1)("zoom",9.5),pt(4),Ot("ngIf",ni(17,29,r.page.registrationStarted$)),pt(5),oo("X: ",null==(a=ni(22,31,r.position$))?null:a.x,""),pt(3),oo("Y: ",null==(c=ni(25,33,r.position$))?null:c.y,""),pt(3),oo("Z: ",null==(l=ni(28,35,r.position$))?null:l.z,""),pt(2),Ot("ngIf",r.showDebugButtons&&r.debugMode),pt(1),Ot("ngIf",r.showDebugButtons)}},dependencies:[Ha,dHe,na,t2e,Wa,pHe,GPe,vd],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;padding:.5rem;overflow:hidden}[_nghost-%COMP%]   .top-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .top-bar[_ngcontent-%COMP%]   .reset[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s;font-size:2rem;height:2rem;width:2rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .minimap-scene[_ngcontent-%COMP%]{margin:1.5rem;width:12.75rem;height:11rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .minimap-scene[_ngcontent-%COMP%]     .body-ui{background-color:#232f3a}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   ccf-spatial-search-keyboard-ui-behavior[_ngcontent-%COMP%]{margin:1.5rem;display:flex;justify-content:center}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   ccf-xyz-position[_ngcontent-%COMP%]{margin:1.5rem;padding-left:5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]{display:flex;height:calc(100% - 1rem)}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .body-ui[_ngcontent-%COMP%]{flex:auto;transition:opacity 1s}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]{width:7rem;margin-top:1.5rem;margin-left:1.5rem;z-index:10;right:1.5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]   .position-display[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1.5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]   .gizmo[_ngcontent-%COMP%]{height:5.5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]   .gizmo[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{opacity:0;z-index:0}[_nghost-%COMP%]   .ccf-store-debug[_ngcontent-%COMP%]{color:#fff;position:absolute;top:.5rem;max-width:55rem}"],changeDetection:0})}return n})(),tZ=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=mi(t)}get inset(){return this._inset}set inset(t){this._inset=mi(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){2&i&&(oi("aria-orientation",r.vertical?"vertical":"horizontal"),pn("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,r){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return n})(),m3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[nr,nr]})}return n})();const wHe=["trigger"],xHe=["panel"];function EHe(n,e){if(1&n&&(nt(0,"span",9),Wt(1),ot()),2&n){const t=Sn();pt(1),So(t.placeholder)}}function CHe(n,e){1&n&&Bn(0)}function SHe(n,e){if(1&n&&(nt(0,"span",11),Wt(1),ot()),2&n){const t=Sn(2);pt(1),So(t.triggerValue)}}function AHe(n,e){if(1&n&&(nt(0,"span",10),hn(1,CHe,1,0)(2,SHe,2,1),ot()),2&n){const t=Sn();pt(1),Vi(1,t.customTrigger?1:2)}}function THe(n,e){if(1&n){const t=Co();wh(),Km(),nt(0,"div",12,13),Ft("@transformPanel.done",function(r){return Fi(t),Jn(Sn()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return Fi(t),Jn(Sn()._handleKeydown(r))}),Bn(2,1),ot()}if(2&n){const t=Sn();(function _U(n,e,t){Al(ma,yd,Pg(Nt(),n,e,t),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),Ot("ngClass",t.panelClass)("@transformPanel","showing"),oi("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const MHe=[[["mat-select-trigger"]],"*"],IHe=["mat-select-trigger","*"],DHe={transformPanelWrap:qc("transformPanelWrap",[ys("* => void",jR("@transformPanel",[BR()],{optional:!0}))]),transformPanel:qc("transformPanel",[To("void",er({opacity:0,transform:"scale(1, 0.8)"})),ys("void => showing",_s("120ms cubic-bezier(0, 0, 0.2, 1)",er({opacity:1,transform:"scale(1, 1)"}))),ys("* => void",_s("100ms linear",er({opacity:0})))])};let nZ=0;const iZ=new _t("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=jt(rs);return()=>n.scrollStrategies.reposition()}}),RHe=new _t("MAT_SELECT_CONFIG"),PHe={provide:iZ,deps:[rs],useFactory:function OHe(n){return()=>n.scrollStrategies.reposition()}},kHe=new _t("MatSelectTrigger");class NHe{constructor(e,t){this.source=e,this.value=t}}const FHe=I1(h_(b8(KR(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new rn}}))));let rZ=(()=>{class n extends FHe{_scrollOptionIntoView(t){const i=this.options.toArray()[t];if(i){const r=this.panel.nativeElement,o=A8(t,this.options,this.optionGroups),s=i._getHostElement();r.scrollTop=0===t&&1===o?0:T8(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new NHe(this,t)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=mi(t),this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(mm.required)??!1}set required(t){this._required=mi(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=mi(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=mi(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=gs(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}constructor(t,i,r,o,s,a,c,l,d,h,f,m,g,v){super(s,o,c,l,h),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._parentFormField=d,this._liveAnnouncer=g,this._defaultOptions=v,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(C,B)=>C===B,this._uid="mat-select-"+nZ++,this._triggerAriaLabelledBy=null,this._destroy=new rn,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+nZ++,this._panelDoneAnimatingStream=new rn,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this.optionSelectionChanges=bm(()=>{const C=this.options;return C?C.changes.pipe(is(C),Dr(()=>Ms(...C.map(B=>B.onSelectionChange)))):this._ngZone.onStable.pipe(cr(1),Dr(()=>this.optionSelectionChanges))}),this.openedChange=new qt,this._openedStream=this.openedChange.pipe(vi(C=>C),Bt(()=>{})),this._closedStream=this.openedChange.pipe(vi(C=>!C),Bt(()=>{})),this.selectionChange=new qt,this.valueChange=new qt,this._trackedModal=null,this._skipPredicate=C=>!this.panelOpen&&C.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=v?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=v.typeaheadDebounceInterval),this._scrollStrategyFactory=m,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(f)||0,this.id=this.id}ngOnInit(){this._selectionModel=new ZNe(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(ta(),Ei(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Ei(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Ei(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(is(null),Ei(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck()),this.stateChanges.next()}_applyModalPanelOwnership(){const t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const i=`${this.id}-panel`;this._trackedModal&&d_(this._trackedModal,"aria-owns",i),S1(t,"aria-owns",i),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(d_(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched()),this.stateChanges.next()}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,s=this._keyManager;if(!s.isTyping()&&o&&!Ga(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;s.onKeydown(t);const c=this.selected;c&&a!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,o=40===r||38===r,s=i.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(s||13!==r&&32!==r||!i.activeItem||Ga(t))if(!s&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const a=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(a?c.select():c.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(t),this._multiple&&o&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(cr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_getOverlayWidth(t){return"auto"===this.panelWidth?(t instanceof dP?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new o8(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Ms(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ei(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Ms(...this.options.map(i=>i._stateChanges)).pipe(Ei(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){t=i;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(i){return new(i||n)(Te(W1),Te(Ii),Te(gn),Te(D1),Te(In),Te(Il,8),Te(_m,8),Te(oy,8),Te(a0,8),Te(Nl,10),qs("tabindex"),Te(iZ),Te(h8),Te(RHe,8))};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(1&i&&(dr(o,kHe,5),dr(o,s0,5),dr(o,QR,5)),2&i){let s;An(s=Tn())&&(r.customTrigger=s.first),An(s=Tn())&&(r.options=s),An(s=Tn())&&(r.optionGroups=s)}},viewQuery:function(i,r){if(1&i&&(Di(wHe,5),Di(xHe,5),Di(N5,5)),2&i){let o;An(o=Tn())&&(r.trigger=o.first),An(o=Tn())&&(r.panel=o.first),An(o=Tn())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&Ft("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(oi("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),pn("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Yn([{provide:k1,useExisting:n},{provide:JR,useExisting:n}]),Gn,Ji],ngContentSelectors:IHe,decls:11,vars:8,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,r){if(1&i&&(vr(MHe),nt(0,"div",0,1),Ft("click",function(){return r.toggle()}),nt(3,"div",2),hn(4,EHe,2,1,"span",3)(5,AHe,3,1),ot(),nt(6,"div",4)(7,"div",5),wh(),nt(8,"svg",6),_n(9,"path",7),ot()()()(),hn(10,THe,3,9,"ng-template",8),Ft("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&i){const o=ts(1);pt(3),oi("id",r._valueId),pt(1),Vi(4,r.empty?4:5),pt(6),Ot("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[m1,N5,dP],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[DHe.transformPanel]},changeDetection:0})}return n})(),g3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({providers:[PHe],imports:[Oi,_0,M8,nr,$1,ef,M8,nr]})}return n})();function LHe(n,e){if(1&n&&(nt(0,"mat-option",5),Wt(1),ot()),2&n){const t=e.$implicit;Ot("value",t),pt(1),VC(" ",t.name," (",t.sites.length,") ")}}function BHe(n,e){if(1&n){const t=Co();nt(0,"mat-form-field",1)(1,"mat-label",2),Wt(2,"Landmark Set"),ot(),nt(3,"mat-select",3),Ft("selectionChange",function(r){return Fi(t),Jn(Sn().extractionSetChanged(r.value))}),hn(4,LHe,2,3,"mat-option",4),ot()()}if(2&n){const t=Sn();pt(3),Ot("value",t.sets[0]),pt(1),Ot("ngForOf",t.sets)}}let jHe=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-extraction-set-dropdown",this.setChange=new qt}extractionSetChanged(t){this.selected=t,this.ga.event("selected_extraction_set_change","extraction_set_dropdown",t.name),this.setChange.emit(t)}isMultiple(){return this.sets.length>1}static#e=this.\u0275fac=function(i){return new(i||n)(Te(vs))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-extraction-set-dropdown"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},inputs:{sets:"sets"},outputs:{setChange:"setChange"},decls:1,vars:1,consts:[["class","dropdown-form-field","appearance","fill",4,"ngIf"],["appearance","fill",1,"dropdown-form-field"],[1,"extraction-dropdown-label"],["disableOptionCentering","true","panelClass","extraction-set-panel",3,"value","selectionChange"],["class","extraction-set-options",3,"value",4,"ngFor","ngForOf"],[1,"extraction-set-options",3,"value"]],template:function(i,r){1&i&&hn(0,BHe,5,2,"mat-form-field",0),2&i&&Ot("ngIf",r.isMultiple())},dependencies:[Xc,Ha,Zh,Qh,rZ,s0],styles:[".extraction-set-panel{position:absolute!important;box-shadow:0 0 .3rem .1rem #9e9e9e!important;top:-3.5rem}  .extraction-set-panel .extraction-set-options{height:2.5rem;min-height:inherit}[_nghost-%COMP%]     .mat-mdc-form-field{width:10.5rem}[_nghost-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper{padding:0}  .cdk-overlay-pane{min-width:0rem!important}"],changeDetection:0})}return n})(),UHe=(()=>{class n{constructor(){this.clsName="ccf-opacity-slider",this.opacity=20,this.visible=!0,this.opacityChange=new qt,this.visibilityToggle=new qt,this.opacityReset=new qt,this.sliderChanged=new qt}ngOnInit(){this.prevOpacity=this.visible?0:20}reset(){this.prevOpacity=20}toggleVisibility(){const t=this.opacity;this.opacity=this.prevOpacity,this.prevOpacity=t,this.visibilityToggle.emit(),this.opacityChange.emit(this.opacity)}resetOpacity(){this.prevOpacity=0,this.opacityReset.emit()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-opacity-slider"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},inputs:{opacity:"opacity",visible:"visible"},outputs:{opacityChange:"opacityChange",visibilityToggle:"visibilityToggle",opacityReset:"opacityReset",sliderChanged:"sliderChanged"},decls:12,vars:18,consts:[[1,"slider-box"],[1,"slider-and-label"],[1,"slider",3,"step","min","max","disableRipple"],["matSliderThumb","",1,"opacity-slider",3,"value","input"],["slider",""],[1,"opacity-value"],[1,"icons"],["matRipple","","svgIcon","app:visibility_off",1,"visibility","icon","invisible",3,"matRippleCentered","matRippleUnbounded","click"],["matRipple","","svgIcon","app:visibility_on",1,"visibility","icon","visible",3,"matRippleCentered","matRippleUnbounded","click"],["matRipple","",1,"icon","reset",3,"matRippleCentered","matRippleUnbounded","click"]],template:function(i,r){if(1&i){const o=Co();nt(0,"div",0)(1,"div",1)(2,"mat-slider",2)(3,"input",3,4),Ft("input",function(){Fi(o);const a=ts(4);return Jn(r.opacityChange.emit(+a.value))}),ot()(),nt(5,"span",5),Wt(6),ot()(),nt(7,"div",6)(8,"mat-icon",7),Ft("click",function(){return r.toggleVisibility()}),ot(),nt(9,"mat-icon",8),Ft("click",function(){return r.toggleVisibility()}),ot(),nt(10,"mat-icon",9),Ft("click",function(){return r.resetOpacity()}),Wt(11,"refresh"),ot()()()}2&i&&(pt(2),pn("disabled",!r.visible),Ot("step",1)("min",0)("max",100)("disableRipple",!0),pt(1),Ot("value",r.opacity),pt(3),oo("",r.opacity,"%"),pt(2),pn("hidden",r.opacity>0),Ot("matRippleCentered",!0)("matRippleUnbounded",!0),pt(1),pn("hidden",0===r.opacity),Ot("matRippleCentered",!0)("matRippleUnbounded",!0),pt(1),Ot("matRippleCentered",!0)("matRippleUnbounded",!0))},dependencies:[na,Eq,ZA,Wa],styles:["[_nghost-%COMP%]{height:2.25rem;display:flex;align-items:center;justify-content:space-between;border-radius:.1875rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:space-between;height:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]{width:60%;display:flex;align-items:center;height:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   mat-slider.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]     mat-slider-visual-thumb{transition:none}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]     .mat-ripple{display:none}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   .opacity-value[_ngcontent-%COMP%]{width:1.5rem;margin-left:.5rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;cursor:pointer!important}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .reset[_ngcontent-%COMP%]{margin-right:1rem;padding:.25rem;cursor:pointer;transition:.6s;border-radius:.25rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .visibility[_ngcontent-%COMP%]{transition:.6s;cursor:pointer;padding:.25rem;border-radius:.25rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .visibility.hidden[_ngcontent-%COMP%]{display:none}"],changeDetection:0})}return n})();function VHe(n,e){if(1&n){const t=Co();nt(0,"mat-icon",2),Ft("click",function(){return Fi(t),Jn(Sn().setAllOpacity(20))}),Wt(1,"refresh"),ot()}2&n&&Ot("matRippleCentered",!0)("matRippleUnbounded",!0)}function zHe(n,e){if(1&n){const t=Co();nt(0,"div",3),Ft("mouseenter",function(){const o=Fi(t).$implicit;return Jn(Sn().mouseOver(o))})("mouseleave",function(){return Fi(t),Jn(Sn().mouseOut())}),_n(1,"mat-icon",4),nt(2,"div",5),Wt(3),ot(),nt(4,"div",6)(5,"ccf-opacity-slider",7),Ft("opacityChange",function(r){return Fi(t),Jn(Sn().updateOpacity(r))})("opacityReset",function(){return Fi(t),Jn(Sn().resetItem())})("visibilityToggle",function(){const o=Fi(t).$implicit;return Jn(Sn().toggleVisibility(o))}),ot()()()}if(2&n){const t=e.$implicit,i=Sn();let r;pn("selected",!!i.selection&&i.getId(0,i.selection)===i.getId(0,t)),pt(1),pn("fade",!t.visible),pt(1),pn("hidden",t.id===(null==i.selection?null:i.selection.id)),UC("title",t.name),pt(1),So(t.name),pt(1),pn("visible",t.id===(null==i.selection?null:i.selection.id))("hidden",t.id!==(null==i.selection?null:i.selection.id)),pt(1),Ot("opacity",i.selection&&null!==(r=null==i.selection?null:i.selection.opacity)&&void 0!==r?r:20)}}let HHe=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-visibility-menu",this.hover=new qt,this.itemsChange=new qt}toggleVisibility(t){t={...t,visible:!t.visible},this.selection&&t.id===this.selection.id&&(this.selection={...this.selection,visible:t.visible}),this.ga.event("visibility_toggled","visibility_menu",""+t.id,+t.visible),this.updateOpacity(t.opacity)}mouseOver(t){this.selection=t===this.selection?void 0:t,this.hover.emit(t)}mouseOut(){this.selection=void 0,this.hover.emit(void 0)}updateOpacity(t){if(!this.selection)return;const i={...this.selection,opacity:t};this.selection=i,"all"===i.id?this.setAllOpacity(i.opacity):(this.items=this.items.map(r=>r.id===i.id?i:r),this.ga.event("opacity_update","visibility_menu",""+i.id,i.opacity)),this.itemsChange.emit(this.items)}resetItem(){if(this.selection){const t={...this.selection,opacity:20,visible:!0};this.selection=t,"all"===this.selection.id?this.setAllOpacity(t.opacity):(this.items=this.items.map(i=>i.id===t.id?t:i),this.ga.event("item_reset","visibility_menu",""+t.id)),this.itemsChange.emit(this.items)}}setAllOpacity(t){this.items=this.items.map(i=>({...i,opacity:t,visible:!0})),this.ga.event("all_items_opacity_update","visibility_menu",void 0,t),this.itemsChange.emit(this.items)}getId(t,i){return i.id}static#e=this.\u0275fac=function(i){return new(i||n)(Te(vs))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-visibility-menu"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},inputs:{items:"items",selection:"selection"},outputs:{hover:"hover",itemsChange:"itemsChange"},decls:2,vars:3,consts:[["class","icon reset","matRipple","",3,"matRippleCentered","matRippleUnbounded","click",4,"ngIf"],["class","item-entry",3,"selected","mouseenter","mouseleave",4,"ngFor","ngForOf","ngForTrackBy"],["matRipple","",1,"icon","reset",3,"matRippleCentered","matRippleUnbounded","click"],[1,"item-entry",3,"mouseenter","mouseleave"],["svgIcon","app:opacity",1,"opacity-icon"],[1,"item-name",3,"title"],[1,"slider"],[3,"opacity","opacityChange","opacityReset","visibilityToggle"]],template:function(i,r){1&i&&hn(0,VHe,2,2,"mat-icon",0)(1,zHe,6,13,"div",1),2&i&&(Ot("ngIf",r.items.length),pt(1),Ot("ngForOf",r.items)("ngForTrackBy",r.getId))},dependencies:[Xc,Ha,na,Wa,UHe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;margin-right:0;margin-left:0;max-height:40vh;overflow-y:auto;scrollbar-width:thin}[_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{border-radius:.25rem}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s;position:absolute;top:3rem}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]{display:flex;height:2.25rem;align-items:center;flex-shrink:0;position:relative}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .opacity[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .opacity-icon[_ngcontent-%COMP%]{z-index:1;transition:.6s}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .opacity-icon[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-left:.5rem;opacity:1;transition-duration:.4s;transition-timing-function:ease-in-out;transition-property:opacity;max-width:calc(100% - 2.5rem)}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .item-name.hidden[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{width:calc(100% - 2rem);transition-duration:.3s;transition-timing-function:ease-in-out;transition-property:opacity;left:2rem;position:absolute;opacity:1}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .slider.hidden[_ngcontent-%COMP%]{opacity:0;transition-duration:.1s;transition-timing-function:ease-in-out;transition-property:opacity}"],changeDetection:0})}return n})();function GHe(n,e){if(1&n){const t=Co();nt(0,"div",5)(1,"ccf-extraction-set-dropdown",11,12),Ft("setChange",function(r){return Fi(t),Jn(Sn().model.setExtractionSites(r.sites))}),ei(3,"async"),ot(),nt(4,"ccf-visibility-menu",13),Ft("itemsChange",function(r){return Fi(t),Jn(Sn().model.setExtractionSites(r))})("hover",function(r){return Fi(t),Jn(Sn().updateExtractionSiteTooltip(r))}),ei(5,"async"),ot()()}if(2&n){const t=Sn();pt(1),Ot("sets",ni(3,2,t.model.extractionSets$)),pt(3),Ot("items",ni(5,4,t.model.extractionSites$))}}function WHe(n,e){if(1&n&&(nt(0,"div",14),Wt(1),ot()),2&n){const t=Sn();pt(1),oo(" ",t.extractionSiteTooltip," ")}}const $He=()=>[];let XHe=(()=>{class n{constructor(t,i,r){this.page=t,this.model=i,this.registration=r,this.clsName="ccf-left-sidebar",this.modalClosed=!1,this.organSelected$=this.model.organ$.pipe(Bt(o=>void 0!==o)),this.extractionSiteTooltip=""}updateExtractionSiteTooltip(t){this.extractionSiteTooltip=t?.tooltip?t.tooltip:""}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Kr),Te(gr),Te(ho))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-left-sidebar"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},inputs:{modalClosed:"modalClosed"},decls:19,vars:14,consts:[[1,"scroll-wrapper"],[1,"container"],[1,"anatomical-structures-menu",3,"expanded"],[1,"expansion-header"],["matTooltip","Use opacity icons to change visibility of anatomical structures",1,"expansion-title"],[1,"expansion-content"],[3,"items","itemsChange"],[1,"extraction-menu",3,"expanded"],["matTooltip","Some organs have predefined landmarks to guide manual tissue registration--you can turn these on/off.",1,"expansion-title"],["class","expansion-content",4,"ngIf"],["class","extraction-site-tooltip mat-elevation-z8",4,"ngIf"],[3,"sets","setChange"],["dropdown",""],[3,"items","itemsChange","hover"],[1,"extraction-site-tooltip","mat-elevation-z8"]],template:function(i,r){if(1&i&&(nt(0,"div",0)(1,"div",1)(2,"mat-expansion-panel",2),ei(3,"async"),nt(4,"mat-expansion-panel-header",3)(5,"mat-panel-title",4),Wt(6,"Anatomical Structures"),ot()(),nt(7,"div",5)(8,"ccf-visibility-menu",6),Ft("itemsChange",function(s){return r.model.setAnatomicalStructures(s)}),ei(9,"async"),ot()()(),_n(10,"mat-divider"),nt(11,"mat-expansion-panel",7),ei(12,"async"),nt(13,"mat-expansion-panel-header",3)(14,"mat-panel-title",8),Wt(15,"Landmarks"),ot()(),hn(16,GHe,6,6,"div",9),ei(17,"async"),ot(),hn(18,WHe,2,1,"div",10),ot()()),2&i){let o;pt(2),Ot("expanded",ni(3,5,r.organSelected$)),pt(6),Ot("items",null!==(o=ni(9,7,r.model.anatomicalStructures$))&&void 0!==o?o:Tp(13,$He)),pt(3),Ot("expanded",ni(12,9,r.organSelected$)),pt(5),Ot("ngIf",ni(17,11,r.organSelected$)),pt(2),Ot("ngIf",r.extractionSiteTooltip.length>0)}},dependencies:[Ha,rT,OL,zq,zl,tZ,jHe,HHe,vd],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - 2.5rem);margin-top:1rem;margin-bottom:1.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]{overflow-y:scroll;height:100%;margin-right:.375rem;scrollbar-width:thin}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:.75rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:1.5rem;margin-right:.375rem;min-height:100%}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{border-top-width:3px}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .ccf-organ-selector[_ngcontent-%COMP%]{margin-top:1.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]{display:flex;height:3rem;align-items:center}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]   .slider-label[_ngcontent-%COMP%]{font-weight:600}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .expansion-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]     .expansion-header, [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]     .expansion-header{-webkit-user-select:none;-moz-user-select:none;padding:0;font-weight:700;height:3rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]     .expansion-header .mat-expansion-indicator, [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]     .expansion-header .mat-expansion-indicator{display:flex;align-items:center;justify-content:center;height:24px;width:24px}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%], [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%]{margin-bottom:.75rem;text-align:center;margin-top:1.75rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%]   .expansion-placeholder[_ngcontent-%COMP%], [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%]   .expansion-placeholder[_ngcontent-%COMP%]{width:100%;font-size:.9rem;font-weight:400}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-site-tooltip[_ngcontent-%COMP%]{position:absolute;top:4rem;left:27rem;width:21rem;padding:1rem;border-radius:.5rem;border:1px solid;z-index:2}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})();const oZ={x:10,y:10,z:10};let YHe=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-block-size-input",this.blockSize=oZ,this.blockSizeChange=new qt}updateBlockSizes(t,i){this.blockSize={...this.blockSize,[i]:+t.target.value},this.ga.event("block_size_change","block_size_input",i,this.blockSize[i]),this.blockSizeChange.emit(this.blockSize)}refreshBlockSize(){this.blockSize=oZ,this.ga.event("block_size_reset","block_size_input"),this.blockSizeChange.emit(this.blockSize)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(vs))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-block-size-input"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},inputs:{blockSize:"blockSize"},outputs:{blockSizeChange:"blockSizeChange"},decls:19,vars:5,consts:[["matTooltip","Set the tissue block width, height and depth (dimensions)",1,"header"],[1,"text","title"],[1,"filler"],["matRipple","",1,"icon","refresh",3,"matRippleCentered","matRippleUnbounded","click"],[1,"size-inputs"],[1,"field"],[1,"text","form-input-label"],["matInput","","type","number","placeholder","","matTooltip","Enter tissue block width.",1,"input",3,"value","keyup"],["matInput","","type","number","placeholder","","matTooltip","Enter tissue block height.",1,"input",3,"value","keyup"],["matInput","","type","number","placeholder","","matTooltip","Enter tissue block depth.",1,"input",3,"value","keyup"]],template:function(i,r){1&i&&(nt(0,"div",0)(1,"span",1),Wt(2,"Tissue Block Dimensions (mm)"),ot(),_n(3,"div",2),nt(4,"mat-icon",3),Ft("click",function(){return r.refreshBlockSize()}),Wt(5,"refresh"),ot()(),nt(6,"div",4)(7,"mat-form-field",5)(8,"mat-label",6),Wt(9,"Width (X)"),ot(),nt(10,"input",7),Ft("keyup",function(s){return r.updateBlockSizes(s,"x")}),ot()(),nt(11,"mat-form-field",5)(12,"mat-label",6),Wt(13,"Height (Y)"),ot(),nt(14,"input",8),Ft("keyup",function(s){return r.updateBlockSizes(s,"y")}),ot()(),nt(15,"mat-form-field",5)(16,"mat-label",6),Wt(17,"Depth (Z)"),ot(),nt(18,"input",9),Ft("keyup",function(s){return r.updateBlockSizes(s,"z")}),ot()()()),2&i&&(pt(4),Ot("matRippleCentered",!0)("matRippleUnbounded",!0),pt(6),Ot("value",r.blockSize.x),pt(4),Ot("value",r.blockSize.y),pt(4),Ot("value",r.blockSize.z))},dependencies:[vm,Zh,Qh,na,Wa,zl],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;height:1.5rem;padding:.5rem 0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:20rem;margin:0 auto}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:4.5rem}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]:not(:last-child){padding-right:.75rem}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-infix{padding-bottom:0;min-height:inherit}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-icon-suffix{padding:1rem 0 0px .25rem}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})();function qHe(n,e){if(1&n&&(nt(0,"div",11)(1,"div",12),Wt(2),ot(),nt(3,"div",13),Wt(4),ot()()),2&n){const t=e.$implicit;pt(2),So(t.label),pt(2),So(t.value)}}let KHe=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i,this.clsName="ccf-review-modal",this.metaData=i.metaData,this.registrationCallbackSet=i.registrationCallbackSet}close(){document.getElementsByClassName("modal-animated")[0]?.classList.add("modal-animate-fade-out"),setTimeout(()=>{this.dialogRef.close()},250)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(ay),Te(IL))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-review-modal"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},decls:14,vars:2,consts:[[1,"ccf-about","wrapper"],[1,"container"],[1,"close"],[1,"material-icons","close-icon",3,"click"],[1,"content"],["mat-dialog-title","",1,"title"],[1,"mat-typography"],[1,"display-fields"],["class","field",4,"ngFor","ngForOf"],[1,"footer"],["mat-button","",1,"download-button",3,"click"],[1,"field"],[1,"label"],[1,"data"]],template:function(i,r){1&i&&(nt(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),Ft("click",function(){return r.close()}),Wt(4,"clear"),ot()(),nt(5,"div",4)(6,"h2",5),Wt(7,"Registration Review"),ot(),nt(8,"mat-dialog-content",6)(9,"div",7),hn(10,qHe,5,2,"div",8),ot()(),nt(11,"div",9)(12,"button",10),Ft("click",function(){return r.dialogRef.close(!0)}),Wt(13),ot()()()()()),2&i&&(pt(10),Ot("ngForOf",r.metaData),pt(3),oo(" ",r.registrationCallbackSet?"REGISTER":"DOWNLOAD REGISTRATION DATA"," "))},dependencies:[Xc,tT,nT,na,m_],styles:["[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{float:right;margin-top:1rem;margin-right:1rem;cursor:pointer}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:2rem;background-color:#fff}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;margin-bottom:0;font-weight:500}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]{justify-content:space-around;display:flex;font-weight:500;font-size:1rem}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem;width:100%}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:1rem}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{width:50%;text-align:left;padding-left:1rem}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding-top:1.5rem;display:flex;justify-content:space-around}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]{padding:0 1rem;transition:.6s}"],changeDetection:0})}return n})(),JHe=(()=>{class n{constructor(t,i,r){this.dialog=t,this.ga=i,this.page=r,this.clsName="ccf-review-button",this.registrationCallbackSet=!0,this.metaData=[],this.displayErrors=!0,this.userValid=!1,this.registerData=new qt,this.enterErrorMode=new qt,this.registrationIsValid=!1}ngOnChanges(){const t=this.metaDataLookup("Reference Organ Name"),i=this.metaDataLookup("Tissue Block Dimensions (mm)"),r=this.metaDataLookup("Tissue Block Position (mm)"),o=this.metaDataLookup("Anatomical Structure Tags");this.registrationIsValid=this.userValid&&[t,i,r,o].every(s=>""!==s)}get disabled(){return!this.registrationIsValid}metaDataLookup(t){return this.metaData.find(i=>i.label===t)?.value}registerButtonClick(t){return t&&t.preventDefault(),this.enterErrorMode.emit(),this.registrationIsValid&&(this.ga.event("review_start","review_button"),this.launchReviewModal()),!1}launchReviewModal(){this.page.patchState({registrationStarted:!1}),this.dialog.open(KHe,{panelClass:"modal-animated",width:"60rem",data:{registrationCallbackSet:this.registrationCallbackSet,metaData:this.metaData}}).afterClosed().subscribe(i=>{this.page.registrationStarted(),i&&(this.ga.event("register","review_button"),this.registerData.emit())})}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Sf),Te(vs),Te(Kr))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-review-button"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},inputs:{registrationCallbackSet:"registrationCallbackSet",metaData:"metaData",displayErrors:"displayErrors",userValid:"userValid"},outputs:{registerData:"registerData",enterErrorMode:"enterErrorMode"},features:[Ji],decls:2,vars:4,consts:[["mat-button","",1,"review-button",3,"matTooltip","click"]],template:function(i,r){1&i&&(nt(0,"button",0),Ft("click",function(s){return r.registerButtonClick(s)}),Wt(1),ot()),2&i&&(pn("disabled",r.disabled),Ot("matTooltip",r.disabled?"Required: Enter valid user info, select an organ and position tissue block inside organ.":"Review registration and submit/download."),pt(1),oo(" ",r.registrationCallbackSet?"Review and Register":"Review and Download","\n"))},dependencies:[m_,zl],styles:[".review-button[_ngcontent-%COMP%]{width:100%;height:2.25rem;transition:.6s;font-weight:500}.review-button.disabled[_ngcontent-%COMP%]{cursor:not-allowed}"],changeDetection:0})}return n})();const QHe={x:0,y:0,z:0};let ZHe=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-rotation-slider",this.rotation=QHe,this.rotationChange=new qt}changeRotation(t,i){const r=+t>180?180:+t<-180?-180:+t;this.rotation={...this.rotation,[i]:+r},this.ga.event("rotation_update","rotation_slider",i,+r),this.rotationChange.emit(this.rotation)}resetRotation(t){this.rotation={...this.rotation,[t]:0},this.ga.event("rotation_reset","rotation_slider"),this.rotationChange.emit(this.rotation)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(vs))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-rotation-slider"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},inputs:{rotation:"rotation"},outputs:{rotationChange:"rotationChange"},decls:34,vars:20,consts:[[1,"header"],["matTooltip","Use sliders below to rotate tissue block for registration",1,"text","title"],[1,"filler"],[1,"refresh-button-container"],["matRipple","",1,"icon","reset",3,"matRippleCentered","matRippleUnbounded","click"],[1,"slider-box","red"],[1,"text","label"],[1,"slider-container"],["disableRipple","","discrete","",1,"slider",3,"max","min"],["matSliderThumb","",1,"slider-x",3,"value","input"],["sliderX",""],["matInput","","type","number",1,"input",3,"value","min","max","change"],[1,"slider-box","green"],["matSliderThumb","",1,"slider-y",3,"value","input"],["sliderY",""],[1,"slider-box","blue"],["matSliderThumb","",1,"slider-z",3,"value","input"],["sliderZ",""]],template:function(i,r){if(1&i){const o=Co();nt(0,"div",0)(1,"span",1),Wt(2,"Tissue Block Rotation"),ot(),_n(3,"div",2),nt(4,"div",3)(5,"mat-icon",4),Ft("click",function(){return r.resetRotation("x"),r.resetRotation("y"),r.resetRotation("z")}),Wt(6,"refresh"),ot()()(),nt(7,"div",5)(8,"span",6),Wt(9,"X"),ot(),nt(10,"div",7)(11,"mat-slider",8)(12,"input",9,10),Ft("input",function(){Fi(o);const a=ts(13);return Jn(r.changeRotation(a.value,"x"))}),ot()()(),nt(14,"mat-form-field")(15,"input",11),Ft("change",function(a){return r.changeRotation(a.target.value,"x")}),ot()()(),nt(16,"div",12)(17,"span",6),Wt(18,"Y"),ot(),nt(19,"div",7)(20,"mat-slider",8)(21,"input",13,14),Ft("input",function(){Fi(o);const a=ts(22);return Jn(r.changeRotation(a.value,"y"))}),ot()()(),nt(23,"mat-form-field")(24,"input",11),Ft("change",function(a){return r.changeRotation(a.target.value,"y")}),ot()()(),nt(25,"div",15)(26,"span",6),Wt(27,"Z"),ot(),nt(28,"div",7)(29,"mat-slider",8)(30,"input",16,17),Ft("input",function(){Fi(o);const a=ts(31);return Jn(r.changeRotation(a.value,"z"))}),ot()()(),nt(32,"mat-form-field")(33,"input",11),Ft("change",function(a){return r.changeRotation(a.target.value,"z")}),ot()()()}2&i&&(pt(5),Ot("matRippleCentered",!0)("matRippleUnbounded",!0),pt(6),Ot("max",180)("min",-180),pt(1),Ot("value",r.rotation.x),pt(3),Ot("value",r.rotation.x)("min",-180)("max",180),pt(5),Ot("max",180)("min",-180),pt(1),Ot("value",r.rotation.y),pt(3),Ot("value",r.rotation.y)("min",-180)("max",180),pt(5),Ot("max",180)("min",-180),pt(1),Ot("value",r.rotation.z),pt(3),Ot("value",r.rotation.z)("min",-180)("max",180))},dependencies:[na,Eq,ZA,Wa,zl,vm,Zh],styles:["[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:1.5rem;padding:.5rem 0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;padding:.5rem 0}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .refresh-button-container[_ngcontent-%COMP%]{display:flex;height:1rem;justify-content:flex-end}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:4rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{height:100%;width:5rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]{width:100%;padding-left:.5rem;padding-right:2rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]     mat-slider-visual-thumb{transition:none}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})(),e8e=(()=>{class n{constructor(t){this.el=t}onInputChange(t){const i=this.el.nativeElement.value;this.el.nativeElement.value=i.replace(/[^0-9]*/g,""),i!==this.el.nativeElement.value&&t.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In))};static#t=this.\u0275dir=Jt({type:n,selectors:[["input","ccfNumbersOnly",""]],hostBindings:function(i,r){1&i&&Ft("input",function(s){return r.onInputChange(s)})}})}return n})();const sZ={thickness:NaN,numSlices:NaN};let t8e=(()=>{class n{get hasThicknessValue(){return!isNaN(this.slicesConfig.thickness)}constructor(t){this.ga=t,this.clsName="ccf-slices-input",this.slicesConfig=sZ,this.slicesConfigChange=new qt}updateSlicesData(t,i){const{value:r}=t.target;this.slicesConfig={...this.slicesConfig,[i]:""!==r?+r:NaN},this.ga.event("slice_config_update","slice_input",i,this.slicesConfig[i]),this.slicesConfigChange.emit(this.slicesConfig)}refreshSlices(){this.slicesConfig=sZ,this.ga.event("slice_config_reset","slice_input"),this.slicesConfigChange.emit(this.slicesConfig)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(vs))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-slices-input"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},inputs:{slicesConfig:"slicesConfig"},outputs:{slicesConfigChange:"slicesConfigChange"},decls:17,vars:6,consts:[[1,"header"],["matTooltip","Add thickness of tissue sections and the total number of sections",1,"text","title"],[1,"filler"],["matRipple","",1,"icon","refresh",3,"matRippleCentered","matRippleUnbounded","click"],[1,"slices-inputs"],[1,"field"],[1,"text","form-input-label"],["matInput","","ccfNumbersOnly","","type","number","matTooltip","Enter thickness of tissue sections",1,"input",3,"value","keyup"],["matSuffix","",1,"suffix"],["matInput","","ccfNumbersOnly","","type","number","matTooltip","Enter total number of sections",1,"input",3,"value","keyup"]],template:function(i,r){1&i&&(nt(0,"div",0)(1,"span",1),Wt(2,"Tissue Sections"),ot(),_n(3,"div",2),nt(4,"mat-icon",3),Ft("click",function(){return r.refreshSlices()}),Wt(5," refresh "),ot()(),nt(6,"div",4)(7,"mat-form-field",5)(8,"mat-label",6),Wt(9,"Thickness"),ot(),nt(10,"input",7),Ft("keyup",function(s){return r.updateSlicesData(s,"thickness")}),ot(),nt(11,"div",8),Wt(12,"\u03bcm"),ot()(),nt(13,"mat-form-field",5)(14,"mat-label",6),Wt(15,"# Sections"),ot(),nt(16,"input",9),Ft("keyup",function(s){return r.updateSlicesData(s,"numSlices")}),ot()()()),2&i&&(pt(4),Ot("matRippleCentered",!0)("matRippleUnbounded",!0),pt(6),Ot("value",r.slicesConfig.thickness),pt(1),pn("show",r.hasThicknessValue),pt(5),Ot("value",r.slicesConfig.numSlices))},dependencies:[vm,Zh,Qh,tP,na,Wa,zl,e8e],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.5rem}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;height:1.5rem;padding:.5rem 0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:20rem;margin:0 auto}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:9rem}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]:not(:last-child){padding-right:.75rem}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field.mat-focused[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%], [_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .suffix.show[_ngcontent-%COMP%]{display:initial}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-infix{padding-bottom:0;min-height:inherit}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-icon-suffix{padding:1.5rem 0 0}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})();function n8e(n,e){1&n&&(nt(0,"span",7),Bn(1,1),ot())}function i8e(n,e){1&n&&(nt(0,"span",8),Bn(1,2),ot())}const aZ=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],cZ=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function r8e(n,e){1&n&&(nt(0,"span",8),Bn(1,1),nt(2,"span",9),wh(),nt(3,"svg",10),_n(4,"path",11),ot()()())}function o8e(n,e){1&n&&(nt(0,"span",12),Bn(1,2),ot())}const _3=["*"],HT=new _t("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),y3=new _t("MatChipAvatar"),b3=new _t("MatChipTrailingIcon"),v3=new _t("MatChipRemove"),GT=new _t("MatChip");class m8e{}const g8e=h_(m8e,-1);let My=(()=>{class n extends g8e{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(t){this._disabled=mi(t)}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(t,i){super(),this._elementRef=t,this._parentChip=i,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this._allowFocusWhenDisabled=!1,"BUTTON"===t.nativeElement.nodeName&&t.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(t){!this.disabled&&this.isInteractive&&this._isPrimary&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In),Te(GT))};static#t=this.\u0275dir=Jt({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(i,r){1&i&&Ft("click",function(s){return r._handleClick(s)})("keydown",function(s){return r._handleKeydown(s)}),2&i&&(oi("tabindex",r._getTabindex())("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),pn("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--presentational",!r.isInteractive)("mdc-evolution-chip__action--trailing",!r._isPrimary))},inputs:{disabled:"disabled",tabIndex:"tabIndex",isInteractive:"isInteractive",_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[Gn]})}return n})(),uZ=(()=>{class n extends My{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(t){this.disabled||(t.stopPropagation(),t.preventDefault(),this._parentChip.remove())}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!this.disabled&&(t.stopPropagation(),t.preventDefault(),this._parentChip.remove())}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Gi(n)))(r||n)}})();static#t=this.\u0275dir=Jt({type:n,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(i,r){2&i&&oi("aria-hidden",null)},features:[Yn([{provide:v3,useExisting:n}]),Gn]})}return n})(),b8e=0;const v8e=h_(qR(I1(b8(class{constructor(n){this._elementRef=n}})),"primary"),-1);let Pm=(()=>{class n extends v8e{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(t){this._value=t}get removable(){return this._removable}set removable(t){this._removable=mi(t)}get highlighted(){return this._highlighted}set highlighted(t){this._highlighted=mi(t)}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}constructor(t,i,r,o,s,a,c,l){super(i),this._changeDetectorRef=t,this._ngZone=r,this._focusMonitor=o,this._globalRippleOptions=c,this._onFocus=new rn,this._onBlur=new rn,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+b8e++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this._removable=!0,this._highlighted=!1,this.removed=new qt,this.destroyed=new qt,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=jt(R8),this._document=s,this._animationsDisabled="NoopAnimations"===a,null!=l&&(this.tabIndex=parseInt(l)??this.defaultTabIndex),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const t=this._elementRef.nativeElement;this._isBasicChip=t.hasAttribute(this.basicChipAttrName)||t.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=Ms(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(t){(8===t.keyCode||46===t.keyCode)&&(t.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(t){return this._getActions().find(i=>{const r=i._elementRef.nativeElement;return r===t||r.contains(t)})}_getActions(){const t=[];return this.primaryAction&&t.push(this.primaryAction),this.removeIcon&&t.push(this.removeIcon),this.trailingIcon&&t.push(this.trailingIcon),t}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const i=null!==t;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe(cr(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Ii),Te(In),Te(gn),Te(Fu),Te(Qn),Te(ro,8),Te(o0,8),qs("tabindex"))};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(i,r,o){if(1&i&&(dr(o,y3,5),dr(o,b3,5),dr(o,v3,5),dr(o,y3,5),dr(o,b3,5),dr(o,v3,5)),2&i){let s;An(s=Tn())&&(r.leadingIcon=s.first),An(s=Tn())&&(r.trailingIcon=s.first),An(s=Tn())&&(r.removeIcon=s.first),An(s=Tn())&&(r._allLeadingIcons=s),An(s=Tn())&&(r._allTrailingIcons=s),An(s=Tn())&&(r._allRemoveIcons=s)}},viewQuery:function(i,r){if(1&i&&Di(My,5),2&i){let o;An(o=Tn())&&(r.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:30,hostBindings:function(i,r){1&i&&Ft("keydown",function(s){return r._handleKeydown(s)}),2&i&&(Zs("id",r.id),oi("role",r.role)("tabindex",r.role?r.tabIndex:null)("aria-label",r.ariaLabel),pn("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaDescription:["aria-description","ariaDescription"],value:"value",removable:"removable",highlighted:"highlighted"},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[Yn([{provide:GT,useExisting:n}]),Gn],ngContentSelectors:cZ,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){1&i&&(vr(aZ),_n(0,"span",0),nt(1,"span",1)(2,"span",2),hn(3,n8e,2,0,"span",3),nt(4,"span",4),Bn(5),_n(6,"span",5),ot()()(),hn(7,i8e,2,0,"span",6)),2&i&&(pt(2),Ot("isInteractive",!1),pt(1),Vi(3,r.leadingIcon?3:-1),pt(4),Vi(7,r._hasTrailingIcon()?7:-1))},dependencies:[My],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),hZ=(()=>{class n extends Pm{constructor(){super(...arguments),this._defaultOptions=jt(HT,{optional:!0}),this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListHideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._selectable=!0,this._selected=!1,this.basicChipAttrName="mat-basic-chip-option",this.selectionChange=new qt}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=mi(t),this._changeDetectorRef.markForCheck()}get selected(){return this._selected}set selected(t){this._setSelectedState(mi(t),!1,!0)}get ariaSelected(){return this.selectable?this.selected.toString():null}ngOnInit(){super.ngOnInit(),this.role="presentation"}select(){this._setSelectedState(!0,!1,!0)}deselect(){this._setSelectedState(!1,!1,!0)}selectViaInteraction(){this._setSelectedState(!0,!0,!0)}toggleSelected(t=!1){return this._setSelectedState(!this.selected,t,!0),this.selected}_handlePrimaryActionInteraction(){this.disabled||(this.focus(),this.selectable&&this.toggleSelected(!0))}_hasLeadingGraphic(){return!!this.leadingIcon||!this._chipListHideSingleSelectionIndicator||this._chipListMultiple}_setSelectedState(t,i,r){t!==this.selected&&(this._selected=t,r&&this.selectionChange.emit({source:this,isUserInput:i,selected:this.selected}),this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Gi(n)))(r||n)}})();static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-basic-chip-option"],["","mat-basic-chip-option",""],["mat-chip-option"],["","mat-chip-option",""]],hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-option"],hostVars:37,hostBindings:function(i,r){2&i&&(Zs("id",r.id),oi("tabindex",null)("aria-label",null)("aria-description",null)("role",r.role),pn("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--filter",!r._isBasicChip)("mdc-evolution-chip--selectable",!r._isBasicChip)("mat-mdc-chip-selected",r.selected)("mat-mdc-chip-multiple",r._chipListMultiple)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-chip-with-avatar",r.leadingIcon)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--selected",r.selected)("mdc-evolution-chip--selecting",!r._animationsDisabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-primary-graphic",r._hasLeadingGraphic())("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon()))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",selectable:"selectable",selected:"selected"},outputs:{selectionChange:"selectionChange"},features:[Yn([{provide:Pm,useExisting:n},{provide:GT,useExisting:n}]),Gn],ngContentSelectors:cZ,decls:10,vars:9,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","","role","option",3,"tabIndex","_allowFocusWhenDisabled"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__checkmark"],["viewBox","-2 -3 30 30","focusable","false","aria-hidden","true",1,"mdc-evolution-chip__checkmark-svg"],["fill","none","stroke","currentColor","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-evolution-chip__checkmark-path"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){1&i&&(vr(aZ),_n(0,"span",0),nt(1,"span",1)(2,"button",2),hn(3,r8e,5,0,"span",3),nt(4,"span",4),Bn(5),_n(6,"span",5),ot()()(),hn(7,o8e,2,0,"span",6),nt(8,"span",7),Wt(9),ot()),2&i&&(pt(2),Ot("tabIndex",r.tabIndex)("_allowFocusWhenDisabled",!0),oi("aria-selected",r.ariaSelected)("aria-label",r.ariaLabel)("aria-describedby",r._ariaDescriptionId),pt(1),Vi(3,r._hasLeadingGraphic()?3:-1),pt(4),Vi(7,r._hasTrailingIcon()?7:-1),pt(1),Ot("id",r._ariaDescriptionId),pt(1),So(r.ariaDescription))},dependencies:[My],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();class w8e{constructor(e){}}const x8e=h_(w8e);let w3=(()=>{class n extends x8e{get chipFocusChanges(){return this._getChipStream(t=>t._onFocus)}get chipDestroyedChanges(){return this._getChipStream(t=>t.destroyed)}get disabled(){return this._disabled}set disabled(t){this._disabled=mi(t),this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(t){this._explicitRole=t}get focused(){return this._hasFocusedChip()}constructor(t,i,r){super(t),this._elementRef=t,this._changeDetectorRef=i,this._dir=r,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new rn,this._defaultRole="presentation",this._disabled=!1,this._explicitRole=null,this._chipActions=new e_}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(t=>t._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(t=>{t.disabled=this._disabled,t._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(t){this._originatesFromChip(t)&&this._keyManager.onKeydown(t)}_isValidIndex(t){return t>=0&&t<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const t=this.tabIndex;this.tabIndex=-1,setTimeout(()=>this.tabIndex=t)}}_getChipStream(t){return this._chips.changes.pipe(is(null),Dr(()=>Ms(...this._chips.map(t))))}_originatesFromChip(t){let i=t.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-mdc-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(is(this._chips)).subscribe(t=>{const i=[];t.forEach(r=>r._getActions().forEach(o=>i.push(o))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new Yde(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(t=>this._skipPredicate(t)),this.chipFocusChanges.pipe(Ei(this._destroyed)).subscribe(({chip:t})=>{const i=t._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(Ei(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t))}_skipPredicate(t){return!t.isInteractive||t.disabled}_trackChipSetChanges(){this._chips.changes.pipe(is(null),Ei(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(Ei(this._destroyed)).subscribe(t=>{const r=this._chips.toArray().indexOf(t.chip);this._isValidIndex(r)&&t.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const t=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[t];i.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In),Te(Ii),Te(Il,8))};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-chip-set"]],contentQueries:function(i,r,o){if(1&i&&dr(o,Pm,5),2&i){let s;An(s=Tn())&&(r._chips=s)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(i,r){1&i&&Ft("keydown",function(s){return r._handleKeydown(s)}),2&i&&oi("role",r.role)},inputs:{disabled:"disabled",role:"role"},features:[Gn],ngContentSelectors:_3,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(vr(),nt(0,"div",0),Bn(1),ot())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})();class E8e{constructor(e,t){this.source=e,this.value=t}}const C8e={provide:ks,useExisting:fe(()=>x3),multi:!0};let x3=(()=>{class n extends w3{constructor(){super(...arguments),this._onTouched=()=>{},this._onChange=()=>{},this._defaultRole="listbox",this._defaultOptions=jt(HT,{optional:!0}),this._multiple=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.compareWith=(t,i)=>t===i,this._required=!1,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this.change=new qt,this._chips=void 0}get multiple(){return this._multiple}set multiple(t){this._multiple=mi(t),this._syncListboxProperties()}get selected(){const t=this._chips.toArray().filter(i=>i.selected);return this.multiple?t:t[0]}get selectable(){return this._selectable}set selectable(t){this._selectable=mi(t),this._syncListboxProperties()}get required(){return this._required}set required(t){this._required=mi(t)}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=mi(t),this._syncListboxProperties()}get chipSelectionChanges(){return this._getChipStream(t=>t.selectionChange)}get chipBlurChanges(){return this._getChipStream(t=>t._onBlur)}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}ngAfterContentInit(){void 0!==this._pendingInitialValue&&Promise.resolve().then(()=>{this._setSelectionByValue(this._pendingInitialValue,!1),this._pendingInitialValue=void 0}),this._chips.changes.pipe(is(null),Ei(this._destroyed)).subscribe(()=>{this._syncListboxProperties()}),this.chipBlurChanges.pipe(Ei(this._destroyed)).subscribe(()=>this._blur()),this.chipSelectionChanges.pipe(Ei(this._destroyed)).subscribe(t=>{this.multiple||this._chips.forEach(i=>{i!==t.source&&i._setSelectedState(!1,!1,!1)}),t.isUserInput&&this._propagateChanges()})}focus(){if(this.disabled)return;const t=this._getFirstSelectedChip();t&&!t.disabled?t.focus():this._chips.length>0?this._keyManager.setFirstItemActive():this._elementRef.nativeElement.focus()}writeValue(t){this._chips?this._setSelectionByValue(t,!1):null!=t&&(this._pendingInitialValue=t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_setSelectionByValue(t,i=!0){this._clearSelection(),Array.isArray(t)?t.forEach(r=>this._selectValue(r,i)):this._selectValue(t,i)}_blur(){this.disabled||setTimeout(()=>{this.focused||this._markAsTouched()})}_keydown(t){9===t.keyCode&&super._allowFocusEscape()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck()}_propagateChanges(){let t=null;t=Array.isArray(this.selected)?this.selected.map(i=>i.value):this.selected?this.selected.value:void 0,this._value=t,this.change.emit(new E8e(this,t)),this._onChange(t),this._changeDetectorRef.markForCheck()}_clearSelection(t){this._chips.forEach(i=>{i!==t&&i.deselect()})}_selectValue(t,i){const r=this._chips.find(o=>null!=o.value&&this.compareWith(o.value,t));return r&&(i?r.selectViaInteraction():r.select()),r}_syncListboxProperties(){this._chips&&Promise.resolve().then(()=>{this._chips.forEach(t=>{t._chipListMultiple=this.multiple,t.chipListSelectable=this._selectable,t._chipListHideSingleSelectionIndicator=this.hideSingleSelectionIndicator,t._changeDetectorRef.markForCheck()})})}_getFirstSelectedChip(){return Array.isArray(this.selected)?this.selected.length?this.selected[0]:void 0:this.selected}_skipPredicate(t){return!t.isInteractive}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Gi(n)))(r||n)}})();static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-chip-listbox"]],contentQueries:function(i,r,o){if(1&i&&dr(o,hZ,5),2&i){let s;An(s=Tn())&&(r._chips=s)}},hostAttrs:[1,"mdc-evolution-chip-set","mat-mdc-chip-listbox"],hostVars:11,hostBindings:function(i,r){1&i&&Ft("focus",function(){return r.focus()})("blur",function(){return r._blur()})("keydown",function(s){return r._keydown(s)}),2&i&&(Zs("tabIndex",r.empty?-1:r.tabIndex),oi("role",r.role)("aria-describedby",r._ariaDescribedby||null)("aria-required",r.role?r.required:null)("aria-disabled",r.disabled.toString())("aria-multiselectable",r.multiple)("aria-orientation",r.ariaOrientation),pn("mat-mdc-chip-list-disabled",r.disabled)("mat-mdc-chip-list-required",r.required))},inputs:{tabIndex:"tabIndex",multiple:"multiple",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",compareWith:"compareWith",required:"required",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",value:"value"},outputs:{change:"change"},features:[Yn([C8e]),Gn],ngContentSelectors:_3,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(vr(),nt(0,"div",0),Bn(1),ot())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})(),pZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({providers:[D1,{provide:HT,useValue:{separatorKeyCodes:[13]}}],imports:[nr,mc,nr]})}return n})();function D8e(n,e){if(1&n){const t=Co();nt(0,"mat-chip",2),Ft("removed",function(){const o=Fi(t).$implicit;return Jn(Sn().removeTag(o))}),Wt(1),nt(2,"mat-icon",3),Wt(3,"cancel"),ot()()}if(2&n){const t=e.$implicit;Ci(Sn().tagClasses(t)),pt(1),oo(" ",t.label," ")}}let O8e=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-tag-list",this.tagRemoved=new qt,this.tagsChange=new qt}tagId(t,i){return i.id}tagClasses(t){return"added"===t.type?["added"]:["assigned"]}removeTag(t){this.tags=this.tags.filter(i=>i!==t),this.ga.event("tag_removed","tag_list",t.label),this.tagRemoved.emit(t),this.tagsChange.emit(this.tags)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(vs))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-tag-list"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},inputs:{tags:"tags"},outputs:{tagRemoved:"tagRemoved",tagsChange:"tagsChange"},decls:2,vars:2,consts:[["selectable","false"],["removable","","disableRipple","",3,"class","removed",4,"ngFor","ngForOf","ngForTrackBy"],["removable","","disableRipple","",3,"removed"],["matChipRemove","",1,"icon","remove"]],template:function(i,r){1&i&&(nt(0,"mat-chip-listbox",0),hn(1,D8e,4,3,"mat-chip",1),ot()),2&i&&(pt(1),Ot("ngForOf",r.tags)("ngForTrackBy",r.tagId))},dependencies:[Xc,Pm,x3,uZ,na],styles:["[_nghost-%COMP%]{display:block;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]     .mdc-evolution-chip-set__chips{margin:0!important}[_nghost-%COMP%]     .mdc-evolution-chip-set__chips .mdc-evolution-chip__text-label{font-size:14px}"],changeDetection:0})}return n})();const P8e=["input"],k8e=["label"],N8e=["*"],F8e=new _t("mat-checkbox-default-options",{providedIn:"root",factory:mZ});function mZ(){return{color:"accent",clickAction:"check-indeterminate"}}const L8e={provide:ks,useExisting:fe(()=>_Z),multi:!0};class B8e{}let j8e=0;const gZ=mZ();let _Z=(()=>{class n{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const i=new B8e;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._animationMode=s,this._options=a,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new qt,this.indeterminateChange=new qt,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||gZ,this.color=this._options.color||gZ.color,this.tabIndex=parseInt(o)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++j8e}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const i=t!=this._indeterminate;this._indeterminate=t,i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_transitionCheckState(t){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==t&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if("NoopAnimations"===this._animationMode)return"";switch(t){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||n)(Te(In),Te(Ii),Te(gn),qs("tabindex"),Te(ro,8),Te(F8e,8))};static#t=this.\u0275cmp=dn({type:n,selectors:[["mat-checkbox"]],viewQuery:function(i,r){if(1&i&&(Di(P8e,5),Di(k8e,5),Di(Wa,5)),2&i){let o;An(o=Tn())&&(r._inputElement=o.first),An(o=Tn())&&(r._labelElement=o.first),An(o=Tn())&&(r.ripple=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(i,r){2&i&&(Zs("id",r.id),oi("tabindex",null)("aria-label",null)("aria-labelledby",null),Ci(r.color?"mat-"+r.color:"mat-accent"),pn("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:["required","required",Xi],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:["disableRipple","disableRipple",Xi],tabIndex:["tabIndex","tabIndex",t=>null==t?void 0:P4(t)],color:"color",checked:["checked","checked",Xi],disabled:["disabled","disabled",Xi],indeterminate:["indeterminate","indeterminate",Xi]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Yn([L8e]),gd],ngContentSelectors:N8e,decls:15,vars:20,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"],["label",""]],template:function(i,r){if(1&i&&(vr(),nt(0,"div",0),Ft("click",function(s){return r._preventBubblingFromLabel(s)}),nt(1,"div",1,2)(3,"div",3),Ft("click",function(){return r._onTouchTargetClick()}),ot(),nt(4,"input",4,5),Ft("blur",function(){return r._onBlur()})("click",function(){return r._onInputClick()})("change",function(s){return r._onInteractionEvent(s)}),ot(),_n(6,"div",6),nt(7,"div",7),wh(),nt(8,"svg",8),_n(9,"path",9),ot(),Km(),_n(10,"div",10),ot(),_n(11,"div",11),ot(),nt(12,"label",12,13),Bn(14),ot()()),2&i){const o=ts(2);pn("mdc-form-field--align-end","before"==r.labelPosition),pt(4),pn("mdc-checkbox--selected",r.checked),Ot("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.disabled?-1:r.tabIndex),oi("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("name",r.name)("value",r.value),pt(7),Ot("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),pt(1),Ot("for",r.inputId)}},dependencies:[Wa],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),yZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({})}return n})(),z8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[nr,mc,yZ,nr,yZ]})}return n})();const H8e=["closeSearch"];function G8e(n,e){if(1&n){const t=Co();nt(0,"div",12)(1,"mat-checkbox",13),Ft("ngModelChange",function(r){const s=Fi(t).$implicit;return Jn(Sn(2).checkedResults[s.id]=r)}),Wt(2),ot()()}if(2&n){const t=e.$implicit,i=Sn(2);pt(1),Ot("ngModel",i.checkedResults[t.id]),pt(1),oo(" ",t.label," ")}}function W8e(n,e){if(1&n&&(nt(0,"div",9),hn(1,G8e,3,2,"div",10),nt(2,"div",11),Wt(3),ei(4,"i18nPlural"),ot()()),2&n){const t=Sn();pt(1),Ot("ngForOf",t.searchResults.results)("ngForTrackBy",t.tagId),pt(2),oo(" ",Tz(4,3,t.searchResults.totalCount,t.countMapping)," ")}}const bZ=5,$T={totalCount:0,results:[]};class Iy{constructor(e,t,i){this.el=e,this.ga=t,this.clsName="ccf-tag-search",this.placeholder="Add Anatomical Structures ...",this.added=new qt,this.countMapping={"=1":"1 result",other:"# results"},this.searchControl=new Sw,this.searchResults=$T,this.checkedResults={},this.resultsVisible=!1,this.destroy$=new rn,this.searchControl.valueChanges.pipe(Ei(this.destroy$),TK(()=>function R8e(n=0,e=l_){return n<0&&(n=0),p0(n,n,e)}(this.searchThrottle??100),{leading:!0,trailing:!0}),Dr(this.executeSearch)).subscribe(r=>{this.searchResults=r,this.checkedResults=this.getUpdatedCheckedResults(r),i.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}tagId(e,t){return t.id}hasCheckedTags(){return Object.values(this.checkedResults).some(e=>e)}addTags(){const{searchControl:e,searchResults:t,checkedResults:i}=this,r=t.results.filter(o=>i[o.id]);r.length>0&&(e.reset(),this.searchResults=$T,this.checkedResults={},this.ga.event("tags_added","tag_search",r.map(o=>o.label).join(",")),this.added.emit(r))}openResults(){this.resultsVisible||(this.resultsVisible=!0)}closeResults(e){const{closeSearch:t}=this;this.resultsVisible&&e.target instanceof Node&&(!this.el.nativeElement.contains(e.target)||t.nativeElement.contains(e.target))&&(this.resultsVisible=!1)}executeSearch(e){const{search:t,searchLimit:i=bZ}=this;return e&&t?qr(t(e,i)).pipe($a(()=>[$T]),Bt(this.truncateResults)):[$T]}truncateResults(e){const{searchLimit:t=bZ}=this,i=e.results;return i.length>t?{...e,results:i.slice(0,t)}:e}getUpdatedCheckedResults(e){const t=this.checkedResults;return e.results.reduce((i,{id:r})=>(i[r]=t[r]??!1,i),{})}static#e=this.\u0275fac=function(t){return new(t||Iy)(Te(In),Te(vs),Te(Ii))};static#t=this.\u0275cmp=dn({type:Iy,selectors:[["ccf-tag-search"]],viewQuery:function(t,i){if(1&t&&Di(H8e,5,In),2&t){let r;An(r=Tn())&&(i.closeSearch=r.first)}},hostVars:2,hostBindings:function(t,i){1&t&&Ft("click",function(){return i.openResults()})("focusin",function(){return i.openResults()})("click",function(o){return i.closeResults(o)},!1,Ob)("focusin",function(o){return i.closeResults(o)},!1,Ob),2&t&&Ci(i.clsName)},inputs:{placeholder:"placeholder",search:"search",searchLimit:"searchLimit",searchThrottle:"searchThrottle"},outputs:{added:"added"},decls:10,vars:8,consts:[[1,"spacer"],["appearance","outline","subscriptSizing","dynamic",1,"overlay"],[1,"search-box"],["matInput","","type","search",3,"placeholder","formControl"],["search",""],["matSuffix","",1,"add-button",3,"disabled","click"],["closeSearch",""],[1,"icon"],["class","results",4,"ngIf"],[1,"results"],["class","item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"count"],[1,"item"],["labelPosition","after",3,"ngModel","ngModelChange"]],template:function(t,i){if(1&t){const r=Co();_n(0,"div",0),nt(1,"mat-form-field",1)(2,"div",2),_n(3,"input",3,4),nt(5,"button",5,6),Ft("click",function(){Fi(r);const s=ts(4);return i.addTags(),Jn(s.focus())}),nt(7,"mat-icon",7),Wt(8,"add"),ot()()(),hn(9,W8e,5,6,"div",8),ot()}2&t&&(pt(1),pn("expanded",i.resultsVisible),pt(2),Ot("placeholder",i.placeholder)("formControl",i.searchControl),pt(2),pn("active",i.hasCheckedTags()),Ot("disabled",!i.hasCheckedTags()),pt(4),Ot("ngIf",i.resultsVisible))},dependencies:[Xc,Ha,iy,UA,uL,Aw,_Z,Zh,tP,na,vm,Z4],styles:["[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]   .spacer[_ngcontent-%COMP%]{height:3.5rem}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;z-index:10}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;height:3rem}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{border-radius:.25rem;border:none;display:flex;justify-content:center;align-items:center;cursor:pointer;height:100%}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]{margin-top:.5rem}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.75rem;text-align:end}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{min-height:inherit;padding:0}"],changeDetection:0})}Pt([Fd.ak,Fe("design:type",Function),Fe("design:paramtypes",[String]),Fe("design:returntype",Object)],Iy.prototype,"executeSearch",null),Pt([Fd.ak,Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",Object)],Iy.prototype,"truncateResults",null);let X8e=(()=>{class n{constructor(t,i){this.dialog=t,this.infoButtonService=i,this.infoTitle="",this.subscriptions=new mt,this.subscriptions.add(i.panelContent.subscribe(r=>{r.content.length&&this.launchInfoDialog(r)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}launchInfoDialog(t){0===this.dialog.openDialogs.length&&this.dialog.open(OQ,{autoFocus:!1,panelClass:"modal-animated",width:"72rem",data:{title:t.infoTitle,content:t.content,videoID:t.videoID}})}onDialogButtonClick(){this.infoButtonService.updateData(this.documentationUrl,this.videoID,this.infoTitle)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Sf),Te(a3))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-info-button"]],inputs:{infoTitle:"infoTitle",videoID:"videoID",documentationUrl:"documentationUrl"},decls:3,vars:0,consts:[[1,"info-button-wrapper"],["aria-hidden","false","aria-label","Page information",1,"ccf-info-button",3,"click"]],template:function(i,r){1&i&&(nt(0,"div",0)(1,"mat-icon",1),Ft("click",function(){return r.onDialogButtonClick()}),Wt(2," info "),ot()())},dependencies:[na],styles:[".info-button-wrapper[_ngcontent-%COMP%]{border-radius:.25rem;padding:.65rem;transition:.6s}.info-button-wrapper[_ngcontent-%COMP%]   .ccf-info-button[_ngcontent-%COMP%]{cursor:pointer;transition:color .6s;font-size:1.5rem;vertical-align:sub}"],changeDetection:0})}return n})(),Y8e=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this.firstNameValidator.setValue(t?.firstName||""),this.lastNameValidator.setValue(t?.lastName||""),this.middleNameValidator.setValue(t?.middleName||"")}constructor(t){this.ga=t,this.clsName="ccf-name-input",this.firstNameValidator=new Sw("",[mm.required]),this.lastNameValidator=new Sw("",[mm.required]),this.middleNameValidator=new Sw("",[mm.required]),this._name={firstName:"",middleName:"",lastName:""},this.nameChange=new qt}updateName(t,i){this.name={...this.name,[i]:t.target.value},this.ga.event("name_updated","name_input",i),this.nameChange.emit(this.name)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(vs))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-name-input"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},inputs:{name:"name"},outputs:{nameChange:"nameChange"},decls:12,vars:3,consts:[["subscriptSizing","dynamic",1,"field"],[1,"text","form-input-label"],["matInput","","matTooltip","Add your first name.","required","","title","",1,"input",3,"value","input"],["matInput","","matTooltip","Add your middle name.",1,"input",3,"value","input"],["matInput","","matTooltip","Add your last name.","required","","title","",1,"input",3,"value","input"]],template:function(i,r){1&i&&(nt(0,"mat-form-field",0)(1,"mat-label",1),Wt(2,"First Name "),ot(),nt(3,"input",2),Ft("input",function(s){return r.updateName(s,"firstName")}),ot()(),nt(4,"mat-form-field",0)(5,"mat-label",1),Wt(6,"Middle Name "),ot(),nt(7,"input",3),Ft("input",function(s){return r.updateName(s,"middleName")}),ot()(),nt(8,"mat-form-field",0)(9,"mat-label",1),Wt(10,"Last Name "),ot(),nt(11,"input",4),Ft("input",function(s){return r.updateName(s,"lastName")}),ot()()),2&i&&(pt(3),Ot("value",r.firstNameValidator.value),pt(4),Ot("value",r.middleNameValidator.value),pt(4),Ot("value",r.lastNameValidator.value))},dependencies:[vm,Zh,Qh,zl],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   .field[_ngcontent-%COMP%]:not(:last-child){padding-right:.75rem}[_nghost-%COMP%]   .field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:left;width:100%;font-size:1rem}[_nghost-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}"],changeDetection:0})}return n})();const q8e=["fileInput"];let K8e=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-json-file-reader",this.label="Upload",this.parsedJson=new qt}triggerFileInput(){this.fileInput.nativeElement.click()}handleFile(t){const i=t.target;if(!i.files)return;const r=i.files[0],o=new FileReader;o.onload=()=>{const s=JSON.parse(o.result);this.ga.event("json_file_load_end","json_file_reader"),this.parsedJson.emit(s)},this.ga.event("json_file_load_start","json_file_reader"),o.readAsText(r)}static#e=this.\u0275fac=function(i){return new(i||n)(Te(vs))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-json-file-reader"]],viewQuery:function(i,r){if(1&i&&Di(q8e,5),2&i){let o;An(o=Tn())&&(r.fileInput=o.first)}},hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},inputs:{label:"label"},outputs:{parsedJson:"parsedJson"},decls:4,vars:1,consts:[["mat-button","",1,"upload-button",3,"click"],["type","file","accept","application/JSON","name","fileInput","id","fileInput",2,"display","none",3,"change"],["fileInput",""]],template:function(i,r){1&i&&(nt(0,"button",0),Ft("click",function(){return r.triggerFileInput()}),Wt(1),ot(),nt(2,"input",1,2),Ft("change",function(s){return r.handleFile(s)}),ot()),2&i&&(pt(1),So(r.label))},dependencies:[m_],styles:["[_nghost-%COMP%]   .upload-button[_ngcontent-%COMP%]{width:100%;height:2.25rem;transition:.6s;cursor:pointer;font-weight:500}"],changeDetection:0})}return n})();function J8e(n,e){if(1&n&&(nt(0,"mat-error"),Wt(1),ot()),2&n){const t=Sn();pt(1),So(t.getErrorMessage())}}function Q8e(n,e){1&n&&(nt(0,"div",8),Wt(1,"Organs"),ot())}function Z8e(n,e){if(1&n&&(nt(0,"mat-option",19),Wt(1),ot()),2&n){const t=e.$implicit;Ot("value",t),pt(1),oo(" ",t.name," ")}}let vZ=(()=>{class n{constructor(t,i,r){this.model=t,this.registration=i,this.page=r,this.registrationSelected=new qt,this.orcidControl=new YA("",[mm.pattern("^[a-zA-Z0-9]{4}(-[a-zA-Z0-9]{4}){3}$")]),r.user$.subscribe(o=>{this.checkNameValid(o),this.orcId=r.uriToOrcid(o.orcidId)}),i.state$.subscribe(o=>{this.uploadText=o.initialRegistration?"File(s) uploaded":"No file(s) uploaded"})}getErrorMessage(){return this.orcidControl.hasError("pattern")?"Not a valid ORCID":""}updateOrcid(t){this.page.setOrcidId(t)}handleRegistrationUpload(t){this.registrationSelected.emit(),this.registration.editRegistration(t)}checkNameValid(t){this.nameValid=t.firstName.length>0&&t.lastName.length>0}setSexFromLabel(t){this.model.setSex(t.toLowerCase())}static#e=this.\u0275fac=function(i){return new(i||n)(Te(gr),Te(ho),Te(Kr))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-registration-metadata"]],outputs:{registrationSelected:"registrationSelected"},decls:38,vars:19,consts:[[1,"author-section"],[1,"section-title"],[3,"name","nameChange"],[1,"orcid-input"],["matInput","","matTooltip","Add ORCID id.","maxlength","19",1,"input",3,"value","formControl","input"],[4,"ngIf"],[1,"donor-section"],[1,"sex-toggle"],[1,"label"],[1,"radio-group",3,"value","change"],["value","male",1,"radio"],["value","female",1,"radio"],[1,"organ-selector"],["appearance","fill","subscriptSizing","dynamic",1,"form-field"],["class","label",4,"ngIf"],["disableOptionCentering","true","panelClass","organ-select","hideSingleSelectionIndicator","true",3,"value","selectionChange"],["class","organ-select-option",3,"value",4,"ngFor","ngForOf"],[1,"upload-registration"],["label","Upload","matTooltip","Upload a preexisting registration",3,"parsedJson"],[1,"organ-select-option",3,"value"]],template:function(i,r){1&i&&(nt(0,"div",0)(1,"h2",1),Wt(2,"Author Data"),ot(),nt(3,"ccf-name-input",2),Ft("nameChange",function(s){return r.page.setUserName(s),r.checkNameValid(s)}),ei(4,"async"),ot(),nt(5,"mat-form-field",3)(6,"mat-label"),Wt(7,"ORCID identifier (optional)"),ot(),nt(8,"input",4),Ft("input",function(s){return r.updateOrcid(s.target.value)}),ot(),hn(9,J8e,2,1,"mat-error",5),ot()(),nt(10,"div",6)(11,"h2",1),Wt(12,"Donor Data"),ot(),nt(13,"div",7)(14,"div",8),Wt(15,"Donor Sex:"),ot(),nt(16,"mat-radio-group",9),Ft("change",function(s){return r.setSexFromLabel(s.value)}),ei(17,"async"),nt(18,"mat-radio-button",10),Wt(19,"Male"),ot(),nt(20,"mat-radio-button",11),Wt(21,"Female"),ot()()(),nt(22,"div",12)(23,"div",8),Wt(24,"Select an organ:"),ot(),nt(25,"mat-form-field",13),hn(26,Q8e,2,0,"div",14),ei(27,"async"),nt(28,"mat-select",15),Ft("selectionChange",function(s){return r.model.setOrgan(s.value),r.model.setOrganDefaults()}),ei(29,"async"),hn(30,Z8e,2,2,"mat-option",16),ei(31,"async"),ot()()(),nt(32,"div",17)(33,"div",8),Wt(34,"Upload previous registration data (optional):"),ot(),nt(35,"ccf-json-file-reader",18),Ft("parsedJson",function(s){return r.handleRegistrationUpload(s)}),ot(),nt(36,"div"),Wt(37),ot()()()),2&i&&(pt(3),Ot("name",ni(4,9,r.page.user$)),pt(5),Ot("value",r.orcId)("formControl",r.orcidControl),pt(1),Ot("ngIf",r.orcidControl.invalid),pt(7),Ot("value",ni(17,11,r.model.sex$)),pt(10),Ot("ngIf",void 0===ni(27,13,r.model.organ$)),pt(2),Ot("value",ni(29,15,r.model.organ$)),pt(2),Ot("ngForOf",ni(31,17,r.page.organOptions$)),pt(7),So(r.uploadText))},dependencies:[Xc,Ha,vm,Zh,Qh,nhe,iy,UA,yL,Aw,zl,Y8e,f3,p3,rZ,s0,K8e,vd],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:2rem}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:400;line-height:1.5rem;margin:0;padding-bottom:1.5rem}[_nghost-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;line-height:1.5rem}[_nghost-%COMP%]     .mat-mdc-form-field-infix{padding-bottom:0!important;min-height:inherit}[_nghost-%COMP%]     .mdc-text-field{padding:0;padding-bottom:.3rem!important}[_nghost-%COMP%]   .author-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .author-section[_ngcontent-%COMP%]   .orcid-input[_ngcontent-%COMP%]{width:100%;font-size:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .sex-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:1.5rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .sex-toggle[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding-right:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .sex-toggle[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;gap:3rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .organ-selector[_ngcontent-%COMP%]{padding-bottom:1.5rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .organ-selector[_ngcontent-%COMP%]     .mat-mdc-select-value{font-size:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .upload-registration[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .upload-registration[_ngcontent-%COMP%]   ccf-json-file-reader[_ngcontent-%COMP%]     button{width:10rem;height:2rem;padding:.25rem 1rem;border-radius:.125rem}[_nghost-%COMP%]     .mdc-line-ripple:before, [_nghost-%COMP%]   .mdc-line-ripple[_ngcontent-%COMP%]:after{border-bottom-width:.125rem!important}"],changeDetection:0})}return n})();const wZ=()=>[];function e5e(n,e){if(1&n){const t=Co();nt(0,"ccf-tag-list",23),Ft("tagRemoved",function(r){return Fi(t),Jn(Sn().astags.removeTag(r))}),ei(1,"async"),ot()}if(2&n){let i;Ot("tags",null!==(i=ni(1,1,Sn().astags.tags$))&&void 0!==i?i:Tp(3,wZ))}}function t5e(n,e){}let n5e=(()=>{class n{constructor(t,i,r,o){this.model=t,this.registration=i,this.page=r,this.astags=o,this.clsName="ccf-right-sidebar",this.modalClosed=!1,this.registrationExpanded=new qt}static#e=this.\u0275fac=function(i){return new(i||n)(Te(gr),Te(ho),Te(Kr),Te(nu))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-right-sidebar"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},inputs:{modalClosed:"modalClosed"},outputs:{registrationExpanded:"registrationExpanded"},decls:44,vars:29,consts:[[1,"info-button-container"],["videoID","j4f9_xdBrK0","infoTitle","CCF Registration User Interface","documentationUrl","assets/docs/README.md"],[1,"scroll-wrapper"],[1,"container"],[1,"registration-metadata-panel",3,"opened","closed"],[1,"header"],["matTooltip",""],[1,"tissue-block-controls-panel",3,"expanded"],[3,"blockSize","blockSizeChange"],[3,"slicesConfig","slicesConfigChange"],[3,"rotation","rotationChange"],[1,"tags-container",3,"expanded"],["matTooltip","Review tags generated via collision detection. Add or delete tags as needed."],[3,"search","added"],["class","tag-list",3,"tags","tagRemoved",4,"ngIf","ngIfElse"],["tagListPlaceholder",""],[1,"legend"],[1,"dot","assigned"],[1,"text","assigned"],[1,"dot","added"],[1,"text","added"],[1,"filler"],[1,"review-button",3,"registrationCallbackSet","displayErrors","userValid","metaData","registerData","enterErrorMode"],[1,"tag-list",3,"tags","tagRemoved"]],template:function(i,r){if(1&i&&(nt(0,"div",0),_n(1,"ccf-info-button",1),ot(),nt(2,"div",2)(3,"div",3)(4,"mat-expansion-panel",4),Ft("opened",function(){return r.registrationExpanded.emit(!0)})("closed",function(){return r.registrationExpanded.emit(!1)}),nt(5,"mat-expansion-panel-header",5)(6,"mat-panel-title",6),Wt(7,"Registration Metadata"),ot()(),_n(8,"ccf-registration-metadata"),ot(),_n(9,"mat-divider"),nt(10,"mat-expansion-panel",7)(11,"mat-expansion-panel-header",5)(12,"mat-panel-title",6),Wt(13,"Tissue Block Controls"),ot()(),nt(14,"ccf-block-size-input",8),Ft("blockSizeChange",function(s){return r.model.setBlockSize(s)}),ei(15,"async"),ot(),nt(16,"ccf-slices-input",9),Ft("slicesConfigChange",function(s){return r.model.setSlicesConfig(s)}),ei(17,"async"),ot(),nt(18,"ccf-rotation-slider",10),Ft("rotationChange",function(s){return r.model.setRotation(s)}),ei(19,"async"),ot()(),_n(20,"mat-divider"),nt(21,"mat-expansion-panel",11)(22,"mat-expansion-panel-header",5)(23,"mat-panel-title",12),Wt(24,"Anatomical Structure Tags"),ot()(),nt(25,"ccf-tag-search",13),Ft("added",function(s){return r.astags.addTags(s)}),ot(),hn(26,e5e,2,4,"ccf-tag-list",14),ei(27,"async"),hn(28,t5e,0,0,"ng-template",null,15,Lv),nt(30,"div",16),_n(31,"span",17),nt(32,"span",18),Wt(33,"Assigned"),ot(),_n(34,"span",19),nt(35,"span",20),Wt(36,"Added"),ot()()(),_n(37,"mat-divider")(38,"div",21),nt(39,"ccf-review-button",22),Ft("registerData",function(){return r.registration.register()})("enterErrorMode",function(){return r.registration.setDisplayErrors(!r.registration.isValid)}),ei(40,"async"),ei(41,"async"),ei(42,"async"),ei(43,"async"),ot()()()),2&i){const o=ts(29);let s,a,c,l,d;pt(10),Ot("expanded",!0),pt(4),Ot("blockSize",ni(15,12,r.model.blockSize$)),pt(2),Ot("slicesConfig",ni(17,14,r.model.slicesConfig$)),pt(2),Ot("rotation",ni(19,16,r.model.rotation$)),pt(3),Ot("expanded",!0),pt(4),Ot("search",r.astags.searchExternal),pt(1),Ot("ngIf",null==(s=ni(27,18,r.model.organ$))?null:s.name)("ngIfElse",o),pt(13),Ot("registrationCallbackSet",null!==(a=ni(40,20,r.page.registrationCallbackSet$))&&void 0!==a&&a)("displayErrors",null!==(c=ni(41,22,r.registration.displayErrors$))&&void 0!==c&&c)("userValid",null!==(l=ni(42,24,r.registration.valid$))&&void 0!==l&&l)("metaData",null!==(d=ni(43,26,r.registration.metadata$))&&void 0!==d?d:Tp(28,wZ))}},dependencies:[Ha,rT,OL,zq,tZ,zl,YHe,JHe,ZHe,t8e,O8e,Iy,X8e,vZ,vd],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - 2.5rem);margin-top:1rem;margin-bottom:1.5rem}[_nghost-%COMP%]   .info-button-container[_ngcontent-%COMP%]{height:3.75rem;display:flex;justify-content:flex-end}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]{overflow-y:scroll;height:calc(100% - 6rem);scrollbar-width:thin}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:.75rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%;margin:0 1.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .review-button[_ngcontent-%COMP%]{position:absolute;bottom:1.5rem;z-index:999;width:calc(100% - 3.5rem)}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{border-top-width:3px}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 .5rem 0 0;font-weight:700;-webkit-user-select:none;-moz-user-select:none;font-size:1rem;height:3rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding-left:0;padding-right:0}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding-left:0;padding-right:0}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:3rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .icon.add[_ngcontent-%COMP%]{position:absolute;width:3.625rem;height:3.625rem;font-size:3.625rem;top:-1.9375rem;right:-1.1875rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .tag-list[_ngcontent-%COMP%]{max-height:32rem;margin-left:-1rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .tag-list-placeholder[_ngcontent-%COMP%]{display:flex;height:4rem;align-items:center;justify-content:center;font-weight:400}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:1.5rem;align-items:center;font-size:.9rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;border-radius:50%}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .dot.assigned[_ngcontent-%COMP%]{margin-left:.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .dot.added[_ngcontent-%COMP%]{margin-left:1rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})(),i5e=(()=>{class n{constructor(t,i,r,o){this.page=t,this.model=i,this.dialogRef=r,this.clsName="ccf-registration-content",this.sexByLabel$=this.model.sex$.pipe(Bt(s=>"female"===s?"Female":"Male")),this.organList=d3,this.registrationSelected=!1,t.user$.subscribe(s=>{this.checkNameValid(s),this.orcidValid=t.isOrcidValid(),o.markForCheck()}),i.organ$.subscribe(s=>{this.organSelected=""!==s.src,o.markForCheck()}),this.sexByLabel$.subscribe(s=>{this.setSexFromLabel(s),o.markForCheck()}),r.disableClose=!0,this.page.organOptions$.subscribe(s=>{this.organList=s,o.markForCheck()})}setSexFromLabel(t){this.currentSex=t,this.sexSelected=!0}checkNameValid(t){this.nameValid=t.firstName.length>0&&t.lastName.length>0}organSelect(t){this.currentOrgan=t,this.organSelected=!0}registerButtonClick(t){t&&t.preventDefault(),this.organSelected&&this.nameValid&&this.closeDialog()}handleRegistrationSelect(){this.registrationSelected=!0}closeDialog(){this.model.setSex("Female"===this.currentSex?"female":"male"),this.model.setOrgan(this.currentOrgan),this.registrationSelected||this.model.setOrganDefaults(),this.dialogRef.close(!0),this.page.registrationStarted()}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Kr),Te(gr),Te(ay),Te(Ii))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-registration-content"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},decls:6,vars:3,consts:[[1,"modal"],[1,"title"],[3,"registrationSelected"],["mat-button","",1,"registration-button",3,"matTooltip","click"]],template:function(i,r){1&i&&(nt(0,"div",0)(1,"div",1),Wt(2,"Start Registration"),ot(),nt(3,"ccf-registration-metadata",2),Ft("registrationSelected",function(){return r.handleRegistrationSelect()}),ot(),nt(4,"button",3),Ft("click",function(s){return r.registerButtonClick(s)}),Wt(5," Continue "),ot()()),2&i&&(pt(4),pn("disabled",!r.organSelected||!r.nameValid||!r.orcidValid),Ot("matTooltip",r.organSelected&&r.nameValid?"":"Required: Enter first and last name, and select an organ"))},dependencies:[zl,vZ,m_],styles:[".modal[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;max-width:47rem;display:flex;flex-direction:column;gap:2rem}.modal[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.modal[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]{display:flex;height:3rem;align-items:center}.modal[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]   .slider-label[_ngcontent-%COMP%]{font-weight:600}.modal[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]{font-weight:600;height:3rem;line-height:3rem}.modal[_ngcontent-%COMP%]   .selector-container[_ngcontent-%COMP%]{margin:0 auto}.modal[_ngcontent-%COMP%]   .registration-button[_ngcontent-%COMP%]{transition:.6s;display:flex;width:10rem;height:2rem;padding:.25rem 1rem;justify-content:center;align-items:center;border-radius:.125rem;box-shadow:0 2px 6px #00000029;cursor:pointer}.modal[_ngcontent-%COMP%]   .registration-button.disabled[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0})}return n})(),r5e=(()=>{class n{constructor(t,i,r,o,s){this.dialog=t,this.page=i,this.model=r,this.referenceData=o,this.globalConfig=s,this.clsName="ccf-registration-modal",this.dialogOpen=!1}ngOnInit(){Mo([this.page.state$,this.model.state$,this.referenceData.state$,this.globalConfig.state$]).pipe(tr(([t,i,r,o])=>{this.dialogOpen||o.editRegistration||0!==Object.keys(r.organIRILookup).length&&(""!==t.user.firstName&&""!==t.user.lastName&&""!==i.organ.src||(this.dialogOpen=!0,this.openDialog()))})).subscribe()}openDialog(){this.dialog.open(i5e,{autoFocus:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(Te(Sf),Te(Kr),Te(gr),Te(Rm),Te(qo))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-registration-modal"]],hostVars:2,hostBindings:function(i,r){2&i&&Ci(r.clsName)},decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})(),o5e=(()=>{class n{get isLightTheme(){return this.theming.getTheme().endsWith("light")}constructor(t,i,r,o,s,a,c,l,d){this.model=t,this.page=i,this.consentService=r,this.snackbar=o,this.theming=s,this.globalConfig=l,this.registrationStarted=!1,this.disablePositionChange=!1,this.registrationExpanded=!1,this.theme$=this.globalConfig.getOption("theme"),this.themeMode$=new qh(1),this.header$=this.globalConfig.getOption("header"),this.homeUrl$=this.globalConfig.getOption("homeUrl"),this.logoTooltip$=this.globalConfig.getOption("logoTooltip"),this.subscriptions=new mt,s.initialize(a,c),this.subscriptions.add(i.registrationStarted$.subscribe(h=>{this.registrationStarted=h})),this.theme$.subscribe(h=>{this.theme=h??"light"}),this.globalConfig.getOption("homeUrl").subscribe(h=>{this.homeUrl=h??""}),this.globalConfig.getOption("logoTooltip").subscribe(h=>{this.logoTooltip=h??""}),Mo([this.theme$,this.themeMode$]).subscribe(([h,f])=>{this.theming.setTheme(`${h}-theme-${f}`),d.markForCheck()})}ngOnInit(){const t=this.snackbar.openFromComponent(Mje,{data:{preClose:()=>{t.dismiss()}},duration:"not-set"===this.consentService.consent?1/0:3e3});this.themeMode$.next("light"),this.theming.setTheme(`${this.theme}-theme-light`)}toggleScheme(){this.themeMode$.next(this.isLightTheme?"dark":"light")}registrationToggle(t){this.registrationExpanded=t,this.registrationExpanded||(this.disablePositionChange=!1)}handleKey(t){const i=this.model.snapshot.position;if(this.disablePositionChange||!this.registrationStarted)return;t.preventDefault();const r=t.repeat?1:.5;let o=i;switch(t.key){case"q":o={...i,z:i.z+r};break;case"e":o={...i,z:i.z-r};break;case"w":o={...i,y:i.y+r};break;case"s":o={...i,y:i.y-r};break;case"a":o={...i,x:i.x-r};break;case"d":o={...i,x:i.x+r}}this.model.setPosition(o)}handleClick(t){const i=["mat-mdc-input-element","form-input-label"];for(const r of i)if("string"==typeof t.className&&t.className.includes(r))return void(this.disablePositionChange=!0);this.disablePositionChange=!1}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(Te(gr),Te(Kr),Te(Ww),Te(U5),Te(l3),Te(In),Te(xi),Te(qo),Te(Ii))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-root"]],hostBindings:function(i,r){1&i&&Ft("keydown",function(s){return r.handleKey(s)},0,Rh)("mousedown",function(s){return r.handleClick(s.target)},!1,Rh)},decls:14,vars:13,consts:[[3,"logoTooltip","homeUrl"],["opened",""],[3,"modalClosed"],["position","end","opened",""],[3,"modalClosed","registrationExpanded"],[1,"stage-content",3,"disablePositionChange"]],template:function(i,r){if(1&i&&(_n(0,"ccf-registration-modal")(1,"ccf-header",0),ei(2,"async"),ei(3,"async"),ei(4,"async"),nt(5,"ccf-drawer-container")(6,"ccf-drawer",1),_n(7,"ccf-left-sidebar",2)(8,"ccf-drawer-toggle-button"),ot(),nt(9,"ccf-drawer",3)(10,"ccf-right-sidebar",4),Ft("registrationExpanded",function(s){return r.registrationToggle(s)}),ot(),_n(11,"ccf-drawer-toggle-button"),ot(),nt(12,"ccf-drawer-content"),_n(13,"ccf-content",5),ot()()),2&i){let o,s;pt(1),pn("header-hidden",!1===ni(2,7,r.header$)),Ot("logoTooltip",null!==(o=ni(3,9,r.logoTooltip$))&&void 0!==o?o:"")("homeUrl",null!==(s=ni(4,11,r.homeUrl$))&&void 0!==s?s:""),pt(6),Ot("modalClosed",r.registrationStarted),pt(3),Ot("modalClosed",r.registrationStarted),pt(3),Ot("disablePositionChange",r.disablePositionChange)}},dependencies:[T4e,zT,h3,M4e,H4e,vHe,XHe,n5e,r5e,vd],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:hidden;font-size:1rem;color:#000}[_nghost-%COMP%]   .header-hidden[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer[_ngcontent-%COMP%]{width:25.5rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]{position:relative;z-index:1}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]{top:0rem;display:flex;flex-direction:column;position:relative;height:5.688rem;transition:all .5s ease-in-out}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer.expanded[_ngcontent-%COMP%]{height:15rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   ccf-organ-selector[_ngcontent-%COMP%]{height:100%;padding-top:.5rem;transition:all .5s}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   ccf-organ-selector.closed[_ngcontent-%COMP%]{padding-top:0}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;height:0;z-index:2}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{cursor:pointer;transition:.6s}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]{width:3rem;height:1.2rem;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:#fff;border-bottom-left-radius:.2rem;border-bottom-right-radius:.2rem;transition:.6s}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]:hover{background-color:#ececec}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer.closed[_ngcontent-%COMP%]{height:3rem;top:-2.9rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .stage-content[_ngcontent-%COMP%]{border-radius:.5rem;height:calc(100% - 2.5rem)}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .expanded-stage[_ngcontent-%COMP%]{height:calc(100% - 1.5rem);padding-bottom:1rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .retracted-stage[_ngcontent-%COMP%]{height:calc(100% - 16.688rem)}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-content[_ngcontent-%COMP%]{position:absolute;transition-duration:.5s;transition-timing-function:ease-in-out;transition-property:all;bottom:1.5rem;z-index:1}  .mdc-snackbar__surface{box-shadow:none!important}"],changeDetection:0})}return n})();function s5e(n,e){1&n&&_n(0,"ccf-root")}function a5e(n){try{return kQ.json(n)}catch{return""+n}}let c5e=(()=>{class n extends a4e{constructor(t,i){super(t,i,{initialConfig:{...tu_dbOptions,...globalThis.ruiConfig,...tu_customization},parse:{useDownload:kQ.boolean,user:kQ.json,organ:a5e,editRegistration:kQ.json,register:kQ.function,cancelRegistration:kQ.function,fetchPreviousRegistrations:kQ.function,skipUnsavedChangesConfirmation:kQ.boolean,header:kQ.boolean,organOptions:kQ.stringArray}})}static#e=this.\u0275fac=function(i){return new(i||n)(Te(qo),Te(Ii))};static#t=this.\u0275cmp=dn({type:n,selectors:[["ccf-root-wc"]],inputs:{baseHref:"baseHref",useDownload:"useDownload",user:"user",organ:"organ",editRegistration:"editRegistration",register:"register",cancelRegistration:"cancelRegistration",fetchPreviousRegistrations:"fetchPreviousRegistrations",skipUnsavedChangesConfirmation:"skipUnsavedChangesConfirmation",theme:"theme",header:"header",homeUrl:"homeUrl",logoTooltip:"logoTooltip",organOptions:"organOptions",collisionsEndpoint:"collisionsEndpoint"},features:[Gn],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(i,r){1&i&&hn(0,s5e,1,0,"ccf-root",0),2&i&&Ot("ngIf",r.initialized)},dependencies:[Ha,o5e],encapsulation:2,changeDetection:0})}return n})();const l5e=new _t("Global configuration object");function d5e(n){return n.get("ruiConfig",{user:{firstName:"",lastName:""}})}let u5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({providers:[{provide:l5e,useFactory:d5e,deps:[LL]}]})}return n})(),h5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({providers:[{provide:Vv,useValue:l3.initialize,multi:!0},l3]})}return n})();const XT=(n,e)=>((n,e)=>new Array(e+1).join("0"))(0,e-n.toString().length)+n;class m5e{constructor(e,t,i){this.action=e,this.store=t,this.logWriter=i}dispatched(e){const t=hm(this.action),i=function p5e(n){return XT(n.getHours(),2)+":"+XT(n.getMinutes(),2)+":"+XT(n.getSeconds(),2)+"."+XT(n.getMilliseconds(),3)}(new Date);this.logWriter.startGroup(`action ${t} @ ${i}`),this._hasPayload(this.action)&&this.logWriter.logGrey("payload",Object.assign({},this.action)),this.logWriter.logGrey("prev state",e)}completed(e){this.logWriter.logGreen("next state",e),this.logWriter.endGroup()}errored(e){this.logWriter.logRedish("next state after error",this.store.snapshot()),this.logWriter.logRedish("error",e),this.logWriter.endGroup()}_hasPayload(e){return this._getNonEmptyProperties(e).length>0}_getNonEmptyProperties(e){return Object.keys(e).map(r=>e[r]).filter(r=>void 0!==r)}}class g5e{constructor(e){this.options=e,this.options=this.options||{},this.logger=e.logger||console}startGroup(e){const t=this.options.collapsed?this.logger.groupCollapsed:this.logger.group;try{t.call(this.logger,e)}catch{console.log(e)}}endGroup(){try{this.logger.groupEnd()}catch{this.logger.log("\u2014\u2014 log end \u2014\u2014")}}logGrey(e,t){this.log(e,"color: #9E9E9E; font-weight: bold",t)}logGreen(e,t){this.log(e,"color: #4CAF50; font-weight: bold",t)}logRedish(e,t){this.log(e,"color: #FD8182; font-weight: bold",t)}log(e,t,i){this.isIE()?this.logger.log(e,i):this.logger.log("%c "+e,t,i)}isIE(){const e=typeof window<"u"&&window.navigator.userAgent?window.navigator.userAgent:"";let t=!1;const i=e.indexOf("MSIE "),r=e.indexOf("Trident/");return(i>-1||r>-1)&&(t=!0),t}}const xZ=new _t("NGXS_LOGGER_PLUGIN_OPTIONS");let _5e=(()=>{class n{constructor(t,i){this._options=t,this._injector=i}handle(t,i,r){if(this._options.disabled||!this._options.filter(i,t))return r(t,i);this._logWriter=this._logWriter||new g5e(this._options),this._store=this._store||this._injector.get(Hd);const o=new m5e(i,this._store,this._logWriter);return o.dispatched(t),r(t,i).pipe(tr(s=>{o.completed(s)}),$a(s=>{throw o.errored(s),s}))}}return n.\u0275fac=function(t){return new(t||n)(et(xZ),et(xi))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();const EZ=new _t("LOGGER_USER_OPTIONS");function y5e(n){return Object.assign(Object.assign({},{logger:console,collapsed:!1,disabled:!1,filter:()=>!0}),n)}let b5e=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:HF,useClass:_5e,multi:!0},{provide:EZ,useValue:t},{provide:xZ,useFactory:y5e,deps:[EZ]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=en({}),n})();const E3=new _t(""),SZ=new _t(""),C3="@@STATE";function v5e(n){return Object.assign({key:[C3],storage:0,serialize:JSON.stringify,deserialize:JSON.parse,beforeSerialize:e=>e,afterDeserialize:e=>e},n)}function w5e(n,e){return $v(e)?null:0===n.storage?localStorage:1===n.storage?sessionStorage:null}function AZ(n,e){return e&&e.namespace?`${e.namespace}:${n}`:n}function TZ(n){return null!=n&&!!n.engine}const MZ="NGXS_OPTIONS_META",IZ=new _t("");function C5e(n,e){const i=(Array.isArray(e.key)?e.key:[e.key]).map(r=>{const o=function x5e(n){return TZ(n)&&(n=n.key),n.hasOwnProperty(MZ)&&(n=n[MZ].name),n instanceof Jke?n.getName():n}(r);return{key:o,engine:TZ(r)?n.get(r.engine):n.get(SZ)}});return Object.assign(Object.assign({},e),{keysWithEngines:i})}let S5e=(()=>{class n{constructor(t,i){this._options=t,this._platformId=i,this._keysWithEngines=this._options.keysWithEngines,this._usesDefaultStateKey=1===this._keysWithEngines.length&&this._keysWithEngines[0].key===C3}handle(t,i,r){var o;if($v(this._platformId))return r(t,i);const s=function ZPe(n){const e=hm(n);return function(t){return e===hm(t)}}(i),a=s(KF),c=s(JF),l=a||c;let d=!1;if(l){const h=c&&i.addedStates;for(const{key:f,engine:m}of this._keysWithEngines){if(!this._usesDefaultStateKey&&h){const C=f.indexOf(A5e),B=C>-1?f.slice(0,C):f;if(!h.hasOwnProperty(B))continue}const g=AZ(f,this._options);let v=m.getItem(g);if("undefined"!==v&&null!=v){try{const C=this._options.deserialize(v);v=this._options.afterDeserialize(C,f)}catch{v={}}null===(o=this._options.migrations)||void 0===o||o.forEach(C=>{C.version===_w(v,C.versionKey||"version")&&(!C.key&&this._usesDefaultStateKey||C.key===f)&&(v=C.migrate(v),d=!0)}),this._usesDefaultStateKey?(v&&h&&Object.keys(h).length>0&&(v=Object.keys(h).reduce((C,B)=>(v.hasOwnProperty(B)&&(C[B]=v[B]),C),{})),t=Object.assign(Object.assign({},t),v)):t=UF(t,f,v)}}}return r(t,i).pipe(tr(h=>{if(!l||d)for(const{key:f,engine:m}of this._keysWithEngines){let g=h;const v=AZ(f,this._options);f!==C3&&(g=_w(h,f));try{const C=this._options.beforeSerialize(g,f);m.setItem(v,this._options.serialize(C))}catch(C){}}}))}}return n.\u0275fac=function(t){return new(t||n)(et(IZ),et(Ss))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();const A5e=".",OZ=new _t("");let M5e=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:HF,useClass:S5e,multi:!0},{provide:OZ,useValue:t},{provide:E3,useFactory:v5e,deps:[OZ]},{provide:SZ,useFactory:w5e,deps:[E3,Ss]},{provide:IZ,useFactory:C5e,deps:[xi,E3]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=on({type:n}),n.\u0275inj=en({}),n})();new _t("",{providedIn:"root",factory:()=>wd(jt(Ss))?localStorage:null}),new _t("",{providedIn:"root",factory:()=>wd(jt(Ss))?sessionStorage:null});const PZ=[{name:"bladder",namespace:"app",url:"assets/icons/organ-icons/organ-icon-bladder.svg"},{name:"blood",namespace:"app",url:"assets/icons/organ-icons/organ-icon-blood.svg"},{name:"bone-marrow",namespace:"app",url:"assets/icons/organ-icons/organ-icon-bone-marrow.svg"},{name:"brain",namespace:"app",url:"assets/icons/organ-icons/organ-icon-brain.svg"},{name:"mammary-gland",namespace:"app",url:"assets/icons/organ-icons/organ-icon-breast.svg"},{name:"main-bronchus",namespace:"app",url:"assets/icons/organ-icons/organ-icon-extrapulmonary-bronchus.svg"},{name:"eye",namespace:"app",url:"assets/icons/organ-icons/organ-icon-eye.svg"},{name:"fallopian-tube-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-fallopian-tube-left.svg"},{name:"fallopian-tube-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-fallopian-tube-right.svg"},{name:"heart",namespace:"app",url:"assets/icons/organ-icons/organ-icon-heart.svg"},{name:"kidney-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-kidney-left.svg"},{name:"kidney-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-kidney-right.svg"},{name:"kidneys",namespace:"app",url:"assets/icons/organ-icons/organ-icon-kidneys.svg"},{name:"knee",namespace:"app",url:"assets/icons/organ-icons/organ-icon-knee.svg"},{name:"large-intestine",namespace:"app",url:"assets/icons/organ-icons/organ-icon-large-intestine.svg"},{name:"larynx",namespace:"app",url:"assets/icons/organ-icons/organ-icon-larynx.svg"},{name:"liver",namespace:"app",url:"assets/icons/organ-icons/organ-icon-liver.svg"},{name:"lung-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-lung-left.svg"},{name:"lung-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-lung-right.svg"},{name:"lung",namespace:"app",url:"assets/icons/organ-icons/organ-icon-lungs.svg"},{name:"lymph-nodes",namespace:"app",url:"assets/icons/organ-icons/organ-icon-lymph-nodes.svg"},{name:"neurons",namespace:"app",url:"assets/icons/organ-icons/organ-icon-neurons.svg"},{name:"ovaries",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ovaries.svg"},{name:"ovary-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ovary-left.svg"},{name:"ovary-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ovary-right.svg"},{name:"palatine-tonsil",namespace:"app",url:"assets/icons/organ-icons/organ-icon-palatine-tonsil.svg"},{name:"pancreas",namespace:"app",url:"assets/icons/organ-icons/organ-icon-pancreas.svg"},{name:"pelvis-f",namespace:"app",url:"assets/icons/organ-icons/organ-icon-pelvis.svg"},{name:"placenta",namespace:"app",url:"assets/icons/organ-icons/organ-icon-placenta.svg"},{name:"prostate",namespace:"app",url:"assets/icons/organ-icons/organ-icon-prostate.svg"},{name:"skin",namespace:"app",url:"assets/icons/organ-icons/organ-icon-skin.svg"},{name:"small-intestine",namespace:"app",url:"assets/icons/organ-icons/organ-icon-small-intestine.svg"},{name:"spinal-cord",namespace:"app",url:"assets/icons/organ-icons/organ-icon-spinal-cord.svg"},{name:"spleen",namespace:"app",url:"assets/icons/organ-icons/organ-icon-spleen.svg"},{name:"stomach",namespace:"app",url:"assets/icons/organ-icons/organ-icon-stomach.svg"},{name:"thymus",namespace:"app",url:"assets/icons/organ-icons/organ-icon-thymus.svg"},{name:"trachea",namespace:"app",url:"assets/icons/organ-icons/organ-icon-trachea.svg"},{name:"ureter-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ureter-left.svg"},{name:"ureter-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ureter-right.svg"},{name:"uterus",namespace:"app",url:"assets/icons/organ-icons/organ-icon-uterus.svg"},{name:"vasculature-thick",namespace:"app",url:"assets/icons/organ-icons/organ-icon-vasculature-thick.svg"},{name:"vasculature-thin",namespace:"app",url:"assets/icons/organ-icons/organ-icon-vasculature-thin.svg"},{name:"opacity",namespace:"app",url:"assets/icons/opacity-24px.svg"},{name:"visibility_on",namespace:"app",url:"assets/icons/visibility-on-24px.svg"},{name:"visibility_off",namespace:"app",url:"assets/icons/visibility-off-24px.svg"},{name:"visibility_off_cube",namespace:"app",url:"assets/icons/ico-cube.svg"}];let qT=class iM extends WLe{constructor(e,t,i){super(),this.registry=e,this.sanitizer=t,this.globalConfig=i}ngxsOnInit(){PZ.filter(e=>void 0!==e.html).map(e=>({...e,html:this.sanitizer.bypassSecurityTrustHtml(e.html??"")})).forEach(e=>this.registerIconImpl(e)),this.registry?.addSvgIconResolver((e,t)=>{const i=PZ.find(o=>(o.name??"")===e&&(o.namespace??"")===t);return void 0===i?.url?null:this.sanitizer.bypassSecurityTrustResourceUrl((this.globalConfig.snapshot.baseHref??"")+i.url)})}registerIcon(e){return this.registerIconImpl(e)}registerIconImpl(e){if(!this.registry||!e.url&&!e.html)return!1;const t=this.registry,r=t[this.getMethodName(e)],o=this.getArguments(e);if(!r)return!1;try{return r.apply(t,o),!0}catch{return!1}}getMethodName({name:e,namespace:t,url:i}){const r=["addSvgIcon"];return e||r.push("Set"),i||r.push("Literal"),t&&r.push("InNamespace"),r.join("")}getArguments({name:e,namespace:t,url:i,html:r}){return[t,e,i??r].filter(s=>!!s)}static#e=this.\u0275fac=function(t){return new(t||iM)(et(h0,8),et(Op),et(qo))};static#t=this.\u0275prov=It({token:iM,factory:iM.\u0275fac})};Pt([qn(),Fe("design:type",Function),Fe("design:paramtypes",[Object]),Fe("design:returntype",Boolean)],qT.prototype,"registerIcon",null),qT=Pt([th(),Gd({name:"iconRegistry"}),Fe("design:paramtypes",[Object,Op,qo])],qT);const I5e=[qo,qT,Kr,gr,nu,Rm,ho,da];let D5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[jLe.forRoot(),zke.forRoot(I5e,{developmentMode:!1}),M5e.forRoot({key:["registration.registrations"]}),b5e.forRoot({disabled:true})]})}return n})(),O5e=(()=>{class n{constructor(t){if(t)throw new Error("The core module should only be imported once in the root module")}static#e=this.\u0275fac=function(i){return new(i||n)(et(n,12))};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[c5,Sje.forRoot({gaToken:"G-ERNVZ1Q4KE",appName:"rui"}),bje,u5e,D5e,h5e]})}return n})(),R5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,oHe]})}return n})(),P5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,KQ,g3,co,m3,R5e,ol]})}return n})(),k5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,Xq,co,iT]})}return n})(),N5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,co,k5e]})}return n})(),F5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,P5e,co,WPe,N5e,mc,r4e,jme]})}return n})(),L5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,co,ol]})}return n})(),B5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,g3]})}return n})(),kZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,sy,bL,vL,ol]})}return n})(),j5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,co,mc,Sq]})}return n})(),NZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,co,pZ]})}return n})(),U5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,RL,co,ol,m3,kZ,NZ,B5e,Sq,j5e,NZ]})}return n})(),V5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,Lu]})}return n})(),FZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,sy,bL,vL,ol,kZ,KQ,ef,g3,Lu,ol,V5e]})}return n})(),z5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,ol,FZ,Lu]})}return n})(),H5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,iT,co,z5e]})}return n})(),G5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,sy,co,mc,ol,ef]})}return n})(),W5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,co,Cq,mc,ol,sy,ef]})}return n})(),$5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,sy,co,mc,ol,zFe,ef]})}return n})(),X5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,pZ,co]})}return n})(),Y5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,bL,vL,Lu,z8e,ef,co,sy]})}return n})(),q5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,iT,co,Lu]})}return n})(),K5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,q5e,Lu,ol]})}return n})(),J5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({imports:[Oi,RL,m3,co,BP,ol,G5e,K5e,W5e,$5e,X5e,Y5e,VFe,FZ]})}return n})(),Q5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({providers:[{provide:UQ,useValue:jQ}],imports:[wR,BP,co]})}return n})(),Z5e=(()=>{class n{constructor(t){this.injector=t}ngDoBootstrap(){const t=function ede(n,e){const t=function Xle(n,e){return e.get(pd).resolveComponentFactory(n).inputs}(n,e.injector),i=e.strategyFactory||new Jle(n,e.injector),r=function $le(n){const e={};return n.forEach(({propName:t,templateName:i,transform:r})=>{e[function Vle(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(i)]=[t,r]}),e}(t);class o extends Zle{static#e=this.observedAttributes=Object.keys(r);get ngElementStrategy(){if(!this._ngElementStrategy){const a=this._ngElementStrategy=i.create(this.injector||e.injector);t.forEach(({propName:c,transform:l})=>{if(!this.hasOwnProperty(c))return;const d=this[c];delete this[c],a.setInputValue(c,d,l)})}return this._ngElementStrategy}constructor(a){super(),this.injector=a}attributeChangedCallback(a,c,l,d){const[h,f]=r[a];this.ngElementStrategy.setInputValue(h,l,f)}connectedCallback(){let a=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a=!0),this.ngElementStrategy.connect(this),a||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a=>{const c=new CustomEvent(a.name,{detail:a.value});this.dispatchEvent(c)})}}return t.forEach(({propName:s,transform:a})=>{Object.defineProperty(o.prototype,s,{get(){return this.ngElementStrategy.getInputValue(s)},set(c){this.ngElementStrategy.setInputValue(s,c,a)},configurable:!0,enumerable:!0})}),o}(c5e,{injector:this.injector});customElements.define("ccf-rui",t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(xi))};static#t=this.\u0275mod=on({type:n});static#n=this.\u0275inj=en({providers:[{provide:NQ,useValue:"hubmap-theme-light"},{provide:z8,useValue:{floatLabel:!0}}],imports:[wR,BP,O5e,co,Q5e,L5e,F5e,U5e,J5e,H5e,vje,Yfe]})}return n})();Qce().bootstrapModule(Z5e).catch(n=>console.error(n))},2323:Ve=>{Ve.exports=function(S,Z){var A=Z.length;if(0!==A){var $=S.length;S.length+=A;for(var H=0;H<A;H++)S[$+H]=Z[H]}}},3982:Ve=>{"use strict";const{AbortController:_e,AbortSignal:S}=typeof self<"u"?self:typeof window<"u"?window:void 0;Ve.exports=_e,Ve.exports.AbortSignal=S,Ve.exports.default=_e},9919:(Ve,_e)=>{"use strict";_e.byteLength=function x(w){var F=_(w),X=F[1];return 3*(F[0]+X)/4-X},_e.toByteArray=function G(w){var F,b,re=_(w),X=re[0],q=re[1],ee=new A(function N(w,F,re){return 3*(F+re)/4-re}(0,X,q)),W=0,L=q>0?X-4:X;for(b=0;b<L;b+=4)F=Z[w.charCodeAt(b)]<<18|Z[w.charCodeAt(b+1)]<<12|Z[w.charCodeAt(b+2)]<<6|Z[w.charCodeAt(b+3)],ee[W++]=F>>16&255,ee[W++]=F>>8&255,ee[W++]=255&F;return 2===q&&(F=Z[w.charCodeAt(b)]<<2|Z[w.charCodeAt(b+1)]>>4,ee[W++]=255&F),1===q&&(F=Z[w.charCodeAt(b)]<<10|Z[w.charCodeAt(b+1)]<<4|Z[w.charCodeAt(b+2)]>>2,ee[W++]=F>>8&255,ee[W++]=255&F),ee},_e.fromByteArray=function oe(w){for(var F,re=w.length,X=re%3,q=[],W=0,L=re-X;W<L;W+=16383)q.push(k(w,W,W+16383>L?L:W+16383));return 1===X?q.push(S[(F=w[re-1])>>2]+S[F<<4&63]+"=="):2===X&&q.push(S[(F=(w[re-2]<<8)+w[re-1])>>10]+S[F>>4&63]+S[F<<2&63]+"="),q.join("")};for(var S=[],Z=[],A=typeof Uint8Array<"u"?Uint8Array:Array,$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H=0;H<64;++H)S[H]=$[H],Z[$.charCodeAt(H)]=H;function _(w){var F=w.length;if(F%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var re=w.indexOf("=");return-1===re&&(re=F),[re,re===F?0:4-re%4]}function O(w){return S[w>>18&63]+S[w>>12&63]+S[w>>6&63]+S[63&w]}function k(w,F,re){for(var q=[],ee=F;ee<re;ee+=3)q.push(O((w[ee]<<16&16711680)+(w[ee+1]<<8&65280)+(255&w[ee+2])));return q.join("")}Z["-".charCodeAt(0)]=62,Z["_".charCodeAt(0)]=63},1979:(Ve,_e)=>{"use strict";var Z=function($){return $.typeOfFunction="function",$.boolTrue=!0,$}(Z||{});_e.ak=function A($,H,Y){if(!Y||typeof Y.value!==Z.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+H+"> is not a method!");return{configurable:Z.boolTrue,get:function(){var _=Y.value.bind(this);return Object.defineProperty(this,H,{value:_,configurable:Z.boolTrue,writable:Z.boolTrue}),_}}}},9007:(Ve,_e,S)=>{"use strict";var Z=S(9919),A=S(2601);_e.Buffer=_,_e.SlowBuffer=function X(U){return+U!=U&&(U=0),_.alloc(+U)},_e.INSPECT_MAX_BYTES=50;var $=2147483647;function Y(U){if(U>$)throw new RangeError('The value "'+U+'" is invalid for option "size"');var M=new Uint8Array(U);return M.__proto__=_.prototype,M}function _(U,M,P){if("number"==typeof U){if("string"==typeof M)throw new TypeError('The "string" argument must be of type string. Received type number');return O(U)}return x(U,M,P)}function x(U,M,P){if("string"==typeof U)return function k(U,M){if(("string"!=typeof M||""===M)&&(M="utf8"),!_.isEncoding(M))throw new TypeError("Unknown encoding: "+M);var P=0|q(U,M),he=Y(P),Xe=he.write(U,M);return Xe!==P&&(he=he.slice(0,Xe)),he}(U,M);if(ArrayBuffer.isView(U))return oe(U);if(null==U)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(de(U,ArrayBuffer)||U&&de(U.buffer,ArrayBuffer))return function w(U,M,P){if(M<0||U.byteLength<M)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<M+(P||0))throw new RangeError('"length" is outside of buffer bounds');var he;return(he=void 0===M&&void 0===P?new Uint8Array(U):void 0===P?new Uint8Array(U,M):new Uint8Array(U,M,P)).__proto__=_.prototype,he}(U,M,P);if("number"==typeof U)throw new TypeError('The "value" argument must not be of type number. Received type number');var he=U.valueOf&&U.valueOf();if(null!=he&&he!==U)return _.from(he,M,P);var Xe=function F(U){if(_.isBuffer(U)){var M=0|re(U.length),P=Y(M);return 0===P.length||U.copy(P,0,0,M),P}return void 0!==U.length?"number"!=typeof U.length||ne(U.length)?Y(0):oe(U):"Buffer"===U.type&&Array.isArray(U.data)?oe(U.data):void 0}(U);if(Xe)return Xe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof U[Symbol.toPrimitive])return _.from(U[Symbol.toPrimitive]("string"),M,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function N(U){if("number"!=typeof U)throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function O(U){return N(U),Y(U<0?0:0|re(U))}function oe(U){for(var M=U.length<0?0:0|re(U.length),P=Y(M),he=0;he<M;he+=1)P[he]=255&U[he];return P}function re(U){if(U>=$)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$.toString(16)+" bytes");return 0|U}function q(U,M){if(_.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||de(U,ArrayBuffer))return U.byteLength;if("string"!=typeof U)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);var P=U.length,he=arguments.length>2&&!0===arguments[2];if(!he&&0===P)return 0;for(var Xe=!1;;)switch(M){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return E(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*P;case"hex":return P>>>1;case"base64":return He(U).length;default:if(Xe)return he?-1:E(U).length;M=(""+M).toLowerCase(),Xe=!0}}function ee(U,M,P){var he=!1;if((void 0===M||M<0)&&(M=0),M>this.length||((void 0===P||P>this.length)&&(P=this.length),P<=0)||(P>>>=0)<=(M>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return ze(this,M,P);case"utf8":case"utf-8":return Ne(this,M,P);case"ascii":return Ke(this,M,P);case"latin1":case"binary":return Ae(this,M,P);case"base64":return xe(this,M,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Se(this,M,P);default:if(he)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),he=!0}}function W(U,M,P){var he=U[M];U[M]=U[P],U[P]=he}function L(U,M,P,he,Xe){if(0===U.length)return-1;if("string"==typeof P?(he=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),ne(P=+P)&&(P=Xe?0:U.length-1),P<0&&(P=U.length+P),P>=U.length){if(Xe)return-1;P=U.length-1}else if(P<0){if(!Xe)return-1;P=0}if("string"==typeof M&&(M=_.from(M,he)),_.isBuffer(M))return 0===M.length?-1:b(U,M,P,he,Xe);if("number"==typeof M)return M&=255,"function"==typeof Uint8Array.prototype.indexOf?Xe?Uint8Array.prototype.indexOf.call(U,M,P):Uint8Array.prototype.lastIndexOf.call(U,M,P):b(U,[M],P,he,Xe);throw new TypeError("val must be string, number or Buffer")}function b(U,M,P,he,Xe){var Ut,Ee=1,Oe=U.length,ut=M.length;if(void 0!==he&&("ucs2"===(he=String(he).toLowerCase())||"ucs-2"===he||"utf16le"===he||"utf-16le"===he)){if(U.length<2||M.length<2)return-1;Ee=2,Oe/=2,ut/=2,P/=2}function St(V,te){return 1===Ee?V[te]:V.readUInt16BE(te*Ee)}if(Xe){var mt=-1;for(Ut=P;Ut<Oe;Ut++)if(St(U,Ut)===St(M,-1===mt?0:Ut-mt)){if(-1===mt&&(mt=Ut),Ut-mt+1===ut)return mt*Ee}else-1!==mt&&(Ut-=Ut-mt),mt=-1}else for(P+ut>Oe&&(P=Oe-ut),Ut=P;Ut>=0;Ut--){for(var an=!0,me=0;me<ut;me++)if(St(U,Ut+me)!==St(M,me)){an=!1;break}if(an)return Ut}return-1}function I(U,M,P,he){P=Number(P)||0;var Xe=U.length-P;he?(he=Number(he))>Xe&&(he=Xe):he=Xe;var Ee=M.length;he>Ee/2&&(he=Ee/2);for(var Oe=0;Oe<he;++Oe){var ut=parseInt(M.substr(2*Oe,2),16);if(ne(ut))return Oe;U[P+Oe]=ut}return Oe}function T(U,M,P,he){return Qe(E(M,U.length-P),U,P,he)}function ce(U,M,P,he){return Qe(function ie(U){for(var M=[],P=0;P<U.length;++P)M.push(255&U.charCodeAt(P));return M}(M),U,P,he)}function j(U,M,P,he){return ce(U,M,P,he)}function Ie(U,M,P,he){return Qe(He(M),U,P,he)}function ae(U,M,P,he){return Qe(function Q(U,M){for(var P,he,Ee=[],Oe=0;Oe<U.length&&!((M-=2)<0);++Oe)he=(P=U.charCodeAt(Oe))>>8,Ee.push(P%256),Ee.push(he);return Ee}(M,U.length-P),U,P,he)}function xe(U,M,P){return Z.fromByteArray(0===M&&P===U.length?U:U.slice(M,P))}function Ne(U,M,P){P=Math.min(U.length,P);for(var he=[],Xe=M;Xe<P;){var St,Ut,mt,an,Ee=U[Xe],Oe=null,ut=Ee>239?4:Ee>223?3:Ee>191?2:1;if(Xe+ut<=P)switch(ut){case 1:Ee<128&&(Oe=Ee);break;case 2:128==(192&(St=U[Xe+1]))&&(an=(31&Ee)<<6|63&St)>127&&(Oe=an);break;case 3:Ut=U[Xe+2],128==(192&(St=U[Xe+1]))&&128==(192&Ut)&&(an=(15&Ee)<<12|(63&St)<<6|63&Ut)>2047&&(an<55296||an>57343)&&(Oe=an);break;case 4:Ut=U[Xe+2],mt=U[Xe+3],128==(192&(St=U[Xe+1]))&&128==(192&Ut)&&128==(192&mt)&&(an=(15&Ee)<<18|(63&St)<<12|(63&Ut)<<6|63&mt)>65535&&an<1114112&&(Oe=an)}null===Oe?(Oe=65533,ut=1):Oe>65535&&(he.push((Oe-=65536)>>>10&1023|55296),Oe=56320|1023&Oe),he.push(Oe),Xe+=ut}return function it(U){var M=U.length;if(M<=Ge)return String.fromCharCode.apply(String,U);for(var P="",he=0;he<M;)P+=String.fromCharCode.apply(String,U.slice(he,he+=Ge));return P}(he)}_e.kMaxLength=$,!(_.TYPED_ARRAY_SUPPORT=function H(){try{var U=new Uint8Array(1);return U.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===U.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(_.prototype,"parent",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.buffer}}),Object.defineProperty(_.prototype,"offset",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&_[Symbol.species]===_&&Object.defineProperty(_,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),_.poolSize=8192,_.from=function(U,M,P){return x(U,M,P)},_.prototype.__proto__=Uint8Array.prototype,_.__proto__=Uint8Array,_.alloc=function(U,M,P){return function G(U,M,P){return N(U),U<=0?Y(U):void 0!==M?"string"==typeof P?Y(U).fill(M,P):Y(U).fill(M):Y(U)}(U,M,P)},_.allocUnsafe=function(U){return O(U)},_.allocUnsafeSlow=function(U){return O(U)},_.isBuffer=function(M){return null!=M&&!0===M._isBuffer&&M!==_.prototype},_.compare=function(M,P){if(de(M,Uint8Array)&&(M=_.from(M,M.offset,M.byteLength)),de(P,Uint8Array)&&(P=_.from(P,P.offset,P.byteLength)),!_.isBuffer(M)||!_.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(M===P)return 0;for(var he=M.length,Xe=P.length,Ee=0,Oe=Math.min(he,Xe);Ee<Oe;++Ee)if(M[Ee]!==P[Ee]){he=M[Ee],Xe=P[Ee];break}return he<Xe?-1:Xe<he?1:0},_.isEncoding=function(M){switch(String(M).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(M,P){if(!Array.isArray(M))throw new TypeError('"list" argument must be an Array of Buffers');if(0===M.length)return _.alloc(0);var he;if(void 0===P)for(P=0,he=0;he<M.length;++he)P+=M[he].length;var Xe=_.allocUnsafe(P),Ee=0;for(he=0;he<M.length;++he){var Oe=M[he];if(de(Oe,Uint8Array)&&(Oe=_.from(Oe)),!_.isBuffer(Oe))throw new TypeError('"list" argument must be an Array of Buffers');Oe.copy(Xe,Ee),Ee+=Oe.length}return Xe},_.byteLength=q,_.prototype._isBuffer=!0,_.prototype.swap16=function(){var M=this.length;if(M%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var P=0;P<M;P+=2)W(this,P,P+1);return this},_.prototype.swap32=function(){var M=this.length;if(M%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var P=0;P<M;P+=4)W(this,P,P+3),W(this,P+1,P+2);return this},_.prototype.swap64=function(){var M=this.length;if(M%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var P=0;P<M;P+=8)W(this,P,P+7),W(this,P+1,P+6),W(this,P+2,P+5),W(this,P+3,P+4);return this},_.prototype.toLocaleString=_.prototype.toString=function(){var M=this.length;return 0===M?"":0===arguments.length?Ne(this,0,M):ee.apply(this,arguments)},_.prototype.equals=function(M){if(!_.isBuffer(M))throw new TypeError("Argument must be a Buffer");return this===M||0===_.compare(this,M)},_.prototype.inspect=function(){var M="",P=_e.INSPECT_MAX_BYTES;return M=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(M+=" ... "),"<Buffer "+M+">"},_.prototype.compare=function(M,P,he,Xe,Ee){if(de(M,Uint8Array)&&(M=_.from(M,M.offset,M.byteLength)),!_.isBuffer(M))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof M);if(void 0===P&&(P=0),void 0===he&&(he=M?M.length:0),void 0===Xe&&(Xe=0),void 0===Ee&&(Ee=this.length),P<0||he>M.length||Xe<0||Ee>this.length)throw new RangeError("out of range index");if(Xe>=Ee&&P>=he)return 0;if(Xe>=Ee)return-1;if(P>=he)return 1;if(this===M)return 0;for(var Oe=(Ee>>>=0)-(Xe>>>=0),ut=(he>>>=0)-(P>>>=0),St=Math.min(Oe,ut),Ut=this.slice(Xe,Ee),mt=M.slice(P,he),an=0;an<St;++an)if(Ut[an]!==mt[an]){Oe=Ut[an],ut=mt[an];break}return Oe<ut?-1:ut<Oe?1:0},_.prototype.includes=function(M,P,he){return-1!==this.indexOf(M,P,he)},_.prototype.indexOf=function(M,P,he){return L(this,M,P,he,!0)},_.prototype.lastIndexOf=function(M,P,he){return L(this,M,P,he,!1)},_.prototype.write=function(M,P,he,Xe){if(void 0===P)Xe="utf8",he=this.length,P=0;else if(void 0===he&&"string"==typeof P)Xe=P,he=this.length,P=0;else{if(!isFinite(P))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");P>>>=0,isFinite(he)?(he>>>=0,void 0===Xe&&(Xe="utf8")):(Xe=he,he=void 0)}var Ee=this.length-P;if((void 0===he||he>Ee)&&(he=Ee),M.length>0&&(he<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");Xe||(Xe="utf8");for(var Oe=!1;;)switch(Xe){case"hex":return I(this,M,P,he);case"utf8":case"utf-8":return T(this,M,P,he);case"ascii":return ce(this,M,P,he);case"latin1":case"binary":return j(this,M,P,he);case"base64":return Ie(this,M,P,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,M,P,he);default:if(Oe)throw new TypeError("Unknown encoding: "+Xe);Xe=(""+Xe).toLowerCase(),Oe=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ge=4096;function Ke(U,M,P){var he="";P=Math.min(U.length,P);for(var Xe=M;Xe<P;++Xe)he+=String.fromCharCode(127&U[Xe]);return he}function Ae(U,M,P){var he="";P=Math.min(U.length,P);for(var Xe=M;Xe<P;++Xe)he+=String.fromCharCode(U[Xe]);return he}function ze(U,M,P){var he=U.length;(!M||M<0)&&(M=0),(!P||P<0||P>he)&&(P=he);for(var Xe="",Ee=M;Ee<P;++Ee)Xe+=R(U[Ee]);return Xe}function Se(U,M,P){for(var he=U.slice(M,P),Xe="",Ee=0;Ee<he.length;Ee+=2)Xe+=String.fromCharCode(he[Ee]+256*he[Ee+1]);return Xe}function Ue(U,M,P){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+M>P)throw new RangeError("Trying to access beyond buffer length")}function ue(U,M,P,he,Xe,Ee){if(!_.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>Xe||M<Ee)throw new RangeError('"value" argument is out of bounds');if(P+he>U.length)throw new RangeError("Index out of range")}function Ce(U,M,P,he,Xe,Ee){if(P+he>U.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function at(U,M,P,he,Xe){return M=+M,P>>>=0,Xe||Ce(U,0,P,4),A.write(U,M,P,he,23,4),P+4}function vt(U,M,P,he,Xe){return M=+M,P>>>=0,Xe||Ce(U,0,P,8),A.write(U,M,P,he,52,8),P+8}_.prototype.slice=function(M,P){var he=this.length;(M=~~M)<0?(M+=he)<0&&(M=0):M>he&&(M=he),(P=void 0===P?he:~~P)<0?(P+=he)<0&&(P=0):P>he&&(P=he),P<M&&(P=M);var Xe=this.subarray(M,P);return Xe.__proto__=_.prototype,Xe},_.prototype.readUIntLE=function(M,P,he){M>>>=0,P>>>=0,he||Ue(M,P,this.length);for(var Xe=this[M],Ee=1,Oe=0;++Oe<P&&(Ee*=256);)Xe+=this[M+Oe]*Ee;return Xe},_.prototype.readUIntBE=function(M,P,he){M>>>=0,P>>>=0,he||Ue(M,P,this.length);for(var Xe=this[M+--P],Ee=1;P>0&&(Ee*=256);)Xe+=this[M+--P]*Ee;return Xe},_.prototype.readUInt8=function(M,P){return M>>>=0,P||Ue(M,1,this.length),this[M]},_.prototype.readUInt16LE=function(M,P){return M>>>=0,P||Ue(M,2,this.length),this[M]|this[M+1]<<8},_.prototype.readUInt16BE=function(M,P){return M>>>=0,P||Ue(M,2,this.length),this[M]<<8|this[M+1]},_.prototype.readUInt32LE=function(M,P){return M>>>=0,P||Ue(M,4,this.length),(this[M]|this[M+1]<<8|this[M+2]<<16)+16777216*this[M+3]},_.prototype.readUInt32BE=function(M,P){return M>>>=0,P||Ue(M,4,this.length),16777216*this[M]+(this[M+1]<<16|this[M+2]<<8|this[M+3])},_.prototype.readIntLE=function(M,P,he){M>>>=0,P>>>=0,he||Ue(M,P,this.length);for(var Xe=this[M],Ee=1,Oe=0;++Oe<P&&(Ee*=256);)Xe+=this[M+Oe]*Ee;return Xe>=(Ee*=128)&&(Xe-=Math.pow(2,8*P)),Xe},_.prototype.readIntBE=function(M,P,he){M>>>=0,P>>>=0,he||Ue(M,P,this.length);for(var Xe=P,Ee=1,Oe=this[M+--Xe];Xe>0&&(Ee*=256);)Oe+=this[M+--Xe]*Ee;return Oe>=(Ee*=128)&&(Oe-=Math.pow(2,8*P)),Oe},_.prototype.readInt8=function(M,P){return M>>>=0,P||Ue(M,1,this.length),128&this[M]?-1*(255-this[M]+1):this[M]},_.prototype.readInt16LE=function(M,P){M>>>=0,P||Ue(M,2,this.length);var he=this[M]|this[M+1]<<8;return 32768&he?4294901760|he:he},_.prototype.readInt16BE=function(M,P){M>>>=0,P||Ue(M,2,this.length);var he=this[M+1]|this[M]<<8;return 32768&he?4294901760|he:he},_.prototype.readInt32LE=function(M,P){return M>>>=0,P||Ue(M,4,this.length),this[M]|this[M+1]<<8|this[M+2]<<16|this[M+3]<<24},_.prototype.readInt32BE=function(M,P){return M>>>=0,P||Ue(M,4,this.length),this[M]<<24|this[M+1]<<16|this[M+2]<<8|this[M+3]},_.prototype.readFloatLE=function(M,P){return M>>>=0,P||Ue(M,4,this.length),A.read(this,M,!0,23,4)},_.prototype.readFloatBE=function(M,P){return M>>>=0,P||Ue(M,4,this.length),A.read(this,M,!1,23,4)},_.prototype.readDoubleLE=function(M,P){return M>>>=0,P||Ue(M,8,this.length),A.read(this,M,!0,52,8)},_.prototype.readDoubleBE=function(M,P){return M>>>=0,P||Ue(M,8,this.length),A.read(this,M,!1,52,8)},_.prototype.writeUIntLE=function(M,P,he,Xe){M=+M,P>>>=0,he>>>=0,Xe||ue(this,M,P,he,Math.pow(2,8*he)-1,0);var Oe=1,ut=0;for(this[P]=255&M;++ut<he&&(Oe*=256);)this[P+ut]=M/Oe&255;return P+he},_.prototype.writeUIntBE=function(M,P,he,Xe){M=+M,P>>>=0,he>>>=0,Xe||ue(this,M,P,he,Math.pow(2,8*he)-1,0);var Oe=he-1,ut=1;for(this[P+Oe]=255&M;--Oe>=0&&(ut*=256);)this[P+Oe]=M/ut&255;return P+he},_.prototype.writeUInt8=function(M,P,he){return M=+M,P>>>=0,he||ue(this,M,P,1,255,0),this[P]=255&M,P+1},_.prototype.writeUInt16LE=function(M,P,he){return M=+M,P>>>=0,he||ue(this,M,P,2,65535,0),this[P]=255&M,this[P+1]=M>>>8,P+2},_.prototype.writeUInt16BE=function(M,P,he){return M=+M,P>>>=0,he||ue(this,M,P,2,65535,0),this[P]=M>>>8,this[P+1]=255&M,P+2},_.prototype.writeUInt32LE=function(M,P,he){return M=+M,P>>>=0,he||ue(this,M,P,4,4294967295,0),this[P+3]=M>>>24,this[P+2]=M>>>16,this[P+1]=M>>>8,this[P]=255&M,P+4},_.prototype.writeUInt32BE=function(M,P,he){return M=+M,P>>>=0,he||ue(this,M,P,4,4294967295,0),this[P]=M>>>24,this[P+1]=M>>>16,this[P+2]=M>>>8,this[P+3]=255&M,P+4},_.prototype.writeIntLE=function(M,P,he,Xe){if(M=+M,P>>>=0,!Xe){var Ee=Math.pow(2,8*he-1);ue(this,M,P,he,Ee-1,-Ee)}var Oe=0,ut=1,St=0;for(this[P]=255&M;++Oe<he&&(ut*=256);)M<0&&0===St&&0!==this[P+Oe-1]&&(St=1),this[P+Oe]=(M/ut>>0)-St&255;return P+he},_.prototype.writeIntBE=function(M,P,he,Xe){if(M=+M,P>>>=0,!Xe){var Ee=Math.pow(2,8*he-1);ue(this,M,P,he,Ee-1,-Ee)}var Oe=he-1,ut=1,St=0;for(this[P+Oe]=255&M;--Oe>=0&&(ut*=256);)M<0&&0===St&&0!==this[P+Oe+1]&&(St=1),this[P+Oe]=(M/ut>>0)-St&255;return P+he},_.prototype.writeInt8=function(M,P,he){return M=+M,P>>>=0,he||ue(this,M,P,1,127,-128),M<0&&(M=255+M+1),this[P]=255&M,P+1},_.prototype.writeInt16LE=function(M,P,he){return M=+M,P>>>=0,he||ue(this,M,P,2,32767,-32768),this[P]=255&M,this[P+1]=M>>>8,P+2},_.prototype.writeInt16BE=function(M,P,he){return M=+M,P>>>=0,he||ue(this,M,P,2,32767,-32768),this[P]=M>>>8,this[P+1]=255&M,P+2},_.prototype.writeInt32LE=function(M,P,he){return M=+M,P>>>=0,he||ue(this,M,P,4,2147483647,-2147483648),this[P]=255&M,this[P+1]=M>>>8,this[P+2]=M>>>16,this[P+3]=M>>>24,P+4},_.prototype.writeInt32BE=function(M,P,he){return M=+M,P>>>=0,he||ue(this,M,P,4,2147483647,-2147483648),M<0&&(M=4294967295+M+1),this[P]=M>>>24,this[P+1]=M>>>16,this[P+2]=M>>>8,this[P+3]=255&M,P+4},_.prototype.writeFloatLE=function(M,P,he){return at(this,M,P,!0,he)},_.prototype.writeFloatBE=function(M,P,he){return at(this,M,P,!1,he)},_.prototype.writeDoubleLE=function(M,P,he){return vt(this,M,P,!0,he)},_.prototype.writeDoubleBE=function(M,P,he){return vt(this,M,P,!1,he)},_.prototype.copy=function(M,P,he,Xe){if(!_.isBuffer(M))throw new TypeError("argument should be a Buffer");if(he||(he=0),!Xe&&0!==Xe&&(Xe=this.length),P>=M.length&&(P=M.length),P||(P=0),Xe>0&&Xe<he&&(Xe=he),Xe===he||0===M.length||0===this.length)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(he<0||he>=this.length)throw new RangeError("Index out of range");if(Xe<0)throw new RangeError("sourceEnd out of bounds");Xe>this.length&&(Xe=this.length),M.length-P<Xe-he&&(Xe=M.length-P+he);var Ee=Xe-he;if(this===M&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(P,he,Xe);else if(this===M&&he<P&&P<Xe)for(var Oe=Ee-1;Oe>=0;--Oe)M[Oe+P]=this[Oe+he];else Uint8Array.prototype.set.call(M,this.subarray(he,Xe),P);return Ee},_.prototype.fill=function(M,P,he,Xe){if("string"==typeof M){if("string"==typeof P?(Xe=P,P=0,he=this.length):"string"==typeof he&&(Xe=he,he=this.length),void 0!==Xe&&"string"!=typeof Xe)throw new TypeError("encoding must be a string");if("string"==typeof Xe&&!_.isEncoding(Xe))throw new TypeError("Unknown encoding: "+Xe);if(1===M.length){var Ee=M.charCodeAt(0);("utf8"===Xe&&Ee<128||"latin1"===Xe)&&(M=Ee)}}else"number"==typeof M&&(M&=255);if(P<0||this.length<P||this.length<he)throw new RangeError("Out of range index");if(he<=P)return this;var Oe;if(P>>>=0,he=void 0===he?this.length:he>>>0,M||(M=0),"number"==typeof M)for(Oe=P;Oe<he;++Oe)this[Oe]=M;else{var ut=_.isBuffer(M)?M:_.from(M,Xe),St=ut.length;if(0===St)throw new TypeError('The value "'+M+'" is invalid for argument "value"');for(Oe=0;Oe<he-P;++Oe)this[Oe+P]=ut[Oe%St]}return this};var Je=/[^+/0-9A-Za-z-_]/g;function R(U){return U<16?"0"+U.toString(16):U.toString(16)}function E(U,M){M=M||1/0;for(var P,he=U.length,Xe=null,Ee=[],Oe=0;Oe<he;++Oe){if((P=U.charCodeAt(Oe))>55295&&P<57344){if(!Xe){if(P>56319){(M-=3)>-1&&Ee.push(239,191,189);continue}if(Oe+1===he){(M-=3)>-1&&Ee.push(239,191,189);continue}Xe=P;continue}if(P<56320){(M-=3)>-1&&Ee.push(239,191,189),Xe=P;continue}P=65536+(Xe-55296<<10|P-56320)}else Xe&&(M-=3)>-1&&Ee.push(239,191,189);if(Xe=null,P<128){if((M-=1)<0)break;Ee.push(P)}else if(P<2048){if((M-=2)<0)break;Ee.push(P>>6|192,63&P|128)}else if(P<65536){if((M-=3)<0)break;Ee.push(P>>12|224,P>>6&63|128,63&P|128)}else{if(!(P<1114112))throw new Error("Invalid code point");if((M-=4)<0)break;Ee.push(P>>18|240,P>>12&63|128,P>>6&63|128,63&P|128)}}return Ee}function He(U){return Z.toByteArray(function pe(U){if((U=(U=U.split("=")[0]).trim().replace(Je,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U}(U))}function Qe(U,M,P,he){for(var Xe=0;Xe<he&&!(Xe+P>=M.length||Xe>=U.length);++Xe)M[Xe+P]=U[Xe];return Xe}function de(U,M){return U instanceof M||null!=U&&null!=U.constructor&&null!=U.constructor.name&&U.constructor.name===M.name}function ne(U){return U!=U}},1563:(Ve,_e,S)=>{Ve.exports={ResizeSensor:S(884),ElementQueries:S(8381)}},8381:function(Ve,_e,S){"use strict";var Z,A,$;typeof window<"u"&&window,A=[S(884)],void 0!==($="function"==typeof(Z=function(H){var Y=function(){var x,N={},G=[];function O(j){j||(j=document.documentElement);var Ie=window.getComputedStyle(j,null).fontSize;return parseFloat(Ie)||16}function oe(j,Ie){var ae=Ie.split(/\d/),xe=ae[ae.length-1];switch(Ie=parseFloat(Ie),xe){case"px":default:return Ie;case"em":return Ie*O(j);case"rem":return Ie*O();case"vw":return Ie*document.documentElement.clientWidth/100;case"vh":return Ie*document.documentElement.clientHeight/100;case"vmin":case"vmax":var Ne=document.documentElement.clientWidth/100,Ge=document.documentElement.clientHeight/100;return Ie*(0,Math["vmin"===xe?"min":"max"])(Ne,Ge)}}function w(j,Ie){this.element=j;var ae,xe,Ne,Ge,it,Ke,Ae,ze,Se=["min-width","min-height","max-width","max-height"];this.call=function(){for(ae in Ne=function k(j){if(!j.getBoundingClientRect)return{width:j.offsetWidth,height:j.offsetHeight};var Ie=j.getBoundingClientRect();return{width:Math.round(Ie.width),height:Math.round(Ie.height)}}(this.element),Ke={},N[Ie])N[Ie].hasOwnProperty(ae)&&(Ge=oe(this.element,(xe=N[Ie][ae]).value),it="width"===xe.property?Ne.width:Ne.height,Ae="","min"===xe.mode&&it>=Ge&&(Ae+=xe.value),"max"===xe.mode&&it<=Ge&&(Ae+=xe.value),Ke[ze=xe.mode+"-"+xe.property]||(Ke[ze]=""),Ae&&-1===(" "+Ke[ze]+" ").indexOf(" "+Ae+" ")&&(Ke[ze]+=" "+Ae));for(var Ue in Se)Se.hasOwnProperty(Ue)&&(Ke[Se[Ue]]?this.element.setAttribute(Se[Ue],Ke[Se[Ue]].substr(1)):this.element.removeAttribute(Se[Ue]))}}function F(j,Ie){j.elementQueriesSetupInformation||(j.elementQueriesSetupInformation=new w(j,Ie)),j.elementQueriesSensor||(j.elementQueriesSensor=new H(j,function(){j.elementQueriesSetupInformation.call()}))}function re(j,Ie,ae,xe){if(typeof N[j]>"u"){N[j]=[];var Ne=G.length;x.innerHTML+="\n"+j+" {animation: 0.1s element-queries;}",x.innerHTML+="\n"+j+" > .resize-sensor {min-width: "+Ne+"px;}",G.push(j)}N[j].push({mode:Ie,property:ae,value:xe})}function X(j){var Ie;if(document.querySelectorAll&&(Ie=j?j.querySelectorAll.bind(j):document.querySelectorAll.bind(document)),!Ie&&typeof $$<"u"&&(Ie=$$),!Ie&&typeof jQuery<"u"&&(Ie=jQuery),!Ie)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return Ie}function ee(j){var Ie=[],ae=[],xe=[],Ne=0,Ge=-1,it=[];for(var Ke in j.children)if(j.children.hasOwnProperty(Ke)&&j.children[Ke].tagName&&"img"===j.children[Ke].tagName.toLowerCase()){Ie.push(j.children[Ke]);var Ae=j.children[Ke].getAttribute("min-width")||j.children[Ke].getAttribute("data-min-width"),ze=j.children[Ke].getAttribute("data-src")||j.children[Ke].getAttribute("url");xe.push(ze),ae.push({minWidth:Ae}),Ae?j.children[Ke].style.display="none":(Ne=Ie.length-1,j.children[Ke].style.display="block")}function Ue(){var Ce,ue=!1;for(Ce in Ie)Ie.hasOwnProperty(Ce)&&ae[Ce].minWidth&&j.offsetWidth>ae[Ce].minWidth&&(ue=Ce);if(ue||(ue=Ne),Ge!==ue)if(it[ue])Ie[Ge].style.display="none",Ie[ue].style.display="block",Ge=ue;else{var at=new Image;at.onload=function(){Ie[ue].src=xe[ue],Ie[Ge].style.display="none",Ie[ue].style.display="block",it[ue]=!0,Ge=ue},at.src=xe[ue]}else Ie[ue].src=xe[ue]}Ge=Ne,j.resizeSensorInstance=new H(j,Ue),Ue()}var L=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,b=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function I(j){var Ie,ae,xe,Ne;for(j=j.replace(/'/g,'"');null!==(Ie=L.exec(j));)for(ae=Ie[1]+Ie[3],xe=Ie[2];null!==(Ne=b.exec(xe));)re(ae,Ne[1],Ne[2],Ne[3])}function T(j){var Ie="";if(j)if("string"==typeof j)(-1!==(j=j.toLowerCase()).indexOf("min-width")||-1!==j.indexOf("max-width"))&&I(j);else for(var ae=0,xe=j.length;ae<xe;ae++)1===j[ae].type?(-1!==(Ie=j[ae].selectorText||j[ae].cssText).indexOf("min-height")||-1!==Ie.indexOf("max-height")||-1!==Ie.indexOf("min-width")||-1!==Ie.indexOf("max-width"))&&I(Ie):4===j[ae].type?T(j[ae].cssRules||j[ae].rules):3===j[ae].type&&j[ae].styleSheet.hasOwnProperty("cssRules")&&T(j[ae].styleSheet.cssRules)}var ce=!1;this.init=function(){var j="animationstart";typeof document.documentElement.style.webkitAnimationName<"u"?j="webkitAnimationStart":typeof document.documentElement.style.MozAnimationName<"u"?j="mozanimationstart":typeof document.documentElement.style.OAnimationName<"u"&&(j="oanimationstart"),document.body.addEventListener(j,function(xe){var Ne=xe.target,Ge=Ne&&window.getComputedStyle(Ne,null),it=Ge&&Ge.getPropertyValue("animation-name");if(it&&-1!==it.indexOf("element-queries")){Ne.elementQueriesSensor=new H(Ne,function(){Ne.elementQueriesSetupInformation&&Ne.elementQueriesSetupInformation.call()});var ze=window.getComputedStyle(Ne.resizeSensor,null).getPropertyValue("min-width");ze=parseInt(ze.replace("px","")),F(xe.target,G[ze])}}),ce||((x=document.createElement("style")).type="text/css",x.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",x.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(x),ce=!0);for(var Ie=0,ae=document.styleSheets.length;Ie<ae;Ie++)try{document.styleSheets[Ie].href&&0===document.styleSheets[Ie].href.indexOf("file://")&&console.warn("CssElementQueries: unable to parse local css files, "+document.styleSheets[Ie].href),T(document.styleSheets[Ie].cssRules||document.styleSheets[Ie].rules||document.styleSheets[Ie].cssText)}catch{}!function W(){for(var Ie=X()("[data-responsive-image],[responsive-image]"),ae=0,xe=Ie.length;ae<xe;ae++)ee(Ie[ae])}()},this.findElementQueriesElements=function(j){!function q(j){var Ie=X(j);for(var ae in N)if(N.hasOwnProperty(ae))for(var xe=Ie(ae,j),Ne=0,Ge=xe.length;Ne<Ge;Ne++)F(xe[Ne],ae)}(j)},this.update=function(){this.init()}};Y.update=function(){Y.instance.update()},Y.detach=function(x){x.elementQueriesSetupInformation?(x.elementQueriesSensor.detach(),delete x.elementQueriesSetupInformation,delete x.elementQueriesSensor):x.resizeSensorInstance&&(x.resizeSensorInstance.detach(),delete x.resizeSensorInstance)},Y.init=function(){Y.instance||(Y.instance=new Y),Y.instance.init()};return Y.findElementQueriesElements=function(x){Y.instance.findElementQueriesElements(x)},Y.listen=function(){!function(x){if(document.addEventListener)document.addEventListener("DOMContentLoaded",x,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var N=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(x(),clearInterval(N))},10);else window.onload=x}(Y.init)},Y})?Z.apply(_e,A):Z)&&(Ve.exports=$)},884:function(Ve,_e,S){"use strict";var Z,A;typeof window<"u"&&window,void 0!==(A="function"==typeof(Z=function(){if(typeof window>"u")return null;var $=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")(),H=$.requestAnimationFrame||$.mozRequestAnimationFrame||$.webkitRequestAnimationFrame||function(k){return $.setTimeout(k,20)},Y=$.cancelAnimationFrame||$.mozCancelAnimationFrame||$.webkitCancelAnimationFrame||function(k){$.clearTimeout(k)};function _(k,oe){var w=Object.prototype.toString.call(k),F="[object Array]"===w||"[object NodeList]"===w||"[object HTMLCollection]"===w||"[object Object]"===w||typeof jQuery<"u"&&k instanceof jQuery||typeof Elements<"u"&&k instanceof Elements,re=0,X=k.length;if(F)for(;re<X;re++)oe(k[re]);else oe(k)}function x(k){if(!k.getBoundingClientRect)return{width:k.offsetWidth,height:k.offsetHeight};var oe=k.getBoundingClientRect();return{width:Math.round(oe.width),height:Math.round(oe.height)}}function N(k,oe){Object.keys(oe).forEach(function(w){k.style[w]=oe[w]})}var G=function(k,oe){var w=0;function F(){var q,ee,X=[];this.add=function(W){X.push(W)},this.call=function(W){for(q=0,ee=X.length;q<ee;q++)X[q].call(this,W)},this.remove=function(W){var L=[];for(q=0,ee=X.length;q<ee;q++)X[q]!==W&&L.push(X[q]);X=L},this.length=function(){return X.length}}function re(X,q){if(X){if(X.resizedAttached)return void X.resizedAttached.add(q);X.resizedAttached=new F,X.resizedAttached.add(q),X.resizeSensor=document.createElement("div"),X.resizeSensor.dir="ltr",X.resizeSensor.className="resize-sensor";var ee={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},W={position:"absolute",left:"0px",top:"0px",transition:"0s"};N(X.resizeSensor,ee);var L=document.createElement("div");L.className="resize-sensor-expand",N(L,ee);var b=document.createElement("div");N(b,W),L.appendChild(b);var I=document.createElement("div");I.className="resize-sensor-shrink",N(I,ee);var T=document.createElement("div");N(T,W),N(T,{width:"200%",height:"200%"}),I.appendChild(T),X.resizeSensor.appendChild(L),X.resizeSensor.appendChild(I),X.appendChild(X.resizeSensor);var ce=window.getComputedStyle(X),j=ce?ce.getPropertyValue("position"):null;"absolute"!==j&&"relative"!==j&&"fixed"!==j&&"sticky"!==j&&(X.style.position="relative");var Ie=!1,ae=0,xe=x(X),Ne=0,Ge=0,it=!0;w=0;var Ae=function(){if(it){if(0===X.offsetWidth&&0===X.offsetHeight)return void(w||(w=H(function(){w=0,Ae()})));it=!1}var ue,Ce;Ce=X.offsetHeight,b.style.width=(ue=X.offsetWidth)+10+"px",b.style.height=Ce+10+"px",L.scrollLeft=ue+10,L.scrollTop=Ce+10,I.scrollLeft=ue+10,I.scrollTop=Ce+10};X.resizeSensor.resetSensor=Ae;var ze=function(){ae=0,Ie&&(Ne=xe.width,Ge=xe.height,X.resizedAttached&&X.resizedAttached.call(xe))},Se=function(){xe=x(X),(Ie=xe.width!==Ne||xe.height!==Ge)&&!ae&&(ae=H(ze)),Ae()},Ue=function(ue,Ce,at){ue.attachEvent?ue.attachEvent("on"+Ce,at):ue.addEventListener(Ce,at)};Ue(L,"scroll",Se),Ue(I,"scroll",Se),w=H(function(){w=0,Ae()})}}_(k,function(X){re(X,oe)}),this.detach=function(X){w||(Y(w),w=0),G.detach(k,X)},this.reset=function(){k.resizeSensor.resetSensor()}};if(G.reset=function(k){_(k,function(oe){oe.resizeSensor.resetSensor()})},G.detach=function(k,oe){_(k,function(w){w&&(w.resizedAttached&&"function"==typeof oe&&(w.resizedAttached.remove(oe),w.resizedAttached.length())||w.resizeSensor&&(w.contains(w.resizeSensor)&&w.removeChild(w.resizeSensor),delete w.resizeSensor,delete w.resizedAttached))})},typeof MutationObserver<"u"){var O=new MutationObserver(function(k){for(var oe in k)if(k.hasOwnProperty(oe))for(var w=k[oe].addedNodes,F=0;F<w.length;F++)w[F].resizeSensor&&G.reset(w[F])});document.addEventListener("DOMContentLoaded",function(k){O.observe(document.body,{childList:!0,subtree:!0})})}return G})?Z.call(_e,S,_e,Ve):Z)&&(Ve.exports=A)},2016:Ve=>{"use strict";var Z,_e="object"==typeof Reflect?Reflect:null,S=_e&&"function"==typeof _e.apply?_e.apply:function(L,b,I){return Function.prototype.apply.call(L,b,I)};Z=_e&&"function"==typeof _e.ownKeys?_e.ownKeys:Object.getOwnPropertySymbols?function(L){return Object.getOwnPropertyNames(L).concat(Object.getOwnPropertySymbols(L))}:function(L){return Object.getOwnPropertyNames(L)};var $=Number.isNaN||function(L){return L!=L};function H(){H.init.call(this)}Ve.exports=H,Ve.exports.once=function X(W,L){return new Promise(function(b,I){function T(j){W.removeListener(L,ce),I(j)}function ce(){"function"==typeof W.removeListener&&W.removeListener("error",T),b([].slice.call(arguments))}ee(W,L,ce,{once:!0}),"error"!==L&&function q(W,L,b){"function"==typeof W.on&&ee(W,"error",L,b)}(W,T,{once:!0})})},H.EventEmitter=H,H.prototype._events=void 0,H.prototype._eventsCount=0,H.prototype._maxListeners=void 0;var Y=10;function _(W){if("function"!=typeof W)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof W)}function x(W){return void 0===W._maxListeners?H.defaultMaxListeners:W._maxListeners}function N(W,L,b,I){var T,ce,j;if(_(b),void 0===(ce=W._events)?(ce=W._events=Object.create(null),W._eventsCount=0):(void 0!==ce.newListener&&(W.emit("newListener",L,b.listener?b.listener:b),ce=W._events),j=ce[L]),void 0===j)j=ce[L]=b,++W._eventsCount;else if("function"==typeof j?j=ce[L]=I?[b,j]:[j,b]:I?j.unshift(b):j.push(b),(T=x(W))>0&&j.length>T&&!j.warned){j.warned=!0;var Ie=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(L)+" listeners added. Use emitter.setMaxListeners() to increase limit");Ie.name="MaxListenersExceededWarning",Ie.emitter=W,Ie.type=L,Ie.count=j.length,function A(W){console&&console.warn&&console.warn(W)}(Ie)}return W}function G(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function O(W,L,b){var I={fired:!1,wrapFn:void 0,target:W,type:L,listener:b},T=G.bind(I);return T.listener=b,I.wrapFn=T,T}function k(W,L,b){var I=W._events;if(void 0===I)return[];var T=I[L];return void 0===T?[]:"function"==typeof T?b?[T.listener||T]:[T]:b?function re(W){for(var L=new Array(W.length),b=0;b<L.length;++b)L[b]=W[b].listener||W[b];return L}(T):w(T,T.length)}function oe(W){var L=this._events;if(void 0!==L){var b=L[W];if("function"==typeof b)return 1;if(void 0!==b)return b.length}return 0}function w(W,L){for(var b=new Array(L),I=0;I<L;++I)b[I]=W[I];return b}function ee(W,L,b,I){if("function"==typeof W.on)I.once?W.once(L,b):W.on(L,b);else{if("function"!=typeof W.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof W);W.addEventListener(L,function T(ce){I.once&&W.removeEventListener(L,T),b(ce)})}}Object.defineProperty(H,"defaultMaxListeners",{enumerable:!0,get:function(){return Y},set:function(W){if("number"!=typeof W||W<0||$(W))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+W+".");Y=W}}),H.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},H.prototype.setMaxListeners=function(L){if("number"!=typeof L||L<0||$(L))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+L+".");return this._maxListeners=L,this},H.prototype.getMaxListeners=function(){return x(this)},H.prototype.emit=function(L){for(var b=[],I=1;I<arguments.length;I++)b.push(arguments[I]);var T="error"===L,ce=this._events;if(void 0!==ce)T=T&&void 0===ce.error;else if(!T)return!1;if(T){var j;if(b.length>0&&(j=b[0]),j instanceof Error)throw j;var Ie=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw Ie.context=j,Ie}var ae=ce[L];if(void 0===ae)return!1;if("function"==typeof ae)S(ae,this,b);else{var xe=ae.length,Ne=w(ae,xe);for(I=0;I<xe;++I)S(Ne[I],this,b)}return!0},H.prototype.on=H.prototype.addListener=function(L,b){return N(this,L,b,!1)},H.prototype.prependListener=function(L,b){return N(this,L,b,!0)},H.prototype.once=function(L,b){return _(b),this.on(L,O(this,L,b)),this},H.prototype.prependOnceListener=function(L,b){return _(b),this.prependListener(L,O(this,L,b)),this},H.prototype.off=H.prototype.removeListener=function(L,b){var I,T,ce,j,Ie;if(_(b),void 0===(T=this._events))return this;if(void 0===(I=T[L]))return this;if(I===b||I.listener===b)0==--this._eventsCount?this._events=Object.create(null):(delete T[L],T.removeListener&&this.emit("removeListener",L,I.listener||b));else if("function"!=typeof I){for(ce=-1,j=I.length-1;j>=0;j--)if(I[j]===b||I[j].listener===b){Ie=I[j].listener,ce=j;break}if(ce<0)return this;0===ce?I.shift():function F(W,L){for(;L+1<W.length;L++)W[L]=W[L+1];W.pop()}(I,ce),1===I.length&&(T[L]=I[0]),void 0!==T.removeListener&&this.emit("removeListener",L,Ie||b)}return this},H.prototype.removeAllListeners=function(L){var b,I,T;if(void 0===(I=this._events))return this;if(void 0===I.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==I[L]&&(0==--this._eventsCount?this._events=Object.create(null):delete I[L]),this;if(0===arguments.length){var j,ce=Object.keys(I);for(T=0;T<ce.length;++T)"removeListener"!==(j=ce[T])&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(b=I[L]))this.removeListener(L,b);else if(void 0!==b)for(T=b.length-1;T>=0;T--)this.removeListener(L,b[T]);return this},H.prototype.listeners=function(L){return k(this,L,!0)},H.prototype.rawListeners=function(L){return k(this,L,!1)},H.listenerCount=function(W,L){return"function"==typeof W.listenerCount?W.listenerCount(L):oe.call(W,L)},H.prototype.listenerCount=oe,H.prototype.eventNames=function(){return this._eventsCount>0?Z(this._events):[]}},217:function(Ve,_e){var S,A;void 0!==(A="function"==typeof(S=function(){"use strict";function H(O,k,oe){var w=new XMLHttpRequest;w.open("GET",O),w.responseType="blob",w.onload=function(){G(w.response,k,oe)},w.onerror=function(){console.error("could not download file")},w.send()}function Y(O){var k=new XMLHttpRequest;k.open("HEAD",O,!1);try{k.send()}catch{}return 200<=k.status&&299>=k.status}function _(O){try{O.dispatchEvent(new MouseEvent("click"))}catch{var k=document.createEvent("MouseEvents");k.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),O.dispatchEvent(k)}}var x="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,N=x.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),G=x.saveAs||("object"!=typeof window||window!==x?function(){}:"download"in HTMLAnchorElement.prototype&&!N?function(O,k,oe){var w=x.URL||x.webkitURL,F=document.createElement("a");F.download=k=k||O.name||"download",F.rel="noopener","string"==typeof O?(F.href=O,F.origin===location.origin?_(F):Y(F.href)?H(O,k,oe):_(F,F.target="_blank")):(F.href=w.createObjectURL(O),setTimeout(function(){w.revokeObjectURL(F.href)},4e4),setTimeout(function(){_(F)},0))}:"msSaveOrOpenBlob"in navigator?function(O,k,oe){if(k=k||O.name||"download","string"!=typeof O)navigator.msSaveOrOpenBlob(function $(O,k){return typeof k>"u"?k={autoBom:!1}:"object"!=typeof k&&(console.warn("Deprecated: Expected third argument to be a object"),k={autoBom:!k}),k.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(O.type)?new Blob(["\ufeff",O],{type:O.type}):O}(O,oe),k);else if(Y(O))H(O,k,oe);else{var w=document.createElement("a");w.href=O,w.target="_blank",setTimeout(function(){_(w)})}}:function(O,k,oe,w){if((w=w||open("","_blank"))&&(w.document.title=w.document.body.innerText="downloading..."),"string"==typeof O)return H(O,k,oe);var F="application/octet-stream"===O.type,re=/constructor/i.test(x.HTMLElement)||x.safari,X=/CriOS\/[\d]+/.test(navigator.userAgent);if((X||F&&re||N)&&typeof FileReader<"u"){var q=new FileReader;q.onloadend=function(){var L=q.result;L=X?L:L.replace(/^data:[^;]*;/,"data:attachment/file;"),w?w.location.href=L:location=L,w=null},q.readAsDataURL(O)}else{var ee=x.URL||x.webkitURL,W=ee.createObjectURL(O);w?w.location=W:location.href=W,w=null,setTimeout(function(){ee.revokeObjectURL(W)},4e4)}});x.saveAs=G.saveAs=G,Ve.exports=G})?S.apply(_e,[]):S)&&(Ve.exports=A)},7991:(Ve,_e,S)=>{var Z=S(6943),A=S(9151),$=S(2323);function H(k,oe,w){if(!Z(k))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<3)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 3.");if(!k.hasNode(oe))throw new Error('graphology-shortest-path: the "'+oe+'" source node does not exist in the given graph.');if(!k.hasNode(w))throw new Error('graphology-shortest-path: the "'+w+'" target node does not exist in the given graph.');if((oe=""+oe)==(w=""+w))return[oe];var F=k.inboundNeighbors.bind(k),re=k.outboundNeighbors.bind(k),X={},q={};X[oe]=null,q[w]=null;var L,b,I,T,ce,j,Ie,ae,ee=[oe],W=[w],xe=!1;e:for(;ee.length&&W.length;)if(ee.length<=W.length){for(L=ee,ee=[],ce=0,Ie=L.length;ce<Ie;ce++)for(j=0,ae=(I=re(b=L[ce])).length;j<ae;j++)if((T=I[j])in X||(ee.push(T),X[T]=b),T in q){xe=!0;break e}}else for(L=W,W=[],ce=0,Ie=L.length;ce<Ie;ce++)for(b=L[ce],I=F(b),j=0,ae=I.length;j<ae;j++)if(T=I[j],T in q||(W.push(T),q[T]=b),T in X){xe=!0;break e}if(!xe)return null;for(var Ne=[];T;)Ne.unshift(T),T=X[T];for(T=q[Ne[Ne.length-1]];T;)Ne.push(T),T=q[T];return Ne.length?Ne:null}function Y(k,oe){if(!Z(k))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<2)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 2.");if(!k.hasNode(oe))throw new Error('graphology-shortest-path: the "'+oe+'" source node does not exist in the given graph.');var re,X,q,ee,W,L,w={},F={};for(w[oe=""+oe]=!0,F[oe]=[oe];Object.keys(w).length;)for(q in re=w,w={},re)for(W=0,L=(X=k.outboundNeighbors(q)).length;W<L;W++)F[ee=X[W]]||(F[ee]=F[q].concat(ee),w[ee]=!0);return F}function _(k,oe,w){if(!Z(oe))throw new Error("graphology-shortest-path: invalid graphology instance.");if(!oe.hasNode(w))throw new Error('graphology-shortest-path: the "'+w+'" source node does not exist in the given graph.');w=""+w;var F=new Set,re={},X=0;re[w]=0;for(var ee,W,L,q=[w];0!==q.length;){var b=[];for(ee=0,W=q.length;ee<W;ee++)!F.has(L=q[ee])&&(F.add(L),$(b,oe[k](L)),re[L]=X);X++,q=b}return re}var x=_.bind(null,"outboundNeighbors"),N=_.bind(null,"neighbors");function G(k,oe,w){return arguments.length<3?Y(k,oe):H(k,oe,w)}G.bidirectional=H,G.singleSource=Y,G.singleSourceLength=x,G.undirectedSingleSourceLength=N,G.brandes=function O(k,oe){oe=""+oe;var q,ee,W,L,b,I,T,ce,j,w=[],F={},re={},X=k.nodes();for(I=0,ce=X.length;I<ce;I++)F[L=X[I]]=[],re[L]=0;var Ie={};re[oe]=1,Ie[oe]=0;for(var ae=A.of(oe);ae.size;)for(L=ae.dequeue(),w.push(L),q=Ie[L],ee=re[L],T=0,j=(W=k.outboundNeighbors(L)).length;T<j;T++)(b=W[T])in Ie||(ae.enqueue(b),Ie[b]=q+1),Ie[b]===q+1&&(re[b]+=ee,F[b].push(L));return[w,F,re]},Ve.exports=G},6943:Ve=>{Ve.exports=function(S){return null!==S&&"object"==typeof S&&"function"==typeof S.addUndirectedEdgeWithKey&&"function"==typeof S.dropNode&&"boolean"==typeof S.multi}},4938:function(Ve){Ve.exports=function(){"use strict";function _e(ye){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Me){return typeof Me}:function(Me){return Me&&"function"==typeof Symbol&&Me.constructor===Symbol&&Me!==Symbol.prototype?"symbol":typeof Me})(ye)}function S(ye,Me){ye.prototype=Object.create(Me.prototype),ye.prototype.constructor=ye,A(ye,Me)}function Z(ye){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(Me){return Me.__proto__||Object.getPrototypeOf(Me)})(ye)}function A(ye,Me){return(A=Object.setPrototypeOf||function(fe,D){return fe.__proto__=D,fe})(ye,Me)}function H(ye,Me,fe){return(H=function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(D,K,ge){var Be=[null];Be.push.apply(Be,K);var qe=new(Function.bind.apply(D,Be));return ge&&A(qe,ge.prototype),qe}).apply(null,arguments)}function Y(ye){var Me="function"==typeof Map?new Map:void 0;return(Y=function(fe){if(null===fe||-1===Function.toString.call(fe).indexOf("[native code]"))return fe;if("function"!=typeof fe)throw new TypeError("Super expression must either be null or a function");if(void 0!==Me){if(Me.has(fe))return Me.get(fe);Me.set(fe,K)}function K(){return H(fe,arguments,Z(this).constructor)}return K.prototype=Object.create(fe.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),A(K,fe)})(ye)}function _(ye){if(void 0===ye)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ye}var x=function(){for(var ye=arguments[0],Me=1,fe=arguments.length;Me<fe;Me++)if(arguments[Me])for(var D in arguments[Me])ye[D]=arguments[Me][D];return ye};function N(ye,Me,fe,D){var K=ye._nodes.get(Me),ge=null;return K?ge="mixed"===D?K.out&&K.out[fe]||K.undirected&&K.undirected[fe]:"directed"===D?K.out&&K.out[fe]:K.undirected&&K.undirected[fe]:ge}function O(ye){return"object"===_e(ye)&&null!==ye&&ye.constructor===Object}function k(ye){var Me;for(Me in ye)return!1;return!0}function oe(ye,Me,fe){Object.defineProperty(ye,Me,{enumerable:!1,configurable:!1,writable:!0,value:fe})}function w(ye,Me,fe){var D={enumerable:!0,configurable:!0};"function"==typeof fe?D.get=fe:(D.value=fe,D.writable=!1),Object.defineProperty(ye,Me,D)}function F(ye){return!(!O(ye)||ye.attributes&&!Array.isArray(ye.attributes))}"function"==typeof Object.assign&&(x=Object.assign);var re,X={exports:{}},q="object"==typeof Reflect?Reflect:null,ee=q&&"function"==typeof q.apply?q.apply:function(ye,Me,fe){return Function.prototype.apply.call(ye,Me,fe)};re=q&&"function"==typeof q.ownKeys?q.ownKeys:Object.getOwnPropertySymbols?function(ye){return Object.getOwnPropertyNames(ye).concat(Object.getOwnPropertySymbols(ye))}:function(ye){return Object.getOwnPropertyNames(ye)};var W=Number.isNaN||function(ye){return ye!=ye};function L(){L.init.call(this)}X.exports=L,X.exports.once=function(ye,Me){return new Promise(function(fe,D){function K(Be){ye.removeListener(Me,ge),D(Be)}function ge(){"function"==typeof ye.removeListener&&ye.removeListener("error",K),fe([].slice.call(arguments))}var Be;Ge(ye,Me,ge,{once:!0}),"error"!==Me&&("function"==typeof(Be=ye).on&&Ge(Be,"error",K,{once:!0}))})},L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var b=10;function I(ye){if("function"!=typeof ye)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ye)}function T(ye){return void 0===ye._maxListeners?L.defaultMaxListeners:ye._maxListeners}function ce(ye,Me,fe,D){var K,ge,Be;if(I(fe),void 0===(ge=ye._events)?(ge=ye._events=Object.create(null),ye._eventsCount=0):(void 0!==ge.newListener&&(ye.emit("newListener",Me,fe.listener?fe.listener:fe),ge=ye._events),Be=ge[Me]),void 0===Be)Be=ge[Me]=fe,++ye._eventsCount;else if("function"==typeof Be?Be=ge[Me]=D?[fe,Be]:[Be,fe]:D?Be.unshift(fe):Be.push(fe),(K=T(ye))>0&&Be.length>K&&!Be.warned){Be.warned=!0;var Pe=new Error("Possible EventEmitter memory leak detected. "+Be.length+" "+String(Me)+" listeners added. Use emitter.setMaxListeners() to increase limit");Pe.name="MaxListenersExceededWarning",Pe.emitter=ye,Pe.type=Me,Pe.count=Be.length,console&&console.warn&&console.warn(Pe)}return ye}function j(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ie(ye,Me,fe){var D={fired:!1,wrapFn:void 0,target:ye,type:Me,listener:fe},K=j.bind(D);return K.listener=fe,D.wrapFn=K,K}function ae(ye,Me,fe){var D=ye._events;if(void 0===D)return[];var K=D[Me];return void 0===K?[]:"function"==typeof K?fe?[K.listener||K]:[K]:fe?function(ge){for(var Be=new Array(ge.length),qe=0;qe<Be.length;++qe)Be[qe]=ge[qe].listener||ge[qe];return Be}(K):Ne(K,K.length)}function xe(ye){var Me=this._events;if(void 0!==Me){var fe=Me[ye];if("function"==typeof fe)return 1;if(void 0!==fe)return fe.length}return 0}function Ne(ye,Me){for(var fe=new Array(Me),D=0;D<Me;++D)fe[D]=ye[D];return fe}function Ge(ye,Me,fe,D){if("function"==typeof ye.on)D.once?ye.once(Me,fe):ye.on(Me,fe);else{if("function"!=typeof ye.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ye);ye.addEventListener(Me,function K(ge){D.once&&ye.removeEventListener(Me,K),fe(ge)})}}function it(ye){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:ye}),this.done=!1}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return b},set:function(ye){if("number"!=typeof ye||ye<0||W(ye))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ye+".");b=ye}}),L.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(ye){if("number"!=typeof ye||ye<0||W(ye))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ye+".");return this._maxListeners=ye,this},L.prototype.getMaxListeners=function(){return T(this)},L.prototype.emit=function(ye){for(var Me=[],fe=1;fe<arguments.length;fe++)Me.push(arguments[fe]);var D="error"===ye,K=this._events;if(void 0!==K)D=D&&void 0===K.error;else if(!D)return!1;if(D){var ge;if(Me.length>0&&(ge=Me[0]),ge instanceof Error)throw ge;var Be=new Error("Unhandled error."+(ge?" ("+ge.message+")":""));throw Be.context=ge,Be}var qe=K[ye];if(void 0===qe)return!1;if("function"==typeof qe)ee(qe,this,Me);else{var Pe=qe.length,kt=Ne(qe,Pe);for(fe=0;fe<Pe;++fe)ee(kt[fe],this,Me)}return!0},L.prototype.addListener=function(ye,Me){return ce(this,ye,Me,!1)},L.prototype.on=L.prototype.addListener,L.prototype.prependListener=function(ye,Me){return ce(this,ye,Me,!0)},L.prototype.once=function(ye,Me){return I(Me),this.on(ye,Ie(this,ye,Me)),this},L.prototype.prependOnceListener=function(ye,Me){return I(Me),this.prependListener(ye,Ie(this,ye,Me)),this},L.prototype.removeListener=function(ye,Me){var fe,D,K,ge,Be;if(I(Me),void 0===(D=this._events))return this;if(void 0===(fe=D[ye]))return this;if(fe===Me||fe.listener===Me)0==--this._eventsCount?this._events=Object.create(null):(delete D[ye],D.removeListener&&this.emit("removeListener",ye,fe.listener||Me));else if("function"!=typeof fe){for(K=-1,ge=fe.length-1;ge>=0;ge--)if(fe[ge]===Me||fe[ge].listener===Me){Be=fe[ge].listener,K=ge;break}if(K<0)return this;0===K?fe.shift():function(qe,Pe){for(;Pe+1<qe.length;Pe++)qe[Pe]=qe[Pe+1];qe.pop()}(fe,K),1===fe.length&&(D[ye]=fe[0]),void 0!==D.removeListener&&this.emit("removeListener",ye,Be||Me)}return this},L.prototype.off=L.prototype.removeListener,L.prototype.removeAllListeners=function(ye){var Me,fe,D;if(void 0===(fe=this._events))return this;if(void 0===fe.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==fe[ye]&&(0==--this._eventsCount?this._events=Object.create(null):delete fe[ye]),this;if(0===arguments.length){var K,ge=Object.keys(fe);for(D=0;D<ge.length;++D)"removeListener"!==(K=ge[D])&&this.removeAllListeners(K);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(Me=fe[ye]))this.removeListener(ye,Me);else if(void 0!==Me)for(D=Me.length-1;D>=0;D--)this.removeListener(ye,Me[D]);return this},L.prototype.listeners=function(ye){return ae(this,ye,!0)},L.prototype.rawListeners=function(ye){return ae(this,ye,!1)},L.listenerCount=function(ye,Me){return"function"==typeof ye.listenerCount?ye.listenerCount(Me):xe.call(ye,Me)},L.prototype.listenerCount=xe,L.prototype.eventNames=function(){return this._eventsCount>0?re(this._events):[]},it.prototype.next=function(){if(this.done)return{done:!0};var ye=this._next();return ye.done&&(this.done=!0),ye},typeof Symbol<"u"&&(it.prototype[Symbol.iterator]=function(){return this}),it.of=function(){var ye=arguments,Me=ye.length,fe=0;return new it(function(){return fe>=Me?{done:!0}:{done:!1,value:ye[fe++]}})},it.empty=function(){var ye=new it(null);return ye.done=!0,ye},it.is=function(ye){return ye instanceof it||"object"==typeof ye&&null!==ye&&"function"==typeof ye.next};var Ke=it,Ae=function(ye,Me){for(var fe,D=arguments.length>1?Me:1/0,K=D!==1/0?new Array(D):[],ge=0;;){if(ge===D)return K;if((fe=ye.next()).done)return ge!==Me?K.slice(0,ge):K;K[ge++]=fe.value}},ze=function(ye){function Me(fe,D){var K;return(K=ye.call(this)||this).name="GraphError",K.message=fe||"",K.data=D||{},K}return S(Me,ye),Me}(Y(Error)),Se=function(ye){function Me(fe,D){var K;return(K=ye.call(this,fe,D)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(_(K),Me.prototype.constructor),K}return S(Me,ye),Me}(ze),Ue=function(ye){function Me(fe,D){var K;return(K=ye.call(this,fe,D)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(_(K),Me.prototype.constructor),K}return S(Me,ye),Me}(ze),ue=function(ye){function Me(fe,D){var K;return(K=ye.call(this,fe,D)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(_(K),Me.prototype.constructor),K}return S(Me,ye),Me}(ze);function Ce(ye,Me){this.key=ye,this.attributes=Me,this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.directedSelfLoops=0,this.undirectedSelfLoops=0,this.in={},this.out={},this.undirected={}}function at(ye,Me){this.key=ye,this.attributes=Me,this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}}function vt(ye,Me){this.key=ye,this.attributes=Me,this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}}function Je(ye,Me,fe,D,K,ge){this.key=Me,this.attributes=ge,this.undirected=ye,this.source=D,this.target=K,this.generatedKey=fe}function pe(ye,Me,fe,D,K,ge,Be){var qe,Pe,kt="out",Gt="in";if(Me&&(kt=Gt="undirected"),ye.multi){if(void 0===(Pe=(qe=ge[kt])[K])&&(qe[K]=Pe=new Set),Pe.add(fe),D===K&&Me)return;void 0===(qe=Be[Gt])[D]&&(qe[D]=Pe)}else{if(ge[kt][K]=fe,D===K&&Me)return;Be[Gt][D]=fe}}at.prototype.upgradeToMixed=function(){this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}},vt.prototype.upgradeToMixed=function(){this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}};var E=[{name:function(ye){return"get".concat(ye,"Attribute")},attacher:function(ye,Me,fe){ye.prototype[Me]=function(D,K){var ge;if("mixed"!==this.type&&"mixed"!==fe&&fe!==this.type)throw new ue("Graph.".concat(Me,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ue("Graph.".concat(Me,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Be=""+D,qe=""+K;if(K=arguments[2],!(ge=N(this,Be,qe,fe)))throw new Ue("Graph.".concat(Me,': could not find an edge for the given path ("').concat(Be,'" - "').concat(qe,'").'))}else if(!(ge=this._edges.get(D=""+D)))throw new Ue("Graph.".concat(Me,': could not find the "').concat(D,'" edge in the graph.'));if("mixed"!==fe&&ge.undirected!==("undirected"===fe))throw new Ue("Graph.".concat(Me,': could not find the "').concat(D,'" ').concat(fe," edge in the graph."));return ge.attributes[K]}}},{name:function(ye){return"get".concat(ye,"Attributes")},attacher:function(ye,Me,fe){ye.prototype[Me]=function(D){var K;if("mixed"!==this.type&&"mixed"!==fe&&fe!==this.type)throw new ue("Graph.".concat(Me,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new ue("Graph.".concat(Me,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var ge=""+D,Be=""+arguments[1];if(!(K=N(this,ge,Be,fe)))throw new Ue("Graph.".concat(Me,': could not find an edge for the given path ("').concat(ge,'" - "').concat(Be,'").'))}else if(!(K=this._edges.get(D=""+D)))throw new Ue("Graph.".concat(Me,': could not find the "').concat(D,'" edge in the graph.'));if("mixed"!==fe&&K.undirected!==("undirected"===fe))throw new Ue("Graph.".concat(Me,': could not find the "').concat(D,'" ').concat(fe," edge in the graph."));return K.attributes}}},{name:function(ye){return"has".concat(ye,"Attribute")},attacher:function(ye,Me,fe){ye.prototype[Me]=function(D,K){var ge;if("mixed"!==this.type&&"mixed"!==fe&&fe!==this.type)throw new ue("Graph.".concat(Me,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ue("Graph.".concat(Me,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Be=""+D,qe=""+K;if(K=arguments[2],!(ge=N(this,Be,qe,fe)))throw new Ue("Graph.".concat(Me,': could not find an edge for the given path ("').concat(Be,'" - "').concat(qe,'").'))}else if(!(ge=this._edges.get(D=""+D)))throw new Ue("Graph.".concat(Me,': could not find the "').concat(D,'" edge in the graph.'));if("mixed"!==fe&&ge.undirected!==("undirected"===fe))throw new Ue("Graph.".concat(Me,': could not find the "').concat(D,'" ').concat(fe," edge in the graph."));return ge.attributes.hasOwnProperty(K)}}},{name:function(ye){return"set".concat(ye,"Attribute")},attacher:function(ye,Me,fe){ye.prototype[Me]=function(D,K,ge){var Be;if("mixed"!==this.type&&"mixed"!==fe&&fe!==this.type)throw new ue("Graph.".concat(Me,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new ue("Graph.".concat(Me,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var qe=""+D,Pe=""+K;if(K=arguments[2],ge=arguments[3],!(Be=N(this,qe,Pe,fe)))throw new Ue("Graph.".concat(Me,': could not find an edge for the given path ("').concat(qe,'" - "').concat(Pe,'").'))}else if(!(Be=this._edges.get(D=""+D)))throw new Ue("Graph.".concat(Me,': could not find the "').concat(D,'" edge in the graph.'));if("mixed"!==fe&&Be.undirected!==("undirected"===fe))throw new Ue("Graph.".concat(Me,': could not find the "').concat(D,'" ').concat(fe," edge in the graph."));return Be.attributes[K]=ge,this.emit("edgeAttributesUpdated",{key:Be.key,type:"set",attributes:Be.attributes,name:K}),this}}},{name:function(ye){return"update".concat(ye,"Attribute")},attacher:function(ye,Me,fe){ye.prototype[Me]=function(D,K,ge){var Be;if("mixed"!==this.type&&"mixed"!==fe&&fe!==this.type)throw new ue("Graph.".concat(Me,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new ue("Graph.".concat(Me,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var qe=""+D,Pe=""+K;if(K=arguments[2],ge=arguments[3],!(Be=N(this,qe,Pe,fe)))throw new Ue("Graph.".concat(Me,': could not find an edge for the given path ("').concat(qe,'" - "').concat(Pe,'").'))}else if(!(Be=this._edges.get(D=""+D)))throw new Ue("Graph.".concat(Me,': could not find the "').concat(D,'" edge in the graph.'));if("function"!=typeof ge)throw new Se("Graph.".concat(Me,": updater should be a function."));if("mixed"!==fe&&Be.undirected!==("undirected"===fe))throw new Ue("Graph.".concat(Me,': could not find the "').concat(D,'" ').concat(fe," edge in the graph."));return Be.attributes[K]=ge(Be.attributes[K]),this.emit("edgeAttributesUpdated",{key:Be.key,type:"set",attributes:Be.attributes,name:K}),this}}},{name:function(ye){return"remove".concat(ye,"Attribute")},attacher:function(ye,Me,fe){ye.prototype[Me]=function(D,K){var ge;if("mixed"!==this.type&&"mixed"!==fe&&fe!==this.type)throw new ue("Graph.".concat(Me,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ue("Graph.".concat(Me,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Be=""+D,qe=""+K;if(K=arguments[2],!(ge=N(this,Be,qe,fe)))throw new Ue("Graph.".concat(Me,': could not find an edge for the given path ("').concat(Be,'" - "').concat(qe,'").'))}else if(!(ge=this._edges.get(D=""+D)))throw new Ue("Graph.".concat(Me,': could not find the "').concat(D,'" edge in the graph.'));if("mixed"!==fe&&ge.undirected!==("undirected"===fe))throw new Ue("Graph.".concat(Me,': could not find the "').concat(D,'" ').concat(fe," edge in the graph."));return delete ge.attributes[K],this.emit("edgeAttributesUpdated",{key:ge.key,type:"remove",attributes:ge.attributes,name:K}),this}}},{name:function(ye){return"replace".concat(ye,"Attributes")},attacher:function(ye,Me,fe){ye.prototype[Me]=function(D,K){var ge;if("mixed"!==this.type&&"mixed"!==fe&&fe!==this.type)throw new ue("Graph.".concat(Me,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ue("Graph.".concat(Me,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Be=""+D,qe=""+K;if(K=arguments[2],!(ge=N(this,Be,qe,fe)))throw new Ue("Graph.".concat(Me,': could not find an edge for the given path ("').concat(Be,'" - "').concat(qe,'").'))}else if(!(ge=this._edges.get(D=""+D)))throw new Ue("Graph.".concat(Me,': could not find the "').concat(D,'" edge in the graph.'));if(!O(K))throw new Se("Graph.".concat(Me,": provided attributes are not a plain object."));if("mixed"!==fe&&ge.undirected!==("undirected"===fe))throw new Ue("Graph.".concat(Me,': could not find the "').concat(D,'" ').concat(fe," edge in the graph."));return ge.attributes=K,this.emit("edgeAttributesUpdated",{key:ge.key,type:"replace",attributes:ge.attributes}),this}}},{name:function(ye){return"merge".concat(ye,"Attributes")},attacher:function(ye,Me,fe){ye.prototype[Me]=function(D,K){var ge;if("mixed"!==this.type&&"mixed"!==fe&&fe!==this.type)throw new ue("Graph.".concat(Me,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ue("Graph.".concat(Me,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Be=""+D,qe=""+K;if(K=arguments[2],!(ge=N(this,Be,qe,fe)))throw new Ue("Graph.".concat(Me,': could not find an edge for the given path ("').concat(Be,'" - "').concat(qe,'").'))}else if(!(ge=this._edges.get(D=""+D)))throw new Ue("Graph.".concat(Me,': could not find the "').concat(D,'" edge in the graph.'));if(!O(K))throw new Se("Graph.".concat(Me,": provided attributes are not a plain object."));if("mixed"!==fe&&ge.undirected!==("undirected"===fe))throw new Ue("Graph.".concat(Me,': could not find the "').concat(D,'" ').concat(fe," edge in the graph."));return x(ge.attributes,K),this.emit("edgeAttributesUpdated",{key:ge.key,type:"merge",attributes:ge.attributes,data:K}),this}}}],ie=Ke,Q=function(){var ye,Me=arguments,fe=-1;return new ie(function D(){if(!ye){if(++fe>=Me.length)return{done:!0};ye=Me[fe]}var K=ye.next();return K.done?(ye=null,D()):K})},He=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function Qe(ye,Me){for(var fe in Me)ye.push(Me[fe].key)}function de(ye,Me){for(var fe in Me)Me[fe].forEach(function(D){return ye.push(D.key)})}function ne(ye,Me,fe){for(var D in ye)if(D!==fe){var K=ye[D];Me(K.key,K.attributes,K.source.key,K.target.key,K.source.attributes,K.target.attributes,K.undirected,K.generatedKey)}}function U(ye,Me,fe){for(var D in ye)D!==fe&&ye[D].forEach(function(K){return Me(K.key,K.attributes,K.source.key,K.target.key,K.source.attributes,K.target.attributes,K.undirected,K.generatedKey)})}function M(ye,Me,fe){for(var D in ye)if(D!==fe){var K=ye[D];if(Me(K.key,K.attributes,K.source.key,K.target.key,K.source.attributes,K.target.attributes,K.undirected,K.generatedKey))return!0}return!1}function P(ye,Me,fe){var D,K,ge,Be,qe;for(var Pe in ye)if(Pe!==fe)for(D=ye[Pe].values();!0!==(K=D.next()).done;)if(Be=(ge=K.value).source,Me(ge.key,ge.attributes,Be.key,(qe=ge.target).key,Be.attributes,qe.attributes,ge.undirected,ge.generatedKey))return!0;return!1}function he(ye,Me){var fe=Object.keys(ye),D=fe.length,K=null,ge=0;return new Ke(function Be(){var qe;if(K){var Pe=K.next();if(Pe.done)return K=null,ge++,Be();qe=Pe.value}else{if(ge>=D)return{done:!0};var kt=fe[ge];if(kt===Me)return ge++,Be();if((qe=ye[kt])instanceof Set)return K=qe.values(),Be();ge++}return{done:!1,value:[qe.key,qe.attributes,qe.source.key,qe.target.key,qe.source.attributes,qe.target.attributes]}})}function Xe(ye,Me,fe){var D=Me[fe];D&&ye.push(D.key)}function Ee(ye,Me,fe){var D=Me[fe];D&&D.forEach(function(K){return ye.push(K.key)})}function Oe(ye,Me,fe){var D=ye[Me];if(D){var K=D.source,ge=D.target;fe(D.key,D.attributes,K.key,ge.key,K.attributes,ge.attributes,D.undirected,D.generatedKey)}}function ut(ye,Me,fe){var D=ye[Me];D&&D.forEach(function(K){return fe(K.key,K.attributes,K.source.key,K.target.key,K.source.attributes,K.target.attributes,K.undirected,K.generatedKey)})}function St(ye,Me,fe){var D=ye[Me];if(D){var K=D.source,ge=D.target;return fe(D.key,D.attributes,K.key,ge.key,K.attributes,ge.attributes,D.undirected,D.generatedKey)}}function Ut(ye,Me,fe){var D=ye[Me];if(D){for(var K,ge,Be=D.values();!0!==(K=Be.next()).done;)if(fe((ge=K.value).key,ge.attributes,ge.source.key,ge.target.key,ge.source.attributes,ge.target.attributes,ge.undirected,ge.generatedKey))return!0;return!1}}function mt(ye,Me){var fe=ye[Me];if(fe instanceof Set){var D=fe.values();return new Ke(function(){var K=D.next();if(K.done)return K;var ge=K.value;return{done:!1,value:[ge.key,ge.attributes,ge.source.key,ge.target.key,ge.source.attributes,ge.target.attributes]}})}return Ke.of([fe.key,fe.attributes,fe.source.key,fe.target.key,fe.source.attributes,fe.target.attributes])}var zn=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function _r(ye,Me){if(void 0!==Me)for(var fe in Me)ye.add(fe)}function Xr(ye,Me,fe){for(var D in Me){var K=Me[D];K instanceof Set&&(K=K.values().next().value);var ge=K.source,qe=ge===ye?K.target:ge;fe(qe.key,qe.attributes)}}function Ro(ye,Me,fe,D){for(var K in fe){var ge=fe[K];ge instanceof Set&&(ge=ge.values().next().value);var Be=ge.source,Pe=Be===Me?ge.target:Be;ye.has(Pe.key)||(ye.add(Pe.key),D(Pe.key,Pe.attributes))}}function Ta(ye,Me,fe){for(var D in Me){var K=Me[D];K instanceof Set&&(K=K.values().next().value);var ge=K.source,qe=ge===ye?K.target:ge;if(fe(qe.key,qe.attributes))return!0}return!1}function qi(ye,Me,fe,D){for(var K in fe){var ge=fe[K];ge instanceof Set&&(ge=ge.values().next().value);var Be=ge.source,Pe=Be===Me?ge.target:Be;if(!ye.has(Pe.key)&&(ye.add(Pe.key),D(Pe.key,Pe.attributes)))return!0}return!1}function mo(ye,Me){var fe=Object.keys(Me),D=fe.length,K=0;return new Ke(function(){if(K>=D)return{done:!0};var ge=Me[fe[K++]];ge instanceof Set&&(ge=ge.values().next().value);var Be=ge.source,Pe=Be===ye?ge.target:Be;return{done:!1,value:[Pe.key,Pe.attributes]}})}function ec(ye,Me,fe){var D=Object.keys(fe),K=D.length,ge=0;return new Ke(function Be(){if(ge>=K)return{done:!0};var qe=fe[D[ge++]];qe instanceof Set&&(qe=qe.values().next().value);var Pe=qe.source,Gt=Pe===Me?qe.target:Pe;return ye.has(Gt.key)?Be():(ye.add(Gt.key),{done:!1,value:[Gt.key,Gt.attributes]})})}function Ye(ye,Me,fe){for(var D,K,ge,Be,qe,Pe,kt,Gt=Me._nodes.values(),Qt=Me.type;!0!==(D=Gt.next()).done;){if(K=D.value,"undirected"!==Qt)for(ge in Be=K.out)if(Pe=(qe=Be[ge]).target,kt=fe(K.key,Pe.key,K.attributes,Pe.attributes,qe.key,qe.attributes,qe.undirected,qe.generatedKey),ye&&kt)return;if("directed"!==Qt)for(ge in Be=K.undirected)if((Pe=(qe=Be[ge]).target).key!==ge&&(Pe=qe.source),kt=fe(K.key,Pe.key,K.attributes,Pe.attributes,qe.key,qe.attributes,qe.undirected,qe.generatedKey),ye&&kt)return}}function Ze(ye,Me,fe){for(var D,K,ge,Be,qe,Pe,kt,Gt,Qt,Cn=Me._nodes.values(),jn=Me.type;!0!==(D=Cn.next()).done;){if(K=D.value,"undirected"!==jn)for(ge in Pe=K.out)for(Be=Pe[ge].values();!0!==(qe=Be.next()).done;)if(Gt=(kt=qe.value).target,Qt=fe(K.key,Gt.key,K.attributes,Gt.attributes,kt.key,kt.attributes,kt.undirected,kt.generatedKey),ye&&Qt)return;if("directed"!==jn)for(ge in Pe=K.undirected)for(Be=Pe[ge].values();!0!==(qe=Be.next()).done;)if((Gt=(kt=qe.value).target).key!==ge&&(Gt=kt.source),Qt=fe(K.key,Gt.key,K.attributes,Gt.attributes,kt.key,kt.attributes,kt.undirected,kt.generatedKey),ye&&Qt)return}}function Et(ye,Me){var fe={key:ye};return k(Me.attributes)||(fe.attributes=x({},Me.attributes)),fe}function nn(ye,Me){var fe={source:Me.source.key,target:Me.target.key};return Me.generatedKey||(fe.key=ye),k(Me.attributes)||(fe.attributes=x({},Me.attributes)),Me.undirected&&(fe.undirected=!0),fe}var Po=new Set(["directed","undirected","mixed"]),rn=new Set(["domain","_events","_eventsCount","_maxListeners"]),zs={allowSelfLoops:!0,edgeKeyGenerator:null,multi:!1,type:"mixed"};function hr(ye,Me,fe){var D=new ye.NodeDataClass(Me,fe);return ye._nodes.set(Me,D),ye.emit("nodeAdded",{key:Me,attributes:fe}),D}function sl(ye,Me,fe,D,K,ge,Be,qe){if(!D&&"undirected"===ye.type)throw new ue("Graph.".concat(Me,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(D&&"directed"===ye.type)throw new ue("Graph.".concat(Me,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(qe&&!O(qe))throw new Se("Graph.".concat(Me,': invalid attributes. Expecting an object but got "').concat(qe,'"'));if(ge=""+ge,Be=""+Be,qe=qe||{},!ye.allowSelfLoops&&ge===Be)throw new ue("Graph.".concat(Me,': source & target are the same ("').concat(ge,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var Pe=ye._nodes.get(ge),kt=ye._nodes.get(Be);if(!Pe)throw new Ue("Graph.".concat(Me,': source node "').concat(ge,'" not found.'));if(!kt)throw new Ue("Graph.".concat(Me,': target node "').concat(Be,'" not found.'));var Gt={key:null,undirected:D,source:ge,target:Be,attributes:qe};if(fe&&(K=ye._edgeKeyGenerator(Gt)),ye._edges.has(K=""+K))throw new ue("Graph.".concat(Me,': the "').concat(K,'" edge already exists in the graph.'));if(!ye.multi&&(D?void 0!==Pe.undirected[Be]:void 0!==Pe.out[Be]))throw new ue("Graph.".concat(Me,': an edge linking "').concat(ge,'" to "').concat(Be,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var Qt=new Je(D,K,fe,Pe,kt,qe);return ye._edges.set(K,Qt),ge===Be?D?(Pe.undirectedSelfLoops++,ye._undirectedSelfLoopCount++):(Pe.directedSelfLoops++,ye._directedSelfLoopCount++):D?(Pe.undirectedDegree++,kt.undirectedDegree++):(Pe.outDegree++,kt.inDegree++),pe(ye,D,Qt,ge,Be,Pe,kt),D?ye._undirectedSize++:ye._directedSize++,Gt.key=K,ye.emit("edgeAdded",Gt),K}function _i(ye,Me,fe,D,K,ge,Be,qe,Pe){if(!D&&"undirected"===ye.type)throw new ue("Graph.".concat(Me,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(D&&"directed"===ye.type)throw new ue("Graph.".concat(Me,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(qe)if(Pe){if("function"!=typeof qe)throw new Se("Graph.".concat(Me,': invalid updater function. Expecting a function but got "').concat(qe,'"'))}else if(!O(qe))throw new Se("Graph.".concat(Me,': invalid attributes. Expecting an object but got "').concat(qe,'"'));var kt;if(ge=""+ge,Be=""+Be,Pe&&(kt=qe,qe=void 0),!ye.allowSelfLoops&&ge===Be)throw new ue("Graph.".concat(Me,': source & target are the same ("').concat(ge,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var Gt,Qt,Cn=ye._nodes.get(ge),jn=ye._nodes.get(Be);if(!fe&&(Gt=ye._edges.get(K))){if(Gt.source.key!==ge||Gt.target.key!==Be||D&&(Gt.source.key!==Be||Gt.target.key!==ge))throw new ue("Graph.".concat(Me,': inconsistency detected when attempting to merge the "').concat(K,'" edge with "').concat(ge,'" source & "').concat(Be,'" target vs. ("').concat(Gt.source.key,'", "').concat(Gt.target.key,'").'));Qt=Gt}if(Qt||ye.multi||!Cn||(Qt=D?Cn.undirected[Be]:Cn.out[Be]),Qt)return(Pe?kt:qe)?(Pe?(Qt.attributes=kt(Qt.attributes),ye.emit("edgeAttributesUpdated",{type:"replace",key:Qt.key,attributes:Qt.attributes})):(x(Qt.attributes,qe),ye.emit("edgeAttributesUpdated",{type:"merge",key:Qt.key,attributes:Qt.attributes,data:qe})),Qt.key):Qt.key;qe=qe||{},Pe&&kt&&(qe=kt(qe));var Nr={key:null,undirected:D,source:ge,target:Be,attributes:qe};if(fe&&(K=ye._edgeKeyGenerator(Nr)),ye._edges.has(K=""+K))throw new ue("Graph.".concat(Me,': the "').concat(K,'" edge already exists in the graph.'));return Cn||(Cn=hr(ye,ge,{}),ge===Be&&(jn=Cn)),jn||(jn=hr(ye,Be,{})),Gt=new Je(D,K,fe,Cn,jn,qe),ye._edges.set(K,Gt),ge===Be?D?(Cn.undirectedSelfLoops++,ye._undirectedSelfLoopCount++):(Cn.directedSelfLoops++,ye._directedSelfLoopCount++):D?(Cn.undirectedDegree++,jn.undirectedDegree++):(Cn.outDegree++,jn.inDegree++),pe(ye,D,Gt,ge,Be,Cn,jn),D?ye._undirectedSize++:ye._directedSize++,Nr.key=K,ye.emit("edgeAdded",Nr),K}var ye,wn=function(ye){function Me(D){var K;if(K=ye.call(this)||this,(D=x({},zs,D)).edgeKeyGenerator&&"function"!=typeof D.edgeKeyGenerator)throw new Se("Graph.constructor: invalid 'edgeKeyGenerator' option. Expecting a function but got \"".concat(D.edgeKeyGenerator,'".'));if("boolean"!=typeof D.multi)throw new Se("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(D.multi,'".'));if(!Po.has(D.type))throw new Se('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(D.type,'".'));if("boolean"!=typeof D.allowSelfLoops)throw new Se("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(D.allowSelfLoops,'".'));var ge,Be="mixed"===D.type?Ce:"directed"===D.type?at:vt;return oe(_(K),"NodeDataClass",Be),oe(_(K),"_attributes",{}),oe(_(K),"_nodes",new Map),oe(_(K),"_edges",new Map),oe(_(K),"_directedSize",0),oe(_(K),"_undirectedSize",0),oe(_(K),"_directedSelfLoopCount",0),oe(_(K),"_undirectedSelfLoopCount",0),oe(_(K),"_edgeKeyGenerator",D.edgeKeyGenerator||(ge=0,function(){return ge++})),oe(_(K),"_options",D),rn.forEach(function(qe){return oe(_(K),qe,K[qe])}),w(_(K),"order",function(){return K._nodes.size}),w(_(K),"size",function(){return K._edges.size}),w(_(K),"directedSize",function(){return K._directedSize}),w(_(K),"undirectedSize",function(){return K._undirectedSize}),w(_(K),"selfLoopCount",function(){return K._directedSelfLoopCount+K._undirectedSelfLoopCount}),w(_(K),"directedSelfLoopCount",function(){return K._directedSelfLoopCount}),w(_(K),"undirectedSelfLoopCount",function(){return K._undirectedSelfLoopCount}),w(_(K),"multi",K._options.multi),w(_(K),"type",K._options.type),w(_(K),"allowSelfLoops",K._options.allowSelfLoops),w(_(K),"implementation",function(){return"graphology"}),K}S(Me,ye);var fe=Me.prototype;return fe.hasNode=function(D){return this._nodes.has(""+D)},fe.hasDirectedEdge=function(D,K){if("undirected"===this.type)return!1;if(1===arguments.length){var Be=this._edges.get(""+D);return!!Be&&!Be.undirected}if(2===arguments.length){K=""+K;var qe=this._nodes.get(D=""+D);if(!qe)return!1;var Pe=qe.out[K];return!(!Pe||this.multi&&!Pe.size)}throw new Se("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},fe.hasUndirectedEdge=function(D,K){if("directed"===this.type)return!1;if(1===arguments.length){var Be=this._edges.get(""+D);return!!Be&&Be.undirected}if(2===arguments.length){K=""+K;var qe=this._nodes.get(D=""+D);if(!qe)return!1;var Pe=qe.undirected[K];return!(!Pe||this.multi&&!Pe.size)}throw new Se("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},fe.hasEdge=function(D,K){if(1===arguments.length)return this._edges.has(""+D);if(2===arguments.length){K=""+K;var Be=this._nodes.get(D=""+D);if(!Be)return!1;var qe=void 0!==Be.out&&Be.out[K];return qe||(qe=void 0!==Be.undirected&&Be.undirected[K]),!(!qe||this.multi&&!qe.size)}throw new Se("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},fe.directedEdge=function(D,K){if("undirected"!==this.type){if(D=""+D,K=""+K,this.multi)throw new ue("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var ge=this._nodes.get(D);if(!ge)throw new Ue('Graph.directedEdge: could not find the "'.concat(D,'" source node in the graph.'));if(!this._nodes.has(K))throw new Ue('Graph.directedEdge: could not find the "'.concat(K,'" target node in the graph.'));var Be=ge.out&&ge.out[K]||void 0;return Be?Be.key:void 0}},fe.undirectedEdge=function(D,K){if("directed"!==this.type){if(D=""+D,K=""+K,this.multi)throw new ue("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var ge=this._nodes.get(D);if(!ge)throw new Ue('Graph.undirectedEdge: could not find the "'.concat(D,'" source node in the graph.'));if(!this._nodes.has(K))throw new Ue('Graph.undirectedEdge: could not find the "'.concat(K,'" target node in the graph.'));var Be=ge.undirected&&ge.undirected[K]||void 0;return Be?Be.key:void 0}},fe.edge=function(D,K){if(this.multi)throw new ue("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");K=""+K;var ge=this._nodes.get(D=""+D);if(!ge)throw new Ue('Graph.edge: could not find the "'.concat(D,'" source node in the graph.'));if(!this._nodes.has(K))throw new Ue('Graph.edge: could not find the "'.concat(K,'" target node in the graph.'));var Be=ge.out&&ge.out[K]||ge.undirected&&ge.undirected[K]||void 0;if(Be)return Be.key},fe.inDegree=function(D){var K=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof K)throw new Se('Graph.inDegree: Expecting a boolean but got "'.concat(K,'" for the second parameter (allowing self-loops to be counted).'));var ge=this._nodes.get(D=""+D);if(!ge)throw new Ue('Graph.inDegree: could not find the "'.concat(D,'" node in the graph.'));return"undirected"===this.type?0:ge.inDegree+(K?ge.directedSelfLoops:0)},fe.outDegree=function(D){var K=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof K)throw new Se('Graph.outDegree: Expecting a boolean but got "'.concat(K,'" for the second parameter (allowing self-loops to be counted).'));var ge=this._nodes.get(D=""+D);if(!ge)throw new Ue('Graph.outDegree: could not find the "'.concat(D,'" node in the graph.'));return"undirected"===this.type?0:ge.outDegree+(K?ge.directedSelfLoops:0)},fe.directedDegree=function(D){var K=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof K)throw new Se('Graph.directedDegree: Expecting a boolean but got "'.concat(K,'" for the second parameter (allowing self-loops to be counted).'));var ge=this._nodes.get(D=""+D);if(!ge)throw new Ue('Graph.directedDegree: could not find the "'.concat(D,'" node in the graph.'));if("undirected"===this.type)return 0;var Be=K?ge.directedSelfLoops:0;return ge.inDegree+Be+(ge.outDegree+Be)},fe.undirectedDegree=function(D){var K=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof K)throw new Se('Graph.undirectedDegree: Expecting a boolean but got "'.concat(K,'" for the second parameter (allowing self-loops to be counted).'));var ge=this._nodes.get(D=""+D);if(!ge)throw new Ue('Graph.undirectedDegree: could not find the "'.concat(D,'" node in the graph.'));return"directed"===this.type?0:ge.undirectedDegree+2*(K?ge.undirectedSelfLoops:0)},fe.degree=function(D){var K=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof K)throw new Se('Graph.degree: Expecting a boolean but got "'.concat(K,'" for the second parameter (allowing self-loops to be counted).'));var ge=this._nodes.get(D=""+D);if(!ge)throw new Ue('Graph.degree: could not find the "'.concat(D,'" node in the graph.'));var Be=0,qe=0;return"directed"!==this.type&&(K&&(qe=ge.undirectedSelfLoops),Be+=ge.undirectedDegree+2*qe),"undirected"!==this.type&&(K&&(qe=ge.directedSelfLoops),Be+=ge.inDegree+ge.outDegree+2*qe),Be},fe.source=function(D){var K=this._edges.get(D=""+D);if(!K)throw new Ue('Graph.source: could not find the "'.concat(D,'" edge in the graph.'));return K.source.key},fe.target=function(D){var K=this._edges.get(D=""+D);if(!K)throw new Ue('Graph.target: could not find the "'.concat(D,'" edge in the graph.'));return K.target.key},fe.extremities=function(D){var K=this._edges.get(D=""+D);if(!K)throw new Ue('Graph.extremities: could not find the "'.concat(D,'" edge in the graph.'));return[K.source.key,K.target.key]},fe.opposite=function(D,K){D=""+D;var ge=this._edges.get(K=""+K);if(!ge)throw new Ue('Graph.opposite: could not find the "'.concat(K,'" edge in the graph.'));var Be=ge.source.key,qe=ge.target.key;if(D!==Be&&D!==qe)throw new Ue('Graph.opposite: the "'.concat(D,'" node is not attached to the "').concat(K,'" edge (').concat(Be,", ").concat(qe,")."));return D===Be?qe:Be},fe.hasExtremity=function(D,K){K=""+K;var ge=this._edges.get(D=""+D);if(!ge)throw new Ue('Graph.hasExtremity: could not find the "'.concat(D,'" edge in the graph.'));return ge.source.key===K||ge.target.key===K},fe.isUndirected=function(D){var K=this._edges.get(D=""+D);if(!K)throw new Ue('Graph.isUndirected: could not find the "'.concat(D,'" edge in the graph.'));return K.undirected},fe.isDirected=function(D){var K=this._edges.get(D=""+D);if(!K)throw new Ue('Graph.isDirected: could not find the "'.concat(D,'" edge in the graph.'));return!K.undirected},fe.isSelfLoop=function(D){var K=this._edges.get(D=""+D);if(!K)throw new Ue('Graph.isSelfLoop: could not find the "'.concat(D,'" edge in the graph.'));return K.source===K.target},fe.hasGeneratedKey=function(D){var K=this._edges.get(D=""+D);if(!K)throw new Ue('Graph.hasGeneratedKey: could not find the "'.concat(D,'" edge in the graph.'));return K.generatedKey},fe.addNode=function(D,K){return function(ge,Be,qe){if(qe&&!O(qe))throw new Se('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(qe,'"'));if(qe=qe||{},ge._nodes.has(Be=""+Be))throw new ue('Graph.addNode: the "'.concat(Be,'" node already exist in the graph.'));var Pe=new ge.NodeDataClass(Be,qe);return ge._nodes.set(Be,Pe),ge.emit("nodeAdded",{key:Be,attributes:qe}),Pe}(this,D,K).key},fe.mergeNode=function(D,K){if(K&&!O(K))throw new Se('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(K,'"'));K=K||{};var ge=this._nodes.get(D=""+D);return ge?(K&&(x(ge.attributes,K),this.emit("nodeAttributesUpdated",{type:"merge",key:D,attributes:ge.attributes,data:K})),D):(ge=new this.NodeDataClass(D,K),this._nodes.set(D,ge),this.emit("nodeAdded",{key:D,attributes:K}),D)},fe.updateNode=function(D,K){if(K&&"function"!=typeof K)throw new Se('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(K,'"'));var ge=this._nodes.get(D=""+D);if(ge)return K&&(ge.attributes=K(ge.attributes),this.emit("nodeAttributesUpdated",{type:"replace",key:D,attributes:ge.attributes})),D;var qe=K?K({}):{};return ge=new this.NodeDataClass(D,qe),this._nodes.set(D,ge),this.emit("nodeAdded",{key:D,attributes:qe}),D},fe.dropNode=function(D){var K=this,ge=this._nodes.get(D=""+D);if(!ge)throw new Ue('Graph.dropNode: could not find the "'.concat(D,'" node in the graph.'));this.forEachEdge(D,function(Be){K.dropEdge(Be)}),this._nodes.delete(D),this.emit("nodeDropped",{key:D,attributes:ge.attributes})},fe.dropEdge=function(D){var K;if(arguments.length>1){var ge=""+arguments[0],Be=""+arguments[1];if(!(K=N(this,ge,Be,this.type)))throw new Ue('Graph.dropEdge: could not find the "'.concat(ge,'" -> "').concat(Be,'" edge in the graph.'))}else if(!(K=this._edges.get(D=""+D)))throw new Ue('Graph.dropEdge: could not find the "'.concat(D,'" edge in the graph.'));this._edges.delete(K.key);var Pe=K.source,kt=K.target,Gt=K.attributes,Qt=K.undirected;return Pe===kt?Qt?(Pe.undirectedSelfLoops--,this._undirectedSelfLoopCount--):(Pe.directedSelfLoops--,this._directedSelfLoopCount--):Qt?(Pe.undirectedDegree--,kt.undirectedDegree--):(Pe.outDegree--,kt.inDegree--),function R(ye,Me,fe){var D=ye.multi,K=fe.source,ge=fe.target,Be=K.key,qe=ge.key,Pe=K[Me?"undirected":"out"],kt=Me?"undirected":"in";if(qe in Pe)if(D){var Gt=Pe[qe];1===Gt.size?(delete Pe[qe],delete ge[kt][Be]):Gt.delete(fe)}else delete Pe[qe];D||delete ge[kt][Be]}(this,Qt,K),Qt?this._undirectedSize--:this._directedSize--,this.emit("edgeDropped",{key:D,attributes:Gt,source:Pe.key,target:kt.key,undirected:Qt}),this},fe.clear=function(){this._edges.clear(),this._nodes.clear(),this.emit("cleared")},fe.clearEdges=function(){this._edges.clear(),this.clearIndex(),this.emit("edgesCleared")},fe.getAttribute=function(D){return this._attributes[D]},fe.getAttributes=function(){return this._attributes},fe.hasAttribute=function(D){return this._attributes.hasOwnProperty(D)},fe.setAttribute=function(D,K){return this._attributes[D]=K,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:D}),this},fe.updateAttribute=function(D,K){if("function"!=typeof K)throw new Se("Graph.updateAttribute: updater should be a function.");return this._attributes[D]=K(this._attributes[D]),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:D}),this},fe.removeAttribute=function(D){return delete this._attributes[D],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:D}),this},fe.replaceAttributes=function(D){if(!O(D))throw new Se("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=D,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},fe.mergeAttributes=function(D){if(!O(D))throw new Se("Graph.mergeAttributes: provided attributes are not a plain object.");return x(this._attributes,D),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:D}),this},fe.getNodeAttribute=function(D,K){var ge=this._nodes.get(D=""+D);if(!ge)throw new Ue('Graph.getNodeAttribute: could not find the "'.concat(D,'" node in the graph.'));return ge.attributes[K]},fe.getNodeAttributes=function(D){var K=this._nodes.get(D=""+D);if(!K)throw new Ue('Graph.getNodeAttributes: could not find the "'.concat(D,'" node in the graph.'));return K.attributes},fe.hasNodeAttribute=function(D,K){var ge=this._nodes.get(D=""+D);if(!ge)throw new Ue('Graph.hasNodeAttribute: could not find the "'.concat(D,'" node in the graph.'));return ge.attributes.hasOwnProperty(K)},fe.setNodeAttribute=function(D,K,ge){var Be=this._nodes.get(D=""+D);if(!Be)throw new Ue('Graph.setNodeAttribute: could not find the "'.concat(D,'" node in the graph.'));if(arguments.length<3)throw new Se("Graph.setNodeAttribute: not enough arguments. Either you forgot to pass the attribute's name or value, or you meant to use #.replaceNodeAttributes / #.mergeNodeAttributes instead.");return Be.attributes[K]=ge,this.emit("nodeAttributesUpdated",{key:D,type:"set",attributes:Be.attributes,name:K}),this},fe.updateNodeAttribute=function(D,K,ge){var Be=this._nodes.get(D=""+D);if(!Be)throw new Ue('Graph.updateNodeAttribute: could not find the "'.concat(D,'" node in the graph.'));if(arguments.length<3)throw new Se("Graph.updateNodeAttribute: not enough arguments. Either you forgot to pass the attribute's name or updater, or you meant to use #.replaceNodeAttributes / #.mergeNodeAttributes instead.");if("function"!=typeof ge)throw new Se("Graph.updateAttribute: updater should be a function.");var qe=Be.attributes,Pe=ge(qe[K]);return qe[K]=Pe,this.emit("nodeAttributesUpdated",{key:D,type:"set",attributes:Be.attributes,name:K}),this},fe.removeNodeAttribute=function(D,K){var ge=this._nodes.get(D=""+D);if(!ge)throw new Ue('Graph.hasNodeAttribute: could not find the "'.concat(D,'" node in the graph.'));return delete ge.attributes[K],this.emit("nodeAttributesUpdated",{key:D,type:"remove",attributes:ge.attributes,name:K}),this},fe.replaceNodeAttributes=function(D,K){var ge=this._nodes.get(D=""+D);if(!ge)throw new Ue('Graph.replaceNodeAttributes: could not find the "'.concat(D,'" node in the graph.'));if(!O(K))throw new Se("Graph.replaceNodeAttributes: provided attributes are not a plain object.");return ge.attributes=K,this.emit("nodeAttributesUpdated",{key:D,type:"replace",attributes:ge.attributes}),this},fe.mergeNodeAttributes=function(D,K){var ge=this._nodes.get(D=""+D);if(!ge)throw new Ue('Graph.mergeNodeAttributes: could not find the "'.concat(D,'" node in the graph.'));if(!O(K))throw new Se("Graph.mergeNodeAttributes: provided attributes are not a plain object.");return x(ge.attributes,K),this.emit("nodeAttributesUpdated",{key:D,type:"merge",attributes:ge.attributes,data:K}),this},fe.updateEachNodeAttributes=function(D,K){if("function"!=typeof D)throw new Se("Graph.updateEachNodeAttributes: expecting an updater function.");if(K&&!F(K))throw new Se("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var ge,Be,qe=this._nodes.values();!0!==(ge=qe.next()).done;)(Be=ge.value).attributes=D(Be.key,Be.attributes);this.emit("eachNodeAttributesUpdated",{hints:K||null})},fe.updateEachEdgeAttributes=function(D,K){if("function"!=typeof D)throw new Se("Graph.updateEachEdgeAttributes: expecting an updater function.");if(K&&!F(K))throw new Se("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var ge,Be,qe=this._edges.values();!0!==(ge=qe.next()).done;)(Be=ge.value).attributes=D(Be.key,Be.attributes);this.emit("eachEdgeAttributesUpdated",{hints:K||null})},fe.forEach=function(D){if("function"!=typeof D)throw new Se("Graph.forEach: expecting a callback.");this.multi?Ze(!1,this,D):Ye(!1,this,D)},fe.forEachUntil=function(D){if("function"!=typeof D)throw new Se("Graph.forEach: expecting a callback.");this.multi?Ze(!0,this,D):Ye(!0,this,D)},fe.adjacency=function(){return this.multi?(Pe=(D=this)._nodes.values(),kt=D.type,Gt="outer",Qt=null,new Ke(function Cn(){var jn;if("outer"===Gt)return!0===(jn=Pe.next()).done?jn:(K=jn.value,Gt="directed",Cn());if("directed"===Gt)return"undirected"===kt?(Gt="undirected",Cn()):(Be=K.out,ge=Object.keys(K.out),qe=0,Gt="inner-directed",Cn());if("undirected"===Gt){if("directed"===kt)return Gt="outer",Cn();Be=K.undirected,ge=Object.keys(K.undirected),qe=0,Gt="inner-undirected"}if(!Qt&&qe>=ge.length)return Gt="inner-undirected"===Gt?"outer":"undirected",Cn();if(!Qt){var kr=ge[qe++];return Qt=Be[kr].values(),Cn()}if((jn=Qt.next()).done)return Qt=null,Cn();var Nr=jn.value,ls=Nr.target;return"inner-undirected"===Gt&&ls.key===K.key&&(ls=Nr.source),{done:!1,value:[K.key,ls.key,K.attributes,ls.attributes,Nr.key,Nr.attributes]}})):(Hn=(Cn=this)._nodes.values(),hi=Cn.type,ko="outer",new Ke(function ws(){var Gl;if("outer"===ko)return!0===(Gl=Hn.next()).done?Gl:(jn=Gl.value,ko="directed",ws());if("directed"===ko)return"undirected"===hi?(ko="undirected",ws()):(Nr=jn.out,kr=Object.keys(jn.out),ls=0,ko="inner-directed",ws());if("undirected"===ko){if("directed"===hi)return ko="outer",ws();Nr=jn.undirected,kr=Object.keys(jn.undirected),ls=0,ko="inner-undirected"}if(ls>=kr.length)return ko="inner-undirected"===ko?"outer":"undirected",ws();var sh=kr[ls++],Ia=Nr[sh],nc=Ia.target;return"inner-undirected"===ko&&nc.key===jn.key&&(nc=Ia.source),{done:!1,value:[jn.key,nc.key,jn.attributes,nc.attributes,Ia.key,Ia.attributes]}}));var Cn,jn,kr,Nr,ls,Hn,hi,ko,D,K,ge,Be,qe,Pe,kt,Gt,Qt},fe.nodes=function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):Ae(this._nodes.keys(),this._nodes.size)},fe.forEachNode=function(D){if("function"!=typeof D)throw new Se("Graph.forEachNode: expecting a callback.");this._nodes.forEach(function(K,ge){D(ge,K.attributes)})},fe.forEachNodeUntil=function(D){if("function"!=typeof D)throw new Se("Graph.forEachNode: expecting a callback.");for(var K,ge,Be=this._nodes.values();!0!==(K=Be.next())&&!D((ge=K.value).key,ge.attributes););},fe.nodeEntries=function(){var D=this._nodes.values();return new Ke(function(){var K=D.next();if(K.done)return K;var ge=K.value;return{value:[ge.key,ge.attributes],done:!1}})},fe.exportNode=function(D){var K=this._nodes.get(D=""+D);if(!K)throw new Ue('Graph.exportNode: could not find the "'.concat(D,'" node in the graph.'));return Et(D,K)},fe.exportEdge=function(D){var K=this._edges.get(D=""+D);if(!K)throw new Ue('Graph.exportEdge: could not find the "'.concat(D,'" edge in the graph.'));return nn(D,K)},fe.export=function(){var D=new Array(this._nodes.size),K=0;this._nodes.forEach(function(Be,qe){D[K++]=Et(qe,Be)});var ge=new Array(this._edges.size);return K=0,this._edges.forEach(function(Be,qe){ge[K++]=nn(qe,Be)}),{attributes:this.getAttributes(),nodes:D,edges:ge,options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops}}},fe.importNode=function(D){var K=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ge=function En(ye){return O(ye)?"key"in ye?!("attributes"in ye)||O(ye.attributes)&&null!==ye.attributes?null:"invalid-attributes":"no-key":"not-object"}(D);if(ge){if("not-object"===ge)throw new Se('Graph.importNode: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if("no-key"===ge)throw new Se("Graph.importNode: no key provided.");if("invalid-attributes"===ge)throw new Se("Graph.importNode: invalid attributes. Attributes should be a plain object, null or omitted.")}var Be=D.key,qe=D.attributes,Pe=void 0===qe?{}:qe;return K?this.mergeNode(Be,Pe):this.addNode(Be,Pe),this},fe.importEdge=function(D){var K=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ge=function Pr(ye){return O(ye)?"source"in ye?"target"in ye?!("attributes"in ye)||O(ye.attributes)&&null!==ye.attributes?"undirected"in ye&&"boolean"!=typeof ye.undirected?"invalid-undirected":null:"invalid-attributes":"no-target":"no-source":"not-object"}(D);if(ge){if("not-object"===ge)throw new Se('Graph.importEdge: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if("no-source"===ge)throw new Se("Graph.importEdge: missing souce.");if("no-target"===ge)throw new Se("Graph.importEdge: missing target.");if("invalid-attributes"===ge)throw new Se("Graph.importEdge: invalid attributes. Attributes should be a plain object, null or omitted.");if("invalid-undirected"===ge)throw new Se("Graph.importEdge: invalid undirected. Undirected should be boolean or omitted.")}var Be=D.source,qe=D.target,Pe=D.attributes,kt=void 0===Pe?{}:Pe,Gt=D.undirected,Qt=void 0!==Gt&&Gt;return"key"in D?(K?Qt?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:Qt?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,D.key,Be,qe,kt):(K?Qt?this.mergeUndirectedEdge:this.mergeDirectedEdge:Qt?this.addUndirectedEdge:this.addDirectedEdge).call(this,Be,qe,kt),this},fe.import=function(D){var K,ge,Be,qe=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(function G(ye){return null!==ye&&"object"===_e(ye)&&"function"==typeof ye.addUndirectedEdgeWithKey&&"function"==typeof ye.dropNode}(D))return this.import(D.export(),qe),this;if(!O(D))throw new Se("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(D.attributes){if(!O(D.attributes))throw new Se("Graph.import: invalid attributes. Expecting a plain object.");qe?this.mergeAttributes(D.attributes):this.replaceAttributes(D.attributes)}if(D.nodes){if(Be=D.nodes,!Array.isArray(Be))throw new Se("Graph.import: invalid nodes. Expecting an array.");for(K=0,ge=Be.length;K<ge;K++)this.importNode(Be[K],qe)}if(D.edges){if(Be=D.edges,!Array.isArray(Be))throw new Se("Graph.import: invalid edges. Expecting an array.");for(K=0,ge=Be.length;K<ge;K++)this.importEdge(Be[K],qe)}return this},fe.nullCopy=function(D){return new Me(x({},this._options,D))},fe.emptyCopy=function(D){var K=this.nullCopy(D);return this._nodes.forEach(function(ge,Be){var qe=x({},ge.attributes);ge=new K.NodeDataClass(Be,qe),K._nodes.set(Be,ge)}),K},fe.copy=function(){var D=new Me(this._options);return D.import(this),D},fe.upgradeToMixed=function(){return"mixed"===this.type||(this._nodes.forEach(function(D){return D.upgradeToMixed()}),this._options.type="mixed",w(this,"type",this._options.type),oe(this,"NodeDataClass",Ce)),this},fe.upgradeToMulti=function(){return this.multi||(this._options.multi=!0,w(this,"multi",!0),(D=this)._nodes.forEach(function(K,ge){if(K.out)for(var Be in K.out){var qe=new Set;qe.add(K.out[Be]),K.out[Be]=qe,D._nodes.get(Be).in[ge]=qe}if(K.undirected)for(var Pe in K.undirected)if(!(Pe>ge)){var kt=new Set;kt.add(K.undirected[Pe]),K.undirected[Pe]=kt,D._nodes.get(Pe).undirected[ge]=kt}})),this;var D},fe.clearIndex=function(){return this._nodes.forEach(function(D){void 0!==D.in&&(D.in={},D.out={}),void 0!==D.undirected&&(D.undirected={})}),this},fe.toJSON=function(){return this.export()},fe.toString=function(){return"[object Graph]"},fe.inspect=function(){var D=this,K={};this._nodes.forEach(function(kt,Gt){K[Gt]=kt.attributes});var ge={},Be={};this._edges.forEach(function(kt,Gt){var Qt=kt.undirected?"--":"->",Cn="",jn="(".concat(kt.source.key,")").concat(Qt,"(").concat(kt.target.key,")");kt.generatedKey?D.multi&&(void 0===Be[jn]?Be[jn]=0:Be[jn]++,Cn+="".concat(Be[jn],". ")):Cn+="[".concat(Gt,"]: "),ge[Cn+=jn]=kt.attributes});var qe={};for(var Pe in this)this.hasOwnProperty(Pe)&&!rn.has(Pe)&&"function"!=typeof this[Pe]&&(qe[Pe]=this[Pe]);return qe.attributes=this._attributes,qe.nodes=K,qe.edges=ge,oe(qe,"constructor",this.constructor),qe},Me}(X.exports.EventEmitter);typeof Symbol<"u"&&(wn.prototype[Symbol.for("nodejs.util.inspect.custom")]=wn.prototype.inspect),[{name:function(ye){return"".concat(ye,"Edge")},generateKey:!0},{name:function(ye){return"".concat(ye,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(ye){return"".concat(ye,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(ye){return"".concat(ye,"EdgeWithKey")}},{name:function(ye){return"".concat(ye,"DirectedEdgeWithKey")},type:"directed"},{name:function(ye){return"".concat(ye,"UndirectedEdgeWithKey")},type:"undirected"}].forEach(function(ye){["add","merge","update"].forEach(function(Me){var fe=ye.name(Me),D="add"===Me?sl:_i;wn.prototype[fe]=ye.generateKey?function(K,ge,Be){return D(this,fe,!0,"undirected"===(ye.type||this.type),null,K,ge,Be,"update"===Me)}:function(K,ge,Be,qe){return D(this,fe,!1,"undirected"===(ye.type||this.type),K,ge,Be,qe,"update"===Me)}})}),typeof Symbol<"u"&&(wn.prototype[Symbol.iterator]=wn.prototype.adjacency),ye=wn,E.forEach(function(Me){var fe=Me.name,D=Me.attacher;D(ye,fe("Edge"),"mixed"),D(ye,fe("DirectedEdge"),"directed"),D(ye,fe("UndirectedEdge"),"undirected")}),function(ye){He.forEach(function(Me){var D,K,ge,Be;ge=(D=Me).type,Be=D.direction,ye.prototype[K=D.name]=function(qe,Pe){if("mixed"!==ge&&"mixed"!==this.type&&ge!==this.type)return[];if(!arguments.length)return function an(ye,Me){if(0===ye.size)return[];if("mixed"===Me||Me===ye.type)return"function"==typeof Array.from?Array.from(ye._edges.keys()):Ae(ye._edges.keys(),ye._edges.size);for(var fe,D,ge=new Array("undirected"===Me?ye.undirectedSize:ye.directedSize),Be="undirected"===Me,qe=ye._edges.values(),Pe=0;!0!==(fe=qe.next()).done;)(D=fe.value).undirected===Be&&(ge[Pe++]=D.key);return ge}(this,ge);if(1===arguments.length){var kt=this._nodes.get(qe=""+qe);if(void 0===kt)throw new Ue("Graph.".concat(K,': could not find the "').concat(qe,'" node in the graph.'));return function Le(ye,Me,fe,D){var K=[],ge=ye?de:Qe;return"undirected"!==Me&&("out"!==fe&&ge(K,D.in),"in"!==fe&&ge(K,D.out),!fe&&D.directedSelfLoops>0&&K.splice(K.lastIndexOf(D.key),1)),"directed"!==Me&&ge(K,D.undirected),K}(this.multi,"mixed"===ge?this.type:ge,Be,kt)}if(2===arguments.length){Pe=""+Pe;var Gt=this._nodes.get(qe=""+qe);if(!Gt)throw new Ue("Graph.".concat(K,':  could not find the "').concat(qe,'" source node in the graph.'));if(!this._nodes.has(Pe))throw new Ue("Graph.".concat(K,':  could not find the "').concat(Pe,'" target node in the graph.'));return function xn(ye,Me,fe,D,K){var ge=Me?Ee:Xe,Be=[];return"undirected"!==ye&&(void 0!==D.in&&"out"!==fe&&ge(Be,D.in,K),void 0!==D.out&&"in"!==fe&&ge(Be,D.out,K),!fe&&D.directedSelfLoops>0&&Be.splice(Be.lastIndexOf(D.key),1)),"directed"!==ye&&void 0!==D.undirected&&ge(Be,D.undirected,K),Be}(ge,this.multi,Be,Gt,Pe)}throw new Se("Graph.".concat(K,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))},function(fe,D){var K=D.name,ge=D.type,Be=D.direction,qe="forEach"+K[0].toUpperCase()+K.slice(1,-1);fe.prototype[qe]=function(Pe,kt,Gt){if("mixed"===ge||"mixed"===this.type||ge===this.type){if(1===arguments.length)return function me(ye,Me,fe){if(0!==ye.size)for(var D,K,ge="mixed"!==Me&&Me!==ye.type,Be="undirected"===Me,qe=ye._edges.values();!0!==(D=qe.next()).done;)if(K=D.value,!ge||K.undirected===Be){var Qt=K.source,Cn=K.target;fe(K.key,K.attributes,Qt.key,Cn.key,Qt.attributes,Cn.attributes,K.undirected,K.generatedKey)}}(this,ge,Gt=Pe);if(2===arguments.length){Gt=kt;var Qt=this._nodes.get(Pe=""+Pe);if(void 0===Qt)throw new Ue("Graph.".concat(qe,': could not find the "').concat(Pe,'" node in the graph.'));return function ct(ye,Me,fe,D,K){var ge=ye?U:ne;"undirected"!==Me&&("out"!==fe&&ge(D.in,K),"in"!==fe&&ge(D.out,K,fe?null:D.key)),"directed"!==Me&&ge(D.undirected,K)}(this.multi,"mixed"===ge?this.type:ge,Be,Qt,Gt)}if(3===arguments.length){kt=""+kt;var Cn=this._nodes.get(Pe=""+Pe);if(!Cn)throw new Ue("Graph.".concat(qe,':  could not find the "').concat(Pe,'" source node in the graph.'));if(!this._nodes.has(kt))throw new Ue("Graph.".concat(qe,':  could not find the "').concat(kt,'" target node in the graph.'));return function ti(ye,Me,fe,D,K,ge){var Be=Me?ut:Oe;"undirected"!==ye&&(void 0!==D.in&&"out"!==fe&&Be(D.in,K,ge),D.key!==K&&void 0!==D.out&&"in"!==fe&&Be(D.out,K,ge)),"directed"!==ye&&void 0!==D.undirected&&Be(D.undirected,K,ge)}(ge,this.multi,Be,Cn,kt,Gt)}throw new Se("Graph.".concat(qe,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}}}(ye,Me),function(fe,D){var K=D.name,ge=D.type,Be=D.direction,qe="forEach"+K[0].toUpperCase()+K.slice(1,-1)+"Until";fe.prototype[qe]=function(Pe,kt,Gt){if("mixed"===ge||"mixed"===this.type||ge===this.type){if(1===arguments.length)return function V(ye,Me,fe){if(0!==ye.size)for(var D,K,ge="mixed"!==Me&&Me!==ye.type,Be="undirected"===Me,qe=ye._edges.values();!0!==(D=qe.next()).done;)if(K=D.value,!ge||K.undirected===Be){var Qt=K.source,Cn=K.target;if(fe(K.key,K.attributes,Qt.key,Cn.key,Qt.attributes,Cn.attributes,K.undirected,K.generatedKey))break}}(this,ge,Gt=Pe);if(2===arguments.length){Gt=kt;var Qt=this._nodes.get(Pe=""+Pe);if(void 0===Qt)throw new Ue("Graph.".concat(qe,': could not find the "').concat(Pe,'" node in the graph.'));return function ft(ye,Me,fe,D,K){var ge=ye?P:M;"undirected"!==Me&&("out"!==fe&&ge(D.in,K)||"in"!==fe&&ge(D.out,K,fe?null:D.key))||"directed"===Me||ge(D.undirected,K)}(this.multi,"mixed"===ge?this.type:ge,Be,Qt,Gt)}if(3===arguments.length){kt=""+kt;var Cn=this._nodes.get(Pe=""+Pe);if(!Cn)throw new Ue("Graph.".concat(qe,':  could not find the "').concat(Pe,'" source node in the graph.'));if(!this._nodes.has(kt))throw new Ue("Graph.".concat(qe,':  could not find the "').concat(kt,'" target node in the graph.'));return function si(ye,Me,fe,D,K,ge){var Be=Me?Ut:St;"undirected"!==ye&&(void 0!==D.in&&"out"!==fe&&Be(D.in,K,ge)||D.key!==K&&void 0!==D.out&&"in"!==fe&&Be(D.out,K,ge,fe?null:D.key))||"directed"===ye||void 0===D.undirected||Be(D.undirected,K,ge)}(ge,this.multi,Be,Cn,kt,Gt)}throw new Se("Graph.".concat(qe,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}}}(ye,Me),function(fe,D){var ge=D.type,Be=D.direction,qe=D.name.slice(0,-1)+"Entries";fe.prototype[qe]=function(Pe,kt){if("mixed"!==ge&&"mixed"!==this.type&&ge!==this.type)return Ke.empty();if(!arguments.length)return function te(ye,Me){if(0===ye.size)return Ke.empty();var fe="mixed"!==Me&&Me!==ye.type,D="undirected"===Me,K=ye._edges.values();return new Ke(function(){for(var ge,Be;;){if((ge=K.next()).done)return ge;if(Be=ge.value,!fe||Be.undirected===D)break}return{value:[Be.key,Be.attributes,Be.source.key,Be.target.key,Be.source.attributes,Be.target.attributes],done:!1}})}(this,ge);if(1===arguments.length){var Gt=this._nodes.get(Pe=""+Pe);if(!Gt)throw new Ue("Graph.".concat(qe,': could not find the "').concat(Pe,'" node in the graph.'));return function Mt(ye,Me,fe){var D=Ke.empty();return"undirected"!==ye&&("out"!==Me&&void 0!==fe.in&&(D=Q(D,he(fe.in))),"in"!==Me&&void 0!==fe.out&&(D=Q(D,he(fe.out,Me?null:fe.key)))),"directed"!==ye&&void 0!==fe.undirected&&(D=Q(D,he(fe.undirected))),D}(ge,Be,Gt)}if(2===arguments.length){kt=""+kt;var Qt=this._nodes.get(Pe=""+Pe);if(!Qt)throw new Ue("Graph.".concat(qe,':  could not find the "').concat(Pe,'" source node in the graph.'));if(!this._nodes.has(kt))throw new Ue("Graph.".concat(qe,':  could not find the "').concat(kt,'" target node in the graph.'));return function Fn(ye,Me,fe,D){var K=Ke.empty();return"undirected"!==ye&&(void 0!==fe.in&&"out"!==Me&&D in fe.in&&(K=Q(K,mt(fe.in,D))),void 0!==fe.out&&"in"!==Me&&D in fe.out&&(K=Q(K,mt(fe.out,D)))),"directed"!==ye&&void 0!==fe.undirected&&D in fe.undirected&&(K=Q(K,mt(fe.undirected,D))),K}(ge,Be,Qt,kt)}throw new Se("Graph.".concat(qe,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(ye,Me)})}(wn),function(ye){zn.forEach(function(Me){var D,K,ge,Be;ge=(D=Me).type,Be=D.direction,ye.prototype[K=D.name]=function(qe){if("mixed"!==ge&&"mixed"!==this.type&&ge!==this.type)return[];if(2===arguments.length){var Pe=""+arguments[0],kt=""+arguments[1];if(!this._nodes.has(Pe))throw new Ue("Graph.".concat(K,': could not find the "').concat(Pe,'" node in the graph.'));if(!this._nodes.has(kt))throw new Ue("Graph.".concat(K,': could not find the "').concat(kt,'" node in the graph.'));return function Ic(ye,Me,fe,D,K){var ge=ye._nodes.get(D);if("undirected"!==Me){if("out"!==fe&&void 0!==ge.in)for(var Be in ge.in)if(Be===K)return!0;if("in"!==fe&&void 0!==ge.out)for(var qe in ge.out)if(qe===K)return!0}if("directed"!==Me&&void 0!==ge.undirected)for(var Pe in ge.undirected)if(Pe===K)return!0;return!1}(this,ge,Be,Pe,kt)}if(1===arguments.length){var Gt=this._nodes.get(qe=""+qe);if(void 0===Gt)throw new Ue("Graph.".concat(K,': could not find the "').concat(qe,'" node in the graph.'));return function Vs(ye,Me,fe){if("mixed"!==ye){if("undirected"===ye)return Object.keys(fe.undirected);if("string"==typeof Me)return Object.keys(fe[Me])}var D=new Set;return"undirected"!==ye&&("out"!==Me&&_r(D,fe.in),"in"!==Me&&_r(D,fe.out)),"directed"!==ye&&_r(D,fe.undirected),Ae(D.values(),D.size)}("mixed"===ge?this.type:ge,Be,Gt)}throw new Se("Graph.".concat(K,": invalid number of arguments (expecting 1 or 2 and got ").concat(arguments.length,")."))},function Hl(ye,Me){var fe=Me.name,D=Me.type,K=Me.direction,ge="forEach"+fe[0].toUpperCase()+fe.slice(1,-1);ye.prototype[ge]=function(Be,qe){if("mixed"===D||"mixed"===this.type||D===this.type){var Pe=this._nodes.get(Be=""+Be);if(void 0===Pe)throw new Ue("Graph.".concat(ge,': could not find the "').concat(Be,'" node in the graph.'));!function(kt,Gt,Qt,Cn){if("mixed"!==kt){if("undirected"===kt)return Xr(Qt,Qt.undirected,Cn);if("string"==typeof Gt)return Xr(Qt,Qt[Gt],Cn)}var jn=new Set;"undirected"!==kt&&("out"!==Gt&&Ro(jn,Qt,Qt.in,Cn),"in"!==Gt&&Ro(jn,Qt,Qt.out,Cn)),"directed"!==kt&&Ro(jn,Qt,Qt.undirected,Cn)}("mixed"===D?this.type:D,K,Pe,qe)}}}(ye,Me),function tc(ye,Me){var fe=Me.name,D=Me.type,K=Me.direction,ge="forEach"+fe[0].toUpperCase()+fe.slice(1,-1)+"Until";ye.prototype[ge]=function(Be,qe){if("mixed"===D||"mixed"===this.type||D===this.type){var Pe=this._nodes.get(Be=""+Be);if(void 0===Pe)throw new Ue("Graph.".concat(ge,': could not find the "').concat(Be,'" node in the graph.'));!function(kt,Gt,Qt,Cn){if("mixed"!==kt){if("undirected"===kt)return Ta(Qt,Qt.undirected,Cn);if("string"==typeof Gt)return Ta(Qt,Qt[Gt],Cn)}var jn=new Set;"undirected"!==kt&&("out"!==Gt&&qi(jn,Qt,Qt.in,Cn)||"in"!==Gt&&qi(jn,Qt,Qt.out,Cn))||"directed"===kt||qi(jn,Qt,Qt.undirected,Cn)}("mixed"===D?this.type:D,K,Pe,qe)}}}(ye,Me),function cs(ye,Me){var D=Me.type,K=Me.direction,ge=Me.name.slice(0,-1)+"Entries";ye.prototype[ge]=function(Be){if("mixed"!==D&&"mixed"!==this.type&&D!==this.type)return Ke.empty();var qe=this._nodes.get(Be=""+Be);if(void 0===qe)throw new Ue("Graph.".concat(ge,': could not find the "').concat(Be,'" node in the graph.'));return function(Pe,kt,Gt){if("mixed"!==Pe){if("undirected"===Pe)return mo(Gt,Gt.undirected);if("string"==typeof kt)return mo(Gt,Gt[kt])}var Qt=Ke.empty(),Cn=new Set;return"undirected"!==Pe&&("out"!==kt&&(Qt=Q(Qt,ec(Cn,Gt,Gt.in))),"in"!==kt&&(Qt=Q(Qt,ec(Cn,Gt,Gt.out)))),"directed"!==Pe&&(Qt=Q(Qt,ec(Cn,Gt,Gt.undirected))),Qt}("mixed"===D?this.type:D,K,qe)}}(ye,Me)})}(wn);var Ma=function(ye){function Me(fe){var D=x({type:"directed"},fe);if("multi"in D&&!1!==D.multi)throw new Se("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==D.type)throw new Se('DirectedGraph.from: inconsistent "'+D.type+'" type in given options!');return ye.call(this,D)||this}return S(Me,ye),Me}(wn),Bt=function(ye){function Me(fe){var D=x({type:"undirected"},fe);if("multi"in D&&!1!==D.multi)throw new Se("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==D.type)throw new Se('UndirectedGraph.from: inconsistent "'+D.type+'" type in given options!');return ye.call(this,D)||this}return S(Me,ye),Me}(wn),ci=function(ye){function Me(fe){var D=x({multi:!0},fe);if("multi"in D&&!0!==D.multi)throw new Se("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return ye.call(this,D)||this}return S(Me,ye),Me}(wn),go=function(ye){function Me(fe){var D=x({type:"directed",multi:!0},fe);if("multi"in D&&!0!==D.multi)throw new Se("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==D.type)throw new Se('MultiDirectedGraph.from: inconsistent "'+D.type+'" type in given options!');return ye.call(this,D)||this}return S(Me,ye),Me}(wn),Ti=function(ye){function Me(fe){var D=x({type:"undirected",multi:!0},fe);if("multi"in D&&!0!==D.multi)throw new Se("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==D.type)throw new Se('MultiUndirectedGraph.from: inconsistent "'+D.type+'" type in given options!');return ye.call(this,D)||this}return S(Me,ye),Me}(wn);function fr(ye){ye.from=function(Me,fe){var D=x({},Me.options,fe),K=new ye(D);return K.import(Me),K}}return fr(wn),fr(Ma),fr(Bt),fr(ci),fr(go),fr(Ti),wn.Graph=wn,wn.DirectedGraph=Ma,wn.UndirectedGraph=Bt,wn.MultiGraph=ci,wn.MultiDirectedGraph=go,wn.MultiUndirectedGraph=Ti,wn.InvalidArgumentsGraphError=Se,wn.NotFoundGraphError=Ue,wn.UsageGraphError=ue,wn}()},7271:(Ve,_e,S)=>{var Z;!function(A,$,H,Y){"use strict";var X,_=["","webkit","Moz","MS","ms","o"],x=$.createElement("div"),N="function",G=Math.round,O=Math.abs,k=Date.now;function oe(De,We,st){return setTimeout(L(De,st),We)}function w(De,We,st){return!!Array.isArray(De)&&(F(De,st[We],st),!0)}function F(De,We,st){var At;if(De)if(De.forEach)De.forEach(We,st);else if(De.length!==Y)for(At=0;At<De.length;)We.call(st,De[At],At,De),At++;else for(At in De)De.hasOwnProperty(At)&&We.call(st,De[At],At,De)}function re(De,We,st){var At="DEPRECATED METHOD: "+We+"\n"+st+" AT \n";return function(){var Kt=new Error("get-stack-trace"),bn=Kt&&Kt.stack?Kt.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",yi=A.console&&(A.console.warn||A.console.log);return yi&&yi.call(A.console,At,bn),De.apply(this,arguments)}}X="function"!=typeof Object.assign?function(We){if(We===Y||null===We)throw new TypeError("Cannot convert undefined or null to object");for(var st=Object(We),At=1;At<arguments.length;At++){var Kt=arguments[At];if(Kt!==Y&&null!==Kt)for(var bn in Kt)Kt.hasOwnProperty(bn)&&(st[bn]=Kt[bn])}return st}:Object.assign;var q=re(function(We,st,At){for(var Kt=Object.keys(st),bn=0;bn<Kt.length;)(!At||At&&We[Kt[bn]]===Y)&&(We[Kt[bn]]=st[Kt[bn]]),bn++;return We},"extend","Use `assign`."),ee=re(function(We,st){return q(We,st,!0)},"merge","Use `assign`.");function W(De,We,st){var Kt,At=We.prototype;(Kt=De.prototype=Object.create(At)).constructor=De,Kt._super=At,st&&X(Kt,st)}function L(De,We){return function(){return De.apply(We,arguments)}}function b(De,We){return typeof De==N?De.apply(We&&We[0]||Y,We):De}function I(De,We){return De===Y?We:De}function T(De,We,st){F(ae(We),function(At){De.addEventListener(At,st,!1)})}function ce(De,We,st){F(ae(We),function(At){De.removeEventListener(At,st,!1)})}function j(De,We){for(;De;){if(De==We)return!0;De=De.parentNode}return!1}function Ie(De,We){return De.indexOf(We)>-1}function ae(De){return De.trim().split(/\s+/g)}function xe(De,We,st){if(De.indexOf&&!st)return De.indexOf(We);for(var At=0;At<De.length;){if(st&&De[At][st]==We||!st&&De[At]===We)return At;At++}return-1}function Ne(De){return Array.prototype.slice.call(De,0)}function Ge(De,We,st){for(var At=[],Kt=[],bn=0;bn<De.length;){var yi=We?De[bn][We]:De[bn];xe(Kt,yi)<0&&At.push(De[bn]),Kt[bn]=yi,bn++}return st&&(At=We?At.sort(function(_o,Ko){return _o[We]>Ko[We]}):At.sort()),At}function it(De,We){for(var st,At,Kt=We[0].toUpperCase()+We.slice(1),bn=0;bn<_.length;){if((At=(st=_[bn])?st+Kt:We)in De)return At;bn++}return Y}var Ke=1;function ze(De){var We=De.ownerDocument||De;return We.defaultView||We.parentWindow||A}var Ue="ontouchstart"in A,ue=it(A,"PointerEvent")!==Y,Ce=Ue&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),at="touch",Je="mouse",R=25,E=1,Q=4,He=8,Qe=1,de=2,ne=4,U=8,M=16,P=de|ne,he=U|M,Xe=P|he,Ee=["x","y"],Oe=["clientX","clientY"];function ut(De,We){var st=this;this.manager=De,this.callback=We,this.element=De.element,this.target=De.options.inputTarget,this.domHandler=function(At){b(De.options.enable,[De])&&st.handler(At)},this.init()}function Ut(De,We,st){var At=st.pointers.length,Kt=st.changedPointers.length,bn=We&E&&At-Kt==0,yi=We&(Q|He)&&At-Kt==0;st.isFirst=!!bn,st.isFinal=!!yi,bn&&(De.session={}),st.eventType=We,function mt(De,We){var st=De.session,At=We.pointers,Kt=At.length;st.firstInput||(st.firstInput=V(We)),Kt>1&&!st.firstMultiple?st.firstMultiple=V(We):1===Kt&&(st.firstMultiple=!1);var bn=st.firstInput,yi=st.firstMultiple,Jr=yi?yi.center:bn.center,_o=We.center=te(At);We.timeStamp=k(),We.deltaTime=We.timeStamp-bn.timeStamp,We.angle=Mt(Jr,_o),We.distance=ft(Jr,_o),function an(De,We){var st=We.center,At=De.offsetDelta||{},Kt=De.prevDelta||{},bn=De.prevInput||{};(We.eventType===E||bn.eventType===Q)&&(Kt=De.prevDelta={x:bn.deltaX||0,y:bn.deltaY||0},At=De.offsetDelta={x:st.x,y:st.y}),We.deltaX=Kt.x+(st.x-At.x),We.deltaY=Kt.y+(st.y-At.y)}(st,We),We.offsetDirection=ct(We.deltaX,We.deltaY);var Ko=Le(We.deltaTime,We.deltaX,We.deltaY);We.overallVelocityX=Ko.x,We.overallVelocityY=Ko.y,We.overallVelocity=O(Ko.x)>O(Ko.y)?Ko.x:Ko.y,We.scale=yi?function ti(De,We){return ft(We[0],We[1],Oe)/ft(De[0],De[1],Oe)}(yi.pointers,At):1,We.rotation=yi?function xn(De,We){return Mt(We[1],We[0],Oe)+Mt(De[1],De[0],Oe)}(yi.pointers,At):0,We.maxPointers=st.prevInput?We.pointers.length>st.prevInput.maxPointers?We.pointers.length:st.prevInput.maxPointers:We.pointers.length,function me(De,We){var Kt,bn,yi,Jr,st=De.lastInterval||We,At=We.timeStamp-st.timeStamp;if(We.eventType!=He&&(At>R||st.velocity===Y)){var _o=We.deltaX-st.deltaX,Ko=We.deltaY-st.deltaY,ic=Le(At,_o,Ko);bn=ic.x,yi=ic.y,Kt=O(ic.x)>O(ic.y)?ic.x:ic.y,Jr=ct(_o,Ko),De.lastInterval=We}else Kt=st.velocity,bn=st.velocityX,yi=st.velocityY,Jr=st.direction;We.velocity=Kt,We.velocityX=bn,We.velocityY=yi,We.direction=Jr}(st,We);var ic=De.element;j(We.srcEvent.target,ic)&&(ic=We.srcEvent.target),We.target=ic}(De,st),De.emit("hammer.input",st),De.recognize(st),De.session.prevInput=st}function V(De){for(var We=[],st=0;st<De.pointers.length;)We[st]={clientX:G(De.pointers[st].clientX),clientY:G(De.pointers[st].clientY)},st++;return{timeStamp:k(),pointers:We,center:te(We),deltaX:De.deltaX,deltaY:De.deltaY}}function te(De){var We=De.length;if(1===We)return{x:G(De[0].clientX),y:G(De[0].clientY)};for(var st=0,At=0,Kt=0;Kt<We;)st+=De[Kt].clientX,At+=De[Kt].clientY,Kt++;return{x:G(st/We),y:G(At/We)}}function Le(De,We,st){return{x:We/De||0,y:st/De||0}}function ct(De,We){return De===We?Qe:O(De)>=O(We)?De<0?de:ne:We<0?U:M}function ft(De,We,st){st||(st=Ee);var At=We[st[0]]-De[st[0]],Kt=We[st[1]]-De[st[1]];return Math.sqrt(At*At+Kt*Kt)}function Mt(De,We,st){return st||(st=Ee),180*Math.atan2(We[st[1]]-De[st[1]],We[st[0]]-De[st[0]])/Math.PI}ut.prototype={handler:function(){},init:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(ze(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&ce(this.element,this.evEl,this.domHandler),this.evTarget&&ce(this.target,this.evTarget,this.domHandler),this.evWin&&ce(ze(this.element),this.evWin,this.domHandler)}};var si={mousedown:E,mousemove:2,mouseup:Q},Fn="mousedown",zn="mousemove mouseup";function _r(){this.evEl=Fn,this.evWin=zn,this.pressed=!1,ut.apply(this,arguments)}W(_r,ut,{handler:function(We){var st=si[We.type];st&E&&0===We.button&&(this.pressed=!0),2&st&&1!==We.which&&(st=Q),this.pressed&&(st&Q&&(this.pressed=!1),this.callback(this.manager,st,{pointers:[We],changedPointers:[We],pointerType:Je,srcEvent:We}))}});var Vs={pointerdown:E,pointermove:2,pointerup:Q,pointercancel:He,pointerout:He},Xr={2:at,3:"pen",4:Je,5:"kinect"},Ro="pointerdown",Ta="pointermove pointerup pointercancel";function qi(){this.evEl=Ro,this.evWin=Ta,ut.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}A.MSPointerEvent&&!A.PointerEvent&&(Ro="MSPointerDown",Ta="MSPointerMove MSPointerUp MSPointerCancel"),W(qi,ut,{handler:function(We){var st=this.store,At=!1,Kt=We.type.toLowerCase().replace("ms",""),bn=Vs[Kt],yi=Xr[We.pointerType]||We.pointerType,Jr=yi==at,_o=xe(st,We.pointerId,"pointerId");bn&E&&(0===We.button||Jr)?_o<0&&(st.push(We),_o=st.length-1):bn&(Q|He)&&(At=!0),!(_o<0)&&(st[_o]=We,this.callback(this.manager,bn,{pointers:st,changedPointers:[We],pointerType:yi,srcEvent:We}),At&&st.splice(_o,1))}});var mo={touchstart:E,touchmove:2,touchend:Q,touchcancel:He};function Hl(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,ut.apply(this,arguments)}function tc(De,We){var st=Ne(De.touches),At=Ne(De.changedTouches);return We&(Q|He)&&(st=Ge(st.concat(At),"identifier",!0)),[st,At]}W(Hl,ut,{handler:function(We){var st=mo[We.type];if(st===E&&(this.started=!0),this.started){var At=tc.call(this,We,st);st&(Q|He)&&At[0].length-At[1].length==0&&(this.started=!1),this.callback(this.manager,st,{pointers:At[0],changedPointers:At[1],pointerType:at,srcEvent:We})}}});var cs={touchstart:E,touchmove:2,touchend:Q,touchcancel:He},Ye="touchstart touchmove touchend touchcancel";function Ze(){this.evTarget=Ye,this.targetIds={},ut.apply(this,arguments)}function Et(De,We){var st=Ne(De.touches),At=this.targetIds;if(We&(2|E)&&1===st.length)return At[st[0].identifier]=!0,[st,st];var Kt,bn,yi=Ne(De.changedTouches),Jr=[],_o=this.target;if(bn=st.filter(function(Ko){return j(Ko.target,_o)}),We===E)for(Kt=0;Kt<bn.length;)At[bn[Kt].identifier]=!0,Kt++;for(Kt=0;Kt<yi.length;)At[yi[Kt].identifier]&&Jr.push(yi[Kt]),We&(Q|He)&&delete At[yi[Kt].identifier],Kt++;return Jr.length?[Ge(bn.concat(Jr),"identifier",!0),Jr]:void 0}W(Ze,ut,{handler:function(We){var st=cs[We.type],At=Et.call(this,We,st);At&&this.callback(this.manager,st,{pointers:At[0],changedPointers:At[1],pointerType:at,srcEvent:We})}});var nn=2500;function Pr(){ut.apply(this,arguments);var De=L(this.handler,this);this.touch=new Ze(this.manager,De),this.mouse=new _r(this.manager,De),this.primaryTouch=null,this.lastTouches=[]}function Po(De,We){De&E?(this.primaryTouch=We.changedPointers[0].identifier,rn.call(this,We)):De&(Q|He)&&rn.call(this,We)}function rn(De){var We=De.changedPointers[0];if(We.identifier===this.primaryTouch){var st={x:We.clientX,y:We.clientY};this.lastTouches.push(st);var At=this.lastTouches;setTimeout(function(){var bn=At.indexOf(st);bn>-1&&At.splice(bn,1)},nn)}}function zs(De){for(var We=De.srcEvent.clientX,st=De.srcEvent.clientY,At=0;At<this.lastTouches.length;At++){var Kt=this.lastTouches[At],bn=Math.abs(We-Kt.x),yi=Math.abs(st-Kt.y);if(bn<=25&&yi<=25)return!0}return!1}W(Pr,ut,{handler:function(We,st,At){var bn=At.pointerType==Je;if(!(bn&&At.sourceCapabilities&&At.sourceCapabilities.firesTouchEvents)){if(At.pointerType==at)Po.call(this,st,At);else if(bn&&zs.call(this,At))return;this.callback(We,st,At)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var hr=it(x.style,"touchAction"),sl=hr!==Y,_i="compute",Ma="manipulation",Bt="none",ci="pan-x",go="pan-y",Ti=function Me(){if(!sl)return!1;var De={},We=A.CSS&&A.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(st){De[st]=!We||A.CSS.supports("touch-action",st)}),De}();function fr(De,We){this.manager=De,this.set(We)}fr.prototype={set:function(De){De==_i&&(De=this.compute()),sl&&this.manager.element.style&&Ti[De]&&(this.manager.element.style[hr]=De),this.actions=De.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var De=[];return F(this.manager.recognizers,function(We){b(We.options.enable,[We])&&(De=De.concat(We.getTouchAction()))}),function ye(De){if(Ie(De,Bt))return Bt;var We=Ie(De,ci),st=Ie(De,go);return We&&st?Bt:We||st?We?ci:go:Ie(De,Ma)?Ma:"auto"}(De.join(" "))},preventDefaults:function(De){var We=De.srcEvent,st=De.offsetDirection;if(!this.manager.session.prevented){var At=this.actions,Kt=Ie(At,Bt)&&!Ti[Bt],bn=Ie(At,go)&&!Ti[go],yi=Ie(At,ci)&&!Ti[ci];if(Kt&&1===De.pointers.length&&De.distance<2&&De.deltaTime<250)return;return yi&&bn||!(Kt||bn&&st&P||yi&&st&he)?void 0:this.preventSrc(We)}We.preventDefault()},preventSrc:function(De){this.manager.session.prevented=!0,De.preventDefault()}};var fe=1;function kt(De){this.options=X({},this.defaults,De||{}),this.id=function Ae(){return Ke++}(),this.manager=null,this.options.enable=I(this.options.enable,!0),this.state=fe,this.simultaneous={},this.requireFail=[]}function Gt(De){return 16&De?"cancel":8&De?"end":4&De?"move":2&De?"start":""}function Qt(De){return De==M?"down":De==U?"up":De==de?"left":De==ne?"right":""}function Cn(De,We){var st=We.manager;return st?st.get(De):De}function jn(){kt.apply(this,arguments)}function kr(){jn.apply(this,arguments),this.pX=null,this.pY=null}function Nr(){jn.apply(this,arguments)}function ls(){kt.apply(this,arguments),this._timer=null,this._input=null}function Hn(){jn.apply(this,arguments)}function hi(){jn.apply(this,arguments)}function ko(){kt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ws(De,We){return(We=We||{}).recognizers=I(We.recognizers,ws.defaults.preset),new Ia(De,We)}function Ia(De,We){this.options=X({},ws.defaults,We||{}),this.options.inputTarget=this.options.inputTarget||De,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=De,this.input=function St(De){return new(De.options.inputClass||(ue?qi:Ce?Ze:Ue?Pr:_r))(De,Ut)}(this),this.touchAction=new fr(this,this.options.touchAction),nc(this,!0),F(this.options.recognizers,function(st){var At=this.add(new st[0](st[1]));st[2]&&At.recognizeWith(st[2]),st[3]&&At.requireFailure(st[3])},this)}function nc(De,We){var At,st=De.element;st.style&&(F(De.options.cssProps,function(Kt,bn){At=it(st.style,bn),We?(De.oldCssProps[At]=st.style[At],st.style[At]=Kt):st.style[At]=De.oldCssProps[At]||""}),We||(De.oldCssProps={}))}kt.prototype={defaults:{},set:function(De){return X(this.options,De),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(De){if(w(De,"recognizeWith",this))return this;var We=this.simultaneous;return We[(De=Cn(De,this)).id]||(We[De.id]=De,De.recognizeWith(this)),this},dropRecognizeWith:function(De){return w(De,"dropRecognizeWith",this)||(De=Cn(De,this),delete this.simultaneous[De.id]),this},requireFailure:function(De){if(w(De,"requireFailure",this))return this;var We=this.requireFail;return-1===xe(We,De=Cn(De,this))&&(We.push(De),De.requireFailure(this)),this},dropRequireFailure:function(De){if(w(De,"dropRequireFailure",this))return this;De=Cn(De,this);var We=xe(this.requireFail,De);return We>-1&&this.requireFail.splice(We,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(De){return!!this.simultaneous[De.id]},emit:function(De){var We=this,st=this.state;function At(Kt){We.manager.emit(Kt,De)}st<8&&At(We.options.event+Gt(st)),At(We.options.event),De.additionalEvent&&At(De.additionalEvent),st>=8&&At(We.options.event+Gt(st))},tryEmit:function(De){if(this.canEmit())return this.emit(De);this.state=32},canEmit:function(){for(var De=0;De<this.requireFail.length;){if(!(this.requireFail[De].state&(32|fe)))return!1;De++}return!0},recognize:function(De){var We=X({},De);if(!b(this.options.enable,[this,We]))return this.reset(),void(this.state=32);56&this.state&&(this.state=fe),this.state=this.process(We),30&this.state&&this.tryEmit(We)},process:function(De){},getTouchAction:function(){},reset:function(){}},W(jn,kt,{defaults:{pointers:1},attrTest:function(De){var We=this.options.pointers;return 0===We||De.pointers.length===We},process:function(De){var We=this.state,st=De.eventType,At=6&We,Kt=this.attrTest(De);return At&&(st&He||!Kt)?16|We:At||Kt?st&Q?8|We:2&We?4|We:2:32}}),W(kr,jn,{defaults:{event:"pan",threshold:10,pointers:1,direction:Xe},getTouchAction:function(){var De=this.options.direction,We=[];return De&P&&We.push(go),De&he&&We.push(ci),We},directionTest:function(De){var We=this.options,st=!0,At=De.distance,Kt=De.direction,bn=De.deltaX,yi=De.deltaY;return Kt&We.direction||(We.direction&P?(Kt=0===bn?Qe:bn<0?de:ne,st=bn!=this.pX,At=Math.abs(De.deltaX)):(Kt=0===yi?Qe:yi<0?U:M,st=yi!=this.pY,At=Math.abs(De.deltaY))),De.direction=Kt,st&&At>We.threshold&&Kt&We.direction},attrTest:function(De){return jn.prototype.attrTest.call(this,De)&&(2&this.state||!(2&this.state)&&this.directionTest(De))},emit:function(De){this.pX=De.deltaX,this.pY=De.deltaY;var We=Qt(De.direction);We&&(De.additionalEvent=this.options.event+We),this._super.emit.call(this,De)}}),W(Nr,jn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Bt]},attrTest:function(De){return this._super.attrTest.call(this,De)&&(Math.abs(De.scale-1)>this.options.threshold||2&this.state)},emit:function(De){1!==De.scale&&(De.additionalEvent=this.options.event+(De.scale<1?"in":"out")),this._super.emit.call(this,De)}}),W(ls,kt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(De){var We=this.options,st=De.pointers.length===We.pointers,At=De.distance<We.threshold,Kt=De.deltaTime>We.time;if(this._input=De,!At||!st||De.eventType&(Q|He)&&!Kt)this.reset();else if(De.eventType&E)this.reset(),this._timer=oe(function(){this.state=8,this.tryEmit()},We.time,this);else if(De.eventType&Q)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(De){8===this.state&&(De&&De.eventType&Q?this.manager.emit(this.options.event+"up",De):(this._input.timeStamp=k(),this.manager.emit(this.options.event,this._input)))}}),W(Hn,jn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Bt]},attrTest:function(De){return this._super.attrTest.call(this,De)&&(Math.abs(De.rotation)>this.options.threshold||2&this.state)}}),W(hi,jn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:P|he,pointers:1},getTouchAction:function(){return kr.prototype.getTouchAction.call(this)},attrTest:function(De){var st,We=this.options.direction;return We&(P|he)?st=De.overallVelocity:We&P?st=De.overallVelocityX:We&he&&(st=De.overallVelocityY),this._super.attrTest.call(this,De)&&We&De.offsetDirection&&De.distance>this.options.threshold&&De.maxPointers==this.options.pointers&&O(st)>this.options.velocity&&De.eventType&Q},emit:function(De){var We=Qt(De.offsetDirection);We&&this.manager.emit(this.options.event+We,De),this.manager.emit(this.options.event,De)}}),W(ko,kt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ma]},process:function(De){var We=this.options,st=De.pointers.length===We.pointers,At=De.distance<We.threshold,Kt=De.deltaTime<We.time;if(this.reset(),De.eventType&E&&0===this.count)return this.failTimeout();if(At&&Kt&&st){if(De.eventType!=Q)return this.failTimeout();var bn=!this.pTime||De.timeStamp-this.pTime<We.interval,yi=!this.pCenter||ft(this.pCenter,De.center)<We.posThreshold;if(this.pTime=De.timeStamp,this.pCenter=De.center,yi&&bn?this.count+=1:this.count=1,this._input=De,0==this.count%We.taps)return this.hasRequireFailures()?(this._timer=oe(function(){this.state=8,this.tryEmit()},We.interval,this),2):8}return 32},failTimeout:function(){return this._timer=oe(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ws.VERSION="2.0.7",ws.defaults={domEvents:!1,touchAction:_i,enable:!0,inputTarget:null,inputClass:null,preset:[[Hn,{enable:!1}],[Nr,{enable:!1},["rotate"]],[hi,{direction:P}],[kr,{direction:P},["swipe"]],[ko],[ko,{event:"doubletap",taps:2},["tap"]],[ls]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ia.prototype={set:function(De){return X(this.options,De),De.touchAction&&this.touchAction.update(),De.inputTarget&&(this.input.destroy(),this.input.target=De.inputTarget,this.input.init()),this},stop:function(De){this.session.stopped=De?2:1},recognize:function(De){var We=this.session;if(!We.stopped){this.touchAction.preventDefaults(De);var st,At=this.recognizers,Kt=We.curRecognizer;(!Kt||Kt&&8&Kt.state)&&(Kt=We.curRecognizer=null);for(var bn=0;bn<At.length;)st=At[bn],2===We.stopped||Kt&&st!=Kt&&!st.canRecognizeWith(Kt)?st.reset():st.recognize(De),!Kt&&14&st.state&&(Kt=We.curRecognizer=st),bn++}},get:function(De){if(De instanceof kt)return De;for(var We=this.recognizers,st=0;st<We.length;st++)if(We[st].options.event==De)return We[st];return null},add:function(De){if(w(De,"add",this))return this;var We=this.get(De.options.event);return We&&this.remove(We),this.recognizers.push(De),De.manager=this,this.touchAction.update(),De},remove:function(De){if(w(De,"remove",this))return this;if(De=this.get(De)){var We=this.recognizers,st=xe(We,De);-1!==st&&(We.splice(st,1),this.touchAction.update())}return this},on:function(De,We){if(De!==Y&&We!==Y){var st=this.handlers;return F(ae(De),function(At){st[At]=st[At]||[],st[At].push(We)}),this}},off:function(De,We){if(De!==Y){var st=this.handlers;return F(ae(De),function(At){We?st[At]&&st[At].splice(xe(st[At],We),1):delete st[At]}),this}},emit:function(De,We){this.options.domEvents&&function ds(De,We){var st=$.createEvent("Event");st.initEvent(De,!0,!0),st.gesture=We,We.target.dispatchEvent(st)}(De,We);var st=this.handlers[De]&&this.handlers[De].slice();if(st&&st.length){We.type=De,We.preventDefault=function(){We.srcEvent.preventDefault()};for(var At=0;At<st.length;)st[At](We),At++}},destroy:function(){this.element&&nc(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},X(ws,{INPUT_START:E,INPUT_MOVE:2,INPUT_END:Q,INPUT_CANCEL:He,STATE_POSSIBLE:fe,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:Qe,DIRECTION_LEFT:de,DIRECTION_RIGHT:ne,DIRECTION_UP:U,DIRECTION_DOWN:M,DIRECTION_HORIZONTAL:P,DIRECTION_VERTICAL:he,DIRECTION_ALL:Xe,Manager:Ia,Input:ut,TouchAction:fr,TouchInput:Ze,MouseInput:_r,PointerEventInput:qi,TouchMouseInput:Pr,SingleTouchInput:Hl,Recognizer:kt,AttrRecognizer:jn,Tap:ko,Pan:kr,Swipe:hi,Pinch:Nr,Rotate:Hn,Press:ls,on:T,off:ce,each:F,merge:ee,extend:q,assign:X,inherit:W,bindFn:L,prefixed:it}),(typeof A<"u"?A:typeof self<"u"?self:{}).Hammer=ws,(Z=function(){return ws}.call(_e,S,_e,Ve))!==Y&&(Ve.exports=Z)}(window,document)},2601:(Ve,_e)=>{_e.read=function(S,Z,A,$,H){var Y,_,x=8*H-$-1,N=(1<<x)-1,G=N>>1,O=-7,k=A?H-1:0,oe=A?-1:1,w=S[Z+k];for(k+=oe,Y=w&(1<<-O)-1,w>>=-O,O+=x;O>0;Y=256*Y+S[Z+k],k+=oe,O-=8);for(_=Y&(1<<-O)-1,Y>>=-O,O+=$;O>0;_=256*_+S[Z+k],k+=oe,O-=8);if(0===Y)Y=1-G;else{if(Y===N)return _?NaN:1/0*(w?-1:1);_+=Math.pow(2,$),Y-=G}return(w?-1:1)*_*Math.pow(2,Y-$)},_e.write=function(S,Z,A,$,H,Y){var _,x,N,G=8*Y-H-1,O=(1<<G)-1,k=O>>1,oe=23===H?Math.pow(2,-24)-Math.pow(2,-77):0,w=$?0:Y-1,F=$?1:-1,re=Z<0||0===Z&&1/Z<0?1:0;for(Z=Math.abs(Z),isNaN(Z)||Z===1/0?(x=isNaN(Z)?1:0,_=O):(_=Math.floor(Math.log(Z)/Math.LN2),Z*(N=Math.pow(2,-_))<1&&(_--,N*=2),(Z+=_+k>=1?oe/N:oe*Math.pow(2,1-k))*N>=2&&(_++,N/=2),_+k>=O?(x=0,_=O):_+k>=1?(x=(Z*N-1)*Math.pow(2,H),_+=k):(x=Z*Math.pow(2,k-1)*Math.pow(2,H),_=0));H>=8;S[A+w]=255&x,w+=F,x/=256,H-=8);for(_=_<<H|x,G+=H;G>0;S[A+w]=255&_,w+=F,_/=256,G-=8);S[A+w-F]|=128*re}},6698:Ve=>{Ve.exports="function"==typeof Object.create?function(S,Z){Z&&(S.super_=Z,S.prototype=Object.create(Z.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}))}:function(S,Z){if(Z){S.super_=Z;var A=function(){};A.prototype=Z.prototype,S.prototype=new A,S.prototype.constructor=S}}},4198:(Ve,_e,S)=>{"use strict";var Z=S(7156).default;const{isArray:A,isObject:$,isString:H}=S(8254),{asArray:Y}=S(3521),{prependBase:_}=S(2651),x=S(1874),N=S(1252);function O(oe){throw new x("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:oe})}function k({context:oe,base:w}){if(!oe)return;const F=oe["@context"];if(H(F))oe["@context"]=_(w,F);else if(A(F))for(let re=0;re<F.length;++re){const X=F[re];H(X)?F[re]=_(w,X):$(X)&&k({context:{"@context":X},base:w})}else if($(F))for(const re in F)k({context:F[re],base:w})}Ve.exports=class{constructor({sharedCache:w}){this.perOpCache=new Map,this.sharedCache=w}resolve({activeCtx:w,context:F,documentLoader:re,base:X,cycles:q=new Set}){var ee=this;return Z(function*(){F&&$(F)&&F["@context"]&&(F=F["@context"]),F=Y(F);const W=[];for(const L of F){if(H(L)){let T=ee._get(L);T||(T=yield ee._resolveRemoteContext({activeCtx:w,url:L,documentLoader:re,base:X,cycles:q})),A(T)?W.push(...T):W.push(T);continue}if(null===L){W.push(new N({document:null}));continue}$(L)||O(F);const b=JSON.stringify(L);let I=ee._get(b);I||(I=new N({document:L}),ee._cacheResolvedContext({key:b,resolved:I,tag:"static"})),W.push(I)}return W})()}_get(w){let F=this.perOpCache.get(w);if(!F){const re=this.sharedCache.get(w);re&&(F=re.get("static"),F&&this.perOpCache.set(w,F))}return F}_cacheResolvedContext({key:w,resolved:F,tag:re}){if(this.perOpCache.set(w,F),void 0!==re){let X=this.sharedCache.get(w);X||(X=new Map,this.sharedCache.set(w,X)),X.set(re,F)}return F}_resolveRemoteContext({activeCtx:w,url:F,documentLoader:re,base:X,cycles:q}){var ee=this;return Z(function*(){F=_(X,F);const{context:W,remoteDoc:L}=yield ee._fetchContext({activeCtx:w,url:F,documentLoader:re,cycles:q});k({context:W,base:X=L.documentUrl||F});const b=yield ee.resolve({activeCtx:w,context:W,documentLoader:re,base:X,cycles:q});return ee._cacheResolvedContext({key:F,resolved:b,tag:L.tag}),b})()}_fetchContext({activeCtx:w,url:F,documentLoader:re,cycles:X}){return Z(function*(){if(X.size>10)throw new x("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===w.processingMode?"loading remote context failed":"context overflow",max:10});if(X.has(F))throw new x("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===w.processingMode?"recursive context inclusion":"context overflow",url:F});let q,ee;X.add(F);try{ee=yield re(F),q=ee.document||null,H(q)&&(q=JSON.parse(q))}catch(W){throw new x("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:F,cause:W})}if(!$(q))throw new x("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:F});return q="@context"in q?{"@context":q["@context"]}:{"@context":{}},ee.contextUrl&&(A(q["@context"])||(q["@context"]=[q["@context"]]),q["@context"].push(ee.contextUrl)),{context:q,remoteDoc:ee}})()}}},1874:Ve=>{"use strict";Ve.exports=class extends Error{constructor(S="An unspecified JSON-LD error occurred.",Z="jsonld.Error",A={}){super(S),this.name=Z,this.message=S,this.details=A}}},1828:Ve=>{"use strict";Ve.exports=_e=>{class S{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(S,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(S.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:S}),S.compact=function(Z,A){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):_e.compact(Z,A)},S.expand=function(Z){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):_e.expand(Z)},S.flatten=function(Z){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):_e.flatten(Z)},S}},7260:(Ve,_e,S)=>{"use strict";Ve.exports=S(1986).NQuads},4044:(Ve,_e,S)=>{"use strict";var Z=S(7156).default;Ve.exports=class{constructor(){this._requests={}}wrapLoader($){const H=this;return H._loader=$,function(){return H.add.apply(H,arguments)}}add($){var H=this;return Z(function*(){let Y=H._requests[$];if(Y)return Promise.resolve(Y);Y=H._requests[$]=H._loader($);try{return yield Y}finally{delete H._requests[$]}})()}}},1252:(Ve,_e,S)=>{"use strict";const Z=S(1072);Ve.exports=class{constructor({document:H}){this.document=H,this.cache=new Z({max:10})}getProcessed(H){return this.cache.get(H)}setProcessed(H,Y){this.cache.set(H,Y)}}},8809:(Ve,_e,S)=>{"use strict";var Z=S(7156).default;const A=S(1874),{isArray:$,isObject:H,isString:Y,isUndefined:_}=S(8254),{isList:x,isValue:N,isGraph:G,isSimpleGraph:O,isSubjectReference:k}=S(543),{expandIri:oe,getContextValue:w,isKeyword:F,process:re,processingMode:X}=S(9611),{removeBase:q,prependBase:ee}=S(2651),{REGEX_KEYWORD:W,addValue:L,asArray:b,compareShortestLeast:I}=S(3521),T={};function j(Ie,ae,xe){if("@nest"!==oe(Ie,ae,{vocab:!0},xe))throw new A("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}Ve.exports=T,T.compact=function(){var Ie=Z(function*({activeCtx:ae,activeProperty:xe=null,element:Ne,options:Ge={}}){if($(Ne)){let Ke=[];for(let Ae=0;Ae<Ne.length;++Ae){const ze=yield T.compact({activeCtx:ae,activeProperty:xe,element:Ne[Ae],options:Ge});null!==ze&&Ke.push(ze)}return Ge.compactArrays&&1===Ke.length&&0===(w(ae,xe,"@container")||[]).length&&(Ke=Ke[0]),Ke}const it=w(ae,xe,"@context");if(_(it)||(ae=yield re({activeCtx:ae,localCtx:it,propagate:!0,overrideProtected:!0,options:Ge})),H(Ne)){if(Ge.link&&"@id"in Ne&&Ge.link.hasOwnProperty(Ne["@id"])){const at=Ge.link[Ne["@id"]];for(let vt=0;vt<at.length;++vt)if(at[vt].expanded===Ne)return at[vt].compacted}if(N(Ne)||k(Ne)){const at=T.compactValue({activeCtx:ae,activeProperty:xe,value:Ne,options:Ge});return Ge.link&&k(Ne)&&(Ge.link.hasOwnProperty(Ne["@id"])||(Ge.link[Ne["@id"]]=[]),Ge.link[Ne["@id"]].push({expanded:Ne,compacted:at})),at}if(x(Ne)&&(w(ae,xe,"@container")||[]).includes("@list"))return T.compact({activeCtx:ae,activeProperty:xe,element:Ne["@list"],options:Ge});const Ke="@reverse"===xe,Ae={},ze=ae;!N(Ne)&&!k(Ne)&&(ae=ae.revertToPreviousContext());const Se=w(ze,xe,"@context");_(Se)||(ae=yield re({activeCtx:ae,localCtx:Se,propagate:!0,overrideProtected:!0,options:Ge})),Ge.link&&"@id"in Ne&&(Ge.link.hasOwnProperty(Ne["@id"])||(Ge.link[Ne["@id"]]=[]),Ge.link[Ne["@id"]].push({expanded:Ne,compacted:Ae}));let Ue=Ne["@type"]||[];Ue.length>1&&(Ue=Array.from(Ue).sort());const ue=ae;for(const at of Ue){const vt=T.compactIri({activeCtx:ue,iri:at,relativeTo:{vocab:!0}}),Je=w(ze,vt,"@context");_(Je)||(ae=yield re({activeCtx:ae,localCtx:Je,options:Ge,propagate:!1}))}const Ce=Object.keys(Ne).sort();for(const at of Ce){const vt=Ne[at];if("@id"!==at)if("@type"!==at)if("@reverse"!==at)if("@preserve"!==at)if("@index"!==at)if("@graph"!==at&&"@list"!==at&&"@included"!==at&&F(at)){const Je=T.compactIri({activeCtx:ae,iri:at,relativeTo:{vocab:!0}});L(Ae,Je,vt)}else{if(!$(vt))throw new A("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===vt.length){const Je=T.compactIri({activeCtx:ae,iri:at,value:vt,relativeTo:{vocab:!0},reverse:Ke}),pe=ae.mappings.has(Je)?ae.mappings.get(Je)["@nest"]:null;let R=Ae;pe&&(j(ae,pe,Ge),H(Ae[pe])||(Ae[pe]={}),R=Ae[pe]),L(R,Je,vt,{propertyIsArray:!0})}for(const Je of vt){const pe=T.compactIri({activeCtx:ae,iri:at,value:Je,relativeTo:{vocab:!0},reverse:Ke}),R=ae.mappings.has(pe)?ae.mappings.get(pe)["@nest"]:null;let E=Ae;R&&(j(ae,R,Ge),H(Ae[R])||(Ae[R]={}),E=Ae[R]);const ie=w(ae,pe,"@container")||[],Q=G(Je),He=x(Je);let Qe;He?Qe=Je["@list"]:Q&&(Qe=Je["@graph"]);let de=yield T.compact({activeCtx:ae,activeProperty:pe,element:He||Q?Qe:Je,options:Ge});if(He){if($(de)||(de=[de]),ie.includes("@list")){L(E,pe,de,{valueIsArray:!0,allowDuplicate:!0});continue}de={[T.compactIri({activeCtx:ae,iri:"@list",relativeTo:{vocab:!0}})]:de},"@index"in Je&&(de[T.compactIri({activeCtx:ae,iri:"@index",relativeTo:{vocab:!0}})]=Je["@index"])}if(Q)if(ie.includes("@graph")&&(ie.includes("@id")||ie.includes("@index")&&O(Je))){let ne;E.hasOwnProperty(pe)?ne=E[pe]:E[pe]=ne={};const U=(ie.includes("@id")?Je["@id"]:Je["@index"])||T.compactIri({activeCtx:ae,iri:"@none",relativeTo:{vocab:!0}});L(ne,U,de,{propertyIsArray:!Ge.compactArrays||ie.includes("@set")})}else ie.includes("@graph")&&O(Je)?($(de)&&de.length>1&&(de={"@included":de}),L(E,pe,de,{propertyIsArray:!Ge.compactArrays||ie.includes("@set")})):($(de)&&1===de.length&&Ge.compactArrays&&(de=de[0]),de={[T.compactIri({activeCtx:ae,iri:"@graph",relativeTo:{vocab:!0}})]:de},"@id"in Je&&(de[T.compactIri({activeCtx:ae,iri:"@id",relativeTo:{vocab:!0}})]=Je["@id"]),"@index"in Je&&(de[T.compactIri({activeCtx:ae,iri:"@index",relativeTo:{vocab:!0}})]=Je["@index"]),L(E,pe,de,{propertyIsArray:!Ge.compactArrays||ie.includes("@set")}));else if(ie.includes("@language")||ie.includes("@index")||ie.includes("@id")||ie.includes("@type")){let ne,U;if(E.hasOwnProperty(pe)?ne=E[pe]:E[pe]=ne={},ie.includes("@language"))N(de)&&(de=de["@value"]),U=Je["@language"];else if(ie.includes("@index")){const M=w(ae,pe,"@index")||"@index",P=T.compactIri({activeCtx:ae,iri:M,relativeTo:{vocab:!0}});if("@index"===M)U=Je["@index"],delete de[P];else{let he;if([U,...he]=b(de[M]||[]),Y(U))switch(he.length){case 0:delete de[M];break;case 1:de[M]=he[0];break;default:de[M]=he}else U=null}}else if(ie.includes("@id")){const M=T.compactIri({activeCtx:ae,iri:"@id",relativeTo:{vocab:!0}});U=de[M],delete de[M]}else if(ie.includes("@type")){const M=T.compactIri({activeCtx:ae,iri:"@type",relativeTo:{vocab:!0}});let P;switch([U,...P]=b(de[M]||[]),P.length){case 0:delete de[M];break;case 1:de[M]=P[0];break;default:de[M]=P}1===Object.keys(de).length&&"@id"in Je&&(de=yield T.compact({activeCtx:ae,activeProperty:pe,element:{"@id":Je["@id"]},options:Ge}))}U||(U=T.compactIri({activeCtx:ae,iri:"@none",relativeTo:{vocab:!0}})),L(ne,U,de,{propertyIsArray:ie.includes("@set")})}else{const ne=!Ge.compactArrays||ie.includes("@set")||ie.includes("@list")||$(de)&&0===de.length||"@list"===at||"@graph"===at;L(E,pe,de,{propertyIsArray:ne})}}}else{if((w(ae,xe,"@container")||[]).includes("@index"))continue;const pe=T.compactIri({activeCtx:ae,iri:at,relativeTo:{vocab:!0}});L(Ae,pe,vt)}else{const Je=yield T.compact({activeCtx:ae,activeProperty:xe,element:vt,options:Ge});$(Je)&&0===Je.length||L(Ae,at,Je)}else{const Je=yield T.compact({activeCtx:ae,activeProperty:"@reverse",element:vt,options:Ge});for(const pe in Je)if(ae.mappings.has(pe)&&ae.mappings.get(pe).reverse){const R=Je[pe],ie=(w(ae,pe,"@container")||[]).includes("@set")||!Ge.compactArrays;L(Ae,pe,R,{propertyIsArray:ie}),delete Je[pe]}if(Object.keys(Je).length>0){const pe=T.compactIri({activeCtx:ae,iri:at,relativeTo:{vocab:!0}});L(Ae,pe,Je)}}else{let Je=b(vt).map(Q=>T.compactIri({activeCtx:ze,iri:Q,relativeTo:{vocab:!0}}));1===Je.length&&(Je=Je[0]);const pe=T.compactIri({activeCtx:ae,iri:"@type",relativeTo:{vocab:!0}}),ie=(w(ae,pe,"@container")||[]).includes("@set")&&X(ae,1.1)||$(Je)&&0===vt.length;L(Ae,pe,Je,{propertyIsArray:ie})}else{let Je=b(vt).map(R=>T.compactIri({activeCtx:ae,iri:R,relativeTo:{vocab:!1},base:Ge.base}));1===Je.length&&(Je=Je[0]),Ae[T.compactIri({activeCtx:ae,iri:"@id",relativeTo:{vocab:!0}})]=Je}}return Ae}return Ne});return function(ae){return Ie.apply(this,arguments)}}(),T.compactIri=({activeCtx:Ie,iri:ae,value:xe=null,relativeTo:Ne={vocab:!1},reverse:Ge=!1,base:it=null})=>{if(null===ae)return ae;Ie.isPropertyTermScoped&&Ie.previousContext&&(Ie=Ie.previousContext);const Ke=Ie.getInverse();if(F(ae)&&ae in Ke&&"@none"in Ke[ae]&&"@type"in Ke[ae]["@none"]&&"@none"in Ke[ae]["@none"]["@type"])return Ke[ae]["@none"]["@type"]["@none"];if(Ne.vocab&&ae in Ke){const ue=Ie["@language"]||"@none",Ce=[];H(xe)&&"@index"in xe&&!("@graph"in xe)&&Ce.push("@index","@index@set"),H(xe)&&"@preserve"in xe&&(xe=xe["@preserve"][0]),G(xe)?("@index"in xe&&Ce.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in xe&&Ce.push("@graph@id","@graph@id@set"),Ce.push("@graph","@graph@set","@set"),"@index"in xe||Ce.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in xe||Ce.push("@graph@id","@graph@id@set")):H(xe)&&!N(xe)&&Ce.push("@id","@id@set","@type","@set@type");let at="@language",vt="@null";if(Ge)at="@type",vt="@reverse",Ce.push("@set");else if(x(xe)){"@index"in xe||Ce.push("@list");const pe=xe["@list"];if(0===pe.length)at="@any",vt="@none";else{let R=0===pe.length?ue:null,E=null;for(let ie=0;ie<pe.length;++ie){const Q=pe[ie];let He="@none",Qe="@none";if(N(Q)?"@direction"in Q?He=`${(Q["@language"]||"").toLowerCase()}_${Q["@direction"]}`:"@language"in Q?He=Q["@language"].toLowerCase():"@type"in Q?Qe=Q["@type"]:He="@null":Qe="@id",null===R?R=He:He!==R&&N(Q)&&(R="@none"),null===E?E=Qe:Qe!==E&&(E="@none"),"@none"===R&&"@none"===E)break}R=R||"@none",E=E||"@none","@none"!==E?(at="@type",vt=E):vt=R}}else{if(N(xe))if("@language"in xe&&!("@index"in xe)){Ce.push("@language","@language@set"),vt=xe["@language"];const pe=xe["@direction"];pe&&(vt=`${vt}_${pe}`)}else"@direction"in xe&&!("@index"in xe)?vt=`_${xe["@direction"]}`:"@type"in xe&&(at="@type",vt=xe["@type"]);else at="@type",vt="@id";Ce.push("@set")}Ce.push("@none"),H(xe)&&!("@index"in xe)&&Ce.push("@index","@index@set"),N(xe)&&1===Object.keys(xe).length&&Ce.push("@language","@language@set");const Je=function ce(Ie,ae,xe,Ne,Ge,it){null===it&&(it="@null");const Ke=[];if(("@id"===it||"@reverse"===it)&&H(xe)&&"@id"in xe){"@reverse"===it&&Ke.push("@reverse");const ze=T.compactIri({activeCtx:Ie,iri:xe["@id"],relativeTo:{vocab:!0}});Ie.mappings.has(ze)&&Ie.mappings.get(ze)&&Ie.mappings.get(ze)["@id"]===xe["@id"]?Ke.push.apply(Ke,["@vocab","@id"]):Ke.push.apply(Ke,["@id","@vocab"])}else{Ke.push(it);const ze=Ke.find(Se=>Se.includes("_"));ze&&Ke.push(ze.replace(/^[^_]+_/,"_"))}Ke.push("@none");const Ae=Ie.inverse[ae];for(const ze of Ne){if(!(ze in Ae))continue;const Se=Ae[ze][Ge];for(const Ue of Ke)if(Ue in Se)return Se[Ue]}return null}(Ie,ae,xe,Ce,at,vt);if(null!==Je)return Je}if(Ne.vocab&&"@vocab"in Ie){const ue=Ie["@vocab"];if(0===ae.indexOf(ue)&&ae!==ue){const Ce=ae.substr(ue.length);if(!Ie.mappings.has(Ce))return Ce}}let Ae=null;const ze=[];let Se=Ie.fastCurieMap;const Ue=ae.length-1;for(let ue=0;ue<Ue&&ae[ue]in Se;++ue)Se=Se[ae[ue]],""in Se&&ze.push(Se[""][0]);for(let ue=ze.length-1;ue>=0;--ue){const Ce=ze[ue],at=Ce.terms;for(const vt of at){const Je=vt+":"+ae.substr(Ce.iri.length);Ie.mappings.get(vt)._prefix&&(!Ie.mappings.has(Je)||null===xe&&Ie.mappings.get(Je)["@id"]===ae)&&(null===Ae||I(Je,Ae)<0)&&(Ae=Je)}}if(null!==Ae)return Ae;for(const[ue,Ce]of Ie.mappings)if(Ce&&Ce._prefix&&ae.startsWith(ue+":"))throw new A(`Absolute IRI "${ae}" confused with prefix "${ue}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:Ie});if(!Ne.vocab){if("@base"in Ie){if(Ie["@base"]){const ue=q(ee(it,Ie["@base"]),ae);return W.test(ue)?`./${ue}`:ue}return ae}return q(it,ae)}return ae},T.compactValue=({activeCtx:Ie,activeProperty:ae,value:xe,options:Ne})=>{if(N(xe)){const Ae=w(Ie,ae,"@type"),ze=w(Ie,ae,"@language"),Se=w(Ie,ae,"@direction"),Ue=w(Ie,ae,"@container")||[],ue="@index"in xe&&!Ue.includes("@index");if(!ue&&"@none"!==Ae&&(xe["@type"]===Ae||"@language"in xe&&xe["@language"]===ze&&"@direction"in xe&&xe["@direction"]===Se||"@language"in xe&&xe["@language"]===ze||"@direction"in xe&&xe["@direction"]===Se))return xe["@value"];const Ce=Object.keys(xe).length,at=1===Ce||2===Ce&&"@index"in xe&&!ue,vt="@language"in Ie,Je=Y(xe["@value"]),pe=Ie.mappings.has(ae)&&null===Ie.mappings.get(ae)["@language"];if(at&&"@none"!==Ae&&(!vt||!Je||pe))return xe["@value"];const R={};return ue&&(R[T.compactIri({activeCtx:Ie,iri:"@index",relativeTo:{vocab:!0}})]=xe["@index"]),"@type"in xe?R[T.compactIri({activeCtx:Ie,iri:"@type",relativeTo:{vocab:!0}})]=T.compactIri({activeCtx:Ie,iri:xe["@type"],relativeTo:{vocab:!0}}):"@language"in xe&&(R[T.compactIri({activeCtx:Ie,iri:"@language",relativeTo:{vocab:!0}})]=xe["@language"]),"@direction"in xe&&(R[T.compactIri({activeCtx:Ie,iri:"@direction",relativeTo:{vocab:!0}})]=xe["@direction"]),R[T.compactIri({activeCtx:Ie,iri:"@value",relativeTo:{vocab:!0}})]=xe["@value"],R}const Ge=oe(Ie,ae,{vocab:!0},Ne),it=w(Ie,ae,"@type"),Ke=T.compactIri({activeCtx:Ie,iri:xe["@id"],relativeTo:{vocab:"@vocab"===it},base:Ne.base});return"@id"===it||"@vocab"===it||"@graph"===Ge?Ke:{[T.compactIri({activeCtx:Ie,iri:"@id",relativeTo:{vocab:!0}})]:Ke}}},6982:Ve=>{"use strict";const _e="http://www.w3.org/1999/02/22-rdf-syntax-ns#",S="http://www.w3.org/2001/XMLSchema#";Ve.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:_e,RDF_LIST:_e+"List",RDF_FIRST:_e+"first",RDF_REST:_e+"rest",RDF_NIL:_e+"nil",RDF_TYPE:_e+"type",RDF_PLAIN_LITERAL:_e+"PlainLiteral",RDF_XML_LITERAL:_e+"XMLLiteral",RDF_JSON_LITERAL:_e+"JSON",RDF_OBJECT:_e+"object",RDF_LANGSTRING:_e+"langString",XSD:S,XSD_BOOLEAN:S+"boolean",XSD_DOUBLE:S+"double",XSD_INTEGER:S+"integer",XSD_STRING:S+"string"}},9611:(Ve,_e,S)=>{"use strict";var Z=S(7156).default;const A=S(3521),$=S(1874),{isArray:H,isObject:Y,isString:_,isUndefined:x}=S(8254),{isAbsolute:N,isRelative:G,prependBase:O}=S(2651),{handleEvent:k}=S(3855),{REGEX_BCP47:oe,REGEX_KEYWORD:w,asArray:F,compareShortestLeast:re}=S(3521),X=new Map,ee={};function W(b,I,T,ce,j,Ie){if(null===I||!_(I)||ee.isKeyword(I))return I;if(I.match(w))return null;if(ce&&ce.hasOwnProperty(I)&&!0!==j.get(I)&&ee.createTermDefinition({activeCtx:b,localCtx:ce,term:I,defined:j,options:Ie}),(T=T||{}).vocab){const xe=b.mappings.get(I);if(null===xe)return null;if(Y(xe)&&"@id"in xe)return xe["@id"]}const ae=I.indexOf(":");if(ae>0){const xe=I.substr(0,ae),Ne=I.substr(ae+1);if("_"===xe||0===Ne.indexOf("//"))return I;ce&&ce.hasOwnProperty(xe)&&ee.createTermDefinition({activeCtx:b,localCtx:ce,term:xe,defined:j,options:Ie});const Ge=b.mappings.get(xe);if(Ge&&Ge._prefix)return Ge["@id"]+Ne;if(N(I))return I}if(T.vocab&&"@vocab"in b)I=b["@vocab"]+I;else if(T.base){let xe,Ne;"@base"in b?b["@base"]?(Ne=O(Ie.base,b["@base"]),xe=O(Ne,I)):(Ne=b["@base"],xe=I):(Ne=Ie.base,xe=O(Ie.base,I)),I=xe}return I}function L(b,I){if(!b||"object"!=typeof b||!I||"object"!=typeof I)return b===I;const T=Array.isArray(b);if(T!==Array.isArray(I))return!1;if(T){if(b.length!==I.length)return!1;for(let Ie=0;Ie<b.length;++Ie)if(!L(b[Ie],I[Ie]))return!1;return!0}const ce=Object.keys(b),j=Object.keys(I);if(ce.length!==j.length)return!1;for(const Ie in b){let ae=b[Ie],xe=I[Ie];if("@container"===Ie&&Array.isArray(ae)&&Array.isArray(xe)&&(ae=ae.slice().sort(),xe=xe.slice().sort()),!L(ae,xe))return!1}return!0}Ve.exports=ee,ee.process=function(){var b=Z(function*({activeCtx:I,localCtx:T,options:ce,propagate:j=!0,overrideProtected:Ie=!1,cycles:ae=new Set}){if(Y(T)&&"@context"in T&&H(T["@context"])&&(T=T["@context"]),0===F(T).length)return I;const Ne=[],Ge=[({event:ze,next:Se})=>{Ne.push(ze),Se()}];ce.eventHandler&&Ge.push(ce.eventHandler);const it=ce;ce={...ce,eventHandler:Ge};const Ke=yield ce.contextResolver.resolve({activeCtx:I,context:T,documentLoader:ce.documentLoader,base:ce.base});Y(Ke[0].document)&&"boolean"==typeof Ke[0].document["@propagate"]&&(j=Ke[0].document["@propagate"]);let Ae=I;!j&&!Ae.previousContext&&(Ae=Ae.clone(),Ae.previousContext=I);for(const ze of Ke){let{document:Se}=ze;if(I=Ae,null===Se){if(!Ie&&0!==Object.keys(I.protected).length)throw new $("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});Ae=I=ee.getInitialContext(ce).clone();continue}const Ue=ze.getProcessed(I);if(Ue){if(it.eventHandler)for(const Ce of Ue.events)k({event:Ce,options:it});Ae=I=Ue.context;continue}if(Y(Se)&&"@context"in Se&&(Se=Se["@context"]),!Y(Se))throw new $("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:Se});Ae=Ae.clone();const ue=new Map;if("@version"in Se){if(1.1!==Se["@version"])throw new $("Unsupported JSON-LD version: "+Se["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:Se});if(I.processingMode&&"json-ld-1.0"===I.processingMode)throw new $("@version: "+Se["@version"]+" not compatible with "+I.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:Se});Ae.processingMode="json-ld-1.1",Ae["@version"]=Se["@version"],ue.set("@version",!0)}if(Ae.processingMode=Ae.processingMode||I.processingMode,"@base"in Se){let Ce=Se["@base"];if(null!==Ce&&!N(Ce)){if(!G(Ce))throw new $('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:Se});Ce=O(Ae["@base"],Ce)}Ae["@base"]=Ce,ue.set("@base",!0)}if("@vocab"in Se){const Ce=Se["@vocab"];if(null===Ce)delete Ae["@vocab"];else{if(!_(Ce))throw new $('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:Se});if(!N(Ce)&&ee.processingMode(Ae,1))throw new $('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:Se});{const at=W(Ae,Ce,{vocab:!0,base:!0},void 0,void 0,ce);N(at)||ce.eventHandler&&k({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:at}},options:ce}),Ae["@vocab"]=at}}ue.set("@vocab",!0)}if("@language"in Se){const Ce=Se["@language"];if(null===Ce)delete Ae["@language"];else{if(!_(Ce))throw new $('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:Se});Ce.match(oe)||ce.eventHandler&&k({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Ce}},options:ce}),Ae["@language"]=Ce.toLowerCase()}ue.set("@language",!0)}if("@direction"in Se){const Ce=Se["@direction"];if("json-ld-1.0"===I.processingMode)throw new $("Invalid JSON-LD syntax; @direction not compatible with "+I.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:Se});if(null===Ce)delete Ae["@direction"];else{if("ltr"!==Ce&&"rtl"!==Ce)throw new $('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:Se});Ae["@direction"]=Ce}ue.set("@direction",!0)}if("@propagate"in Se){const Ce=Se["@propagate"];if("json-ld-1.0"===I.processingMode)throw new $("Invalid JSON-LD syntax; @propagate not compatible with "+I.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:Se});if("boolean"!=typeof Ce)throw new $("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:T});ue.set("@propagate",!0)}if("@import"in Se){const Ce=Se["@import"];if("json-ld-1.0"===I.processingMode)throw new $("Invalid JSON-LD syntax; @import not compatible with "+I.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:Se});if(!_(Ce))throw new $("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:T});const at=yield ce.contextResolver.resolve({activeCtx:I,context:Ce,documentLoader:ce.documentLoader,base:ce.base});if(1!==at.length)throw new $("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:T});const vt=at[0].getProcessed(I);if(vt)Se=vt;else{const Je=at[0].document;if("@import"in Je)throw new $("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:T});for(const pe in Je)Se.hasOwnProperty(pe)||(Se[pe]=Je[pe]);at[0].setProcessed(I,Se)}ue.set("@import",!0)}ue.set("@protected",Se["@protected"]||!1);for(const Ce in Se)if(ee.createTermDefinition({activeCtx:Ae,localCtx:Se,term:Ce,defined:ue,options:ce,overrideProtected:Ie}),Y(Se[Ce])&&"@context"in Se[Ce]){const at=Se[Ce]["@context"];let vt=!0;if(_(at)){const Je=O(ce.base,at);ae.has(Je)?vt=!1:ae.add(Je)}if(vt)try{yield ee.process({activeCtx:Ae.clone(),localCtx:Se[Ce]["@context"],overrideProtected:!0,options:ce,cycles:ae})}catch{throw new $("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:Se[Ce]["@context"],term:Ce})}}ze.setProcessed(I,{context:Ae,events:Ne})}return Ae});return function(I){return b.apply(this,arguments)}}(),ee.createTermDefinition=({activeCtx:b,localCtx:I,term:T,defined:ce,options:j,overrideProtected:Ie=!1})=>{if(ce.has(T)){if(ce.get(T))return;throw new $("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:I,term:T})}let ae;if(ce.set(T,!1),I.hasOwnProperty(T)&&(ae=I[T]),"@type"===T&&Y(ae)&&"@set"===(ae["@container"]||"@set")&&ee.processingMode(b,1.1)){const ze=["@container","@id","@protected"],Se=Object.keys(ae);if(0===Se.length||Se.some(Ue=>!ze.includes(Ue)))throw new $("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:I,term:T})}else{if(ee.isKeyword(T))throw new $("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:I,term:T});if(T.match(w))return void(j.eventHandler&&k({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:T}},options:j}));if(""===T)throw new $("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:I})}const xe=b.mappings.get(T);b.mappings.has(T)&&b.mappings.delete(T);let Ne=!1;if((_(ae)||null===ae)&&(Ne=!0,ae={"@id":ae}),!Y(ae))throw new $("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:I});const Ge={};b.mappings.set(T,Ge),Ge.reverse=!1;const it=["@container","@id","@language","@reverse","@type"];ee.processingMode(b,1.1)&&it.push("@context","@direction","@index","@nest","@prefix","@protected");for(const ze in ae)if(!it.includes(ze))throw new $("Invalid JSON-LD syntax; a term definition must not contain "+ze,"jsonld.SyntaxError",{code:"invalid term definition",context:I});const Ke=T.indexOf(":");if(Ge._termHasColon=Ke>0,"@reverse"in ae){if("@id"in ae)throw new $("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:I});if("@nest"in ae)throw new $("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:I});const ze=ae["@reverse"];if(!_(ze))throw new $("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:I});if(ze.match(w))return j.eventHandler&&k({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:ze}},options:j}),void(xe?b.mappings.set(T,xe):b.mappings.delete(T));const Se=W(b,ze,{vocab:!0,base:!1},I,ce,j);if(!N(Se))throw new $("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:I});Ge["@id"]=Se,Ge.reverse=!0}else if("@id"in ae){let ze=ae["@id"];if(ze&&!_(ze))throw new $("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:I});if(null===ze)Ge["@id"]=null;else{if(!ee.isKeyword(ze)&&ze.match(w))return j.eventHandler&&k({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:ze}},options:j}),void(xe?b.mappings.set(T,xe):b.mappings.delete(T));if(ze!==T){if(ze=W(b,ze,{vocab:!0,base:!1},I,ce,j),!N(ze)&&!ee.isKeyword(ze))throw new $("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:I});if(T.match(/(?::[^:])|\//)&&W(b,T,{vocab:!0,base:!1},I,new Map(ce).set(T,!0),j)!==ze)throw new $("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:I});Ge["@id"]=ze,Ge._prefix=Ne&&!Ge._termHasColon&&null!==ze.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in Ge))if(Ge._termHasColon){const ze=T.substr(0,Ke);if(I.hasOwnProperty(ze)&&ee.createTermDefinition({activeCtx:b,localCtx:I,term:ze,defined:ce,options:j}),b.mappings.has(ze)){const Se=T.substr(Ke+1);Ge["@id"]=b.mappings.get(ze)["@id"]+Se}else Ge["@id"]=T}else if("@type"===T)Ge["@id"]=T;else{if(!("@vocab"in b))throw new $("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:I,term:T});Ge["@id"]=b["@vocab"]+T}if((!0===ae["@protected"]||!0===ce.get("@protected")&&!1!==ae["@protected"])&&(b.protected[T]=!0,Ge.protected=!0),ce.set(T,!0),"@type"in ae){let ze=ae["@type"];if(!_(ze))throw new $("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:I});if("@json"===ze||"@none"===ze){if(ee.processingMode(b,1))throw new $(`Invalid JSON-LD syntax; an @context @type value must not be "${ze}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:I})}else if("@id"!==ze&&"@vocab"!==ze){if(ze=W(b,ze,{vocab:!0,base:!1},I,ce,j),!N(ze))throw new $("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:I});if(0===ze.indexOf("_:"))throw new $("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:I})}Ge["@type"]=ze}if("@container"in ae){const ze=_(ae["@container"])?[ae["@container"]]:ae["@container"]||[],Se=["@list","@set","@index","@language"];let Ue=!0;const ue=ze.includes("@set");if(ee.processingMode(b,1.1)){if(Se.push("@graph","@id","@type"),ze.includes("@list")){if(1!==ze.length)throw new $("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:I})}else if(ze.includes("@graph")){if(ze.some(Ce=>"@graph"!==Ce&&"@id"!==Ce&&"@index"!==Ce&&"@set"!==Ce))throw new $("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:I})}else Ue&=ze.length<=(ue?2:1);if(ze.includes("@type")&&(Ge["@type"]=Ge["@type"]||"@id",!["@id","@vocab"].includes(Ge["@type"])))throw new $("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:I})}else Ue&=!H(ae["@container"]),Ue&=ze.length<=1;if(Ue&=ze.every(Ce=>Se.includes(Ce)),Ue&=!(ue&&ze.includes("@list")),!Ue)throw new $("Invalid JSON-LD syntax; @context @container value must be one of the following: "+Se.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:I});if(Ge.reverse&&!ze.every(Ce=>["@index","@set"].includes(Ce)))throw new $("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:I});Ge["@container"]=ze}if("@index"in ae){if(!("@container"in ae)||!Ge["@container"].includes("@index"))throw new $(`Invalid JSON-LD syntax; @index without @index in @container: "${ae["@index"]}" on term "${T}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:I});if(!_(ae["@index"])||0===ae["@index"].indexOf("@"))throw new $(`Invalid JSON-LD syntax; @index must expand to an IRI: "${ae["@index"]}" on term "${T}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:I});Ge["@index"]=ae["@index"]}if("@context"in ae&&(Ge["@context"]=ae["@context"]),"@language"in ae&&!("@type"in ae)){let ze=ae["@language"];if(null!==ze&&!_(ze))throw new $("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:I});null!==ze&&(ze=ze.toLowerCase()),Ge["@language"]=ze}if("@prefix"in ae){if(T.match(/:|\//))throw new $("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:I});if(ee.isKeyword(Ge["@id"]))throw new $("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:I});if("boolean"!=typeof ae["@prefix"])throw new $("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:I});Ge._prefix=!0===ae["@prefix"]}if("@direction"in ae){const ze=ae["@direction"];if(null!==ze&&"ltr"!==ze&&"rtl"!==ze)throw new $('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:I});Ge["@direction"]=ze}if("@nest"in ae){const ze=ae["@nest"];if(!_(ze)||"@nest"!==ze&&0===ze.indexOf("@"))throw new $("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:I});Ge["@nest"]=ze}const Ae=Ge["@id"];if("@context"===Ae||"@preserve"===Ae)throw new $("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:I});if(xe&&xe.protected&&!Ie&&(b.protected[T]=!0,Ge.protected=!0,!L(xe,Ge)))throw new $("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:I,term:T})},ee.expandIri=(b,I,T,ce)=>W(b,I,T,void 0,void 0,ce),ee.getInitialContext=b=>{const I=JSON.stringify({processingMode:b.processingMode}),T=X.get(I);if(T)return T;const ce={processingMode:b.processingMode,mappings:new Map,inverse:null,getInverse:function j(){const Ge=this;if(Ge.inverse)return Ge.inverse;const it=Ge.inverse={},Ke=Ge.fastCurieMap={},Ae={},ze=(Ge["@language"]||"@none").toLowerCase(),Se=Ge["@direction"],Ue=Ge.mappings,ue=[...Ue.keys()].sort(re);for(const Ce of ue){const at=Ue.get(Ce);if(null===at)continue;let vt=at["@container"]||"@none";if(vt=[].concat(vt).sort().join(""),null===at["@id"])continue;const Je=F(at["@id"]);for(const pe of Je){let R=it[pe];const E=ee.isKeyword(pe);if(R)!E&&!at._termHasColon&&Ae[pe].push(Ce);else if(it[pe]=R={},!E&&!at._termHasColon){Ae[pe]=[Ce];const ie={iri:pe,terms:Ae[pe]};pe[0]in Ke?Ke[pe[0]].push(ie):Ke[pe[0]]=[ie]}if(R[vt]||(R[vt]={"@language":{},"@type":{},"@any":{}}),R=R[vt],ae(Ce,R["@any"],"@none"),at.reverse)ae(Ce,R["@type"],"@reverse");else if("@none"===at["@type"])ae(Ce,R["@any"],"@none"),ae(Ce,R["@language"],"@none"),ae(Ce,R["@type"],"@none");else if("@type"in at)ae(Ce,R["@type"],at["@type"]);else if("@language"in at&&"@direction"in at){const ie=at["@language"],Q=at["@direction"];ae(Ce,R["@language"],ie&&Q?`${ie}_${Q}`.toLowerCase():ie?ie.toLowerCase():Q?`_${Q}`:"@null")}else"@language"in at?ae(Ce,R["@language"],(at["@language"]||"@null").toLowerCase()):"@direction"in at?ae(Ce,R["@language"],at["@direction"]?`_${at["@direction"]}`:"@none"):Se?(ae(Ce,R["@language"],`_${Se}`),ae(Ce,R["@language"],"@none"),ae(Ce,R["@type"],"@none")):(ae(Ce,R["@language"],ze),ae(Ce,R["@language"],"@none"),ae(Ce,R["@type"],"@none"))}}for(const Ce in Ke)Ie(Ke,Ce,1);return it},clone:function xe(){const Ge={};return Ge.mappings=A.clone(this.mappings),Ge.clone=this.clone,Ge.inverse=null,Ge.getInverse=this.getInverse,Ge.protected=A.clone(this.protected),this.previousContext&&(Ge.previousContext=this.previousContext.clone()),Ge.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(Ge["@base"]=this["@base"]),"@language"in this&&(Ge["@language"]=this["@language"]),"@vocab"in this&&(Ge["@vocab"]=this["@vocab"]),Ge},revertToPreviousContext:function Ne(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===X.size&&X.clear(),X.set(I,ce),ce;function Ie(Ge,it,Ke){const Ae=Ge[it],ze=Ge[it]={};let Se,Ue;for(const ue of Ae)Se=ue.iri,Ue=Ke>=Se.length?"":Se[Ke],Ue in ze?ze[Ue].push(ue):ze[Ue]=[ue];for(const ue in ze)""!==ue&&Ie(ze,ue,Ke+1)}function ae(Ge,it,Ke){it.hasOwnProperty(Ke)||(it[Ke]=Ge)}},ee.getContextValue=(b,I,T)=>{if(null===I)return"@context"===T?void 0:null;if(b.mappings.has(I)){const ce=b.mappings.get(I);if(x(T))return ce;if(ce.hasOwnProperty(T))return ce[T]}return"@language"===T&&T in b||"@direction"===T&&T in b?b[T]:"@context"!==T?null:void 0},ee.processingMode=(b,I)=>I.toString()>="1.1"?!b.processingMode||b.processingMode>="json-ld-"+I.toString():"json-ld-1.0"===b.processingMode,ee.isKeyword=b=>{if(!_(b)||"@"!==b[0])return!1;switch(b){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},627:(Ve,_e,S)=>{"use strict";var Z=S(7156).default;const{parseLinkHeader:A,buildHeaders:$}=S(3521),{LINK_HEADER_CONTEXT:H}=S(6982),Y=S(1874),_=S(4044),{prependBase:x}=S(2651),N=/(^|(\r\n))link:/i;Ve.exports=({secure:O,headers:k={},xhr:oe}={headers:{}})=>{return k=$(k),(new _).wrapLoader(F);function F(X){return re.apply(this,arguments)}function re(){return re=Z(function*(X){if(0!==X.indexOf("http:")&&0!==X.indexOf("https:"))throw new Y('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:X});if(O&&0!==X.indexOf("https"))throw new Y('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:X});let q;try{q=yield function G(O,k,oe){const w=new(O=O||XMLHttpRequest);return new Promise((F,re)=>{w.onload=()=>F(w),w.onerror=X=>re(X),w.open("GET",k,!0);for(const X in oe)w.setRequestHeader(X,oe[X]);w.send()})}(oe,X,k)}catch(I){throw new Y("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:X,cause:I})}if(q.status>=400)throw new Y("URL could not be dereferenced: "+q.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:X,httpStatusCode:q.status});let ee={contextUrl:null,documentUrl:X,document:q.response},W=null;const L=q.getResponseHeader("Content-Type");let b;if(N.test(q.getAllResponseHeaders())&&(b=q.getResponseHeader("Link")),b&&"application/ld+json"!==L){const I=A(b),T=I[H];if(Array.isArray(T))throw new Y("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:X});T&&(ee.contextUrl=T.target),W=I.alternate,W&&"application/ld+json"==W.type&&!(L||"").match(/^application\/(\w*\+)?json$/)&&(ee=yield F(x(X,W.target)))}return ee}),re.apply(this,arguments)}}},3855:(Ve,_e,S)=>{"use strict";const Z=S(1874),{isArray:A}=S(8254),{asArray:$}=S(3521),H={};function Y({event:x,handlers:N}){let G=!0;for(let O=0;G&&O<N.length;++O){G=!1;const k=N[O];if(A(k))G=Y({event:x,handlers:k});else if("function"==typeof k)k({event:x,next:()=>{G=!0}});else{if("object"!=typeof k)throw new Z("Invalid event handler.","jsonld.InvalidEventHandler",{event:x});x.code in k?k[x.code]({event:x,next:()=>{G=!0}}):G=!0}}return G}Ve.exports=H,H.defaultEventHandler=null,H.setupEventHandler=({options:x={}})=>{const N=[].concat(x.safe?H.safeEventHandler:[],x.eventHandler?$(x.eventHandler):[],H.defaultEventHandler?H.defaultEventHandler:[]);return 0===N.length?null:N},H.handleEvent=({event:x,options:N})=>{Y({event:x,handlers:N.eventHandler})};const _=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);H.safeEventHandler=function({event:N,next:G}){if("warning"===N.level&&_.has(N.code))throw new Z("Safe mode validation error.","jsonld.ValidationError",{event:N});G()},H.logEventHandler=function({event:N,next:G}){console.log(`EVENT: ${N.message}`,{event:N}),G()},H.logWarningEventHandler=function({event:N,next:G}){"warning"===N.level&&console.warn(`WARNING: ${N.message}`,{event:N}),G()},H.unhandledEventHandler=function({event:N}){throw new Z("No handler for event.","jsonld.UnhandledEvent",{event:N})},H.setDefaultEventHandler=function({eventHandler:x}={}){H.defaultEventHandler=x?$(x):null}},3860:(Ve,_e,S)=>{"use strict";var Z=S(7156).default;const A=S(1874),{isArray:$,isObject:H,isEmptyObject:Y,isString:_,isUndefined:x}=S(8254),{isList:N,isValue:G,isGraph:O,isSubject:k}=S(543),{expandIri:oe,getContextValue:w,isKeyword:F,process:re,processingMode:X}=S(9611),{isAbsolute:q}=S(2651),{REGEX_BCP47:ee,REGEX_KEYWORD:W,addValue:L,asArray:b,getValues:I,validateTypeValue:T}=S(3521),{handleEvent:ce}=S(3855),j={};function Ie({value:Ae,count:ze,options:Se}){if(0===ze||"@value"in Ae||"@list"in Ae||1===ze&&"@id"in Ae){if(Se.eventHandler){let Ue,ue;0===ze?(Ue="empty object",ue="Dropping empty object."):"@value"in Ae?(Ue="object with only @value",ue="Dropping object with only @value."):"@list"in Ae?(Ue="object with only @list",ue="Dropping object with only @list."):1===ze&&"@id"in Ae&&(Ue="object with only @id",ue="Dropping object with only @id."),ce({event:{type:["JsonLdEvent"],code:Ue,level:"warning",message:ue,details:{value:Ae}},options:Se})}return null}return Ae}function ae(Ae){return xe.apply(this,arguments)}function xe(){return(xe=Z(function*({activeCtx:Ae,activeProperty:ze,expandedActiveProperty:Se,element:Ue,expandedParent:ue,options:Ce={},insideList:at,typeKey:vt,typeScopedContext:Je}){const pe=Object.keys(Ue).sort(),R=[];let E;const ie=Ue[vt]&&"@json"===oe(Ae,$(Ue[vt])?Ue[vt][0]:Ue[vt],{vocab:!0},{...Ce,typeExpansion:!0});for(const Q of pe){let Qe,He=Ue[Q];if("@context"===Q)continue;const de=oe(Ae,Q,{vocab:!0},Ce);if(null===de||!q(de)&&!F(de)){Ce.eventHandler&&ce({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:Q,expandedProperty:de}},options:Ce});continue}if(F(de)){if("@reverse"===Se)throw new A("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:He});if(de in ue&&"@included"!==de&&"@type"!==de)throw new A("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:de})}if("@id"===de){if(!_(He)){if(!Ce.isFrame)throw new A('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:He});if(H(He)){if(!Y(He))throw new A('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:He})}else{if(!$(He))throw new A('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:He});if(!He.every(P=>_(P)))throw new A('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:He})}}L(ue,"@id",b(He).map(P=>{if(_(P)){const he=oe(Ae,P,{base:!0},Ce);return Ce.eventHandler&&(null===he?ce(null===P?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:P}},options:Ce}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:P}},options:Ce}):q(he)||ce({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:P,expandedId:he}},options:Ce})),he}return P}),{propertyIsArray:Ce.isFrame});continue}if("@type"===de){H(He)&&(He=Object.fromEntries(Object.entries(He).map(([P,he])=>[oe(Je,P,{vocab:!0}),b(he).map(Xe=>oe(Je,Xe,{base:!0,vocab:!0},{...Ce,typeExpansion:!0}))]))),T(He,Ce.isFrame),L(ue,"@type",b(He).map(P=>{if(_(P)){const he=oe(Je,P,{base:!0,vocab:!0},{...Ce,typeExpansion:!0});return"@json"!==he&&!q(he)&&Ce.eventHandler&&ce({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:P}},options:Ce}),he}return P}),{propertyIsArray:!!Ce.isFrame});continue}if("@included"===de&&X(Ae,1.1)){const P=b(yield j.expand({activeCtx:Ae,activeProperty:ze,element:He,options:Ce}));if(!P.every(he=>k(he)))throw new A("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:He});L(ue,"@included",P,{propertyIsArray:!0});continue}if("@graph"===de&&!H(He)&&!$(He))throw new A('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:He});if("@value"===de){E=He,ie&&X(Ae,1.1)?ue["@value"]=He:L(ue,"@value",He,{propertyIsArray:Ce.isFrame});continue}if("@language"===de){if(null===He)continue;if(!_(He)&&!Ce.isFrame)throw new A('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:He});He=b(He).map(P=>_(P)?P.toLowerCase():P);for(const P of He)_(P)&&!P.match(ee)&&Ce.eventHandler&&ce({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:P}},options:Ce});L(ue,"@language",He,{propertyIsArray:Ce.isFrame});continue}if("@direction"===de){if(!_(He)&&!Ce.isFrame)throw new A('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:He});He=b(He);for(const P of He)if(_(P)&&"ltr"!==P&&"rtl"!==P)throw new A('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:He});L(ue,"@direction",He,{propertyIsArray:Ce.isFrame});continue}if("@index"===de){if(!_(He))throw new A('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:He});L(ue,"@index",He);continue}if("@reverse"===de){if(!H(He))throw new A('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:He});if(Qe=yield j.expand({activeCtx:Ae,activeProperty:"@reverse",element:He,options:Ce}),"@reverse"in Qe)for(const he in Qe["@reverse"])L(ue,he,Qe["@reverse"][he],{propertyIsArray:!0});let P=ue["@reverse"]||null;for(const he in Qe){if("@reverse"===he)continue;null===P&&(P=ue["@reverse"]={}),L(P,he,[],{propertyIsArray:!0});const Xe=Qe[he];for(let Ee=0;Ee<Xe.length;++Ee){const Oe=Xe[Ee];if(G(Oe)||N(Oe))throw new A('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:Qe});L(P,he,Oe,{propertyIsArray:!0})}}continue}if("@nest"===de){R.push(Q);continue}let ne=Ae;const U=w(Ae,Q,"@context");x(U)||(ne=yield re({activeCtx:Ae,localCtx:U,propagate:!0,overrideProtected:!0,options:Ce}));const M=w(Ae,Q,"@container")||[];if(M.includes("@language")&&H(He))Qe=Ge(ne,He,w(ne,Q,"@direction"),Ce);else if(M.includes("@index")&&H(He)){const P=M.includes("@graph"),he=w(ne,Q,"@index")||"@index",Xe="@index"!==he&&oe(Ae,he,{vocab:!0},Ce);Qe=yield it({activeCtx:ne,options:Ce,activeProperty:Q,value:He,asGraph:P,indexKey:he,propertyIndex:Xe})}else if(M.includes("@id")&&H(He)){const P=M.includes("@graph");Qe=yield it({activeCtx:ne,options:Ce,activeProperty:Q,value:He,asGraph:P,indexKey:"@id"})}else if(M.includes("@type")&&H(He))Qe=yield it({activeCtx:ne.revertToPreviousContext(),options:Ce,activeProperty:Q,value:He,asGraph:!1,indexKey:"@type"});else{const P="@list"===de;if(P||"@set"===de){let he=ze;P&&"@graph"===Se&&(he=null),Qe=yield j.expand({activeCtx:ne,activeProperty:he,element:He,options:Ce,insideList:P})}else Qe="@json"===w(Ae,Q,"@type")?{"@type":"@json","@value":He}:yield j.expand({activeCtx:ne,activeProperty:Q,element:He,options:Ce,insideList:!1})}if(null!==Qe||"@value"===de){if("@list"!==de&&!N(Qe)&&M.includes("@list")&&(Qe={"@list":b(Qe)}),M.includes("@graph")&&!M.some(P=>"@id"===P||"@index"===P)){if(Qe=b(Qe),Ce.isFrame||(Qe=Qe.filter(P=>null!==Ie({value:P,count:Object.keys(P).length,options:Ce}))),0===Qe.length)continue;Qe=Qe.map(P=>({"@graph":b(P)}))}if(ne.mappings.has(Q)&&ne.mappings.get(Q).reverse){const P=ue["@reverse"]=ue["@reverse"]||{};Qe=b(Qe);for(let he=0;he<Qe.length;++he){const Xe=Qe[he];if(G(Xe)||N(Xe))throw new A('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:Qe});L(P,de,Xe,{propertyIsArray:!0})}continue}L(ue,de,Qe,{propertyIsArray:!0})}}if("@value"in ue&&("@json"!==ue["@type"]||!X(Ae,1.1))&&(H(E)||$(E))&&!Ce.isFrame)throw new A('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:E});for(const Q of R){const He=$(Ue[Q])?Ue[Q]:[Ue[Q]];for(const Qe of He){if(!H(Qe)||Object.keys(Qe).some(de=>"@value"===oe(Ae,de,{vocab:!0},Ce)))throw new A("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:Qe});yield ae({activeCtx:Ae,activeProperty:ze,expandedActiveProperty:Se,element:Qe,expandedParent:ue,options:Ce,insideList:at,typeScopedContext:Je,typeKey:vt})}}})).apply(this,arguments)}function Ne({activeCtx:Ae,activeProperty:ze,value:Se,options:Ue}){if(null==Se)return null;const ue=oe(Ae,ze,{vocab:!0},Ue);if("@id"===ue)return oe(Ae,Se,{base:!0},Ue);if("@type"===ue)return oe(Ae,Se,{vocab:!0,base:!0},{...Ue,typeExpansion:!0});const Ce=w(Ae,ze,"@type");if(("@id"===Ce||"@graph"===ue)&&_(Se)){const vt=oe(Ae,Se,{base:!0},Ue);return null===vt&&Se.match(W)&&Ue.eventHandler&&ce({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:ze}},options:Ue}),{"@id":vt}}if("@vocab"===Ce&&_(Se))return{"@id":oe(Ae,Se,{vocab:!0,base:!0},Ue)};if(F(ue))return Se;const at={};if(Ce&&!["@id","@vocab","@none"].includes(Ce))at["@type"]=Ce;else if(_(Se)){const vt=w(Ae,ze,"@language");null!==vt&&(at["@language"]=vt);const Je=w(Ae,ze,"@direction");null!==Je&&(at["@direction"]=Je)}return["boolean","number","string"].includes(typeof Se)||(Se=Se.toString()),at["@value"]=Se,at}function Ge(Ae,ze,Se,Ue){const ue=[],Ce=Object.keys(ze).sort();for(const at of Ce){const vt=oe(Ae,at,{vocab:!0},Ue);let Je=ze[at];$(Je)||(Je=[Je]);for(const pe of Je){if(null===pe)continue;if(!_(pe))throw new A("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:ze});const R={"@value":pe};"@none"!==vt&&(at.match(ee)||Ue.eventHandler&&ce({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:at}},options:Ue}),R["@language"]=at.toLowerCase()),Se&&(R["@direction"]=Se),ue.push(R)}}return ue}function it(Ae){return Ke.apply(this,arguments)}function Ke(){return(Ke=Z(function*({activeCtx:Ae,options:ze,activeProperty:Se,value:Ue,asGraph:ue,indexKey:Ce,propertyIndex:at}){const vt=[],Je=Object.keys(Ue).sort(),pe="@type"===Ce;for(let R of Je){if(pe){const Q=w(Ae,R,"@context");x(Q)||(Ae=yield re({activeCtx:Ae,localCtx:Q,propagate:!1,options:ze}))}let ie,E=Ue[R];$(E)||(E=[E]),E=yield j.expand({activeCtx:Ae,activeProperty:Se,element:E,options:ze,insideList:!1,insideIndex:!0}),ie=at?"@none"===R?"@none":Ne({activeCtx:Ae,activeProperty:Ce,value:R,options:ze}):oe(Ae,R,{vocab:!0},ze),"@id"===Ce?R=oe(Ae,R,{base:!0},ze):pe&&(R=ie);for(let Q of E){if(ue&&!O(Q)&&(Q={"@graph":[Q]}),"@type"===Ce)"@none"===ie||(Q["@type"]=Q["@type"]?[R].concat(Q["@type"]):[R]);else{if(G(Q)&&!["@language","@type","@index"].includes(Ce))throw new A(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${Ce}".`,"jsonld.SyntaxError",{code:"invalid value object",value:Q});at?"@none"!==ie&&L(Q,at,ie,{propertyIsArray:!0,prependValue:!0}):"@none"!==ie&&!(Ce in Q)&&(Q[Ce]=R)}vt.push(Q)}}return vt})).apply(this,arguments)}Ve.exports=j,j.expand=function(){var Ae=Z(function*({activeCtx:ze,activeProperty:Se=null,element:Ue,options:ue={},insideList:Ce=!1,insideIndex:at=!1,typeScopedContext:vt=null}){if(null==Ue)return null;if("@default"===Se&&(ue=Object.assign({},ue,{isFrame:!1})),!$(Ue)&&!H(Ue))return Ce||null!==Se&&"@graph"!==oe(ze,Se,{vocab:!0},ue)?Ne({activeCtx:ze,activeProperty:Se,value:Ue,options:ue}):(ue.eventHandler&&ce({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:Ue}},options:ue}),null);if($(Ue)){let Qe=[];const de=w(ze,Se,"@container")||[];Ce=Ce||de.includes("@list");for(let ne=0;ne<Ue.length;++ne){let U=yield j.expand({activeCtx:ze,activeProperty:Se,element:Ue[ne],options:ue,insideIndex:at,typeScopedContext:vt});Ce&&$(U)&&(U={"@list":U}),null!==U&&($(U)?Qe=Qe.concat(U):Qe.push(U))}return Qe}const Je=oe(ze,Se,{vocab:!0},ue),pe=w(ze,Se,"@context");vt=vt||(ze.previousContext?ze:null);let R=Object.keys(Ue).sort(),E=!at;if(E&&vt&&R.length<=2&&!R.includes("@context"))for(const Qe of R){const de=oe(vt,Qe,{vocab:!0},ue);if("@value"===de){E=!1,ze=vt;break}if("@id"===de&&1===R.length){E=!1;break}}E&&(ze=ze.revertToPreviousContext()),x(pe)||(ze=yield re({activeCtx:ze,localCtx:pe,propagate:!0,overrideProtected:!0,options:ue})),"@context"in Ue&&(ze=yield re({activeCtx:ze,localCtx:Ue["@context"],options:ue})),vt=ze;let ie=null;for(const Qe of R)if("@type"===oe(ze,Qe,{vocab:!0},ue)){ie=ie||Qe;const ne=Ue[Qe],U=Array.isArray(ne)?ne.length>1?ne.slice().sort():ne:[ne];for(const M of U){const P=w(vt,M,"@context");x(P)||(ze=yield re({activeCtx:ze,localCtx:P,options:ue,propagate:!1}))}}let Q={};yield ae({activeCtx:ze,activeProperty:Se,expandedActiveProperty:Je,element:Ue,expandedParent:Q,options:ue,insideList:Ce,typeKey:ie,typeScopedContext:vt}),R=Object.keys(Q);let He=R.length;if("@value"in Q){if("@type"in Q&&("@language"in Q||"@direction"in Q))throw new A('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:Q});let Qe=He-1;if("@type"in Q&&(Qe-=1),"@index"in Q&&(Qe-=1),"@language"in Q&&(Qe-=1),"@direction"in Q&&(Qe-=1),0!==Qe)throw new A('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:Q});const de=null===Q["@value"]?[]:b(Q["@value"]),ne=I(Q,"@type");if(!X(ze,1.1)||!ne.includes("@json")||1!==ne.length)if(0===de.length)ue.eventHandler&&ce({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:Q}},options:ue}),Q=null;else{if(!de.every(U=>_(U)||Y(U))&&"@language"in Q)throw new A("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:Q});if(!ne.every(U=>q(U)&&!(_(U)&&0===U.indexOf("_:"))||Y(U)))throw new A('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:Q})}}else if("@type"in Q&&!$(Q["@type"]))Q["@type"]=[Q["@type"]];else if("@set"in Q||"@list"in Q){if(He>1&&(2!==He||!("@index"in Q)))throw new A('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:Q});"@set"in Q&&(Q=Q["@set"],R=Object.keys(Q),He=R.length)}else 1===He&&"@language"in Q&&(ue.eventHandler&&ce({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:Q}},options:ue}),Q=null);return H(Q)&&!ue.keepFreeFloatingNodes&&!Ce&&(null===Se||"@graph"===Je||(w(ze,Se,"@container")||[]).includes("@graph"))&&(Q=Ie({value:Q,count:He,options:ue})),Q});return function(ze){return Ae.apply(this,arguments)}}()},8295:(Ve,_e,S)=>{"use strict";const{isSubjectReference:Z}=S(543),{createMergedNodeMap:A}=S(9783),$={};Ve.exports=$,$.flatten=H=>{const Y=A(H),_=[],x=Object.keys(Y).sort();for(let N=0;N<x.length;++N){const G=Y[x[N]];Z(G)||_.push(G)}return _}},9193:(Ve,_e,S)=>{"use strict";const{isKeyword:Z}=S(9611),A=S(543),$=S(8254),H=S(3521),Y=S(2651),_=S(1874),{createNodeMap:x,mergeNodeMapGraphs:N}=S(9783),G={};function O(b){const I={};for(const T in b)void 0!==b[T]&&(I["@"+T]=[b[T]]);return[I]}function k(b,I,T){for(let ce=T.length-1;ce>=0;--ce){const j=T[ce];if(j.graph===I&&j.subject["@id"]===b["@id"])return!0}return!1}function oe(b,I,T){const ce="@"+T;let j=ce in b?b[ce][0]:I[T];if("embed"===T)if(!0===j)j="@once";else if(!1===j)j="@never";else if("@always"!==j&&"@never"!==j&&"@link"!==j&&"@first"!==j&&"@last"!==j&&"@once"!==j)throw new _("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:b});return j}function w(b){if(!$.isArray(b)||1!==b.length||!$.isObject(b[0]))throw new _("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:b});if("@id"in b[0])for(const I of H.asArray(b[0]["@id"]))if(!$.isObject(I)&&!Y.isAbsolute(I)||$.isString(I)&&0===I.indexOf("_:"))throw new _("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:b});if("@type"in b[0])for(const I of H.asArray(b[0]["@type"]))if(!$.isObject(I)&&!Y.isAbsolute(I)&&"@json"!==I||$.isString(I)&&0===I.indexOf("_:"))throw new _("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:b})}function re(b,I,T,ce){let j=!0,Ie=!1;for(const ae in T){let xe=!1;const Ne=H.getValues(I,ae),Ge=0===H.getValues(T,ae).length;if("@id"===ae){if($.isEmptyObject(T["@id"][0]||{})?xe=!0:T["@id"].length>=0&&(xe=T["@id"].includes(Ne[0])),!ce.requireAll)return xe}else if("@type"===ae){if(j=!1,Ge){if(Ne.length>0)return!1;xe=!0}else if(1===T["@type"].length&&$.isEmptyObject(T["@type"][0]))xe=Ne.length>0;else for(const it of T["@type"])xe=!(!$.isObject(it)||!("@default"in it))||xe||Ne.some(Ke=>Ke===it);if(!ce.requireAll)return xe}else{if(Z(ae))continue;{const it=H.getValues(T,ae)[0];let Ke=!1;if(it&&(w([it]),Ke="@default"in it),j=!1,0===Ne.length&&Ke)continue;if(Ne.length>0&&Ge)return!1;if(void 0===it){if(Ne.length>0)return!1;xe=!0}else if(A.isList(it)){const Ae=it["@list"][0];if(A.isList(Ne[0])){const ze=Ne[0]["@list"];A.isValue(Ae)?xe=ze.some(Se=>L(Ae,Se)):(A.isSubject(Ae)||A.isSubjectReference(Ae))&&(xe=ze.some(Se=>W(b,Ae,Se,ce)))}}else xe=A.isValue(it)?Ne.some(Ae=>L(it,Ae)):A.isSubjectReference(it)?Ne.some(Ae=>W(b,it,Ae,ce)):!!$.isObject(it)&&Ne.length>0}}if(!xe&&ce.requireAll)return!1;Ie=Ie||xe}return j||Ie}function X(b,I){const T=b.uniqueEmbeds[b.graph],ce=T[I],j=ce.parent,Ie=ce.property,ae={"@id":I};if($.isArray(j)){for(let Ne=0;Ne<j.length;++Ne)if(H.compareValues(j[Ne],ae)){j[Ne]=ae;break}}else{const Ne=$.isArray(j[Ie]);H.removeValue(j,Ie,ae,{propertyIsArray:Ne}),H.addValue(j,Ie,ae,{propertyIsArray:Ne})}const xe=Ne=>{const Ge=Object.keys(T);for(const it of Ge)it in T&&$.isObject(T[it].parent)&&T[it].parent["@id"]===Ne&&(delete T[it],xe(it))};xe(I)}function q(b,I){if($.isArray(b))return b.map(T=>q(T,I));if($.isObject(b)){if("@preserve"in b)return b["@preserve"][0];if(A.isValue(b))return b;if(A.isList(b))return b["@list"]=q(b["@list"],I),b;if("@id"in b){const T=b["@id"];if(I.link.hasOwnProperty(T)){const ce=I.link[T].indexOf(b);if(-1!==ce)return I.link[T][ce];I.link[T].push(b)}else I.link[T]=[b]}for(const T in b)"@id"===T&&I.bnodesToClear.includes(b[T])?delete b["@id"]:b[T]=q(b[T],I)}return b}function ee(b,I,T){$.isObject(b)?H.addValue(b,I,T,{propertyIsArray:!0}):b.push(T)}function W(b,I,T,ce){if(!("@id"in T))return!1;const j=b.subjects[T["@id"]];return j&&re(b,j,I,ce)}function L(b,I){const T=I["@value"],ce=I["@type"],j=I["@language"],Ie=b["@value"]?$.isArray(b["@value"])?b["@value"]:[b["@value"]]:[],ae=b["@type"]?$.isArray(b["@type"])?b["@type"]:[b["@type"]]:[],xe=b["@language"]?$.isArray(b["@language"])?b["@language"]:[b["@language"]]:[];return 0===Ie.length&&0===ae.length&&0===xe.length||!(!Ie.includes(T)&&!$.isEmptyObject(Ie[0])||!(!ce&&0===ae.length||ae.includes(ce)||ce&&$.isEmptyObject(ae[0]))||!(!j&&0===xe.length||xe.includes(j)||j&&$.isEmptyObject(xe[0])))}Ve.exports=G,G.frameMergedOrDefault=(b,I,T)=>{const ce={options:T,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},j=new H.IdentifierIssuer("_:b");x(b,ce.graphMap,"@default",j),T.merged&&(ce.graphMap["@merged"]=N(ce.graphMap),ce.graph="@merged"),ce.subjects=ce.graphMap[ce.graph];const Ie=[];return G.frame(ce,Object.keys(ce.subjects).sort(),I,Ie),T.pruneBlankNodeIdentifiers&&(T.bnodesToClear=Object.keys(ce.bnodeMap).filter(ae=>1===ce.bnodeMap[ae].length)),T.link={},q(Ie,T)},G.frame=(b,I,T,ce,j=null)=>{w(T);const Ie=b.options,ae={embed:oe(T=T[0],Ie,"embed"),explicit:oe(T,Ie,"explicit"),requireAll:oe(T,Ie,"requireAll")};b.link.hasOwnProperty(b.graph)||(b.link[b.graph]={});const xe=b.link[b.graph],Ne=function F(b,I,T,ce){const j={};for(const Ie of I){const ae=b.graphMap[b.graph][Ie];re(b,ae,T,ce)&&(j[Ie]=ae)}return j}(b,I,T,ae),Ge=Object.keys(Ne).sort();for(const it of Ge){const Ke=Ne[it];if(null===j?b.uniqueEmbeds={[b.graph]:{}}:b.uniqueEmbeds[b.graph]=b.uniqueEmbeds[b.graph]||{},"@link"===ae.embed&&it in xe){ee(ce,j,xe[it]);continue}const Ae={"@id":it};if(0===it.indexOf("_:")&&H.addValue(b.bnodeMap,it,Ae,{propertyIsArray:!0}),xe[it]=Ae,("@first"===ae.embed||"@last"===ae.embed)&&b.is11)throw new _("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:T});if(b.embedded||!b.uniqueEmbeds[b.graph].hasOwnProperty(it)){if(b.embedded&&("@never"===ae.embed||k(Ke,b.graph,b.subjectStack))){ee(ce,j,Ae);continue}if(b.embedded&&("@first"==ae.embed||"@once"==ae.embed)&&b.uniqueEmbeds[b.graph].hasOwnProperty(it)){ee(ce,j,Ae);continue}if("@last"===ae.embed&&it in b.uniqueEmbeds[b.graph]&&X(b,it),b.uniqueEmbeds[b.graph][it]={parent:ce,property:j},b.subjectStack.push({subject:Ke,graph:b.graph}),it in b.graphMap){let ze=!1,Se=null;"@graph"in T?(Se=T["@graph"][0],ze=!("@merged"===it||"@default"===it),$.isObject(Se)||(Se={})):(ze="@merged"!==b.graph,Se={}),ze&&G.frame({...b,graph:it,embedded:!1},Object.keys(b.graphMap[it]).sort(),[Se],Ae,"@graph")}"@included"in T&&G.frame({...b,embedded:!1},I,T["@included"],Ae,"@included");for(const ze of Object.keys(Ke).sort())if(Z(ze)){if(Ae[ze]=H.clone(Ke[ze]),"@type"===ze)for(const Se of Ke["@type"])0===Se.indexOf("_:")&&H.addValue(b.bnodeMap,Se,Ae,{propertyIsArray:!0})}else if(!ae.explicit||ze in T)for(const Se of Ke[ze]){const Ue=ze in T?T[ze]:O(ae);if(A.isList(Se)){const ue=T[ze]&&T[ze][0]&&T[ze][0]["@list"]?T[ze][0]["@list"]:O(ae),Ce={"@list":[]};ee(Ae,ze,Ce);const at=Se["@list"];for(const vt of at)A.isSubjectReference(vt)?G.frame({...b,embedded:!0},[vt["@id"]],ue,Ce,"@list"):ee(Ce,"@list",H.clone(vt))}else A.isSubjectReference(Se)?G.frame({...b,embedded:!0},[Se["@id"]],Ue,Ae,ze):L(Ue[0],Se)&&ee(Ae,ze,H.clone(Se))}for(const ze of Object.keys(T).sort()){if("@type"===ze){if(!$.isObject(T[ze][0])||!("@default"in T[ze][0]))continue}else if(Z(ze))continue;const Se=T[ze][0]||{};if(!oe(Se,Ie,"omitDefault")&&!(ze in Ae)){let ue="@null";"@default"in Se&&(ue=H.clone(Se["@default"])),$.isArray(ue)||(ue=[ue]),Ae[ze]=[{"@preserve":ue}]}}for(const ze of Object.keys(T["@reverse"]||{}).sort()){const Se=T["@reverse"][ze];for(const Ue of Object.keys(b.subjects))H.getValues(b.subjects[Ue],ze).some(Ce=>Ce["@id"]===it)&&(Ae["@reverse"]=Ae["@reverse"]||{},H.addValue(Ae["@reverse"],ze,[],{propertyIsArray:!0}),G.frame({...b,embedded:!0},[Ue],Se,Ae["@reverse"][ze],j))}ee(ce,j,Ae),b.subjectStack.pop()}}},G.cleanupNull=(b,I)=>{if($.isArray(b))return b.map(ce=>G.cleanupNull(ce,I)).filter(ce=>ce);if("@null"===b)return null;if($.isObject(b)){if("@id"in b){const T=b["@id"];if(I.link.hasOwnProperty(T)){const ce=I.link[T].indexOf(b);if(-1!==ce)return I.link[T][ce];I.link[T].push(b)}else I.link[T]=[b]}for(const T in b)b[T]=G.cleanupNull(b[T],I)}return b}},9767:(Ve,_e,S)=>{"use strict";var Z=S(7156).default;const A=S(1874),$=S(543),H=S(8254),{REGEX_BCP47:Y,addValue:_}=S(3521),{handleEvent:x}=S(3855),{RDF_LIST:N,RDF_FIRST:G,RDF_REST:O,RDF_NIL:k,RDF_TYPE:oe,RDF_JSON_LITERAL:w,XSD_BOOLEAN:F,XSD_DOUBLE:re,XSD_INTEGER:X,XSD_STRING:q}=S(6982),ee={};function W(L,b,I,T){if(L.termType.endsWith("Node"))return{"@id":L.value};const ce={"@value":L.value};if(L.language)L.language.match(Y)||T.eventHandler&&x({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:L.language}},options:T}),ce["@language"]=L.language;else{let j=L.datatype.value;if(j||(j=q),j===w){j="@json";try{ce["@value"]=JSON.parse(ce["@value"])}catch(Ie){throw new A("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:ce["@value"],cause:Ie})}}if(b){if(j===F)"true"===ce["@value"]?ce["@value"]=!0:"false"===ce["@value"]&&(ce["@value"]=!1);else if(H.isNumeric(ce["@value"]))if(j===X){const Ie=parseInt(ce["@value"],10);Ie.toFixed(0)===ce["@value"]&&(ce["@value"]=Ie)}else j===re&&(ce["@value"]=parseFloat(ce["@value"]));[F,X,re,q].includes(j)||(ce["@type"]=j)}else if("i18n-datatype"===I&&j.startsWith("https://www.w3.org/ns/i18n#")){const[,Ie,ae]=j.split(/[#_]/);Ie.length>0&&(ce["@language"]=Ie,Ie.match(Y)||T.eventHandler&&x({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Ie}},options:T})),ce["@direction"]=ae}else j!==q&&(ce["@type"]=j)}return ce}Ve.exports=ee,ee.fromRDF=function(){var L=Z(function*(b,I){const{useRdfType:T=!1,useNativeTypes:ce=!1,rdfDirection:j=null}=I,Ie={},ae={"@default":Ie},xe={};if(j){if("compound-literal"===j)throw new A("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:j});if("i18n-datatype"!==j)throw new A("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:j})}for(const it of b){const Ke="DefaultGraph"===it.graph.termType?"@default":it.graph.value;Ke in ae||(ae[Ke]={}),"@default"!==Ke&&!(Ke in Ie)&&(Ie[Ke]={"@id":Ke});const Ae=ae[Ke],ze=it.subject.value,Se=it.predicate.value,Ue=it.object;ze in Ae||(Ae[ze]={"@id":ze});const ue=Ae[ze],Ce=Ue.termType.endsWith("Node");if(Ce&&!(Ue.value in Ae)&&(Ae[Ue.value]={"@id":Ue.value}),Se===oe&&!T&&Ce){_(ue,"@type",Ue.value,{propertyIsArray:!0});continue}const at=W(Ue,ce,j,I);if(_(ue,Se,at,{propertyIsArray:!0}),Ce)if(Ue.value===k){const vt=Ae[Ue.value];"usages"in vt||(vt.usages=[]),vt.usages.push({node:ue,property:Se,value:at})}else xe[Ue.value]=!(Ue.value in xe)&&{node:ue,property:Se,value:at}}for(const it in ae){const Ke=ae[it];if(!(k in Ke))continue;const Ae=Ke[k];if(Ae.usages){for(let ze of Ae.usages){let Se=ze.node,Ue=ze.property,ue=ze.value;const Ce=[],at=[];let vt=Object.keys(Se).length;for(;Ue===O&&H.isObject(xe[Se["@id"]])&&H.isArray(Se[G])&&1===Se[G].length&&H.isArray(Se[O])&&1===Se[O].length&&(3===vt||4===vt&&H.isArray(Se["@type"])&&1===Se["@type"].length&&Se["@type"][0]===N)&&(Ce.push(Se[G][0]),at.push(Se["@id"]),ze=xe[Se["@id"]],Se=ze.node,Ue=ze.property,ue=ze.value,vt=Object.keys(Se).length,$.isBlankNode(Se)););delete ue["@id"],ue["@list"]=Ce.reverse();for(const Je of at)delete Ke[Je]}delete Ae.usages}}const Ne=[],Ge=Object.keys(Ie).sort();for(const it of Ge){const Ke=Ie[it];if(it in ae){const Ae=Ke["@graph"]=[],ze=ae[it],Se=Object.keys(ze).sort();for(const Ue of Se){const ue=ze[Ue];$.isSubjectReference(ue)||Ae.push(ue)}}$.isSubjectReference(Ke)||Ne.push(Ke)}return Ne});return function(b,I){return L.apply(this,arguments)}}()},543:(Ve,_e,S)=>{"use strict";const Z=S(8254),A={};Ve.exports=A,A.isSubject=$=>!(!Z.isObject($)||"@value"in $||"@set"in $||"@list"in $)&&(Object.keys($).length>1||!("@id"in $)),A.isSubjectReference=$=>Z.isObject($)&&1===Object.keys($).length&&"@id"in $,A.isValue=$=>Z.isObject($)&&"@value"in $,A.isList=$=>Z.isObject($)&&"@list"in $,A.isGraph=$=>Z.isObject($)&&"@graph"in $&&1===Object.keys($).filter(H=>"@id"!==H&&"@index"!==H).length,A.isSimpleGraph=$=>A.isGraph($)&&!("@id"in $),A.isBlankNode=$=>{if(Z.isObject($)){if("@id"in $){const H=$["@id"];return!Z.isString(H)||0===H.indexOf("_:")}return 0===Object.keys($).length||!("@value"in $||"@set"in $||"@list"in $)}return!1}},7661:(Ve,_e,S)=>{var Z=S(7156).default;const A=S(1986),$=S(8924),H=S(3521),Y=S(4198),_=H.IdentifierIssuer,x=S(1874),N=S(1072),G=S(7260),{expand:O}=S(3860),{flatten:k}=S(8295),{fromRDF:oe}=S(9767),{toRDF:w}=S(240),{frameMergedOrDefault:F,cleanupNull:re}=S(9193),{isArray:X,isObject:q,isString:ee}=S(8254),{isSubjectReference:W}=S(543),{expandIri:L,getInitialContext:b,process:I,processingMode:T}=S(9611),{compact:ce,compactIri:j}=S(8809),{createNodeMap:Ie,createMergedNodeMap:ae,mergeNodeMaps:xe}=S(9783),{logEventHandler:Ne,logWarningEventHandler:Ge,safeEventHandler:it,setDefaultEventHandler:Ke,setupEventHandler:Ae,strictEventHandler:ze,unhandledEventHandler:Se}=S(3855),Ue=function(Ce){const at={},Je=new N({max:100});function pe(R,{documentLoader:E=Ce.documentLoader,...ie}){if(R&&"compactionMap"in R)throw new x('"compactionMap" not supported.',"jsonld.OptionsError");if(R&&"expansionMap"in R)throw new x('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:E},ie,R,{eventHandler:Ae({options:R})})}return Ce.compact=function(){var R=Z(function*(E,ie,Q){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===ie)throw new x("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===E)return null;let He;(Q=pe(Q,{base:ee(E)?E:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new _("_:b"),contextResolver:new Y({sharedCache:Je})})).link&&(Q.skipExpansion=!0),Q.compactToRelative||delete Q.base,He=Q.skipExpansion?E:yield Ce.expand(E,Q);const Qe=yield Ce.processContext(b(Q),ie,Q);let de=yield ce({activeCtx:Qe,element:He,options:Q});Q.compactArrays&&!Q.graph&&X(de)?1===de.length?de=de[0]:0===de.length&&(de={}):Q.graph&&q(de)&&(de=[de]),q(ie)&&"@context"in ie&&(ie=ie["@context"]),ie=H.clone(ie),X(ie)||(ie=[ie]);const ne=ie;ie=[];for(let M=0;M<ne.length;++M)(!q(ne[M])||Object.keys(ne[M]).length>0)&&ie.push(ne[M]);const U=ie.length>0;if(1===ie.length&&(ie=ie[0]),X(de)){const M=j({activeCtx:Qe,iri:"@graph",relativeTo:{vocab:!0}}),P=de;de={},U&&(de["@context"]=ie),de[M]=P}else if(q(de)&&U){const M=de;de={"@context":ie};for(const P in M)de[P]=M[P]}return de});return function(E,ie,Q){return R.apply(this,arguments)}}(),Ce.expand=function(){var R=Z(function*(E,ie){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");const Q={},He=[];if("expandContext"in(ie=pe(ie,{keepFreeFloatingNodes:!1,contextResolver:new Y({sharedCache:Je})}))){const U=H.clone(ie.expandContext);Q.expandContext=q(U)&&"@context"in U?U:{"@context":U},He.push(Q.expandContext)}let Qe;if(ee(E)){const U=yield Ce.get(E,ie);Qe=U.documentUrl,Q.input=U.document,U.contextUrl&&(Q.remoteContext={"@context":U.contextUrl},He.push(Q.remoteContext))}else Q.input=H.clone(E);"base"in ie||(ie.base=Qe||"");let de=b(ie);for(const U of He)de=yield I({activeCtx:de,localCtx:U,options:ie});let ne=yield O({activeCtx:de,element:Q.input,options:ie});return q(ne)&&"@graph"in ne&&1===Object.keys(ne).length?ne=ne["@graph"]:null===ne&&(ne=[]),X(ne)||(ne=[ne]),ne});return function(E,ie){return R.apply(this,arguments)}}(),Ce.flatten=function(){var R=Z(function*(E,ie,Q){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");ie="function"==typeof ie?null:ie||null,Q=pe(Q,{base:ee(E)?E:"",contextResolver:new Y({sharedCache:Je})});const He=yield Ce.expand(E,Q),Qe=k(He);return null===ie?Qe:(Q.graph=!0,Q.skipExpansion=!0,yield Ce.compact(Qe,ie,Q))});return function(E,ie,Q){return R.apply(this,arguments)}}(),Ce.frame=function(){var R=Z(function*(E,ie,Q){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(Q=pe(Q,{base:ee(E)?E:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new Y({sharedCache:Je})}),ee(ie)){const Xe=yield Ce.get(ie,Q);if(ie=Xe.document,Xe.contextUrl){let Ee=ie["@context"];Ee?X(Ee)?Ee.push(Xe.contextUrl):Ee=[Ee,Xe.contextUrl]:Ee=Xe.contextUrl,ie["@context"]=Ee}}const He=ie&&ie["@context"]||{},Qe=yield Ce.processContext(b(Q),He,Q);Q.hasOwnProperty("omitGraph")||(Q.omitGraph=T(Qe,1.1)),Q.hasOwnProperty("pruneBlankNodeIdentifiers")||(Q.pruneBlankNodeIdentifiers=T(Qe,1.1));const de=yield Ce.expand(E,Q),ne={...Q};ne.isFrame=!0,ne.keepFreeFloatingNodes=!0;const U=yield Ce.expand(ie,ne),M=Object.keys(ie).map(Xe=>L(Qe,Xe,{vocab:!0}));ne.merged=!M.includes("@graph"),ne.is11=T(Qe,1.1);const P=F(de,U,ne);ne.graph=!Q.omitGraph,ne.skipExpansion=!0,ne.link={},ne.framing=!0;let he=yield Ce.compact(P,He,ne);return ne.link={},he=re(he,ne),he});return function(E,ie,Q){return R.apply(this,arguments)}}(),Ce.link=function(){var R=Z(function*(E,ie,Q){const He={};return ie&&(He["@context"]=ie),He["@embed"]="@link",Ce.frame(E,He,Q)});return function(E,ie,Q){return R.apply(this,arguments)}}(),Ce.normalize=Ce.canonize=function(){var R=Z(function*(E,ie){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(ie=pe(ie,{base:ee(E)?E:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new Y({sharedCache:Je})}))){if("application/n-quads"!==ie.inputFormat&&"application/nquads"!==ie.inputFormat)throw new x("Unknown canonicalization input format.","jsonld.CanonizeError");const Qe=G.parse(E);return A.canonize(Qe,ie)}const Q={...ie};delete Q.format,Q.produceGeneralizedRdf=!1;const He=yield Ce.toRDF(E,Q);return A.canonize(He,ie)});return function(E,ie){return R.apply(this,arguments)}}(),Ce.fromRDF=function(){var R=Z(function*(E,ie){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");ie=pe(ie,{format:ee(E)?"application/n-quads":void 0});const{format:Q}=ie;let{rdfParser:He}=ie;if(Q){if(He=He||at[Q],!He)throw new x("Unknown input format.","jsonld.UnknownFormat",{format:Q})}else He=()=>E;const Qe=yield He(E);return oe(Qe,ie)});return function(E,ie){return R.apply(this,arguments)}}(),Ce.toRDF=function(){var R=Z(function*(E,ie){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let Q;Q=(ie=pe(ie,{base:ee(E)?E:"",skipExpansion:!1,contextResolver:new Y({sharedCache:Je})})).skipExpansion?E:yield Ce.expand(E,ie);const He=w(Q,ie);if(ie.format){if("application/n-quads"===ie.format||"application/nquads"===ie.format)return G.serialize(He);throw new x("Unknown output format.","jsonld.UnknownFormat",{format:ie.format})}return He});return function(E,ie){return R.apply(this,arguments)}}(),Ce.createNodeMap=function(){var R=Z(function*(E,ie){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");ie=pe(ie,{base:ee(E)?E:"",contextResolver:new Y({sharedCache:Je})});const Q=yield Ce.expand(E,ie);return ae(Q,ie)});return function(E,ie){return R.apply(this,arguments)}}(),Ce.merge=function(){var R=Z(function*(E,ie,Q){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!X(E))throw new TypeError('Could not merge, "docs" must be an array.');ie="function"==typeof ie?null:ie||null,Q=pe(Q,{contextResolver:new Y({sharedCache:Je})});const He=yield Promise.all(E.map(Xe=>{const Ee={...Q};return Ce.expand(Xe,Ee)}));let Qe=!0;"mergeNodes"in Q&&(Qe=Q.mergeNodes);const de=Q.issuer||new _("_:b"),ne={"@default":{}};for(let Xe=0;Xe<He.length;++Xe){const Ee=H.relabelBlankNodes(He[Xe],{issuer:new _("_:b"+Xe+"-")}),Oe=Qe||0===Xe?ne:{"@default":{}};if(Ie(Ee,Oe,"@default",de),Oe!==ne)for(const ut in Oe){const St=Oe[ut];if(!(ut in ne)){ne[ut]=St;continue}const Ut=ne[ut];for(const mt in St)mt in Ut||(Ut[mt]=St[mt])}}const U=xe(ne),M=[],P=Object.keys(U).sort();for(let Xe=0;Xe<P.length;++Xe){const Ee=U[P[Xe]];W(Ee)||M.push(Ee)}return null===ie?M:(Q.graph=!0,Q.skipExpansion=!0,yield Ce.compact(M,ie,Q))});return function(E,ie,Q){return R.apply(this,arguments)}}(),Object.defineProperty(Ce,"documentLoader",{get:()=>Ce._documentLoader,set:R=>Ce._documentLoader=R}),Ce.documentLoader=function(){var R=Z(function*(E){throw new x("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:E})});return function(E){return R.apply(this,arguments)}}(),Ce.get=function(){var R=Z(function*(E,ie){let Q;Q="function"==typeof ie.documentLoader?ie.documentLoader:Ce.documentLoader;const He=yield Q(E);try{if(!He.document)throw new x("No remote document found at the given URL.","jsonld.NullRemoteDocument");ee(He.document)&&(He.document=JSON.parse(He.document))}catch(Qe){throw new x("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:Qe,remoteDoc:He})}return He});return function(E,ie){return R.apply(this,arguments)}}(),Ce.processContext=function(){var R=Z(function*(E,ie,Q){return Q=pe(Q,{base:"",contextResolver:new Y({sharedCache:Je})}),null===ie?b(Q):(ie=H.clone(ie),q(ie)&&"@context"in ie||(ie={"@context":ie}),I({activeCtx:E,localCtx:ie,options:Q}))});return function(E,ie,Q){return R.apply(this,arguments)}}(),Ce.getContextValue=S(9611).getContextValue,Ce.documentLoaders={},Ce.useDocumentLoader=function(R){if(!(R in Ce.documentLoaders))throw new x('Unknown document loader type: "'+R+'"',"jsonld.UnknownDocumentLoader",{type:R});Ce.documentLoader=Ce.documentLoaders[R].apply(Ce,Array.prototype.slice.call(arguments,1))},Ce.registerRDFParser=function(R,E){at[R]=E},Ce.unregisterRDFParser=function(R){delete at[R]},Ce.registerRDFParser("application/n-quads",G.parse),Ce.registerRDFParser("application/nquads",G.parse),Ce.url=S(2651),Ce.logEventHandler=Ne,Ce.logWarningEventHandler=Ge,Ce.safeEventHandler=it,Ce.setDefaultEventHandler=Ke,Ce.strictEventHandler=ze,Ce.unhandledEventHandler=Se,Ce.util=H,Object.assign(Ce,H),Ce.promises=Ce,Ce.RequestQueue=S(4044),Ce.JsonLdProcessor=S(1828)(Ce),$.setupGlobals(Ce),$.setupDocumentLoaders(Ce),Ce},ue=function(){return Ue(function(){return ue()})};Ue(ue),Ve.exports=ue},9783:(Ve,_e,S)=>{"use strict";const{isKeyword:Z}=S(9611),A=S(543),$=S(8254),H=S(3521),Y=S(1874),_={};Ve.exports=_,_.createMergedNodeMap=(x,N)=>{const G=(N=N||{}).issuer||new H.IdentifierIssuer("_:b"),O={"@default":{}};return _.createNodeMap(x,O,"@default",G),_.mergeNodeMaps(O)},_.createNodeMap=(x,N,G,O,k,oe)=>{if($.isArray(x)){for(const X of x)_.createNodeMap(X,N,G,O,void 0,oe);return}if(!$.isObject(x))return void(oe&&oe.push(x));if(A.isValue(x)){if("@type"in x){let X=x["@type"];0===X.indexOf("_:")&&(x["@type"]=X=O.getId(X))}return void(oe&&oe.push(x))}if(oe&&A.isList(x)){const X=[];return _.createNodeMap(x["@list"],N,G,O,k,X),void oe.push({"@list":X})}if("@type"in x){const X=x["@type"];for(const q of X)0===q.indexOf("_:")&&O.getId(q)}$.isUndefined(k)&&(k=A.isBlankNode(x)?O.getId(x["@id"]):x["@id"]),oe&&oe.push({"@id":k});const w=N[G],F=w[k]=w[k]||{};F["@id"]=k;const re=Object.keys(x).sort();for(let X of re){if("@id"===X)continue;if("@reverse"===X){const ee={"@id":k},W=x["@reverse"];for(const L in W){const b=W[L];for(const I of b){let T=I["@id"];A.isBlankNode(I)&&(T=O.getId(T)),_.createNodeMap(I,N,G,O,T),H.addValue(w[T],L,ee,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===X){k in N||(N[k]={}),_.createNodeMap(x[X],N,k,O);continue}if("@included"===X){_.createNodeMap(x[X],N,G,O);continue}if("@type"!==X&&Z(X)){if("@index"===X&&X in F&&(x[X]!==F[X]||x[X]["@id"]!==F[X]["@id"]))throw new Y("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:F});F[X]=x[X];continue}const q=x[X];if(0===X.indexOf("_:")&&(X=O.getId(X)),0!==q.length)for(let ee of q)if("@type"===X&&(ee=0===ee.indexOf("_:")?O.getId(ee):ee),A.isSubject(ee)||A.isSubjectReference(ee)){if("@id"in ee&&!ee["@id"])continue;const W=A.isBlankNode(ee)?O.getId(ee["@id"]):ee["@id"];H.addValue(F,X,{"@id":W},{propertyIsArray:!0,allowDuplicate:!1}),_.createNodeMap(ee,N,G,O,W)}else if(A.isValue(ee))H.addValue(F,X,ee,{propertyIsArray:!0,allowDuplicate:!1});else if(A.isList(ee)){const W=[];_.createNodeMap(ee["@list"],N,G,O,k,W),ee={"@list":W},H.addValue(F,X,ee,{propertyIsArray:!0,allowDuplicate:!1})}else _.createNodeMap(ee,N,G,O,k),H.addValue(F,X,ee,{propertyIsArray:!0,allowDuplicate:!1});else H.addValue(F,X,[],{propertyIsArray:!0})}},_.mergeNodeMapGraphs=x=>{const N={};for(const G of Object.keys(x).sort())for(const O of Object.keys(x[G]).sort()){const k=x[G][O];O in N||(N[O]={"@id":O});const oe=N[O];for(const w of Object.keys(k).sort())if(Z(w)&&"@type"!==w)oe[w]=H.clone(k[w]);else for(const F of k[w])H.addValue(oe,w,H.clone(F),{propertyIsArray:!0,allowDuplicate:!1})}return N},_.mergeNodeMaps=x=>{const N=x["@default"],G=Object.keys(x).sort();for(const O of G){if("@default"===O)continue;const k=x[O];let oe=N[O];oe?"@graph"in oe||(oe["@graph"]=[]):N[O]=oe={"@id":O,"@graph":[]};const w=oe["@graph"];for(const F of Object.keys(k).sort()){const re=k[F];A.isSubjectReference(re)||w.push(re)}}return N}},8924:(Ve,_e,S)=>{"use strict";const Z=S(627),A={};Ve.exports=A,A.setupDocumentLoaders=function($){typeof XMLHttpRequest<"u"&&($.documentLoaders.xhr=Z,$.useDocumentLoader("xhr"))},A.setupGlobals=function($){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:$.JsonLdProcessor})}},240:(Ve,_e,S)=>{"use strict";const{createNodeMap:Z}=S(9783),{isKeyword:A}=S(9611),$=S(543),H=S(5041),Y=S(1874),_=S(8254),x=S(3521),{handleEvent:N}=S(3855),{RDF_FIRST:G,RDF_REST:O,RDF_NIL:k,RDF_TYPE:oe,RDF_JSON_LITERAL:w,RDF_LANGSTRING:F,XSD_BOOLEAN:re,XSD_DOUBLE:X,XSD_INTEGER:q,XSD_STRING:ee}=S(6982),{isAbsolute:W}=S(2651),L={};function b(ce,j,Ie,ae,xe){const Ne=Object.keys(j).sort();for(const Ge of Ne){const it=j[Ge],Ke=Object.keys(it).sort();for(let Ae of Ke){const ze=it[Ae];if("@type"===Ae)Ae=oe;else if(A(Ae))continue;for(const Se of ze){const Ue={termType:Ge.startsWith("_:")?"BlankNode":"NamedNode",value:Ge};if(!W(Ge)){xe.eventHandler&&N({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:Ge}},options:xe});continue}const ue={termType:Ae.startsWith("_:")?"BlankNode":"NamedNode",value:Ae};if(!W(Ae)){xe.eventHandler&&N({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:Ae}},options:xe});continue}if("BlankNode"===ue.termType&&!xe.produceGeneralizedRdf){xe.eventHandler&&N({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:ae.getOldIds().find(at=>ae.getId(at)===Ae)}},options:xe});continue}const Ce=T(Se,ae,ce,Ie,xe.rdfDirection,xe);Ce&&ce.push({subject:Ue,predicate:ue,object:Ce,graph:Ie})}}}}function T(ce,j,Ie,ae,xe,Ne){const Ge={};if($.isValue(ce)){Ge.termType="Literal",Ge.value=void 0,Ge.datatype={termType:"NamedNode"};let it=ce["@value"];const Ke=ce["@type"]||null;if("@json"===Ke)Ge.value=H(it),Ge.datatype.value=w;else if(_.isBoolean(it))Ge.value=it.toString(),Ge.datatype.value=Ke||re;else if(_.isDouble(it)||Ke===X)_.isDouble(it)||(it=parseFloat(it)),Ge.value=it.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),Ge.datatype.value=Ke||X;else if(_.isNumber(it))Ge.value=it.toFixed(0),Ge.datatype.value=Ke||q;else if("@direction"in ce&&"i18n-datatype"===xe){const Ae=(ce["@language"]||"").toLowerCase();Ge.datatype.value=`https://www.w3.org/ns/i18n#${Ae}_${ce["@direction"]}`,Ge.value=it}else{if("@direction"in ce&&"compound-literal"===xe)throw new Y("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:xe});if("@direction"in ce&&xe)throw new Y("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:xe});"@language"in ce?("@direction"in ce&&!xe&&Ne.eventHandler&&N({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:Ge.value}},options:Ne}),Ge.value=it,Ge.datatype.value=Ke||F,Ge.language=ce["@language"]):("@direction"in ce&&!xe&&Ne.eventHandler&&N({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:Ge.value}},options:Ne}),Ge.value=it,Ge.datatype.value=Ke||ee)}}else if($.isList(ce)){const it=function I(ce,j,Ie,ae,xe,Ne){const Ge={termType:"NamedNode",value:G},it={termType:"NamedNode",value:O},Ke={termType:"NamedNode",value:k},Ae=ce.pop(),ze=Ae?{termType:"BlankNode",value:j.getId()}:Ke;let Se=ze;for(const Ue of ce){const ue=T(Ue,j,Ie,ae,xe,Ne),Ce={termType:"BlankNode",value:j.getId()};Ie.push({subject:Se,predicate:Ge,object:ue,graph:ae}),Ie.push({subject:Se,predicate:it,object:Ce,graph:ae}),Se=Ce}if(Ae){const Ue=T(Ae,j,Ie,ae,xe,Ne);Ie.push({subject:Se,predicate:Ge,object:Ue,graph:ae}),Ie.push({subject:Se,predicate:it,object:Ke,graph:ae})}return ze}(ce["@list"],j,Ie,ae,xe,Ne);Ge.termType=it.termType,Ge.value=it.value}else{const it=_.isObject(ce)?ce["@id"]:ce;Ge.termType=it.startsWith("_:")?"BlankNode":"NamedNode",Ge.value=it}return"NamedNode"!==Ge.termType||W(Ge.value)?Ge:(Ne.eventHandler&&N({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:Ge.value}},options:Ne}),null)}Ve.exports=L,L.toRDF=(ce,j)=>{const Ie=new x.IdentifierIssuer("_:b"),ae={"@default":{}};Z(ce,ae,"@default",Ie);const xe=[],Ne=Object.keys(ae).sort();for(const Ge of Ne){let it;if("@default"===Ge)it={termType:"DefaultGraph",value:""};else{if(!W(Ge)){j.eventHandler&&N({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:Ge}},options:j});continue}it=Ge.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},it.value=Ge}b(xe,ae[Ge],it,Ie,j)}return xe}},8254:Ve=>{"use strict";const _e={};Ve.exports=_e,_e.isArray=Array.isArray,_e.isBoolean=S=>"boolean"==typeof S||"[object Boolean]"===Object.prototype.toString.call(S),_e.isDouble=S=>_e.isNumber(S)&&(-1!==String(S).indexOf(".")||Math.abs(S)>=1e21),_e.isEmptyObject=S=>_e.isObject(S)&&0===Object.keys(S).length,_e.isNumber=S=>"number"==typeof S||"[object Number]"===Object.prototype.toString.call(S),_e.isNumeric=S=>!isNaN(parseFloat(S))&&isFinite(S),_e.isObject=S=>"[object Object]"===Object.prototype.toString.call(S),_e.isString=S=>"string"==typeof S||"[object String]"===Object.prototype.toString.call(S),_e.isUndefined=S=>typeof S>"u"},2651:(Ve,_e,S)=>{"use strict";const Z=S(8254),A={};Ve.exports=A,A.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},A.parse=(H,Y)=>{const _={},x=A.parsers[Y||"full"],N=x.regex.exec(H);let G=x.keys.length;for(;G--;)_[x.keys[G]]=void 0===N[G]?null:N[G];return("https"===_.scheme&&"443"===_.port||"http"===_.scheme&&"80"===_.port)&&(_.href=_.href.replace(":"+_.port,""),_.authority=_.authority.replace(":"+_.port,""),_.port=null),_.normalizedPath=A.removeDotSegments(_.path),_},A.prependBase=(H,Y)=>{if(null===H||A.isAbsolute(Y))return Y;(!H||Z.isString(H))&&(H=A.parse(H||""));const _=A.parse(Y),x={protocol:H.protocol||""};if(null!==_.authority)x.authority=_.authority,x.path=_.path,x.query=_.query;else if(x.authority=H.authority,""===_.path)x.path=H.path,x.query=null!==_.query?_.query:H.query;else{if(0===_.path.indexOf("/"))x.path=_.path;else{let G=H.path;G=G.substr(0,G.lastIndexOf("/")+1),(G.length>0||H.authority)&&"/"!==G.substr(-1)&&(G+="/"),G+=_.path,x.path=G}x.query=_.query}""!==_.path&&(x.path=A.removeDotSegments(x.path));let N=x.protocol;return null!==x.authority&&(N+="//"+x.authority),N+=x.path,null!==x.query&&(N+="?"+x.query),null!==_.fragment&&(N+="#"+_.fragment),""===N&&(N="./"),N},A.removeBase=(H,Y)=>{if(null===H)return Y;(!H||Z.isString(H))&&(H=A.parse(H||""));let _="";if(""!==H.href?_+=(H.protocol||"")+"//"+(H.authority||""):Y.indexOf("//")&&(_+="//"),0!==Y.indexOf(_))return Y;const x=A.parse(Y.substr(_.length)),N=H.normalizedPath.split("/"),G=x.normalizedPath.split("/"),O=x.fragment||x.query?0:1;for(;N.length>0&&G.length>O&&N[0]===G[0];)N.shift(),G.shift();let k="";if(N.length>0){N.pop();for(let oe=0;oe<N.length;++oe)k+="../"}return k+=G.join("/"),null!==x.query&&(k+="?"+x.query),null!==x.fragment&&(k+="#"+x.fragment),""===k&&(k="./"),k},A.removeDotSegments=H=>{if(0===H.length)return"";const Y=H.split("/"),_=[];for(;Y.length>0;){const x=Y.shift(),N=0===Y.length;"."!==x?".."!==x?_.push(x):(_.pop(),N&&_.push("")):N&&_.push("")}return"/"===H[0]&&_.length>0&&""!==_[0]&&_.unshift(""),1===_.length&&""===_[0]?"/":_.join("/")};const $=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;A.isAbsolute=H=>Z.isString(H)&&$.test(H),A.isRelative=H=>Z.isString(H)},3521:(Ve,_e,S)=>{"use strict";const Z=S(543),A=S(8254),$=S(1986).IdentifierIssuer,H=S(1874),_=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,x=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,N=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,O_headers_accept="application/ld+json, application/json",k={};function oe(w,F){if(A.isArray(F))for(let re=0;re<F.length;++re)F[re]=oe(w,F[re]);else if(Z.isList(F))F["@list"]=oe(w,F["@list"]);else if(A.isObject(F)){Z.isBlankNode(F)&&(F["@id"]=w.getId(F["@id"]));const re=Object.keys(F).sort();for(let X=0;X<re.length;++X){const q=re[X];"@id"!==q&&(F[q]=oe(w,F[q]))}}return F}Ve.exports=k,k.IdentifierIssuer=$,k.REGEX_BCP47=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,k.REGEX_KEYWORD=/^@[a-zA-Z]+$/,k.clone=function(w){if(w&&"object"==typeof w){let F;if(A.isArray(w)){F=[];for(let re=0;re<w.length;++re)F[re]=k.clone(w[re])}else if(w instanceof Map){F=new Map;for(const[re,X]of w)F.set(re,k.clone(X))}else if(w instanceof Set){F=new Set;for(const re of w)F.add(k.clone(re))}else if(A.isObject(w)){F={};for(const re in w)F[re]=k.clone(w[re])}else F=w.toString();return F}return w},k.asArray=function(w){return Array.isArray(w)?w:[w]},k.buildHeaders=(w={})=>{if(Object.keys(w).some(re=>"accept"===re.toLowerCase()))throw new RangeError('Accept header may not be specified; only "'+O_headers_accept+'" is supported.');return Object.assign({Accept:O_headers_accept},w)},k.parseLinkHeader=w=>{const F={},re=w.match(_);for(let X=0;X<re.length;++X){let q=re[X].match(x);if(!q)continue;const ee={target:q[1]},W=q[2];for(;q=N.exec(W);)ee[q[1]]=void 0===q[2]?q[3]:q[2];const L=ee.rel||"";Array.isArray(F[L])?F[L].push(ee):F[L]=F.hasOwnProperty(L)?[F[L],ee]:ee}return F},k.validateTypeValue=(w,F)=>{if(!(A.isString(w)||A.isArray(w)&&w.every(re=>A.isString(re)))){if(F&&A.isObject(w))switch(Object.keys(w).length){case 0:return;case 1:if("@default"in w&&k.asArray(w["@default"]).every(re=>A.isString(re)))return}throw new H('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:w})}},k.hasProperty=(w,F)=>{if(w.hasOwnProperty(F)){const re=w[F];return!A.isArray(re)||re.length>0}return!1},k.hasValue=(w,F,re)=>{if(k.hasProperty(w,F)){let X=w[F];const q=Z.isList(X);if(A.isArray(X)||q){q&&(X=X["@list"]);for(let ee=0;ee<X.length;++ee)if(k.compareValues(re,X[ee]))return!0}else if(!A.isArray(re))return k.compareValues(re,X)}return!1},k.addValue=(w,F,re,X)=>{if("propertyIsArray"in(X=X||{})||(X.propertyIsArray=!1),"valueIsArray"in X||(X.valueIsArray=!1),"allowDuplicate"in X||(X.allowDuplicate=!0),"prependValue"in X||(X.prependValue=!1),X.valueIsArray)w[F]=re;else if(A.isArray(re)){0===re.length&&X.propertyIsArray&&!w.hasOwnProperty(F)&&(w[F]=[]),X.prependValue&&(re=re.concat(w[F]),w[F]=[]);for(let q=0;q<re.length;++q)k.addValue(w,F,re[q],X)}else if(w.hasOwnProperty(F)){const q=!X.allowDuplicate&&k.hasValue(w,F,re);!A.isArray(w[F])&&(!q||X.propertyIsArray)&&(w[F]=[w[F]]),q||(X.prependValue?w[F].unshift(re):w[F].push(re))}else w[F]=X.propertyIsArray?[re]:re},k.getValues=(w,F)=>[].concat(w[F]||[]),k.removeProperty=(w,F)=>{delete w[F]},k.removeValue=(w,F,re,X)=>{"propertyIsArray"in(X=X||{})||(X.propertyIsArray=!1);const q=k.getValues(w,F).filter(ee=>!k.compareValues(ee,re));0===q.length?k.removeProperty(w,F):w[F]=1!==q.length||X.propertyIsArray?q:q[0]},k.relabelBlankNodes=(w,F)=>oe((F=F||{}).issuer||new $("_:b"),w),k.compareValues=(w,F)=>!!(w===F||Z.isValue(w)&&Z.isValue(F)&&w["@value"]===F["@value"]&&w["@type"]===F["@type"]&&w["@language"]===F["@language"]&&w["@index"]===F["@index"])||!!(A.isObject(w)&&"@id"in w&&A.isObject(F)&&"@id"in F)&&w["@id"]===F["@id"],k.compareShortestLeast=(w,F)=>w.length<F.length?-1:F.length<w.length?1:w===F?0:w<F?-1:1},5041:Ve=>{"use strict";Ve.exports=function _e(S){return null===S||"object"!=typeof S||null!=S.toJSON?JSON.stringify(S):Array.isArray(S)?"["+S.reduce((Z,A,$)=>Z+(0===$?"":",")+_e(void 0===A||"symbol"==typeof A?null:A),"")+"]":"{"+Object.keys(S).sort().reduce((Z,A,$)=>void 0===S[A]||"symbol"==typeof S[A]?Z:Z+(0===Z.length?"":",")+_e(A)+":"+_e(S[A]),"")+"}"}},1072:(Ve,_e,S)=>{"use strict";const Z=S(4439),A=Symbol("max"),$=Symbol("length"),H=Symbol("lengthCalculator"),Y=Symbol("allowStale"),_=Symbol("maxAge"),x=Symbol("dispose"),N=Symbol("noDisposeOnSet"),G=Symbol("lruList"),O=Symbol("cache"),k=Symbol("updateAgeOnGet"),oe=()=>1,F=(L,b,I)=>{const T=L[O].get(b);if(T){const ce=T.value;if(re(L,ce)){if(q(L,T),!L[Y])return}else I&&(L[k]&&(T.value.now=Date.now()),L[G].unshiftNode(T));return ce.value}},re=(L,b)=>{if(!b||!b.maxAge&&!L[_])return!1;const I=Date.now()-b.now;return b.maxAge?I>b.maxAge:L[_]&&I>L[_]},X=L=>{if(L[$]>L[A])for(let b=L[G].tail;L[$]>L[A]&&null!==b;){const I=b.prev;q(L,b),b=I}},q=(L,b)=>{if(b){const I=b.value;L[x]&&L[x](I.key,I.value),L[$]-=I.length,L[O].delete(I.key),L[G].removeNode(b)}};class ee{constructor(b,I,T,ce,j){this.key=b,this.value=I,this.length=T,this.now=ce,this.maxAge=j||0}}const W=(L,b,I,T)=>{let ce=I.value;re(L,ce)&&(q(L,I),L[Y]||(ce=void 0)),ce&&b.call(T,ce.value,ce.key,L)};Ve.exports=class w{constructor(b){if("number"==typeof b&&(b={max:b}),b||(b={}),b.max&&("number"!=typeof b.max||b.max<0))throw new TypeError("max must be a non-negative number");this[A]=b.max||1/0;const T=b.length||oe;if(this[H]="function"!=typeof T?oe:T,this[Y]=b.stale||!1,b.maxAge&&"number"!=typeof b.maxAge)throw new TypeError("maxAge must be a number");this[_]=b.maxAge||0,this[x]=b.dispose,this[N]=b.noDisposeOnSet||!1,this[k]=b.updateAgeOnGet||!1,this.reset()}set max(b){if("number"!=typeof b||b<0)throw new TypeError("max must be a non-negative number");this[A]=b||1/0,X(this)}get max(){return this[A]}set allowStale(b){this[Y]=!!b}get allowStale(){return this[Y]}set maxAge(b){if("number"!=typeof b)throw new TypeError("maxAge must be a non-negative number");this[_]=b,X(this)}get maxAge(){return this[_]}set lengthCalculator(b){"function"!=typeof b&&(b=oe),b!==this[H]&&(this[H]=b,this[$]=0,this[G].forEach(I=>{I.length=this[H](I.value,I.key),this[$]+=I.length})),X(this)}get lengthCalculator(){return this[H]}get length(){return this[$]}get itemCount(){return this[G].length}rforEach(b,I){I=I||this;for(let T=this[G].tail;null!==T;){const ce=T.prev;W(this,b,T,I),T=ce}}forEach(b,I){I=I||this;for(let T=this[G].head;null!==T;){const ce=T.next;W(this,b,T,I),T=ce}}keys(){return this[G].toArray().map(b=>b.key)}values(){return this[G].toArray().map(b=>b.value)}reset(){this[x]&&this[G]&&this[G].length&&this[G].forEach(b=>this[x](b.key,b.value)),this[O]=new Map,this[G]=new Z,this[$]=0}dump(){return this[G].map(b=>!re(this,b)&&{k:b.key,v:b.value,e:b.now+(b.maxAge||0)}).toArray().filter(b=>b)}dumpLru(){return this[G]}set(b,I,T){if((T=T||this[_])&&"number"!=typeof T)throw new TypeError("maxAge must be a number");const ce=T?Date.now():0,j=this[H](I,b);if(this[O].has(b)){if(j>this[A])return q(this,this[O].get(b)),!1;const xe=this[O].get(b).value;return this[x]&&(this[N]||this[x](b,xe.value)),xe.now=ce,xe.maxAge=T,xe.value=I,this[$]+=j-xe.length,xe.length=j,this.get(b),X(this),!0}const Ie=new ee(b,I,j,ce,T);return Ie.length>this[A]?(this[x]&&this[x](b,I),!1):(this[$]+=Ie.length,this[G].unshift(Ie),this[O].set(b,this[G].head),X(this),!0)}has(b){if(!this[O].has(b))return!1;const I=this[O].get(b).value;return!re(this,I)}get(b){return F(this,b,!0)}peek(b){return F(this,b,!1)}pop(){const b=this[G].tail;return b?(q(this,b),b.value):null}del(b){q(this,this[O].get(b))}load(b){this.reset();const I=Date.now();for(let T=b.length-1;T>=0;T--){const ce=b[T],j=ce.e||0;if(0===j)this.set(ce.k,ce.v);else{const Ie=j-I;Ie>0&&this.set(ce.k,ce.v,Ie)}}}prune(){this[O].forEach((b,I)=>F(this,I,!1))}}},6990:function(Ve,_e,S){var Z;Ve=S.nmd(Ve),function(){var A,_="Expected a function",N="__lodash_hash_undefined__",O="__lodash_placeholder__",b=32,T=128,Ae=1/0,ze=9007199254740991,ue=4294967295,vt=[["ary",T],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",b],["partialRight",64],["rearg",256]],Je="[object Arguments]",pe="[object Array]",E="[object Boolean]",ie="[object Date]",He="[object Error]",Qe="[object Function]",de="[object GeneratorFunction]",ne="[object Map]",U="[object Number]",P="[object Object]",he="[object Promise]",Ee="[object RegExp]",Oe="[object Set]",ut="[object String]",St="[object Symbol]",mt="[object WeakMap]",me="[object ArrayBuffer]",V="[object DataView]",te="[object Float32Array]",Le="[object Float64Array]",ct="[object Int8Array]",ft="[object Int16Array]",Mt="[object Int32Array]",xn="[object Uint8Array]",ti="[object Uint8ClampedArray]",si="[object Uint16Array]",Fn="[object Uint32Array]",zn=/\b__p \+= '';/g,_r=/\b(__p \+=) '' \+/g,Vs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Xr=/&(?:amp|lt|gt|quot|#39);/g,Ro=/[&<>"']/g,Ta=RegExp(Xr.source),qi=RegExp(Ro.source),mo=/<%-([\s\S]+?)%>/g,ec=/<%([\s\S]+?)%>/g,Ic=/<%=([\s\S]+?)%>/g,Hl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tc=/^\w*$/,cs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ye=/[\\^$.*+?()[\]{}|]/g,Ze=RegExp(Ye.source),Et=/^\s+/,nn=/\s/,En=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pr=/\{\n\/\* \[wrapped with (.+)\] \*/,Po=/,? & /,rn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zs=/[()=,{}\[\]\/\s]/,hr=/\\(\\)?/g,sl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_i=/\w*$/,wn=/^[-+]0x[0-9a-f]+$/i,Ma=/^0b[01]+$/i,Bt=/^\[object .+?Constructor\]$/,ci=/^0o[0-7]+$/i,go=/^(?:0|[1-9]\d*)$/,Ti=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,fr=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,Me="\\ud800-\\udfff",ge="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Be="\\u2700-\\u27bf",qe="a-z\\xdf-\\xf6\\xf8-\\xff",Cn="A-Z\\xc0-\\xd6\\xd8-\\xde",jn="\\ufe0e\\ufe0f",kr="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ls="["+Me+"]",Hn="["+kr+"]",hi="["+ge+"]",ko="\\d+",ws="["+Be+"]",Gl="["+qe+"]",sh="[^"+Me+kr+ko+Be+qe+Cn+"]",Ia="\\ud83c[\\udffb-\\udfff]",ds="[^"+Me+"]",km="(?:\\ud83c[\\udde6-\\uddff]){2}",De="[\\ud800-\\udbff][\\udc00-\\udfff]",We="["+Cn+"]",At="(?:"+Gl+"|"+sh+")",Kt="(?:"+We+"|"+sh+")",bn="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",yi="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Jr="(?:"+hi+"|"+Ia+")?",_o="["+jn+"]?",$n=_o+Jr+"(?:\\u200d(?:"+[ds,km,De].join("|")+")"+_o+Jr+")*",S3="(?:"+[ws,km,De].join("|")+")"+$n,A3="(?:"+[ds+hi+"?",hi,km,De,ls].join("|")+")",T3=RegExp("['\u2019]","g"),M3=RegExp(hi,"g"),It=RegExp(Ia+"(?="+Ia+")|"+A3+$n,"g"),I3=RegExp([We+"?"+Gl+"+"+bn+"(?="+[Hn,We,"$"].join("|")+")",Kt+"+"+yi+"(?="+[Hn,We+At,"$"].join("|")+")",We+"?"+At+"+"+bn,We+"+"+yi,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ko,S3].join("|"),"g"),en=RegExp("[\\u200d"+Me+ge+jn+"]"),Nm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,oM=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],dx=-1,Sr={};Sr[te]=Sr[Le]=Sr[ct]=Sr[ft]=Sr[Mt]=Sr[xn]=Sr[ti]=Sr[si]=Sr[Fn]=!0,Sr[Je]=Sr[pe]=Sr[me]=Sr[E]=Sr[V]=Sr[ie]=Sr[He]=Sr[Qe]=Sr[ne]=Sr[U]=Sr[P]=Sr[Ee]=Sr[Oe]=Sr[ut]=Sr[mt]=!1;var rr={};rr[Je]=rr[pe]=rr[me]=rr[V]=rr[E]=rr[ie]=rr[te]=rr[Le]=rr[ct]=rr[ft]=rr[Mt]=rr[ne]=rr[U]=rr[P]=rr[Ee]=rr[Oe]=rr[ut]=rr[St]=rr[xn]=rr[ti]=rr[si]=rr[Fn]=!0,rr[He]=rr[Qe]=rr[mt]=!1;var sM={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Mi=parseFloat,ky=parseInt,Ny="object"==typeof global&&global&&global.Object===Object&&global,Gs="object"==typeof self&&self&&self.Object===Object&&self,No=Ny||Gs||Function("return this")(),aM=_e&&!_e.nodeType&&_e,Ni=aM&&Ve&&!Ve.nodeType&&Ve,cM=Ni&&Ni.exports===aM,hx=cM&&Ny.process,_t=function(){try{return Ni&&Ni.require&&Ni.require("util").types||hx&&hx.binding&&hx.binding("util")}catch{}}(),Lm=_t&&_t.isArrayBuffer,Bm=_t&&_t.isDate,Fy=_t&&_t.isMap,jm=_t&&_t.isRegExp,fx=_t&&_t.isSet,Um=_t&&_t.isTypedArray;function Da(lt,Dt,Ct){switch(Ct.length){case 0:return lt.call(Dt);case 1:return lt.call(Dt,Ct[0]);case 2:return lt.call(Dt,Ct[0],Ct[1]);case 3:return lt.call(Dt,Ct[0],Ct[1],Ct[2])}return lt.apply(Dt,Ct)}function D3(lt,Dt,Ct,un){for(var kn=-1,Hi=null==lt?0:lt.length;++kn<Hi;){var to=lt[kn];Dt(un,to,Ct(to),lt)}return un}function rc(lt,Dt){for(var Ct=-1,un=null==lt?0:lt.length;++Ct<un&&!1!==Dt(lt[Ct],Ct,lt););return lt}function O3(lt,Dt){for(var Ct=null==lt?0:lt.length;Ct--&&!1!==Dt(lt[Ct],Ct,lt););return lt}function lM(lt,Dt){for(var Ct=-1,un=null==lt?0:lt.length;++Ct<un;)if(!Dt(lt[Ct],Ct,lt))return!1;return!0}function Oa(lt,Dt){for(var Ct=-1,un=null==lt?0:lt.length,kn=0,Hi=[];++Ct<un;){var to=lt[Ct];Dt(to,Ct,lt)&&(Hi[kn++]=to)}return Hi}function ah(lt,Dt){return!(null==lt||!lt.length)&&jt(lt,Dt,0)>-1}function ch(lt,Dt,Ct){for(var un=-1,kn=null==lt?0:lt.length;++un<kn;)if(Ct(Dt,lt[un]))return!0;return!1}function Fr(lt,Dt){for(var Ct=-1,un=null==lt?0:lt.length,kn=Array(un);++Ct<un;)kn[Ct]=Dt(lt[Ct],Ct,lt);return kn}function Wl(lt,Dt){for(var Ct=-1,un=Dt.length,kn=lt.length;++Ct<un;)lt[kn+Ct]=Dt[Ct];return lt}function Ly(lt,Dt,Ct,un){var kn=-1,Hi=null==lt?0:lt.length;for(un&&Hi&&(Ct=lt[++kn]);++kn<Hi;)Ct=Dt(Ct,lt[kn],kn,lt);return Ct}function px(lt,Dt,Ct,un){var kn=null==lt?0:lt.length;for(un&&kn&&(Ct=lt[--kn]);kn--;)Ct=Dt(Ct,lt[kn],kn,lt);return Ct}function $l(lt,Dt){for(var Ct=-1,un=null==lt?0:lt.length;++Ct<un;)if(Dt(lt[Ct],Ct,lt))return!0;return!1}var dM=By("length");function et(lt,Dt,Ct){var un;return Ct(lt,function(kn,Hi,to){if(Dt(kn,Hi,to))return un=Hi,!1}),un}function Of(lt,Dt,Ct,un){for(var kn=lt.length,Hi=Ct+(un?1:-1);un?Hi--:++Hi<kn;)if(Dt(lt[Hi],Hi,lt))return Hi;return-1}function jt(lt,Dt,Ct){return Dt==Dt?function vx(lt,Dt,Ct){for(var un=Ct-1,kn=lt.length;++un<kn;)if(lt[un]===Dt)return un;return-1}(lt,Dt,Ct):Of(lt,zm,Ct)}function Vm(lt,Dt,Ct,un){for(var kn=Ct-1,Hi=lt.length;++kn<Hi;)if(un(lt[kn],Dt))return kn;return-1}function zm(lt){return lt!=lt}function lh(lt,Dt){var Ct=null==lt?0:lt.length;return Ct?dh(lt,Dt)/Ct:NaN}function By(lt){return function(Dt){return null==Dt?A:Dt[lt]}}function jy(lt){return function(Dt){return null==lt?A:lt[Dt]}}function mx(lt,Dt,Ct,un,kn){return kn(lt,function(Hi,to,Ki){Ct=un?(un=!1,Hi):Dt(Ct,Hi,to,Ki)}),Ct}function dh(lt,Dt){for(var Ct,un=-1,kn=lt.length;++un<kn;){var Hi=Dt(lt[un]);Hi!==A&&(Ct=Ct===A?Hi:Ct+Hi)}return Ct}function ua(lt,Dt){for(var Ct=-1,un=Array(lt);++Ct<lt;)un[Ct]=Dt(Ct);return un}function ji(lt){return lt&&lt.slice(0,dn(lt)+1).replace(Et,"")}function Ws(lt){return function(Dt){return lt(Dt)}}function Rf(lt,Dt){return Fr(Dt,function(Ct){return lt[Ct]})}function uh(lt,Dt){return lt.has(Dt)}function Uy(lt,Dt){for(var Ct=-1,un=lt.length;++Ct<un&&jt(Dt,lt[Ct],0)>-1;);return Ct}function hh(lt,Dt){for(var Ct=lt.length;Ct--&&jt(Dt,lt[Ct],0)>-1;);return Ct}var _x=jy({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),hM=jy({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function yx(lt){return"\\"+sM[lt]}function fh(lt){return en.test(lt)}function Hm(lt){var Dt=-1,Ct=Array(lt.size);return lt.forEach(function(un,kn){Ct[++Dt]=[kn,un]}),Ct}function bx(lt,Dt){return function(Ct){return lt(Dt(Ct))}}function Yl(lt,Dt){for(var Ct=-1,un=lt.length,kn=0,Hi=[];++Ct<un;){var to=lt[Ct];(to===Dt||to===O)&&(lt[Ct]=O,Hi[kn++]=Ct)}return Hi}function Gm(lt){var Dt=-1,Ct=Array(lt.size);return lt.forEach(function(un){Ct[++Dt]=un}),Ct}function ph(lt){return fh(lt)?function yM(lt){for(var Dt=It.lastIndex=0;It.test(lt);)++Dt;return Dt}(lt):dM(lt)}function sc(lt){return fh(lt)?function on(lt){return lt.match(It)||[]}(lt):function Xl(lt){return lt.split("")}(lt)}function dn(lt){for(var Dt=lt.length;Dt--&&nn.test(lt.charAt(Dt)););return Dt}var _M=jy({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),yo=function lt(Dt){var u,Ct=(Dt=null==Dt?No:yo.defaults(No.Object(),Dt,yo.pick(No,oM))).Array,un=Dt.Date,kn=Dt.Error,Hi=Dt.Function,to=Dt.Math,Ki=Dt.Object,Vy=Dt.RegExp,bM=Dt.String,Ui=Dt.TypeError,tn=Ct.prototype,or=Ki.prototype,$s=Dt["__core-js_shared__"],bo=Hi.prototype.toString,bi=or.hasOwnProperty,mh=0,pr=(u=/[^.]+$/.exec($s&&$s.keys&&$s.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",Fo=or.toString,cl=bo.call(Ki),ii=No._,Pf=Vy("^"+bo.call(bi).replace(Ye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),kf=cM?Dt.Buffer:A,ha=Dt.Symbol,yr=Dt.Uint8Array,gh=kf?kf.allocUnsafe:A,ll=bx(Ki.getPrototypeOf,Ki),ac=Ki.create,_h=or.propertyIsEnumerable,Nf=tn.splice,dl=ha?ha.isConcatSpreadable:A,ql=ha?ha.iterator:A,fa=ha?ha.toStringTag:A,Zn=function(){try{var u=Th(Ki,"defineProperty");return u({},"",{}),u}catch{}}(),zy=Dt.clearTimeout!==No.clearTimeout&&Dt.clearTimeout,Ff=un&&un.now!==No.Date.now&&un.now,Oc=Dt.setTimeout!==No.setTimeout&&Dt.setTimeout,iu=to.ceil,ul=to.floor,zr=Ki.getOwnPropertySymbols,yh=kf?kf.isBuffer:A,Lo=Dt.isFinite,Bo=tn.join,Hy=bx(Ki.keys,Ki),Ar=to.max,vo=to.min,cc=un.now,Gy=Dt.parseInt,xx=to.random,vM=tn.reverse,Lf=Th(Dt,"DataView"),bh=Th(Dt,"Map"),Wy=Th(Dt,"Promise"),Kl=Th(Dt,"Set"),Wm=Th(Dt,"WeakMap"),$m=Th(Ki,"create"),$y=Wm&&new Wm,Bf={},R3=wl(Lf),P3=wl(bh),k3=wl(Wy),N3=wl(Kl),F3=wl(Wm),Xy=ha?ha.prototype:A,Xm=Xy?Xy.valueOf:A,wM=Xy?Xy.toString:A;function Re(u){if(Yr(u)&&!ai(u)&&!(u instanceof Ri)){if(u instanceof lc)return u;if(bi.call(u,"__wrapped__"))return wb(u)}return new lc(u)}var ru=function(){function u(){}return function(p){if(!Tr(p))return{};if(ac)return ac(p);u.prototype=p;var y=new u;return u.prototype=A,y}}();function Yy(){}function lc(u,p){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=A}function Ri(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function Ji(u){var p=-1,y=null==u?0:u.length;for(this.clear();++p<y;){var J=u[p];this.set(J[0],J[1])}}function hl(u){var p=-1,y=null==u?0:u.length;for(this.clear();++p<y;){var J=u[p];this.set(J[0],J[1])}}function Pc(u){var p=-1,y=null==u?0:u.length;for(this.clear();++p<y;){var J=u[p];this.set(J[0],J[1])}}function Qr(u){var p=-1,y=null==u?0:u.length;for(this.__data__=new Pc;++p<y;)this.add(u[p])}function us(u){var p=this.__data__=new hl(u);this.size=p.size}function Qy(u,p){var y=ai(u),J=!y&&hd(u),ve=!y&&!J&&Bc(u),je=!y&&!J&&!ve&&Su(u),rt=y||J||ve||je,ht=rt?ua(u.length,bM):[],yt=ht.length;for(var zt in u)(p||bi.call(u,zt))&&(!rt||!("length"==zt||ve&&("offset"==zt||"parent"==zt)||je&&("buffer"==zt||"byteLength"==zt||"byteOffset"==zt)||La(zt,yt)))&&ht.push(zt);return ht}function Ix(u){var p=u.length;return p?u[ab(0,p-1)]:A}function Dx(u,p){return yu(Qo(u),au(p,0,u.length))}function Ox(u){return yu(Qo(u))}function Vf(u,p,y){(y!==A&&!As(u[p],y)||y===A&&!(p in u))&&Jl(u,p,y)}function fl(u,p,y){var J=u[p];(!bi.call(u,p)||!As(J,y)||y===A&&!(p in u))&&Jl(u,p,y)}function su(u,p){for(var y=u.length;y--;)if(As(u[y][0],p))return y;return-1}function Zy(u,p,y,J){return Ql(u,function(ve,je,rt){p(J,ve,y(ve),rt)}),J}function Kn(u,p){return u&&hs(p,jo(p),u)}function Jl(u,p,y){"__proto__"==p&&Zn?Zn(u,p,{configurable:!0,enumerable:!0,value:y,writable:!0}):u[p]=y}function eb(u,p){for(var y=-1,J=p.length,ve=Ct(J),je=null==u;++y<J;)ve[y]=je?A:Jb(u,p[y]);return ve}function au(u,p,y){return u==u&&(y!==A&&(u=u<=y?u:y),p!==A&&(u=u>=p?u:p)),u}function Ra(u,p,y,J,ve,je){var rt,ht=1&p,yt=2&p,zt=4&p;if(y&&(rt=ve?y(u,J,ve,je):y(u)),rt!==A)return rt;if(!Tr(u))return u;var Ht=ai(u);if(Ht){if(rt=function HM(u){var p=u.length,y=new u.constructor(p);return p&&"string"==typeof u[0]&&bi.call(u,"index")&&(y.index=u.index,y.input=u.input),y}(u),!ht)return Qo(u,rt)}else{var Yt=Es(u),cn=Yt==Qe||Yt==de;if(Bc(u))return ng(u,ht);if(Yt==P||Yt==Je||cn&&!ve){if(rt=yt||cn?{}:oE(u),!ht)return yt?function Qx(u,p){return hs(u,gu(u),p)}(u,function Rx(u,p){return u&&hs(p,Js(p),u)}(rt,u)):function FM(u,p){return hs(u,Zf(u),p)}(u,Kn(rt,u))}else{if(!rr[Yt])return ve?u:{};rt=function GM(u,p,y){var J=u.constructor;switch(p){case me:return ig(u);case E:case ie:return new J(+u);case V:return function rg(u,p){var y=p?ig(u.buffer):u.buffer;return new u.constructor(y,u.byteOffset,u.byteLength)}(u,y);case te:case Le:case ct:case ft:case Mt:case xn:case ti:case si:case Fn:return hb(u,y);case ne:return new J;case U:case ut:return new J(u);case Ee:return function ub(u){var p=new u.constructor(u.source,_i.exec(u));return p.lastIndex=u.lastIndex,p}(u);case Oe:return new J;case St:return function NM(u){return Xm?Ki(Xm.call(u)):{}}(u)}}(u,Yt,ht)}}je||(je=new us);var Pn=je.get(u);if(Pn)return Pn;je.set(u,rt),Wb(u)?u.forEach(function(Wn){rt.add(Ra(Wn,p,y,Wn,u,je))}):jE(u)&&u.forEach(function(Wn,pi){rt.set(pi,Ra(Wn,p,y,pi,u,je))});var fi=Ht?A:(zt?yt?od:fs:yt?Js:jo)(u);return rc(fi||u,function(Wn,pi){fi&&(Wn=u[pi=Wn]),fl(rt,pi,Ra(Wn,p,y,pi,u,je))}),rt}function cu(u,p,y){var J=y.length;if(null==u)return!J;for(u=Ki(u);J--;){var ve=y[J],rt=u[ve];if(rt===A&&!(ve in u)||!(0,p[ve])(rt))return!1}return!0}function kx(u,p,y){if("function"!=typeof u)throw new Ui(_);return np(function(){u.apply(A,y)},p)}function zf(u,p,y,J){var ve=-1,je=ah,rt=!0,ht=u.length,yt=[],zt=p.length;if(!ht)return yt;y&&(p=Fr(p,Ws(y))),J?(je=ch,rt=!1):p.length>=200&&(je=uh,rt=!1,p=new Qr(p));e:for(;++ve<ht;){var Ht=u[ve],Yt=null==y?Ht:y(Ht);if(Ht=J||0!==Ht?Ht:0,rt&&Yt==Yt){for(var cn=zt;cn--;)if(p[cn]===Yt)continue e;yt.push(Ht)}else je(p,Yt,J)||yt.push(Ht)}return yt}Re.templateSettings={escape:mo,evaluate:ec,interpolate:Ic,variable:"",imports:{_:Re}},(Re.prototype=Yy.prototype).constructor=Re,(lc.prototype=ru(Yy.prototype)).constructor=lc,(Ri.prototype=ru(Yy.prototype)).constructor=Ri,Ji.prototype.clear=function Cx(){this.__data__=$m?$m(null):{},this.size=0},Ji.prototype.delete=function xM(u){var p=this.has(u)&&delete this.__data__[u];return this.size-=p?1:0,p},Ji.prototype.get=function EM(u){var p=this.__data__;if($m){var y=p[u];return y===N?A:y}return bi.call(p,u)?p[u]:A},Ji.prototype.has=function Sx(u){var p=this.__data__;return $m?p[u]!==A:bi.call(p,u)},Ji.prototype.set=function Ax(u,p){var y=this.__data__;return this.size+=this.has(u)?0:1,y[u]=$m&&p===A?N:p,this},hl.prototype.clear=function qy(){this.__data__=[],this.size=0},hl.prototype.delete=function CM(u){var p=this.__data__,y=su(p,u);return!(y<0||(y==p.length-1?p.pop():Nf.call(p,y,1),--this.size,0))},hl.prototype.get=function Rc(u){var p=this.__data__,y=su(p,u);return y<0?A:p[y][1]},hl.prototype.has=function Tx(u){return su(this.__data__,u)>-1},hl.prototype.set=function Mx(u,p){var y=this.__data__,J=su(y,u);return J<0?(++this.size,y.push([u,p])):y[J][1]=p,this},Pc.prototype.clear=function SM(){this.size=0,this.__data__={hash:new Ji,map:new(bh||hl),string:new Ji}},Pc.prototype.delete=function B3(u){var p=gb(this,u).delete(u);return this.size-=p?1:0,p},Pc.prototype.get=function br(u){return gb(this,u).get(u)},Pc.prototype.has=function Ky(u){return gb(this,u).has(u)},Pc.prototype.set=function jf(u,p){var y=gb(this,u),J=y.size;return y.set(u,p),this.size+=y.size==J?0:1,this},Qr.prototype.add=Qr.prototype.push=function AM(u){return this.__data__.set(u,N),this},Qr.prototype.has=function Uf(u){return this.__data__.has(u)},us.prototype.clear=function pa(){this.__data__=new hl,this.size=0},us.prototype.delete=function TM(u){var p=this.__data__,y=p.delete(u);return this.size=p.size,y},us.prototype.get=function Jy(u){return this.__data__.get(u)},us.prototype.has=function MM(u){return this.__data__.has(u)},us.prototype.set=function kc(u,p){var y=this.__data__;if(y instanceof hl){var J=y.__data__;if(!bh||J.length<199)return J.push([u,p]),this.size=++y.size,this;y=this.__data__=new Pc(J)}return y.set(u,p),this.size=y.size,this};var Ql=uu(Xs),Nx=uu(Pa,!0);function IM(u,p){var y=!0;return Ql(u,function(J,ve,je){return y=!!p(J,ve,je)}),y}function Nt(u,p,y){for(var J=-1,ve=u.length;++J<ve;){var je=u[J],rt=p(je);if(null!=rt&&(ht===A?rt==rt&&!Ts(rt):y(rt,ht)))var ht=rt,yt=je}return yt}function Fi(u,p){var y=[];return Ql(u,function(J,ve,je){p(J,ve,je)&&y.push(J)}),y}function Jn(u,p,y,J,ve){var je=-1,rt=u.length;for(y||(y=_b),ve||(ve=[]);++je<rt;){var ht=u[je];p>0&&y(ht)?p>1?Jn(ht,p-1,y,J,ve):Wl(ve,ht):J||(ve[ve.length]=ht)}return ve}var Qi=no(),tb=no(!0);function Xs(u,p){return u&&Qi(u,p,jo)}function Pa(u,p){return u&&tb(u,p,jo)}function vh(u,p){return Oa(p,function(y){return jc(u[y])})}function pl(u,p){for(var y=0,J=(p=td(p,u)).length;null!=u&&y<J;)u=u[ga(p[y++])];return y&&y==J?u:A}function Fx(u,p,y){var J=p(u);return ai(u)?J:Wl(J,y(u))}function Ys(u){return null==u?u===A?"[object Undefined]":"[object Null]":fa&&fa in Ki(u)?function ma(u){var p=bi.call(u,fa),y=u[fa];try{u[fa]=A;var J=!0}catch{}var ve=Fo.call(u);return J&&(p?u[fa]=y:delete u[fa]),ve}(u):function tp(u){return Fo.call(u)}(u)}function Ym(u,p){return u>p}function xs(u,p){return null!=u&&bi.call(u,p)}function ml(u,p){return null!=u&&p in Ki(u)}function ka(u,p,y){for(var J=y?ch:ah,ve=u[0].length,je=u.length,rt=je,ht=Ct(je),yt=1/0,zt=[];rt--;){var Ht=u[rt];rt&&p&&(Ht=Fr(Ht,Ws(p))),yt=vo(Ht.length,yt),ht[rt]=!y&&(p||ve>=120&&Ht.length>=120)?new Qr(rt&&Ht):A}Ht=u[0];var Yt=-1,cn=ht[0];e:for(;++Yt<ve&&zt.length<yt;){var Pn=Ht[Yt],Xn=p?p(Pn):Pn;if(Pn=y||0!==Pn?Pn:0,!(cn?uh(cn,Xn):J(zt,Xn,y))){for(rt=je;--rt;){var fi=ht[rt];if(!(fi?uh(fi,Xn):J(u[rt],Xn,y)))continue e}cn&&cn.push(Xn),zt.push(Pn)}}return zt}function Hf(u,p,y){var J=null==(u=KM(u,p=td(p,u)))?u:u[ga(ja(p))];return null==J?A:Da(J,u,y)}function nb(u){return Yr(u)&&Ys(u)==Je}function lu(u,p,y,J,ve){return u===p||(null==u||null==p||!Yr(u)&&!Yr(p)?u!=u&&p!=p:function ib(u,p,y,J,ve,je){var rt=ai(u),ht=ai(p),yt=rt?pe:Es(u),zt=ht?pe:Es(p),Ht=(yt=yt==Je?P:yt)==P,Yt=(zt=zt==Je?P:zt)==P,cn=yt==zt;if(cn&&Bc(u)){if(!Bc(p))return!1;rt=!0,Ht=!1}if(cn&&!Ht)return je||(je=new us),rt||Su(u)?io(u,p,y,J,ve,je):function VM(u,p,y,J,ve,je,rt){switch(y){case V:if(u.byteLength!=p.byteLength||u.byteOffset!=p.byteOffset)return!1;u=u.buffer,p=p.buffer;case me:return!(u.byteLength!=p.byteLength||!je(new yr(u),new yr(p)));case E:case ie:case U:return As(+u,+p);case He:return u.name==p.name&&u.message==p.message;case Ee:case ut:return u==p+"";case ne:var ht=Hm;case Oe:if(ht||(ht=Gm),u.size!=p.size&&!(1&J))return!1;var zt=rt.get(u);if(zt)return zt==p;J|=2,rt.set(u,p);var Ht=io(ht(u),ht(p),J,ve,je,rt);return rt.delete(u),Ht;case St:if(Xm)return Xm.call(u)==Xm.call(p)}return!1}(u,p,yt,y,J,ve,je);if(!(1&y)){var Pn=Ht&&bi.call(u,"__wrapped__"),Xn=Yt&&bi.call(p,"__wrapped__");if(Pn||Xn){var fi=Pn?u.value():u,Wn=Xn?p.value():p;return je||(je=new us),ve(fi,Wn,y,J,je)}}return!!cn&&(je||(je=new us),function Qf(u,p,y,J,ve,je){var rt=1&y,ht=fs(u),yt=ht.length;if(yt!=fs(p).length&&!rt)return!1;for(var Yt=yt;Yt--;){var cn=ht[Yt];if(!(rt?cn in p:bi.call(p,cn)))return!1}var Pn=je.get(u),Xn=je.get(p);if(Pn&&Xn)return Pn==p&&Xn==u;var fi=!0;je.set(u,p),je.set(p,u);for(var Wn=rt;++Yt<yt;){var pi=u[cn=ht[Yt]],Li=p[cn];if(J)var Qs=rt?J(Li,pi,cn,p,u,je):J(pi,Li,cn,u,p,je);if(!(Qs===A?pi===Li||ve(pi,Li,y,J,je):Qs)){fi=!1;break}Wn||(Wn="constructor"==cn)}if(fi&&!Wn){var xo=u.constructor,va=p.constructor;xo!=va&&"constructor"in u&&"constructor"in p&&!("function"==typeof xo&&xo instanceof xo&&"function"==typeof va&&va instanceof va)&&(fi=!1)}return je.delete(u),je.delete(p),fi}(u,p,y,J,ve,je))}(u,p,y,J,lu,ve))}function Gf(u,p,y,J){var ve=y.length,je=ve,rt=!J;if(null==u)return!je;for(u=Ki(u);ve--;){var ht=y[ve];if(rt&&ht[2]?ht[1]!==u[ht[0]]:!(ht[0]in u))return!1}for(;++ve<je;){var yt=(ht=y[ve])[0],zt=u[yt],Ht=ht[1];if(rt&&ht[2]){if(zt===A&&!(yt in u))return!1}else{var Yt=new us;if(J)var cn=J(zt,Ht,yt,u,p,Yt);if(!(cn===A?lu(Ht,zt,3,J,Yt):cn))return!1}}return!0}function jx(u){return!(!Tr(u)||function XM(u){return!!pr&&pr in u}(u))&&(jc(u)?Pf:Bt).test(wl(u))}function ob(u){return"function"==typeof u?u:null==u?Zo:"object"==typeof u?ai(u)?Zl(u[0],u[1]):Jo(u):hC(u)}function qm(u){if(!_u(u))return Hy(u);var p=[];for(var y in Ki(u))bi.call(u,y)&&"constructor"!=y&&p.push(y);return p}function Wf(u,p){return u<p}function Hx(u,p){var y=-1,J=wo(u)?Ct(u.length):[];return Ql(u,function(ve,je,rt){J[++y]=p(ve,je,rt)}),J}function Jo(u){var p=sg(u);return 1==p.length&&p[0][2]?yb(p[0][0],p[0][1]):function(y){return y===u||Gf(y,u,p)}}function Zl(u,p){return sd(u)&&ep(p)?yb(ga(u),p):function(y){var J=Jb(y,u);return J===A&&J===p?Qb(y,u):lu(p,J,3)}}function lr(u,p,y,J,ve){u!==p&&Qi(p,function(je,rt){if(ve||(ve=new us),Tr(je))!function wh(u,p,y,J,ve,je,rt){var ht=bb(u,y),yt=bb(p,y),zt=rt.get(yt);if(zt)Vf(u,y,zt);else{var Ht=je?je(ht,yt,y+"",u,p,rt):A,Yt=Ht===A;if(Yt){var cn=ai(yt),Pn=!cn&&Bc(yt),Xn=!cn&&!Pn&&Su(yt);Ht=yt,cn||Pn||Xn?ai(ht)?Ht=ht:Lr(ht)?Ht=Qo(ht):Pn?(Yt=!1,Ht=ng(yt,!0)):Xn?(Yt=!1,Ht=hb(yt,!0)):Ht=[]:fd(yt)||hd(yt)?(Ht=ht,hd(ht)?Ht=$E(ht):(!Tr(ht)||jc(ht))&&(Ht=oE(yt))):Yt=!1}Yt&&(rt.set(yt,Ht),ve(Ht,yt,J,je,rt),rt.delete(yt)),Vf(u,y,Ht)}}(u,p,rt,y,lr,J,ve);else{var ht=J?J(bb(u,rt),je,rt+"",u,p,ve):A;ht===A&&(ht=je),Vf(u,rt,ht)}},Js)}function Gx(u,p){var y=u.length;if(y)return La(p+=p<0?y:0,y)?u[p]:A}function Km(u,p,y){p=p.length?Fr(p,function(je){return ai(je)?function(rt){return pl(rt,1===je.length?je[0]:je)}:je}):[Zo];var J=-1;return p=Fr(p,Ws(Un())),function al(lt,Dt){var Ct=lt.length;for(lt.sort(Dt);Ct--;)lt[Ct]=lt[Ct].value;return lt}(Hx(u,function(je,rt,ht){return{criteria:Fr(p,function(zt){return zt(je)}),index:++J,value:je}}),function(je,rt){return function Kx(u,p,y){for(var J=-1,ve=u.criteria,je=p.criteria,rt=ve.length,ht=y.length;++J<rt;){var yt=fb(ve[J],je[J]);if(yt)return J>=ht?yt:yt*("desc"==y[J]?-1:1)}return u.index-p.index}(je,rt,y)})}function sb(u,p,y){for(var J=-1,ve=p.length,je={};++J<ve;){var rt=p[J],ht=pl(u,rt);y(ht,rt)&&Ch(je,td(rt,u),ht)}return je}function xh(u,p,y,J){var ve=J?Vm:jt,je=-1,rt=p.length,ht=u;for(u===p&&(p=Qo(p)),y&&(ht=Fr(u,Ws(y)));++je<rt;)for(var yt=0,zt=p[je],Ht=y?y(zt):zt;(yt=ve(ht,Ht,yt,J))>-1;)ht!==u&&Nf.call(ht,yt,1),Nf.call(u,yt,1);return u}function _l(u,p){for(var y=u?p.length:0,J=y-1;y--;){var ve=p[y];if(y==J||ve!==je){var je=ve;La(ve)?Nf.call(u,ve,1):du(u,ve)}}return u}function ab(u,p){return u+ul(xx()*(p-u+1))}function Eh(u,p){var y="";if(!u||p<1||p>ze)return y;do{p%2&&(y+=u),(p=ul(p/2))&&(u+=u)}while(p);return y}function li(u,p){return vb(aE(u,p,Zo),u+"")}function cb(u){return Ix(fp(u))}function $x(u,p){var y=fp(u);return yu(y,au(p,0,y.length))}function Ch(u,p,y,J){if(!Tr(u))return u;for(var ve=-1,je=(p=td(p,u)).length,rt=je-1,ht=u;null!=ht&&++ve<je;){var yt=ga(p[ve]),zt=y;if("__proto__"===yt||"constructor"===yt||"prototype"===yt)return u;if(ve!=rt){var Ht=ht[yt];(zt=J?J(Ht,yt,ht):A)===A&&(zt=Tr(Ht)?Ht:La(p[ve+1])?[]:{})}fl(ht,yt,zt),ht=ht[yt]}return u}var Xx=$y?function(u,p){return $y.set(u,p),u}:Zo,Sh=Zn?function(u,p){return Zn(u,"toString",{configurable:!0,enumerable:!1,value:Bh(p),writable:!0})}:Zo;function $f(u){return yu(fp(u))}function Na(u,p,y){var J=-1,ve=u.length;p<0&&(p=-p>ve?0:ve+p),(y=y>ve?ve:y)<0&&(y+=ve),ve=p>y?0:y-p>>>0,p>>>=0;for(var je=Ct(ve);++J<ve;)je[J]=u[J+p];return je}function lb(u,p){var y;return Ql(u,function(J,ve,je){return!(y=p(J,ve,je))}),!!y}function Qm(u,p,y){var J=0,ve=null==u?J:u.length;if("number"==typeof p&&p==p&&ve<=2147483647){for(;J<ve;){var je=J+ve>>>1,rt=u[je];null!==rt&&!Ts(rt)&&(y?rt<=p:rt<p)?J=je+1:ve=je}return ve}return db(u,p,Zo,y)}function db(u,p,y,J){var ve=0,je=null==u?0:u.length;if(0===je)return 0;for(var rt=(p=y(p))!=p,ht=null===p,yt=Ts(p),zt=p===A;ve<je;){var Ht=ul((ve+je)/2),Yt=y(u[Ht]),cn=Yt!==A,Pn=null===Yt,Xn=Yt==Yt,fi=Ts(Yt);if(rt)var Wn=J||Xn;else Wn=zt?Xn&&(J||cn):ht?Xn&&cn&&(J||!Pn):yt?Xn&&cn&&!Pn&&(J||!fi):!Pn&&!fi&&(J?Yt<=p:Yt<p);Wn?ve=Ht+1:je=Ht}return vo(je,4294967294)}function Yx(u,p){for(var y=-1,J=u.length,ve=0,je=[];++y<J;){var rt=u[y],ht=p?p(rt):rt;if(!y||!As(ht,yt)){var yt=ht;je[ve++]=0===rt?0:rt}}return je}function PM(u){return"number"==typeof u?u:Ts(u)?NaN:+u}function Fa(u){if("string"==typeof u)return u;if(ai(u))return Fr(u,Fa)+"";if(Ts(u))return wM?wM.call(u):"";var p=u+"";return"0"==p&&1/u==-Ae?"-0":p}function Nc(u,p,y){var J=-1,ve=ah,je=u.length,rt=!0,ht=[],yt=ht;if(y)rt=!1,ve=ch;else if(je>=200){var zt=p?null:U3(u);if(zt)return Gm(zt);rt=!1,ve=uh,yt=new Qr}else yt=p?[]:ht;e:for(;++J<je;){var Ht=u[J],Yt=p?p(Ht):Ht;if(Ht=y||0!==Ht?Ht:0,rt&&Yt==Yt){for(var cn=yt.length;cn--;)if(yt[cn]===Yt)continue e;p&&yt.push(Yt),ht.push(Ht)}else ve(yt,Yt,y)||(yt!==ht&&yt.push(Yt),ht.push(Ht))}return ht}function du(u,p){return null==(u=KM(u,p=td(p,u)))||delete u[ga(ja(p))]}function qx(u,p,y,J){return Ch(u,p,y(pl(u,p)),J)}function ed(u,p,y,J){for(var ve=u.length,je=J?ve:-1;(J?je--:++je<ve)&&p(u[je],je,u););return y?Na(u,J?0:je,J?je+1:ve):Na(u,J?je+1:0,J?ve:je)}function Zm(u,p){var y=u;return y instanceof Ri&&(y=y.value()),Ly(p,function(J,ve){return ve.func.apply(ve.thisArg,Wl([J],ve.args))},y)}function Ah(u,p,y){var J=u.length;if(J<2)return J?Nc(u[0]):[];for(var ve=-1,je=Ct(J);++ve<J;)for(var rt=u[ve],ht=-1;++ht<J;)ht!=ve&&(je[ve]=zf(je[ve]||rt,u[ht],p,y));return Nc(Jn(je,1),p,y)}function kM(u,p,y){for(var J=-1,ve=u.length,je=p.length,rt={};++J<ve;)y(rt,u[J],J<je?p[J]:A);return rt}function eg(u){return Lr(u)?u:[]}function tg(u){return"function"==typeof u?u:Zo}function td(u,p){return ai(u)?u:sd(u,p)?[u]:ag(Zi(u))}var Fc=li;function nd(u,p,y){var J=u.length;return y=y===A?J:y,!p&&y>=J?u:Na(u,p,y)}var Xf=zy||function(u){return No.clearTimeout(u)};function ng(u,p){if(p)return u.slice();var y=u.length,J=gh?gh(y):new u.constructor(y);return u.copy(J),J}function ig(u){var p=new u.constructor(u.byteLength);return new yr(p).set(new yr(u)),p}function hb(u,p){var y=p?ig(u.buffer):u.buffer;return new u.constructor(y,u.byteOffset,u.length)}function fb(u,p){if(u!==p){var y=u!==A,J=null===u,ve=u==u,je=Ts(u),rt=p!==A,ht=null===p,yt=p==p,zt=Ts(p);if(!ht&&!zt&&!je&&u>p||je&&rt&&yt&&!ht&&!zt||J&&rt&&yt||!y&&yt||!ve)return 1;if(!J&&!je&&!zt&&u<p||zt&&y&&ve&&!J&&!je||ht&&y&&ve||!rt&&ve||!yt)return-1}return 0}function pb(u,p,y,J){for(var ve=-1,je=u.length,rt=y.length,ht=-1,yt=p.length,zt=Ar(je-rt,0),Ht=Ct(yt+zt),Yt=!J;++ht<yt;)Ht[ht]=p[ht];for(;++ve<rt;)(Yt||ve<je)&&(Ht[y[ve]]=u[ve]);for(;zt--;)Ht[ht++]=u[ve++];return Ht}function Jx(u,p,y,J){for(var ve=-1,je=u.length,rt=-1,ht=y.length,yt=-1,zt=p.length,Ht=Ar(je-ht,0),Yt=Ct(Ht+zt),cn=!J;++ve<Ht;)Yt[ve]=u[ve];for(var Pn=ve;++yt<zt;)Yt[Pn+yt]=p[yt];for(;++rt<ht;)(cn||ve<je)&&(Yt[Pn+y[rt]]=u[ve++]);return Yt}function Qo(u,p){var y=-1,J=u.length;for(p||(p=Ct(J));++y<J;)p[y]=u[y];return p}function hs(u,p,y,J){var ve=!y;y||(y={});for(var je=-1,rt=p.length;++je<rt;){var ht=p[je],yt=J?J(y[ht],u[ht],ht,y,u):A;yt===A&&(yt=u[ht]),ve?Jl(y,ht,yt):fl(y,ht,yt)}return y}function Yf(u,p){return function(y,J){var ve=ai(y)?D3:Zy,je=p?p():{};return ve(y,u,Un(J,2),je)}}function dc(u){return li(function(p,y){var J=-1,ve=y.length,je=ve>1?y[ve-1]:A,rt=ve>2?y[2]:A;for(je=u.length>3&&"function"==typeof je?(ve--,je):A,rt&&Cs(y[0],y[1],rt)&&(je=ve<3?A:je,ve=1),p=Ki(p);++J<ve;){var ht=y[J];ht&&u(p,ht,J,je)}return p})}function uu(u,p){return function(y,J){if(null==y)return y;if(!wo(y))return u(y,J);for(var ve=y.length,je=p?ve:-1,rt=Ki(y);(p?je--:++je<ve)&&!1!==J(rt[je],je,rt););return y}}function no(u){return function(p,y,J){for(var ve=-1,je=Ki(p),rt=J(p),ht=rt.length;ht--;){var yt=rt[u?ht:++ve];if(!1===y(je[yt],yt,je))break}return p}}function Gi(u){return function(p){var y=fh(p=Zi(p))?sc(p):A,J=y?y[0]:p.charAt(0),ve=y?nd(y,1).join(""):p.slice(1);return J[u]()+ve}}function id(u){return function(p){return Ly(Tg(rC(p).replace(T3,"")),u,"")}}function qf(u){return function(){var p=arguments;switch(p.length){case 0:return new u;case 1:return new u(p[0]);case 2:return new u(p[0],p[1]);case 3:return new u(p[0],p[1],p[2]);case 4:return new u(p[0],p[1],p[2],p[3]);case 5:return new u(p[0],p[1],p[2],p[3],p[4]);case 6:return new u(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new u(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var y=ru(u.prototype),J=u.apply(y,p);return Tr(J)?J:y}}function qs(u){return function(p,y,J){var ve=Ki(p);if(!wo(p)){var je=Un(y,3);p=jo(p),y=function(ht){return je(ve[ht],ht,ve)}}var rt=u(p,y,J);return rt>-1?ve[je?p[rt]:rt]:A}}function hu(u){return vl(function(p){var y=p.length,J=y,ve=lc.prototype.thru;for(u&&p.reverse();J--;){var je=p[J];if("function"!=typeof je)throw new Ui(_);if(ve&&!rt&&"wrapper"==mu(je))var rt=new lc([],!0)}for(J=rt?J:y;++J<y;){var ht=mu(je=p[J]),yt="wrapper"==ht?og(je):A;rt=yt&&Mh(yt[0])&&424==yt[1]&&!yt[4].length&&1==yt[9]?rt[mu(yt[0])].apply(rt,yt[3]):1==je.length&&Mh(je)?rt[ht]():rt.thru(je)}return function(){var zt=arguments,Ht=zt[0];if(rt&&1==zt.length&&ai(Ht))return rt.plant(Ht).value();for(var Yt=0,cn=y?p[Yt].apply(this,zt):Ht;++Yt<y;)cn=p[Yt].call(this,cn);return cn}})}function yl(u,p,y,J,ve,je,rt,ht,yt,zt){var Ht=p&T,Yt=1&p,cn=2&p,Pn=24&p,Xn=512&p,fi=cn?A:qf(u);return function Wn(){for(var pi=arguments.length,Li=Ct(pi),Qs=pi;Qs--;)Li[Qs]=arguments[Qs];if(Pn)var xo=Lc(Wn),va=function gx(lt,Dt){for(var Ct=lt.length,un=0;Ct--;)lt[Ct]===Dt&&++un;return un}(Li,xo);if(J&&(Li=pb(Li,J,ve,Pn)),je&&(Li=Jx(Li,je,rt,Pn)),pi-=va,Pn&&pi<zt){var Mr=Yl(Li,xo);return BM(u,p,yl,Wn.placeholder,y,Li,Mr,ht,yt,zt-pi)}var Ua=Yt?y:this,zc=cn?Ua[u]:u;return pi=Li.length,ht?Li=function cE(u,p){for(var y=u.length,J=vo(p.length,y),ve=Qo(u);J--;){var je=p[J];u[J]=La(je,y)?ve[je]:A}return u}(Li,ht):Xn&&pi>1&&Li.reverse(),Ht&&yt<pi&&(Li.length=yt),this&&this!==No&&this instanceof Wn&&(zc=fi||qf(zc)),zc.apply(Ua,Li)}}function fu(u,p){return function(y,J){return function gl(u,p,y,J){return Xs(u,function(ve,je,rt){p(J,y(ve),je,rt)}),J}(y,u,p(J),{})}}function Kf(u,p){return function(y,J){var ve;if(y===A&&J===A)return p;if(y!==A&&(ve=y),J!==A){if(ve===A)return J;"string"==typeof y||"string"==typeof J?(y=Fa(y),J=Fa(J)):(y=PM(y),J=PM(J)),ve=u(y,J)}return ve}}function Jf(u){return vl(function(p){return p=Fr(p,Ws(Un())),li(function(y){var J=this;return u(p,function(ve){return Da(ve,J,y)})})})}function bl(u,p){var y=(p=p===A?" ":Fa(p)).length;if(y<2)return y?Eh(p,u):p;var J=Eh(p,iu(u/ph(p)));return fh(p)?nd(sc(J),0,u).join(""):J.slice(0,u)}function eE(u){return function(p,y,J){return J&&"number"!=typeof J&&Cs(p,y,J)&&(y=J=A),p=uc(p),y===A?(y=p,p=0):y=uc(y),function Jm(u,p,y,J){for(var ve=-1,je=Ar(iu((p-u)/(y||1)),0),rt=Ct(je);je--;)rt[J?je:++ve]=u,u+=y;return rt}(p,y,J=J===A?p<y?1:-1:uc(J),u)}}function mb(u){return function(p,y){return"string"==typeof p&&"string"==typeof y||(p=ya(p),y=ya(y)),u(p,y)}}function BM(u,p,y,J,ve,je,rt,ht,yt,zt){var Ht=8&p;p|=Ht?b:64,4&(p&=~(Ht?64:b))||(p&=-4);var fi=[u,p,ve,Ht?je:A,Ht?rt:A,Ht?A:je,Ht?A:rt,ht,yt,zt],Wn=y.apply(A,fi);return Mh(u)&&JM(Wn,fi),Wn.placeholder=J,lE(Wn,u,p)}function tE(u){var p=to[u];return function(y,J){if(y=ya(y),(J=null==J?0:vo(ri(J),292))&&Lo(y)){var ve=(Zi(y)+"e").split("e");return+((ve=(Zi(p(ve[0]+"e"+(+ve[1]+J)))+"e").split("e"))[0]+"e"+(+ve[1]-J))}return p(y)}}var U3=Kl&&1/Gm(new Kl([,-0]))[1]==Ae?function(u){return new Kl(u)}:yp;function jM(u){return function(p){var y=Es(p);return y==ne?Hm(p):y==Oe?function mM(lt){var Dt=-1,Ct=Array(lt.size);return lt.forEach(function(un){Ct[++Dt]=[un,un]}),Ct}(p):function Dc(lt,Dt){return Fr(Dt,function(Ct){return[Ct,lt[Ct]]})}(p,u(p))}}function rd(u,p,y,J,ve,je,rt,ht){var yt=2&p;if(!yt&&"function"!=typeof u)throw new Ui(_);var zt=J?J.length:0;if(zt||(p&=-97,J=ve=A),rt=rt===A?rt:Ar(ri(rt),0),ht=ht===A?ht:ri(ht),zt-=ve?ve.length:0,64&p){var Ht=J,Yt=ve;J=ve=A}var cn=yt?A:og(u),Pn=[u,p,y,J,ve,Ht,Yt,je,rt,ht];if(cn&&function qM(u,p){var y=u[1],J=p[1],ve=y|J;if(!(ve<131)&&!(J==T&&8==y||J==T&&256==y&&u[7].length<=p[8]||384==J&&p[7].length<=p[8]&&8==y))return u;1&J&&(u[2]=p[2],ve|=1&y?0:4);var ht=p[3];if(ht){var yt=u[3];u[3]=yt?pb(yt,ht,p[4]):ht,u[4]=yt?Yl(u[3],O):p[4]}(ht=p[5])&&(u[5]=(yt=u[5])?Jx(yt,ht,p[6]):ht,u[6]=yt?Yl(u[5],O):p[6]),(ht=p[7])&&(u[7]=ht),J&T&&(u[8]=null==u[8]?p[8]:vo(u[8],p[8])),null==u[9]&&(u[9]=p[9]),u[0]=p[0],u[1]=ve}(Pn,cn),u=Pn[0],p=Pn[1],y=Pn[2],J=Pn[3],ve=Pn[4],!(ht=Pn[9]=Pn[9]===A?yt?0:u.length:Ar(Pn[9]-zt,0))&&24&p&&(p&=-25),p&&1!=p)Xn=8==p||16==p?function Zx(u,p,y){var J=qf(u);return function ve(){for(var je=arguments.length,rt=Ct(je),ht=je,yt=Lc(ve);ht--;)rt[ht]=arguments[ht];var zt=je<3&&rt[0]!==yt&&rt[je-1]!==yt?[]:Yl(rt,yt);return(je-=zt.length)<y?BM(u,p,yl,ve.placeholder,A,rt,zt,A,A,y-je):Da(this&&this!==No&&this instanceof ve?J:u,this,rt)}}(u,p,ht):p!=b&&33!=p||ve.length?yl.apply(A,Pn):function j3(u,p,y,J){var ve=1&p,je=qf(u);return function rt(){for(var ht=-1,yt=arguments.length,zt=-1,Ht=J.length,Yt=Ct(Ht+yt),cn=this&&this!==No&&this instanceof rt?je:u;++zt<Ht;)Yt[zt]=J[zt];for(;yt--;)Yt[zt++]=arguments[++ht];return Da(cn,ve?y:this,Yt)}}(u,p,y,J);else var Xn=function LM(u,p,y){var J=1&p,ve=qf(u);return function je(){return(this&&this!==No&&this instanceof je?ve:u).apply(J?y:this,arguments)}}(u,p,y);return lE((cn?Xx:JM)(Xn,Pn),u,p)}function pu(u,p,y,J){return u===A||As(u,or[y])&&!bi.call(J,y)?p:u}function nE(u,p,y,J,ve,je){return Tr(u)&&Tr(p)&&(je.set(p,u),lr(u,p,A,nE,je),je.delete(p)),u}function UM(u){return fd(u)?A:u}function io(u,p,y,J,ve,je){var rt=1&y,ht=u.length,yt=p.length;if(ht!=yt&&!(rt&&yt>ht))return!1;var zt=je.get(u),Ht=je.get(p);if(zt&&Ht)return zt==p&&Ht==u;var Yt=-1,cn=!0,Pn=2&y?new Qr:A;for(je.set(u,p),je.set(p,u);++Yt<ht;){var Xn=u[Yt],fi=p[Yt];if(J)var Wn=rt?J(fi,Xn,Yt,p,u,je):J(Xn,fi,Yt,u,p,je);if(Wn!==A){if(Wn)continue;cn=!1;break}if(Pn){if(!$l(p,function(pi,Li){if(!uh(Pn,Li)&&(Xn===pi||ve(Xn,pi,y,J,je)))return Pn.push(Li)})){cn=!1;break}}else if(Xn!==fi&&!ve(Xn,fi,y,J,je)){cn=!1;break}}return je.delete(u),je.delete(p),cn}function vl(u){return vb(aE(u,A,lg),u+"")}function fs(u){return Fx(u,jo,Zf)}function od(u){return Fx(u,Js,gu)}var og=$y?function(u){return $y.get(u)}:yp;function mu(u){for(var p=u.name+"",y=Bf[p],J=bi.call(Bf,p)?y.length:0;J--;){var ve=y[J],je=ve.func;if(null==je||je==u)return ve.name}return p}function Lc(u){return(bi.call(Re,"placeholder")?Re:u).placeholder}function Un(){var u=Re.iteratee||lC;return u=u===lC?ob:u,arguments.length?u(arguments[0],arguments[1]):u}function gb(u,p){var y=u.__data__;return function $M(u){var p=typeof u;return"string"==p||"number"==p||"symbol"==p||"boolean"==p?"__proto__"!==u:null===u}(p)?y["string"==typeof p?"string":"hash"]:y.map}function sg(u){for(var p=jo(u),y=p.length;y--;){var J=p[y],ve=u[J];p[y]=[J,ve,ep(ve)]}return p}function Th(u,p){var y=function fM(lt,Dt){return null==lt?A:lt[Dt]}(u,p);return jx(y)?y:A}var Zf=zr?function(u){return null==u?[]:(u=Ki(u),Oa(zr(u),function(p){return _h.call(u,p)}))}:Ig,gu=zr?function(u){for(var p=[];u;)Wl(p,Zf(u)),u=ll(u);return p}:Ig,Es=Ys;function rE(u,p,y){for(var J=-1,ve=(p=td(p,u)).length,je=!1;++J<ve;){var rt=ga(p[J]);if(!(je=null!=u&&y(u,rt)))break;u=u[rt]}return je||++J!=ve?je:!!(ve=null==u?0:u.length)&&Eu(ve)&&La(rt,ve)&&(ai(u)||hd(u))}function oE(u){return"function"!=typeof u.constructor||_u(u)?{}:ru(ll(u))}function _b(u){return ai(u)||hd(u)||!!(dl&&u&&u[dl])}function La(u,p){var y=typeof u;return!!(p=p??ze)&&("number"==y||"symbol"!=y&&go.test(u))&&u>-1&&u%1==0&&u<p}function Cs(u,p,y){if(!Tr(y))return!1;var J=typeof p;return!!("number"==J?wo(y)&&La(p,y.length):"string"==J&&p in y)&&As(y[p],u)}function sd(u,p){if(ai(u))return!1;var y=typeof u;return!("number"!=y&&"symbol"!=y&&"boolean"!=y&&null!=u&&!Ts(u))||tc.test(u)||!Hl.test(u)||null!=p&&u in Ki(p)}function Mh(u){var p=mu(u),y=Re[p];if("function"!=typeof y||!(p in Ri.prototype))return!1;if(u===y)return!0;var J=og(y);return!!J&&u===J[0]}(Lf&&Es(new Lf(new ArrayBuffer(1)))!=V||bh&&Es(new bh)!=ne||Wy&&Es(Wy.resolve())!=he||Kl&&Es(new Kl)!=Oe||Wm&&Es(new Wm)!=mt)&&(Es=function(u){var p=Ys(u),y=p==P?u.constructor:A,J=y?wl(y):"";if(J)switch(J){case R3:return V;case P3:return ne;case k3:return he;case N3:return Oe;case F3:return mt}return p});var sE=$s?jc:bp;function _u(u){var p=u&&u.constructor;return u===("function"==typeof p&&p.prototype||or)}function ep(u){return u==u&&!Tr(u)}function yb(u,p){return function(y){return null!=y&&y[u]===p&&(p!==A||u in Ki(y))}}function aE(u,p,y){return p=Ar(p===A?u.length-1:p,0),function(){for(var J=arguments,ve=-1,je=Ar(J.length-p,0),rt=Ct(je);++ve<je;)rt[ve]=J[p+ve];ve=-1;for(var ht=Ct(p+1);++ve<p;)ht[ve]=J[ve];return ht[p]=y(rt),Da(u,this,ht)}}function KM(u,p){return p.length<2?u:pl(u,Na(p,0,-1))}function bb(u,p){if(("constructor"!==p||"function"!=typeof u[p])&&"__proto__"!=p)return u[p]}var JM=ad(Xx),np=Oc||function(u,p){return No.setTimeout(u,p)},vb=ad(Sh);function lE(u,p,y){var J=p+"";return vb(u,function WM(u,p){var y=p.length;if(!y)return u;var J=y-1;return p[J]=(y>1?"& ":"")+p[J],p=p.join(y>2?", ":" "),u.replace(En,"{\n/* [wrapped with "+p+"] */\n")}(J,function QM(u,p){return rc(vt,function(y){var J="_."+y[0];p&y[1]&&!ah(u,J)&&u.push(J)}),u.sort()}(function zM(u){var p=u.match(Pr);return p?p[1].split(Po):[]}(J),y)))}function ad(u){var p=0,y=0;return function(){var J=cc(),ve=16-(J-y);if(y=J,ve>0){if(++p>=800)return arguments[0]}else p=0;return u.apply(A,arguments)}}function yu(u,p){var y=-1,J=u.length,ve=J-1;for(p=p===A?J:p;++y<p;){var je=ab(y,ve),rt=u[je];u[je]=u[y],u[y]=rt}return u.length=p,u}var ag=function YM(u){var p=kh(u,function(J){return 500===y.size&&y.clear(),J}),y=p.cache;return p}(function(u){var p=[];return 46===u.charCodeAt(0)&&p.push(""),u.replace(cs,function(y,J,ve,je){p.push(ve?je.replace(hr,"$1"):J||y)}),p});function ga(u){if("string"==typeof u||Ts(u))return u;var p=u+"";return"0"==p&&1/u==-Ae?"-0":p}function wl(u){if(null!=u){try{return bo.call(u)}catch{}try{return u+""}catch{}}return""}function wb(u){if(u instanceof Ri)return u.clone();var p=new lc(u.__wrapped__,u.__chain__);return p.__actions__=Qo(u.__actions__),p.__index__=u.__index__,p.__values__=u.__values__,p}var xb=li(function(u,p){return Lr(u)?zf(u,Jn(p,1,Lr,!0)):[]}),ZM=li(function(u,p){var y=ja(p);return Lr(y)&&(y=A),Lr(u)?zf(u,Jn(p,1,Lr,!0),Un(y,2)):[]}),Eb=li(function(u,p){var y=ja(p);return Lr(y)&&(y=A),Lr(u)?zf(u,Jn(p,1,Lr,!0),A,y):[]});function ip(u,p,y){var J=null==u?0:u.length;if(!J)return-1;var ve=null==y?0:ri(y);return ve<0&&(ve=Ar(J+ve,0)),Of(u,Un(p,3),ve)}function fE(u,p,y){var J=null==u?0:u.length;if(!J)return-1;var ve=J-1;return y!==A&&(ve=ri(y),ve=y<0?Ar(J+ve,0):vo(ve,J-1)),Of(u,Un(p,3),ve,!0)}function lg(u){return null!=u&&u.length?Jn(u,1):[]}function ug(u){return u&&u.length?u[0]:A}var pE=li(function(u){var p=Fr(u,eg);return p.length&&p[0]===u[0]?ka(p):[]}),Oh=li(function(u){var p=ja(u),y=Fr(u,eg);return p===ja(y)?p=A:y.pop(),y.length&&y[0]===u[0]?ka(y,Un(p,2)):[]}),iI=li(function(u){var p=ja(u),y=Fr(u,eg);return(p="function"==typeof p?p:A)&&y.pop(),y.length&&y[0]===u[0]?ka(y,A,p):[]});function ja(u){var p=null==u?0:u.length;return p?u[p-1]:A}var Ab=li(Tb);function Tb(u,p){return u&&u.length&&p&&p.length?xh(u,p):u}var mE=vl(function(u,p){var y=null==u?0:u.length,J=eb(u,p);return _l(u,Fr(p,function(ve){return La(ve,y)?+ve:ve}).sort(fb)),J});function hg(u){return null==u?u:vM.call(u)}var hI=li(function(u){return Nc(Jn(u,1,Lr,!0))}),ld=li(function(u){var p=ja(u);return Lr(p)&&(p=A),Nc(Jn(u,1,Lr,!0),Un(p,2))}),op=li(function(u){var p=ja(u);return p="function"==typeof p?p:A,Nc(Jn(u,1,Lr,!0),A,p)});function vE(u){if(!u||!u.length)return[];var p=0;return u=Oa(u,function(y){if(Lr(y))return p=Ar(y.length,p),!0}),ua(p,function(y){return Fr(u,By(y))})}function ro(u,p){if(!u||!u.length)return[];var y=vE(u);return null==p?y:Fr(y,function(J){return Da(p,A,J)})}var Db=li(function(u,p){return Lr(u)?zf(u,p):[]}),pI=li(function(u){return Ah(Oa(u,Lr))}),mI=li(function(u){var p=ja(u);return Lr(p)&&(p=A),Ah(Oa(u,Lr),Un(p,2))}),Ob=li(function(u){var p=ja(u);return p="function"==typeof p?p:A,Ah(Oa(u,Lr),A,p)}),Rh=li(vE),_a=li(function(u){var p=u.length,y=p>1?u[p-1]:A;return y="function"==typeof y?(u.pop(),y):A,ro(u,y)});function xl(u){var p=Re(u);return p.__chain__=!0,p}function sp(u,p){return p(u)}var dd=vl(function(u){var p=u.length,y=p?u[0]:0,J=this.__wrapped__,ve=function(je){return eb(je,u)};return!(p>1||this.__actions__.length)&&J instanceof Ri&&La(y)?((J=J.slice(y,+y+(p?1:0))).__actions__.push({func:sp,args:[ve],thisArg:A}),new lc(J,this.__chain__).thru(function(je){return p&&!je.length&&je.push(A),je})):this.thru(ve)}),CE=Yf(function(u,p,y){bi.call(u,y)?++u[y]:Jl(u,y,1)}),yI=qs(ip),Pb=qs(fE);function bI(u,p){return(ai(u)?rc:Ql)(u,Un(p,3))}function vI(u,p){return(ai(u)?O3:Nx)(u,Un(p,3))}var Y3=Yf(function(u,p,y){bi.call(u,y)?u[y].push(p):Jl(u,y,[p])}),K3=li(function(u,p,y){var J=-1,ve="function"==typeof p,je=wo(u)?Ct(u.length):[];return Ql(u,function(rt){je[++J]=ve?Da(p,rt,y):Hf(rt,p,y)}),je}),wI=Yf(function(u,p,y){Jl(u,y,p)});function wu(u,p){return(ai(u)?Fr:Hx)(u,Un(p,3))}var Nb=Yf(function(u,p,y){u[y?0:1].push(p)},function(){return[[],[]]}),ud=li(function(u,p){if(null==u)return[];var y=p.length;return y>1&&Cs(u,p[0],p[1])?p=[]:y>2&&Cs(p[0],p[1],p[2])&&(p=[p[0]]),Km(u,Jn(p,1),[])}),yg=Ff||function(){return No.Date.now()};function IE(u,p,y){return p=y?A:p,rd(u,T,A,A,A,A,p=u&&null==p?u.length:p)}function Fb(u,p){var y;if("function"!=typeof p)throw new Ui(_);return u=ri(u),function(){return--u>0&&(y=p.apply(this,arguments)),u<=1&&(p=A),y}}var lp=li(function(u,p,y){var J=1;if(y.length){var ve=Yl(y,Lc(lp));J|=b}return rd(u,J,p,y,ve)}),DE=li(function(u,p,y){var J=3;if(y.length){var ve=Yl(y,Lc(DE));J|=b}return rd(p,J,u,y,ve)});function Lb(u,p,y){var J,ve,je,rt,ht,yt,zt=0,Ht=!1,Yt=!1,cn=!0;if("function"!=typeof u)throw new Ui(_);function Pn(Mr){var Ua=J,zc=ve;return J=ve=A,zt=Mr,rt=u.apply(zc,Ua)}function Wn(Mr){var Ua=Mr-yt;return yt===A||Ua>=p||Ua<0||Yt&&Mr-zt>=je}function pi(){var Mr=yg();if(Wn(Mr))return Li(Mr);ht=np(pi,function fi(Mr){var mC=p-(Mr-yt);return Yt?vo(mC,je-(Mr-zt)):mC}(Mr))}function Li(Mr){return ht=A,cn&&J?Pn(Mr):(J=ve=A,rt)}function va(){var Mr=yg(),Ua=Wn(Mr);if(J=arguments,ve=this,yt=Mr,Ua){if(ht===A)return function Xn(Mr){return zt=Mr,ht=np(pi,p),Ht?Pn(Mr):rt}(yt);if(Yt)return Xf(ht),ht=np(pi,p),Pn(yt)}return ht===A&&(ht=np(pi,p)),rt}return p=ya(p)||0,Tr(y)&&(Ht=!!y.leading,je=(Yt="maxWait"in y)?Ar(ya(y.maxWait)||0,p):je,cn="trailing"in y?!!y.trailing:cn),va.cancel=function Qs(){ht!==A&&Xf(ht),zt=0,J=yt=ve=ht=A},va.flush=function xo(){return ht===A?rt:Li(yg())},va}var CI=li(function(u,p){return kx(u,1,p)}),SI=li(function(u,p,y){return kx(u,ya(p)||0,y)});function kh(u,p){if("function"!=typeof u||null!=p&&"function"!=typeof p)throw new Ui(_);var y=function(){var J=arguments,ve=p?p.apply(this,J):J[0],je=y.cache;if(je.has(ve))return je.get(ve);var rt=u.apply(this,J);return y.cache=je.set(ve,rt)||je,rt};return y.cache=new(kh.Cache||Pc),y}function dp(u){if("function"!=typeof u)throw new Ui(_);return function(){var p=arguments;switch(p.length){case 0:return!u.call(this);case 1:return!u.call(this,p[0]);case 2:return!u.call(this,p[0],p[1]);case 3:return!u.call(this,p[0],p[1],p[2])}return!u.apply(this,p)}}kh.Cache=Pc;var ps=Fc(function(u,p){var y=(p=1==p.length&&ai(p[0])?Fr(p[0],Ws(Un())):Fr(Jn(p,1),Ws(Un()))).length;return li(function(J){for(var ve=-1,je=vo(J.length,y);++ve<je;)J[ve]=p[ve].call(this,J[ve]);return Da(u,this,J)})}),xu=li(function(u,p){var y=Yl(p,Lc(xu));return rd(u,b,A,p,y)}),jb=li(function(u,p){var y=Yl(p,Lc(jb));return rd(u,64,A,p,y)}),PE=vl(function(u,p){return rd(u,256,A,A,A,p)});function As(u,p){return u===p||u!=u&&p!=p}var RI=mb(Ym),PI=mb(function(u,p){return u>=p}),hd=nb(function(){return arguments}())?nb:function(u){return Yr(u)&&bi.call(u,"callee")&&!_h.call(u,"callee")},ai=Ct.isArray,LE=Lm?Ws(Lm):function DM(u){return Yr(u)&&Ys(u)==me};function wo(u){return null!=u&&Eu(u.length)&&!jc(u)}function Lr(u){return Yr(u)&&wo(u)}var Bc=yh||bp,bg=Bm?Ws(Bm):function OM(u){return Yr(u)&&Ys(u)==ie};function zb(u){if(!Yr(u))return!1;var p=Ys(u);return p==He||"[object DOMException]"==p||"string"==typeof u.message&&"string"==typeof u.name&&!fd(u)}function jc(u){if(!Tr(u))return!1;var p=Ys(u);return p==Qe||p==de||"[object AsyncFunction]"==p||"[object Proxy]"==p}function Nh(u){return"number"==typeof u&&u==ri(u)}function Eu(u){return"number"==typeof u&&u>-1&&u%1==0&&u<=ze}function Tr(u){var p=typeof u;return null!=u&&("object"==p||"function"==p)}function Yr(u){return null!=u&&"object"==typeof u}var jE=Fy?Ws(Fy):function Bx(u){return Yr(u)&&Es(u)==ne};function UI(u){return"number"==typeof u||Yr(u)&&Ys(u)==U}function fd(u){if(!Yr(u)||Ys(u)!=P)return!1;var p=ll(u);if(null===p)return!0;var y=bi.call(p,"constructor")&&p.constructor;return"function"==typeof y&&y instanceof y&&bo.call(y)==cl}var Gb=jm?Ws(jm):function Ux(u){return Yr(u)&&Ys(u)==Ee},Wb=fx?Ws(fx):function rb(u){return Yr(u)&&Es(u)==Oe};function up(u){return"string"==typeof u||!ai(u)&&Yr(u)&&Ys(u)==ut}function Ts(u){return"symbol"==typeof u||Yr(u)&&Ys(u)==St}var Su=Um?Ws(Um):function Vx(u){return Yr(u)&&Eu(u.length)&&!!Sr[Ys(u)]},$b=mb(Wf),wg=mb(function(u,p){return u<=p});function Xb(u){if(!u)return[];if(wo(u))return up(u)?sc(u):Qo(u);if(ql&&u[ql])return function pM(lt){for(var Dt,Ct=[];!(Dt=lt.next()).done;)Ct.push(Dt.value);return Ct}(u[ql]());var p=Es(u);return(p==ne?Hm:p==Oe?Gm:fp)(u)}function uc(u){return u?(u=ya(u))===Ae||u===-Ae?17976931348623157e292*(u<0?-1:1):u==u?u:0:0===u?u:0}function ri(u){var p=uc(u),y=p%1;return p==p?y?p-y:p:0}function WE(u){return u?au(ri(u),0,ue):0}function ya(u){if("number"==typeof u)return u;if(Ts(u))return NaN;if(Tr(u)){var p="function"==typeof u.valueOf?u.valueOf():u;u=Tr(p)?p+"":p}if("string"!=typeof u)return 0===u?u:+u;u=ji(u);var y=Ma.test(u);return y||ci.test(u)?ky(u.slice(2),y?2:8):wn.test(u)?NaN:+u}function $E(u){return hs(u,Js(u))}function Zi(u){return null==u?"":Fa(u)}var XE=dc(function(u,p){if(_u(p)||wo(p))hs(p,jo(p),u);else for(var y in p)bi.call(p,y)&&fl(u,y,p[y])}),Yb=dc(function(u,p){hs(p,Js(p),u)}),Au=dc(function(u,p,y,J){hs(p,Js(p),u,J)}),qb=dc(function(u,p,y,J){hs(p,jo(p),u,J)}),Fh=vl(eb),HI=li(function(u,p){u=Ki(u);var y=-1,J=p.length,ve=J>2?p[2]:A;for(ve&&Cs(p[0],p[1],ve)&&(J=1);++y<J;)for(var je=p[y],rt=Js(je),ht=-1,yt=rt.length;++ht<yt;){var zt=rt[ht],Ht=u[zt];(Ht===A||As(Ht,or[zt])&&!bi.call(u,zt))&&(u[zt]=je[zt])}return u}),J3=li(function(u){return u.push(A,nE),Da(JE,A,u)});function Jb(u,p,y){var J=null==u?A:pl(u,p);return J===A?y:J}function Qb(u,p){return null!=u&&rE(u,p,ml)}var XI=fu(function(u,p,y){null!=p&&"function"!=typeof p.toString&&(p=Fo.call(p)),u[p]=y},Bh(Zo)),ba=fu(function(u,p,y){null!=p&&"function"!=typeof p.toString&&(p=Fo.call(p)),bi.call(u,p)?u[p].push(y):u[p]=[y]},Un),Uc=li(Hf);function jo(u){return wo(u)?Qy(u):qm(u)}function Js(u){return wo(u)?Qy(u,!0):function zx(u){if(!Tr(u))return function Ih(u){var p=[];if(null!=u)for(var y in Ki(u))p.push(y);return p}(u);var p=_u(u),y=[];for(var J in u)"constructor"==J&&(p||!bi.call(u,J))||y.push(J);return y}(u)}var KI=dc(function(u,p,y){lr(u,p,y)}),JE=dc(function(u,p,y,J){lr(u,p,y,J)}),QE=vl(function(u,p){var y={};if(null==u)return y;var J=!1;p=Fr(p,function(je){return je=td(je,u),J||(J=je.length>1),je}),hs(u,od(u),y),J&&(y=Ra(y,7,UM));for(var ve=p.length;ve--;)du(y,p[ve]);return y}),QI=vl(function(u,p){return null==u?{}:function RM(u,p){return sb(u,p,function(y,J){return Qb(u,J)})}(u,p)});function ZE(u,p){if(null==u)return{};var y=Fr(od(u),function(J){return[J]});return p=Un(p),sb(u,y,function(J,ve){return p(J,ve[0])})}var Lh=jM(jo),Zb=jM(Js);function fp(u){return null==u?[]:Rf(u,jo(u))}var nC=id(function(u,p,y){return p=p.toLowerCase(),u+(y?iC(p):p)});function iC(u){return mp(Zi(u).toLowerCase())}function rC(u){return(u=Zi(u))&&u.replace(Ti,_x).replace(M3,"")}var Cg=id(function(u,p,y){return u+(y?"-":"")+p.toLowerCase()}),sC=id(function(u,p,y){return u+(y?" ":"")+p.toLowerCase()}),nv=Gi("toLowerCase"),oD=id(function(u,p,y){return u+(y?"_":"")+p.toLowerCase()}),aD=id(function(u,p,y){return u+(y?" ":"")+mp(p)}),dD=id(function(u,p,y){return u+(y?" ":"")+p.toUpperCase()}),mp=Gi("toUpperCase");function Tg(u,p,y){return u=Zi(u),(p=y?A:p)===A?function oc(lt){return Nm.test(lt)}(u)?function wx(lt){return lt.match(I3)||[]}(u):function uM(lt){return lt.match(rn)||[]}(u):u.match(p)||[]}var Mu=li(function(u,p){try{return Da(u,A,p)}catch(y){return zb(y)?y:new kn(y)}}),iv=vl(function(u,p){return rc(p,function(y){y=ga(y),Jl(u,y,lp(u[y],u))}),u});function Bh(u){return function(){return u}}var ov=hu(),sv=hu(!0);function Zo(u){return u}function lC(u){return ob("function"==typeof u?u:Ra(u,1))}var uD=li(function(u,p){return function(y){return Hf(y,u,p)}}),dC=li(function(u,p){return function(y){return Hf(u,y,p)}});function cv(u,p,y){var J=jo(p),ve=vh(p,J);null==y&&(!Tr(p)||!ve.length&&J.length)&&(y=p,p=u,u=this,ve=vh(p,jo(p)));var je=!(Tr(y)&&"chain"in y&&!y.chain),rt=jc(u);return rc(ve,function(ht){var yt=p[ht];u[ht]=yt,rt&&(u.prototype[ht]=function(){var zt=this.__chain__;if(je||zt){var Ht=u(this.__wrapped__);return(Ht.__actions__=Qo(this.__actions__)).push({func:yt,args:arguments,thisArg:u}),Ht.__chain__=zt,Ht}return yt.apply(u,Wl([this.value()],arguments))})}),u}function yp(){}var fD=Jf(Fr),pD=Jf(lM),sj=Jf($l);function hC(u){return sd(u)?By(ga(u)):function Wx(u){return function(p){return pl(p,u)}}(u)}var lv=eE(),mD=eE(!0);function Ig(){return[]}function bp(){return!1}var yD=Kf(function(u,p){return u+p},0),pd=tE("ceil"),bD=Kf(function(u,p){return u/p},1),Uh=tE("floor"),uv=Kf(function(u,p){return u*p},1),cj=tE("round"),lj=Kf(function(u,p){return u-p},0);return Re.after=function EI(u,p){if("function"!=typeof p)throw new Ui(_);return u=ri(u),function(){if(--u<1)return p.apply(this,arguments)}},Re.ary=IE,Re.assign=XE,Re.assignIn=Yb,Re.assignInWith=Au,Re.assignWith=qb,Re.at=Fh,Re.before=Fb,Re.bind=lp,Re.bindAll=iv,Re.bindKey=DE,Re.castArray=function FE(){if(!arguments.length)return[];var u=arguments[0];return ai(u)?u:[u]},Re.chain=xl,Re.chunk=function dE(u,p,y){p=(y?Cs(u,p,y):p===A)?1:Ar(ri(p),0);var J=null==u?0:u.length;if(!J||p<1)return[];for(var ve=0,je=0,rt=Ct(iu(J/p));ve<J;)rt[je++]=Na(u,ve,ve+=p);return rt},Re.compact=function cg(u){for(var p=-1,y=null==u?0:u.length,J=0,ve=[];++p<y;){var je=u[p];je&&(ve[J++]=je)}return ve},Re.concat=function V3(){var u=arguments.length;if(!u)return[];for(var p=Ct(u-1),y=arguments[0],J=u;J--;)p[J-1]=arguments[J];return Wl(ai(y)?Qo(y):[y],Jn(p,1))},Re.cond=function rv(u){var p=null==u?0:u.length,y=Un();return u=p?Fr(u,function(J){if("function"!=typeof J[1])throw new Ui(_);return[y(J[0]),J[1]]}):[],li(function(J){for(var ve=-1;++ve<p;){var je=u[ve];if(Da(je[0],this,J))return Da(je[1],this,J)}})},Re.conforms=function gp(u){return function Px(u){var p=jo(u);return function(y){return cu(y,u,p)}}(Ra(u,1))},Re.constant=Bh,Re.countBy=CE,Re.create=function zI(u,p){var y=ru(u);return null==p?y:Kn(y,p)},Re.curry=function OE(u,p,y){var J=rd(u,8,A,A,A,A,A,p=y?A:p);return J.placeholder=OE.placeholder,J},Re.curryRight=function RE(u,p,y){var J=rd(u,16,A,A,A,A,A,p=y?A:p);return J.placeholder=RE.placeholder,J},Re.debounce=Lb,Re.defaults=HI,Re.defaultsDeep=J3,Re.defer=CI,Re.delay=SI,Re.difference=xb,Re.differenceBy=ZM,Re.differenceWith=Eb,Re.drop=function uE(u,p,y){var J=null==u?0:u.length;return J?Na(u,(p=y||p===A?1:ri(p))<0?0:p,J):[]},Re.dropRight=function hE(u,p,y){var J=null==u?0:u.length;return J?Na(u,0,(p=J-(p=y||p===A?1:ri(p)))<0?0:p):[]},Re.dropRightWhile=function bu(u,p){return u&&u.length?ed(u,Un(p,3),!0,!0):[]},Re.dropWhile=function eI(u,p){return u&&u.length?ed(u,Un(p,3),!0):[]},Re.fill=function Cb(u,p,y,J){var ve=null==u?0:u.length;return ve?(y&&"number"!=typeof y&&Cs(u,p,y)&&(y=0,J=ve),function Pi(u,p,y,J){var ve=u.length;for((y=ri(y))<0&&(y=-y>ve?0:ve+y),(J=J===A||J>ve?ve:ri(J))<0&&(J+=ve),J=y>J?0:WE(J);y<J;)u[y++]=p;return u}(u,p,y,J)):[]},Re.filter=function _I(u,p){return(ai(u)?Oa:Fi)(u,Un(p,3))},Re.flatMap=function $3(u,p){return Jn(wu(u,p),1)},Re.flatMapDeep=function X3(u,p){return Jn(wu(u,p),Ae)},Re.flatMapDepth=function kb(u,p,y){return y=y===A?1:ri(y),Jn(wu(u,p),y)},Re.flatten=lg,Re.flattenDeep=function dg(u){return null!=u&&u.length?Jn(u,Ae):[]},Re.flattenDepth=function Ba(u,p){return null!=u&&u.length?Jn(u,p=p===A?1:ri(p)):[]},Re.flip=function Ks(u){return rd(u,512)},Re.flow=ov,Re.flowRight=sv,Re.fromPairs=function Dh(u){for(var p=-1,y=null==u?0:u.length,J={};++p<y;){var ve=u[p];J[ve[0]]=ve[1]}return J},Re.functions=function Tu(u){return null==u?[]:vh(u,jo(u))},Re.functionsIn=function WI(u){return null==u?[]:vh(u,Js(u))},Re.groupBy=Y3,Re.initial=function nI(u){return null!=u&&u.length?Na(u,0,-1):[]},Re.intersection=pE,Re.intersectionBy=Oh,Re.intersectionWith=iI,Re.invert=XI,Re.invertBy=ba,Re.invokeMap=K3,Re.iteratee=lC,Re.keyBy=wI,Re.keys=jo,Re.keysIn=Js,Re.map=wu,Re.mapKeys=function YI(u,p){var y={};return p=Un(p,3),Xs(u,function(J,ve,je){Jl(y,p(J,ve,je),J)}),y},Re.mapValues=function qI(u,p){var y={};return p=Un(p,3),Xs(u,function(J,ve,je){Jl(y,ve,p(J,ve,je))}),y},Re.matches=function av(u){return Jo(Ra(u,1))},Re.matchesProperty=function _p(u,p){return Zl(u,Ra(p,1))},Re.memoize=kh,Re.merge=KI,Re.mergeWith=JE,Re.method=uD,Re.methodOf=dC,Re.mixin=cv,Re.negate=dp,Re.nthArg=function uC(u){return u=ri(u),li(function(p){return Gx(p,u)})},Re.omit=QE,Re.omitBy=function JI(u,p){return ZE(u,dp(Un(p)))},Re.once=function Bb(u){return Fb(2,u)},Re.orderBy=function mg(u,p,y,J){return null==u?[]:(ai(p)||(p=null==p?[]:[p]),ai(y=J?A:y)||(y=null==y?[]:[y]),Km(u,p,y))},Re.over=fD,Re.overArgs=ps,Re.overEvery=pD,Re.overSome=sj,Re.partial=xu,Re.partialRight=jb,Re.partition=Nb,Re.pick=QI,Re.pickBy=ZE,Re.property=hC,Re.propertyOf=function Mg(u){return function(p){return null==u?A:pl(u,p)}},Re.pull=Ab,Re.pullAll=Tb,Re.pullAllBy=function oI(u,p,y){return u&&u.length&&p&&p.length?xh(u,p,Un(y,2)):u},Re.pullAllWith=function sI(u,p,y){return u&&u.length&&p&&p.length?xh(u,p,A,y):u},Re.pullAt=mE,Re.range=lv,Re.rangeRight=mD,Re.rearg=PE,Re.reject=function cp(u,p){return(ai(u)?Oa:Fi)(u,dp(Un(p,3)))},Re.remove=function aI(u,p){var y=[];if(!u||!u.length)return y;var J=-1,ve=[],je=u.length;for(p=Un(p,3);++J<je;){var rt=u[J];p(rt,J,u)&&(y.push(rt),ve.push(J))}return _l(u,ve),y},Re.rest=function AI(u,p){if("function"!=typeof u)throw new Ui(_);return li(u,p=p===A?p:ri(p))},Re.reverse=hg,Re.sampleSize=function TE(u,p,y){return p=(y?Cs(u,p,y):p===A)?1:ri(p),(ai(u)?Dx:$x)(u,p)},Re.set=function Eg(u,p,y){return null==u?u:Ch(u,p,y)},Re.setWith=function El(u,p,y,J){return J="function"==typeof J?J:A,null==u?u:Ch(u,p,y,J)},Re.shuffle=function ME(u){return(ai(u)?Ox:$f)(u)},Re.slice=function cI(u,p,y){var J=null==u?0:u.length;return J?(y&&"number"!=typeof y&&Cs(u,p,y)?(p=0,y=J):(p=null==p?0:ri(p),y=y===A?J:ri(y)),Na(u,p,y)):[]},Re.sortBy=ud,Re.sortedUniq=function cd(u){return u&&u.length?Yx(u):[]},Re.sortedUniqBy=function fg(u,p){return u&&u.length?Yx(u,Un(p,2)):[]},Re.split=function sD(u,p,y){return y&&"number"!=typeof y&&Cs(u,p,y)&&(p=y=A),(y=y===A?ue:y>>>0)?(u=Zi(u))&&("string"==typeof p||null!=p&&!Gb(p))&&!(p=Fa(p))&&fh(u)?nd(sc(u),0,y):u.split(p,y):[]},Re.spread=function kE(u,p){if("function"!=typeof u)throw new Ui(_);return p=null==p?0:Ar(ri(p),0),li(function(y){var J=y[p],ve=nd(y,0,p);return J&&Wl(ve,J),Da(u,this,ve)})},Re.tail=function yE(u){var p=null==u?0:u.length;return p?Na(u,1,p):[]},Re.take=function rp(u,p,y){return u&&u.length?Na(u,0,(p=y||p===A?1:ri(p))<0?0:p):[]},Re.takeRight=function dI(u,p,y){var J=null==u?0:u.length;return J?Na(u,(p=J-(p=y||p===A?1:ri(p)))<0?0:p,J):[]},Re.takeRightWhile=function uI(u,p){return u&&u.length?ed(u,Un(p,3),!1,!0):[]},Re.takeWhile=function Ib(u,p){return u&&u.length?ed(u,Un(p,3)):[]},Re.tap=function Rb(u,p){return p(u),u},Re.throttle=function TI(u,p,y){var J=!0,ve=!0;if("function"!=typeof u)throw new Ui(_);return Tr(y)&&(J="leading"in y?!!y.leading:J,ve="trailing"in y?!!y.trailing:ve),Lb(u,p,{leading:J,maxWait:p,trailing:ve})},Re.thru=sp,Re.toArray=Xb,Re.toPairs=Lh,Re.toPairsIn=Zb,Re.toPath=function pC(u){return ai(u)?Fr(u,ga):Ts(u)?[u]:Qo(ag(Zi(u)))},Re.toPlainObject=$E,Re.transform=function eC(u,p,y){var J=ai(u),ve=J||Bc(u)||Su(u);if(p=Un(p,4),null==y){var je=u&&u.constructor;y=ve?J?new je:[]:Tr(u)&&jc(je)?ru(ll(u)):{}}return(ve?rc:Xs)(u,function(rt,ht,yt){return p(y,rt,ht,yt)}),y},Re.unary=function NE(u){return IE(u,1)},Re.union=hI,Re.unionBy=ld,Re.unionWith=op,Re.uniq=function fI(u){return u&&u.length?Nc(u):[]},Re.uniqBy=function bE(u,p){return u&&u.length?Nc(u,Un(p,2)):[]},Re.uniqWith=function Ss(u,p){return p="function"==typeof p?p:A,u&&u.length?Nc(u,A,p):[]},Re.unset=function tC(u,p){return null==u||du(u,p)},Re.unzip=vE,Re.unzipWith=ro,Re.update=function Q3(u,p,y){return null==u?u:qx(u,p,tg(y))},Re.updateWith=function Z3(u,p,y,J){return J="function"==typeof J?J:A,null==u?u:qx(u,p,tg(y),J)},Re.values=fp,Re.valuesIn=function ev(u){return null==u?[]:Rf(u,Js(u))},Re.without=Db,Re.words=Tg,Re.wrap=function MI(u,p){return xu(tg(p),u)},Re.xor=pI,Re.xorBy=mI,Re.xorWith=Ob,Re.zip=Rh,Re.zipObject=function wE(u,p){return kM(u||[],p||[],fl)},Re.zipObjectDeep=function Ph(u,p){return kM(u||[],p||[],Ch)},Re.zipWith=_a,Re.entries=Lh,Re.entriesIn=Zb,Re.extend=Yb,Re.extendWith=Au,cv(Re,Re),Re.add=yD,Re.attempt=Mu,Re.camelCase=nC,Re.capitalize=iC,Re.ceil=pd,Re.clamp=function tv(u,p,y){return y===A&&(y=p,p=A),y!==A&&(y=(y=ya(y))==y?y:0),p!==A&&(p=(p=ya(p))==p?p:0),au(ya(u),p,y)},Re.clone=function II(u){return Ra(u,4)},Re.cloneDeep=function Ub(u){return Ra(u,5)},Re.cloneDeepWith=function Vb(u,p){return Ra(u,5,p="function"==typeof p?p:A)},Re.cloneWith=function DI(u,p){return Ra(u,4,p="function"==typeof p?p:A)},Re.conformsTo=function OI(u,p){return null==p||cu(u,p,jo(p))},Re.deburr=rC,Re.defaultTo=function jh(u,p){return null==u||u!=u?p:u},Re.divide=bD,Re.endsWith=function eD(u,p,y){u=Zi(u),p=Fa(p);var J=u.length,ve=y=y===A?J:au(ri(y),0,J);return(y-=p.length)>=0&&u.slice(y,ve)==p},Re.eq=As,Re.escape=function tD(u){return(u=Zi(u))&&qi.test(u)?u.replace(Ro,hM):u},Re.escapeRegExp=function oC(u){return(u=Zi(u))&&Ze.test(u)?u.replace(Ye,"\\$&"):u},Re.every=function W3(u,p,y){var J=ai(u)?lM:IM;return y&&Cs(u,p,y)&&(p=A),J(u,Un(p,3))},Re.find=yI,Re.findIndex=ip,Re.findKey=function GI(u,p){return et(u,Un(p,3),Xs)},Re.findLast=Pb,Re.findLastIndex=fE,Re.findLastKey=function xg(u,p){return et(u,Un(p,3),Pa)},Re.floor=Uh,Re.forEach=bI,Re.forEachRight=vI,Re.forIn=function Kb(u,p){return null==u?u:Qi(u,Un(p,3),Js)},Re.forInRight=function YE(u,p){return null==u?u:tb(u,Un(p,3),Js)},Re.forOwn=function qE(u,p){return u&&Xs(u,Un(p,3))},Re.forOwnRight=function KE(u,p){return u&&Pa(u,Un(p,3))},Re.get=Jb,Re.gt=RI,Re.gte=PI,Re.has=function $I(u,p){return null!=u&&rE(u,p,xs)},Re.hasIn=Qb,Re.head=ug,Re.identity=Zo,Re.includes=function q3(u,p,y,J){u=wo(u)?u:fp(u),y=y&&!J?ri(y):0;var ve=u.length;return y<0&&(y=Ar(ve+y,0)),up(u)?y<=ve&&u.indexOf(p,y)>-1:!!ve&&jt(u,p,y)>-1},Re.indexOf=function tI(u,p,y){var J=null==u?0:u.length;if(!J)return-1;var ve=null==y?0:ri(y);return ve<0&&(ve=Ar(J+ve,0)),jt(u,p,ve)},Re.inRange=function ej(u,p,y){return p=uc(p),y===A?(y=p,p=0):y=uc(y),function Lx(u,p,y){return u>=vo(p,y)&&u<Ar(p,y)}(u=ya(u),p,y)},Re.invoke=Uc,Re.isArguments=hd,Re.isArray=ai,Re.isArrayBuffer=LE,Re.isArrayLike=wo,Re.isArrayLikeObject=Lr,Re.isBoolean=function BE(u){return!0===u||!1===u||Yr(u)&&Ys(u)==E},Re.isBuffer=Bc,Re.isDate=bg,Re.isElement=function kI(u){return Yr(u)&&1===u.nodeType&&!fd(u)},Re.isEmpty=function NI(u){if(null==u)return!0;if(wo(u)&&(ai(u)||"string"==typeof u||"function"==typeof u.splice||Bc(u)||Su(u)||hd(u)))return!u.length;var p=Es(u);if(p==ne||p==Oe)return!u.size;if(_u(u))return!qm(u).length;for(var y in u)if(bi.call(u,y))return!1;return!0},Re.isEqual=function FI(u,p){return lu(u,p)},Re.isEqualWith=function LI(u,p,y){var J=(y="function"==typeof y?y:A)?y(u,p):A;return J===A?lu(u,p,A,y):!!J},Re.isError=zb,Re.isFinite=function BI(u){return"number"==typeof u&&Lo(u)},Re.isFunction=jc,Re.isInteger=Nh,Re.isLength=Eu,Re.isMap=jE,Re.isMatch=function Hb(u,p){return u===p||Gf(u,p,sg(p))},Re.isMatchWith=function UE(u,p,y){return y="function"==typeof y?y:A,Gf(u,p,sg(p),y)},Re.isNaN=function Cu(u){return UI(u)&&u!=+u},Re.isNative=function VE(u){if(sE(u))throw new kn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return jx(u)},Re.isNil=function jI(u){return null==u},Re.isNull=function zE(u){return null===u},Re.isNumber=UI,Re.isObject=Tr,Re.isObjectLike=Yr,Re.isPlainObject=fd,Re.isRegExp=Gb,Re.isSafeInteger=function HE(u){return Nh(u)&&u>=-ze&&u<=ze},Re.isSet=Wb,Re.isString=up,Re.isSymbol=Ts,Re.isTypedArray=Su,Re.isUndefined=function vg(u){return u===A},Re.isWeakMap=function hp(u){return Yr(u)&&Es(u)==mt},Re.isWeakSet=function GE(u){return Yr(u)&&"[object WeakSet]"==Ys(u)},Re.join=function rI(u,p){return null==u?"":Bo.call(u,p)},Re.kebabCase=Cg,Re.last=ja,Re.lastIndexOf=function Sb(u,p,y){var J=null==u?0:u.length;if(!J)return-1;var ve=J;return y!==A&&(ve=(ve=ri(y))<0?Ar(J+ve,0):vo(ve,J-1)),p==p?function gM(lt,Dt,Ct){for(var un=Ct+1;un--;)if(lt[un]===Dt)return un;return un}(u,p,ve):Of(u,zm,ve,!0)},Re.lowerCase=sC,Re.lowerFirst=nv,Re.lt=$b,Re.lte=wg,Re.max=function In(u){return u&&u.length?Nt(u,Zo,Ym):A},Re.maxBy=function vD(u,p){return u&&u.length?Nt(u,Un(p,2),Ym):A},Re.mean=function dv(u){return lh(u,Zo)},Re.meanBy=function Vc(u,p){return lh(u,Un(p,2))},Re.min=function wD(u){return u&&u.length?Nt(u,Zo,Wf):A},Re.minBy=function xD(u,p){return u&&u.length?Nt(u,Un(p,2),Wf):A},Re.stubArray=Ig,Re.stubFalse=bp,Re.stubObject=function Dg(){return{}},Re.stubString=function gD(){return""},Re.stubTrue=function fC(){return!0},Re.multiply=uv,Re.nth=function vu(u,p){return u&&u.length?Gx(u,ri(p)):A},Re.noConflict=function hD(){return No._===this&&(No._=ii),this},Re.noop=yp,Re.now=yg,Re.pad=function nD(u,p,y){u=Zi(u);var J=(p=ri(p))?ph(u):0;if(!p||J>=p)return u;var ve=(p-J)/2;return bl(ul(ve),y)+u+bl(iu(ve),y)},Re.padEnd=function Uo(u,p,y){u=Zi(u);var J=(p=ri(p))?ph(u):0;return p&&J<p?u+bl(p-J,y):u},Re.padStart=function iD(u,p,y){u=Zi(u);var J=(p=ri(p))?ph(u):0;return p&&J<p?bl(p-J,y)+u:u},Re.parseInt=function rD(u,p,y){return y||null==p?p=0:p&&(p=+p),Gy(Zi(u).replace(Et,""),p||0)},Re.random=function tj(u,p,y){if(y&&"boolean"!=typeof y&&Cs(u,p,y)&&(p=y=A),y===A&&("boolean"==typeof p?(y=p,p=A):"boolean"==typeof u&&(y=u,u=A)),u===A&&p===A?(u=0,p=1):(u=uc(u),p===A?(p=u,u=0):p=uc(p)),u>p){var J=u;u=p,p=J}if(y||u%1||p%1){var ve=xx();return vo(u+ve*(p-u+Mi("1e-"+((ve+"").length-1))),p)}return ab(u,p)},Re.reduce=function SE(u,p,y){var J=ai(u)?Ly:mx,ve=arguments.length<3;return J(u,Un(p,4),y,ve,Ql)},Re.reduceRight=function AE(u,p,y){var J=ai(u)?px:mx,ve=arguments.length<3;return J(u,Un(p,4),y,ve,Nx)},Re.repeat=function Sg(u,p,y){return p=(y?Cs(u,p,y):p===A)?1:ri(p),Eh(Zi(u),p)},Re.replace=function aC(){var u=arguments,p=Zi(u[0]);return u.length<3?p:p.replace(u[1],u[2])},Re.result=function ZI(u,p,y){var J=-1,ve=(p=td(p,u)).length;for(ve||(ve=1,u=A);++J<ve;){var je=null==u?A:u[ga(p[J])];je===A&&(J=ve,je=y),u=jc(je)?je.call(u):je}return u},Re.round=cj,Re.runInContext=lt,Re.sample=function xI(u){return(ai(u)?Ix:cb)(u)},Re.size=function gg(u){if(null==u)return 0;if(wo(u))return up(u)?ph(u):u.length;var p=Es(u);return p==ne||p==Oe?u.size:qm(u).length},Re.snakeCase=oD,Re.some=function _g(u,p,y){var J=ai(u)?$l:lb;return y&&Cs(u,p,y)&&(p=A),J(u,Un(p,3))},Re.sortedIndex=function lI(u,p){return Qm(u,p)},Re.sortedIndexBy=function z3(u,p,y){return db(u,p,Un(y,2))},Re.sortedIndexOf=function gE(u,p){var y=null==u?0:u.length;if(y){var J=Qm(u,p);if(J<y&&As(u[J],p))return J}return-1},Re.sortedLastIndex=function _E(u,p){return Qm(u,p,!0)},Re.sortedLastIndexBy=function xi(u,p,y){return db(u,p,Un(y,2),!0)},Re.sortedLastIndexOf=function Mb(u,p){if(null!=u&&u.length){var J=Qm(u,p,!0)-1;if(As(u[J],p))return J}return-1},Re.startCase=aD,Re.startsWith=function cD(u,p,y){return u=Zi(u),y=null==y?0:au(ri(y),0,u.length),p=Fa(p),u.slice(y,y+p.length)==p},Re.subtract=lj,Re.sum=function dj(u){return u&&u.length?dh(u,Zo):0},Re.sumBy=function ED(u,p){return u&&u.length?dh(u,Un(p,2)):0},Re.template=function cC(u,p,y){var J=Re.templateSettings;y&&Cs(u,p,y)&&(p=A),u=Zi(u),p=Au({},p,J,pu);var ht,yt,ve=Au({},p.imports,J.imports,pu),je=jo(ve),rt=Rf(ve,je),zt=0,Ht=p.interpolate||fr,Yt="__p += '",cn=Vy((p.escape||fr).source+"|"+Ht.source+"|"+(Ht===Ic?sl:fr).source+"|"+(p.evaluate||fr).source+"|$","g"),Pn="//# sourceURL="+(bi.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++dx+"]")+"\n";u.replace(cn,function(Wn,pi,Li,Qs,xo,va){return Li||(Li=Qs),Yt+=u.slice(zt,va).replace(ye,yx),pi&&(ht=!0,Yt+="' +\n__e("+pi+") +\n'"),xo&&(yt=!0,Yt+="';\n"+xo+";\n__p += '"),Li&&(Yt+="' +\n((__t = ("+Li+")) == null ? '' : __t) +\n'"),zt=va+Wn.length,Wn}),Yt+="';\n";var Xn=bi.call(p,"variable")&&p.variable;if(Xn){if(zs.test(Xn))throw new kn("Invalid `variable` option passed into `_.template`")}else Yt="with (obj) {\n"+Yt+"\n}\n";Yt=(yt?Yt.replace(zn,""):Yt).replace(_r,"$1").replace(Vs,"$1;"),Yt="function("+(Xn||"obj")+") {\n"+(Xn?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(ht?", __e = _.escape":"")+(yt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Yt+"return __p\n}";var fi=Mu(function(){return Hi(je,Pn+"return "+Yt).apply(A,rt)});if(fi.source=Yt,zb(fi))throw fi;return fi},Re.times=function _D(u,p){if((u=ri(u))<1||u>ze)return[];var y=ue,J=vo(u,ue);p=Un(p),u-=ue;for(var ve=ua(J,p);++y<u;)p(y);return ve},Re.toFinite=uc,Re.toInteger=ri,Re.toLength=WE,Re.toLower=function nj(u){return Zi(u).toLowerCase()},Re.toNumber=ya,Re.toSafeInteger=function VI(u){return u?au(ri(u),-ze,ze):0===u?u:0},Re.toString=Zi,Re.toUpper=function ij(u){return Zi(u).toUpperCase()},Re.trim=function pp(u,p,y){if((u=Zi(u))&&(y||p===A))return ji(u);if(!u||!(p=Fa(p)))return u;var J=sc(u),ve=sc(p);return nd(J,Uy(J,ve),hh(J,ve)+1).join("")},Re.trimEnd=function lD(u,p,y){if((u=Zi(u))&&(y||p===A))return u.slice(0,dn(u)+1);if(!u||!(p=Fa(p)))return u;var J=sc(u);return nd(J,0,hh(J,sc(p))+1).join("")},Re.trimStart=function rj(u,p,y){if((u=Zi(u))&&(y||p===A))return u.replace(Et,"");if(!u||!(p=Fa(p)))return u;var J=sc(u);return nd(J,Uy(J,sc(p))).join("")},Re.truncate=function oj(u,p){var y=30,J="...";if(Tr(p)){var ve="separator"in p?p.separator:ve;y="length"in p?ri(p.length):y,J="omission"in p?Fa(p.omission):J}var je=(u=Zi(u)).length;if(fh(u)){var rt=sc(u);je=rt.length}if(y>=je)return u;var ht=y-ph(J);if(ht<1)return J;var yt=rt?nd(rt,0,ht).join(""):u.slice(0,ht);if(ve===A)return yt+J;if(rt&&(ht+=yt.length-ht),Gb(ve)){if(u.slice(ht).search(ve)){var zt,Ht=yt;for(ve.global||(ve=Vy(ve.source,Zi(_i.exec(ve))+"g")),ve.lastIndex=0;zt=ve.exec(Ht);)var Yt=zt.index;yt=yt.slice(0,Yt===A?ht:Yt)}}else if(u.indexOf(Fa(ve),ht)!=ht){var cn=yt.lastIndexOf(ve);cn>-1&&(yt=yt.slice(0,cn))}return yt+J},Re.unescape=function Ag(u){return(u=Zi(u))&&Ta.test(u)?u.replace(Xr,_M):u},Re.uniqueId=function aj(u){var p=++mh;return Zi(u)+p},Re.upperCase=dD,Re.upperFirst=mp,Re.each=bI,Re.eachRight=vI,Re.first=ug,cv(Re,function(){var u={};return Xs(Re,function(p,y){bi.call(Re.prototype,y)||(u[y]=p)}),u}(),{chain:!1}),Re.VERSION="4.17.21",rc(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){Re[u].placeholder=Re}),rc(["drop","take"],function(u,p){Ri.prototype[u]=function(y){y=y===A?1:Ar(ri(y),0);var J=this.__filtered__&&!p?new Ri(this):this.clone();return J.__filtered__?J.__takeCount__=vo(y,J.__takeCount__):J.__views__.push({size:vo(y,ue),type:u+(J.__dir__<0?"Right":"")}),J},Ri.prototype[u+"Right"]=function(y){return this.reverse()[u](y).reverse()}}),rc(["filter","map","takeWhile"],function(u,p){var y=p+1,J=1==y||3==y;Ri.prototype[u]=function(ve){var je=this.clone();return je.__iteratees__.push({iteratee:Un(ve,3),type:y}),je.__filtered__=je.__filtered__||J,je}}),rc(["head","last"],function(u,p){var y="take"+(p?"Right":"");Ri.prototype[u]=function(){return this[y](1).value()[0]}}),rc(["initial","tail"],function(u,p){var y="drop"+(p?"":"Right");Ri.prototype[u]=function(){return this.__filtered__?new Ri(this):this[y](1)}}),Ri.prototype.compact=function(){return this.filter(Zo)},Ri.prototype.find=function(u){return this.filter(u).head()},Ri.prototype.findLast=function(u){return this.reverse().find(u)},Ri.prototype.invokeMap=li(function(u,p){return"function"==typeof u?new Ri(this):this.map(function(y){return Hf(y,u,p)})}),Ri.prototype.reject=function(u){return this.filter(dp(Un(u)))},Ri.prototype.slice=function(u,p){u=ri(u);var y=this;return y.__filtered__&&(u>0||p<0)?new Ri(y):(u<0?y=y.takeRight(-u):u&&(y=y.drop(u)),p!==A&&(y=(p=ri(p))<0?y.dropRight(-p):y.take(p-u)),y)},Ri.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Ri.prototype.toArray=function(){return this.take(ue)},Xs(Ri.prototype,function(u,p){var y=/^(?:filter|find|map|reject)|While$/.test(p),J=/^(?:head|last)$/.test(p),ve=Re[J?"take"+("last"==p?"Right":""):p],je=J||/^find/.test(p);ve&&(Re.prototype[p]=function(){var rt=this.__wrapped__,ht=J?[1]:arguments,yt=rt instanceof Ri,zt=ht[0],Ht=yt||ai(rt),Yt=function(pi){var Li=ve.apply(Re,Wl([pi],ht));return J&&cn?Li[0]:Li};Ht&&y&&"function"==typeof zt&&1!=zt.length&&(yt=Ht=!1);var cn=this.__chain__,Xn=je&&!cn,fi=yt&&!this.__actions__.length;if(!je&&Ht){rt=fi?rt:new Ri(this);var Wn=u.apply(rt,ht);return Wn.__actions__.push({func:sp,args:[Yt],thisArg:A}),new lc(Wn,cn)}return Xn&&fi?u.apply(this,ht):(Wn=this.thru(Yt),Xn?J?Wn.value()[0]:Wn.value():Wn)})}),rc(["pop","push","shift","sort","splice","unshift"],function(u){var p=tn[u],y=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",J=/^(?:pop|shift)$/.test(u);Re.prototype[u]=function(){var ve=arguments;if(J&&!this.__chain__){var je=this.value();return p.apply(ai(je)?je:[],ve)}return this[y](function(rt){return p.apply(ai(rt)?rt:[],ve)})}}),Xs(Ri.prototype,function(u,p){var y=Re[p];if(y){var J=y.name+"";bi.call(Bf,J)||(Bf[J]=[]),Bf[J].push({name:p,func:y})}}),Bf[yl(A,2).name]=[{name:"wrapper",func:A}],Ri.prototype.clone=function L3(){var u=new Ri(this.__wrapped__);return u.__actions__=Qo(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Qo(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Qo(this.__views__),u},Ri.prototype.reverse=function ou(){if(this.__filtered__){var u=new Ri(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},Ri.prototype.value=function Ex(){var u=this.__wrapped__.value(),p=this.__dir__,y=ai(u),J=p<0,ve=y?u.length:0,je=function iE(u,p,y){for(var J=-1,ve=y.length;++J<ve;){var je=y[J],rt=je.size;switch(je.type){case"drop":u+=rt;break;case"dropRight":p-=rt;break;case"take":p=vo(p,u+rt);break;case"takeRight":u=Ar(u,p-rt)}}return{start:u,end:p}}(0,ve,this.__views__),rt=je.start,ht=je.end,yt=ht-rt,zt=J?ht:rt-1,Ht=this.__iteratees__,Yt=Ht.length,cn=0,Pn=vo(yt,this.__takeCount__);if(!y||!J&&ve==yt&&Pn==yt)return Zm(u,this.__actions__);var Xn=[];e:for(;yt--&&cn<Pn;){for(var fi=-1,Wn=u[zt+=p];++fi<Yt;){var pi=Ht[fi],Qs=pi.type,xo=(0,pi.iteratee)(Wn);if(2==Qs)Wn=xo;else if(!xo){if(1==Qs)continue e;break e}}Xn[cn++]=Wn}return Xn},Re.prototype.at=dd,Re.prototype.chain=function ap(){return xl(this)},Re.prototype.commit=function H3(){return new lc(this.value(),this.__chain__)},Re.prototype.next=function pg(){this.__values__===A&&(this.__values__=Xb(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?A:this.__values__[this.__index__++]}},Re.prototype.plant=function gI(u){for(var p,y=this;y instanceof Yy;){var J=wb(y);J.__index__=0,J.__values__=A,p?ve.__wrapped__=J:p=J;var ve=J;y=y.__wrapped__}return ve.__wrapped__=u,p},Re.prototype.reverse=function EE(){var u=this.__wrapped__;if(u instanceof Ri){var p=u;return this.__actions__.length&&(p=new Ri(this)),(p=p.reverse()).__actions__.push({func:sp,args:[hg],thisArg:A}),new lc(p,this.__chain__)}return this.thru(hg)},Re.prototype.toJSON=Re.prototype.valueOf=Re.prototype.value=function G3(){return Zm(this.__wrapped__,this.__actions__)},Re.prototype.first=Re.prototype.head,ql&&(Re.prototype[ql]=function xE(){return this}),Re}();No._=yo,(Z=function(){return yo}.call(_e,S,_e,Ve))!==A&&(Ve.exports=Z)}.call(this)},5249:(Ve,_e,S)=>{var Z=S(549),A=Z.ARRAY_BUFFER_SUPPORT,$=Z.SYMBOL_SUPPORT;Ve.exports=function(Y,_){var x,N,G,O,k;if(!Y)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof _)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(Y)||A&&ArrayBuffer.isView(Y)||"string"==typeof Y||"[object Arguments]"===Y.toString())for(G=0,O=Y.length;G<O;G++)_(Y[G],G);else if("function"!=typeof Y.forEach)if($&&Symbol.iterator in Y&&"function"!=typeof Y.next&&(Y=Y[Symbol.iterator]()),"function"!=typeof Y.next)for(N in Y)Y.hasOwnProperty(N)&&_(Y[N],N);else for(x=Y,G=0;!0!==(k=x.next()).done;)_(k.value,G),G++;else Y.forEach(_)}},2508:Ve=>{function _e(S){if("function"!=typeof S)throw new Error("obliterator/iterator: expecting a function!");this.next=S}typeof Symbol<"u"&&(_e.prototype[Symbol.iterator]=function(){return this}),_e.of=function(){var S=arguments,Z=S.length,A=0;return new _e(function(){return A>=Z?{done:!0}:{done:!1,value:S[A++]}})},_e.empty=function(){return new _e(function(){return{done:!0}})},_e.fromSequence=function(S){var Z=0,A=S.length;return new _e(function(){return Z>=A?{done:!0}:{done:!1,value:S[Z++]}})},_e.is=function(S){return S instanceof _e||"object"==typeof S&&null!==S&&"function"==typeof S.next},Ve.exports=_e},549:(Ve,_e)=>{_e.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",_e.SYMBOL_SUPPORT=typeof Symbol<"u"},9151:(Ve,_e,S)=>{var Z=S(2508),A=S(5249);function $(){this.clear()}$.prototype.clear=function(){this.items=[],this.offset=0,this.size=0},$.prototype.enqueue=function(H){return this.items.push(H),++this.size},$.prototype.dequeue=function(){if(this.size){var H=this.items[this.offset];return 2*++this.offset>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,H}},$.prototype.peek=function(){if(this.size)return this.items[this.offset]},$.prototype.forEach=function(H,Y){Y=arguments.length>1?Y:this;for(var _=this.offset,x=0,N=this.items.length;_<N;_++,x++)H.call(Y,this.items[_],x,this)},$.prototype.toArray=function(){return this.items.slice(this.offset)},$.prototype.values=function(){var H=this.items,Y=this.offset;return new Z(function(){if(Y>=H.length)return{done:!0};var _=H[Y];return Y++,{value:_,done:!1}})},$.prototype.entries=function(){var H=this.items,Y=this.offset,_=0;return new Z(function(){if(Y>=H.length)return{done:!0};var x=H[Y];return Y++,{value:[_++,x],done:!1}})},typeof Symbol<"u"&&($.prototype[Symbol.iterator]=$.prototype.values),$.prototype.toString=function(){return this.toArray().join(",")},$.prototype.toJSON=function(){return this.toArray()},$.prototype.inspect=function(){var H=this.toArray();return Object.defineProperty(H,"constructor",{value:$,enumerable:!1}),H},typeof Symbol<"u"&&($.prototype[Symbol.for("nodejs.util.inspect.custom")]=$.prototype.inspect),$.from=function(H){var Y=new $;return A(H,function(_){Y.enqueue(_)}),Y},$.of=function(){return $.from(arguments)},Ve.exports=$},5020:Ve=>{Ve.exports=function _e(S,Z,A){function $(_,x){if(!Z[_]){if(!S[_]){if(H)return H(_,!0);throw new Error("Cannot find module '"+_+"'")}x=Z[_]={exports:{}},S[_][0].call(x.exports,function(G){return $(S[_][1][G]||G)},x,x.exports,_e,S,Z,A)}return Z[_].exports}for(var H=void 0,Y=0;Y<A.length;Y++)$(A[Y]);return $}({1:[function(_e,S,Z){(function(A,$,H,Y,_,x,N,G,O){"use strict";var k=_e("crypto");function oe(W,L){var b;return void 0===(b="passthrough"!==(L=re(W,L)).algorithm?k.createHash(L.algorithm):new ee).write&&(b.write=b.update,b.end=b.update),q(L,b).dispatch(W),b.update||b.end(""),b.digest?b.digest("buffer"===L.encoding?void 0:L.encoding):(W=b.read(),"buffer"!==L.encoding?W.toString(L.encoding):W)}(Z=S.exports=oe).sha1=function(W){return oe(W)},Z.keys=function(W){return oe(W,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},Z.MD5=function(W){return oe(W,{algorithm:"md5",encoding:"hex"})},Z.keysMD5=function(W){return oe(W,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var w=k.getHashes?k.getHashes().slice():["sha1","md5"],F=(w.push("passthrough"),["buffer","hex","binary","base64"]);function re(W,L){var b={};if(b.algorithm=(L=L||{}).algorithm||"sha1",b.encoding=L.encoding||"hex",b.excludeValues=!!L.excludeValues,b.algorithm=b.algorithm.toLowerCase(),b.encoding=b.encoding.toLowerCase(),b.ignoreUnknown=!0===L.ignoreUnknown,b.respectType=!1!==L.respectType,b.respectFunctionNames=!1!==L.respectFunctionNames,b.respectFunctionProperties=!1!==L.respectFunctionProperties,b.unorderedArrays=!0===L.unorderedArrays,b.unorderedSets=!1!==L.unorderedSets,b.unorderedObjects=!1!==L.unorderedObjects,b.replacer=L.replacer||void 0,b.excludeKeys=L.excludeKeys||void 0,void 0===W)throw new Error("Object argument required.");for(var I=0;I<w.length;++I)w[I].toLowerCase()===b.algorithm.toLowerCase()&&(b.algorithm=w[I]);if(-1===w.indexOf(b.algorithm))throw new Error('Algorithm "'+b.algorithm+'"  not supported. supported values: '+w.join(", "));if(-1===F.indexOf(b.encoding)&&"passthrough"!==b.algorithm)throw new Error('Encoding "'+b.encoding+'"  not supported. supported values: '+F.join(", "));return b}function X(W){if("function"==typeof W)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(W))}function q(W,L,b){function I(T){return L.update?L.update(T,"utf8"):L.write(T,"utf8")}return b=b||[],{dispatch:function(T){return this["_"+(null===(T=W.replacer?W.replacer(T):T)?"null":typeof T)](T)},_object:function(T){var ce,j=Object.prototype.toString.call(T),Ie=/\[object (.*)\]/i.exec(j);if(Ie=(Ie=Ie?Ie[1]:"unknown:["+j+"]").toLowerCase(),0<=(j=b.indexOf(T)))return this.dispatch("[CIRCULAR:"+j+"]");if(b.push(T),void 0!==H&&H.isBuffer&&H.isBuffer(T))return I("buffer:"),I(T);if("object"===Ie||"function"===Ie||"asyncfunction"===Ie)return j=Object.keys(T),W.unorderedObjects&&(j=j.sort()),!1===W.respectType||X(T)||j.splice(0,0,"prototype","__proto__","constructor"),W.excludeKeys&&(j=j.filter(function(ae){return!W.excludeKeys(ae)})),I("object:"+j.length+":"),ce=this,j.forEach(function(ae){ce.dispatch(ae),I(":"),W.excludeValues||ce.dispatch(T[ae]),I(",")});if(!this["_"+Ie]){if(W.ignoreUnknown)return I("["+Ie+"]");throw new Error('Unknown object type "'+Ie+'"')}this["_"+Ie](T)},_array:function(T,ae){ae=void 0!==ae?ae:!1!==W.unorderedArrays;var j=this;if(I("array:"+T.length+":"),!ae||T.length<=1)return T.forEach(function(xe){return j.dispatch(xe)});var Ie=[];return ae=T.map(function(xe){var Ne=new ee,Ge=b.slice();return q(W,Ne,Ge).dispatch(xe),Ie=Ie.concat(Ge.slice(b.length)),Ne.read().toString()}),b=b.concat(Ie),ae.sort(),this._array(ae,!1)},_date:function(T){return I("date:"+T.toJSON())},_symbol:function(T){return I("symbol:"+T.toString())},_error:function(T){return I("error:"+T.toString())},_boolean:function(T){return I("bool:"+T.toString())},_string:function(T){I("string:"+T.length+":"),I(T.toString())},_function:function(T){I("fn:"),X(T)?this.dispatch("[native]"):this.dispatch(T.toString()),!1!==W.respectFunctionNames&&this.dispatch("function-name:"+String(T.name)),W.respectFunctionProperties&&this._object(T)},_number:function(T){return I("number:"+T.toString())},_xml:function(T){return I("xml:"+T.toString())},_null:function(){return I("Null")},_undefined:function(){return I("Undefined")},_regexp:function(T){return I("regex:"+T.toString())},_uint8array:function(T){return I("uint8array:"),this.dispatch(Array.prototype.slice.call(T))},_uint8clampedarray:function(T){return I("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(T))},_int8array:function(T){return I("int8array:"),this.dispatch(Array.prototype.slice.call(T))},_uint16array:function(T){return I("uint16array:"),this.dispatch(Array.prototype.slice.call(T))},_int16array:function(T){return I("int16array:"),this.dispatch(Array.prototype.slice.call(T))},_uint32array:function(T){return I("uint32array:"),this.dispatch(Array.prototype.slice.call(T))},_int32array:function(T){return I("int32array:"),this.dispatch(Array.prototype.slice.call(T))},_float32array:function(T){return I("float32array:"),this.dispatch(Array.prototype.slice.call(T))},_float64array:function(T){return I("float64array:"),this.dispatch(Array.prototype.slice.call(T))},_arraybuffer:function(T){return I("arraybuffer:"),this.dispatch(new Uint8Array(T))},_url:function(T){return I("url:"+T.toString())},_map:function(T){return I("map:"),T=Array.from(T),this._array(T,!1!==W.unorderedSets)},_set:function(T){return I("set:"),T=Array.from(T),this._array(T,!1!==W.unorderedSets)},_file:function(T){return I("file:"),this.dispatch([T.name,T.size,T.type,T.lastModfied])},_blob:function(){if(W.ignoreUnknown)return I("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return I("domwindow")},_bigint:function(T){return I("bigint:"+T.toString())},_process:function(){return I("process")},_timer:function(){return I("timer")},_pipe:function(){return I("pipe")},_tcp:function(){return I("tcp")},_udp:function(){return I("udp")},_tty:function(){return I("tty")},_statwatcher:function(){return I("statwatcher")},_securecontext:function(){return I("securecontext")},_connection:function(){return I("connection")},_zlib:function(){return I("zlib")},_context:function(){return I("context")},_nodescript:function(){return I("nodescript")},_httpparser:function(){return I("httpparser")},_dataview:function(){return I("dataview")},_signal:function(){return I("signal")},_fsevent:function(){return I("fsevent")},_tlswrap:function(){return I("tlswrap")}}}function ee(){return{buf:"",write:function(W){this.buf+=W},end:function(W){this.buf+=W},read:function(){return this.buf}}}Z.writeToStream=function(W,L,b){return void 0===b&&(b=L,L={}),q(L=re(W,L),b).dispatch(W)}}).call(this,_e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},_e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(_e,S,Z){(function(A,$,H,Y,_,x,N,G,O){!function(k){"use strict";var oe=typeof Uint8Array<"u"?Uint8Array:Array,w="+".charCodeAt(0),F="/".charCodeAt(0),re="0".charCodeAt(0),X="a".charCodeAt(0),q="A".charCodeAt(0),ee="-".charCodeAt(0),W="_".charCodeAt(0);function L(b){return(b=b.charCodeAt(0))===w||b===ee?62:b===F||b===W?63:b<re?-1:b<re+10?b-re+26+26:b<q+26?b-q:b<X+26?b-X+26:void 0}k.toByteArray=function(b){var I,T;if(0<b.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var ce="="===b.charAt((ce=b.length)-2)?2:"="===b.charAt(ce-1)?1:0,j=new oe(3*b.length/4-ce),Ie=0<ce?b.length-4:b.length,ae=0;function xe(Ne){j[ae++]=Ne}for(I=0;I<Ie;I+=4,0)xe((16711680&(T=L(b.charAt(I))<<18|L(b.charAt(I+1))<<12|L(b.charAt(I+2))<<6|L(b.charAt(I+3))))>>16),xe((65280&T)>>8),xe(255&T);return 2==ce?xe(255&(T=L(b.charAt(I))<<2|L(b.charAt(I+1))>>4)):1==ce&&(xe((T=L(b.charAt(I))<<10|L(b.charAt(I+1))<<4|L(b.charAt(I+2))>>2)>>8&255),xe(255&T)),j},k.fromByteArray=function(b){var I,T,ce,j,Ie=b.length%3,ae="";function xe(Ne){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(Ne)}for(I=0,ce=b.length-Ie;I<ce;I+=3)ae+=xe((j=T=(b[I]<<16)+(b[I+1]<<8)+b[I+2])>>18&63)+xe(j>>12&63)+xe(j>>6&63)+xe(63&j);switch(Ie){case 1:ae=(ae+=xe((T=b[b.length-1])>>2))+xe(T<<4&63)+"==";break;case 2:ae=(ae=(ae+=xe((T=(b[b.length-2]<<8)+b[b.length-1])>>10))+xe(T>>4&63))+xe(T<<2&63)+"="}return ae}}(void 0===Z?this.base64js={}:Z)}).call(this,_e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},_e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(_e,S,Z){(function(A,$,w,Y,_,x,N,G,O){var k=_e("base64-js"),oe=_e("ieee754");function w(pe,R,E){if(!(this instanceof w))return new w(pe,R,E);var ie,Q,He,Qe,de=typeof pe;if("base64"===R&&"string"==de)for(pe=(Qe=pe).trim?Qe.trim():Qe.replace(/^\s+|\s+$/g,"");pe.length%4!=0;)pe+="=";if("number"==de)ie=it(pe);else if("string"==de)ie=w.byteLength(pe,R);else{if("object"!=de)throw new Error("First argument needs to be a number, array or string.");ie=it(pe.length)}if(w._useTypedArrays?Q=w._augment(new Uint8Array(ie)):((Q=this).length=ie,Q._isBuffer=!0),w._useTypedArrays&&"number"==typeof pe.byteLength)Q._set(pe);else if(Ke(Qe=pe)||w.isBuffer(Qe)||Qe&&"object"==typeof Qe&&"number"==typeof Qe.length)for(He=0;He<ie;He++)Q[He]=w.isBuffer(pe)?pe.readUInt8(He):pe[He];else if("string"==de)Q.write(pe,0,R);else if("number"==de&&!w._useTypedArrays&&!E)for(He=0;He<ie;He++)Q[He]=0;return Q}function q(pe,R,E,He){var Q;if(He||(Je("boolean"==typeof E,"missing or invalid endian"),Je(null!=R,"missing offset"),Je(R+1<pe.length,"Trying to read beyond buffer length")),!((He=pe.length)<=R))return E?(Q=pe[R],R+1<He&&(Q|=pe[R+1]<<8)):(Q=pe[R]<<8,R+1<He&&(Q|=pe[R+1])),Q}function ee(pe,R,E,He){var Q;if(He||(Je("boolean"==typeof E,"missing or invalid endian"),Je(null!=R,"missing offset"),Je(R+3<pe.length,"Trying to read beyond buffer length")),!((He=pe.length)<=R))return E?(R+2<He&&(Q=pe[R+2]<<16),R+1<He&&(Q|=pe[R+1]<<8),Q|=pe[R],R+3<He&&(Q+=pe[R+3]<<24>>>0)):(R+1<He&&(Q=pe[R+1]<<16),R+2<He&&(Q|=pe[R+2]<<8),R+3<He&&(Q|=pe[R+3]),Q+=pe[R]<<24>>>0),Q}function W(pe,R,E,ie){if(ie||(Je("boolean"==typeof E,"missing or invalid endian"),Je(null!=R,"missing offset"),Je(R+1<pe.length,"Trying to read beyond buffer length")),!(pe.length<=R))return 32768&(ie=q(pe,R,E,!0))?-1*(65535-ie+1):ie}function L(pe,R,E,ie){if(ie||(Je("boolean"==typeof E,"missing or invalid endian"),Je(null!=R,"missing offset"),Je(R+3<pe.length,"Trying to read beyond buffer length")),!(pe.length<=R))return 2147483648&(ie=ee(pe,R,E,!0))?-1*(4294967295-ie+1):ie}function b(pe,R,E,ie){return ie||(Je("boolean"==typeof E,"missing or invalid endian"),Je(R+3<pe.length,"Trying to read beyond buffer length")),oe.read(pe,R,E,23,4)}function I(pe,R,E,ie){return ie||(Je("boolean"==typeof E,"missing or invalid endian"),Je(R+7<pe.length,"Trying to read beyond buffer length")),oe.read(pe,R,E,52,8)}function T(pe,R,E,ie,Q){if(Q||(Je(null!=R,"missing value"),Je("boolean"==typeof ie,"missing or invalid endian"),Je(null!=E,"missing offset"),Je(E+1<pe.length,"trying to write beyond buffer length"),Ce(R,65535)),!((Q=pe.length)<=E))for(var He=0,Qe=Math.min(Q-E,2);He<Qe;He++)pe[E+He]=(R&255<<8*(ie?He:1-He))>>>8*(ie?He:1-He)}function ce(pe,R,E,ie,Q){if(Q||(Je(null!=R,"missing value"),Je("boolean"==typeof ie,"missing or invalid endian"),Je(null!=E,"missing offset"),Je(E+3<pe.length,"trying to write beyond buffer length"),Ce(R,4294967295)),!((Q=pe.length)<=E))for(var He=0,Qe=Math.min(Q-E,4);He<Qe;He++)pe[E+He]=R>>>8*(ie?He:3-He)&255}function j(pe,R,E,ie,Q){Q||(Je(null!=R,"missing value"),Je("boolean"==typeof ie,"missing or invalid endian"),Je(null!=E,"missing offset"),Je(E+1<pe.length,"Trying to write beyond buffer length"),at(R,32767,-32768)),pe.length<=E||T(pe,0<=R?R:65535+R+1,E,ie,Q)}function Ie(pe,R,E,ie,Q){Q||(Je(null!=R,"missing value"),Je("boolean"==typeof ie,"missing or invalid endian"),Je(null!=E,"missing offset"),Je(E+3<pe.length,"Trying to write beyond buffer length"),at(R,2147483647,-2147483648)),pe.length<=E||ce(pe,0<=R?R:4294967295+R+1,E,ie,Q)}function ae(pe,R,E,ie,Q){Q||(Je(null!=R,"missing value"),Je("boolean"==typeof ie,"missing or invalid endian"),Je(null!=E,"missing offset"),Je(E+3<pe.length,"Trying to write beyond buffer length"),vt(R,34028234663852886e22,-34028234663852886e22)),pe.length<=E||oe.write(pe,R,E,ie,23,4)}function xe(pe,R,E,ie,Q){Q||(Je(null!=R,"missing value"),Je("boolean"==typeof ie,"missing or invalid endian"),Je(null!=E,"missing offset"),Je(E+7<pe.length,"Trying to write beyond buffer length"),vt(R,17976931348623157e292,-17976931348623157e292)),pe.length<=E||oe.write(pe,R,E,ie,52,8)}Z.Buffer=w,Z.SlowBuffer=w,Z.INSPECT_MAX_BYTES=50,w.poolSize=8192,w._useTypedArrays=function(){try{var pe=new ArrayBuffer(0),R=new Uint8Array(pe);return R.foo=function(){return 42},42===R.foo()&&"function"==typeof R.subarray}catch{return!1}}(),w.isEncoding=function(pe){switch(String(pe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.isBuffer=function(pe){return!(null==pe||!pe._isBuffer)},w.byteLength=function(pe,R){var E;switch(pe+="",R||"utf8"){case"hex":E=pe.length/2;break;case"utf8":case"utf-8":E=ze(pe).length;break;case"ascii":case"binary":case"raw":E=pe.length;break;case"base64":E=Se(pe).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":E=2*pe.length;break;default:throw new Error("Unknown encoding")}return E},w.concat=function(pe,R){if(Je(Ke(pe),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===pe.length)return new w(0);if(1===pe.length)return pe[0];if("number"!=typeof R)for(Q=R=0;Q<pe.length;Q++)R+=pe[Q].length;for(var E=new w(R),ie=0,Q=0;Q<pe.length;Q++){var He=pe[Q];He.copy(E,ie),ie+=He.length}return E},w.prototype.write=function(pe,R,E,ie){isFinite(R)?isFinite(E)||(ie=E,E=void 0):(ne=ie,ie=R,R=E,E=ne),R=Number(R)||0;var Q,He,Qe,de,ne=this.length-R;switch((!E||ne<(E=Number(E)))&&(E=ne),ie=String(ie||"utf8").toLowerCase()){case"hex":Q=function(U,M,P,he){P=Number(P)||0;var Xe=U.length-P;(!he||Xe<(he=Number(he)))&&(he=Xe),Je((Xe=M.length)%2==0,"Invalid hex string"),Xe/2<he&&(he=Xe/2);for(var Ee=0;Ee<he;Ee++){var Oe=parseInt(M.substr(2*Ee,2),16);Je(!isNaN(Oe),"Invalid hex string"),U[P+Ee]=Oe}return w._charsWritten=2*Ee,Ee}(this,pe,R,E);break;case"utf8":case"utf-8":He=this,Qe=R,de=E,Q=w._charsWritten=Ue(ze(pe),He,Qe,de);break;case"ascii":case"binary":Q=function F(pe,R,E,ie){return w._charsWritten=Ue(function(Q){for(var He=[],Qe=0;Qe<Q.length;Qe++)He.push(255&Q.charCodeAt(Qe));return He}(R),pe,E,ie)}(this,pe,R,E);break;case"base64":He=this,Qe=R,de=E,Q=w._charsWritten=Ue(Se(pe),He,Qe,de);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Q=function re(pe,R,E,ie){return w._charsWritten=Ue(function(Q){for(var He,Qe,de=[],ne=0;ne<Q.length;ne++)He=(Qe=Q.charCodeAt(ne))>>8,de.push(Qe%=256),de.push(He);return de}(R),pe,E,ie)}(this,pe,R,E);break;default:throw new Error("Unknown encoding")}return Q},w.prototype.toString=function(pe,R,E){var ie,Q,He,Qe,de=this;if(pe=String(pe||"utf8").toLowerCase(),R=Number(R)||0,(E=void 0!==E?Number(E):de.length)===R)return"";switch(pe){case"hex":ie=function(ne,U,M){var P=ne.length;(!U||U<0)&&(U=0),(!M||M<0||P<M)&&(M=P);for(var he="",Xe=U;Xe<M;Xe++)he+=Ae(ne[Xe]);return he}(de,R,E);break;case"utf8":case"utf-8":ie=function(ne,U,M){var P="",he="";M=Math.min(ne.length,M);for(var Xe=U;Xe<M;Xe++)ne[Xe]<=127?(P+=ue(he)+String.fromCharCode(ne[Xe]),he=""):he+="%"+ne[Xe].toString(16);return P+ue(he)}(de,R,E);break;case"ascii":case"binary":ie=function X(pe,R,E){var ie="";E=Math.min(pe.length,E);for(var Q=R;Q<E;Q++)ie+=String.fromCharCode(pe[Q]);return ie}(de,R,E);break;case"base64":Q=de,Qe=E,ie=0===(He=R)&&Qe===Q.length?k.fromByteArray(Q):k.fromByteArray(Q.slice(He,Qe));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ie=function(ne,U,M){for(var P=ne.slice(U,M),he="",Xe=0;Xe<P.length;Xe+=2)he+=String.fromCharCode(P[Xe]+256*P[Xe+1]);return he}(de,R,E);break;default:throw new Error("Unknown encoding")}return ie},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},w.prototype.copy=function(pe,R,E,ie){if(R=R||0,(ie=ie||0===ie?ie:this.length)!==(E=E||0)&&0!==pe.length&&0!==this.length){Je(E<=ie,"sourceEnd < sourceStart"),Je(0<=R&&R<pe.length,"targetStart out of bounds"),Je(0<=E&&E<this.length,"sourceStart out of bounds"),Je(0<=ie&&ie<=this.length,"sourceEnd out of bounds"),ie>this.length&&(ie=this.length);var Q=(ie=pe.length-R<ie-E?pe.length-R+E:ie)-E;if(Q<100||!w._useTypedArrays)for(var He=0;He<Q;He++)pe[He+R]=this[He+E];else pe._set(this.subarray(E,E+Q),R)}},w.prototype.slice=function(pe,R){var E=this.length;if(pe=Ge(pe,E,0),R=Ge(R,E,E),w._useTypedArrays)return w._augment(this.subarray(pe,R));for(var ie=R-pe,Q=new w(ie,void 0,!0),He=0;He<ie;He++)Q[He]=this[He+pe];return Q},w.prototype.get=function(pe){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(pe)},w.prototype.set=function(pe,R){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(pe,R)},w.prototype.readUInt8=function(pe,R){if(R||(Je(null!=pe,"missing offset"),Je(pe<this.length,"Trying to read beyond buffer length")),!(pe>=this.length))return this[pe]},w.prototype.readUInt16LE=function(pe,R){return q(this,pe,!0,R)},w.prototype.readUInt16BE=function(pe,R){return q(this,pe,!1,R)},w.prototype.readUInt32LE=function(pe,R){return ee(this,pe,!0,R)},w.prototype.readUInt32BE=function(pe,R){return ee(this,pe,!1,R)},w.prototype.readInt8=function(pe,R){if(R||(Je(null!=pe,"missing offset"),Je(pe<this.length,"Trying to read beyond buffer length")),!(pe>=this.length))return 128&this[pe]?-1*(255-this[pe]+1):this[pe]},w.prototype.readInt16LE=function(pe,R){return W(this,pe,!0,R)},w.prototype.readInt16BE=function(pe,R){return W(this,pe,!1,R)},w.prototype.readInt32LE=function(pe,R){return L(this,pe,!0,R)},w.prototype.readInt32BE=function(pe,R){return L(this,pe,!1,R)},w.prototype.readFloatLE=function(pe,R){return b(this,pe,!0,R)},w.prototype.readFloatBE=function(pe,R){return b(this,pe,!1,R)},w.prototype.readDoubleLE=function(pe,R){return I(this,pe,!0,R)},w.prototype.readDoubleBE=function(pe,R){return I(this,pe,!1,R)},w.prototype.writeUInt8=function(pe,R,E){E||(Je(null!=pe,"missing value"),Je(null!=R,"missing offset"),Je(R<this.length,"trying to write beyond buffer length"),Ce(pe,255)),R>=this.length||(this[R]=pe)},w.prototype.writeUInt16LE=function(pe,R,E){T(this,pe,R,!0,E)},w.prototype.writeUInt16BE=function(pe,R,E){T(this,pe,R,!1,E)},w.prototype.writeUInt32LE=function(pe,R,E){ce(this,pe,R,!0,E)},w.prototype.writeUInt32BE=function(pe,R,E){ce(this,pe,R,!1,E)},w.prototype.writeInt8=function(pe,R,E){E||(Je(null!=pe,"missing value"),Je(null!=R,"missing offset"),Je(R<this.length,"Trying to write beyond buffer length"),at(pe,127,-128)),R>=this.length||this.writeUInt8(0<=pe?pe:255+pe+1,R,E)},w.prototype.writeInt16LE=function(pe,R,E){j(this,pe,R,!0,E)},w.prototype.writeInt16BE=function(pe,R,E){j(this,pe,R,!1,E)},w.prototype.writeInt32LE=function(pe,R,E){Ie(this,pe,R,!0,E)},w.prototype.writeInt32BE=function(pe,R,E){Ie(this,pe,R,!1,E)},w.prototype.writeFloatLE=function(pe,R,E){ae(this,pe,R,!0,E)},w.prototype.writeFloatBE=function(pe,R,E){ae(this,pe,R,!1,E)},w.prototype.writeDoubleLE=function(pe,R,E){xe(this,pe,R,!0,E)},w.prototype.writeDoubleBE=function(pe,R,E){xe(this,pe,R,!1,E)},w.prototype.fill=function(pe,R,E){if(R=R||0,E=E||this.length,Je("number"==typeof(pe="string"==typeof(pe=pe||0)?pe.charCodeAt(0):pe)&&!isNaN(pe),"value is not a number"),Je(R<=E,"end < start"),E!==R&&0!==this.length){Je(0<=R&&R<this.length,"start out of bounds"),Je(0<=E&&E<=this.length,"end out of bounds");for(var ie=R;ie<E;ie++)this[ie]=pe}},w.prototype.inspect=function(){for(var pe=[],R=this.length,E=0;E<R;E++)if(pe[E]=Ae(this[E]),E===Z.INSPECT_MAX_BYTES){pe[E+1]="...";break}return"<Buffer "+pe.join(" ")+">"},w.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(w._useTypedArrays)return new w(this).buffer;for(var pe=new Uint8Array(this.length),R=0,E=pe.length;R<E;R+=1)pe[R]=this[R];return pe.buffer};var Ne=w.prototype;function Ge(pe,R,E){return"number"!=typeof pe?E:R<=(pe=~~pe)?R:0<=pe||0<=(pe+=R)?pe:0}function it(pe){return(pe=~~Math.ceil(+pe))<0?0:pe}function Ke(pe){return(Array.isArray||function(R){return"[object Array]"===Object.prototype.toString.call(R)})(pe)}function Ae(pe){return pe<16?"0"+pe.toString(16):pe.toString(16)}function ze(pe){for(var R=[],E=0;E<pe.length;E++){var ie=pe.charCodeAt(E);if(ie<=127)R.push(pe.charCodeAt(E));else for(var Q=E,He=(55296<=ie&&ie<=57343&&E++,encodeURIComponent(pe.slice(Q,E+1)).substr(1).split("%")),Qe=0;Qe<He.length;Qe++)R.push(parseInt(He[Qe],16))}return R}function Se(pe){return k.toByteArray(pe)}function Ue(pe,R,E,ie){for(var Q=0;Q<ie&&!(Q+E>=R.length||Q>=pe.length);Q++)R[Q+E]=pe[Q];return Q}function ue(pe){try{return decodeURIComponent(pe)}catch{return String.fromCharCode(65533)}}function Ce(pe,R){Je("number"==typeof pe,"cannot write a non-number as a number"),Je(0<=pe,"specified a negative value for writing an unsigned value"),Je(pe<=R,"value is larger than maximum value for type"),Je(Math.floor(pe)===pe,"value has a fractional component")}function at(pe,R,E){Je("number"==typeof pe,"cannot write a non-number as a number"),Je(pe<=R,"value larger than maximum allowed value"),Je(E<=pe,"value smaller than minimum allowed value"),Je(Math.floor(pe)===pe,"value has a fractional component")}function vt(pe,R,E){Je("number"==typeof pe,"cannot write a non-number as a number"),Je(pe<=R,"value larger than maximum allowed value"),Je(E<=pe,"value smaller than minimum allowed value")}function Je(pe,R){if(!pe)throw new Error(R||"Failed assertion")}w._augment=function(pe){return pe._isBuffer=!0,pe._get=pe.get,pe._set=pe.set,pe.get=Ne.get,pe.set=Ne.set,pe.write=Ne.write,pe.toString=Ne.toString,pe.toLocaleString=Ne.toString,pe.toJSON=Ne.toJSON,pe.copy=Ne.copy,pe.slice=Ne.slice,pe.readUInt8=Ne.readUInt8,pe.readUInt16LE=Ne.readUInt16LE,pe.readUInt16BE=Ne.readUInt16BE,pe.readUInt32LE=Ne.readUInt32LE,pe.readUInt32BE=Ne.readUInt32BE,pe.readInt8=Ne.readInt8,pe.readInt16LE=Ne.readInt16LE,pe.readInt16BE=Ne.readInt16BE,pe.readInt32LE=Ne.readInt32LE,pe.readInt32BE=Ne.readInt32BE,pe.readFloatLE=Ne.readFloatLE,pe.readFloatBE=Ne.readFloatBE,pe.readDoubleLE=Ne.readDoubleLE,pe.readDoubleBE=Ne.readDoubleBE,pe.writeUInt8=Ne.writeUInt8,pe.writeUInt16LE=Ne.writeUInt16LE,pe.writeUInt16BE=Ne.writeUInt16BE,pe.writeUInt32LE=Ne.writeUInt32LE,pe.writeUInt32BE=Ne.writeUInt32BE,pe.writeInt8=Ne.writeInt8,pe.writeInt16LE=Ne.writeInt16LE,pe.writeInt16BE=Ne.writeInt16BE,pe.writeInt32LE=Ne.writeInt32LE,pe.writeInt32BE=Ne.writeInt32BE,pe.writeFloatLE=Ne.writeFloatLE,pe.writeFloatBE=Ne.writeFloatBE,pe.writeDoubleLE=Ne.writeDoubleLE,pe.writeDoubleBE=Ne.writeDoubleBE,pe.fill=Ne.fill,pe.inspect=Ne.inspect,pe.toArrayBuffer=Ne.toArrayBuffer,pe}}).call(this,_e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},_e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(_e,S,Z){(function(A,$,k,Y,_,x,N,G,O){k=_e("buffer").Buffer;var w=new k(4);w.fill(0),S.exports={hash:function(F,re,X,q){for(var ee=re(function(T,ce){T.length%4!=0&&(T=k.concat([T,w],T.length+(4-T.length%4)));for(var Ie=[],ae=ce?T.readInt32BE:T.readInt32LE,xe=0;xe<T.length;xe+=4)Ie.push(ae.call(T,xe));return Ie}(F=k.isBuffer(F)?F:new k(F),q),8*F.length),W=(re=q,new k(X)),L=re?W.writeInt32BE:W.writeInt32LE,b=0;b<ee.length;b++)L.call(W,ee[b],4*b,!0);return W}}}).call(this,_e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},_e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(_e,S,Z){(function(A,$,k,Y,_,x,N,G,O){k=_e("buffer").Buffer;var oe=_e("./sha"),w=_e("./sha256"),F=_e("./rng"),re={sha1:oe,sha256:w,md5:_e("./md5")},X=64,q=new k(X);function ee(T,ce){var j=re[T=T||"sha1"],Ie=[];return j||W("algorithm:",T,"is not yet supported"),{update:function(ae){return k.isBuffer(ae)||(ae=new k(ae)),Ie.push(ae),this},digest:function(ae){var xe=k.concat(Ie);return xe=ce?function(Ne,Ge,it){k.isBuffer(Ge)||(Ge=new k(Ge)),k.isBuffer(it)||(it=new k(it)),Ge.length>X?Ge=Ne(Ge):Ge.length<X&&(Ge=k.concat([Ge,q],X));for(var Ke=new k(X),Ae=new k(X),ze=0;ze<X;ze++)Ke[ze]=54^Ge[ze],Ae[ze]=92^Ge[ze];return it=Ne(k.concat([Ke,it])),Ne(k.concat([Ae,it]))}(j,ce,xe):j(xe),Ie=null,ae?xe.toString(ae):xe}}}function W(){var T=[].slice.call(arguments).join(" ");throw new Error([T,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}q.fill(0),Z.createHash=function(T){return ee(T)},Z.createHmac=ee,Z.randomBytes=function(T,ce){if(!ce||!ce.call)return new k(F(T));try{ce.call(this,void 0,new k(F(T)))}catch(j){ce(j)}};var L,b=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],I=function(T){Z[T]=function(){W("sorry,",T,"is not implemented yet")}};for(L in b)I(b[L])}).call(this,_e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},_e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(_e,S,Z){(function(A,$,H,Y,_,x,N,G,O){var k=_e("./helpers");function oe(W,L){W[L>>5]|=128<<L%32,W[14+(L+64>>>9<<4)]=L;for(var b=1732584193,I=-271733879,T=-1732584194,ce=271733878,j=0;j<W.length;j+=16){var Ie=b,ae=I,xe=T,Ne=ce;b=F(b,I,T,ce,W[j+0],7,-680876936),ce=F(ce,b,I,T,W[j+1],12,-389564586),T=F(T,ce,b,I,W[j+2],17,606105819),I=F(I,T,ce,b,W[j+3],22,-1044525330),b=F(b,I,T,ce,W[j+4],7,-176418897),ce=F(ce,b,I,T,W[j+5],12,1200080426),T=F(T,ce,b,I,W[j+6],17,-1473231341),I=F(I,T,ce,b,W[j+7],22,-45705983),b=F(b,I,T,ce,W[j+8],7,1770035416),ce=F(ce,b,I,T,W[j+9],12,-1958414417),T=F(T,ce,b,I,W[j+10],17,-42063),I=F(I,T,ce,b,W[j+11],22,-1990404162),b=F(b,I,T,ce,W[j+12],7,1804603682),ce=F(ce,b,I,T,W[j+13],12,-40341101),T=F(T,ce,b,I,W[j+14],17,-1502002290),b=re(b,I=F(I,T,ce,b,W[j+15],22,1236535329),T,ce,W[j+1],5,-165796510),ce=re(ce,b,I,T,W[j+6],9,-1069501632),T=re(T,ce,b,I,W[j+11],14,643717713),I=re(I,T,ce,b,W[j+0],20,-373897302),b=re(b,I,T,ce,W[j+5],5,-701558691),ce=re(ce,b,I,T,W[j+10],9,38016083),T=re(T,ce,b,I,W[j+15],14,-660478335),I=re(I,T,ce,b,W[j+4],20,-405537848),b=re(b,I,T,ce,W[j+9],5,568446438),ce=re(ce,b,I,T,W[j+14],9,-1019803690),T=re(T,ce,b,I,W[j+3],14,-187363961),I=re(I,T,ce,b,W[j+8],20,1163531501),b=re(b,I,T,ce,W[j+13],5,-1444681467),ce=re(ce,b,I,T,W[j+2],9,-51403784),T=re(T,ce,b,I,W[j+7],14,1735328473),b=X(b,I=re(I,T,ce,b,W[j+12],20,-1926607734),T,ce,W[j+5],4,-378558),ce=X(ce,b,I,T,W[j+8],11,-2022574463),T=X(T,ce,b,I,W[j+11],16,1839030562),I=X(I,T,ce,b,W[j+14],23,-35309556),b=X(b,I,T,ce,W[j+1],4,-1530992060),ce=X(ce,b,I,T,W[j+4],11,1272893353),T=X(T,ce,b,I,W[j+7],16,-155497632),I=X(I,T,ce,b,W[j+10],23,-1094730640),b=X(b,I,T,ce,W[j+13],4,681279174),ce=X(ce,b,I,T,W[j+0],11,-358537222),T=X(T,ce,b,I,W[j+3],16,-722521979),I=X(I,T,ce,b,W[j+6],23,76029189),b=X(b,I,T,ce,W[j+9],4,-640364487),ce=X(ce,b,I,T,W[j+12],11,-421815835),T=X(T,ce,b,I,W[j+15],16,530742520),b=q(b,I=X(I,T,ce,b,W[j+2],23,-995338651),T,ce,W[j+0],6,-198630844),ce=q(ce,b,I,T,W[j+7],10,1126891415),T=q(T,ce,b,I,W[j+14],15,-1416354905),I=q(I,T,ce,b,W[j+5],21,-57434055),b=q(b,I,T,ce,W[j+12],6,1700485571),ce=q(ce,b,I,T,W[j+3],10,-1894986606),T=q(T,ce,b,I,W[j+10],15,-1051523),I=q(I,T,ce,b,W[j+1],21,-2054922799),b=q(b,I,T,ce,W[j+8],6,1873313359),ce=q(ce,b,I,T,W[j+15],10,-30611744),T=q(T,ce,b,I,W[j+6],15,-1560198380),I=q(I,T,ce,b,W[j+13],21,1309151649),b=q(b,I,T,ce,W[j+4],6,-145523070),ce=q(ce,b,I,T,W[j+11],10,-1120210379),T=q(T,ce,b,I,W[j+2],15,718787259),I=q(I,T,ce,b,W[j+9],21,-343485551),b=ee(b,Ie),I=ee(I,ae),T=ee(T,xe),ce=ee(ce,Ne)}return Array(b,I,T,ce)}function w(W,L,b,I,T,ce){return ee((L=ee(ee(L,W),ee(I,ce)))<<T|L>>>32-T,b)}function F(W,L,b,I,T,ce,j){return w(L&b|~L&I,W,L,T,ce,j)}function re(W,L,b,I,T,ce,j){return w(L&I|b&~I,W,L,T,ce,j)}function X(W,L,b,I,T,ce,j){return w(L^b^I,W,L,T,ce,j)}function q(W,L,b,I,T,ce,j){return w(b^(L|~I),W,L,T,ce,j)}function ee(W,L){var b=(65535&W)+(65535&L);return(W>>16)+(L>>16)+(b>>16)<<16|65535&b}S.exports=function(W){return k.hash(W,oe,16)}}).call(this,_e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},_e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(_e,S,Z){(function(A,$,H,Y,_,x,N,G,O){S.exports=function(oe){for(var w,F=new Array(oe),re=0;re<oe;re++)!(3&re)&&(w=4294967296*Math.random()),F[re]=w>>>((3&re)<<3)&255;return F}}).call(this,_e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},_e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(_e,S,Z){(function(A,$,H,Y,_,x,N,G,O){var k=_e("./helpers");function oe(re,X){re[X>>5]|=128<<24-X%32,re[15+(X+64>>9<<4)]=X;for(var q,ee,W,L=Array(80),b=1732584193,I=-271733879,T=-1732584194,ce=271733878,j=-1009589776,Ie=0;Ie<re.length;Ie+=16){for(var ae=b,xe=I,Ne=T,Ge=ce,it=j,Ke=0;Ke<80;Ke++){L[Ke]=Ke<16?re[Ie+Ke]:F(L[Ke-3]^L[Ke-8]^L[Ke-14]^L[Ke-16],1);var Ae=w(w(F(b,5),(Ae=I,ee=T,W=ce,(q=Ke)<20?Ae&ee|~Ae&W:!(q<40)&&q<60?Ae&ee|Ae&W|ee&W:Ae^ee^W)),w(w(j,L[Ke]),(q=Ke)<20?1518500249:q<40?1859775393:q<60?-1894007588:-899497514));j=ce,ce=T,T=F(I,30),I=b,b=Ae}b=w(b,ae),I=w(I,xe),T=w(T,Ne),ce=w(ce,Ge),j=w(j,it)}return Array(b,I,T,ce,j)}function w(re,X){var q=(65535&re)+(65535&X);return(re>>16)+(X>>16)+(q>>16)<<16|65535&q}function F(re,X){return re<<X|re>>>32-X}S.exports=function(re){return k.hash(re,oe,20,!0)}}).call(this,_e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},_e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(_e,S,Z){(function(A,$,H,Y,_,x,N,G,O){function k(X,q){var ee=(65535&X)+(65535&q);return(X>>16)+(q>>16)+(ee>>16)<<16|65535&ee}function oe(X,q){var ee,W=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),L=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),b=new Array(64);X[q>>5]|=128<<24-q%32,X[15+(q+64>>9<<4)]=q;for(var I,T,ce=0;ce<X.length;ce+=16){for(var j=L[0],Ie=L[1],ae=L[2],xe=L[3],Ne=L[4],Ge=L[5],it=L[6],Ke=L[7],Ae=0;Ae<64;Ae++)b[Ae]=Ae<16?X[Ae+ce]:k(k(k(F(T=b[Ae-2],17)^F(T,19)^re(T,10),b[Ae-7]),F(T=b[Ae-15],7)^F(T,18)^re(T,3)),b[Ae-16]),ee=k(k(k(k(Ke,F(T=Ne,6)^F(T,11)^F(T,25)),Ne&Ge^~Ne&it),W[Ae]),b[Ae]),I=k(F(I=j,2)^F(I,13)^F(I,22),j&Ie^j&ae^Ie&ae),Ke=it,it=Ge,Ge=Ne,Ne=k(xe,ee),xe=ae,ae=Ie,Ie=j,j=k(ee,I);L[0]=k(j,L[0]),L[1]=k(Ie,L[1]),L[2]=k(ae,L[2]),L[3]=k(xe,L[3]),L[4]=k(Ne,L[4]),L[5]=k(Ge,L[5]),L[6]=k(it,L[6]),L[7]=k(Ke,L[7])}return L}var w=_e("./helpers"),F=function(X,q){return X>>>q|X<<32-q},re=function(X,q){return X>>>q};S.exports=function(X){return w.hash(X,oe,32,!0)}}).call(this,_e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},_e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(_e,S,Z){(function(A,$,H,Y,_,x,N,G,O){Z.read=function(k,oe,w,F,ce){var X,q,ee=8*ce-F-1,W=(1<<ee)-1,L=W>>1,b=-7,I=w?ce-1:0,T=w?-1:1;for(ce=k[oe+I],I+=T,X=ce&(1<<-b)-1,ce>>=-b,b+=ee;0<b;X=256*X+k[oe+I],I+=T,b-=8);for(q=X&(1<<-b)-1,X>>=-b,b+=F;0<b;q=256*q+k[oe+I],I+=T,b-=8);if(0===X)X=1-L;else{if(X===W)return q?NaN:1/0*(ce?-1:1);q+=Math.pow(2,F),X-=L}return(ce?-1:1)*q*Math.pow(2,X-F)},Z.write=function(k,oe,w,F,re,j){var q,ee,W=8*j-re-1,L=(1<<W)-1,b=L>>1,I=23===re?Math.pow(2,-24)-Math.pow(2,-77):0,T=F?0:j-1,ce=F?1:-1;for(j=oe<0||0===oe&&1/oe<0?1:0,oe=Math.abs(oe),isNaN(oe)||oe===1/0?(ee=isNaN(oe)?1:0,q=L):(q=Math.floor(Math.log(oe)/Math.LN2),oe*(F=Math.pow(2,-q))<1&&(q--,F*=2),2<=(oe+=1<=q+b?I/F:I*Math.pow(2,1-b))*F&&(q++,F/=2),L<=q+b?(ee=0,q=L):1<=q+b?(ee=(oe*F-1)*Math.pow(2,re),q+=b):(ee=oe*Math.pow(2,b-1)*Math.pow(2,re),q=0));8<=re;k[w+T]=255&ee,T+=ce,ee/=256,re-=8);for(q=q<<re|ee,W+=re;0<W;k[w+T]=255&q,T+=ce,q/=256,W-=8);k[w+T-ce]|=128*j}}).call(this,_e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},_e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(_e,S,Z){(function(A,$,H,Y,_,x,N,G,O){var k,oe,w;function F(){}(A=S.exports={}).nextTick=(oe=typeof window<"u"&&window.setImmediate,w=typeof window<"u"&&window.postMessage&&window.addEventListener,oe?function(re){return window.setImmediate(re)}:w?(k=[],window.addEventListener("message",function(re){var X=re.source;X!==window&&null!==X||"process-tick"!==re.data||(re.stopPropagation(),0<k.length&&k.shift()())},!0),function(re){k.push(re),window.postMessage("process-tick","*")}):function(re){setTimeout(re,0)}),A.title="browser",A.browser=!0,A.env={},A.argv=[],A.on=F,A.addListener=F,A.once=F,A.off=F,A.removeListener=F,A.removeAllListeners=F,A.emit=F,A.binding=function(re){throw new Error("process.binding is not supported")},A.cwd=function(){return"/"},A.chdir=function(re){throw new Error("process.chdir is not supported")}}).call(this,_e("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},_e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)},42:Ve=>{var S,Z,_e=Ve.exports={};function A(){throw new Error("setTimeout has not been defined")}function $(){throw new Error("clearTimeout has not been defined")}function H(F){if(S===setTimeout)return setTimeout(F,0);if((S===A||!S)&&setTimeout)return S=setTimeout,setTimeout(F,0);try{return S(F,0)}catch{try{return S.call(null,F,0)}catch{return S.call(this,F,0)}}}!function(){try{S="function"==typeof setTimeout?setTimeout:A}catch{S=A}try{Z="function"==typeof clearTimeout?clearTimeout:$}catch{Z=$}}();var N,_=[],x=!1,G=-1;function O(){!x||!N||(x=!1,N.length?_=N.concat(_):G=-1,_.length&&k())}function k(){if(!x){var F=H(O);x=!0;for(var re=_.length;re;){for(N=_,_=[];++G<re;)N&&N[G].run();G=-1,re=_.length}N=null,x=!1,function Y(F){if(Z===clearTimeout)return clearTimeout(F);if((Z===$||!Z)&&clearTimeout)return Z=clearTimeout,clearTimeout(F);try{return Z(F)}catch{try{return Z.call(null,F)}catch{return Z.call(this,F)}}}(F)}}function oe(F,re){this.fun=F,this.array=re}function w(){}_e.nextTick=function(F){var re=new Array(arguments.length-1);if(arguments.length>1)for(var X=1;X<arguments.length;X++)re[X-1]=arguments[X];_.push(new oe(F,re)),1===_.length&&!x&&H(k)},oe.prototype.run=function(){this.fun.apply(null,this.array)},_e.title="browser",_e.browser=!0,_e.env={},_e.argv=[],_e.version="",_e.versions={},_e.on=w,_e.addListener=w,_e.once=w,_e.off=w,_e.removeListener=w,_e.removeAllListeners=w,_e.emit=w,_e.prependListener=w,_e.prependOnceListener=w,_e.listeners=function(F){return[]},_e.binding=function(F){throw new Error("process.binding is not supported")},_e.cwd=function(){return"/"},_e.chdir=function(F){throw new Error("process.chdir is not supported")},_e.umask=function(){return 0}},3410:Ve=>{let _e;Ve.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:global):S=>(_e||(_e=Promise.resolve())).then(S).catch(Z=>setTimeout(()=>{throw Z},0))},1986:(Ve,_e,S)=>{Ve.exports=S(7842)},5327:Ve=>{"use strict";Ve.exports=class BZ{constructor(S,Z=new Map,A=0){this.prefix=S,this._existing=Z,this.counter=A}clone(){const{prefix:S,_existing:Z,counter:A}=this;return new BZ(S,new Map(Z),A)}getId(S){const Z=S&&this._existing.get(S);if(Z)return Z;const A=this.prefix+this.counter;return this.counter++,S&&this._existing.set(S,A),A}hasId(S){return this._existing.has(S)}getOldIds(){return[...this._existing.keys()]}}},7475:(Ve,_e,S)=>{"use strict";var Z=S(7156).default;S(8280);const A=self.crypto||self.msCrypto;Ve.exports=class{constructor(H){if(!A||!A.subtle)throw new Error("crypto.subtle not found.");if("sha256"===H)this.algorithm={name:"SHA-256"};else{if("sha1"!==H)throw new Error(`Unsupported algorithm "${H}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(H){this._content+=H}digest(){var H=this;return Z(function*(){const Y=(new TextEncoder).encode(H._content),_=new Uint8Array(yield A.subtle.digest(H.algorithm,Y));let x="";for(let N=0;N<_.length;++N)x+=_[N].toString(16).padStart(2,"0");return x})()}}},8003:Ve=>{"use strict";const Z="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",A="http://www.w3.org/2001/XMLSchema#string",$="NamedNode",H="BlankNode",Y="Literal",_="DefaultGraph",x={};function N(w,F){return w.subject.termType===F.subject.termType&&w.object.termType===F.object.termType&&w.subject.value===F.subject.value&&w.predicate.value===F.predicate.value&&w.object.value===F.object.value&&(w.object.termType!==Y||w.object.datatype.termType===F.object.datatype.termType&&w.object.language===F.object.language&&w.object.datatype.value===F.object.datatype.value)}(()=>{const w="(?:<([^:]+:[^>]*)>)",re="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_",X=re+"0-9-\xb7\u0300-\u036f\u203f-\u2040",ee="(_:(?:["+re+"0-9])(?:(?:["+X+".])*(?:["+X+"]))?)",T="[ \\t]+",ce="[ \\t]*",j="(?:"+w+"|"+ee+")"+T,Ie=w+T,ae="(?:"+w+"|"+ee+'|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+w+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))"+ce,xe="(?:\\.|(?:(?:"+w+"|"+ee+")"+ce+"\\.))";x.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,x.empty=new RegExp("^[ \\t]*$"),x.quad=new RegExp("^"+ce+j+Ie+ae+xe+ce+"$")})(),Ve.exports=class rM{static parse(F){const re=[],X={},q=F.split(x.eoln);let ee=0;for(const W of q){if(ee++,x.empty.test(W))continue;const L=W.match(x.quad);if(null===L)throw new Error("N-Quads parse error on line "+ee+".");const b={subject:null,predicate:null,object:null,graph:null};if(b.subject=void 0!==L[1]?{termType:$,value:L[1]}:{termType:H,value:L[2]},b.predicate={termType:$,value:L[3]},void 0!==L[4]?b.object={termType:$,value:L[4]}:void 0!==L[5]?b.object={termType:H,value:L[5]}:(b.object={termType:Y,value:void 0,datatype:{termType:$}},void 0!==L[7]?b.object.datatype.value=L[7]:void 0!==L[8]?(b.object.datatype.value=Z,b.object.language=L[8]):b.object.datatype.value=A,b.object.value=L[6].replace(k,function(F,re,X,q){if(re)switch(re){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(X)return String.fromCharCode(parseInt(X,16));if(q)throw new Error("Unsupported U escape")})),b.graph=void 0!==L[9]?{termType:$,value:L[9]}:void 0!==L[10]?{termType:H,value:L[10]}:{termType:_,value:""},b.graph.value in X){let I=!0;const T=X[b.graph.value];for(const ce of T)if(N(ce,b)){I=!1;break}I&&(T.push(b),re.push(b))}else X[b.graph.value]=[b],re.push(b)}return re}static serialize(F){Array.isArray(F)||(F=rM.legacyDatasetToQuads(F));const re=[];for(const X of F)re.push(rM.serializeQuad(X));return re.sort().join("")}static serializeQuadComponents(F,re,X,q){let ee="";return ee+=F.termType===$?`<${F.value}>`:`${F.value}`,ee+=` <${re.value}> `,X.termType===$?ee+=`<${X.value}>`:X.termType===H?ee+=X.value:(ee+=`"${function O(w){return w.replace(G,function(F){switch(F){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}})}(X.value)}"`,X.datatype.value===Z?X.language&&(ee+=`@${X.language}`):X.datatype.value!==A&&(ee+=`^^<${X.datatype.value}>`)),q.termType===$?ee+=` <${q.value}>`:q.termType===H&&(ee+=` ${q.value}`),ee+=" .\n",ee}static serializeQuad(F){return rM.serializeQuadComponents(F.subject,F.predicate,F.object,F.graph)}static legacyDatasetToQuads(F){const re=[],X={"blank node":H,IRI:$,literal:Y};for(const q in F)F[q].forEach(W=>{const L={};for(const b in W){const I=W[b],T={termType:X[I.type],value:I.value};T.termType===Y&&(T.datatype={termType:$},"datatype"in I&&(T.datatype.value=I.datatype),"language"in I?("datatype"in I||(T.datatype.value=Z),T.language=I.language):"datatype"in I||(T.datatype.value=A)),L[b]=T}L.graph="@default"===q?{termType:_,value:""}:{termType:q.startsWith("_:")?H:$,value:q},re.push(L)});return re}};const G=/["\\\n\r]/g,k=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},7790:Ve=>{"use strict";Ve.exports=class{constructor(S){this.current=S.sort(),this.done=!1,this.dir=new Map;for(let Z=0;Z<S.length;++Z)this.dir.set(S[Z],!0)}hasNext(){return!this.done}next(){const{current:S,dir:Z}=this,A=S.slice();let $=null,H=0;const Y=S.length;for(let _=0;_<Y;++_){const x=S[_],N=Z.get(x);(null===$||x>$)&&(N&&_>0&&x>S[_-1]||!N&&_<Y-1&&x>S[_+1])&&($=x,H=_)}if(null===$)this.done=!0;else{const _=Z.get($)?H-1:H+1;S[H]=S[_],S[_]=$;for(const x of S)x>$&&Z.set(x,!Z.get(x))}return A}}},7218:(Ve,_e,S)=>{"use strict";var Z=S(7156).default;const A=S(5327),$=S(7475),H=S(7790),Y=S(8003);function _(x,N){return x.hash<N.hash?-1:x.hash>N.hash?1:0}Ve.exports=class{constructor({createMessageDigest:N=(()=>new $("sha256")),canonicalIdMap:G=new Map,maxDeepIterations:O=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new A("_:c14n",G),this.createMessageDigest=N,this.maxDeepIterations=O,this.quads=null,this.deepIterations=null}main(N){var G=this;return Z(function*(){G.deepIterations=new Map,G.quads=N;for(const X of N)G._addBlankNodeQuadInfo({quad:X,component:X.subject}),G._addBlankNodeQuadInfo({quad:X,component:X.object}),G._addBlankNodeQuadInfo({quad:X,component:X.graph});const O=new Map,k=[...G.blankNodeInfo.keys()];let oe=0;for(const X of k)++oe%100==0&&(yield G._yield()),yield G._hashAndTrackBlankNode({id:X,hashToBlankNodes:O});const w=[...O.keys()].sort(),F=[];for(const X of w){const q=O.get(X);q.length>1?F.push(q):G.canonicalIssuer.getId(q[0])}for(const X of F){const q=[];for(const ee of X){if(G.canonicalIssuer.hasId(ee))continue;const W=new A("_:b");W.getId(ee);const L=yield G.hashNDegreeQuads(ee,W);q.push(L)}q.sort(_);for(const ee of q){const W=ee.issuer.getOldIds();for(const L of W)G.canonicalIssuer.getId(L)}}const re=[];for(const X of G.quads){const q=Y.serializeQuadComponents(G._componentWithCanonicalId(X.subject),X.predicate,G._componentWithCanonicalId(X.object),G._componentWithCanonicalId(X.graph));re.push(q)}return re.sort(),re.join("")})()}hashFirstDegreeQuads(N){var G=this;return Z(function*(){const O=[],k=G.blankNodeInfo.get(N),oe=k.quads;for(const F of oe){const re={subject:null,predicate:F.predicate,object:null,graph:null};re.subject=G.modifyFirstDegreeComponent(N,F.subject,"subject"),re.object=G.modifyFirstDegreeComponent(N,F.object,"object"),re.graph=G.modifyFirstDegreeComponent(N,F.graph,"graph"),O.push(Y.serializeQuad(re))}O.sort();const w=G.createMessageDigest();for(const F of O)w.update(F);return k.hash=yield w.digest(),k.hash})()}hashRelatedBlankNode(N,G,O,k){var oe=this;return Z(function*(){let w;w=oe.canonicalIssuer.hasId(N)?oe.canonicalIssuer.getId(N):O.hasId(N)?O.getId(N):oe.blankNodeInfo.get(N).hash;const F=oe.createMessageDigest();return F.update(k),"g"!==k&&F.update(oe.getRelatedPredicate(G)),F.update(w),F.digest()})()}hashNDegreeQuads(N,G){var O=this;return Z(function*(){const k=O.deepIterations.get(N)||0;if(k>O.maxDeepIterations)throw new Error(`Maximum deep iterations (${O.maxDeepIterations}) exceeded.`);O.deepIterations.set(N,k+1);const oe=O.createMessageDigest(),w=yield O.createHashToRelated(N,G),F=[...w.keys()].sort();for(const re of F){oe.update(re);let q,X="";const ee=new H(w.get(re));let W=0;for(;ee.hasNext();){const L=ee.next();++W%3==0&&(yield O._yield());let b=G.clone(),I="";const T=[];let ce=!1;for(const j of L)if(O.canonicalIssuer.hasId(j)?I+=O.canonicalIssuer.getId(j):(b.hasId(j)||T.push(j),I+=b.getId(j)),0!==X.length&&I>X){ce=!0;break}if(!ce){for(const j of T){const Ie=yield O.hashNDegreeQuads(j,b);if(I+=b.getId(j),I+=`<${Ie.hash}>`,b=Ie.issuer,0!==X.length&&I>X){ce=!0;break}}ce||(0===X.length||I<X)&&(X=I,q=b)}}oe.update(X),G=q}return{hash:yield oe.digest(),issuer:G}})()}modifyFirstDegreeComponent(N,G){return"BlankNode"!==G.termType?G:{termType:"BlankNode",value:G.value===N?"_:a":"_:z"}}getRelatedPredicate(N){return`<${N.predicate.value}>`}createHashToRelated(N,G){var O=this;return Z(function*(){const k=new Map,oe=O.blankNodeInfo.get(N).quads;let w=0;for(const F of oe)++w%100==0&&(yield O._yield()),yield Promise.all([O._addRelatedBlankNodeHash({quad:F,component:F.subject,position:"s",id:N,issuer:G,hashToRelated:k}),O._addRelatedBlankNodeHash({quad:F,component:F.object,position:"o",id:N,issuer:G,hashToRelated:k}),O._addRelatedBlankNodeHash({quad:F,component:F.graph,position:"g",id:N,issuer:G,hashToRelated:k})]);return k})()}_hashAndTrackBlankNode({id:N,hashToBlankNodes:G}){var O=this;return Z(function*(){const k=yield O.hashFirstDegreeQuads(N),oe=G.get(k);oe?oe.push(N):G.set(k,[N])})()}_addBlankNodeQuadInfo({quad:N,component:G}){if("BlankNode"!==G.termType)return;const O=G.value,k=this.blankNodeInfo.get(O);k?k.quads.add(N):this.blankNodeInfo.set(O,{quads:new Set([N]),hash:null})}_addRelatedBlankNodeHash({quad:N,component:G,position:O,id:k,issuer:oe,hashToRelated:w}){var F=this;return Z(function*(){if("BlankNode"!==G.termType||G.value===k)return;const re=G.value,X=yield F.hashRelatedBlankNode(re,N,oe,O),q=w.get(X);q?q.push(re):w.set(X,[re])})()}_componentWithCanonicalId(N){return"BlankNode"!==N.termType||N.value.startsWith(this.canonicalIssuer.prefix)?N:{termType:"BlankNode",value:this.canonicalIssuer.getId(N.value)}}_yield(){return Z(function*(){return new Promise(N=>setImmediate(N))})()}}},9123:(Ve,_e,S)=>{"use strict";const Z=S(5327),A=S(7475),$=S(7790),H=S(8003);function Y(_,x){return _.hash<x.hash?-1:_.hash>x.hash?1:0}Ve.exports=class{constructor({createMessageDigest:x=(()=>new A("sha256")),canonicalIdMap:N=new Map,maxDeepIterations:G=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new Z("_:c14n",N),this.createMessageDigest=x,this.maxDeepIterations=G,this.quads=null,this.deepIterations=null}main(x){this.deepIterations=new Map,this.quads=x;for(const w of x)this._addBlankNodeQuadInfo({quad:w,component:w.subject}),this._addBlankNodeQuadInfo({quad:w,component:w.object}),this._addBlankNodeQuadInfo({quad:w,component:w.graph});const N=new Map,G=[...this.blankNodeInfo.keys()];for(const w of G)this._hashAndTrackBlankNode({id:w,hashToBlankNodes:N});const O=[...N.keys()].sort(),k=[];for(const w of O){const F=N.get(w);F.length>1?k.push(F):this.canonicalIssuer.getId(F[0])}for(const w of k){const F=[];for(const re of w){if(this.canonicalIssuer.hasId(re))continue;const X=new Z("_:b");X.getId(re);const q=this.hashNDegreeQuads(re,X);F.push(q)}F.sort(Y);for(const re of F){const X=re.issuer.getOldIds();for(const q of X)this.canonicalIssuer.getId(q)}}const oe=[];for(const w of this.quads){const F=H.serializeQuadComponents(this._componentWithCanonicalId({component:w.subject}),w.predicate,this._componentWithCanonicalId({component:w.object}),this._componentWithCanonicalId({component:w.graph}));oe.push(F)}return oe.sort(),oe.join("")}hashFirstDegreeQuads(x){const N=[],G=this.blankNodeInfo.get(x),O=G.quads;for(const oe of O){const w={subject:null,predicate:oe.predicate,object:null,graph:null};w.subject=this.modifyFirstDegreeComponent(x,oe.subject,"subject"),w.object=this.modifyFirstDegreeComponent(x,oe.object,"object"),w.graph=this.modifyFirstDegreeComponent(x,oe.graph,"graph"),N.push(H.serializeQuad(w))}N.sort();const k=this.createMessageDigest();for(const oe of N)k.update(oe);return G.hash=k.digest(),G.hash}hashRelatedBlankNode(x,N,G,O){let k;k=this.canonicalIssuer.hasId(x)?this.canonicalIssuer.getId(x):G.hasId(x)?G.getId(x):this.blankNodeInfo.get(x).hash;const oe=this.createMessageDigest();return oe.update(O),"g"!==O&&oe.update(this.getRelatedPredicate(N)),oe.update(k),oe.digest()}hashNDegreeQuads(x,N){const G=this.deepIterations.get(x)||0;if(G>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(x,G+1);const O=this.createMessageDigest(),k=this.createHashToRelated(x,N),oe=[...k.keys()].sort();for(const w of oe){O.update(w);let re,F="";const X=new $(k.get(w));for(;X.hasNext();){const q=X.next();let ee=N.clone(),W="";const L=[];let b=!1;for(const I of q)if(this.canonicalIssuer.hasId(I)?W+=this.canonicalIssuer.getId(I):(ee.hasId(I)||L.push(I),W+=ee.getId(I)),0!==F.length&&W>F){b=!0;break}if(!b){for(const I of L){const T=this.hashNDegreeQuads(I,ee);if(W+=ee.getId(I),W+=`<${T.hash}>`,ee=T.issuer,0!==F.length&&W>F){b=!0;break}}b||(0===F.length||W<F)&&(F=W,re=ee)}}O.update(F),N=re}return{hash:O.digest(),issuer:N}}modifyFirstDegreeComponent(x,N){return"BlankNode"!==N.termType?N:{termType:"BlankNode",value:N.value===x?"_:a":"_:z"}}getRelatedPredicate(x){return`<${x.predicate.value}>`}createHashToRelated(x,N){const G=new Map,O=this.blankNodeInfo.get(x).quads;for(const k of O)this._addRelatedBlankNodeHash({quad:k,component:k.subject,position:"s",id:x,issuer:N,hashToRelated:G}),this._addRelatedBlankNodeHash({quad:k,component:k.object,position:"o",id:x,issuer:N,hashToRelated:G}),this._addRelatedBlankNodeHash({quad:k,component:k.graph,position:"g",id:x,issuer:N,hashToRelated:G});return G}_hashAndTrackBlankNode({id:x,hashToBlankNodes:N}){const G=this.hashFirstDegreeQuads(x),O=N.get(G);O?O.push(x):N.set(G,[x])}_addBlankNodeQuadInfo({quad:x,component:N}){if("BlankNode"!==N.termType)return;const G=N.value,O=this.blankNodeInfo.get(G);O?O.quads.add(x):this.blankNodeInfo.set(G,{quads:new Set([x]),hash:null})}_addRelatedBlankNodeHash({quad:x,component:N,position:G,id:O,issuer:k,hashToRelated:oe}){if("BlankNode"!==N.termType||N.value===O)return;const w=N.value,F=this.hashRelatedBlankNode(w,x,k,G),re=oe.get(F);re?re.push(w):oe.set(F,[w])}_componentWithCanonicalId({component:x}){return"BlankNode"!==x.termType||x.value.startsWith(this.canonicalIssuer.prefix)?x:{termType:"BlankNode",value:this.canonicalIssuer.getId(x.value)}}}},1326:(Ve,_e,S)=>{"use strict";var Z=S(7156).default;const A=S(7475),$=S(7218);Ve.exports=class extends ${constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new A("sha1")}modifyFirstDegreeComponent(Y,_,x){return"BlankNode"!==_.termType?_:"graph"===x?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:_.value===Y?"_:a":"_:z"}}getRelatedPredicate(Y){return Y.predicate.value}createHashToRelated(Y,_){var x=this;return Z(function*(){const N=new Map,G=x.blankNodeInfo.get(Y).quads;let O=0;for(const k of G){let oe,w;if("BlankNode"===k.subject.termType&&k.subject.value!==Y)w=k.subject.value,oe="p";else{if("BlankNode"!==k.object.termType||k.object.value===Y)continue;w=k.object.value,oe="r"}++O%100==0&&(yield x._yield());const F=yield x.hashRelatedBlankNode(w,k,_,oe),re=N.get(F);re?re.push(w):N.set(F,[w])}return N})()}}},9869:(Ve,_e,S)=>{"use strict";const Z=S(7475),A=S(9123);Ve.exports=class extends A{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new Z("sha1")}modifyFirstDegreeComponent(H,Y,_){return"BlankNode"!==Y.termType?Y:"graph"===_?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:Y.value===H?"_:a":"_:z"}}getRelatedPredicate(H){return H.predicate.value}createHashToRelated(H,Y){const _=new Map,x=this.blankNodeInfo.get(H).quads;for(const N of x){let G,O;if("BlankNode"===N.subject.termType&&N.subject.value!==H)O=N.subject.value,G="p";else{if("BlankNode"!==N.object.termType||N.object.value===H)continue;O=N.object.value,G="r"}const k=this.hashRelatedBlankNode(O,N,Y,G),oe=_.get(k);oe?oe.push(O):_.set(k,[O])}return _}}},7842:(Ve,_e,S)=>{"use strict";var Z=S(7156).default;const A=S(7218),$=S(1326),H=S(9123),Y=S(9869);let _;try{_=S(7670)}catch{}function x(N){return Array.isArray(N)?N:_e.NQuads.legacyDatasetToQuads(N)}_e.NQuads=S(8003),_e.IdentifierIssuer=S(5327),_e._rdfCanonizeNative=function(N){return N&&(_=N),_},_e.canonize=function(){var N=Z(function*(G,O){const k=x(G);if(O.useNative){if(!_)throw new Error("rdf-canonize-native not available");if(O.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((oe,w)=>_.canonize(k,O,(F,re)=>F?w(F):oe(re)))}if("URDNA2015"===O.algorithm)return new A(O).main(k);if("URGNA2012"===O.algorithm){if(O.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new $(O).main(k)}throw"algorithm"in O?new Error("Invalid RDF Dataset Canonicalization algorithm: "+O.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")});return function(G,O){return N.apply(this,arguments)}}(),_e._canonizeSync=function(N,G){const O=x(N);if(G.useNative){if(!_)throw new Error("rdf-canonize-native not available");if(G.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return _.canonizeSync(O,G)}if("URDNA2015"===G.algorithm)return new H(G).main(O);if("URGNA2012"===G.algorithm){if(G.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new Y(G).main(O)}throw"algorithm"in G?new Error("Invalid RDF Dataset Canonicalization algorithm: "+G.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}},2633:function(Ve,_e,S){"use strict";var Z=this&&this.__createBinding||(Object.create?function($,H,Y,_){void 0===_&&(_=Y),Object.defineProperty($,_,{enumerable:!0,get:function(){return H[Y]}})}:function($,H,Y,_){void 0===_&&(_=Y),$[_]=H[Y]}),A=this&&this.__exportStar||function($,H){for(var Y in $)"default"!==Y&&!Object.prototype.hasOwnProperty.call(H,Y)&&Z(H,$,Y)};Object.defineProperty(_e,"__esModule",{value:!0}),A(S(4740),_e),A(S(3613),_e),A(S(9379),_e),A(S(5565),_e),A(S(3283),_e),A(S(3905),_e),A(S(2234),_e)},4740:(Ve,_e)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.BlankNode=void 0,_e.BlankNode=class S{constructor(A){this.termType="BlankNode",this.value=A}equals(A){return!!A&&"BlankNode"===A.termType&&A.value===this.value}}},3613:(Ve,_e,S)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.DataFactory=void 0;const Z=S(4740),A=S(9379),$=S(5565),H=S(3283),Y=S(3905),_=S(2234);let x=0;_e.DataFactory=class N{constructor(O){this.blankNodeCounter=0,this.blankNodePrefix=(O=O||{}).blankNodePrefix||`df_${x++}_`}namedNode(O){return new H.NamedNode(O)}blankNode(O){return new Z.BlankNode(O||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(O,k){return new $.Literal(O,k)}variable(O){return new _.Variable(O)}defaultGraph(){return A.DefaultGraph.INSTANCE}quad(O,k,oe,w){return new Y.Quad(O,k,oe,w||this.defaultGraph())}fromTerm(O){switch(O.termType){case"NamedNode":return this.namedNode(O.value);case"BlankNode":return this.blankNode(O.value);case"Literal":return O.language?this.literal(O.value,O.language):O.datatype.equals($.Literal.XSD_STRING)?this.literal(O.value):this.literal(O.value,this.fromTerm(O.datatype));case"Variable":return this.variable(O.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(O.subject),this.fromTerm(O.predicate),this.fromTerm(O.object),this.fromTerm(O.graph))}}fromQuad(O){return this.fromTerm(O)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},9379:(Ve,_e)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.DefaultGraph=void 0;class S{constructor(){this.termType="DefaultGraph",this.value=""}equals(A){return!!A&&"DefaultGraph"===A.termType}}_e.DefaultGraph=S,S.INSTANCE=new S},5565:(Ve,_e,S)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.Literal=void 0;const Z=S(3283);class A{constructor(H,Y){this.termType="Literal",this.value=H,"string"==typeof Y?(this.language=Y,this.datatype=A.RDF_LANGUAGE_STRING):Y?(this.language="",this.datatype=Y):(this.language="",this.datatype=A.XSD_STRING)}equals(H){return!!H&&"Literal"===H.termType&&H.value===this.value&&H.language===this.language&&this.datatype.equals(H.datatype)}}_e.Literal=A,A.RDF_LANGUAGE_STRING=new Z.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),A.XSD_STRING=new Z.NamedNode("http://www.w3.org/2001/XMLSchema#string")},3283:(Ve,_e)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.NamedNode=void 0,_e.NamedNode=class S{constructor(A){this.termType="NamedNode",this.value=A}equals(A){return!!A&&"NamedNode"===A.termType&&A.value===this.value}}},3905:(Ve,_e)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.Quad=void 0,_e.Quad=class S{constructor(A,$,H,Y){this.termType="Quad",this.value="",this.subject=A,this.predicate=$,this.object=H,this.graph=Y}equals(A){return!!A&&("Quad"===A.termType||!A.termType)&&this.subject.equals(A.subject)&&this.predicate.equals(A.predicate)&&this.object.equals(A.object)&&this.graph.equals(A.graph)}}},2234:(Ve,_e)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.Variable=void 0,_e.Variable=class S{constructor(A){this.termType="Variable",this.value=A}equals(A){return!!A&&"Variable"===A.termType&&A.value===this.value}}},9689:function(Ve,_e,S){"use strict";var Z=this&&this.__createBinding||(Object.create?function(w,F,re,X){void 0===X&&(X=re);var q=Object.getOwnPropertyDescriptor(F,re);(!q||("get"in q?!F.__esModule:q.writable||q.configurable))&&(q={enumerable:!0,get:function(){return F[re]}}),Object.defineProperty(w,X,q)}:function(w,F,re,X){void 0===X&&(X=re),w[X]=F[re]}),A=this&&this.__exportStar||function(w,F){for(var re in w)"default"!==re&&!Object.prototype.hasOwnProperty.call(F,re)&&Z(F,w,re)};Object.defineProperty(_e,"__esModule",{value:!0}),_e.getSupportedJavaScriptPrimitives=_e.getSupportedRdfDatatypes=_e.getTermRaw=_e.toRdf=_e.fromRdf=void 0;const $=S(2633),H=S(2538),Y=S(6374);A(S(2538),_e),A(S(1815),_e),A(S(6374),_e);const _=new $.DataFactory,x=new Y.Translator;function N(w,F){return x.fromRdf(w,F)}x.registerHandler(new H.TypeHandlerString,H.TypeHandlerString.TYPES.map(w=>_.namedNode(w)),["string"]),x.registerHandler(new H.TypeHandlerBoolean,[H.TypeHandlerBoolean.TYPE].map(w=>_.namedNode(w)),["boolean"]),x.registerHandler(new H.TypeHandlerNumberDouble,H.TypeHandlerNumberDouble.TYPES.map(w=>_.namedNode(w)),["number"]),x.registerHandler(new H.TypeHandlerNumberInteger,H.TypeHandlerNumberInteger.TYPES.map(w=>_.namedNode(w)),["number"]),x.registerHandler(new H.TypeHandlerDate,H.TypeHandlerDate.TYPES.map(w=>_.namedNode(w)),["object"]),_e.fromRdf=N,_e.toRdf=function G(w,F){return F&&"namedNode"in F&&(F={dataFactory:F}),(F=F||{})&&!F.dataFactory&&(F.dataFactory=_),x.toRdf(w,F)},_e.getTermRaw=function O(w,F){return"Literal"===w.termType?N(w,F):w.value},_e.getSupportedRdfDatatypes=function k(){return x.getSupportedRdfDatatypes()},_e.getSupportedJavaScriptPrimitives=function oe(){return x.getSupportedJavaScriptPrimitives()}},1815:(Ve,_e)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0})},6374:(Ve,_e)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.Translator=void 0,_e.Translator=class S{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(A){throw new Error(`Invalid RDF ${A.datatype.value} value: '${A.value}'`)}registerHandler(A,$,H){for(const Y of $)this.supportedRdfDatatypes.push(Y),this.fromRdfHandlers[Y.value]=A;for(const Y of H){let _=this.toRdfHandlers[Y];_||(this.toRdfHandlers[Y]=_=[]),_.push(A)}}fromRdf(A,$){const H=this.fromRdfHandlers[A.datatype.value];return H?H.fromRdf(A,$):A.value}toRdf(A,$){const H=this.toRdfHandlers[typeof A];if(H)for(const Y of H){const _=Y.toRdf(A,$);if(_)return _}throw new Error(`Invalid JavaScript value: '${A}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}}},88:(Ve,_e,S)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.TypeHandlerBoolean=void 0;const Z=S(6374);_e.TypeHandlerBoolean=(()=>{class ${fromRdf(Y,_){switch(Y.value){case"true":case"1":return!0;case"false":case"0":return!1}return _&&Z.Translator.incorrectRdfDataType(Y),!1}toRdf(Y,{datatype:_,dataFactory:x}){return x.literal(Y?"true":"false",_||x.namedNode($.TYPE))}}return $.TYPE="http://www.w3.org/2001/XMLSchema#boolean",$})()},1600:(Ve,_e,S)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.TypeHandlerDate=void 0;const Z=S(6374);_e.TypeHandlerDate=(()=>{class ${fromRdf(Y,_){switch(_&&!Y.value.match($.VALIDATORS[Y.datatype.value.substr(33,Y.datatype.value.length)])&&Z.Translator.incorrectRdfDataType(Y),Y.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(Y.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const x=Y.value.split("-");return new Date(0,parseInt(x[0],10)-1,parseInt(x[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(Y.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(Y.value+"-01");default:return new Date(Y.value)}}toRdf(Y,{datatype:_,dataFactory:x}){if(_=_||x.namedNode($.TYPES[0]),!(Y instanceof Date))return null;const N=Y;let G;switch(_.value){case"http://www.w3.org/2001/XMLSchema#gDay":G=String(N.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":G=N.getUTCMonth()+1+"-"+N.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":G=String(N.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":G=N.getUTCFullYear()+"-"+(N.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":G=N.toISOString().replace(/T.*$/,"");break;default:G=N.toISOString()}return x.literal(G,_)}}return $.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],$.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/},$})()},1511:(Ve,_e,S)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.TypeHandlerNumberDouble=void 0;const Z=S(6374);_e.TypeHandlerNumberDouble=(()=>{class ${fromRdf(Y,_){const x=parseFloat(Y.value);return _&&isNaN(x)&&Z.Translator.incorrectRdfDataType(Y),x}toRdf(Y,{datatype:_,dataFactory:x}){return _=_||x.namedNode($.TYPES[0]),isNaN(Y)?x.literal("NaN",_):isFinite(Y)?Y%1==0?null:x.literal(Y.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),_):x.literal(Y>0?"INF":"-INF",_)}}return $.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"],$})()},9199:(Ve,_e,S)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.TypeHandlerNumberInteger=void 0;const Z=S(6374);_e.TypeHandlerNumberInteger=(()=>{class ${fromRdf(Y,_){const x=parseInt(Y.value,10);return _&&(isNaN(x)||Y.value.indexOf(".")>=0)&&Z.Translator.incorrectRdfDataType(Y),x}toRdf(Y,{datatype:_,dataFactory:x}){return x.literal(String(Y),_||x.namedNode(Y<=$.MAX_INT&&Y>=$.MIN_INT?$.TYPES[0]:$.TYPES[1]))}}return $.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],$.MAX_INT=2147483647,$.MIN_INT=-2147483648,$})()},2210:(Ve,_e)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.TypeHandlerString=void 0,_e.TypeHandlerString=(()=>{class Z{fromRdf($){return $.value}toRdf($,{datatype:H,dataFactory:Y}){return Y.literal($,H)}}return Z.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"],Z})()},2538:function(Ve,_e,S){"use strict";var Z=this&&this.__createBinding||(Object.create?function($,H,Y,_){void 0===_&&(_=Y);var x=Object.getOwnPropertyDescriptor(H,Y);(!x||("get"in x?!H.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return H[Y]}}),Object.defineProperty($,_,x)}:function($,H,Y,_){void 0===_&&(_=Y),$[_]=H[Y]}),A=this&&this.__exportStar||function($,H){for(var Y in $)"default"!==Y&&!Object.prototype.hasOwnProperty.call(H,Y)&&Z(H,$,Y)};Object.defineProperty(_e,"__esModule",{value:!0}),A(S(88),_e),A(S(1600),_e),A(S(1511),_e),A(S(9199),_e),A(S(2210),_e)},2821:function(Ve,_e,S){"use strict";var Z=this&&this.__createBinding||(Object.create?function($,H,Y,_){void 0===_&&(_=Y),Object.defineProperty($,_,{enumerable:!0,get:function(){return H[Y]}})}:function($,H,Y,_){void 0===_&&(_=Y),$[_]=H[Y]}),A=this&&this.__exportStar||function($,H){for(var Y in $)"default"!==Y&&!Object.prototype.hasOwnProperty.call(H,Y)&&Z(H,$,Y)};Object.defineProperty(_e,"__esModule",{value:!0}),A(S(5664),_e)},758:(Ve,_e)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.ParseError=void 0;class S extends Error{constructor(A,$){const H=A.saxStream._parser;super(A.trackPosition?`Line ${H.line+1} column ${H.column+1}: ${$}`:$)}}_e.ParseError=S},5664:(Ve,_e,S)=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0}),_e.ParseType=_e.RdfXmlParser=void 0;const Z=S(7054),A=S(9528),$=S(1793),H=S(758),Y=S(2633);class _ extends $.Transform{constructor(G){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},G&&(Object.assign(this,G),this.options=G),this.dataFactory||(this.dataFactory=new Y.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.saxStream=A.createStream(this.strict,{xmlns:!1,position:this.trackPosition}),this.strict||(this.saxStream._parser.looseCase="toString"),this.attachSaxListeners()}static parseNamespace(G,O){const k={};let oe=!1;for(const F in G.attributes)F.startsWith("xmlns")&&(5===F.length?(oe=!0,k[""]=G.attributes[F]):":"===F.charAt(5)&&(oe=!0,k[F.substr(6)]=G.attributes[F]));const w=O&&O.ns?O.ns:[_.DEFAULT_NS];return oe?w.concat([k]):w}static expandPrefixedTerm(G,O,k){const oe=G.indexOf(":");let w,F;oe>=0?(w=G.substr(0,oe),F=G.substr(oe+1)):(w="",F=G);let re=null,X=null;for(let q=O.length-1;q>=0;q--){const ee=O[q][w];if(ee){re=ee;break}X||(X=O[q][""])}if(!re){if(w&&"xmlns"!==w)throw new H.ParseError(k,`The prefix '${w}' in term '${G}' was not bound.`);re=X||""}return{prefix:w,local:F,uri:re}}static isValidIri(G){return _.IRI_REGEX.test(G)}import(G){const O=new $.PassThrough({readableObjectMode:!0});G.on("error",oe=>k.emit("error",oe)),G.on("data",oe=>O.push(oe)),G.on("end",()=>O.push(null));const k=O.pipe(new _(this.options));return k}_transform(G,O,k){try{this.saxStream.write(G,O)}catch(oe){return k(oe)}k()}newParseError(G){return new H.ParseError(this,G)}valueToUri(G,O){return this.uriToNamedNode(Z.resolve(G,O.baseIRI))}uriToNamedNode(G){if(!_.isValidIri(G))throw this.newParseError(`Invalid URI: ${G}`);return this.dataFactory.namedNode(G)}validateNcname(G){if(!_.NCNAME_MATCHER.test(G))throw this.newParseError(`Not a valid NCName: ${G}`)}attachSaxListeners(){this.saxStream.on("error",G=>this.emit("error",G)),this.saxStream.on("opentag",this.onTag.bind(this)),this.saxStream.on("text",this.onText.bind(this)),this.saxStream.on("closetag",this.onCloseTag.bind(this)),this.saxStream.on("doctype",this.onDoctype.bind(this))}onTag(G){const O=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let k=x.RESOURCE;if(O&&(O.hadChildren=!0,k=O.childrenParseType),O&&O.childrenStringTags){const w=G.name;let F="";for(const ee in G.attributes)F+=` ${ee}="${G.attributes[ee]}"`;O.childrenStringTags.push(`<${w}${F}>`);const q={childrenStringTags:O.childrenStringTags};return q.childrenStringEmitClosingTag=`</${w}>`,void this.activeTagStack.push(q)}const oe={};O?(oe.language=O.language,oe.baseIRI=O.baseIRI):oe.baseIRI=this.baseIRI,this.activeTagStack.push(oe),oe.ns=_.parseNamespace(G,O),k===x.RESOURCE?this.onTagResource(G,oe,O,!O):this.onTagProperty(G,oe,O)}onTagResource(G,O,k,oe){const w=_.expandPrefixedTerm(G.name,O.ns,this);O.childrenParseType=x.PROPERTY;let F=!0;if(w.uri===_.RDF){if(!oe&&_.FORBIDDEN_NODE_ELEMENTS.indexOf(w.local)>=0)throw this.newParseError(`Illegal node element name: ${w.local}`);switch(w.local){case"RDF":O.childrenParseType=x.RESOURCE;case"Description":F=!1}}const re=[],X=[];let q=null,ee=!1,W=!1,L=null;for(const b in G.attributes){const I=G.attributes[b],T=_.expandPrefixedTerm(b,O.ns,this);if(k&&T.uri===_.RDF)switch(T.local){case"about":if(q)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${I} and ${q} where found.`);q=I;continue;case"ID":if(q)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${I} and ${q} where found.`);this.validateNcname(I),q="#"+I,ee=!0;continue;case"nodeID":if(q)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${I} and ${q} where found.`);this.validateNcname(I),q=I,W=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":L=I;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(T.uri===_.XML){if("lang"===T.local){O.language=""===I?null:I.toLowerCase();continue}if("base"===T.local){O.baseIRI=Z.resolve(I,O.baseIRI);continue}}"xml"!==T.prefix&&T.uri&&(re.push(this.uriToNamedNode(T.uri+T.local)),X.push(I))}if(null!==q&&(O.subject=W?this.dataFactory.blankNode(q):this.valueToUri(q,O),ee&&this.claimNodeId(O.subject)),O.subject||(O.subject=this.dataFactory.blankNode()),F){const b=this.uriToNamedNode(w.uri+w.local);this.emitTriple(O.subject,this.dataFactory.namedNode(_.RDF+"type"),b,k?k.reifiedStatementId:null)}if(k){if(k.predicate)if(k.childrenCollectionSubject){const b=this.dataFactory.blankNode();this.emitTriple(k.childrenCollectionSubject,k.childrenCollectionPredicate,b,k.reifiedStatementId),this.emitTriple(b,this.dataFactory.namedNode(_.RDF+"first"),O.subject,O.reifiedStatementId),k.childrenCollectionSubject=b,k.childrenCollectionPredicate=this.dataFactory.namedNode(_.RDF+"rest")}else{this.emitTriple(k.subject,k.predicate,O.subject,k.reifiedStatementId);for(let b=0;b<k.predicateSubPredicates.length;b++)this.emitTriple(O.subject,k.predicateSubPredicates[b],k.predicateSubObjects[b],null);k.predicateSubPredicates=[],k.predicateSubObjects=[],k.predicateEmitted=!0}for(let b=0;b<re.length;b++){const I=this.dataFactory.literal(X[b],O.datatype||O.language);this.emitTriple(O.subject,re[b],I,k.reifiedStatementId)}L&&this.emitTriple(O.subject,this.dataFactory.namedNode(_.RDF+"type"),this.uriToNamedNode(L),null)}}onTagProperty(G,O,k){const oe=_.expandPrefixedTerm(G.name,O.ns,this);if(O.childrenParseType=x.RESOURCE,O.subject=k.subject,oe.uri===_.RDF&&"li"===oe.local?(k.listItemCounter||(k.listItemCounter=1),O.predicate=this.uriToNamedNode(oe.uri+"_"+k.listItemCounter++)):O.predicate=this.uriToNamedNode(oe.uri+oe.local),oe.uri===_.RDF&&_.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(oe.local)>=0)throw this.newParseError(`Illegal property element name: ${oe.local}`);O.predicateSubPredicates=[],O.predicateSubObjects=[];let w=!1,F=!1,re=null,X=!0;const q=[],ee=[];for(const W in G.attributes){const L=G.attributes[W],b=_.expandPrefixedTerm(W,O.ns,this);if(b.uri===_.RDF)switch(b.local){case"resource":if(re)throw this.newParseError(`Found both rdf:resource (${L}) and rdf:nodeID (${re}).`);if(w)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${L})`);O.hadChildren=!0,re=L,X=!1;continue;case"datatype":if(F)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${L}).`);if(w)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${L})`);O.datatype=this.valueToUri(L,O);continue;case"nodeID":if(F)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${L}).`);if(O.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${L}).`);if(w)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${L})`);this.validateNcname(L),O.hadChildren=!0,re=L,X=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(F)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(O.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${O.datatype.value})`);if(re)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${re})`);if("Resource"===L){w=!0,O.childrenParseType=x.PROPERTY;const I=this.dataFactory.blankNode();this.emitTriple(O.subject,O.predicate,I,O.reifiedStatementId),O.subject=I,O.predicate=null}else"Collection"===L?(w=!0,O.hadChildren=!0,O.childrenCollectionSubject=O.subject,O.childrenCollectionPredicate=O.predicate,X=!1):"Literal"===L&&(w=!0,O.childrenTagsToString=!0,O.childrenStringTags=[]);continue;case"ID":this.validateNcname(L),O.reifiedStatementId=this.valueToUri("#"+L,O),this.claimNodeId(O.reifiedStatementId);continue}else if(b.uri===_.XML&&"lang"===b.local){O.language=""===L?null:L.toLowerCase();continue}if("xml"!==b.prefix&&"xmlns"!==b.prefix&&b.uri){if(w||O.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${L}`);O.hadChildren=!0,F=!0,q.push(this.uriToNamedNode(b.uri+b.local)),ee.push(this.dataFactory.literal(L,O.datatype||O.language))}}if(null!==re){const W=O.subject;O.subject=X?this.dataFactory.blankNode(re):this.valueToUri(re,O),this.emitTriple(W,O.predicate,O.subject,O.reifiedStatementId);for(let L=0;L<q.length;L++)this.emitTriple(O.subject,q[L],ee[L],null);O.predicateEmitted=!0}else X&&(O.predicateSubPredicates=q,O.predicateSubObjects=ee,O.predicateEmitted=!1)}emitTriple(G,O,k,oe){this.push(this.dataFactory.quad(G,O,k,this.defaultGraph)),oe&&(this.push(this.dataFactory.quad(oe,this.dataFactory.namedNode(_.RDF+"type"),this.dataFactory.namedNode(_.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(oe,this.dataFactory.namedNode(_.RDF+"subject"),G,this.defaultGraph)),this.push(this.dataFactory.quad(oe,this.dataFactory.namedNode(_.RDF+"predicate"),O,this.defaultGraph)),this.push(this.dataFactory.quad(oe,this.dataFactory.namedNode(_.RDF+"object"),k,this.defaultGraph)))}claimNodeId(G){if(!this.allowDuplicateRdfIds){if(this.nodeIds[G.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${G.value}'.`);this.nodeIds[G.value]=!0}}onText(G){const O=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;O&&(O.childrenStringTags?O.childrenStringTags.push(G):O.predicate&&(O.text=G))}onCloseTag(){const G=this.activeTagStack.pop();if(G.childrenStringEmitClosingTag&&G.childrenStringTags.push(G.childrenStringEmitClosingTag),G.childrenTagsToString&&(G.datatype=this.dataFactory.namedNode(_.RDF+"XMLLiteral"),G.text=G.childrenStringTags.join(""),G.hadChildren=!1),G.childrenCollectionSubject)this.emitTriple(G.childrenCollectionSubject,G.childrenCollectionPredicate,this.dataFactory.namedNode(_.RDF+"nil"),G.reifiedStatementId);else if(G.predicate)if(G.hadChildren||G.childrenParseType===x.PROPERTY){if(!G.predicateEmitted){const O=this.dataFactory.blankNode();this.emitTriple(G.subject,G.predicate,O,G.reifiedStatementId);for(let k=0;k<G.predicateSubPredicates.length;k++)this.emitTriple(O,G.predicateSubPredicates[k],G.predicateSubObjects[k],null)}}else this.emitTriple(G.subject,G.predicate,this.dataFactory.literal(G.text||"",G.datatype||G.language),G.reifiedStatementId)}onDoctype(G){G.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(O,k,oe)=>(this.saxStream._parser.ENTITIES[k]=oe,""))}}var x,N;_e.RdfXmlParser=_,_.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*):[^ "<>{}|\\\[\]`]*$/,_.MIME_TYPE="application/rdf+xml",_.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",_.XML="http://www.w3.org/XML/1998/namespace",_.XMLNS="http://www.w3.org/2000/xmlns/",_.DEFAULT_NS={xml:_.XML},_.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],_.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],_.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u,(N=x=_e.ParseType||(_e.ParseType={}))[N.RESOURCE=0]="RESOURCE",N[N.PROPERTY=1]="PROPERTY"},9987:(Ve,_e,S)=>{"use strict";const{SymbolDispose:Z}=S(6305),{AbortError:A,codes:$}=S(4370),{isNodeStream:H,isWebStream:Y,kControllerErrorFunction:_}=S(5428),x=S(4618),{ERR_INVALID_ARG_TYPE:N}=$;let G;Ve.exports.addAbortSignal=function(oe,w){if(((k,oe)=>{if("object"!=typeof k||!("aborted"in k))throw new N("signal","AbortSignal",k)})(oe),!H(w)&&!Y(w))throw new N("stream",["ReadableStream","WritableStream","Stream"],w);return Ve.exports.addAbortSignalNoValidate(oe,w)},Ve.exports.addAbortSignalNoValidate=function(k,oe){if("object"!=typeof k||!("aborted"in k))return oe;const w=H(oe)?()=>{oe.destroy(new A(void 0,{cause:k.reason}))}:()=>{oe[_](new A(void 0,{cause:k.reason}))};if(k.aborted)w();else{G=G||S(2656).addAbortListener;const F=G(k,w);x(oe,F[Z])}return oe}},2960:(Ve,_e,S)=>{"use strict";const{StringPrototypeSlice:Z,SymbolIterator:A,TypedArrayPrototypeSet:$,Uint8Array:H}=S(6305),{Buffer:Y}=S(1657),{inspect:_}=S(2656);Ve.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(N){const G={data:N,next:null};this.length>0?this.tail.next=G:this.head=G,this.tail=G,++this.length}unshift(N){const G={data:N,next:this.head};0===this.length&&(this.tail=G),this.head=G,++this.length}shift(){if(0===this.length)return;const N=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,N}clear(){this.head=this.tail=null,this.length=0}join(N){if(0===this.length)return"";let G=this.head,O=""+G.data;for(;null!==(G=G.next);)O+=N+G.data;return O}concat(N){if(0===this.length)return Y.alloc(0);const G=Y.allocUnsafe(N>>>0);let O=this.head,k=0;for(;O;)$(G,O.data,k),k+=O.data.length,O=O.next;return G}consume(N,G){const O=this.head.data;if(N<O.length){const k=O.slice(0,N);return this.head.data=O.slice(N),k}return N===O.length?this.shift():G?this._getString(N):this._getBuffer(N)}first(){return this.head.data}*[A](){for(let N=this.head;N;N=N.next)yield N.data}_getString(N){let G="",O=this.head,k=0;do{const oe=O.data;if(!(N>oe.length)){N===oe.length?(G+=oe,++k,this.head=O.next?O.next:this.tail=null):(G+=Z(oe,0,N),this.head=O,O.data=Z(oe,N));break}G+=oe,N-=oe.length,++k}while(null!==(O=O.next));return this.length-=k,G}_getBuffer(N){const G=Y.allocUnsafe(N),O=N;let k=this.head,oe=0;do{const w=k.data;if(!(N>w.length)){N===w.length?($(G,w,O-N),++oe,this.head=k.next?k.next:this.tail=null):($(G,new H(w.buffer,w.byteOffset,N),O-N),this.head=k,k.data=w.slice(N));break}$(G,w,O-N),N-=w.length,++oe}while(null!==(k=k.next));return this.length-=oe,G}[Symbol.for("nodejs.util.inspect.custom")](N,G){return _(this,{...G,depth:0,customInspect:!1})}}},7721:(Ve,_e,S)=>{"use strict";var Z=S(7156).default;const{pipeline:A}=S(4514),$=S(5931),{destroyer:H}=S(5601),{isNodeStream:Y,isReadable:_,isWritable:x,isWebStream:N,isTransformStream:G,isWritableStream:O,isReadableStream:k}=S(5428),{AbortError:oe,codes:{ERR_INVALID_ARG_VALUE:w,ERR_MISSING_ARGS:F}}=S(4370),re=S(4618);Ve.exports=function(...q){if(0===q.length)throw new F("streams");if(1===q.length)return $.from(q[0]);const ee=[...q];if("function"==typeof q[0]&&(q[0]=$.from(q[0])),"function"==typeof q[q.length-1]){const Ne=q.length-1;q[Ne]=$.from(q[Ne])}for(let Ne=0;Ne<q.length;++Ne)if(Y(q[Ne])||N(q[Ne])){if(Ne<q.length-1&&!(_(q[Ne])||k(q[Ne])||G(q[Ne])))throw new w(`streams[${Ne}]`,ee[Ne],"must be readable");if(Ne>0&&!(x(q[Ne])||O(q[Ne])||G(q[Ne])))throw new w(`streams[${Ne}]`,ee[Ne],"must be writable")}let W,L,b,I,T;const j=q[0],Ie=A(q,function ce(Ne){const Ge=I;I=null,Ge?Ge(Ne):Ne?T.destroy(Ne):!xe&&!ae&&T.destroy()}),ae=!!(x(j)||O(j)||G(j)),xe=!!(_(Ie)||k(Ie)||G(Ie));if(T=new $({writableObjectMode:!(null==j||!j.writableObjectMode),readableObjectMode:!(null==Ie||!Ie.readableObjectMode),writable:ae,readable:xe}),ae){if(Y(j))T._write=function(Ge,it,Ke){j.write(Ge,it)?Ke():W=Ke},T._final=function(Ge){j.end(),L=Ge},j.on("drain",function(){if(W){const Ge=W;W=null,Ge()}});else if(N(j)){const it=(G(j)?j.writable:j).getWriter();T._write=function(){var Ke=Z(function*(Ae,ze,Se){try{yield it.ready,it.write(Ae).catch(()=>{}),Se()}catch(Ue){Se(Ue)}});return function(Ae,ze,Se){return Ke.apply(this,arguments)}}(),T._final=function(){var Ke=Z(function*(Ae){try{yield it.ready,it.close().catch(()=>{}),L=Ae}catch(ze){Ae(ze)}});return function(Ae){return Ke.apply(this,arguments)}}()}const Ne=G(Ie)?Ie.readable:Ie;re(Ne,()=>{if(L){const Ge=L;L=null,Ge()}})}if(xe)if(Y(Ie))Ie.on("readable",function(){if(b){const Ne=b;b=null,Ne()}}),Ie.on("end",function(){T.push(null)}),T._read=function(){for(;;){const Ne=Ie.read();if(null===Ne)return void(b=T._read);if(!T.push(Ne))return}};else if(N(Ie)){const Ge=(G(Ie)?Ie.readable:Ie).getReader();T._read=Z(function*(){for(;;)try{const{value:it,done:Ke}=yield Ge.read();if(!T.push(it))return;if(Ke)return void T.push(null)}catch{return}})}return T._destroy=function(Ne,Ge){!Ne&&null!==I&&(Ne=new oe),b=null,W=null,L=null,null===I?Ge(Ne):(I=Ge,Y(Ie)&&H(Ie,Ne))},T}},5601:(Ve,_e,S)=>{"use strict";const Z=S(42),{aggregateTwoErrors:A,codes:{ERR_MULTIPLE_CALLBACK:$},AbortError:H}=S(4370),{Symbol:Y}=S(6305),{kIsDestroyed:_,isDestroyed:x,isFinished:N,isServerRequest:G}=S(5428),O=Y("kDestroy"),k=Y("kConstruct");function oe(ae,xe,Ne){ae&&(xe&&!xe.errored&&(xe.errored=ae),Ne&&!Ne.errored&&(Ne.errored=ae))}function F(ae,xe,Ne){let Ge=!1;function it(Ke){if(Ge)return;Ge=!0;const Ae=ae._readableState,ze=ae._writableState;oe(Ke,ze,Ae),ze&&(ze.closed=!0),Ae&&(Ae.closed=!0),"function"==typeof Ne&&Ne(Ke),Ke?Z.nextTick(re,ae,Ke):Z.nextTick(X,ae)}try{ae._destroy(xe||null,it)}catch(Ke){it(Ke)}}function re(ae,xe){q(ae,xe),X(ae)}function X(ae){const xe=ae._readableState,Ne=ae._writableState;Ne&&(Ne.closeEmitted=!0),xe&&(xe.closeEmitted=!0),(null!=Ne&&Ne.emitClose||null!=xe&&xe.emitClose)&&ae.emit("close")}function q(ae,xe){const Ne=ae._readableState,Ge=ae._writableState;null!=Ge&&Ge.errorEmitted||null!=Ne&&Ne.errorEmitted||(Ge&&(Ge.errorEmitted=!0),Ne&&(Ne.errorEmitted=!0),ae.emit("error",xe))}function W(ae,xe,Ne){const Ge=ae._readableState,it=ae._writableState;if(null!=it&&it.destroyed||null!=Ge&&Ge.destroyed)return this;null!=Ge&&Ge.autoDestroy||null!=it&&it.autoDestroy?ae.destroy(xe):xe&&(it&&!it.errored&&(it.errored=xe),Ge&&!Ge.errored&&(Ge.errored=xe),Ne?Z.nextTick(q,ae,xe):q(ae,xe))}function b(ae){let xe=!1;function Ne(Ge){if(xe)return void W(ae,Ge??new $);xe=!0;const it=ae._readableState,Ke=ae._writableState,Ae=Ke||it;it&&(it.constructed=!0),Ke&&(Ke.constructed=!0),Ae.destroyed?ae.emit(O,Ge):Ge?W(ae,Ge,!0):Z.nextTick(I,ae)}try{ae._construct(Ge=>{Z.nextTick(Ne,Ge)})}catch(Ge){Z.nextTick(Ne,Ge)}}function I(ae){ae.emit(k)}function T(ae){return ae?.setHeader&&"function"==typeof ae.abort}function ce(ae){ae.emit("close")}function j(ae,xe){ae.emit("error",xe),Z.nextTick(ce,ae)}Ve.exports={construct:function L(ae,xe){if("function"!=typeof ae._construct)return;const Ne=ae._readableState,Ge=ae._writableState;Ne&&(Ne.constructed=!1),Ge&&(Ge.constructed=!1),ae.once(k,xe),!(ae.listenerCount(k)>1)&&Z.nextTick(b,ae)},destroyer:function Ie(ae,xe){!ae||x(ae)||(!xe&&!N(ae)&&(xe=new H),G(ae)?(ae.socket=null,ae.destroy(xe)):T(ae)?ae.abort():T(ae.req)?ae.req.abort():"function"==typeof ae.destroy?ae.destroy(xe):"function"==typeof ae.close?ae.close():xe?Z.nextTick(j,ae,xe):Z.nextTick(ce,ae),ae.destroyed||(ae[_]=!0))},destroy:function w(ae,xe){const Ne=this._readableState,Ge=this._writableState,it=Ge||Ne;return null!=Ge&&Ge.destroyed||null!=Ne&&Ne.destroyed?("function"==typeof xe&&xe(),this):(oe(ae,Ge,Ne),Ge&&(Ge.destroyed=!0),Ne&&(Ne.destroyed=!0),it.constructed?F(this,ae,xe):this.once(O,function(Ke){F(this,A(Ke,ae),xe)}),this)},undestroy:function ee(){const ae=this._readableState,xe=this._writableState;ae&&(ae.constructed=!0,ae.closed=!1,ae.closeEmitted=!1,ae.destroyed=!1,ae.errored=null,ae.errorEmitted=!1,ae.reading=!1,ae.ended=!1===ae.readable,ae.endEmitted=!1===ae.readable),xe&&(xe.constructed=!0,xe.destroyed=!1,xe.closed=!1,xe.closeEmitted=!1,xe.errored=null,xe.errorEmitted=!1,xe.finalCalled=!1,xe.prefinished=!1,xe.ended=!1===xe.writable,xe.ending=!1===xe.writable,xe.finished=!1===xe.writable)},errorOrDestroy:W}},5931:(Ve,_e,S)=>{"use strict";const{ObjectDefineProperties:Z,ObjectGetOwnPropertyDescriptor:A,ObjectKeys:$,ObjectSetPrototypeOf:H}=S(6305);Ve.exports=x;const Y=S(8383),_=S(9764);H(x.prototype,Y.prototype),H(x,Y);{const k=$(_.prototype);for(let oe=0;oe<k.length;oe++){const w=k[oe];x.prototype[w]||(x.prototype[w]=_.prototype[w])}}function x(k){if(!(this instanceof x))return new x(k);Y.call(this,k),_.call(this,k),k?(this.allowHalfOpen=!1!==k.allowHalfOpen,!1===k.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===k.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let N,O;function G(){return void 0===N&&(N={}),N}Z(x.prototype,{writable:{__proto__:null,...A(_.prototype,"writable")},writableHighWaterMark:{__proto__:null,...A(_.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...A(_.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...A(_.prototype,"writableBuffer")},writableLength:{__proto__:null,...A(_.prototype,"writableLength")},writableFinished:{__proto__:null,...A(_.prototype,"writableFinished")},writableCorked:{__proto__:null,...A(_.prototype,"writableCorked")},writableEnded:{__proto__:null,...A(_.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...A(_.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(k){this._readableState&&this._writableState&&(this._readableState.destroyed=k,this._writableState.destroyed=k)}}}),x.fromWeb=function(k,oe){return G().newStreamDuplexFromReadableWritablePair(k,oe)},x.toWeb=function(k){return G().newReadableWritablePairFromDuplex(k)},x.from=function(k){return O||(O=S(8078)),O(k,"body")}},8078:(Ve,_e,S)=>{var Z=S(7156).default,A=S(6737).default,$=S(8186).default;const H=S(42),Y=S(1657),{isReadable:_,isWritable:x,isIterable:N,isNodeStream:G,isReadableNodeStream:O,isWritableNodeStream:k,isDuplexNodeStream:oe,isReadableStream:w,isWritableStream:F}=S(5428),re=S(4618),{AbortError:X,codes:{ERR_INVALID_ARG_TYPE:q,ERR_INVALID_RETURN_VALUE:ee}}=S(4370),{destroyer:W}=S(5601),L=S(5931),b=S(8383),I=S(9764),{createDeferredPromise:T}=S(2656),ce=S(55),j=globalThis.Blob||Y.Blob,Ie=typeof j<"u"?function(Ae){return Ae instanceof j}:function(Ae){return!1},ae=globalThis.AbortController||S(3982).AbortController,{FunctionPrototypeCall:xe}=S(6305);class Ne extends L{constructor(Ae){super(Ae),!1===Ae?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===Ae?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function it(Ke){const Ae=Ke.readable&&"function"!=typeof Ke.readable.read?b.wrap(Ke.readable):Ke.readable,ze=Ke.writable;let ue,Ce,at,vt,Je,Se=!!_(Ae),Ue=!!x(ze);function pe(R){const E=vt;vt=null,E?E(R):R&&Je.destroy(R)}return Je=new Ne({readableObjectMode:!(null==Ae||!Ae.readableObjectMode),writableObjectMode:!(null==ze||!ze.writableObjectMode),readable:Se,writable:Ue}),Ue&&(re(ze,R=>{Ue=!1,R&&W(Ae,R),pe(R)}),Je._write=function(R,E,ie){ze.write(R,E)?ie():ue=ie},Je._final=function(R){ze.end(),Ce=R},ze.on("drain",function(){if(ue){const R=ue;ue=null,R()}}),ze.on("finish",function(){if(Ce){const R=Ce;Ce=null,R()}})),Se&&(re(Ae,R=>{Se=!1,R&&W(Ae,R),pe(R)}),Ae.on("readable",function(){if(at){const R=at;at=null,R()}}),Ae.on("end",function(){Je.push(null)}),Je._read=function(){for(;;){const R=Ae.read();if(null===R)return void(at=Je._read);if(!Je.push(R))return}}),Je._destroy=function(R,E){!R&&null!==vt&&(R=new X),at=null,ue=null,Ce=null,null===vt?E(R):(vt=E,W(ze,R),W(Ae,R))},Je}Ve.exports=function Ke(Ae,ze){if(oe(Ae))return Ae;if(O(Ae))return it({readable:Ae});if(k(Ae))return it({writable:Ae});if(G(Ae))return it({writable:!1,readable:!1});if(w(Ae))return it({readable:b.fromWeb(Ae)});if(F(Ae))return it({writable:I.fromWeb(Ae)});if("function"==typeof Ae){const{value:Ue,write:ue,final:Ce,destroy:at}=function Ge(Ke){let{promise:Ae,resolve:ze}=T();const Se=new ae,Ue=Se.signal;return{value:Ke($(function*(){for(;;){const Ce=Ae;Ae=null;const{chunk:at,done:vt,cb:Je}=yield A(Ce);if(H.nextTick(Je),vt)return;if(Ue.aborted)throw new X(void 0,{cause:Ue.reason});({promise:Ae,resolve:ze}=T()),yield at}})(),{signal:Ue}),write(Ce,at,vt){const Je=ze;ze=null,Je({chunk:Ce,done:!1,cb:vt})},final(Ce){const at=ze;ze=null,at({done:!0,cb:Ce})},destroy(Ce,at){Se.abort(),at(Ce)}}}(Ae);if(N(Ue))return ce(Ne,Ue,{objectMode:!0,write:ue,final:Ce,destroy:at});const vt=Ue?.then;if("function"==typeof vt){let Je;const pe=xe(vt,Ue,R=>{if(null!=R)throw new ee("nully","body",R)},R=>{W(Je,R)});return Je=new Ne({objectMode:!0,readable:!1,write:ue,final(R){Ce(Z(function*(){try{yield pe,H.nextTick(R,null)}catch(E){H.nextTick(R,E)}}))},destroy:at})}throw new ee("Iterable, AsyncIterable or AsyncFunction",ze,Ue)}if(Ie(Ae))return Ke(Ae.arrayBuffer());if(N(Ae))return ce(Ne,Ae,{objectMode:!0,writable:!1});if(w(Ae?.readable)&&F(Ae?.writable))return Ne.fromWeb(Ae);if("object"==typeof Ae?.writable||"object"==typeof Ae?.readable)return it({readable:null!=Ae&&Ae.readable?O(Ae?.readable)?Ae?.readable:Ke(Ae.readable):void 0,writable:null!=Ae&&Ae.writable?k(Ae?.writable)?Ae?.writable:Ke(Ae.writable):void 0});const Se=Ae?.then;if("function"==typeof Se){let Ue;return xe(Se,Ae,ue=>{null!=ue&&Ue.push(ue),Ue.push(null)},ue=>{W(Ue,ue)}),Ue=new Ne({objectMode:!0,writable:!1,read(){}})}throw new q(ze,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],Ae)}},4618:(Ve,_e,S)=>{const Z=S(42),{AbortError:A,codes:$}=S(4370),{ERR_INVALID_ARG_TYPE:H,ERR_STREAM_PREMATURE_CLOSE:Y}=$,{kEmptyObject:_,once:x}=S(2656),{validateAbortSignal:N,validateFunction:G,validateObject:O,validateBoolean:k}=S(2120),{Promise:oe,PromisePrototypeThen:w,SymbolDispose:F}=S(6305),{isClosed:re,isReadable:X,isReadableNodeStream:q,isReadableStream:ee,isReadableFinished:W,isReadableErrored:L,isWritable:b,isWritableNodeStream:I,isWritableStream:T,isWritableFinished:ce,isWritableErrored:j,isNodeStream:Ie,willEmitClose:ae,kIsClosedPromise:xe}=S(5428);let Ne;const it=()=>{};function Ke(Se,Ue,ue){var Ce,at;if(2===arguments.length?(ue=Ue,Ue=_):null==Ue?Ue=_:O(Ue,"options"),G(ue,"callback"),N(Ue.signal,"options.signal"),ue=x(ue),ee(Se)||T(Se))return function Ae(Se,Ue,ue){let Ce=!1,at=it;if(Ue.signal)if(at=()=>{Ce=!0,ue.call(Se,new A(void 0,{cause:Ue.signal.reason}))},Ue.signal.aborted)Z.nextTick(at);else{Ne=Ne||S(2656).addAbortListener;const Je=Ne(Ue.signal,at),pe=ue;ue=x((...R)=>{Je[F](),pe.apply(Se,R)})}const vt=(...Je)=>{Ce||Z.nextTick(()=>ue.apply(Se,Je))};return w(Se[xe].promise,vt,vt),it}(Se,Ue,ue);if(!Ie(Se))throw new H("stream",["ReadableStream","WritableStream","Stream"],Se);const vt=null!==(Ce=Ue.readable)&&void 0!==Ce?Ce:q(Se),Je=null!==(at=Ue.writable)&&void 0!==at?at:I(Se),pe=Se._writableState,R=Se._readableState,E=()=>{Se.writable||He()};let ie=ae(Se)&&q(Se)===vt&&I(Se)===Je,Q=ce(Se,!1);const He=()=>{Q=!0,Se.destroyed&&(ie=!1),(!ie||Se.readable&&!vt)&&(!vt||Qe)&&ue.call(Se)};let Qe=W(Se,!1);const de=()=>{Qe=!0,Se.destroyed&&(ie=!1),(!ie||Se.writable&&!Je)&&(!Je||Q)&&ue.call(Se)},ne=Ee=>{ue.call(Se,Ee)};let U=re(Se);const M=()=>{U=!0;const Ee=j(Se)||L(Se);return Ee&&"boolean"!=typeof Ee?ue.call(Se,Ee):vt&&!Qe&&q(Se,!0)&&!W(Se,!1)?ue.call(Se,new Y):!Je||Q||ce(Se,!1)?void ue.call(Se):ue.call(Se,new Y)},P=()=>{U=!0;const Ee=j(Se)||L(Se);if(Ee&&"boolean"!=typeof Ee)return ue.call(Se,Ee);ue.call(Se)},he=()=>{Se.req.on("finish",He)};!function Ge(Se){return Se.setHeader&&"function"==typeof Se.abort}(Se)?Je&&!pe&&(Se.on("end",E),Se.on("close",E)):(Se.on("complete",He),ie||Se.on("abort",M),Se.req?he():Se.on("request",he)),!ie&&"boolean"==typeof Se.aborted&&Se.on("aborted",M),Se.on("end",de),Se.on("finish",He),!1!==Ue.error&&Se.on("error",ne),Se.on("close",M),U?Z.nextTick(M):null!=pe&&pe.errorEmitted||null!=R&&R.errorEmitted?ie||Z.nextTick(P):(!vt&&(!ie||X(Se))&&(Q||!1===b(Se))||!Je&&(!ie||b(Se))&&(Qe||!1===X(Se))||R&&Se.req&&Se.aborted)&&Z.nextTick(P);const Xe=()=>{ue=it,Se.removeListener("aborted",M),Se.removeListener("complete",He),Se.removeListener("abort",M),Se.removeListener("request",he),Se.req&&Se.req.removeListener("finish",He),Se.removeListener("end",E),Se.removeListener("close",E),Se.removeListener("finish",He),Se.removeListener("end",de),Se.removeListener("error",ne),Se.removeListener("close",M)};if(Ue.signal&&!U){const Ee=()=>{const Oe=ue;Xe(),Oe.call(Se,new A(void 0,{cause:Ue.signal.reason}))};if(Ue.signal.aborted)Z.nextTick(Ee);else{Ne=Ne||S(2656).addAbortListener;const Oe=Ne(Ue.signal,Ee),ut=ue;ue=x((...St)=>{Oe[F](),ut.apply(Se,St)})}}return Xe}Ve.exports=Ke,Ve.exports.finished=function ze(Se,Ue){var ue;let Ce=!1;return null===Ue&&(Ue=_),null!==(ue=Ue)&&void 0!==ue&&ue.cleanup&&(k(Ue.cleanup,"cleanup"),Ce=Ue.cleanup),new oe((at,vt)=>{const Je=Ke(Se,Ue,pe=>{Ce&&Je(),pe?vt(pe):at()})})}},55:(Ve,_e,S)=>{"use strict";var Z=S(7156).default;const A=S(42),{PromisePrototypeThen:$,SymbolAsyncIterator:H,SymbolIterator:Y}=S(6305),{Buffer:_}=S(1657),{ERR_INVALID_ARG_TYPE:x,ERR_STREAM_NULL_VALUES:N}=S(4370).codes;Ve.exports=function G(O,k,oe){let w,F;if("string"==typeof k||k instanceof _)return new O({objectMode:!0,...oe,read(){this.push(k),this.push(null)}});if(k&&k[H])F=!0,w=k[H]();else{if(!k||!k[Y])throw new x("iterable",["Iterable"],k);F=!1,w=k[Y]()}const re=new O({objectMode:!0,highWaterMark:1,...oe});let X=!1;function ee(){return(ee=Z(function*(b){if(null!=b&&"function"==typeof w.throw){const{value:ce,done:j}=yield w.throw(b);if(yield ce,j)return}if("function"==typeof w.return){const{value:ce}=yield w.return();yield ce}})).apply(this,arguments)}function L(){return(L=Z(function*(){for(;;){try{const{value:b,done:I}=F?yield w.next():w.next();if(I)re.push(null);else{const T=b&&"function"==typeof b.then?yield b:b;if(null===T)throw X=!1,new N;if(re.push(T))continue;X=!1}}catch(b){re.destroy(b)}break}})).apply(this,arguments)}return re._read=function(){X||(X=!0,function W(){L.apply(this,arguments)}())},re._destroy=function(b,I){$(function q(b){return ee.apply(this,arguments)}(b),()=>A.nextTick(I,b),T=>A.nextTick(I,T||b))},re}},900:(Ve,_e,S)=>{"use strict";const{ArrayIsArray:Z,ObjectSetPrototypeOf:A}=S(6305),{EventEmitter:$}=S(2016);function H(_){$.call(this,_)}function Y(_,x,N){if("function"==typeof _.prependListener)return _.prependListener(x,N);_._events&&_._events[x]?Z(_._events[x])?_._events[x].unshift(N):_._events[x]=[N,_._events[x]]:_.on(x,N)}A(H.prototype,$.prototype),A(H,$),H.prototype.pipe=function(_,x){const N=this;function G(X){_.writable&&!1===_.write(X)&&N.pause&&N.pause()}function O(){N.readable&&N.resume&&N.resume()}N.on("data",G),_.on("drain",O),!_._isStdio&&(!x||!1!==x.end)&&(N.on("end",oe),N.on("close",w));let k=!1;function oe(){k||(k=!0,_.end())}function w(){k||(k=!0,"function"==typeof _.destroy&&_.destroy())}function F(X){re(),0===$.listenerCount(this,"error")&&this.emit("error",X)}function re(){N.removeListener("data",G),_.removeListener("drain",O),N.removeListener("end",oe),N.removeListener("close",w),N.removeListener("error",F),_.removeListener("error",F),N.removeListener("end",re),N.removeListener("close",re),_.removeListener("close",re)}return Y(N,"error",F),Y(_,"error",F),N.on("end",re),N.on("close",re),_.on("close",re),_.emit("pipe",N),_},Ve.exports={Stream:H,prependListener:Y}},7624:(Ve,_e,S)=>{"use strict";var Z=S(7156).default,A=S(8131).default,$=S(8237).default,H=S(6737).default,Y=S(8186).default;const _=globalThis.AbortController||S(3982).AbortController,{codes:{ERR_INVALID_ARG_VALUE:x,ERR_INVALID_ARG_TYPE:N,ERR_MISSING_ARGS:G,ERR_OUT_OF_RANGE:O},AbortError:k}=S(4370),{validateAbortSignal:oe,validateInteger:w,validateObject:F}=S(2120),re=S(6305).Symbol("kWeak"),X=S(6305).Symbol("kResistStopPropagation"),{finished:q}=S(4618),ee=S(7721),{addAbortSignalNoValidate:W}=S(9987),{isWritable:L,isNodeStream:b}=S(5428),{deprecate:I}=S(2656),{ArrayPrototypePush:T,Boolean:ce,MathFloor:j,Number:Ie,NumberIsNaN:ae,Promise:xe,PromiseReject:Ne,PromiseResolve:Ge,PromisePrototypeThen:it,Symbol:Ke}=S(6305),Ae=Ke("kEmpty"),ze=Ke("kEof");function Ue(Ee,Oe){if("function"!=typeof Ee)throw new N("fn",["Function","AsyncFunction"],Ee);null!=Oe&&F(Oe,"options"),null!=Oe?.signal&&oe(Oe.signal,"options.signal");let ut=1;null!=Oe?.concurrency&&(ut=j(Oe.concurrency));let St=ut-1;return null!=Oe?.highWaterMark&&(St=j(Oe.highWaterMark)),w(ut,"options.concurrency",1),w(St,"options.highWaterMark",0),St+=ut,function(){var Ut=Y(function*(){const an=S(2656).AbortSignalAny([Oe?.signal].filter(ce)),me=this,V=[],te={signal:an};let Le,ct,ft=!1,Mt=0;function xn(){ft=!0,ti()}function ti(){Mt-=1,si()}function si(){ct&&!ft&&Mt<ut&&V.length<St&&(ct(),ct=null)}function zn(){return(zn=Z(function*(){try{var Xr,_r=!1,Vs=!1;try{for(var Ta,Ro=$(me);_r=!(Ta=yield Ro.next()).done;_r=!1){let qi=Ta.value;if(ft)return;if(an.aborted)throw new k;try{if(qi=Ee(qi,te),qi===Ae)continue;qi=Ge(qi)}catch(mo){qi=Ne(mo)}Mt+=1,it(qi,ti,xn),V.push(qi),Le&&(Le(),Le=null),!ft&&(V.length>=St||Mt>=ut)&&(yield new xe(mo=>{ct=mo}))}}catch(qi){Vs=!0,Xr=qi}finally{try{_r&&null!=Ro.return&&(yield Ro.return())}finally{if(Vs)throw Xr}}V.push(ze)}catch(qi){const mo=Ne(qi);it(mo,ti,xn),V.push(mo)}finally{ft=!0,Le&&(Le(),Le=null)}})).apply(this,arguments)}!function Fn(){zn.apply(this,arguments)}();try{for(;;){for(;V.length>0;){const _r=yield H(V[0]);if(_r===ze)return;if(an.aborted)throw new k;_r!==Ae&&(yield _r),V.shift(),si()}yield H(new xe(_r=>{Le=_r}))}}finally{ft=!0,ct&&(ct(),ct=null)}});return function mt(){return Ut.apply(this,arguments)}}().call(this)}function Ce(Ee){return at.apply(this,arguments)}function at(){return(at=Z(function*(Ee,Oe=void 0){var Ut,ut=!1,St=!1;try{for(var mt=$(Q.call(this,Ee,Oe));ut=!(yield mt.next()).done;ut=!1)return!0}catch(me){St=!0,Ut=me}finally{try{ut&&null!=mt.return&&(yield mt.return())}finally{if(St)throw Ut}}return!1})).apply(this,arguments)}function Je(){return(Je=Z(function*(Ee,Oe=void 0){if("function"!=typeof Ee)throw new N("fn",["Function","AsyncFunction"],Ee);return!(yield Ce.call(this,Z(function*(...ut){return!(yield Ee(...ut))}),Oe))})).apply(this,arguments)}function R(){return(R=Z(function*(Ee,Oe){var Ut,ut=!1,St=!1;try{for(var an,mt=$(Q.call(this,Ee,Oe));ut=!(an=yield mt.next()).done;ut=!1)return an.value}catch(me){St=!0,Ut=me}finally{try{ut&&null!=mt.return&&(yield mt.return())}finally{if(St)throw Ut}}})).apply(this,arguments)}function ie(){return ie=Z(function*(Ee,Oe){if("function"!=typeof Ee)throw new N("fn",["Function","AsyncFunction"],Ee);function St(){return(St=Z(function*(te,Le){return yield Ee(te,Le),Ae})).apply(this,arguments)}var an,Ut=!1,mt=!1;try{for(var me=$(Ue.call(this,function ut(te,Le){return St.apply(this,arguments)},Oe));Ut=!(yield me.next()).done;Ut=!1);}catch(te){mt=!0,an=te}finally{try{Ut&&null!=me.return&&(yield me.return())}finally{if(mt)throw an}}}),ie.apply(this,arguments)}function Q(Ee,Oe){if("function"!=typeof Ee)throw new N("fn",["Function","AsyncFunction"],Ee);function St(){return(St=Z(function*(Ut,mt){return(yield Ee(Ut,mt))?Ut:Ae})).apply(this,arguments)}return Ue.call(this,function ut(Ut,mt){return St.apply(this,arguments)},Oe)}class He extends G{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function de(){return de=Z(function*(Ee,Oe,ut){var St;if("function"!=typeof Ee)throw new N("reducer",["Function","AsyncFunction"],Ee);null!=ut&&F(ut,"options"),null!=ut?.signal&&oe(ut.signal,"options.signal");let Ut=arguments.length>1;if(null!=ut&&null!==(St=ut.signal)&&void 0!==St&&St.aborted){const xn=new k(void 0,{cause:ut.signal.reason});throw this.once("error",()=>{}),yield q(this.destroy(xn)),xn}const mt=new _,an=mt.signal;null!=ut&&ut.signal&&ut.signal.addEventListener("abort",()=>mt.abort(),{once:!0,[re]:this,[X]:!0});let me=!1;try{var Le,V=!1,te=!1;try{for(var ft,ct=$(this);V=!(ft=yield ct.next()).done;V=!1){const xn=ft.value;var Mt;if(me=!0,null!=ut&&null!==(Mt=ut.signal)&&void 0!==Mt&&Mt.aborted)throw new k;Ut?Oe=yield Ee(Oe,xn,{signal:an}):(Oe=xn,Ut=!0)}}catch(xn){te=!0,Le=xn}finally{try{V&&null!=ct.return&&(yield ct.return())}finally{if(te)throw Le}}if(!me&&!Ut)throw new He}finally{mt.abort()}return Oe}),de.apply(this,arguments)}function U(){return(U=Z(function*(Ee){null!=Ee&&F(Ee,"options"),null!=Ee?.signal&&oe(Ee.signal,"options.signal");const Oe=[];var Ut,ut=!1,St=!1;try{for(var an,mt=$(this);ut=!(an=yield mt.next()).done;ut=!1){const V=an.value;var me;if(null!=Ee&&null!==(me=Ee.signal)&&void 0!==me&&me.aborted)throw new k(void 0,{cause:Ee.signal.reason});T(Oe,V)}}catch(V){St=!0,Ut=V}finally{try{ut&&null!=mt.return&&(yield mt.return())}finally{if(St)throw Ut}}return Oe})).apply(this,arguments)}function P(Ee){if(Ee=Ie(Ee),ae(Ee))return 0;if(Ee<0)throw new O("number",">= 0",Ee);return Ee}Ve.exports.streamReturningOperators={asIndexedPairs:I(function ue(Ee=void 0){return null!=Ee&&F(Ee,"options"),null!=Ee?.signal&&oe(Ee.signal,"options.signal"),function(){var Oe=Y(function*(){let St=0;var an,Ut=!1,mt=!1;try{for(var V,me=$(this);Ut=!(V=yield H(me.next())).done;Ut=!1){const Le=V.value;var te;if(null!=Ee&&null!==(te=Ee.signal)&&void 0!==te&&te.aborted)throw new k({cause:Ee.signal.reason});yield[St++,Le]}}catch(Le){mt=!0,an=Le}finally{try{Ut&&null!=me.return&&(yield H(me.return()))}finally{if(mt)throw an}}});return function ut(){return Oe.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function he(Ee,Oe=void 0){return null!=Oe&&F(Oe,"options"),null!=Oe?.signal&&oe(Oe.signal,"options.signal"),Ee=P(Ee),function(){var ut=Y(function*(){var Ut;if(null!=Oe&&null!==(Ut=Oe.signal)&&void 0!==Ut&&Ut.aborted)throw new k;var me,mt=!1,an=!1;try{for(var te,V=$(this);mt=!(te=yield H(V.next())).done;mt=!1){const ct=te.value;var Le;if(null!=Oe&&null!==(Le=Oe.signal)&&void 0!==Le&&Le.aborted)throw new k;Ee--<=0&&(yield ct)}}catch(ct){an=!0,me=ct}finally{try{mt&&null!=V.return&&(yield H(V.return()))}finally{if(an)throw me}}});return function St(){return ut.apply(this,arguments)}}().call(this)},filter:Q,flatMap:function M(Ee,Oe){const ut=Ue.call(this,Ee,Oe);return function(){var St=Y(function*(){var me,mt=!1,an=!1;try{for(var te,V=$(ut);mt=!(te=yield H(V.next())).done;mt=!1){const Le=te.value;yield*A($(Le),H)}}catch(Le){an=!0,me=Le}finally{try{mt&&null!=V.return&&(yield H(V.return()))}finally{if(an)throw me}}});return function Ut(){return St.apply(this,arguments)}}().call(this)},map:Ue,take:function Xe(Ee,Oe=void 0){return null!=Oe&&F(Oe,"options"),null!=Oe?.signal&&oe(Oe.signal,"options.signal"),Ee=P(Ee),function(){var ut=Y(function*(){var Ut;if(null!=Oe&&null!==(Ut=Oe.signal)&&void 0!==Ut&&Ut.aborted)throw new k;var me,mt=!1,an=!1;try{for(var te,V=$(this);mt=!(te=yield H(V.next())).done;mt=!1){const ct=te.value;var Le;if(null!=Oe&&null!==(Le=Oe.signal)&&void 0!==Le&&Le.aborted)throw new k;if(Ee-- >0&&(yield ct),Ee<=0)return}}catch(ct){an=!0,me=ct}finally{try{mt&&null!=V.return&&(yield H(V.return()))}finally{if(an)throw me}}});return function St(){return ut.apply(this,arguments)}}().call(this)},compose:function Se(Ee,Oe){if(null!=Oe&&F(Oe,"options"),null!=Oe?.signal&&oe(Oe.signal,"options.signal"),b(Ee)&&!L(Ee))throw new x("stream",Ee,"must be writable");const ut=ee(this,Ee);return null!=Oe&&Oe.signal&&W(Oe.signal,ut),ut}},Ve.exports.promiseReturningOperators={every:function vt(Ee){return Je.apply(this,arguments)},forEach:function E(Ee,Oe){return ie.apply(this,arguments)},reduce:function Qe(Ee,Oe,ut){return de.apply(this,arguments)},toArray:function ne(Ee){return U.apply(this,arguments)},some:Ce,find:function pe(Ee,Oe){return R.apply(this,arguments)}}},6973:(Ve,_e,S)=>{"use strict";const{ObjectSetPrototypeOf:Z}=S(6305);Ve.exports=$;const A=S(123);function $(H){if(!(this instanceof $))return new $(H);A.call(this,H)}Z($.prototype,A.prototype),Z($,A),$.prototype._transform=function(H,Y,_){_(null,H)}},4514:(Ve,_e,S)=>{var Z=S(7156).default,A=S(8186).default,$=S(6737).default,H=S(8131).default,Y=S(8237).default;const _=S(42),{ArrayIsArray:x,Promise:N,SymbolAsyncIterator:G,SymbolDispose:O}=S(6305),k=S(4618),{once:oe}=S(2656),w=S(5601),F=S(5931),{aggregateTwoErrors:re,codes:{ERR_INVALID_ARG_TYPE:X,ERR_INVALID_RETURN_VALUE:q,ERR_MISSING_ARGS:ee,ERR_STREAM_DESTROYED:W,ERR_STREAM_PREMATURE_CLOSE:L},AbortError:b}=S(4370),{validateFunction:I,validateAbortSignal:T}=S(2120),{isIterable:ce,isReadable:j,isReadableNodeStream:Ie,isNodeStream:ae,isTransformStream:xe,isWebStream:Ne,isReadableStream:Ge,isReadableFinished:it}=S(5428),Ke=globalThis.AbortController||S(3982).AbortController;let Ae,ze,Se;function Ue(Qe,de,ne){let U=!1;return Qe.on("close",()=>{U=!0}),{destroy:P=>{U||(U=!0,w.destroyer(Qe,P||new W("pipe")))},cleanup:k(Qe,{readable:de,writable:ne},P=>{U=!P})}}function Ce(Qe){if(ce(Qe))return Qe;if(Ie(Qe))return function at(Qe){return vt.apply(this,arguments)}(Qe);throw new X("val",["Readable","Iterable","AsyncIterable"],Qe)}function vt(){return(vt=A(function*(Qe){ze||(ze=S(8383)),yield*H(Y(ze.prototype[G].call(Qe)),$)})).apply(this,arguments)}function Je(Qe,de,ne,U){return pe.apply(this,arguments)}function pe(){return(pe=Z(function*(Qe,de,ne,{end:U}){let M,P=null;const he=an=>{if(an&&(M=an),P){const me=P;P=null,me()}},Xe=()=>new N((an,me)=>{M?me(M):P=()=>{M?me(M):an()}});de.on("drain",he);const Ee=k(de,{readable:!1},he);try{de.writableNeedDrain&&(yield Xe());var St,Oe=!1,ut=!1;try{for(var mt,Ut=Y(Qe);Oe=!(mt=yield Ut.next()).done;Oe=!1)de.write(mt.value)||(yield Xe())}catch(an){ut=!0,St=an}finally{try{Oe&&null!=Ut.return&&(yield Ut.return())}finally{if(ut)throw St}}U&&(de.end(),yield Xe()),ne()}catch(an){ne(M!==an?re(M,an):an)}finally{Ee(),de.off("drain",he)}})).apply(this,arguments)}function R(Qe,de,ne,U){return E.apply(this,arguments)}function E(){return(E=Z(function*(Qe,de,ne,{end:U}){xe(de)&&(de=de.writable);const M=de.getWriter();try{var Xe,P=!1,he=!1;try{for(var Oe,Ee=Y(Qe);P=!(Oe=yield Ee.next()).done;P=!1){const ut=Oe.value;yield M.ready,M.write(ut).catch(()=>{})}}catch(ut){he=!0,Xe=ut}finally{try{P&&null!=Ee.return&&(yield Ee.return())}finally{if(he)throw Xe}}yield M.ready,U&&(yield M.close()),ne()}catch(ut){try{yield M.abort(ut),ne(ut)}catch(St){ne(St)}}})).apply(this,arguments)}function Q(Qe,de,ne){if(1===Qe.length&&x(Qe[0])&&(Qe=Qe[0]),Qe.length<2)throw new ee("streams");const U=new Ke,M=U.signal,P=ne?.signal,he=[];function Xe(){an(new b)}let Ee,Oe,ut;T(P,"options.signal"),Se=Se||S(2656).addAbortListener,P&&(Ee=Se(P,Xe));const St=[];let me,Ut=0;function mt(ct){an(ct,0==--Ut)}function an(ct,ft){var Mt;if(ct&&(!Oe||"ERR_STREAM_PREMATURE_CLOSE"===Oe.code)&&(Oe=ct),Oe||ft){for(;St.length;)St.shift()(Oe);null===(Mt=Ee)||void 0===Mt||Mt[O](),U.abort(),ft&&(Oe||he.forEach(xn=>xn()),_.nextTick(de,Oe,ut))}}for(let ct=0;ct<Qe.length;ct++){const ft=Qe[ct],Mt=ct<Qe.length-1,xn=ct>0,ti=Mt||!1!==ne?.end,si=ct===Qe.length-1;if(ae(ft)){let Fn=function(zn){zn&&"AbortError"!==zn.name&&"ERR_STREAM_PREMATURE_CLOSE"!==zn.code&&mt(zn)};if(ti){const{destroy:zn,cleanup:_r}=Ue(ft,Mt,xn);St.push(zn),j(ft)&&si&&he.push(_r)}ft.on("error",Fn),j(ft)&&si&&he.push(()=>{ft.removeListener("error",Fn)})}if(0===ct)if("function"==typeof ft){if(me=ft({signal:M}),!ce(me))throw new q("Iterable, AsyncIterable or Stream","source",me)}else me=ce(ft)||Ie(ft)||xe(ft)?ft:F.from(ft);else if("function"==typeof ft){var V;if(me=xe(me)?Ce(null===(V=me)||void 0===V?void 0:V.readable):Ce(me),me=ft(me,{signal:M}),Mt){if(!ce(me,!0))throw new q("AsyncIterable",`transform[${ct-1}]`,me)}else{var te;Ae||(Ae=S(6973));const Fn=new Ae({objectMode:!0}),zn=null===(te=me)||void 0===te?void 0:te.then;if("function"==typeof zn)Ut++,zn.call(me,Xr=>{ut=Xr,null!=Xr&&Fn.write(Xr),ti&&Fn.end(),_.nextTick(mt)},Xr=>{Fn.destroy(Xr),_.nextTick(mt,Xr)});else if(ce(me,!0))Ut++,Je(me,Fn,mt,{end:ti});else{if(!Ge(me)&&!xe(me))throw new q("AsyncIterable or Promise","destination",me);Ut++,Je(me.readable||me,Fn,mt,{end:ti})}me=Fn;const{destroy:_r,cleanup:Vs}=Ue(me,!1,!0);St.push(_r),si&&he.push(Vs)}}else if(ae(ft)){if(Ie(me)){Ut+=2;const Fn=He(me,ft,mt,{end:ti});j(ft)&&si&&he.push(Fn)}else if(xe(me)||Ge(me))Ut++,Je(me.readable||me,ft,mt,{end:ti});else{if(!ce(me))throw new X("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],me);Ut++,Je(me,ft,mt,{end:ti})}me=ft}else if(Ne(ft)){if(Ie(me))Ut++,R(Ce(me),ft,mt,{end:ti});else if(Ge(me)||ce(me))Ut++,R(me,ft,mt,{end:ti});else{if(!xe(me))throw new X("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],me);Ut++,R(me.readable,ft,mt,{end:ti})}me=ft}else me=F.from(ft)}return(null!=M&&M.aborted||null!=P&&P.aborted)&&_.nextTick(Xe),me}function He(Qe,de,ne,{end:U}){let M=!1;if(de.on("close",()=>{M||ne(new L)}),Qe.pipe(de,{end:!1}),U){let he=function(){M=!0,de.end()};it(Qe)?_.nextTick(he):Qe.once("end",he)}else ne();return k(Qe,{readable:!0,writable:!1},he=>{const Xe=Qe._readableState;he&&"ERR_STREAM_PREMATURE_CLOSE"===he.code&&Xe&&Xe.ended&&!Xe.errored&&!Xe.errorEmitted?Qe.once("end",ne).once("error",ne):ne(he)}),k(de,{readable:!1,writable:!0},ne)}Ve.exports={pipelineImpl:Q,pipeline:function ie(...Qe){return Q(Qe,oe(function ue(Qe){return I(Qe[Qe.length-1],"streams[stream.length - 1]"),Qe.pop()}(Qe)))}}},8383:(Ve,_e,S)=>{var Z=S(6737).default,A=S(8186).default;const $=S(42),{ArrayPrototypeIndexOf:H,NumberIsInteger:Y,NumberIsNaN:_,NumberParseInt:x,ObjectDefineProperties:N,ObjectKeys:G,ObjectSetPrototypeOf:O,Promise:k,SafeSet:oe,SymbolAsyncDispose:w,SymbolAsyncIterator:F,Symbol:re}=S(6305);Ve.exports=mt,mt.ReadableState=Ut;const{EventEmitter:X}=S(2016),{Stream:q,prependListener:ee}=S(900),{Buffer:W}=S(1657),{addAbortSignal:L}=S(9987),b=S(4618);let I=S(2656).debuglog("stream",Ye=>{I=Ye});const T=S(2960),ce=S(5601),{getHighWaterMark:j,getDefaultHighWaterMark:Ie}=S(8782),{aggregateTwoErrors:ae,codes:{ERR_INVALID_ARG_TYPE:xe,ERR_METHOD_NOT_IMPLEMENTED:Ne,ERR_OUT_OF_RANGE:Ge,ERR_STREAM_PUSH_AFTER_EOF:it,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Ke},AbortError:Ae}=S(4370),{validateObject:ze}=S(2120),Se=re("kPaused"),{StringDecoder:Ue}=S(2024),ue=S(55);O(mt.prototype,q.prototype),O(mt,q);const Ce=()=>{},{errorOrDestroy:at}=ce,vt=1,E=16,ie=32,Q=64,U=2048,M=4096,Ee=65536;function St(Ye){return{enumerable:!1,get(){return 0!=(this.state&Ye)},set(Ze){Ze?this.state|=Ye:this.state&=~Ye}}}function Ut(Ye,Ze,Et){"boolean"!=typeof Et&&(Et=Ze instanceof S(5931)),this.state=U|M|E|ie,Ye&&Ye.objectMode&&(this.state|=vt),Et&&Ye&&Ye.readableObjectMode&&(this.state|=vt),this.highWaterMark=Ye?j(this,Ye,"readableHighWaterMark",Et):Ie(!1),this.buffer=new T,this.length=0,this.pipes=[],this.flowing=null,this[Se]=null,Ye&&!1===Ye.emitClose&&(this.state&=~U),Ye&&!1===Ye.autoDestroy&&(this.state&=~M),this.errored=null,this.defaultEncoding=Ye&&Ye.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Ye&&Ye.encoding&&(this.decoder=new Ue(Ye.encoding),this.encoding=Ye.encoding)}function mt(Ye){if(!(this instanceof mt))return new mt(Ye);const Ze=this instanceof S(5931);this._readableState=new Ut(Ye,this,Ze),Ye&&("function"==typeof Ye.read&&(this._read=Ye.read),"function"==typeof Ye.destroy&&(this._destroy=Ye.destroy),"function"==typeof Ye.construct&&(this._construct=Ye.construct),Ye.signal&&!Ze&&L(Ye.signal,this)),q.call(this,Ye),ce.construct(this,()=>{this._readableState.needReadable&&xn(this,this._readableState)})}function an(Ye,Ze,Et,nn){I("readableAddChunk",Ze);const En=Ye._readableState;let Pr;if(En.state&vt||("string"==typeof Ze?En.encoding!==(Et=Et||En.defaultEncoding)&&(nn&&En.encoding?Ze=W.from(Ze,Et).toString(En.encoding):(Ze=W.from(Ze,Et),Et="")):Ze instanceof W?Et="":q._isUint8Array(Ze)?(Ze=q._uint8ArrayToBuffer(Ze),Et=""):null!=Ze&&(Pr=new xe("chunk",["string","Buffer","Uint8Array"],Ze))),Pr)at(Ye,Pr);else if(null===Ze)En.state&=-9,function ct(Ye,Ze){if(I("onEofChunk"),!Ze.ended){if(Ze.decoder){const Et=Ze.decoder.end();Et&&Et.length&&(Ze.buffer.push(Et),Ze.length+=Ze.objectMode?1:Et.length)}Ze.ended=!0,Ze.sync?ft(Ye):(Ze.needReadable=!1,Ze.emittedReadable=!0,Mt(Ye))}}(Ye,En);else if(En.state&vt||Ze&&Ze.length>0)if(nn)if(4&En.state)at(Ye,new Ke);else{if(En.destroyed||En.errored)return!1;me(Ye,En,Ze,!0)}else if(En.ended)at(Ye,new it);else{if(En.destroyed||En.errored)return!1;En.state&=-9,En.decoder&&!Et?(Ze=En.decoder.write(Ze),En.objectMode||0!==Ze.length?me(Ye,En,Ze,!1):xn(Ye,En)):me(Ye,En,Ze,!1)}else nn||(En.state&=-9,xn(Ye,En));return!En.ended&&(En.length<En.highWaterMark||0===En.length)}function me(Ye,Ze,Et,nn){Ze.flowing&&0===Ze.length&&!Ze.sync&&Ye.listenerCount("data")>0?(Ze.state&Ee?Ze.awaitDrainWriters.clear():Ze.awaitDrainWriters=null,Ze.dataEmitted=!0,Ye.emit("data",Et)):(Ze.length+=Ze.objectMode?1:Et.length,nn?Ze.buffer.unshift(Et):Ze.buffer.push(Et),Ze.state&Q&&ft(Ye)),xn(Ye,Ze)}function Le(Ye,Ze){return Ye<=0||0===Ze.length&&Ze.ended?0:Ze.state&vt?1:_(Ye)?Ze.flowing&&Ze.length?Ze.buffer.first().length:Ze.length:Ye<=Ze.length?Ye:Ze.ended?Ze.length:0}function ft(Ye){const Ze=Ye._readableState;I("emitReadable",Ze.needReadable,Ze.emittedReadable),Ze.needReadable=!1,Ze.emittedReadable||(I("emitReadable",Ze.flowing),Ze.emittedReadable=!0,$.nextTick(Mt,Ye))}function Mt(Ye){const Ze=Ye._readableState;I("emitReadable_",Ze.destroyed,Ze.length,Ze.ended),!Ze.destroyed&&!Ze.errored&&(Ze.length||Ze.ended)&&(Ye.emit("readable"),Ze.emittedReadable=!1),Ze.needReadable=!Ze.flowing&&!Ze.ended&&Ze.length<=Ze.highWaterMark,Xr(Ye)}function xn(Ye,Ze){!Ze.readingMore&&Ze.constructed&&(Ze.readingMore=!0,$.nextTick(ti,Ye,Ze))}function ti(Ye,Ze){for(;!Ze.reading&&!Ze.ended&&(Ze.length<Ze.highWaterMark||Ze.flowing&&0===Ze.length);){const Et=Ze.length;if(I("maybeReadMore read 0"),Ye.read(0),Et===Ze.length)break}Ze.readingMore=!1}function Fn(Ye){const Ze=Ye._readableState;Ze.readableListening=Ye.listenerCount("readable")>0,Ze.resumeScheduled&&!1===Ze[Se]?Ze.flowing=!0:Ye.listenerCount("data")>0?Ye.resume():Ze.readableListening||(Ze.flowing=null)}function zn(Ye){I("readable nexttick read 0"),Ye.read(0)}function Vs(Ye,Ze){I("resume",Ze.reading),Ze.reading||Ye.read(0),Ze.resumeScheduled=!1,Ye.emit("resume"),Xr(Ye),Ze.flowing&&!Ze.reading&&Ye.read(0)}function Xr(Ye){const Ze=Ye._readableState;for(I("flow",Ze.flowing);Ze.flowing&&null!==Ye.read(););}function Ro(Ye,Ze){"function"!=typeof Ye.read&&(Ye=mt.wrap(Ye,{objectMode:!0}));const Et=function Ta(Ye,Ze){return qi.apply(this,arguments)}(Ye,Ze);return Et.stream=Ye,Et}function qi(){return(qi=A(function*(Ye,Ze){let En,Et=Ce;function nn(Po){this===Ye?(Et(),Et=Ce):Et=Po}Ye.on("readable",nn);const Pr=b(Ye,{writable:!1},Po=>{En=Po?ae(En,Po):null,Et(),Et=Ce});try{for(;;){const Po=Ye.destroyed?null:Ye.read();if(null!==Po)yield Po;else{if(En)throw En;if(null===En)return;yield Z(new k(nn))}}}catch(Po){throw En=ae(En,Po),En}finally{!En&&!1===Ze?.destroyOnReturn||void 0!==En&&!Ye._readableState.autoDestroy?(Ye.off("readable",nn),Pr()):ce.destroyer(Ye,null)}})).apply(this,arguments)}function mo(Ye,Ze){if(0===Ze.length)return null;let Et;return Ze.objectMode?Et=Ze.buffer.shift():!Ye||Ye>=Ze.length?(Et=Ze.decoder?Ze.buffer.join(""):1===Ze.buffer.length?Ze.buffer.first():Ze.buffer.concat(Ze.length),Ze.buffer.clear()):Et=Ze.buffer.consume(Ye,Ze.decoder),Et}function ec(Ye){const Ze=Ye._readableState;I("endReadable",Ze.endEmitted),Ze.endEmitted||(Ze.ended=!0,$.nextTick(Ic,Ze,Ye))}function Ic(Ye,Ze){if(I("endReadableNT",Ye.endEmitted,Ye.length),!Ye.errored&&!Ye.closeEmitted&&!Ye.endEmitted&&0===Ye.length)if(Ye.endEmitted=!0,Ze.emit("end"),Ze.writable&&!1===Ze.allowHalfOpen)$.nextTick(Hl,Ze);else if(Ye.autoDestroy){const Et=Ze._writableState;(!Et||Et.autoDestroy&&(Et.finished||!1===Et.writable))&&Ze.destroy()}}function Hl(Ye){Ye.writable&&!Ye.writableEnded&&!Ye.destroyed&&Ye.end()}let tc;function cs(){return void 0===tc&&(tc={}),tc}N(Ut.prototype,{objectMode:St(vt),ended:St(2),endEmitted:St(4),reading:St(8),constructed:St(E),sync:St(ie),needReadable:St(Q),emittedReadable:St(128),readableListening:St(256),resumeScheduled:St(512),errorEmitted:St(1024),emitClose:St(U),autoDestroy:St(M),destroyed:St(8192),closed:St(16384),closeEmitted:St(32768),multiAwaitDrain:St(Ee),readingMore:St(1<<17),dataEmitted:St(1<<18)}),mt.prototype.destroy=ce.destroy,mt.prototype._undestroy=ce.undestroy,mt.prototype._destroy=function(Ye,Ze){Ze(Ye)},mt.prototype[X.captureRejectionSymbol]=function(Ye){this.destroy(Ye)},mt.prototype[w]=function(){let Ye;return this.destroyed||(Ye=this.readableEnded?null:new Ae,this.destroy(Ye)),new k((Ze,Et)=>b(this,nn=>nn&&nn!==Ye?Et(nn):Ze(null)))},mt.prototype.push=function(Ye,Ze){return an(this,Ye,Ze,!1)},mt.prototype.unshift=function(Ye,Ze){return an(this,Ye,Ze,!0)},mt.prototype.isPaused=function(){const Ye=this._readableState;return!0===Ye[Se]||!1===Ye.flowing},mt.prototype.setEncoding=function(Ye){const Ze=new Ue(Ye);this._readableState.decoder=Ze,this._readableState.encoding=this._readableState.decoder.encoding;const Et=this._readableState.buffer;let nn="";for(const En of Et)nn+=Ze.write(En);return Et.clear(),""!==nn&&Et.push(nn),this._readableState.length=nn.length,this},mt.prototype.read=function(Ye){I("read",Ye),void 0===Ye?Ye=NaN:Y(Ye)||(Ye=x(Ye,10));const Ze=this._readableState,Et=Ye;if(Ye>Ze.highWaterMark&&(Ze.highWaterMark=function te(Ye){if(Ye>1073741824)throw new Ge("size","<= 1GiB",Ye);return Ye--,Ye|=Ye>>>1,Ye|=Ye>>>2,Ye|=Ye>>>4,Ye|=Ye>>>8,Ye|=Ye>>>16,++Ye}(Ye)),0!==Ye&&(Ze.state&=-129),0===Ye&&Ze.needReadable&&((0!==Ze.highWaterMark?Ze.length>=Ze.highWaterMark:Ze.length>0)||Ze.ended))return I("read: emitReadable",Ze.length,Ze.ended),0===Ze.length&&Ze.ended?ec(this):ft(this),null;if(0===(Ye=Le(Ye,Ze))&&Ze.ended)return 0===Ze.length&&ec(this),null;let En,nn=0!=(Ze.state&Q);if(I("need readable",nn),(0===Ze.length||Ze.length-Ye<Ze.highWaterMark)&&(nn=!0,I("length less than watermark",nn)),Ze.ended||Ze.reading||Ze.destroyed||Ze.errored||!Ze.constructed)nn=!1,I("reading, ended or constructing",nn);else if(nn){I("do read"),Ze.state|=8|ie,0===Ze.length&&(Ze.state|=Q);try{this._read(Ze.highWaterMark)}catch(Pr){at(this,Pr)}Ze.state&=~ie,Ze.reading||(Ye=Le(Et,Ze))}return En=Ye>0?mo(Ye,Ze):null,null===En?(Ze.needReadable=Ze.length<=Ze.highWaterMark,Ye=0):(Ze.length-=Ye,Ze.multiAwaitDrain?Ze.awaitDrainWriters.clear():Ze.awaitDrainWriters=null),0===Ze.length&&(Ze.ended||(Ze.needReadable=!0),Et!==Ye&&Ze.ended&&ec(this)),null!==En&&!Ze.errorEmitted&&!Ze.closeEmitted&&(Ze.dataEmitted=!0,this.emit("data",En)),En},mt.prototype._read=function(Ye){throw new Ne("_read()")},mt.prototype.pipe=function(Ye,Ze){const Et=this,nn=this._readableState;1===nn.pipes.length&&(nn.multiAwaitDrain||(nn.multiAwaitDrain=!0,nn.awaitDrainWriters=new oe(nn.awaitDrainWriters?[nn.awaitDrainWriters]:[]))),nn.pipes.push(Ye),I("pipe count=%d opts=%j",nn.pipes.length,Ze);const Pr=Ze&&!1===Ze.end||Ye===$.stdout||Ye===$.stderr?go:rn;function rn(){I("onend"),Ye.end()}nn.endEmitted?$.nextTick(Pr):Et.once("end",Pr),Ye.on("unpipe",function Po(Ti,fr){I("onunpipe"),Ti===Et&&fr&&!1===fr.hasUnpiped&&(fr.hasUnpiped=!0,function sl(){I("cleanup"),Ye.removeListener("close",Bt),Ye.removeListener("finish",ci),zs&&Ye.removeListener("drain",zs),Ye.removeListener("error",Ma),Ye.removeListener("unpipe",Po),Et.removeListener("end",rn),Et.removeListener("end",go),Et.removeListener("data",wn),hr=!0,zs&&nn.awaitDrainWriters&&(!Ye._writableState||Ye._writableState.needDrain)&&zs()}())});let zs,hr=!1;function _i(){hr||(1===nn.pipes.length&&nn.pipes[0]===Ye?(I("false write response, pause",0),nn.awaitDrainWriters=Ye,nn.multiAwaitDrain=!1):nn.pipes.length>1&&nn.pipes.includes(Ye)&&(I("false write response, pause",nn.awaitDrainWriters.size),nn.awaitDrainWriters.add(Ye)),Et.pause()),zs||(zs=function si(Ye,Ze){return function(){const nn=Ye._readableState;nn.awaitDrainWriters===Ze?(I("pipeOnDrain",1),nn.awaitDrainWriters=null):nn.multiAwaitDrain&&(I("pipeOnDrain",nn.awaitDrainWriters.size),nn.awaitDrainWriters.delete(Ze)),(!nn.awaitDrainWriters||0===nn.awaitDrainWriters.size)&&Ye.listenerCount("data")&&Ye.resume()}}(Et,Ye),Ye.on("drain",zs))}function wn(Ti){I("ondata");const fr=Ye.write(Ti);I("dest.write",fr),!1===fr&&_i()}function Ma(Ti){if(I("onerror",Ti),go(),Ye.removeListener("error",Ma),0===Ye.listenerCount("error")){const fr=Ye._writableState||Ye._readableState;fr&&!fr.errorEmitted?at(Ye,Ti):Ye.emit("error",Ti)}}function Bt(){Ye.removeListener("finish",ci),go()}function ci(){I("onfinish"),Ye.removeListener("close",Bt),go()}function go(){I("unpipe"),Et.unpipe(Ye)}return Et.on("data",wn),ee(Ye,"error",Ma),Ye.once("close",Bt),Ye.once("finish",ci),Ye.emit("pipe",Et),!0===Ye.writableNeedDrain?_i():nn.flowing||(I("pipe resume"),Et.resume()),Ye},mt.prototype.unpipe=function(Ye){const Ze=this._readableState;if(0===Ze.pipes.length)return this;if(!Ye){const En=Ze.pipes;Ze.pipes=[],this.pause();for(let Pr=0;Pr<En.length;Pr++)En[Pr].emit("unpipe",this,{hasUnpiped:!1});return this}const nn=H(Ze.pipes,Ye);return-1===nn||(Ze.pipes.splice(nn,1),0===Ze.pipes.length&&this.pause(),Ye.emit("unpipe",this,{hasUnpiped:!1})),this},mt.prototype.addListener=mt.prototype.on=function(Ye,Ze){const Et=q.prototype.on.call(this,Ye,Ze),nn=this._readableState;return"data"===Ye?(nn.readableListening=this.listenerCount("readable")>0,!1!==nn.flowing&&this.resume()):"readable"===Ye&&!nn.endEmitted&&!nn.readableListening&&(nn.readableListening=nn.needReadable=!0,nn.flowing=!1,nn.emittedReadable=!1,I("on readable",nn.length,nn.reading),nn.length?ft(this):nn.reading||$.nextTick(zn,this)),Et},mt.prototype.off=mt.prototype.removeListener=function(Ye,Ze){const Et=q.prototype.removeListener.call(this,Ye,Ze);return"readable"===Ye&&$.nextTick(Fn,this),Et},mt.prototype.removeAllListeners=function(Ye){const Ze=q.prototype.removeAllListeners.apply(this,arguments);return("readable"===Ye||void 0===Ye)&&$.nextTick(Fn,this),Ze},mt.prototype.resume=function(){const Ye=this._readableState;return Ye.flowing||(I("resume"),Ye.flowing=!Ye.readableListening,function _r(Ye,Ze){Ze.resumeScheduled||(Ze.resumeScheduled=!0,$.nextTick(Vs,Ye,Ze))}(this,Ye)),Ye[Se]=!1,this},mt.prototype.pause=function(){return I("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(I("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Se]=!0,this},mt.prototype.wrap=function(Ye){let Ze=!1;Ye.on("data",nn=>{!this.push(nn)&&Ye.pause&&(Ze=!0,Ye.pause())}),Ye.on("end",()=>{this.push(null)}),Ye.on("error",nn=>{at(this,nn)}),Ye.on("close",()=>{this.destroy()}),Ye.on("destroy",()=>{this.destroy()}),this._read=()=>{Ze&&Ye.resume&&(Ze=!1,Ye.resume())};const Et=G(Ye);for(let nn=1;nn<Et.length;nn++){const En=Et[nn];void 0===this[En]&&"function"==typeof Ye[En]&&(this[En]=Ye[En].bind(Ye))}return this},mt.prototype[F]=function(){return Ro(this)},mt.prototype.iterator=function(Ye){return void 0!==Ye&&ze(Ye,"options"),Ro(this,Ye)},N(mt.prototype,{readable:{__proto__:null,get(){const Ye=this._readableState;return!(!Ye||!1===Ye.readable||Ye.destroyed||Ye.errorEmitted||Ye.endEmitted)},set(Ye){this._readableState&&(this._readableState.readable=!!Ye)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Ye){this._readableState&&(this._readableState.flowing=Ye)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(Ye){this._readableState&&(this._readableState.destroyed=Ye)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),N(Ut.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[Se]},set(Ye){this[Se]=!!Ye}}}),mt._fromList=mo,mt.from=function(Ye,Ze){return ue(mt,Ye,Ze)},mt.fromWeb=function(Ye,Ze){return cs().newStreamReadableFromReadableStream(Ye,Ze)},mt.toWeb=function(Ye,Ze){return cs().newReadableStreamFromStreamReadable(Ye,Ze)},mt.wrap=function(Ye,Ze){var Et,nn;return new mt({objectMode:null===(Et=null!==(nn=Ye.readableObjectMode)&&void 0!==nn?nn:Ye.objectMode)||void 0===Et||Et,...Ze,destroy(En,Pr){ce.destroyer(Ye,En),Pr(En)}}).wrap(Ye)}},8782:(Ve,_e,S)=>{"use strict";const{MathFloor:Z,NumberIsInteger:A}=S(6305),{validateInteger:$}=S(2120),{ERR_INVALID_ARG_VALUE:H}=S(4370).codes;let Y=16384,_=16;function N(k){return k?_:Y}Ve.exports={getHighWaterMark:function O(k,oe,w,F){const re=function x(k,oe,w){return null!=k.highWaterMark?k.highWaterMark:oe?k[w]:null}(oe,F,w);if(null!=re){if(!A(re)||re<0)throw new H(F?`options.${w}`:"options.highWaterMark",re);return Z(re)}return N(k.objectMode)},getDefaultHighWaterMark:N,setDefaultHighWaterMark:function G(k,oe){$(oe,"value",0),k?_=oe:Y=oe}}},123:(Ve,_e,S)=>{"use strict";const{ObjectSetPrototypeOf:Z,Symbol:A}=S(6305);Ve.exports=x;const{ERR_METHOD_NOT_IMPLEMENTED:$}=S(4370).codes,H=S(5931),{getHighWaterMark:Y}=S(8782);Z(x.prototype,H.prototype),Z(x,H);const _=A("kCallback");function x(O){if(!(this instanceof x))return new x(O);const k=O?Y(this,O,"readableHighWaterMark",!0):null;0===k&&(O={...O,highWaterMark:null,readableHighWaterMark:k,writableHighWaterMark:O.writableHighWaterMark||0}),H.call(this,O),this._readableState.sync=!1,this[_]=null,O&&("function"==typeof O.transform&&(this._transform=O.transform),"function"==typeof O.flush&&(this._flush=O.flush)),this.on("prefinish",G)}function N(O){"function"!=typeof this._flush||this.destroyed?(this.push(null),O&&O()):this._flush((k,oe)=>{k?O?O(k):this.destroy(k):(null!=oe&&this.push(oe),this.push(null),O&&O())})}function G(){this._final!==N&&N.call(this)}x.prototype._final=N,x.prototype._transform=function(O,k,oe){throw new $("_transform()")},x.prototype._write=function(O,k,oe){const w=this._readableState,F=this._writableState,re=w.length;this._transform(O,k,(X,q)=>{X?oe(X):(null!=q&&this.push(q),F.ended||re===w.length||w.length<w.highWaterMark?oe():this[_]=oe)})},x.prototype._read=function(){if(this[_]){const O=this[_];this[_]=null,O()}}},5428:(Ve,_e,S)=>{"use strict";const{SymbolAsyncIterator:Z,SymbolIterator:A,SymbolFor:$}=S(6305),H=$("nodejs.stream.destroyed"),Y=$("nodejs.stream.errored"),_=$("nodejs.stream.readable"),x=$("nodejs.stream.writable"),N=$("nodejs.stream.disturbed"),G=$("nodejs.webstream.isClosedPromise"),O=$("nodejs.webstream.controllerErrorFunction");function k(ue,Ce=!1){var at;return!(!ue||"function"!=typeof ue.pipe||"function"!=typeof ue.on||Ce&&("function"!=typeof ue.pause||"function"!=typeof ue.resume)||ue._writableState&&!1===(null===(at=ue._readableState)||void 0===at?void 0:at.readable)||ue._writableState&&!ue._readableState)}function oe(ue){var Ce;return!(!ue||"function"!=typeof ue.write||"function"!=typeof ue.on||ue._readableState&&!1===(null===(Ce=ue._writableState)||void 0===Ce?void 0:Ce.writable))}function F(ue){return ue&&(ue._readableState||ue._writableState||"function"==typeof ue.write&&"function"==typeof ue.on||"function"==typeof ue.pipe&&"function"==typeof ue.on)}function re(ue){return!(!ue||F(ue)||"function"!=typeof ue.pipeThrough||"function"!=typeof ue.getReader||"function"!=typeof ue.cancel)}function X(ue){return!(!ue||F(ue)||"function"!=typeof ue.getWriter||"function"!=typeof ue.abort)}function q(ue){return!(!ue||F(ue)||"object"!=typeof ue.readable||"object"!=typeof ue.writable)}function L(ue){if(!F(ue))return null;const vt=ue._writableState||ue._readableState;return!!(ue.destroyed||ue[H]||null!=vt&&vt.destroyed)}function b(ue){if(!oe(ue))return null;if(!0===ue.writableEnded)return!0;const Ce=ue._writableState;return(null==Ce||!Ce.errored)&&("boolean"!=typeof Ce?.ended?null:Ce.ended)}function ce(ue,Ce){if(!k(ue))return null;const at=ue._readableState;return(null==at||!at.errored)&&("boolean"!=typeof at?.endEmitted?null:!!(at.endEmitted||!1===Ce&&!0===at.ended&&0===at.length))}function j(ue){return ue&&null!=ue[_]?ue[_]:"boolean"!=typeof ue?.readable?null:!L(ue)&&k(ue)&&ue.readable&&!ce(ue)}function Ie(ue){return ue&&null!=ue[x]?ue[x]:"boolean"!=typeof ue?.writable?null:!L(ue)&&oe(ue)&&ue.writable&&!b(ue)}function it(ue){return"boolean"==typeof ue._closed&&"boolean"==typeof ue._defaultKeepAlive&&"boolean"==typeof ue._removedConnection&&"boolean"==typeof ue._removedContLen}function Ke(ue){return"boolean"==typeof ue._sent100&&it(ue)}Ve.exports={isDestroyed:L,kIsDestroyed:H,isDisturbed:function Se(ue){var Ce;return!(!ue||!(null!==(Ce=ue[N])&&void 0!==Ce?Ce:ue.readableDidRead||ue.readableAborted))},kIsDisturbed:N,isErrored:function Ue(ue){var Ce,at,vt,Je,pe,R,E,ie,Q,He;return!(!ue||!(null!==(Ce=null!==(at=null!==(vt=null!==(Je=null!==(pe=null!==(R=ue[Y])&&void 0!==R?R:ue.readableErrored)&&void 0!==pe?pe:ue.writableErrored)&&void 0!==Je?Je:null===(E=ue._readableState)||void 0===E?void 0:E.errorEmitted)&&void 0!==vt?vt:null===(ie=ue._writableState)||void 0===ie?void 0:ie.errorEmitted)&&void 0!==at?at:null===(Q=ue._readableState)||void 0===Q?void 0:Q.errored)&&void 0!==Ce?Ce:null!==(He=ue._writableState)&&void 0!==He&&He.errored))},kIsErrored:Y,isReadable:j,kIsReadable:_,kIsClosedPromise:G,kControllerErrorFunction:O,kIsWritable:x,isClosed:function Ge(ue){if(!F(ue))return null;if("boolean"==typeof ue.closed)return ue.closed;const Ce=ue._writableState,at=ue._readableState;return"boolean"==typeof Ce?.closed||"boolean"==typeof at?.closed?Ce?.closed||at?.closed:"boolean"==typeof ue._closed&&it(ue)?ue._closed:null},isDuplexNodeStream:function w(ue){return!(!ue||"function"!=typeof ue.pipe||!ue._readableState||"function"!=typeof ue.on||"function"!=typeof ue.write)},isFinished:function ae(ue,Ce){return F(ue)?!!L(ue)||!(!1!==Ce?.readable&&j(ue)||!1!==Ce?.writable&&Ie(ue)):null},isIterable:function W(ue,Ce){return null!=ue&&(!0===Ce?"function"==typeof ue[Z]:!1===Ce?"function"==typeof ue[A]:"function"==typeof ue[Z]||"function"==typeof ue[A])},isReadableNodeStream:k,isReadableStream:re,isReadableEnded:function T(ue){if(!k(ue))return null;if(!0===ue.readableEnded)return!0;const Ce=ue._readableState;return!(!Ce||Ce.errored)&&("boolean"!=typeof Ce?.ended?null:Ce.ended)},isReadableFinished:ce,isReadableErrored:function Ne(ue){var Ce,at;return F(ue)?ue.readableErrored?ue.readableErrored:null!==(Ce=null===(at=ue._readableState)||void 0===at?void 0:at.errored)&&void 0!==Ce?Ce:null:null},isNodeStream:F,isWebStream:function ee(ue){return re(ue)||X(ue)||q(ue)},isWritable:Ie,isWritableNodeStream:oe,isWritableStream:X,isWritableEnded:b,isWritableFinished:function I(ue,Ce){if(!oe(ue))return null;if(!0===ue.writableFinished)return!0;const at=ue._writableState;return(null==at||!at.errored)&&("boolean"!=typeof at?.finished?null:!!(at.finished||!1===Ce&&!0===at.ended&&0===at.length))},isWritableErrored:function xe(ue){var Ce,at;return F(ue)?ue.writableErrored?ue.writableErrored:null!==(Ce=null===(at=ue._writableState)||void 0===at?void 0:at.errored)&&void 0!==Ce?Ce:null:null},isServerRequest:function Ae(ue){var Ce;return"boolean"==typeof ue._consuming&&"boolean"==typeof ue._dumped&&void 0===(null===(Ce=ue.req)||void 0===Ce?void 0:Ce.upgradeOrConnect)},isServerResponse:Ke,willEmitClose:function ze(ue){if(!F(ue))return null;const vt=ue._writableState||ue._readableState;return!vt&&Ke(ue)||!!(vt&&vt.autoDestroy&&vt.emitClose&&!1===vt.closed)},isTransformStream:q}},9764:(Ve,_e,S)=>{const Z=S(42),{ArrayPrototypeSlice:A,Error:$,FunctionPrototypeSymbolHasInstance:H,ObjectDefineProperty:Y,ObjectDefineProperties:_,ObjectSetPrototypeOf:x,StringPrototypeToLowerCase:N,Symbol:G,SymbolHasInstance:O}=S(6305);Ve.exports=Ke,Ke.WritableState=Ge;const{EventEmitter:k}=S(2016),oe=S(900).Stream,{Buffer:w}=S(1657),F=S(5601),{addAbortSignal:re}=S(9987),{getHighWaterMark:X,getDefaultHighWaterMark:q}=S(8782),{ERR_INVALID_ARG_TYPE:ee,ERR_METHOD_NOT_IMPLEMENTED:W,ERR_MULTIPLE_CALLBACK:L,ERR_STREAM_CANNOT_PIPE:b,ERR_STREAM_DESTROYED:I,ERR_STREAM_ALREADY_FINISHED:T,ERR_STREAM_NULL_VALUES:ce,ERR_STREAM_WRITE_AFTER_END:j,ERR_UNKNOWN_ENCODING:Ie}=S(4370).codes,{errorOrDestroy:ae}=F;function xe(){}x(Ke.prototype,oe.prototype),x(Ke,oe);const Ne=G("kOnFinished");function Ge(ne,U,M){"boolean"!=typeof M&&(M=U instanceof S(5931)),this.objectMode=!(!ne||!ne.objectMode),M&&(this.objectMode=this.objectMode||!(!ne||!ne.writableObjectMode)),this.highWaterMark=ne?X(this,ne,"writableHighWaterMark",M):q(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(ne&&!1===ne.decodeStrings),this.defaultEncoding=ne&&ne.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ue.bind(void 0,U),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,it(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ne||!1!==ne.emitClose,this.autoDestroy=!ne||!1!==ne.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Ne]=[]}function it(ne){ne.buffered=[],ne.bufferedIndex=0,ne.allBuffers=!0,ne.allNoop=!0}function Ke(ne){const U=this instanceof S(5931);if(!U&&!H(Ke,this))return new Ke(ne);this._writableState=new Ge(ne,this,U),ne&&("function"==typeof ne.write&&(this._write=ne.write),"function"==typeof ne.writev&&(this._writev=ne.writev),"function"==typeof ne.destroy&&(this._destroy=ne.destroy),"function"==typeof ne.final&&(this._final=ne.final),"function"==typeof ne.construct&&(this._construct=ne.construct),ne.signal&&re(ne.signal,this)),oe.call(this,ne),F.construct(this,()=>{const M=this._writableState;M.writing||Je(this,M),ie(this,M)})}function Ae(ne,U,M,P){const he=ne._writableState;if("function"==typeof M)P=M,M=he.defaultEncoding;else{if(M){if("buffer"!==M&&!w.isEncoding(M))throw new Ie(M)}else M=he.defaultEncoding;"function"!=typeof P&&(P=xe)}if(null===U)throw new ce;if(!he.objectMode)if("string"==typeof U)!1!==he.decodeStrings&&(U=w.from(U,M),M="buffer");else if(U instanceof w)M="buffer";else{if(!oe._isUint8Array(U))throw new ee("chunk",["string","Buffer","Uint8Array"],U);U=oe._uint8ArrayToBuffer(U),M="buffer"}let Xe;return he.ending?Xe=new j:he.destroyed&&(Xe=new I("write")),Xe?(Z.nextTick(P,Xe),ae(ne,Xe,!0),Xe):(he.pendingcb++,function ze(ne,U,M,P,he){const Xe=U.objectMode?1:M.length;U.length+=Xe;const Ee=U.length<U.highWaterMark;return Ee||(U.needDrain=!0),U.writing||U.corked||U.errored||!U.constructed?(U.buffered.push({chunk:M,encoding:P,callback:he}),U.allBuffers&&"buffer"!==P&&(U.allBuffers=!1),U.allNoop&&he!==xe&&(U.allNoop=!1)):(U.writelen=Xe,U.writecb=he,U.writing=!0,U.sync=!0,ne._write(M,P,U.onwrite),U.sync=!1),Ee&&!U.errored&&!U.destroyed}(ne,he,U,M,P))}function Se(ne,U,M,P,he,Xe,Ee){U.writelen=P,U.writecb=Ee,U.writing=!0,U.sync=!0,U.destroyed?U.onwrite(new I("write")):M?ne._writev(he,U.onwrite):ne._write(he,Xe,U.onwrite),U.sync=!1}function Ue(ne,U,M,P){--U.pendingcb,P(M),vt(U),ae(ne,M)}function ue(ne,U){const M=ne._writableState,P=M.sync,he=M.writecb;"function"==typeof he?(M.writing=!1,M.writecb=null,M.length-=M.writelen,M.writelen=0,U?(M.errored||(M.errored=U),ne._readableState&&!ne._readableState.errored&&(ne._readableState.errored=U),P?Z.nextTick(Ue,ne,M,U,he):Ue(ne,M,U,he)):(M.buffered.length>M.bufferedIndex&&Je(ne,M),P?null!==M.afterWriteTickInfo&&M.afterWriteTickInfo.cb===he?M.afterWriteTickInfo.count++:(M.afterWriteTickInfo={count:1,cb:he,stream:ne,state:M},Z.nextTick(Ce,M.afterWriteTickInfo)):at(ne,M,1,he))):ae(ne,new L)}function Ce({stream:ne,state:U,count:M,cb:P}){return U.afterWriteTickInfo=null,at(ne,U,M,P)}function at(ne,U,M,P){for(!U.ending&&!ne.destroyed&&0===U.length&&U.needDrain&&(U.needDrain=!1,ne.emit("drain"));M-- >0;)U.pendingcb--,P();U.destroyed&&vt(U),ie(ne,U)}function vt(ne){if(ne.writing)return;for(let he=ne.bufferedIndex;he<ne.buffered.length;++he){var U;const{chunk:Xe,callback:Ee}=ne.buffered[he];ne.length-=ne.objectMode?1:Xe.length,Ee(null!==(U=ne.errored)&&void 0!==U?U:new I("write"))}const M=ne[Ne].splice(0);for(let he=0;he<M.length;he++){var P;M[he](null!==(P=ne.errored)&&void 0!==P?P:new I("end"))}it(ne)}function Je(ne,U){if(U.corked||U.bufferProcessing||U.destroyed||!U.constructed)return;const{buffered:M,bufferedIndex:P,objectMode:he}=U,Xe=M.length-P;if(!Xe)return;let Ee=P;if(U.bufferProcessing=!0,Xe>1&&ne._writev){U.pendingcb-=Xe-1;const Oe=U.allNoop?xe:St=>{for(let Ut=Ee;Ut<M.length;++Ut)M[Ut].callback(St)},ut=U.allNoop&&0===Ee?M:A(M,Ee);ut.allBuffers=U.allBuffers,Se(ne,U,!0,U.length,ut,"",Oe),it(U)}else{do{const{chunk:Oe,encoding:ut,callback:St}=M[Ee];M[Ee++]=null,Se(ne,U,!1,he?1:Oe.length,Oe,ut,St)}while(Ee<M.length&&!U.writing);Ee===M.length?it(U):Ee>256?(M.splice(0,Ee),U.bufferedIndex=0):U.bufferedIndex=Ee}U.bufferProcessing=!1}function pe(ne){return ne.ending&&!ne.destroyed&&ne.constructed&&0===ne.length&&!ne.errored&&0===ne.buffered.length&&!ne.finished&&!ne.writing&&!ne.errorEmitted&&!ne.closeEmitted}function ie(ne,U,M){pe(U)&&(function E(ne,U){!U.prefinished&&!U.finalCalled&&("function"!=typeof ne._final||U.destroyed?(U.prefinished=!0,ne.emit("prefinish")):(U.finalCalled=!0,function R(ne,U){let M=!1;function P(he){if(M)ae(ne,he??L());else if(M=!0,U.pendingcb--,he){const Xe=U[Ne].splice(0);for(let Ee=0;Ee<Xe.length;Ee++)Xe[Ee](he);ae(ne,he,U.sync)}else pe(U)&&(U.prefinished=!0,ne.emit("prefinish"),U.pendingcb++,Z.nextTick(Q,ne,U))}U.sync=!0,U.pendingcb++;try{ne._final(P)}catch(he){P(he)}U.sync=!1}(ne,U)))}(ne,U),0===U.pendingcb&&(M?(U.pendingcb++,Z.nextTick((P,he)=>{pe(he)?Q(P,he):he.pendingcb--},ne,U)):pe(U)&&(U.pendingcb++,Q(ne,U))))}function Q(ne,U){U.pendingcb--,U.finished=!0;const M=U[Ne].splice(0);for(let P=0;P<M.length;P++)M[P]();if(ne.emit("finish"),U.autoDestroy){const P=ne._readableState;(!P||P.autoDestroy&&(P.endEmitted||!1===P.readable))&&ne.destroy()}}Ge.prototype.getBuffer=function(){return A(this.buffered,this.bufferedIndex)},Y(Ge.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),Y(Ke,O,{__proto__:null,value:function(ne){return!!H(this,ne)||this===Ke&&ne&&ne._writableState instanceof Ge}}),Ke.prototype.pipe=function(){ae(this,new b)},Ke.prototype.write=function(ne,U,M){return!0===Ae(this,ne,U,M)},Ke.prototype.cork=function(){this._writableState.corked++},Ke.prototype.uncork=function(){const ne=this._writableState;ne.corked&&(ne.corked--,ne.writing||Je(this,ne))},Ke.prototype.setDefaultEncoding=function(U){if("string"==typeof U&&(U=N(U)),!w.isEncoding(U))throw new Ie(U);return this._writableState.defaultEncoding=U,this},Ke.prototype._write=function(ne,U,M){if(!this._writev)throw new W("_write()");this._writev([{chunk:ne,encoding:U}],M)},Ke.prototype._writev=null,Ke.prototype.end=function(ne,U,M){const P=this._writableState;let he;if("function"==typeof ne?(M=ne,ne=null,U=null):"function"==typeof U&&(M=U,U=null),null!=ne){const Xe=Ae(this,ne,U);Xe instanceof $&&(he=Xe)}return P.corked&&(P.corked=1,this.uncork()),he||(P.errored||P.ending?P.finished?he=new T("end"):P.destroyed&&(he=new I("end")):(P.ending=!0,ie(this,P,!0),P.ended=!0)),"function"==typeof M&&(he||P.finished?Z.nextTick(M,he):P[Ne].push(M)),this},_(Ke.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(ne){this._writableState&&(this._writableState.destroyed=ne)}},writable:{__proto__:null,get(){const ne=this._writableState;return!(!ne||!1===ne.writable||ne.destroyed||ne.errored||ne.ending||ne.ended)},set(ne){this._writableState&&(this._writableState.writable=!!ne)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const ne=this._writableState;return!!ne&&!ne.destroyed&&!ne.ending&&ne.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const He=F.destroy;let Qe;function de(){return void 0===Qe&&(Qe={}),Qe}Ke.prototype.destroy=function(ne,U){const M=this._writableState;return!M.destroyed&&(M.bufferedIndex<M.buffered.length||M[Ne].length)&&Z.nextTick(vt,M),He.call(this,ne,U),this},Ke.prototype._undestroy=F.undestroy,Ke.prototype._destroy=function(ne,U){U(ne)},Ke.prototype[k.captureRejectionSymbol]=function(ne){this.destroy(ne)},Ke.fromWeb=function(ne,U){return de().newStreamWritableFromWritableStream(ne,U)},Ke.toWeb=function(ne){return de().newWritableStreamFromStreamWritable(ne)}},2120:(Ve,_e,S)=>{"use strict";const{ArrayIsArray:Z,ArrayPrototypeIncludes:A,ArrayPrototypeJoin:$,ArrayPrototypeMap:H,NumberIsInteger:Y,NumberIsNaN:_,NumberMAX_SAFE_INTEGER:x,NumberMIN_SAFE_INTEGER:N,NumberParseInt:G,ObjectPrototypeHasOwnProperty:O,RegExpPrototypeExec:k,String:oe,StringPrototypeToUpperCase:w,StringPrototypeTrim:F}=S(6305),{hideStackFrames:re,codes:{ERR_SOCKET_BAD_PORT:X,ERR_INVALID_ARG_TYPE:q,ERR_INVALID_ARG_VALUE:ee,ERR_OUT_OF_RANGE:W,ERR_UNKNOWN_SIGNAL:L}}=S(4370),{normalizeEncoding:b}=S(2656),{isAsyncFunction:I,isArrayBufferView:T}=S(2656).types,ce={},ae=/^[0-7]+$/,Ge=re((Ee,Oe,ut=N,St=x)=>{if("number"!=typeof Ee)throw new q(Oe,"number",Ee);if(!Y(Ee))throw new W(Oe,"an integer",Ee);if(Ee<ut||Ee>St)throw new W(Oe,`>= ${ut} && <= ${St}`,Ee)}),it=re((Ee,Oe,ut=-2147483648,St=2147483647)=>{if("number"!=typeof Ee)throw new q(Oe,"number",Ee);if(!Y(Ee))throw new W(Oe,"an integer",Ee);if(Ee<ut||Ee>St)throw new W(Oe,`>= ${ut} && <= ${St}`,Ee)}),Ke=re((Ee,Oe,ut=!1)=>{if("number"!=typeof Ee)throw new q(Oe,"number",Ee);if(!Y(Ee))throw new W(Oe,"an integer",Ee);const St=ut?1:0,Ut=4294967295;if(Ee<St||Ee>Ut)throw new W(Oe,`>= ${St} && <= ${Ut}`,Ee)});function Ae(Ee,Oe){if("string"!=typeof Ee)throw new q(Oe,"string",Ee)}const Se=re((Ee,Oe,ut)=>{if(!A(ut,Ee)){const Ut="must be one of: "+$(H(ut,mt=>"string"==typeof mt?`'${mt}'`:oe(mt)),", ");throw new ee(Oe,Ee,Ut)}});function Ue(Ee,Oe){if("boolean"!=typeof Ee)throw new q(Oe,"boolean",Ee)}function ue(Ee,Oe,ut){return null!=Ee&&O(Ee,Oe)?Ee[Oe]:ut}const Ce=re((Ee,Oe,ut=null)=>{const St=ue(ut,"allowArray",!1),Ut=ue(ut,"allowFunction",!1);if(!ue(ut,"nullable",!1)&&null===Ee||!St&&Z(Ee)||"object"!=typeof Ee&&(!Ut||"function"!=typeof Ee))throw new q(Oe,"Object",Ee)}),at=re((Ee,Oe)=>{if(null!=Ee&&"object"!=typeof Ee&&"function"!=typeof Ee)throw new q(Oe,"a dictionary",Ee)}),vt=re((Ee,Oe,ut=0)=>{if(!Z(Ee))throw new q(Oe,"Array",Ee);if(Ee.length<ut)throw new ee(Oe,Ee,`must be longer than ${ut}`)}),ie=re((Ee,Oe="buffer")=>{if(!T(Ee))throw new q(Oe,["Buffer","TypedArray","DataView"],Ee)}),Qe=re((Ee,Oe)=>{if(void 0!==Ee&&(null===Ee||"object"!=typeof Ee||!("aborted"in Ee)))throw new q(Oe,"AbortSignal",Ee)}),de=re((Ee,Oe)=>{if("function"!=typeof Ee)throw new q(Oe,"Function",Ee)}),ne=re((Ee,Oe)=>{if("function"!=typeof Ee||I(Ee))throw new q(Oe,"Function",Ee)}),U=re((Ee,Oe)=>{if(void 0!==Ee)throw new q(Oe,"undefined",Ee)}),P=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function he(Ee,Oe){if(typeof Ee>"u"||!k(P,Ee))throw new ee(Oe,Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Ve.exports={isInt32:function j(Ee){return Ee===(0|Ee)},isUint32:function Ie(Ee){return Ee===Ee>>>0},parseFileMode:function Ne(Ee,Oe,ut){if(typeof Ee>"u"&&(Ee=ut),"string"==typeof Ee){if(null===k(ae,Ee))throw new ee(Oe,Ee,"must be a 32-bit unsigned integer or an octal string");Ee=G(Ee,8)}return Ke(Ee,Oe),Ee},validateArray:vt,validateStringArray:function Je(Ee,Oe){vt(Ee,Oe);for(let ut=0;ut<Ee.length;ut++)Ae(Ee[ut],`${Oe}[${ut}]`)},validateBooleanArray:function pe(Ee,Oe){vt(Ee,Oe);for(let ut=0;ut<Ee.length;ut++)Ue(Ee[ut],`${Oe}[${ut}]`)},validateAbortSignalArray:function R(Ee,Oe){vt(Ee,Oe);for(let ut=0;ut<Ee.length;ut++){const St=Ee[ut],Ut=`${Oe}[${ut}]`;if(null==St)throw new q(Ut,"AbortSignal",St);Qe(St,Ut)}},validateBoolean:Ue,validateBuffer:ie,validateDictionary:at,validateEncoding:function Q(Ee,Oe){const ut=b(Oe),St=Ee.length;if("hex"===ut&&St%2!=0)throw new ee("encoding",Oe,`is invalid for data of length ${St}`)},validateFunction:de,validateInt32:it,validateInteger:Ge,validateNumber:function ze(Ee,Oe,ut=void 0,St){if("number"!=typeof Ee)throw new q(Oe,"number",Ee);if(null!=ut&&Ee<ut||null!=St&&Ee>St||(null!=ut||null!=St)&&_(Ee))throw new W(Oe,`${null!=ut?`>= ${ut}`:""}${null!=ut&&null!=St?" && ":""}${null!=St?`<= ${St}`:""}`,Ee)},validateObject:Ce,validateOneOf:Se,validatePlainFunction:ne,validatePort:function He(Ee,Oe="Port",ut=!0){if("number"!=typeof Ee&&"string"!=typeof Ee||"string"==typeof Ee&&0===F(Ee).length||+Ee!=+Ee>>>0||Ee>65535||0===Ee&&!ut)throw new X(Oe,Ee,ut);return 0|Ee},validateSignalName:function E(Ee,Oe="signal"){if(Ae(Ee,Oe),void 0===ce[Ee])throw void 0!==ce[w(Ee)]?new L(Ee+" (signals must use all capital letters)"):new L(Ee)},validateString:Ae,validateUint32:Ke,validateUndefined:U,validateUnion:function M(Ee,Oe,ut){if(!A(ut,Ee))throw new q(Oe,`('${$(ut,"|")}')`,Ee)},validateAbortSignal:Qe,validateLinkHeaderValue:function Xe(Ee){if("string"==typeof Ee)return he(Ee,"hints"),Ee;if(Z(Ee)){const Oe=Ee.length;let ut="";if(0===Oe)return ut;for(let St=0;St<Oe;St++){const Ut=Ee[St];he(Ut,"hints"),ut+=Ut,St!==Oe-1&&(ut+=", ")}return ut}throw new ee("hints",Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},8905:(Ve,_e,S)=>{"use strict";const Z=S(8110),A=S(16),$=Z.Readable.destroy;Ve.exports=Z.Readable,Ve.exports._uint8ArrayToBuffer=Z._uint8ArrayToBuffer,Ve.exports._isUint8Array=Z._isUint8Array,Ve.exports.isDisturbed=Z.isDisturbed,Ve.exports.isErrored=Z.isErrored,Ve.exports.isReadable=Z.isReadable,Ve.exports.Readable=Z.Readable,Ve.exports.Writable=Z.Writable,Ve.exports.Duplex=Z.Duplex,Ve.exports.Transform=Z.Transform,Ve.exports.PassThrough=Z.PassThrough,Ve.exports.addAbortSignal=Z.addAbortSignal,Ve.exports.finished=Z.finished,Ve.exports.destroy=Z.destroy,Ve.exports.destroy=$,Ve.exports.pipeline=Z.pipeline,Ve.exports.compose=Z.compose,Object.defineProperty(Z,"promises",{configurable:!0,enumerable:!0,get:()=>A}),Ve.exports.Stream=Z.Stream,Ve.exports.default=Ve.exports},4370:(Ve,_e,S)=>{"use strict";const{format:Z,inspect:A,AggregateError:$}=S(2656),H=globalThis.AggregateError||$,Y=Symbol("kIsNodeError"),_=["string","function","number","object","Function","Object","boolean","bigint","symbol"],x=/^([A-Z][a-z0-9]*)+$/,G={};function O(q,ee){if(!q)throw new G.ERR_INTERNAL_ASSERTION(ee)}function k(q){let ee="",W=q.length;const L="-"===q[0]?1:0;for(;W>=L+4;W-=3)ee=`_${q.slice(W-3,W)}${ee}`;return`${q.slice(0,W)}${ee}`}function w(q,ee,W){W||(W=Error);class L extends W{constructor(...I){super(function oe(q,ee,W){if("function"==typeof ee)return O(ee.length<=W.length,`Code: ${q}; The provided arguments length (${W.length}) does not match the required ones (${ee.length}).`),ee(...W);const L=(ee.match(/%[dfijoOs]/g)||[]).length;return O(L===W.length,`Code: ${q}; The provided arguments length (${W.length}) does not match the required ones (${L}).`),0===W.length?ee:Z(ee,...W)}(q,ee,I))}toString(){return`${this.name} [${q}]: ${this.message}`}}Object.defineProperties(L.prototype,{name:{value:W.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${q}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),L.prototype.code=q,L.prototype[Y]=!0,G[q]=L}function F(q){return Object.defineProperty(q,"name",{value:"__node_internal_"+q.name}),q}class X extends Error{constructor(ee="The operation was aborted",W=void 0){if(void 0!==W&&"object"!=typeof W)throw new G.ERR_INVALID_ARG_TYPE("options","Object",W);super(ee,W),this.code="ABORT_ERR",this.name="AbortError"}}w("ERR_ASSERTION","%s",Error),w("ERR_INVALID_ARG_TYPE",(q,ee,W)=>{O("string"==typeof q,"'name' must be a string"),Array.isArray(ee)||(ee=[ee]);let L="The ";q.endsWith(" argument")?L+=`${q} `:L+=`"${q}" ${q.includes(".")?"property":"argument"} `,L+="must be ";const b=[],I=[],T=[];for(const j of ee)O("string"==typeof j,"All expected entries have to be of type string"),_.includes(j)?b.push(j.toLowerCase()):x.test(j)?I.push(j):(O("object"!==j,'The value "object" should be written as "Object"'),T.push(j));if(I.length>0){const j=b.indexOf("object");-1!==j&&(b.splice(b,j,1),I.push("Object"))}if(b.length>0){switch(b.length){case 1:L+=`of type ${b[0]}`;break;case 2:L+=`one of type ${b[0]} or ${b[1]}`;break;default:{const j=b.pop();L+=`one of type ${b.join(", ")}, or ${j}`}}(I.length>0||T.length>0)&&(L+=" or ")}if(I.length>0){switch(I.length){case 1:L+=`an instance of ${I[0]}`;break;case 2:L+=`an instance of ${I[0]} or ${I[1]}`;break;default:{const j=I.pop();L+=`an instance of ${I.join(", ")}, or ${j}`}}T.length>0&&(L+=" or ")}switch(T.length){case 0:break;case 1:T[0].toLowerCase()!==T[0]&&(L+="an "),L+=`${T[0]}`;break;case 2:L+=`one of ${T[0]} or ${T[1]}`;break;default:{const j=T.pop();L+=`one of ${T.join(", ")}, or ${j}`}}if(null==W)L+=`. Received ${W}`;else if("function"==typeof W&&W.name)L+=`. Received function ${W.name}`;else if("object"==typeof W){var ce;null!==(ce=W.constructor)&&void 0!==ce&&ce.name?L+=`. Received an instance of ${W.constructor.name}`:L+=`. Received ${A(W,{depth:-1})}`}else{let j=A(W,{colors:!1});j.length>25&&(j=`${j.slice(0,25)}...`),L+=`. Received type ${typeof W} (${j})`}return L},TypeError),w("ERR_INVALID_ARG_VALUE",(q,ee,W="is invalid")=>{let L=A(ee);return L.length>128&&(L=L.slice(0,128)+"..."),`The ${q.includes(".")?"property":"argument"} '${q}' ${W}. Received ${L}`},TypeError),w("ERR_INVALID_RETURN_VALUE",(q,ee,W)=>{var L;return`Expected ${q} to be returned from the "${ee}" function but got ${null!=W&&null!==(L=W.constructor)&&void 0!==L&&L.name?`instance of ${W.constructor.name}`:"type "+typeof W}.`},TypeError),w("ERR_MISSING_ARGS",(...q)=>{let ee;O(q.length>0,"At least one arg needs to be specified");const W=q.length;switch(q=(Array.isArray(q)?q:[q]).map(L=>`"${L}"`).join(" or "),W){case 1:ee+=`The ${q[0]} argument`;break;case 2:ee+=`The ${q[0]} and ${q[1]} arguments`;break;default:{const L=q.pop();ee+=`The ${q.join(", ")}, and ${L} arguments`}}return`${ee} must be specified`},TypeError),w("ERR_OUT_OF_RANGE",(q,ee,W)=>{let L;return O(ee,'Missing "range" argument'),Number.isInteger(W)&&Math.abs(W)>2**32?L=k(String(W)):"bigint"==typeof W?(L=String(W),(W>2n**32n||W<-(2n**32n))&&(L=k(L)),L+="n"):L=A(W),`The value of "${q}" is out of range. It must be ${ee}. Received ${L}`},RangeError),w("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),w("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),w("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),w("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),w("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),w("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),w("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),w("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),w("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),w("ERR_STREAM_WRITE_AFTER_END","write after end",Error),w("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Ve.exports={AbortError:X,aggregateTwoErrors:F(function re(q,ee){if(q&&ee&&q!==ee){if(Array.isArray(ee.errors))return ee.errors.push(q),ee;const W=new H([ee,q],ee.message);return W.code=ee.code,W}return q||ee}),hideStackFrames:F,codes:G}},6305:Ve=>{"use strict";Ve.exports={ArrayIsArray:_e=>Array.isArray(_e),ArrayPrototypeIncludes:(_e,S)=>_e.includes(S),ArrayPrototypeIndexOf:(_e,S)=>_e.indexOf(S),ArrayPrototypeJoin:(_e,S)=>_e.join(S),ArrayPrototypeMap:(_e,S)=>_e.map(S),ArrayPrototypePop:(_e,S)=>_e.pop(S),ArrayPrototypePush:(_e,S)=>_e.push(S),ArrayPrototypeSlice:(_e,S,Z)=>_e.slice(S,Z),Error,FunctionPrototypeCall:(_e,S,...Z)=>_e.call(S,...Z),FunctionPrototypeSymbolHasInstance:(_e,S)=>Function.prototype[Symbol.hasInstance].call(_e,S),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(_e,S)=>Object.defineProperties(_e,S),ObjectDefineProperty:(_e,S,Z)=>Object.defineProperty(_e,S,Z),ObjectGetOwnPropertyDescriptor:(_e,S)=>Object.getOwnPropertyDescriptor(_e,S),ObjectKeys:_e=>Object.keys(_e),ObjectSetPrototypeOf:(_e,S)=>Object.setPrototypeOf(_e,S),Promise,PromisePrototypeCatch:(_e,S)=>_e.catch(S),PromisePrototypeThen:(_e,S,Z)=>_e.then(S,Z),PromiseReject:_e=>Promise.reject(_e),PromiseResolve:_e=>Promise.resolve(_e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(_e,S)=>_e.test(S),SafeSet:Set,String,StringPrototypeSlice:(_e,S,Z)=>_e.slice(S,Z),StringPrototypeToLowerCase:_e=>_e.toLowerCase(),StringPrototypeToUpperCase:_e=>_e.toUpperCase(),StringPrototypeTrim:_e=>_e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(_e,S,Z)=>_e.set(S,Z),Boolean,Uint8Array}},2656:(Ve,_e,S)=>{"use strict";var Z=S(7156).default;const A=S(1657),{kResistStopPropagation:$,SymbolDispose:H}=S(6305),Y=globalThis.AbortSignal||S(3982).AbortSignal,_=globalThis.AbortController||S(3982).AbortController,x=Object.getPrototypeOf(Z(function*(){})).constructor,N=globalThis.Blob||A.Blob,G=typeof N<"u"?function(F){return F instanceof N}:function(F){return!1},O=(w,F)=>{if(void 0!==w&&(null===w||"object"!=typeof w||!("aborted"in w)))throw new ERR_INVALID_ARG_TYPE(F,"AbortSignal",w)};class oe extends Error{constructor(F){if(!Array.isArray(F))throw new TypeError("Expected input to be an Array, got "+typeof F);let re="";for(let X=0;X<F.length;X++)re+=`    ${F[X].stack}\n`;super(re),this.name="AggregateError",this.errors=F}}Ve.exports={AggregateError:oe,kEmptyObject:Object.freeze({}),once(w){let F=!1;return function(...re){F||(F=!0,w.apply(this,re))}},createDeferredPromise:function(){let w,F;return{promise:new Promise((X,q)=>{w=X,F=q}),resolve:w,reject:F}},promisify:w=>new Promise((F,re)=>{w((X,...q)=>X?re(X):F(...q))}),debuglog:()=>function(){},format:(w,...F)=>w.replace(/%([sdifj])/g,function(...[re,X]){const q=F.shift();return"f"===X?q.toFixed(6):"j"===X?JSON.stringify(q):"s"===X&&"object"==typeof q?`${q.constructor!==Object?q.constructor.name:""} {}`.trim():q.toString()}),inspect(w){switch(typeof w){case"string":if(w.includes("'")){if(!w.includes('"'))return`"${w}"`;if(!w.includes("`")&&!w.includes("${"))return`\`${w}\``}return`'${w}'`;case"number":return isNaN(w)?"NaN":Object.is(w,-0)?String(w):w;case"bigint":return`${String(w)}n`;case"boolean":case"undefined":return String(w);case"object":return"{}"}},types:{isAsyncFunction:w=>w instanceof x,isArrayBufferView:w=>ArrayBuffer.isView(w)},isBlob:G,deprecate:(w,F)=>w,addAbortListener:S(2016).addAbortListener||function(F,re){if(void 0===F)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",F);let X;return O(F,"signal"),((w,F)=>{if("function"!=typeof w)throw new ERR_INVALID_ARG_TYPE("listener","Function",w)})(re),F.aborted?queueMicrotask(()=>re()):(F.addEventListener("abort",re,{__proto__:null,once:!0,[$]:!0}),X=()=>{F.removeEventListener("abort",re)}),{__proto__:null,[H](){var q;null===(q=X)||void 0===q||q()}}},AbortSignalAny:Y.any||function(F){if(1===F.length)return F[0];const re=new _,X=()=>re.abort();return F.forEach(q=>{O(q,"signals"),q.addEventListener("abort",X,{once:!0})}),re.signal.addEventListener("abort",()=>{F.forEach(q=>q.removeEventListener("abort",X))},{once:!0}),re.signal}},Ve.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},8110:(Ve,_e,S)=>{const{Buffer:Z}=S(1657),{ObjectDefineProperty:A,ObjectKeys:$,ReflectApply:H}=S(6305),{promisify:{custom:Y}}=S(2656),{streamReturningOperators:_,promiseReturningOperators:x}=S(7624),{codes:{ERR_ILLEGAL_CONSTRUCTOR:N}}=S(4370),G=S(7721),{setDefaultHighWaterMark:O,getDefaultHighWaterMark:k}=S(8782),{pipeline:oe}=S(4514),{destroyer:w}=S(5601),F=S(4618),X=S(16),q=S(5428),ee=Ve.exports=S(900).Stream;ee.isDestroyed=q.isDestroyed,ee.isDisturbed=q.isDisturbed,ee.isErrored=q.isErrored,ee.isReadable=q.isReadable,ee.isWritable=q.isWritable,ee.Readable=S(8383);for(const b of $(_)){let T=function(...ce){if(new.target)throw N();return ee.Readable.from(H(I,this,ce))};const I=_[b];A(T,"name",{__proto__:null,value:I.name}),A(T,"length",{__proto__:null,value:I.length}),A(ee.Readable.prototype,b,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}for(const b of $(x)){let T=function(...j){if(new.target)throw N();return H(I,this,j)};const I=x[b];A(T,"name",{__proto__:null,value:I.name}),A(T,"length",{__proto__:null,value:I.length}),A(ee.Readable.prototype,b,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}ee.Writable=S(9764),ee.Duplex=S(5931),ee.Transform=S(123),ee.PassThrough=S(6973),ee.pipeline=oe;const{addAbortSignal:W}=S(9987);ee.addAbortSignal=W,ee.finished=F,ee.destroy=w,ee.compose=G,ee.setDefaultHighWaterMark=O,ee.getDefaultHighWaterMark=k,A(ee,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>X}),A(oe,Y,{__proto__:null,enumerable:!0,get:()=>X.pipeline}),A(F,Y,{__proto__:null,enumerable:!0,get:()=>X.finished}),ee.Stream=ee,ee._isUint8Array=function(I){return I instanceof Uint8Array},ee._uint8ArrayToBuffer=function(I){return Z.from(I.buffer,I.byteOffset,I.byteLength)}},16:(Ve,_e,S)=>{"use strict";const{ArrayPrototypePop:Z,Promise:A}=S(6305),{isIterable:$,isNodeStream:H,isWebStream:Y}=S(5428),{pipelineImpl:_}=S(4514),{finished:x}=S(4618);S(8110),Ve.exports={finished:x,pipeline:function N(...G){return new A((O,k)=>{let oe,w;const F=G[G.length-1];if(F&&"object"==typeof F&&!H(F)&&!$(F)&&!Y(F)){const re=Z(G);oe=re.signal,w=re.end}_(G,(re,X)=>{re?k(re):O(X)},{signal:oe,end:w})})}}},1657:(Ve,_e,S)=>{"use strict";const Z=S(9919),A=S(2601),$="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;_e.Buffer=x,_e.SlowBuffer=function ee(me){return+me!=me&&(me=0),x.alloc(+me)},_e.INSPECT_MAX_BYTES=50;const H=2147483647;function _(me){if(me>H)throw new RangeError('The value "'+me+'" is invalid for option "size"');const V=new Uint8Array(me);return Object.setPrototypeOf(V,x.prototype),V}function x(me,V,te){if("number"==typeof me){if("string"==typeof V)throw new TypeError('The "string" argument must be of type string. Received type number');return k(me)}return N(me,V,te)}function N(me,V,te){if("string"==typeof me)return function oe(me,V){if(("string"!=typeof V||""===V)&&(V="utf8"),!x.isEncoding(V))throw new TypeError("Unknown encoding: "+V);const te=0|W(me,V);let Le=_(te);const ct=Le.write(me,V);return ct!==te&&(Le=Le.slice(0,ct)),Le}(me,V);if(ArrayBuffer.isView(me))return function F(me){if(ut(me,Uint8Array)){const V=new Uint8Array(me);return re(V.buffer,V.byteOffset,V.byteLength)}return w(me)}(me);if(null==me)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof me);if(ut(me,ArrayBuffer)||me&&ut(me.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ut(me,SharedArrayBuffer)||me&&ut(me.buffer,SharedArrayBuffer)))return re(me,V,te);if("number"==typeof me)throw new TypeError('The "value" argument must not be of type number. Received type number');const Le=me.valueOf&&me.valueOf();if(null!=Le&&Le!==me)return x.from(Le,V,te);const ct=function X(me){if(x.isBuffer(me)){const V=0|q(me.length),te=_(V);return 0===te.length||me.copy(te,0,0,V),te}return void 0!==me.length?"number"!=typeof me.length||St(me.length)?_(0):w(me):"Buffer"===me.type&&Array.isArray(me.data)?w(me.data):void 0}(me);if(ct)return ct;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof me[Symbol.toPrimitive])return x.from(me[Symbol.toPrimitive]("string"),V,te);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof me)}function G(me){if("number"!=typeof me)throw new TypeError('"size" argument must be of type number');if(me<0)throw new RangeError('The value "'+me+'" is invalid for option "size"')}function k(me){return G(me),_(me<0?0:0|q(me))}function w(me){const V=me.length<0?0:0|q(me.length),te=_(V);for(let Le=0;Le<V;Le+=1)te[Le]=255&me[Le];return te}function re(me,V,te){if(V<0||me.byteLength<V)throw new RangeError('"offset" is outside of buffer bounds');if(me.byteLength<V+(te||0))throw new RangeError('"length" is outside of buffer bounds');let Le;return Le=void 0===V&&void 0===te?new Uint8Array(me):void 0===te?new Uint8Array(me,V):new Uint8Array(me,V,te),Object.setPrototypeOf(Le,x.prototype),Le}function q(me){if(me>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|me}function W(me,V){if(x.isBuffer(me))return me.length;if(ArrayBuffer.isView(me)||ut(me,ArrayBuffer))return me.byteLength;if("string"!=typeof me)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof me);const te=me.length,Le=arguments.length>2&&!0===arguments[2];if(!Le&&0===te)return 0;let ct=!1;for(;;)switch(V){case"ascii":case"latin1":case"binary":return te;case"utf8":case"utf-8":return P(me).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*te;case"hex":return te>>>1;case"base64":return Ee(me).length;default:if(ct)return Le?-1:P(me).length;V=(""+V).toLowerCase(),ct=!0}}function L(me,V,te){let Le=!1;if((void 0===V||V<0)&&(V=0),V>this.length||((void 0===te||te>this.length)&&(te=this.length),te<=0)||(te>>>=0)<=(V>>>=0))return"";for(me||(me="utf8");;)switch(me){case"hex":return Se(this,V,te);case"utf8":case"utf-8":return Ge(this,V,te);case"ascii":return Ae(this,V,te);case"latin1":case"binary":return ze(this,V,te);case"base64":return Ne(this,V,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ue(this,V,te);default:if(Le)throw new TypeError("Unknown encoding: "+me);me=(me+"").toLowerCase(),Le=!0}}function b(me,V,te){const Le=me[V];me[V]=me[te],me[te]=Le}function I(me,V,te,Le,ct){if(0===me.length)return-1;if("string"==typeof te?(Le=te,te=0):te>2147483647?te=2147483647:te<-2147483648&&(te=-2147483648),St(te=+te)&&(te=ct?0:me.length-1),te<0&&(te=me.length+te),te>=me.length){if(ct)return-1;te=me.length-1}else if(te<0){if(!ct)return-1;te=0}if("string"==typeof V&&(V=x.from(V,Le)),x.isBuffer(V))return 0===V.length?-1:T(me,V,te,Le,ct);if("number"==typeof V)return V&=255,"function"==typeof Uint8Array.prototype.indexOf?ct?Uint8Array.prototype.indexOf.call(me,V,te):Uint8Array.prototype.lastIndexOf.call(me,V,te):T(me,[V],te,Le,ct);throw new TypeError("val must be string, number or Buffer")}function T(me,V,te,Le,ct){let si,ft=1,Mt=me.length,xn=V.length;if(void 0!==Le&&("ucs2"===(Le=String(Le).toLowerCase())||"ucs-2"===Le||"utf16le"===Le||"utf-16le"===Le)){if(me.length<2||V.length<2)return-1;ft=2,Mt/=2,xn/=2,te/=2}function ti(Fn,zn){return 1===ft?Fn[zn]:Fn.readUInt16BE(zn*ft)}if(ct){let Fn=-1;for(si=te;si<Mt;si++)if(ti(me,si)===ti(V,-1===Fn?0:si-Fn)){if(-1===Fn&&(Fn=si),si-Fn+1===xn)return Fn*ft}else-1!==Fn&&(si-=si-Fn),Fn=-1}else for(te+xn>Mt&&(te=Mt-xn),si=te;si>=0;si--){let Fn=!0;for(let zn=0;zn<xn;zn++)if(ti(me,si+zn)!==ti(V,zn)){Fn=!1;break}if(Fn)return si}return-1}function ce(me,V,te,Le){te=Number(te)||0;const ct=me.length-te;Le?(Le=Number(Le))>ct&&(Le=ct):Le=ct;const ft=V.length;let Mt;for(Le>ft/2&&(Le=ft/2),Mt=0;Mt<Le;++Mt){const xn=parseInt(V.substr(2*Mt,2),16);if(St(xn))return Mt;me[te+Mt]=xn}return Mt}function j(me,V,te,Le){return Oe(P(V,me.length-te),me,te,Le)}function Ie(me,V,te,Le){return Oe(function he(me){const V=[];for(let te=0;te<me.length;++te)V.push(255&me.charCodeAt(te));return V}(V),me,te,Le)}function ae(me,V,te,Le){return Oe(Ee(V),me,te,Le)}function xe(me,V,te,Le){return Oe(function Xe(me,V){let te,Le,ct;const ft=[];for(let Mt=0;Mt<me.length&&!((V-=2)<0);++Mt)te=me.charCodeAt(Mt),Le=te>>8,ct=te%256,ft.push(ct),ft.push(Le);return ft}(V,me.length-te),me,te,Le)}function Ne(me,V,te){return Z.fromByteArray(0===V&&te===me.length?me:me.slice(V,te))}function Ge(me,V,te){te=Math.min(me.length,te);const Le=[];let ct=V;for(;ct<te;){const ft=me[ct];let Mt=null,xn=ft>239?4:ft>223?3:ft>191?2:1;if(ct+xn<=te){let ti,si,Fn,zn;switch(xn){case 1:ft<128&&(Mt=ft);break;case 2:ti=me[ct+1],128==(192&ti)&&(zn=(31&ft)<<6|63&ti,zn>127&&(Mt=zn));break;case 3:ti=me[ct+1],si=me[ct+2],128==(192&ti)&&128==(192&si)&&(zn=(15&ft)<<12|(63&ti)<<6|63&si,zn>2047&&(zn<55296||zn>57343)&&(Mt=zn));break;case 4:ti=me[ct+1],si=me[ct+2],Fn=me[ct+3],128==(192&ti)&&128==(192&si)&&128==(192&Fn)&&(zn=(15&ft)<<18|(63&ti)<<12|(63&si)<<6|63&Fn,zn>65535&&zn<1114112&&(Mt=zn))}}null===Mt?(Mt=65533,xn=1):Mt>65535&&(Mt-=65536,Le.push(Mt>>>10&1023|55296),Mt=56320|1023&Mt),Le.push(Mt),ct+=xn}return function Ke(me){const V=me.length;if(V<=it)return String.fromCharCode.apply(String,me);let te="",Le=0;for(;Le<V;)te+=String.fromCharCode.apply(String,me.slice(Le,Le+=it));return te}(Le)}_e.kMaxLength=H,!(x.TYPED_ARRAY_SUPPORT=function Y(){try{const me=new Uint8Array(1),V={foo:function(){return 42}};return Object.setPrototypeOf(V,Uint8Array.prototype),Object.setPrototypeOf(me,V),42===me.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(x.prototype,"parent",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.buffer}}),Object.defineProperty(x.prototype,"offset",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.byteOffset}}),x.poolSize=8192,x.from=function(me,V,te){return N(me,V,te)},Object.setPrototypeOf(x.prototype,Uint8Array.prototype),Object.setPrototypeOf(x,Uint8Array),x.alloc=function(me,V,te){return function O(me,V,te){return G(me),me<=0?_(me):void 0!==V?"string"==typeof te?_(me).fill(V,te):_(me).fill(V):_(me)}(me,V,te)},x.allocUnsafe=function(me){return k(me)},x.allocUnsafeSlow=function(me){return k(me)},x.isBuffer=function(V){return null!=V&&!0===V._isBuffer&&V!==x.prototype},x.compare=function(V,te){if(ut(V,Uint8Array)&&(V=x.from(V,V.offset,V.byteLength)),ut(te,Uint8Array)&&(te=x.from(te,te.offset,te.byteLength)),!x.isBuffer(V)||!x.isBuffer(te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===te)return 0;let Le=V.length,ct=te.length;for(let ft=0,Mt=Math.min(Le,ct);ft<Mt;++ft)if(V[ft]!==te[ft]){Le=V[ft],ct=te[ft];break}return Le<ct?-1:ct<Le?1:0},x.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},x.concat=function(V,te){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(0===V.length)return x.alloc(0);let Le;if(void 0===te)for(te=0,Le=0;Le<V.length;++Le)te+=V[Le].length;const ct=x.allocUnsafe(te);let ft=0;for(Le=0;Le<V.length;++Le){let Mt=V[Le];if(ut(Mt,Uint8Array))ft+Mt.length>ct.length?(x.isBuffer(Mt)||(Mt=x.from(Mt)),Mt.copy(ct,ft)):Uint8Array.prototype.set.call(ct,Mt,ft);else{if(!x.isBuffer(Mt))throw new TypeError('"list" argument must be an Array of Buffers');Mt.copy(ct,ft)}ft+=Mt.length}return ct},x.byteLength=W,x.prototype._isBuffer=!0,x.prototype.swap16=function(){const V=this.length;if(V%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let te=0;te<V;te+=2)b(this,te,te+1);return this},x.prototype.swap32=function(){const V=this.length;if(V%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let te=0;te<V;te+=4)b(this,te,te+3),b(this,te+1,te+2);return this},x.prototype.swap64=function(){const V=this.length;if(V%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let te=0;te<V;te+=8)b(this,te,te+7),b(this,te+1,te+6),b(this,te+2,te+5),b(this,te+3,te+4);return this},x.prototype.toLocaleString=x.prototype.toString=function(){const V=this.length;return 0===V?"":0===arguments.length?Ge(this,0,V):L.apply(this,arguments)},x.prototype.equals=function(V){if(!x.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V||0===x.compare(this,V)},x.prototype.inspect=function(){let V="";const te=_e.INSPECT_MAX_BYTES;return V=this.toString("hex",0,te).replace(/(.{2})/g,"$1 ").trim(),this.length>te&&(V+=" ... "),"<Buffer "+V+">"},$&&(x.prototype[$]=x.prototype.inspect),x.prototype.compare=function(V,te,Le,ct,ft){if(ut(V,Uint8Array)&&(V=x.from(V,V.offset,V.byteLength)),!x.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof V);if(void 0===te&&(te=0),void 0===Le&&(Le=V?V.length:0),void 0===ct&&(ct=0),void 0===ft&&(ft=this.length),te<0||Le>V.length||ct<0||ft>this.length)throw new RangeError("out of range index");if(ct>=ft&&te>=Le)return 0;if(ct>=ft)return-1;if(te>=Le)return 1;if(this===V)return 0;let Mt=(ft>>>=0)-(ct>>>=0),xn=(Le>>>=0)-(te>>>=0);const ti=Math.min(Mt,xn),si=this.slice(ct,ft),Fn=V.slice(te,Le);for(let zn=0;zn<ti;++zn)if(si[zn]!==Fn[zn]){Mt=si[zn],xn=Fn[zn];break}return Mt<xn?-1:xn<Mt?1:0},x.prototype.includes=function(V,te,Le){return-1!==this.indexOf(V,te,Le)},x.prototype.indexOf=function(V,te,Le){return I(this,V,te,Le,!0)},x.prototype.lastIndexOf=function(V,te,Le){return I(this,V,te,Le,!1)},x.prototype.write=function(V,te,Le,ct){if(void 0===te)ct="utf8",Le=this.length,te=0;else if(void 0===Le&&"string"==typeof te)ct=te,Le=this.length,te=0;else{if(!isFinite(te))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");te>>>=0,isFinite(Le)?(Le>>>=0,void 0===ct&&(ct="utf8")):(ct=Le,Le=void 0)}const ft=this.length-te;if((void 0===Le||Le>ft)&&(Le=ft),V.length>0&&(Le<0||te<0)||te>this.length)throw new RangeError("Attempt to write outside buffer bounds");ct||(ct="utf8");let Mt=!1;for(;;)switch(ct){case"hex":return ce(this,V,te,Le);case"utf8":case"utf-8":return j(this,V,te,Le);case"ascii":case"latin1":case"binary":return Ie(this,V,te,Le);case"base64":return ae(this,V,te,Le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,V,te,Le);default:if(Mt)throw new TypeError("Unknown encoding: "+ct);ct=(""+ct).toLowerCase(),Mt=!0}},x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const it=4096;function Ae(me,V,te){let Le="";te=Math.min(me.length,te);for(let ct=V;ct<te;++ct)Le+=String.fromCharCode(127&me[ct]);return Le}function ze(me,V,te){let Le="";te=Math.min(me.length,te);for(let ct=V;ct<te;++ct)Le+=String.fromCharCode(me[ct]);return Le}function Se(me,V,te){const Le=me.length;(!V||V<0)&&(V=0),(!te||te<0||te>Le)&&(te=Le);let ct="";for(let ft=V;ft<te;++ft)ct+=Ut[me[ft]];return ct}function Ue(me,V,te){const Le=me.slice(V,te);let ct="";for(let ft=0;ft<Le.length-1;ft+=2)ct+=String.fromCharCode(Le[ft]+256*Le[ft+1]);return ct}function ue(me,V,te){if(me%1!=0||me<0)throw new RangeError("offset is not uint");if(me+V>te)throw new RangeError("Trying to access beyond buffer length")}function Ce(me,V,te,Le,ct,ft){if(!x.isBuffer(me))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>ct||V<ft)throw new RangeError('"value" argument is out of bounds');if(te+Le>me.length)throw new RangeError("Index out of range")}function at(me,V,te,Le,ct){Qe(V,Le,ct,me,te,7);let ft=Number(V&BigInt(4294967295));me[te++]=ft,ft>>=8,me[te++]=ft,ft>>=8,me[te++]=ft,ft>>=8,me[te++]=ft;let Mt=Number(V>>BigInt(32)&BigInt(4294967295));return me[te++]=Mt,Mt>>=8,me[te++]=Mt,Mt>>=8,me[te++]=Mt,Mt>>=8,me[te++]=Mt,te}function vt(me,V,te,Le,ct){Qe(V,Le,ct,me,te,7);let ft=Number(V&BigInt(4294967295));me[te+7]=ft,ft>>=8,me[te+6]=ft,ft>>=8,me[te+5]=ft,ft>>=8,me[te+4]=ft;let Mt=Number(V>>BigInt(32)&BigInt(4294967295));return me[te+3]=Mt,Mt>>=8,me[te+2]=Mt,Mt>>=8,me[te+1]=Mt,Mt>>=8,me[te]=Mt,te+8}function Je(me,V,te,Le,ct,ft){if(te+Le>me.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("Index out of range")}function pe(me,V,te,Le,ct){return V=+V,te>>>=0,ct||Je(me,0,te,4),A.write(me,V,te,Le,23,4),te+4}function R(me,V,te,Le,ct){return V=+V,te>>>=0,ct||Je(me,0,te,8),A.write(me,V,te,Le,52,8),te+8}x.prototype.slice=function(V,te){const Le=this.length;(V=~~V)<0?(V+=Le)<0&&(V=0):V>Le&&(V=Le),(te=void 0===te?Le:~~te)<0?(te+=Le)<0&&(te=0):te>Le&&(te=Le),te<V&&(te=V);const ct=this.subarray(V,te);return Object.setPrototypeOf(ct,x.prototype),ct},x.prototype.readUintLE=x.prototype.readUIntLE=function(V,te,Le){V>>>=0,te>>>=0,Le||ue(V,te,this.length);let ct=this[V],ft=1,Mt=0;for(;++Mt<te&&(ft*=256);)ct+=this[V+Mt]*ft;return ct},x.prototype.readUintBE=x.prototype.readUIntBE=function(V,te,Le){V>>>=0,te>>>=0,Le||ue(V,te,this.length);let ct=this[V+--te],ft=1;for(;te>0&&(ft*=256);)ct+=this[V+--te]*ft;return ct},x.prototype.readUint8=x.prototype.readUInt8=function(V,te){return V>>>=0,te||ue(V,1,this.length),this[V]},x.prototype.readUint16LE=x.prototype.readUInt16LE=function(V,te){return V>>>=0,te||ue(V,2,this.length),this[V]|this[V+1]<<8},x.prototype.readUint16BE=x.prototype.readUInt16BE=function(V,te){return V>>>=0,te||ue(V,2,this.length),this[V]<<8|this[V+1]},x.prototype.readUint32LE=x.prototype.readUInt32LE=function(V,te){return V>>>=0,te||ue(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+16777216*this[V+3]},x.prototype.readUint32BE=x.prototype.readUInt32BE=function(V,te){return V>>>=0,te||ue(V,4,this.length),16777216*this[V]+(this[V+1]<<16|this[V+2]<<8|this[V+3])},x.prototype.readBigUInt64LE=mt(function(V){de(V>>>=0,"offset");const te=this[V],Le=this[V+7];(void 0===te||void 0===Le)&&ne(V,this.length-8);const ct=te+256*this[++V]+65536*this[++V]+this[++V]*2**24,ft=this[++V]+256*this[++V]+65536*this[++V]+Le*2**24;return BigInt(ct)+(BigInt(ft)<<BigInt(32))}),x.prototype.readBigUInt64BE=mt(function(V){de(V>>>=0,"offset");const te=this[V],Le=this[V+7];(void 0===te||void 0===Le)&&ne(V,this.length-8);const ct=te*2**24+65536*this[++V]+256*this[++V]+this[++V],ft=this[++V]*2**24+65536*this[++V]+256*this[++V]+Le;return(BigInt(ct)<<BigInt(32))+BigInt(ft)}),x.prototype.readIntLE=function(V,te,Le){V>>>=0,te>>>=0,Le||ue(V,te,this.length);let ct=this[V],ft=1,Mt=0;for(;++Mt<te&&(ft*=256);)ct+=this[V+Mt]*ft;return ft*=128,ct>=ft&&(ct-=Math.pow(2,8*te)),ct},x.prototype.readIntBE=function(V,te,Le){V>>>=0,te>>>=0,Le||ue(V,te,this.length);let ct=te,ft=1,Mt=this[V+--ct];for(;ct>0&&(ft*=256);)Mt+=this[V+--ct]*ft;return ft*=128,Mt>=ft&&(Mt-=Math.pow(2,8*te)),Mt},x.prototype.readInt8=function(V,te){return V>>>=0,te||ue(V,1,this.length),128&this[V]?-1*(255-this[V]+1):this[V]},x.prototype.readInt16LE=function(V,te){V>>>=0,te||ue(V,2,this.length);const Le=this[V]|this[V+1]<<8;return 32768&Le?4294901760|Le:Le},x.prototype.readInt16BE=function(V,te){V>>>=0,te||ue(V,2,this.length);const Le=this[V+1]|this[V]<<8;return 32768&Le?4294901760|Le:Le},x.prototype.readInt32LE=function(V,te){return V>>>=0,te||ue(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},x.prototype.readInt32BE=function(V,te){return V>>>=0,te||ue(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},x.prototype.readBigInt64LE=mt(function(V){de(V>>>=0,"offset");const te=this[V],Le=this[V+7];return(void 0===te||void 0===Le)&&ne(V,this.length-8),(BigInt(this[V+4]+256*this[V+5]+65536*this[V+6]+(Le<<24))<<BigInt(32))+BigInt(te+256*this[++V]+65536*this[++V]+this[++V]*2**24)}),x.prototype.readBigInt64BE=mt(function(V){de(V>>>=0,"offset");const te=this[V],Le=this[V+7];(void 0===te||void 0===Le)&&ne(V,this.length-8);const ct=(te<<24)+65536*this[++V]+256*this[++V]+this[++V];return(BigInt(ct)<<BigInt(32))+BigInt(this[++V]*2**24+65536*this[++V]+256*this[++V]+Le)}),x.prototype.readFloatLE=function(V,te){return V>>>=0,te||ue(V,4,this.length),A.read(this,V,!0,23,4)},x.prototype.readFloatBE=function(V,te){return V>>>=0,te||ue(V,4,this.length),A.read(this,V,!1,23,4)},x.prototype.readDoubleLE=function(V,te){return V>>>=0,te||ue(V,8,this.length),A.read(this,V,!0,52,8)},x.prototype.readDoubleBE=function(V,te){return V>>>=0,te||ue(V,8,this.length),A.read(this,V,!1,52,8)},x.prototype.writeUintLE=x.prototype.writeUIntLE=function(V,te,Le,ct){V=+V,te>>>=0,Le>>>=0,ct||Ce(this,V,te,Le,Math.pow(2,8*Le)-1,0);let ft=1,Mt=0;for(this[te]=255&V;++Mt<Le&&(ft*=256);)this[te+Mt]=V/ft&255;return te+Le},x.prototype.writeUintBE=x.prototype.writeUIntBE=function(V,te,Le,ct){V=+V,te>>>=0,Le>>>=0,ct||Ce(this,V,te,Le,Math.pow(2,8*Le)-1,0);let ft=Le-1,Mt=1;for(this[te+ft]=255&V;--ft>=0&&(Mt*=256);)this[te+ft]=V/Mt&255;return te+Le},x.prototype.writeUint8=x.prototype.writeUInt8=function(V,te,Le){return V=+V,te>>>=0,Le||Ce(this,V,te,1,255,0),this[te]=255&V,te+1},x.prototype.writeUint16LE=x.prototype.writeUInt16LE=function(V,te,Le){return V=+V,te>>>=0,Le||Ce(this,V,te,2,65535,0),this[te]=255&V,this[te+1]=V>>>8,te+2},x.prototype.writeUint16BE=x.prototype.writeUInt16BE=function(V,te,Le){return V=+V,te>>>=0,Le||Ce(this,V,te,2,65535,0),this[te]=V>>>8,this[te+1]=255&V,te+2},x.prototype.writeUint32LE=x.prototype.writeUInt32LE=function(V,te,Le){return V=+V,te>>>=0,Le||Ce(this,V,te,4,4294967295,0),this[te+3]=V>>>24,this[te+2]=V>>>16,this[te+1]=V>>>8,this[te]=255&V,te+4},x.prototype.writeUint32BE=x.prototype.writeUInt32BE=function(V,te,Le){return V=+V,te>>>=0,Le||Ce(this,V,te,4,4294967295,0),this[te]=V>>>24,this[te+1]=V>>>16,this[te+2]=V>>>8,this[te+3]=255&V,te+4},x.prototype.writeBigUInt64LE=mt(function(V,te=0){return at(this,V,te,BigInt(0),BigInt("0xffffffffffffffff"))}),x.prototype.writeBigUInt64BE=mt(function(V,te=0){return vt(this,V,te,BigInt(0),BigInt("0xffffffffffffffff"))}),x.prototype.writeIntLE=function(V,te,Le,ct){if(V=+V,te>>>=0,!ct){const ti=Math.pow(2,8*Le-1);Ce(this,V,te,Le,ti-1,-ti)}let ft=0,Mt=1,xn=0;for(this[te]=255&V;++ft<Le&&(Mt*=256);)V<0&&0===xn&&0!==this[te+ft-1]&&(xn=1),this[te+ft]=(V/Mt>>0)-xn&255;return te+Le},x.prototype.writeIntBE=function(V,te,Le,ct){if(V=+V,te>>>=0,!ct){const ti=Math.pow(2,8*Le-1);Ce(this,V,te,Le,ti-1,-ti)}let ft=Le-1,Mt=1,xn=0;for(this[te+ft]=255&V;--ft>=0&&(Mt*=256);)V<0&&0===xn&&0!==this[te+ft+1]&&(xn=1),this[te+ft]=(V/Mt>>0)-xn&255;return te+Le},x.prototype.writeInt8=function(V,te,Le){return V=+V,te>>>=0,Le||Ce(this,V,te,1,127,-128),V<0&&(V=255+V+1),this[te]=255&V,te+1},x.prototype.writeInt16LE=function(V,te,Le){return V=+V,te>>>=0,Le||Ce(this,V,te,2,32767,-32768),this[te]=255&V,this[te+1]=V>>>8,te+2},x.prototype.writeInt16BE=function(V,te,Le){return V=+V,te>>>=0,Le||Ce(this,V,te,2,32767,-32768),this[te]=V>>>8,this[te+1]=255&V,te+2},x.prototype.writeInt32LE=function(V,te,Le){return V=+V,te>>>=0,Le||Ce(this,V,te,4,2147483647,-2147483648),this[te]=255&V,this[te+1]=V>>>8,this[te+2]=V>>>16,this[te+3]=V>>>24,te+4},x.prototype.writeInt32BE=function(V,te,Le){return V=+V,te>>>=0,Le||Ce(this,V,te,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[te]=V>>>24,this[te+1]=V>>>16,this[te+2]=V>>>8,this[te+3]=255&V,te+4},x.prototype.writeBigInt64LE=mt(function(V,te=0){return at(this,V,te,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),x.prototype.writeBigInt64BE=mt(function(V,te=0){return vt(this,V,te,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),x.prototype.writeFloatLE=function(V,te,Le){return pe(this,V,te,!0,Le)},x.prototype.writeFloatBE=function(V,te,Le){return pe(this,V,te,!1,Le)},x.prototype.writeDoubleLE=function(V,te,Le){return R(this,V,te,!0,Le)},x.prototype.writeDoubleBE=function(V,te,Le){return R(this,V,te,!1,Le)},x.prototype.copy=function(V,te,Le,ct){if(!x.isBuffer(V))throw new TypeError("argument should be a Buffer");if(Le||(Le=0),!ct&&0!==ct&&(ct=this.length),te>=V.length&&(te=V.length),te||(te=0),ct>0&&ct<Le&&(ct=Le),ct===Le||0===V.length||0===this.length)return 0;if(te<0)throw new RangeError("targetStart out of bounds");if(Le<0||Le>=this.length)throw new RangeError("Index out of range");if(ct<0)throw new RangeError("sourceEnd out of bounds");ct>this.length&&(ct=this.length),V.length-te<ct-Le&&(ct=V.length-te+Le);const ft=ct-Le;return this===V&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(te,Le,ct):Uint8Array.prototype.set.call(V,this.subarray(Le,ct),te),ft},x.prototype.fill=function(V,te,Le,ct){if("string"==typeof V){if("string"==typeof te?(ct=te,te=0,Le=this.length):"string"==typeof Le&&(ct=Le,Le=this.length),void 0!==ct&&"string"!=typeof ct)throw new TypeError("encoding must be a string");if("string"==typeof ct&&!x.isEncoding(ct))throw new TypeError("Unknown encoding: "+ct);if(1===V.length){const Mt=V.charCodeAt(0);("utf8"===ct&&Mt<128||"latin1"===ct)&&(V=Mt)}}else"number"==typeof V?V&=255:"boolean"==typeof V&&(V=Number(V));if(te<0||this.length<te||this.length<Le)throw new RangeError("Out of range index");if(Le<=te)return this;let ft;if(te>>>=0,Le=void 0===Le?this.length:Le>>>0,V||(V=0),"number"==typeof V)for(ft=te;ft<Le;++ft)this[ft]=V;else{const Mt=x.isBuffer(V)?V:x.from(V,ct),xn=Mt.length;if(0===xn)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(ft=0;ft<Le-te;++ft)this[ft+te]=Mt[ft%xn]}return this};const E={};function ie(me,V,te){E[me]=class extends te{constructor(){super(),Object.defineProperty(this,"message",{value:V.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${me}]`,delete this.name}get code(){return me}set code(ct){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ct,writable:!0})}toString(){return`${this.name} [${me}]: ${this.message}`}}}function Q(me){let V="",te=me.length;const Le="-"===me[0]?1:0;for(;te>=Le+4;te-=3)V=`_${me.slice(te-3,te)}${V}`;return`${me.slice(0,te)}${V}`}function Qe(me,V,te,Le,ct,ft){if(me>te||me<V){const Mt="bigint"==typeof V?"n":"";let xn;throw xn=ft>3?0===V||V===BigInt(0)?`>= 0${Mt} and < 2${Mt} ** ${8*(ft+1)}${Mt}`:`>= -(2${Mt} ** ${8*(ft+1)-1}${Mt}) and < 2 ** ${8*(ft+1)-1}${Mt}`:`>= ${V}${Mt} and <= ${te}${Mt}`,new E.ERR_OUT_OF_RANGE("value",xn,me)}!function He(me,V,te){de(V,"offset"),(void 0===me[V]||void 0===me[V+te])&&ne(V,me.length-(te+1))}(Le,ct,ft)}function de(me,V){if("number"!=typeof me)throw new E.ERR_INVALID_ARG_TYPE(V,"number",me)}function ne(me,V,te){throw Math.floor(me)!==me?(de(me,te),new E.ERR_OUT_OF_RANGE(te||"offset","an integer",me)):V<0?new E.ERR_BUFFER_OUT_OF_BOUNDS:new E.ERR_OUT_OF_RANGE(te||"offset",`>= ${te?1:0} and <= ${V}`,me)}ie("ERR_BUFFER_OUT_OF_BOUNDS",function(me){return me?`${me} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ie("ERR_INVALID_ARG_TYPE",function(me,V){return`The "${me}" argument must be of type number. Received type ${typeof V}`},TypeError),ie("ERR_OUT_OF_RANGE",function(me,V,te){let Le=`The value of "${me}" is out of range.`,ct=te;return Number.isInteger(te)&&Math.abs(te)>2**32?ct=Q(String(te)):"bigint"==typeof te&&(ct=String(te),(te>BigInt(2)**BigInt(32)||te<-(BigInt(2)**BigInt(32)))&&(ct=Q(ct)),ct+="n"),Le+=` It must be ${V}. Received ${ct}`,Le},RangeError);const U=/[^+/0-9A-Za-z-_]/g;function P(me,V){let te;V=V||1/0;const Le=me.length;let ct=null;const ft=[];for(let Mt=0;Mt<Le;++Mt){if(te=me.charCodeAt(Mt),te>55295&&te<57344){if(!ct){if(te>56319){(V-=3)>-1&&ft.push(239,191,189);continue}if(Mt+1===Le){(V-=3)>-1&&ft.push(239,191,189);continue}ct=te;continue}if(te<56320){(V-=3)>-1&&ft.push(239,191,189),ct=te;continue}te=65536+(ct-55296<<10|te-56320)}else ct&&(V-=3)>-1&&ft.push(239,191,189);if(ct=null,te<128){if((V-=1)<0)break;ft.push(te)}else if(te<2048){if((V-=2)<0)break;ft.push(te>>6|192,63&te|128)}else if(te<65536){if((V-=3)<0)break;ft.push(te>>12|224,te>>6&63|128,63&te|128)}else{if(!(te<1114112))throw new Error("Invalid code point");if((V-=4)<0)break;ft.push(te>>18|240,te>>12&63|128,te>>6&63|128,63&te|128)}}return ft}function Ee(me){return Z.toByteArray(function M(me){if((me=(me=me.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;me.length%4!=0;)me+="=";return me}(me))}function Oe(me,V,te,Le){let ct;for(ct=0;ct<Le&&!(ct+te>=V.length||ct>=me.length);++ct)V[ct+te]=me[ct];return ct}function ut(me,V){return me instanceof V||null!=me&&null!=me.constructor&&null!=me.constructor.name&&me.constructor.name===V.name}function St(me){return me!=me}const Ut=function(){const me="0123456789abcdef",V=new Array(256);for(let te=0;te<16;++te){const Le=16*te;for(let ct=0;ct<16;++ct)V[Le+ct]=me[te]+me[ct]}return V}();function mt(me){return typeof BigInt>"u"?an:me}function an(){throw new Error("BigInt not supported")}},7054:function(Ve,_e,S){"use strict";var Z=this&&this.__createBinding||(Object.create?function($,H,Y,_){void 0===_&&(_=Y),Object.defineProperty($,_,{enumerable:!0,get:function(){return H[Y]}})}:function($,H,Y,_){void 0===_&&(_=Y),$[_]=H[Y]}),A=this&&this.__exportStar||function($,H){for(var Y in $)"default"!==Y&&!Object.prototype.hasOwnProperty.call(H,Y)&&Z(H,$,Y)};Object.defineProperty(_e,"__esModule",{value:!0}),A(S(361),_e)},361:(Ve,_e)=>{"use strict";function Z(H){const Y=[];let _=0;for(;_<H.length;)switch(H[_]){case"/":if("."===H[_+1])if("."===H[_+2]){if(!$(H[_+3])){Y.push([]),_++;break}Y.pop(),H[_+3]||Y.push([]),_+=3}else{if(!$(H[_+2])){Y.push([]),_++;break}H[_+2]||Y.push([]),_+=2}else Y.push([]),_++;break;case"#":case"?":Y.length||Y.push([]),Y[Y.length-1].push(H.substr(_)),_=H.length;break;default:Y.length||Y.push([]),Y[Y.length-1].push(H[_]),_++}return"/"+Y.map(x=>x.join("")).join("/")}function A(H,Y){let _=Y+1;Y>=0?"/"===H[Y+1]&&"/"===H[Y+2]&&(_=Y+3):"/"===H[0]&&"/"===H[1]&&(_=2);const x=H.indexOf("/",_);return x<0?H:H.substr(0,x)+Z(H.substr(x))}function $(H){return!H||"#"===H||"?"===H||"/"===H}Object.defineProperty(_e,"__esModule",{value:!0}),_e.removeDotSegmentsOfPath=_e.removeDotSegments=_e.resolve=void 0,_e.resolve=function S(H,Y){const _=(Y=Y||"").indexOf("#");if(_>0&&(Y=Y.substr(0,_)),!H.length){if(Y.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${Y}' for value '${H}'`);return Y}if(H.startsWith("?")){const w=Y.indexOf("?");return w>0&&(Y=Y.substr(0,w)),Y+H}if(H.startsWith("#"))return Y+H;if(!Y.length){const w=H.indexOf(":");if(w<0)throw new Error(`Found invalid relative IRI '${H}' for a missing baseIRI`);return A(H,w)}const x=H.indexOf(":");if(x>=0)return A(H,x);const N=Y.indexOf(":");if(N<0)throw new Error(`Found invalid baseIRI '${Y}' for value '${H}'`);const G=Y.substr(0,N+1);if(0===H.indexOf("//"))return G+A(H,x);let O;if(Y.indexOf("//",N)===N+1){if(O=Y.indexOf("/",N+3),O<0)return Y.length>N+3?Y+"/"+A(H,x):G+A(H,x)}else if(O=Y.indexOf("/",N+1),O<0)return G+A(H,x);if(0===H.indexOf("/"))return Y.substr(0,O)+Z(H);let k=Y.substr(O);const oe=k.lastIndexOf("/");return oe>=0&&oe<k.length-1&&(k=k.substr(0,oe+1),"."===H[0]&&"."!==H[1]&&"/"!==H[1]&&H[2]&&(H=H.substr(1))),H=Z(H=k+H),Y.substr(0,O)+H},_e.removeDotSegments=Z,_e.removeDotSegmentsOfPath=A},9528:(Ve,_e,S)=>{!function(Z){Z.parser=function(R,E){return new $(R,E)},Z.SAXParser=$,Z.SAXStream=O,Z.createStream=function G(R,E){return new O(R,E)},Z.MAX_BUFFER_LENGTH=65536;var x,A=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function $(R,E){if(!(this instanceof $))return new $(R,E);var ie=this;(function Y(R){for(var E=0,ie=A.length;E<ie;E++)R[A[E]]=""})(ie),ie.q=ie.c="",ie.bufferCheckPosition=Z.MAX_BUFFER_LENGTH,ie.opt=E||{},ie.opt.lowercase=ie.opt.lowercase||ie.opt.lowercasetags,ie.looseCase=ie.opt.lowercase?"toLowerCase":"toUpperCase",ie.tags=[],ie.closed=ie.closedRoot=ie.sawRoot=!1,ie.tag=ie.error=null,ie.strict=!!R,ie.noscript=!(!R&&!ie.opt.noscript),ie.state=j.BEGIN,ie.strictEntities=ie.opt.strictEntities,ie.ENTITIES=Object.create(ie.strictEntities?Z.XML_ENTITIES:Z.ENTITIES),ie.attribList=[],ie.opt.xmlns&&(ie.ns=Object.create(re)),ie.trackPosition=!1!==ie.opt.position,ie.trackPosition&&(ie.position=ie.line=ie.column=0),ae(ie,"onready")}Z.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(R){function E(){}return E.prototype=R,new E}),Object.keys||(Object.keys=function(R){var E=[];for(var ie in R)R.hasOwnProperty(ie)&&E.push(ie);return E}),$.prototype={end:function(){Ke(this)},write:function pe(R){var E=this;if(this.error)throw this.error;if(E.closed)return it(E,"Cannot write after close. Assign an onready handler.");if(null===R)return Ke(E);"object"==typeof R&&(R=R.toString());for(var ie=0,Q="";Q=Je(R,ie++),E.c=Q,Q;)switch(E.trackPosition&&(E.position++,"\n"===Q?(E.line++,E.column=0):E.column++),E.state){case j.BEGIN:if(E.state=j.BEGIN_WHITESPACE,"\ufeff"===Q)continue;vt(E,Q);continue;case j.BEGIN_WHITESPACE:vt(E,Q);continue;case j.TEXT:if(E.sawRoot&&!E.closedRoot){for(var He=ie-1;Q&&"<"!==Q&&"&"!==Q;)(Q=Je(R,ie++))&&E.trackPosition&&(E.position++,"\n"===Q?(E.line++,E.column=0):E.column++);E.textNode+=R.substring(He,ie-1)}"<"!==Q||E.sawRoot&&E.closedRoot&&!E.strict?(!L(Q)&&(!E.sawRoot||E.closedRoot)&&Ae(E,"Text data outside of root node."),"&"===Q?E.state=j.TEXT_ENTITY:E.textNode+=Q):(E.state=j.OPEN_WAKA,E.startTagPosition=E.position);continue;case j.SCRIPT:"<"===Q?E.state=j.SCRIPT_ENDING:E.script+=Q;continue;case j.SCRIPT_ENDING:"/"===Q?E.state=j.CLOSE_TAG:(E.script+="<"+Q,E.state=j.SCRIPT);continue;case j.OPEN_WAKA:"!"===Q?(E.state=j.SGML_DECL,E.sgmlDecl=""):L(Q)||(T(X,Q)?(E.state=j.OPEN_TAG,E.tagName=Q):"/"===Q?(E.state=j.CLOSE_TAG,E.tagName=""):"?"===Q?(E.state=j.PROC_INST,E.procInstName=E.procInstBody=""):(Ae(E,"Unencoded <"),E.startTagPosition+1<E.position&&(Q=new Array(E.position-E.startTagPosition).join(" ")+Q),E.textNode+="<"+Q,E.state=j.TEXT));continue;case j.SGML_DECL:(E.sgmlDecl+Q).toUpperCase()===k?(xe(E,"onopencdata"),E.state=j.CDATA,E.sgmlDecl="",E.cdata=""):E.sgmlDecl+Q==="--"?(E.state=j.COMMENT,E.comment="",E.sgmlDecl=""):(E.sgmlDecl+Q).toUpperCase()===oe?(E.state=j.DOCTYPE,(E.doctype||E.sawRoot)&&Ae(E,"Inappropriately located doctype declaration"),E.doctype="",E.sgmlDecl=""):">"===Q?(xe(E,"onsgmldeclaration",E.sgmlDecl),E.sgmlDecl="",E.state=j.TEXT):(b(Q)&&(E.state=j.SGML_DECL_QUOTED),E.sgmlDecl+=Q);continue;case j.SGML_DECL_QUOTED:Q===E.q&&(E.state=j.SGML_DECL,E.q=""),E.sgmlDecl+=Q;continue;case j.DOCTYPE:">"===Q?(E.state=j.TEXT,xe(E,"ondoctype",E.doctype),E.doctype=!0):(E.doctype+=Q,"["===Q?E.state=j.DOCTYPE_DTD:b(Q)&&(E.state=j.DOCTYPE_QUOTED,E.q=Q));continue;case j.DOCTYPE_QUOTED:E.doctype+=Q,Q===E.q&&(E.q="",E.state=j.DOCTYPE);continue;case j.DOCTYPE_DTD:E.doctype+=Q,"]"===Q?E.state=j.DOCTYPE:b(Q)&&(E.state=j.DOCTYPE_DTD_QUOTED,E.q=Q);continue;case j.DOCTYPE_DTD_QUOTED:E.doctype+=Q,Q===E.q&&(E.state=j.DOCTYPE_DTD,E.q="");continue;case j.COMMENT:"-"===Q?E.state=j.COMMENT_ENDING:E.comment+=Q;continue;case j.COMMENT_ENDING:"-"===Q?(E.state=j.COMMENT_ENDED,E.comment=Ge(E.opt,E.comment),E.comment&&xe(E,"oncomment",E.comment),E.comment=""):(E.comment+="-"+Q,E.state=j.COMMENT);continue;case j.COMMENT_ENDED:">"!==Q?(Ae(E,"Malformed comment"),E.comment+="--"+Q,E.state=j.COMMENT):E.state=j.TEXT;continue;case j.CDATA:"]"===Q?E.state=j.CDATA_ENDING:E.cdata+=Q;continue;case j.CDATA_ENDING:"]"===Q?E.state=j.CDATA_ENDING_2:(E.cdata+="]"+Q,E.state=j.CDATA);continue;case j.CDATA_ENDING_2:">"===Q?(E.cdata&&xe(E,"oncdata",E.cdata),xe(E,"onclosecdata"),E.cdata="",E.state=j.TEXT):"]"===Q?E.cdata+="]":(E.cdata+="]]"+Q,E.state=j.CDATA);continue;case j.PROC_INST:"?"===Q?E.state=j.PROC_INST_ENDING:L(Q)?E.state=j.PROC_INST_BODY:E.procInstName+=Q;continue;case j.PROC_INST_BODY:if(!E.procInstBody&&L(Q))continue;"?"===Q?E.state=j.PROC_INST_ENDING:E.procInstBody+=Q;continue;case j.PROC_INST_ENDING:">"===Q?(xe(E,"onprocessinginstruction",{name:E.procInstName,body:E.procInstBody}),E.procInstName=E.procInstBody="",E.state=j.TEXT):(E.procInstBody+="?"+Q,E.state=j.PROC_INST_BODY);continue;case j.OPEN_TAG:T(q,Q)?E.tagName+=Q:(ze(E),">"===Q?ue(E):"/"===Q?E.state=j.OPEN_TAG_SLASH:(L(Q)||Ae(E,"Invalid character in tag name"),E.state=j.ATTRIB));continue;case j.OPEN_TAG_SLASH:">"===Q?(ue(E,!0),Ce(E)):(Ae(E,"Forward-slash in opening tag not followed by >"),E.state=j.ATTRIB);continue;case j.ATTRIB:if(L(Q))continue;">"===Q?ue(E):"/"===Q?E.state=j.OPEN_TAG_SLASH:T(X,Q)?(E.attribName=Q,E.attribValue="",E.state=j.ATTRIB_NAME):Ae(E,"Invalid attribute name");continue;case j.ATTRIB_NAME:"="===Q?E.state=j.ATTRIB_VALUE:">"===Q?(Ae(E,"Attribute without value"),E.attribValue=E.attribName,Ue(E),ue(E)):L(Q)?E.state=j.ATTRIB_NAME_SAW_WHITE:T(q,Q)?E.attribName+=Q:Ae(E,"Invalid attribute name");continue;case j.ATTRIB_NAME_SAW_WHITE:if("="===Q)E.state=j.ATTRIB_VALUE;else{if(L(Q))continue;Ae(E,"Attribute without value"),E.tag.attributes[E.attribName]="",E.attribValue="",xe(E,"onattribute",{name:E.attribName,value:""}),E.attribName="",">"===Q?ue(E):T(X,Q)?(E.attribName=Q,E.state=j.ATTRIB_NAME):(Ae(E,"Invalid attribute name"),E.state=j.ATTRIB)}continue;case j.ATTRIB_VALUE:if(L(Q))continue;b(Q)?(E.q=Q,E.state=j.ATTRIB_VALUE_QUOTED):(Ae(E,"Unquoted attribute value"),E.state=j.ATTRIB_VALUE_UNQUOTED,E.attribValue=Q);continue;case j.ATTRIB_VALUE_QUOTED:if(Q!==E.q){"&"===Q?E.state=j.ATTRIB_VALUE_ENTITY_Q:E.attribValue+=Q;continue}Ue(E),E.q="",E.state=j.ATTRIB_VALUE_CLOSED;continue;case j.ATTRIB_VALUE_CLOSED:L(Q)?E.state=j.ATTRIB:">"===Q?ue(E):"/"===Q?E.state=j.OPEN_TAG_SLASH:T(X,Q)?(Ae(E,"No whitespace between attributes"),E.attribName=Q,E.attribValue="",E.state=j.ATTRIB_NAME):Ae(E,"Invalid attribute name");continue;case j.ATTRIB_VALUE_UNQUOTED:if(!I(Q)){"&"===Q?E.state=j.ATTRIB_VALUE_ENTITY_U:E.attribValue+=Q;continue}Ue(E),">"===Q?ue(E):E.state=j.ATTRIB;continue;case j.CLOSE_TAG:if(E.tagName)">"===Q?Ce(E):T(q,Q)?E.tagName+=Q:E.script?(E.script+="</"+E.tagName,E.tagName="",E.state=j.SCRIPT):(L(Q)||Ae(E,"Invalid tagname in closing tag"),E.state=j.CLOSE_TAG_SAW_WHITE);else{if(L(Q))continue;ce(X,Q)?E.script?(E.script+="</"+Q,E.state=j.SCRIPT):Ae(E,"Invalid tagname in closing tag."):E.tagName=Q}continue;case j.CLOSE_TAG_SAW_WHITE:if(L(Q))continue;">"===Q?Ce(E):Ae(E,"Invalid characters in closing tag");continue;case j.TEXT_ENTITY:case j.ATTRIB_VALUE_ENTITY_Q:case j.ATTRIB_VALUE_ENTITY_U:var de,ne;switch(E.state){case j.TEXT_ENTITY:de=j.TEXT,ne="textNode";break;case j.ATTRIB_VALUE_ENTITY_Q:de=j.ATTRIB_VALUE_QUOTED,ne="attribValue";break;case j.ATTRIB_VALUE_ENTITY_U:de=j.ATTRIB_VALUE_UNQUOTED,ne="attribValue"}if(";"===Q)if(E.opt.unparsedEntities){var U=at(E);E.entity="",E.state=de,E.write(U)}else E[ne]+=at(E),E.entity="",E.state=de;else T(E.entity.length?W:ee,Q)?E.entity+=Q:(Ae(E,"Invalid character in entity name"),E[ne]+="&"+E.entity+Q,E.entity="",E.state=de);continue;default:throw new Error(E,"Unknown state: "+E.state)}return E.position>=E.bufferCheckPosition&&function H(R){for(var E=Math.max(Z.MAX_BUFFER_LENGTH,10),ie=0,Q=0,He=A.length;Q<He;Q++){var Qe=R[A[Q]].length;if(Qe>E)switch(A[Q]){case"textNode":Ne(R);break;case"cdata":xe(R,"oncdata",R.cdata),R.cdata="";break;case"script":xe(R,"onscript",R.script),R.script="";break;default:it(R,"Max buffer length exceeded: "+A[Q])}ie=Math.max(ie,Qe)}R.bufferCheckPosition=Z.MAX_BUFFER_LENGTH-ie+R.position}(E),E},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function _(R){Ne(R),""!==R.cdata&&(xe(R,"oncdata",R.cdata),R.cdata=""),""!==R.script&&(xe(R,"onscript",R.script),R.script="")}(this)}};try{x=S(1793).Stream}catch{x=function(){}}x||(x=function(){});var N=Z.EVENTS.filter(function(R){return"error"!==R&&"end"!==R});function O(R,E){if(!(this instanceof O))return new O(R,E);x.apply(this),this._parser=new $(R,E),this.writable=!0,this.readable=!0;var ie=this;this._parser.onend=function(){ie.emit("end")},this._parser.onerror=function(Q){ie.emit("error",Q),ie._parser.error=null},this._decoder=null,N.forEach(function(Q){Object.defineProperty(ie,"on"+Q,{get:function(){return ie._parser["on"+Q]},set:function(He){if(!He)return ie.removeAllListeners(Q),ie._parser["on"+Q]=He,He;ie.on(Q,He)},enumerable:!0,configurable:!1})})}(O.prototype=Object.create(x.prototype,{constructor:{value:O}})).write=function(R){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(R)){if(!this._decoder){var E=S(2024).StringDecoder;this._decoder=new E("utf8")}R=this._decoder.write(R)}return this._parser.write(R.toString()),this.emit("data",R),!0},O.prototype.end=function(R){return R&&R.length&&this.write(R),this._parser.end(),!0},O.prototype.on=function(R,E){var ie=this;return!ie._parser["on"+R]&&-1!==N.indexOf(R)&&(ie._parser["on"+R]=function(){var Q=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);Q.splice(0,0,R),ie.emit.apply(ie,Q)}),x.prototype.on.call(ie,R,E)};var k="[CDATA[",oe="DOCTYPE",w="http://www.w3.org/XML/1998/namespace",F="http://www.w3.org/2000/xmlns/",re={xml:w,xmlns:F},X=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,ee=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,W=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function L(R){return" "===R||"\n"===R||"\r"===R||"\t"===R}function b(R){return'"'===R||"'"===R}function I(R){return">"===R||L(R)}function T(R,E){return R.test(E)}function ce(R,E){return!T(R,E)}var R,E,ie,j=0;for(var Ie in Z.STATE={BEGIN:j++,BEGIN_WHITESPACE:j++,TEXT:j++,TEXT_ENTITY:j++,OPEN_WAKA:j++,SGML_DECL:j++,SGML_DECL_QUOTED:j++,DOCTYPE:j++,DOCTYPE_QUOTED:j++,DOCTYPE_DTD:j++,DOCTYPE_DTD_QUOTED:j++,COMMENT_STARTING:j++,COMMENT:j++,COMMENT_ENDING:j++,COMMENT_ENDED:j++,CDATA:j++,CDATA_ENDING:j++,CDATA_ENDING_2:j++,PROC_INST:j++,PROC_INST_BODY:j++,PROC_INST_ENDING:j++,OPEN_TAG:j++,OPEN_TAG_SLASH:j++,ATTRIB:j++,ATTRIB_NAME:j++,ATTRIB_NAME_SAW_WHITE:j++,ATTRIB_VALUE:j++,ATTRIB_VALUE_QUOTED:j++,ATTRIB_VALUE_CLOSED:j++,ATTRIB_VALUE_UNQUOTED:j++,ATTRIB_VALUE_ENTITY_Q:j++,ATTRIB_VALUE_ENTITY_U:j++,CLOSE_TAG:j++,CLOSE_TAG_SAW_WHITE:j++,SCRIPT:j++,SCRIPT_ENDING:j++},Z.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},Z.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(Z.ENTITIES).forEach(function(R){var E=Z.ENTITIES[R],ie="number"==typeof E?String.fromCharCode(E):E;Z.ENTITIES[R]=ie}),Z.STATE)Z.STATE[Z.STATE[Ie]]=Ie;function ae(R,E,ie){R[E]&&R[E](ie)}function xe(R,E,ie){R.textNode&&Ne(R),ae(R,E,ie)}function Ne(R){R.textNode=Ge(R.opt,R.textNode),R.textNode&&ae(R,"ontext",R.textNode),R.textNode=""}function Ge(R,E){return R.trim&&(E=E.trim()),R.normalize&&(E=E.replace(/\s+/g," ")),E}function it(R,E){return Ne(R),R.trackPosition&&(E+="\nLine: "+R.line+"\nColumn: "+R.column+"\nChar: "+R.c),E=new Error(E),R.error=E,ae(R,"onerror",E),R}function Ke(R){return R.sawRoot&&!R.closedRoot&&Ae(R,"Unclosed root tag"),R.state!==j.BEGIN&&R.state!==j.BEGIN_WHITESPACE&&R.state!==j.TEXT&&it(R,"Unexpected end"),Ne(R),R.c="",R.closed=!0,ae(R,"onend"),$.call(R,R.strict,R.opt),R}function Ae(R,E){if("object"!=typeof R||!(R instanceof $))throw new Error("bad call to strictFail");R.strict&&it(R,E)}function ze(R){R.strict||(R.tagName=R.tagName[R.looseCase]());var E=R.tags[R.tags.length-1]||R,ie=R.tag={name:R.tagName,attributes:{}};R.opt.xmlns&&(ie.ns=E.ns),R.attribList.length=0,xe(R,"onopentagstart",ie)}function Se(R,E){var Q=R.indexOf(":")<0?["",R]:R.split(":"),He=Q[0],Qe=Q[1];return E&&"xmlns"===R&&(He="xmlns",Qe=""),{prefix:He,local:Qe}}function Ue(R){if(R.strict||(R.attribName=R.attribName[R.looseCase]()),-1!==R.attribList.indexOf(R.attribName)||R.tag.attributes.hasOwnProperty(R.attribName))R.attribName=R.attribValue="";else{if(R.opt.xmlns){var E=Se(R.attribName,!0),Q=E.local;if("xmlns"===E.prefix)if("xml"===Q&&R.attribValue!==w)Ae(R,"xml: prefix must be bound to "+w+"\nActual: "+R.attribValue);else if("xmlns"===Q&&R.attribValue!==F)Ae(R,"xmlns: prefix must be bound to "+F+"\nActual: "+R.attribValue);else{var He=R.tag,Qe=R.tags[R.tags.length-1]||R;He.ns===Qe.ns&&(He.ns=Object.create(Qe.ns)),He.ns[Q]=R.attribValue}R.attribList.push([R.attribName,R.attribValue])}else R.tag.attributes[R.attribName]=R.attribValue,xe(R,"onattribute",{name:R.attribName,value:R.attribValue});R.attribName=R.attribValue=""}}function ue(R,E){if(R.opt.xmlns){var ie=R.tag,Q=Se(R.tagName);ie.prefix=Q.prefix,ie.local=Q.local,ie.uri=ie.ns[Q.prefix]||"",ie.prefix&&!ie.uri&&(Ae(R,"Unbound namespace prefix: "+JSON.stringify(R.tagName)),ie.uri=Q.prefix),ie.ns&&(R.tags[R.tags.length-1]||R).ns!==ie.ns&&Object.keys(ie.ns).forEach(function(ut){xe(R,"onopennamespace",{prefix:ut,uri:ie.ns[ut]})});for(var Qe=0,de=R.attribList.length;Qe<de;Qe++){var ne=R.attribList[Qe],U=ne[0],M=ne[1],P=Se(U,!0),he=P.prefix,Ee=""===he?"":ie.ns[he]||"",Oe={name:U,value:M,prefix:he,local:P.local,uri:Ee};he&&"xmlns"!==he&&!Ee&&(Ae(R,"Unbound namespace prefix: "+JSON.stringify(he)),Oe.uri=he),R.tag.attributes[U]=Oe,xe(R,"onattribute",Oe)}R.attribList.length=0}R.tag.isSelfClosing=!!E,R.sawRoot=!0,R.tags.push(R.tag),xe(R,"onopentag",R.tag),E||(R.state=R.noscript||"script"!==R.tagName.toLowerCase()?j.TEXT:j.SCRIPT,R.tag=null,R.tagName=""),R.attribName=R.attribValue="",R.attribList.length=0}function Ce(R){if(!R.tagName)return Ae(R,"Weird empty close tag."),R.textNode+="</>",void(R.state=j.TEXT);if(R.script){if("script"!==R.tagName)return R.script+="</"+R.tagName+">",R.tagName="",void(R.state=j.SCRIPT);xe(R,"onscript",R.script),R.script=""}var E=R.tags.length,ie=R.tagName;R.strict||(ie=ie[R.looseCase]());for(var Q=ie;E--&&R.tags[E].name!==Q;)Ae(R,"Unexpected close tag");if(E<0)return Ae(R,"Unmatched closing tag: "+R.tagName),R.textNode+="</"+R.tagName+">",void(R.state=j.TEXT);R.tagName=ie;for(var Qe=R.tags.length;Qe-- >E;){var de=R.tag=R.tags.pop();R.tagName=R.tag.name,xe(R,"onclosetag",R.tagName);var ne={};for(var U in de.ns)ne[U]=de.ns[U];R.opt.xmlns&&de.ns!==(R.tags[R.tags.length-1]||R).ns&&Object.keys(de.ns).forEach(function(P){xe(R,"onclosenamespace",{prefix:P,uri:de.ns[P]})})}0===E&&(R.closedRoot=!0),R.tagName=R.attribValue=R.attribName="",R.attribList.length=0,R.state=j.TEXT}function at(R){var Q,E=R.entity,ie=E.toLowerCase(),He="";return R.ENTITIES[E]?R.ENTITIES[E]:R.ENTITIES[ie]?R.ENTITIES[ie]:("#"===(E=ie).charAt(0)&&("x"===E.charAt(1)?(E=E.slice(2),He=(Q=parseInt(E,16)).toString(16)):(E=E.slice(1),He=(Q=parseInt(E,10)).toString(10))),E=E.replace(/^0+/,""),isNaN(Q)||He.toLowerCase()!==E?(Ae(R,"Invalid character entity"),"&"+R.entity+";"):String.fromCodePoint(Q))}function vt(R,E){"<"===E?(R.state=j.OPEN_WAKA,R.startTagPosition=R.position):L(E)||(Ae(R,"Non-whitespace before first tag."),R.textNode=E,R.state=j.TEXT)}function Je(R,E){var ie="";return E<R.length&&(ie=R.charAt(E)),ie}j=Z.STATE,String.fromCodePoint||(R=String.fromCharCode,E=Math.floor,ie=function(){var He=[],ne=-1,U=arguments.length;if(!U)return"";for(var M="";++ne<U;){var P=Number(arguments[ne]);if(!isFinite(P)||P<0||P>1114111||E(P)!==P)throw RangeError("Invalid code point: "+P);P<=65535?He.push(P):He.push(55296+((P-=65536)>>10),P%1024+56320),(ne+1===U||He.length>16384)&&(M+=R.apply(null,He),He.length=0)}return M},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ie,configurable:!0,writable:!0}):String.fromCodePoint=ie)}(_e)},8280:function(){!function(Ve,_e){"use strict";if(!Ve.setImmediate){var H,S=1,Z={},A=!1,$=Ve.document,re=Object.getPrototypeOf&&Object.getPrototypeOf(Ve);re=re&&re.setTimeout?re:Ve,"[object process]"==={}.toString.call(Ve.process)?function G(){H=function(X){process.nextTick(function(){N(X)})}}():function O(){if(Ve.postMessage&&!Ve.importScripts){var X=!0,q=Ve.onmessage;return Ve.onmessage=function(){X=!1},Ve.postMessage("","*"),Ve.onmessage=q,X}}()?function k(){var X="setImmediate$"+Math.random()+"$",q=function(ee){ee.source===Ve&&"string"==typeof ee.data&&0===ee.data.indexOf(X)&&N(+ee.data.slice(X.length))};Ve.addEventListener?Ve.addEventListener("message",q,!1):Ve.attachEvent("onmessage",q),H=function(ee){Ve.postMessage(X+ee,"*")}}():Ve.MessageChannel?function oe(){var X=new MessageChannel;X.port1.onmessage=function(q){N(q.data)},H=function(q){X.port2.postMessage(q)}}():$&&"onreadystatechange"in $.createElement("script")?function w(){var X=$.documentElement;H=function(q){var ee=$.createElement("script");ee.onreadystatechange=function(){N(q),ee.onreadystatechange=null,X.removeChild(ee),ee=null},X.appendChild(ee)}}():function F(){H=function(X){setTimeout(N,0,X)}}(),re.setImmediate=function Y(X){"function"!=typeof X&&(X=new Function(""+X));for(var q=new Array(arguments.length-1),ee=0;ee<q.length;ee++)q[ee]=arguments[ee+1];return Z[S]={callback:X,args:q},H(S),S++},re.clearImmediate=_}function _(X){delete Z[X]}function N(X){if(A)setTimeout(N,0,X);else{var q=Z[X];if(q){A=!0;try{!function x(X){var q=X.callback,ee=X.args;switch(ee.length){case 0:q();break;case 1:q(ee[0]);break;case 2:q(ee[0],ee[1]);break;case 3:q(ee[0],ee[1],ee[2]);break;default:q.apply(undefined,ee)}}(q)}finally{_(X),A=!1}}}}}(typeof self>"u"?typeof global>"u"?this:global:self)},1793:(Ve,_e,S)=>{Ve.exports=$;var Z=S(2016).EventEmitter;function $(){Z.call(this)}S(6698)($,Z),$.Readable=S(842),$.Writable=S(7597),$.Duplex=S(2232),$.Transform=S(555),$.PassThrough=S(8226),$.finished=S(1227),$.pipeline=S(2345),$.Stream=$,$.prototype.pipe=function(H,Y){var _=this;function x(F){H.writable&&!1===H.write(F)&&_.pause&&_.pause()}function N(){_.readable&&_.resume&&_.resume()}_.on("data",x),H.on("drain",N),!H._isStdio&&(!Y||!1!==Y.end)&&(_.on("end",O),_.on("close",k));var G=!1;function O(){G||(G=!0,H.end())}function k(){G||(G=!0,"function"==typeof H.destroy&&H.destroy())}function oe(F){if(w(),0===Z.listenerCount(this,"error"))throw F}function w(){_.removeListener("data",x),H.removeListener("drain",N),_.removeListener("end",O),_.removeListener("close",k),_.removeListener("error",oe),H.removeListener("error",oe),_.removeListener("end",w),_.removeListener("close",w),H.removeListener("close",w)}return _.on("error",oe),H.on("error",oe),_.on("end",w),_.on("close",w),H.on("close",w),H.emit("pipe",_),H}},9555:Ve=>{"use strict";var S={};function Z(_,x,N){N||(N=Error);var O=function(k){function oe(w,F,re){return k.call(this,function G(k,oe,w){return"string"==typeof x?x:x(k,oe,w)}(w,F,re))||this}return function _e(_,x){_.prototype=Object.create(x.prototype),_.prototype.constructor=_,_.__proto__=x}(oe,k),oe}(N);O.prototype.name=N.name,O.prototype.code=_,S[_]=O}function A(_,x){if(Array.isArray(_)){var N=_.length;return _=_.map(function(G){return String(G)}),N>2?"one of ".concat(x," ").concat(_.slice(0,N-1).join(", "),", or ")+_[N-1]:2===N?"one of ".concat(x," ").concat(_[0]," or ").concat(_[1]):"of ".concat(x," ").concat(_[0])}return"of ".concat(x," ").concat(String(_))}Z("ERR_INVALID_OPT_VALUE",function(_,x){return'The value "'+x+'" is invalid for option "'+_+'"'},TypeError),Z("ERR_INVALID_ARG_TYPE",function(_,x,N){var G,O;if("string"==typeof x&&function $(_,x,N){return _.substr(!N||N<0?0:+N,x.length)===x}(x,"not ")?(G="must not be",x=x.replace(/^not /,"")):G="must be",function H(_,x,N){return(void 0===N||N>_.length)&&(N=_.length),_.substring(N-x.length,N)===x}(_," argument"))O="The ".concat(_," ").concat(G," ").concat(A(x,"type"));else{var k=function Y(_,x,N){return"number"!=typeof N&&(N=0),!(N+x.length>_.length)&&-1!==_.indexOf(x,N)}(_,".")?"property":"argument";O='The "'.concat(_,'" ').concat(k," ").concat(G," ").concat(A(x,"type"))}return O+". Received type ".concat(typeof N)},TypeError),Z("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),Z("ERR_METHOD_NOT_IMPLEMENTED",function(_){return"The "+_+" method is not implemented"}),Z("ERR_STREAM_PREMATURE_CLOSE","Premature close"),Z("ERR_STREAM_DESTROYED",function(_){return"Cannot call "+_+" after a stream was destroyed"}),Z("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),Z("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),Z("ERR_STREAM_WRITE_AFTER_END","write after end"),Z("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),Z("ERR_UNKNOWN_ENCODING",function(_){return"Unknown encoding: "+_},TypeError),Z("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ve.exports.q=S},2232:(Ve,_e,S)=>{"use strict";var Z=Object.keys||function(O){var k=[];for(var oe in O)k.push(oe);return k};Ve.exports=x;var A=S(842),$=S(7597);S(6698)(x,A);for(var H=Z($.prototype),Y=0;Y<H.length;Y++){var _=H[Y];x.prototype[_]||(x.prototype[_]=$.prototype[_])}function x(O){if(!(this instanceof x))return new x(O);A.call(this,O),$.call(this,O),this.allowHalfOpen=!0,O&&(!1===O.readable&&(this.readable=!1),!1===O.writable&&(this.writable=!1),!1===O.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",N)))}function N(){this._writableState.ended||process.nextTick(G,this)}function G(O){O.end()}Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(k){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=k,this._writableState.destroyed=k)}})},8226:(Ve,_e,S)=>{"use strict";Ve.exports=A;var Z=S(555);function A($){if(!(this instanceof A))return new A($);Z.call(this,$)}S(6698)(A,Z),A.prototype._transform=function($,H,Y){Y(null,$)}},842:(Ve,_e,S)=>{"use strict";var Z;Ve.exports=ae,ae.ReadableState=Ie,S(2016);var O,$=function(ne,U){return ne.listeners(U).length},H=S(3951),Y=S(9007).Buffer,_=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},G=S(964);O=G&&G.debuglog?G.debuglog("stream"):function(){};var L,b,I,k=S(2998),oe=S(3992),F=S(4962).getHighWaterMark,re=S(9555).q,X=re.ERR_INVALID_ARG_TYPE,q=re.ERR_STREAM_PUSH_AFTER_EOF,ee=re.ERR_METHOD_NOT_IMPLEMENTED,W=re.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;S(6698)(ae,H);var T=oe.errorOrDestroy,ce=["error","close","destroy","pause","resume"];function Ie(de,ne,U){Z=Z||S(2232),"boolean"!=typeof U&&(U=ne instanceof Z),this.objectMode=!!(de=de||{}).objectMode,U&&(this.objectMode=this.objectMode||!!de.readableObjectMode),this.highWaterMark=F(this,de,"readableHighWaterMark",U),this.buffer=new k,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==de.emitClose,this.autoDestroy=!!de.autoDestroy,this.destroyed=!1,this.defaultEncoding=de.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,de.encoding&&(L||(L=S(2024).StringDecoder),this.decoder=new L(de.encoding),this.encoding=de.encoding)}function ae(de){if(Z=Z||S(2232),!(this instanceof ae))return new ae(de);this._readableState=new Ie(de,this,this instanceof Z),this.readable=!0,de&&("function"==typeof de.read&&(this._read=de.read),"function"==typeof de.destroy&&(this._destroy=de.destroy)),H.call(this)}function xe(de,ne,U,M,P){O("readableAddChunk",ne);var Xe,he=de._readableState;if(null===ne)he.reading=!1,function ze(de,ne){if(O("onEofChunk"),!ne.ended){if(ne.decoder){var U=ne.decoder.end();U&&U.length&&(ne.buffer.push(U),ne.length+=ne.objectMode?1:U.length)}ne.ended=!0,ne.sync?Se(de):(ne.needReadable=!1,ne.emittedReadable||(ne.emittedReadable=!0,Ue(de)))}}(de,he);else if(P||(Xe=function Ge(de,ne){var U;return!function N(de){return Y.isBuffer(de)||de instanceof _}(ne)&&"string"!=typeof ne&&void 0!==ne&&!de.objectMode&&(U=new X("chunk",["string","Buffer","Uint8Array"],ne)),U}(he,ne)),Xe)T(de,Xe);else if(he.objectMode||ne&&ne.length>0)if("string"!=typeof ne&&!he.objectMode&&Object.getPrototypeOf(ne)!==Y.prototype&&(ne=function x(de){return Y.from(de)}(ne)),M)he.endEmitted?T(de,new W):Ne(de,he,ne,!0);else if(he.ended)T(de,new q);else{if(he.destroyed)return!1;he.reading=!1,he.decoder&&!U?(ne=he.decoder.write(ne),he.objectMode||0!==ne.length?Ne(de,he,ne,!1):ue(de,he)):Ne(de,he,ne,!1)}else M||(he.reading=!1,ue(de,he));return!he.ended&&(he.length<he.highWaterMark||0===he.length)}function Ne(de,ne,U,M){ne.flowing&&0===ne.length&&!ne.sync?(ne.awaitDrain=0,de.emit("data",U)):(ne.length+=ne.objectMode?1:U.length,M?ne.buffer.unshift(U):ne.buffer.push(U),ne.needReadable&&Se(de)),ue(de,ne)}Object.defineProperty(ae.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(ne){this._readableState&&(this._readableState.destroyed=ne)}}),ae.prototype.destroy=oe.destroy,ae.prototype._undestroy=oe.undestroy,ae.prototype._destroy=function(de,ne){ne(de)},ae.prototype.push=function(de,ne){var M,U=this._readableState;return U.objectMode?M=!0:"string"==typeof de&&((ne=ne||U.defaultEncoding)!==U.encoding&&(de=Y.from(de,ne),ne=""),M=!0),xe(this,de,ne,!1,M)},ae.prototype.unshift=function(de){return xe(this,de,null,!0,!1)},ae.prototype.isPaused=function(){return!1===this._readableState.flowing},ae.prototype.setEncoding=function(de){L||(L=S(2024).StringDecoder);var ne=new L(de);this._readableState.decoder=ne,this._readableState.encoding=this._readableState.decoder.encoding;for(var U=this._readableState.buffer.head,M="";null!==U;)M+=ne.write(U.data),U=U.next;return this._readableState.buffer.clear(),""!==M&&this._readableState.buffer.push(M),this._readableState.length=M.length,this};var it=1073741824;function Ae(de,ne){return de<=0||0===ne.length&&ne.ended?0:ne.objectMode?1:de!=de?ne.flowing&&ne.length?ne.buffer.head.data.length:ne.length:(de>ne.highWaterMark&&(ne.highWaterMark=function Ke(de){return de>=it?de=it:(de--,de|=de>>>1,de|=de>>>2,de|=de>>>4,de|=de>>>8,de|=de>>>16,de++),de}(de)),de<=ne.length?de:ne.ended?ne.length:(ne.needReadable=!0,0))}function Se(de){var ne=de._readableState;O("emitReadable",ne.needReadable,ne.emittedReadable),ne.needReadable=!1,ne.emittedReadable||(O("emitReadable",ne.flowing),ne.emittedReadable=!0,process.nextTick(Ue,de))}function Ue(de){var ne=de._readableState;O("emitReadable_",ne.destroyed,ne.length,ne.ended),!ne.destroyed&&(ne.length||ne.ended)&&(de.emit("readable"),ne.emittedReadable=!1),ne.needReadable=!ne.flowing&&!ne.ended&&ne.length<=ne.highWaterMark,E(de)}function ue(de,ne){ne.readingMore||(ne.readingMore=!0,process.nextTick(Ce,de,ne))}function Ce(de,ne){for(;!ne.reading&&!ne.ended&&(ne.length<ne.highWaterMark||ne.flowing&&0===ne.length);){var U=ne.length;if(O("maybeReadMore read 0"),de.read(0),U===ne.length)break}ne.readingMore=!1}function vt(de){var ne=de._readableState;ne.readableListening=de.listenerCount("readable")>0,ne.resumeScheduled&&!ne.paused?ne.flowing=!0:de.listenerCount("data")>0&&de.resume()}function Je(de){O("readable nexttick read 0"),de.read(0)}function R(de,ne){O("resume",ne.reading),ne.reading||de.read(0),ne.resumeScheduled=!1,de.emit("resume"),E(de),ne.flowing&&!ne.reading&&de.read(0)}function E(de){var ne=de._readableState;for(O("flow",ne.flowing);ne.flowing&&null!==de.read(););}function ie(de,ne){return 0===ne.length?null:(ne.objectMode?U=ne.buffer.shift():!de||de>=ne.length?(U=ne.decoder?ne.buffer.join(""):1===ne.buffer.length?ne.buffer.first():ne.buffer.concat(ne.length),ne.buffer.clear()):U=ne.buffer.consume(de,ne.decoder),U);var U}function Q(de){var ne=de._readableState;O("endReadable",ne.endEmitted),ne.endEmitted||(ne.ended=!0,process.nextTick(He,ne,de))}function He(de,ne){if(O("endReadableNT",de.endEmitted,de.length),!de.endEmitted&&0===de.length&&(de.endEmitted=!0,ne.readable=!1,ne.emit("end"),de.autoDestroy)){var U=ne._writableState;(!U||U.autoDestroy&&U.finished)&&ne.destroy()}}function Qe(de,ne){for(var U=0,M=de.length;U<M;U++)if(de[U]===ne)return U;return-1}ae.prototype.read=function(de){O("read",de),de=parseInt(de,10);var ne=this._readableState,U=de;if(0!==de&&(ne.emittedReadable=!1),0===de&&ne.needReadable&&((0!==ne.highWaterMark?ne.length>=ne.highWaterMark:ne.length>0)||ne.ended))return O("read: emitReadable",ne.length,ne.ended),0===ne.length&&ne.ended?Q(this):Se(this),null;if(0===(de=Ae(de,ne))&&ne.ended)return 0===ne.length&&Q(this),null;var P,M=ne.needReadable;return O("need readable",M),(0===ne.length||ne.length-de<ne.highWaterMark)&&O("length less than watermark",M=!0),ne.ended||ne.reading?O("reading or ended",M=!1):M&&(O("do read"),ne.reading=!0,ne.sync=!0,0===ne.length&&(ne.needReadable=!0),this._read(ne.highWaterMark),ne.sync=!1,ne.reading||(de=Ae(U,ne))),null===(P=de>0?ie(de,ne):null)?(ne.needReadable=ne.length<=ne.highWaterMark,de=0):(ne.length-=de,ne.awaitDrain=0),0===ne.length&&(ne.ended||(ne.needReadable=!0),U!==de&&ne.ended&&Q(this)),null!==P&&this.emit("data",P),P},ae.prototype._read=function(de){T(this,new ee("_read()"))},ae.prototype.pipe=function(de,ne){var U=this,M=this._readableState;switch(M.pipesCount){case 0:M.pipes=de;break;case 1:M.pipes=[M.pipes,de];break;default:M.pipes.push(de)}M.pipesCount+=1,O("pipe count=%d opts=%j",M.pipesCount,ne);var he=ne&&!1===ne.end||de===process.stdout||de===process.stderr?V:Ee;function Ee(){O("onend"),de.end()}M.endEmitted?process.nextTick(he):U.once("end",he),de.on("unpipe",function Xe(te,Le){O("onunpipe"),te===U&&Le&&!1===Le.hasUnpiped&&(Le.hasUnpiped=!0,function St(){O("cleanup"),de.removeListener("close",an),de.removeListener("finish",me),de.removeListener("drain",Oe),de.removeListener("error",mt),de.removeListener("unpipe",Xe),U.removeListener("end",Ee),U.removeListener("end",V),U.removeListener("data",Ut),ut=!0,M.awaitDrain&&(!de._writableState||de._writableState.needDrain)&&Oe()}())});var Oe=function at(de){return function(){var U=de._readableState;O("pipeOnDrain",U.awaitDrain),U.awaitDrain&&U.awaitDrain--,0===U.awaitDrain&&$(de,"data")&&(U.flowing=!0,E(de))}}(U);de.on("drain",Oe);var ut=!1;function Ut(te){O("ondata");var Le=de.write(te);O("dest.write",Le),!1===Le&&((1===M.pipesCount&&M.pipes===de||M.pipesCount>1&&-1!==Qe(M.pipes,de))&&!ut&&(O("false write response, pause",M.awaitDrain),M.awaitDrain++),U.pause())}function mt(te){O("onerror",te),V(),de.removeListener("error",mt),0===$(de,"error")&&T(de,te)}function an(){de.removeListener("finish",me),V()}function me(){O("onfinish"),de.removeListener("close",an),V()}function V(){O("unpipe"),U.unpipe(de)}return U.on("data",Ut),function j(de,ne,U){if("function"==typeof de.prependListener)return de.prependListener(ne,U);de._events&&de._events[ne]?Array.isArray(de._events[ne])?de._events[ne].unshift(U):de._events[ne]=[U,de._events[ne]]:de.on(ne,U)}(de,"error",mt),de.once("close",an),de.once("finish",me),de.emit("pipe",U),M.flowing||(O("pipe resume"),U.resume()),de},ae.prototype.unpipe=function(de){var ne=this._readableState,U={hasUnpiped:!1};if(0===ne.pipesCount)return this;if(1===ne.pipesCount)return de&&de!==ne.pipes||(de||(de=ne.pipes),ne.pipes=null,ne.pipesCount=0,ne.flowing=!1,de&&de.emit("unpipe",this,U)),this;if(!de){var M=ne.pipes,P=ne.pipesCount;ne.pipes=null,ne.pipesCount=0,ne.flowing=!1;for(var he=0;he<P;he++)M[he].emit("unpipe",this,{hasUnpiped:!1});return this}var Xe=Qe(ne.pipes,de);return-1===Xe||(ne.pipes.splice(Xe,1),ne.pipesCount-=1,1===ne.pipesCount&&(ne.pipes=ne.pipes[0]),de.emit("unpipe",this,U)),this},ae.prototype.addListener=ae.prototype.on=function(de,ne){var U=H.prototype.on.call(this,de,ne),M=this._readableState;return"data"===de?(M.readableListening=this.listenerCount("readable")>0,!1!==M.flowing&&this.resume()):"readable"===de&&!M.endEmitted&&!M.readableListening&&(M.readableListening=M.needReadable=!0,M.flowing=!1,M.emittedReadable=!1,O("on readable",M.length,M.reading),M.length?Se(this):M.reading||process.nextTick(Je,this)),U},ae.prototype.removeListener=function(de,ne){var U=H.prototype.removeListener.call(this,de,ne);return"readable"===de&&process.nextTick(vt,this),U},ae.prototype.removeAllListeners=function(de){var ne=H.prototype.removeAllListeners.apply(this,arguments);return("readable"===de||void 0===de)&&process.nextTick(vt,this),ne},ae.prototype.resume=function(){var de=this._readableState;return de.flowing||(O("resume"),de.flowing=!de.readableListening,function pe(de,ne){ne.resumeScheduled||(ne.resumeScheduled=!0,process.nextTick(R,de,ne))}(this,de)),de.paused=!1,this},ae.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},ae.prototype.wrap=function(de){var ne=this,U=this._readableState,M=!1;for(var P in de.on("end",function(){if(O("wrapped end"),U.decoder&&!U.ended){var Xe=U.decoder.end();Xe&&Xe.length&&ne.push(Xe)}ne.push(null)}),de.on("data",function(Xe){O("wrapped data"),U.decoder&&(Xe=U.decoder.write(Xe)),U.objectMode&&null==Xe||!(U.objectMode||Xe&&Xe.length)||ne.push(Xe)||(M=!0,de.pause())}),de)void 0===this[P]&&"function"==typeof de[P]&&(this[P]=function(Ee){return function(){return de[Ee].apply(de,arguments)}}(P));for(var he=0;he<ce.length;he++)de.on(ce[he],this.emit.bind(this,ce[he]));return this._read=function(Xe){O("wrapped _read",Xe),M&&(M=!1,de.resume())},this},"function"==typeof Symbol&&(ae.prototype[Symbol.asyncIterator]=function(){return void 0===b&&(b=S(2590)),b(this)}),Object.defineProperty(ae.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ae.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ae.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ne){this._readableState&&(this._readableState.flowing=ne)}}),ae._fromList=ie,Object.defineProperty(ae.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(ae.from=function(de,ne){return void 0===I&&(I=S(5374)),I(ae,de,ne)})},555:(Ve,_e,S)=>{"use strict";Ve.exports=N;var Z=S(9555).q,A=Z.ERR_METHOD_NOT_IMPLEMENTED,$=Z.ERR_MULTIPLE_CALLBACK,H=Z.ERR_TRANSFORM_ALREADY_TRANSFORMING,Y=Z.ERR_TRANSFORM_WITH_LENGTH_0,_=S(2232);function x(k,oe){var w=this._transformState;w.transforming=!1;var F=w.writecb;if(null===F)return this.emit("error",new $);w.writechunk=null,w.writecb=null,null!=oe&&this.push(oe),F(k);var re=this._readableState;re.reading=!1,(re.needReadable||re.length<re.highWaterMark)&&this._read(re.highWaterMark)}function N(k){if(!(this instanceof N))return new N(k);_.call(this,k),this._transformState={afterTransform:x.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,k&&("function"==typeof k.transform&&(this._transform=k.transform),"function"==typeof k.flush&&(this._flush=k.flush)),this.on("prefinish",G)}function G(){var k=this;"function"!=typeof this._flush||this._readableState.destroyed?O(this,null,null):this._flush(function(oe,w){O(k,oe,w)})}function O(k,oe,w){if(oe)return k.emit("error",oe);if(null!=w&&k.push(w),k._writableState.length)throw new Y;if(k._transformState.transforming)throw new H;return k.push(null)}S(6698)(N,_),N.prototype.push=function(k,oe){return this._transformState.needTransform=!1,_.prototype.push.call(this,k,oe)},N.prototype._transform=function(k,oe,w){w(new A("_transform()"))},N.prototype._write=function(k,oe,w){var F=this._transformState;if(F.writecb=w,F.writechunk=k,F.writeencoding=oe,!F.transforming){var re=this._readableState;(F.needTransform||re.needReadable||re.length<re.highWaterMark)&&this._read(re.highWaterMark)}},N.prototype._read=function(k){var oe=this._transformState;null===oe.writechunk||oe.transforming?oe.needTransform=!0:(oe.transforming=!0,this._transform(oe.writechunk,oe.writeencoding,oe.afterTransform))},N.prototype._destroy=function(k,oe){_.prototype._destroy.call(this,k,function(w){oe(w)})}},7597:(Ve,_e,S)=>{"use strict";function A(E){var ie=this;this.next=null,this.entry=null,this.finish=function(){!function R(E,ie,Q){var He=E.entry;for(E.entry=null;He;){var Qe=He.callback;ie.pendingcb--,Qe(Q),He=He.next}ie.corkedRequestsFree.next=E}(ie,E)}}var $;Ve.exports=Ie,Ie.WritableState=ce;var j,H={deprecate:S(496)},Y=S(3951),_=S(9007).Buffer,x=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},O=S(3992),oe=S(4962).getHighWaterMark,w=S(9555).q,F=w.ERR_INVALID_ARG_TYPE,re=w.ERR_METHOD_NOT_IMPLEMENTED,X=w.ERR_MULTIPLE_CALLBACK,q=w.ERR_STREAM_CANNOT_PIPE,ee=w.ERR_STREAM_DESTROYED,W=w.ERR_STREAM_NULL_VALUES,L=w.ERR_STREAM_WRITE_AFTER_END,b=w.ERR_UNKNOWN_ENCODING,I=O.errorOrDestroy;function T(){}function ce(E,ie,Q){$=$||S(2232),"boolean"!=typeof Q&&(Q=ie instanceof $),this.objectMode=!!(E=E||{}).objectMode,Q&&(this.objectMode=this.objectMode||!!E.writableObjectMode),this.highWaterMark=oe(this,E,"writableHighWaterMark",Q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===E.decodeStrings),this.defaultEncoding=E.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Qe){!function ze(E,ie){var Q=E._writableState,He=Q.sync,Qe=Q.writecb;if("function"!=typeof Qe)throw new X;if(function Ae(E){E.writing=!1,E.writecb=null,E.length-=E.writelen,E.writelen=0}(Q),ie)!function Ke(E,ie,Q,He,Qe){--ie.pendingcb,Q?(process.nextTick(Qe,He),process.nextTick(Je,E,ie),E._writableState.errorEmitted=!0,I(E,He)):(Qe(He),E._writableState.errorEmitted=!0,I(E,He),Je(E,ie))}(E,Q,He,ie,Qe);else{var de=Ce(Q)||E.destroyed;!de&&!Q.corked&&!Q.bufferProcessing&&Q.bufferedRequest&&ue(E,Q),He?process.nextTick(Se,E,Q,de,Qe):Se(E,Q,de,Qe)}}(ie,Qe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==E.emitClose,this.autoDestroy=!!E.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new A(this)}function Ie(E){var ie=this instanceof($=$||S(2232));if(!ie&&!j.call(Ie,this))return new Ie(E);this._writableState=new ce(E,this,ie),this.writable=!0,E&&("function"==typeof E.write&&(this._write=E.write),"function"==typeof E.writev&&(this._writev=E.writev),"function"==typeof E.destroy&&(this._destroy=E.destroy),"function"==typeof E.final&&(this._final=E.final)),Y.call(this)}function it(E,ie,Q,He,Qe,de,ne){ie.writelen=He,ie.writecb=ne,ie.writing=!0,ie.sync=!0,ie.destroyed?ie.onwrite(new ee("write")):Q?E._writev(Qe,ie.onwrite):E._write(Qe,de,ie.onwrite),ie.sync=!1}function Se(E,ie,Q,He){Q||function Ue(E,ie){0===ie.length&&ie.needDrain&&(ie.needDrain=!1,E.emit("drain"))}(E,ie),ie.pendingcb--,He(),Je(E,ie)}function ue(E,ie){ie.bufferProcessing=!0;var Q=ie.bufferedRequest;if(E._writev&&Q&&Q.next){var Qe=new Array(ie.bufferedRequestCount),de=ie.corkedRequestsFree;de.entry=Q;for(var ne=0,U=!0;Q;)Qe[ne]=Q,Q.isBuf||(U=!1),Q=Q.next,ne+=1;Qe.allBuffers=U,it(E,ie,!0,ie.length,Qe,"",de.finish),ie.pendingcb++,ie.lastBufferedRequest=null,de.next?(ie.corkedRequestsFree=de.next,de.next=null):ie.corkedRequestsFree=new A(ie),ie.bufferedRequestCount=0}else{for(;Q;){var M=Q.chunk;if(it(E,ie,!1,ie.objectMode?1:M.length,M,Q.encoding,Q.callback),Q=Q.next,ie.bufferedRequestCount--,ie.writing)break}null===Q&&(ie.lastBufferedRequest=null)}ie.bufferedRequest=Q,ie.bufferProcessing=!1}function Ce(E){return E.ending&&0===E.length&&null===E.bufferedRequest&&!E.finished&&!E.writing}function at(E,ie){E._final(function(Q){ie.pendingcb--,Q&&I(E,Q),ie.prefinished=!0,E.emit("prefinish"),Je(E,ie)})}function Je(E,ie){var Q=Ce(ie);if(Q&&(function vt(E,ie){!ie.prefinished&&!ie.finalCalled&&("function"!=typeof E._final||ie.destroyed?(ie.prefinished=!0,E.emit("prefinish")):(ie.pendingcb++,ie.finalCalled=!0,process.nextTick(at,E,ie)))}(E,ie),0===ie.pendingcb&&(ie.finished=!0,E.emit("finish"),ie.autoDestroy))){var He=E._readableState;(!He||He.autoDestroy&&He.endEmitted)&&E.destroy()}return Q}S(6698)(Ie,Y),ce.prototype.getBuffer=function(){for(var ie=this.bufferedRequest,Q=[];ie;)Q.push(ie),ie=ie.next;return Q},function(){try{Object.defineProperty(ce.prototype,"buffer",{get:H.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(j=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ie,Symbol.hasInstance,{value:function(ie){return!!j.call(this,ie)||this===Ie&&ie&&ie._writableState instanceof ce}})):j=function(ie){return ie instanceof this},Ie.prototype.pipe=function(){I(this,new q)},Ie.prototype.write=function(E,ie,Q){var He=this._writableState,Qe=!1,de=!He.objectMode&&function G(E){return _.isBuffer(E)||E instanceof x}(E);return de&&!_.isBuffer(E)&&(E=function N(E){return _.from(E)}(E)),"function"==typeof ie&&(Q=ie,ie=null),de?ie="buffer":ie||(ie=He.defaultEncoding),"function"!=typeof Q&&(Q=T),He.ending?function ae(E,ie){var Q=new L;I(E,Q),process.nextTick(ie,Q)}(this,Q):(de||function xe(E,ie,Q,He){var Qe;return null===Q?Qe=new W:"string"!=typeof Q&&!ie.objectMode&&(Qe=new F("chunk",["string","Buffer"],Q)),!Qe||(I(E,Qe),process.nextTick(He,Qe),!1)}(this,He,E,Q))&&(He.pendingcb++,Qe=function Ge(E,ie,Q,He,Qe,de){if(!Q){var ne=function Ne(E,ie,Q){return!E.objectMode&&!1!==E.decodeStrings&&"string"==typeof ie&&(ie=_.from(ie,Q)),ie}(ie,He,Qe);He!==ne&&(Q=!0,Qe="buffer",He=ne)}var U=ie.objectMode?1:He.length;ie.length+=U;var M=ie.length<ie.highWaterMark;if(M||(ie.needDrain=!0),ie.writing||ie.corked){var P=ie.lastBufferedRequest;ie.lastBufferedRequest={chunk:He,encoding:Qe,isBuf:Q,callback:de,next:null},P?P.next=ie.lastBufferedRequest:ie.bufferedRequest=ie.lastBufferedRequest,ie.bufferedRequestCount+=1}else it(E,ie,!1,U,He,Qe,de);return M}(this,He,de,E,ie,Q)),Qe},Ie.prototype.cork=function(){this._writableState.corked++},Ie.prototype.uncork=function(){var E=this._writableState;E.corked&&(E.corked--,!E.writing&&!E.corked&&!E.bufferProcessing&&E.bufferedRequest&&ue(this,E))},Ie.prototype.setDefaultEncoding=function(ie){if("string"==typeof ie&&(ie=ie.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ie+"").toLowerCase())>-1))throw new b(ie);return this._writableState.defaultEncoding=ie,this},Object.defineProperty(Ie.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Ie.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Ie.prototype._write=function(E,ie,Q){Q(new re("_write()"))},Ie.prototype._writev=null,Ie.prototype.end=function(E,ie,Q){var He=this._writableState;return"function"==typeof E?(Q=E,E=null,ie=null):"function"==typeof ie&&(Q=ie,ie=null),null!=E&&this.write(E,ie),He.corked&&(He.corked=1,this.uncork()),He.ending||function pe(E,ie,Q){ie.ending=!0,Je(E,ie),Q&&(ie.finished?process.nextTick(Q):E.once("finish",Q)),ie.ended=!0,E.writable=!1}(this,He,Q),this},Object.defineProperty(Ie.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Ie.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ie){this._writableState&&(this._writableState.destroyed=ie)}}),Ie.prototype.destroy=O.destroy,Ie.prototype._undestroy=O.undestroy,Ie.prototype._destroy=function(E,ie){ie(E)}},2590:(Ve,_e,S)=>{"use strict";var Z;function A(L,b,I){return b=function $(L){var b=function H(L,b){if("object"!=typeof L||null===L)return L;var I=L[Symbol.toPrimitive];if(void 0!==I){var T=I.call(L,b||"default");if("object"!=typeof T)return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(L)}(L,"string");return"symbol"==typeof b?b:String(b)}(b),b in L?Object.defineProperty(L,b,{value:I,enumerable:!0,configurable:!0,writable:!0}):L[b]=I,L}var Y=S(1227),_=Symbol("lastResolve"),x=Symbol("lastReject"),N=Symbol("error"),G=Symbol("ended"),O=Symbol("lastPromise"),k=Symbol("handlePromise"),oe=Symbol("stream");function w(L,b){return{value:L,done:b}}function F(L){var b=L[_];if(null!==b){var I=L[oe].read();null!==I&&(L[O]=null,L[_]=null,L[x]=null,b(w(I,!1)))}}function re(L){process.nextTick(F,L)}var q=Object.getPrototypeOf(function(){}),ee=Object.setPrototypeOf((A(Z={get stream(){return this[oe]},next:function(){var b=this,I=this[N];if(null!==I)return Promise.reject(I);if(this[G])return Promise.resolve(w(void 0,!0));if(this[oe].destroyed)return new Promise(function(Ie,ae){process.nextTick(function(){b[N]?ae(b[N]):Ie(w(void 0,!0))})});var ce,T=this[O];if(T)ce=new Promise(function X(L,b){return function(I,T){L.then(function(){b[G]?I(w(void 0,!0)):b[k](I,T)},T)}}(T,this));else{var j=this[oe].read();if(null!==j)return Promise.resolve(w(j,!1));ce=new Promise(this[k])}return this[O]=ce,ce}},Symbol.asyncIterator,function(){return this}),A(Z,"return",function(){var b=this;return new Promise(function(I,T){b[oe].destroy(null,function(ce){ce?T(ce):I(w(void 0,!0))})})}),Z),q);Ve.exports=function(b){var I,T=Object.create(ee,(A(I={},oe,{value:b,writable:!0}),A(I,_,{value:null,writable:!0}),A(I,x,{value:null,writable:!0}),A(I,N,{value:null,writable:!0}),A(I,G,{value:b._readableState.endEmitted,writable:!0}),A(I,k,{value:function(j,Ie){var ae=T[oe].read();ae?(T[O]=null,T[_]=null,T[x]=null,j(w(ae,!1))):(T[_]=j,T[x]=Ie)},writable:!0}),I));return T[O]=null,Y(b,function(ce){if(ce&&"ERR_STREAM_PREMATURE_CLOSE"!==ce.code){var j=T[x];return null!==j&&(T[O]=null,T[_]=null,T[x]=null,j(ce)),void(T[N]=ce)}var Ie=T[_];null!==Ie&&(T[O]=null,T[_]=null,T[x]=null,Ie(w(void 0,!0))),T[G]=!0}),b.on("readable",re.bind(null,T)),T}},2998:(Ve,_e,S)=>{"use strict";function Z(re,X){var q=Object.keys(re);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(re);X&&(ee=ee.filter(function(W){return Object.getOwnPropertyDescriptor(re,W).enumerable})),q.push.apply(q,ee)}return q}function A(re){for(var X=1;X<arguments.length;X++){var q=null!=arguments[X]?arguments[X]:{};X%2?Z(Object(q),!0).forEach(function(ee){$(re,ee,q[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(re,Object.getOwnPropertyDescriptors(q)):Z(Object(q)).forEach(function(ee){Object.defineProperty(re,ee,Object.getOwnPropertyDescriptor(q,ee))})}return re}function $(re,X,q){return(X=x(X))in re?Object.defineProperty(re,X,{value:q,enumerable:!0,configurable:!0,writable:!0}):re[X]=q,re}function Y(re,X){for(var q=0;q<X.length;q++){var ee=X[q];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(re,x(ee.key),ee)}}function x(re){var X=function N(re,X){if("object"!=typeof re||null===re)return re;var q=re[Symbol.toPrimitive];if(void 0!==q){var ee=q.call(re,X||"default");if("object"!=typeof ee)return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===X?String:Number)(re)}(re,"string");return"symbol"==typeof X?X:String(X)}var O=S(9007).Buffer,oe=S(9862).inspect,w=oe&&oe.custom||"inspect";function F(re,X,q){O.prototype.copy.call(re,X,q)}Ve.exports=function(){function re(){(function H(re,X){if(!(re instanceof X))throw new TypeError("Cannot call a class as a function")})(this,re),this.head=null,this.tail=null,this.length=0}return function _(re,X,q){X&&Y(re.prototype,X),q&&Y(re,q),Object.defineProperty(re,"prototype",{writable:!1})}(re,[{key:"push",value:function(q){var ee={data:q,next:null};this.length>0?this.tail.next=ee:this.head=ee,this.tail=ee,++this.length}},{key:"unshift",value:function(q){var ee={data:q,next:this.head};0===this.length&&(this.tail=ee),this.head=ee,++this.length}},{key:"shift",value:function(){if(0!==this.length){var q=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,q}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(q){if(0===this.length)return"";for(var ee=this.head,W=""+ee.data;ee=ee.next;)W+=q+ee.data;return W}},{key:"concat",value:function(q){if(0===this.length)return O.alloc(0);for(var ee=O.allocUnsafe(q>>>0),W=this.head,L=0;W;)F(W.data,ee,L),L+=W.data.length,W=W.next;return ee}},{key:"consume",value:function(q,ee){var W;return q<this.head.data.length?(W=this.head.data.slice(0,q),this.head.data=this.head.data.slice(q)):W=q===this.head.data.length?this.shift():ee?this._getString(q):this._getBuffer(q),W}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(q){var ee=this.head,W=1,L=ee.data;for(q-=L.length;ee=ee.next;){var b=ee.data,I=q>b.length?b.length:q;if(L+=I===b.length?b:b.slice(0,q),0==(q-=I)){I===b.length?(++W,this.head=ee.next?ee.next:this.tail=null):(this.head=ee,ee.data=b.slice(I));break}++W}return this.length-=W,L}},{key:"_getBuffer",value:function(q){var ee=O.allocUnsafe(q),W=this.head,L=1;for(W.data.copy(ee),q-=W.data.length;W=W.next;){var b=W.data,I=q>b.length?b.length:q;if(b.copy(ee,ee.length-q,0,I),0==(q-=I)){I===b.length?(++L,this.head=W.next?W.next:this.tail=null):(this.head=W,W.data=b.slice(I));break}++L}return this.length-=L,ee}},{key:w,value:function(q,ee){return oe(this,A(A({},ee),{},{depth:0,customInspect:!1}))}}]),re}()},3992:Ve=>{"use strict";function S(Y,_){$(Y,_),Z(Y)}function Z(Y){Y._writableState&&!Y._writableState.emitClose||Y._readableState&&!Y._readableState.emitClose||Y.emit("close")}function $(Y,_){Y.emit("error",_)}Ve.exports={destroy:function _e(Y,_){var x=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(_?_(Y):Y&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick($,this,Y)):process.nextTick($,this,Y)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(Y||null,function(O){!_&&O?x._writableState?x._writableState.errorEmitted?process.nextTick(Z,x):(x._writableState.errorEmitted=!0,process.nextTick(S,x,O)):process.nextTick(S,x,O):_?(process.nextTick(Z,x),_(O)):process.nextTick(Z,x)}),this)},undestroy:function A(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function H(Y,_){var x=Y._readableState,N=Y._writableState;x&&x.autoDestroy||N&&N.autoDestroy?Y.destroy(_):Y.emit("error",_)}}},1227:(Ve,_e,S)=>{"use strict";var Z=S(9555).q.ERR_STREAM_PREMATURE_CLOSE;function $(){}Ve.exports=function Y(_,x,N){if("function"==typeof x)return Y(_,null,x);x||(x={}),N=function A(_){var x=!1;return function(){if(!x){x=!0;for(var N=arguments.length,G=new Array(N),O=0;O<N;O++)G[O]=arguments[O];_.apply(this,G)}}}(N||$);var G=x.readable||!1!==x.readable&&_.readable,O=x.writable||!1!==x.writable&&_.writable,k=function(){_.writable||w()},oe=_._writableState&&_._writableState.finished,w=function(){O=!1,oe=!0,G||N.call(_)},F=_._readableState&&_._readableState.endEmitted,re=function(){G=!1,F=!0,O||N.call(_)},X=function(L){N.call(_,L)},q=function(){var L;return G&&!F?((!_._readableState||!_._readableState.ended)&&(L=new Z),N.call(_,L)):O&&!oe?((!_._writableState||!_._writableState.ended)&&(L=new Z),N.call(_,L)):void 0},ee=function(){_.req.on("finish",w)};return function H(_){return _.setHeader&&"function"==typeof _.abort}(_)?(_.on("complete",w),_.on("abort",q),_.req?ee():_.on("request",ee)):O&&!_._writableState&&(_.on("end",k),_.on("close",k)),_.on("end",re),_.on("finish",w),!1!==x.error&&_.on("error",X),_.on("close",q),function(){_.removeListener("complete",w),_.removeListener("abort",q),_.removeListener("request",ee),_.req&&_.req.removeListener("finish",w),_.removeListener("end",k),_.removeListener("close",k),_.removeListener("finish",w),_.removeListener("end",re),_.removeListener("error",X),_.removeListener("close",q)}}},5374:Ve=>{Ve.exports=function(){throw new Error("Readable.from is not available in the browser")}},2345:(Ve,_e,S)=>{"use strict";var Z,$=S(9555).q,H=$.ERR_MISSING_ARGS,Y=$.ERR_STREAM_DESTROYED;function _(w){if(w)throw w}function G(w){w()}function O(w,F){return w.pipe(F)}Ve.exports=function oe(){for(var w=arguments.length,F=new Array(w),re=0;re<w;re++)F[re]=arguments[re];var X=function k(w){return w.length&&"function"==typeof w[w.length-1]?w.pop():_}(F);if(Array.isArray(F[0])&&(F=F[0]),F.length<2)throw new H("streams");var q,ee=F.map(function(W,L){var b=L<F.length-1;return function N(w,F,re,X){X=function A(w){var F=!1;return function(){F||(F=!0,w.apply(void 0,arguments))}}(X);var q=!1;w.on("close",function(){q=!0}),void 0===Z&&(Z=S(1227)),Z(w,{readable:F,writable:re},function(W){if(W)return X(W);q=!0,X()});var ee=!1;return function(W){if(!q&&!ee){if(ee=!0,function x(w){return w.setHeader&&"function"==typeof w.abort}(w))return w.abort();if("function"==typeof w.destroy)return w.destroy();X(W||new Y("pipe"))}}}(W,b,L>0,function(T){q||(q=T),T&&ee.forEach(G),!b&&(ee.forEach(G),X(q))})});return F.reduce(O)}},4962:(Ve,_e,S)=>{"use strict";var Z=S(9555).q.ERR_INVALID_OPT_VALUE;Ve.exports={getHighWaterMark:function $(H,Y,_,x){var N=function A(H,Y,_){return null!=H.highWaterMark?H.highWaterMark:Y?H[_]:null}(Y,x,_);if(null!=N){if(!isFinite(N)||Math.floor(N)!==N||N<0)throw new Z(x?_:"highWaterMark",N);return Math.floor(N)}return H.objectMode?16:16384}}},3951:(Ve,_e,S)=>{Ve.exports=S(2016).EventEmitter},2024:(Ve,_e,S)=>{"use strict";var Z=S(4282).Buffer,A=Z.isEncoding||function(ee){switch((ee=""+ee)&&ee.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Y(ee){var W;switch(this.encoding=function H(ee){var W=function $(ee){if(!ee)return"utf8";for(var W;;)switch(ee){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return ee;default:if(W)return;ee=(""+ee).toLowerCase(),W=!0}}(ee);if("string"!=typeof W&&(Z.isEncoding===A||!A(ee)))throw new Error("Unknown encoding: "+ee);return W||ee}(ee),this.encoding){case"utf16le":this.text=oe,this.end=w,W=4;break;case"utf8":this.fillLast=G,W=4;break;case"base64":this.text=F,this.end=re,W=3;break;default:return this.write=X,void(this.end=q)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Z.allocUnsafe(W)}function _(ee){return ee<=127?0:ee>>5==6?2:ee>>4==14?3:ee>>3==30?4:ee>>6==2?-1:-2}function G(ee){var W=this.lastTotal-this.lastNeed,L=function N(ee,W,L){if(128!=(192&W[0]))return ee.lastNeed=0,"\ufffd";if(ee.lastNeed>1&&W.length>1){if(128!=(192&W[1]))return ee.lastNeed=1,"\ufffd";if(ee.lastNeed>2&&W.length>2&&128!=(192&W[2]))return ee.lastNeed=2,"\ufffd"}}(this,ee);return void 0!==L?L:this.lastNeed<=ee.length?(ee.copy(this.lastChar,W,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(ee.copy(this.lastChar,W,0,ee.length),void(this.lastNeed-=ee.length))}function oe(ee,W){if((ee.length-W)%2==0){var L=ee.toString("utf16le",W);if(L){var b=L.charCodeAt(L.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=ee[ee.length-2],this.lastChar[1]=ee[ee.length-1],L.slice(0,-1)}return L}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=ee[ee.length-1],ee.toString("utf16le",W,ee.length-1)}function w(ee){var W=ee&&ee.length?this.write(ee):"";return this.lastNeed?W+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):W}function F(ee,W){var L=(ee.length-W)%3;return 0===L?ee.toString("base64",W):(this.lastNeed=3-L,this.lastTotal=3,1===L?this.lastChar[0]=ee[ee.length-1]:(this.lastChar[0]=ee[ee.length-2],this.lastChar[1]=ee[ee.length-1]),ee.toString("base64",W,ee.length-L))}function re(ee){var W=ee&&ee.length?this.write(ee):"";return this.lastNeed?W+this.lastChar.toString("base64",0,3-this.lastNeed):W}function X(ee){return ee.toString(this.encoding)}function q(ee){return ee&&ee.length?this.write(ee):""}_e.StringDecoder=Y,Y.prototype.write=function(ee){if(0===ee.length)return"";var W,L;if(this.lastNeed){if(void 0===(W=this.fillLast(ee)))return"";L=this.lastNeed,this.lastNeed=0}else L=0;return L<ee.length?W?W+this.text(ee,L):this.text(ee,L):W||""},Y.prototype.end=function k(ee){var W=ee&&ee.length?this.write(ee):"";return this.lastNeed?W+"\ufffd":W},Y.prototype.text=function O(ee,W){var L=function x(ee,W,L){var b=W.length-1;if(b<L)return 0;var I=_(W[b]);return I>=0?(I>0&&(ee.lastNeed=I-1),I):--b<L||-2===I?0:(I=_(W[b]))>=0?(I>0&&(ee.lastNeed=I-2),I):--b<L||-2===I?0:(I=_(W[b]))>=0?(I>0&&(2===I?I=0:ee.lastNeed=I-3),I):0}(this,ee,W);if(!this.lastNeed)return ee.toString("utf8",W);this.lastTotal=L;var b=ee.length-(L-this.lastNeed);return ee.copy(this.lastChar,0,b),ee.toString("utf8",W,b)},Y.prototype.fillLast=function(ee){if(this.lastNeed<=ee.length)return ee.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ee.copy(this.lastChar,this.lastTotal-this.lastNeed,0,ee.length),this.lastNeed-=ee.length}},4282:(Ve,_e,S)=>{var Z=S(9007),A=Z.Buffer;function $(Y,_){for(var x in Y)_[x]=Y[x]}function H(Y,_,x){return A(Y,_,x)}A.from&&A.alloc&&A.allocUnsafe&&A.allocUnsafeSlow?Ve.exports=Z:($(Z,_e),_e.Buffer=H),H.prototype=Object.create(A.prototype),$(A,H),H.from=function(Y,_,x){if("number"==typeof Y)throw new TypeError("Argument must not be a number");return A(Y,_,x)},H.alloc=function(Y,_,x){if("number"!=typeof Y)throw new TypeError("Argument must be a number");var N=A(Y);return void 0!==_?"string"==typeof x?N.fill(_,x):N.fill(_):N.fill(0),N},H.allocUnsafe=function(Y){if("number"!=typeof Y)throw new TypeError("Argument must be a number");return A(Y)},H.allocUnsafeSlow=function(Y){if("number"!=typeof Y)throw new TypeError("Argument must be a number");return Z.SlowBuffer(Y)}},496:Ve=>{function S(Z){try{if(!global.localStorage)return!1}catch{return!1}var A=global.localStorage[Z];return null!=A&&"true"===String(A).toLowerCase()}Ve.exports=function _e(Z,A){if(S("noDeprecation"))return Z;var $=!1;return function H(){if(!$){if(S("throwDeprecation"))throw new Error(A);S("traceDeprecation")?console.trace(A):console.warn(A),$=!0}return Z.apply(this,arguments)}}},1171:Ve=>{"use strict";Ve.exports=function(_e){_e.prototype[Symbol.iterator]=function*(){for(let S=this.head;S;S=S.next)yield S.value}}},4439:(Ve,_e,S)=>{"use strict";function Z(_){var x=this;if(x instanceof Z||(x=new Z),x.tail=null,x.head=null,x.length=0,_&&"function"==typeof _.forEach)_.forEach(function(O){x.push(O)});else if(arguments.length>0)for(var N=0,G=arguments.length;N<G;N++)x.push(arguments[N]);return x}function A(_,x,N){var G=x===_.head?new Y(N,null,x,_):new Y(N,x,x.next,_);return null===G.next&&(_.tail=G),null===G.prev&&(_.head=G),_.length++,G}function $(_,x){_.tail=new Y(x,_.tail,null,_),_.head||(_.head=_.tail),_.length++}function H(_,x){_.head=new Y(x,null,_.head,_),_.tail||(_.tail=_.head),_.length++}function Y(_,x,N,G){if(!(this instanceof Y))return new Y(_,x,N,G);this.list=G,this.value=_,x?(x.next=this,this.prev=x):this.prev=null,N?(N.prev=this,this.next=N):this.next=null}Ve.exports=Z,Z.Node=Y,Z.create=Z,Z.prototype.removeNode=function(_){if(_.list!==this)throw new Error("removing node which does not belong to this list");var x=_.next,N=_.prev;return x&&(x.prev=N),N&&(N.next=x),_===this.head&&(this.head=x),_===this.tail&&(this.tail=N),_.list.length--,_.next=null,_.prev=null,_.list=null,x},Z.prototype.unshiftNode=function(_){if(_!==this.head){_.list&&_.list.removeNode(_);var x=this.head;_.list=this,_.next=x,x&&(x.prev=_),this.head=_,this.tail||(this.tail=_),this.length++}},Z.prototype.pushNode=function(_){if(_!==this.tail){_.list&&_.list.removeNode(_);var x=this.tail;_.list=this,_.prev=x,x&&(x.next=_),this.tail=_,this.head||(this.head=_),this.length++}},Z.prototype.push=function(){for(var _=0,x=arguments.length;_<x;_++)$(this,arguments[_]);return this.length},Z.prototype.unshift=function(){for(var _=0,x=arguments.length;_<x;_++)H(this,arguments[_]);return this.length},Z.prototype.pop=function(){if(this.tail){var _=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,_}},Z.prototype.shift=function(){if(this.head){var _=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,_}},Z.prototype.forEach=function(_,x){x=x||this;for(var N=this.head,G=0;null!==N;G++)_.call(x,N.value,G,this),N=N.next},Z.prototype.forEachReverse=function(_,x){x=x||this;for(var N=this.tail,G=this.length-1;null!==N;G--)_.call(x,N.value,G,this),N=N.prev},Z.prototype.get=function(_){for(var x=0,N=this.head;null!==N&&x<_;x++)N=N.next;if(x===_&&null!==N)return N.value},Z.prototype.getReverse=function(_){for(var x=0,N=this.tail;null!==N&&x<_;x++)N=N.prev;if(x===_&&null!==N)return N.value},Z.prototype.map=function(_,x){x=x||this;for(var N=new Z,G=this.head;null!==G;)N.push(_.call(x,G.value,this)),G=G.next;return N},Z.prototype.mapReverse=function(_,x){x=x||this;for(var N=new Z,G=this.tail;null!==G;)N.push(_.call(x,G.value,this)),G=G.prev;return N},Z.prototype.reduce=function(_,x){var N,G=this.head;if(arguments.length>1)N=x;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");G=this.head.next,N=this.head.value}for(var O=0;null!==G;O++)N=_(N,G.value,O),G=G.next;return N},Z.prototype.reduceReverse=function(_,x){var N,G=this.tail;if(arguments.length>1)N=x;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");G=this.tail.prev,N=this.tail.value}for(var O=this.length-1;null!==G;O--)N=_(N,G.value,O),G=G.prev;return N},Z.prototype.toArray=function(){for(var _=new Array(this.length),x=0,N=this.head;null!==N;x++)_[x]=N.value,N=N.next;return _},Z.prototype.toArrayReverse=function(){for(var _=new Array(this.length),x=0,N=this.tail;null!==N;x++)_[x]=N.value,N=N.prev;return _},Z.prototype.slice=function(_,x){(x=x||this.length)<0&&(x+=this.length),(_=_||0)<0&&(_+=this.length);var N=new Z;if(x<_||x<0)return N;_<0&&(_=0),x>this.length&&(x=this.length);for(var G=0,O=this.head;null!==O&&G<_;G++)O=O.next;for(;null!==O&&G<x;G++,O=O.next)N.push(O.value);return N},Z.prototype.sliceReverse=function(_,x){(x=x||this.length)<0&&(x+=this.length),(_=_||0)<0&&(_+=this.length);var N=new Z;if(x<_||x<0)return N;_<0&&(_=0),x>this.length&&(x=this.length);for(var G=this.length,O=this.tail;null!==O&&G>x;G--)O=O.prev;for(;null!==O&&G>_;G--,O=O.prev)N.push(O.value);return N},Z.prototype.splice=function(_,x,...N){_>this.length&&(_=this.length-1),_<0&&(_=this.length+_);for(var G=0,O=this.head;null!==O&&G<_;G++)O=O.next;var k=[];for(G=0;O&&G<x;G++)k.push(O.value),O=this.removeNode(O);for(null===O&&(O=this.tail),O!==this.head&&O!==this.tail&&(O=O.prev),G=0;G<N.length;G++)O=A(this,O,N[G]);return k},Z.prototype.reverse=function(){for(var _=this.head,x=this.tail,N=_;null!==N;N=N.prev){var G=N.prev;N.prev=N.next,N.next=G}return this.head=x,this.tail=_,this};try{S(1171)(Z)}catch{}},643:()=>{},9125:()=>{},7670:()=>{},9862:()=>{},964:()=>{},4642:(Ve,_e,S)=>{var Z=S(3801);function A($){var H,Y;function _(N,G){try{var O=$[N](G),k=O.value,oe=k instanceof Z;Promise.resolve(oe?k.v:k).then(function(w){if(oe){var F="return"===N?"return":"next";if(!k.k||w.done)return _(F,w);w=$[F](w).value}x(O.done?"return":"normal",w)},function(w){_("throw",w)})}catch(w){x("throw",w)}}function x(N,G){switch(N){case"return":H.resolve({value:G,done:!0});break;case"throw":H.reject(G);break;default:H.resolve({value:G,done:!1})}(H=H.next)?_(H.key,H.arg):Y=null}this._invoke=function(N,G){return new Promise(function(O,k){var oe={key:N,arg:G,resolve:O,reject:k,next:null};Y?Y=Y.next=oe:(H=Y=oe,_(N,G))})},"function"!=typeof $.return&&(this.return=void 0)}A.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},A.prototype.next=function($){return this._invoke("next",$)},A.prototype.throw=function($){return this._invoke("throw",$)},A.prototype.return=function($){return this._invoke("return",$)},Ve.exports=A,Ve.exports.__esModule=!0,Ve.exports.default=Ve.exports},3801:Ve=>{Ve.exports=function _e(S,Z){this.v=S,this.k=Z},Ve.exports.__esModule=!0,Ve.exports.default=Ve.exports},8131:(Ve,_e,S)=>{var Z=S(3801);Ve.exports=function A($){var H={},Y=!1;function _(x,N){return Y=!0,N=new Promise(function(G){G($[x](N))}),{done:!1,value:new Z(N,1)}}return H[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},H.next=function(x){return Y?(Y=!1,x):_("next",x)},"function"==typeof $.throw&&(H.throw=function(x){if(Y)throw Y=!1,x;return _("throw",x)}),"function"==typeof $.return&&(H.return=function(x){return Y?(Y=!1,x):_("return",x)}),H},Ve.exports.__esModule=!0,Ve.exports.default=Ve.exports},8237:Ve=>{function S(Z){function A($){if(Object($)!==$)return Promise.reject(new TypeError($+" is not an object."));var H=$.done;return Promise.resolve($.value).then(function(Y){return{value:Y,done:H}})}return(S=function(H){this.s=H,this.n=H.next}).prototype={s:null,n:null,next:function(){return A(this.n.apply(this.s,arguments))},return:function(H){var Y=this.s.return;return void 0===Y?Promise.resolve({value:H,done:!0}):A(Y.apply(this.s,arguments))},throw:function(H){var Y=this.s.return;return void 0===Y?Promise.reject(H):A(Y.apply(this.s,arguments))}},new S(Z)}Ve.exports=function _e(Z){var A,$,H,Y=2;for(typeof Symbol<"u"&&($=Symbol.asyncIterator,H=Symbol.iterator);Y--;){if($&&null!=(A=Z[$]))return A.call(Z);if(H&&null!=(A=Z[H]))return new S(A.call(Z));$="@@asyncIterator",H="@@iterator"}throw new TypeError("Object is not async iterable")},Ve.exports.__esModule=!0,Ve.exports.default=Ve.exports},7156:Ve=>{function _e(Z,A,$,H,Y,_,x){try{var N=Z[_](x),G=N.value}catch(O){return void $(O)}N.done?A(G):Promise.resolve(G).then(H,Y)}Ve.exports=function S(Z){return function(){var A=this,$=arguments;return new Promise(function(H,Y){var _=Z.apply(A,$);function x(G){_e(_,H,Y,x,N,"next",G)}function N(G){_e(_,H,Y,x,N,"throw",G)}x(void 0)})}},Ve.exports.__esModule=!0,Ve.exports.default=Ve.exports},6737:(Ve,_e,S)=>{var Z=S(3801);Ve.exports=function A($){return new Z($,0)},Ve.exports.__esModule=!0,Ve.exports.default=Ve.exports},8186:(Ve,_e,S)=>{var Z=S(4642);Ve.exports=function A($){return function(){return new Z($.apply(this,arguments))}},Ve.exports.__esModule=!0,Ve.exports.default=Ve.exports}},Ve=>{Ve(Ve.s=4781)}]);