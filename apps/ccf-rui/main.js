(self.webpackChunkccf_rui=self.webpackChunkccf_rui||[]).push([[792],{7772:Ue=>{"use strict";Ue.exports=S,Ue.exports.default=S;var ge=1e20;function S(X,_,x,N,W,R){this.fontSize=X||24,this.buffer=void 0===_?3:_,this.cutoff=N||.25,this.fontFamily=W||"sans-serif",this.fontWeight=R||"normal",this.radius=x||8;var D=this.size=this.fontSize+2*this.buffer,re=D+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=D,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(re*re),this.gridInner=new Float64Array(re*re),this.f=new Float64Array(re),this.z=new Float64Array(re+1),this.v=new Uint16Array(re),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(D/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function Y(X,_,x,N,W,R){for(var D=0;D<_;D++)G(X,D,_,x,N,W,R);for(var re=0;re<x;re++)G(X,re*_,1,_,N,W,R)}function G(X,_,x,N,W,R,D){var re,w,F,oe;for(R[0]=0,D[0]=-ge,D[1]=ge,re=0;re<N;re++)W[re]=X[_+re*x];for(re=1,w=0,F=0;re<N;re++){do{F=(W[re]-W[oe=R[w]]+re*re-oe*oe)/(re-oe)/2}while(F<=D[w]&&--w>-1);R[++w]=re,D[w]=F,D[w+1]=ge}for(re=0,w=0;re<N;re++){for(;D[w+1]<re;)w++;X[_+re*x]=W[oe=R[w]]+(re-oe)*(re-oe)}}S.prototype._draw=function(X,_){var R,D,re,w,F,oe,$,z,ee,x=this.ctx.measureText(X),N=x.width,W=2*this.buffer;_&&this.useMetrics?(F=Math.floor(x.actualBoundingBoxAscent),z=this.buffer+Math.ceil(x.actualBoundingBoxAscent),oe=this.buffer,$=this.buffer,R=(D=Math.min(this.size,Math.ceil(x.actualBoundingBoxRight-x.actualBoundingBoxLeft)))+W,re=(w=Math.min(this.size-oe,Math.ceil(x.actualBoundingBoxAscent+x.actualBoundingBoxDescent)))+W,this.ctx.textBaseline="alphabetic"):(R=D=this.size,re=w=this.size,F=19*this.fontSize/24,oe=$=0,z=this.middle,this.ctx.textBaseline="middle"),D&&w&&(this.ctx.clearRect($,oe,D,w),this.ctx.fillText(X,this.buffer,z),ee=this.ctx.getImageData($,oe,D,w));var q=new Uint8ClampedArray(R*re);return function Z(X,_,x,N,W,R,D){R.fill(ge,0,_*x),D.fill(0,0,_*x);for(var re=(_-N)/2,w=0;w<W;w++)for(var F=0;F<N;F++){var oe=(w+re)*_+F+re,$=X.data[4*(w*N+F)+3]/255;if(1===$)R[oe]=0,D[oe]=ge;else if(0===$)R[oe]=ge,D[oe]=0;else{var z=Math.max(0,.5-$),ee=Math.max(0,$-.5);R[oe]=z*z,D[oe]=ee*ee}}}(ee,R,re,D,w,this.gridOuter,this.gridInner),Y(this.gridOuter,R,re,this.f,this.v,this.z),Y(this.gridInner,R,re,this.f,this.v,this.z),function A(X,_,x,N,W,R,D){for(var re=0;re<_*x;re++){var w=Math.sqrt(N[re])-Math.sqrt(W[re]);X[re]=Math.round(255-255*(w/R+D))}}(q,R,re,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:q,metrics:{width:D,height:w,sdfWidth:R,sdfHeight:re,top:F,left:0,advance:N}}},S.prototype.draw=function(X){return this._draw(X,!1).data},S.prototype.drawWithMetrics=function(X){return this._draw(X,!0)}},9691:(Ue,ge,S)=>{"use strict";var Z={};S.r(Z),S.d(Z,{decode:()=>bIe,name:()=>_Ie});var A={};S.r(A),S.d(A,{name:()=>CIe,preprocess:()=>SIe});var Y={};S.r(Y),S.d(Y,{name:()=>AIe,preprocess:()=>TIe});var G={};S.r(G),S.d(G,{decode:()=>uDe,encode:()=>hDe,name:()=>lDe,preprocess:()=>dDe});var X={};S.r(X),S.d(X,{decode:()=>_De,encode:()=>bDe,name:()=>gDe});var _={};S.r(_),S.d(_,{decode:()=>vDe,encode:()=>wDe,name:()=>yDe});var x={};S.r(x),S.d(x,{decode:()=>EDe,encode:()=>CDe,name:()=>xDe});var N={};S.r(N),S.d(N,{delMany:()=>SVe,get:()=>EVe,setMany:()=>CVe});var W={};function R(n,e,t,i,r,o,s){try{var a=n[o](s),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(i,r)}function D(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(c){R(o,i,r,s,a,"next",c)}function a(c){R(o,i,r,s,a,"throw",c)}s(void 0)})}}S.r(W),S.d(W,{inDefaultGraph:()=>HVe,isBlankNode:()=>UVe,isDefaultGraph:()=>Qw,isLiteral:()=>VVe,isNamedNode:()=>jVe,isVariable:()=>zVe,prefix:()=>GVe,prefixes:()=>c3});let w=null,F=!1,oe=1;const $=Symbol("SIGNAL");function z(n){const e=w;return w=n,e}const y={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ce(n){if((!je(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==oe)){if(!n.producerMustRecompute(n)&&!ze(n))return n.dirty=!1,void(n.lastCleanEpoch=oe);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=oe}}function ae(n){n.dirty=!0,function j(n){if(void 0===n.liveConsumerNode)return;const e=F;F=!0;try{for(const t of n.liveConsumerNode)t.dirty||ae(t)}finally{F=e}}(n),n.consumerMarkedDirty?.(n)}function xe(n){return n&&(n.nextProducerIndex=0),z(n)}function Oe(n,e){if(z(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(je(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Te(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function ze(n){Ce(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(ce(t),i!==t.version))return!0}return!1}function nt(n){if(Ce(n),je(n))for(let e=0;e<n.producerNode.length;e++)Te(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Te(n,e){if(function Be(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ce(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Te(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Ce(r),r.producerIndexOfThis[i]=e}}function je(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ce(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let O=null;const qe=()=>{},Ee={...y,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{null!==n.schedule&&n.schedule(n.ref)},hasRun:!1,cleanupFn:qe};function it(n){return"function"==typeof n}function At(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Wt=At(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function It(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class zt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(it(i))try{i()}catch(o){e=o instanceof Wt?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{ne(o)}catch(s){e=e??[],s instanceof Wt?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Wt(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ne(e);else{if(e instanceof zt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&It(t,e)}remove(e){const{_finalizers:t}=this;t&&It(t,e),e instanceof zt&&e._removeParent(this)}}zt.EMPTY=(()=>{const n=new zt;return n.closed=!0,n})();const pe=zt.EMPTY;function V(n){return n instanceof zt||n&&"closed"in n&&it(n.remove)&&it(n.add)&&it(n.unsubscribe)}function ne(n){it(n)?n():n.unsubscribe()}const Fe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},st={setTimeout(n,e,...t){const{delegate:i}=st;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=st;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ft(n){st.setTimeout(()=>{const{onUnhandledError:e}=Fe;if(!e)throw n;e(n)})}function Tt(){}const An=qn("C",void 0,void 0);function qn(n,e,t){return{kind:n,value:e,error:t}}let Gn=null;function dr(n){if(Fe.useDeprecatedSynchronousErrorHandling){const e=!Gn;if(e&&(Gn={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Gn;if(Gn=null,t)throw i}}else n()}class jr extends zt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,V(e)&&e.add(this)):this.destination=bl}static create(e,t,i){return new fo(e,t,i)}next(e){this.isStopped?Hc(function gi(n){return qn("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Hc(function oi(n){return qn("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hc(An,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ys=Function.prototype.bind;function Zs(n,e){return ys.call(n,e)}class Er{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){ea(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){ea(i)}else ea(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ea(t)}}}class fo extends jr{constructor(e,t,i){let r;if(super(),it(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Fe.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Zs(e.next,o),error:e.error&&Zs(e.error,o),complete:e.complete&&Zs(e.complete,o)}):r=e}this.destination=new Er(r)}}function ea(n){Fe.useDeprecatedSynchronousErrorHandling?function Ga(n){Fe.useDeprecatedSynchronousErrorHandling&&Gn&&(Gn.errorThrown=!0,Gn.error=n)}(n):ft(n)}function Hc(n,e){const{onStoppedNotification:t}=Fe;t&&st.setTimeout(()=>t(n,e))}const bl={closed:!0,next:Tt,error:function Jl(n){throw n},complete:Tt},Gc="function"==typeof Symbol&&Symbol.observable||"@@observable";function We(n){return n}let Ct=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function Go(n){return n&&n instanceof jr||function Ur(n){return n&&it(n.next)&&it(n.error)&&it(n.complete)}(n)&&V(n)}(t)?t:new fo(t,i,r);return dr(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Tn(i))((r,o)=>{const s=new fo({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Gc](){return this}pipe(...t){return function sn(n){return 0===n.length?We:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=Tn(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Tn(n){var e;return null!==(e=n??Fe.Promise)&&void 0!==e?e:Promise}const Wc=At(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let on=(()=>{class n extends Ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new mc(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Wc}next(t){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?pe:(this.currentObservers=null,o.push(t),new zt(()=>{this.currentObservers=null,It(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Ct;return t.source=this,t}}return n.create=(e,t)=>new mc(e,t),n})();class mc extends on{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:pe}}class Ir extends on{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function gc(n){return it(n?.lift)}function Pn(n){return e=>{if(gc(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function si(n,e,t,i,r){return new vs(n,e,t,i,r)}class vs extends jr{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Vt(n,e){return Pn((t,i)=>{let r=0;t.subscribe(si(i,o=>{i.next(n.call(e,o,r++))}))})}const Wo="https://g.co/ng/security#xss";class wt extends Error{constructor(e,t){super(function _e(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Ne(n){return{toString:n}.toString()}const ht="__parameters__";function En(n,e,t){return Ne(()=>{const i=function nn(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,d){const h=c.hasOwnProperty(ht)?c[ht]:Object.defineProperty(c,ht,{value:[]})[ht];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}const ni=globalThis;function Fi(n){for(let e in n)if(n[e]===Fi)return e;throw Error("Could not find renamed property on target object.")}function _c(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Di(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Di).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function as(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const nu=Fi({__forward_ref__:Fi});function di(n){return n.__forward_ref__=di,n.toString=function(){return Di(this())},n}function Un(n){return iu(n)?n():n}function iu(n){return"function"==typeof n&&n.hasOwnProperty(nu)&&n.__forward_ref__===di}function Ot(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function cn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Om(n){return _r(n,Pm)||_r(n,px)}function _r(n,e){return n.hasOwnProperty(e)?n[e]:null}function km(n){return n&&(n.hasOwnProperty(Vb)||n.hasOwnProperty(vM))?n[Vb]:null}const Pm=Fi({\u0275prov:Fi}),Vb=Fi({\u0275inj:Fi}),px=Fi({ngInjectableDef:Fi}),vM=Fi({ngInjectorDef:Fi});class vt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ot({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Nm(n){return n&&!!n.\u0275providers}const eh=Fi({\u0275cmp:Fi}),Fm=Fi({\u0275dir:Fi}),ks=Fi({\u0275pipe:Fi}),gx=Fi({\u0275mod:Fi}),go=Fi({\u0275fac:Fi}),Af=Fi({__NG_ELEMENT_ID__:Fi}),Gb=Fi({__NG_ENV_ID__:Fi});function Yn(n){return"string"==typeof n?n:null==n?"":String(n)}function Tf(n,e){throw new wt(-201,!1)}var Li=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Li||{});let Wb;function yx(){return Wb}function Ps(n){const e=Wb;return Wb=n,e}function Mf(n,e,t){const i=Om(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Li.Optional?null:void 0!==e?e:void Tf()}const th={},Lm="__NG_DI_FLAG__",nh="ngTempTokenPath",vx=/\n/gm,Bm="__source";let Zl;function yl(n){const e=Zl;return Zl=n,e}function Ra(n,e=Li.Default){if(void 0===Zl)throw new wt(-203,!1);return null===Zl?Mf(n,void 0,e):Zl.get(n,e&Li.Optional?null:void 0,e)}function et(n,e=Li.Default){return(yx()||Ra)(Un(n),e)}function kt(n,e=Li.Default){return et(n,Df(e))}function Df(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function qb(n){const e=[];for(let t=0;t<n.length;t++){const i=Un(n[t]);if(Array.isArray(i)){if(0===i.length)throw new wt(900,!1);let r,o=Li.Default;for(let s=0;s<i.length;s++){const a=i[s],c=TM(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(et(r,o))}else e.push(et(i))}return e}function Rf(n,e){return n[Lm]=e,n.prototype[Lm]=e,n}function TM(n){return n[Lm]}const oh=Rf(En("Optional"),8),sh=Rf(En("SkipSelf"),4);function ia(n,e){return n.hasOwnProperty(go)?n[go]:null}function ah(n,e){n.forEach(t=>Array.isArray(t)?ah(t,e):e(t))}function xx(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function vl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Oa(n,e,t){let i=wl(n,e);return i>=0?n[1|i]=t:(i=~i,function Ex(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Yb(n,e){const t=wl(n,e);if(t>=0)return n[1|t]}function wl(n,e){return function Ut(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const Mt={},tn=[],Qn=new vt(""),Gi=new vt("",-1),so=new vt("");class ir{get(e,t=th){if(t===th){const i=new Error(`NullInjectorError: No provider for ${Di(e)}!`);throw i.name="NullInjectorError",i}return t}}var ch=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ch||{}),yc=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(yc||{}),mt=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(mt||{});function Vm(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function Xb(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];Of(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function ou(n){return 3===n||4===n||6===n}function Of(n){return 64===n.charCodeAt(0)}function ed(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||rr(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function rr(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const Cx="ng-template";function Sx(n,e,t,i){let r=0;if(i){for(;r<e.length&&"string"==typeof e[r];r+=2)if("class"===e[r]&&-1!==Vm(e[r+1].toLowerCase(),t,0))return!0}else if(lh(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&"string"==typeof(o=e[r]);)if(o.toLowerCase()===t)return!0}return!1}function lh(n){return 4===n.type&&n.value!==Cx}function RM(n,e,t){return e===(4!==n.type||t?n.value:Cx)}function OM(n,e,t){let i=4;const r=n.attrs,o=null!==r?function Ax(n){for(let e=0;e<n.length;e++)if(ou(n[e]))return e;return n.length}(r):0;let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!RM(n,c,t)||""===c&&1===e.length){if(vc(i))return!1;s=!0}}else if(8&i){if(null===r||!Sx(n,r,c,t)){if(vc(i))return!1;s=!0}}else{const l=e[++a],d=zm(c,r,lh(n),t);if(-1===d){if(vc(i))return!1;s=!0;continue}if(""!==l){let h;if(h=d>o?"":r[d+1].toLowerCase(),2&i&&l!==h){if(vc(i))return!1;s=!0}}}}else{if(!s&&!vc(i)&&!vc(c))return!1;if(s&&vc(c))continue;s=!1,i=c|1&i}}return vc(i)||s}function vc(n){return!(1&n)}function zm(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Gm(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function xl(n,e,t=!1){for(let i=0;i<e.length;i++)if(OM(n,e[i],t))return!0;return!1}function Tx(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Kb(n,e){return n?":not("+e.trim()+")":e}function Wm(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!vc(s)&&(e+=Kb(o,r),r=""),i=s,o=o||!vc(i);t++}return""!==r&&(e+=Kb(o,r)),e}function un(n){return Ne(()=>{const e=_o(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ch.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||yc.Emulated,styles:n.styles||tn,_:null,schemas:n.schemas||null,tView:null,id:""};ls(t);const i=n.dependencies;return t.directiveDefs=qm(i,!1),t.pipeDefs=qm(i,!0),t.id=function Dx(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function $m(n){return yi(n)||Io(n)}function kM(n){return null!==n}function dn(n){return Ne(()=>({type:n.type,bootstrap:n.bootstrap||tn,declarations:n.declarations||tn,imports:n.imports||tn,exports:n.exports||tn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ix(n,e){if(null==n)return Mt;const t={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];let o,s,a=mt.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==mt.None?[i,a]:i,e[o]=s):t[o]=i}return t}function Zt(n){return Ne(()=>{const e=_o(n);return ls(e),e})}function Mo(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function yi(n){return n[eh]||null}function Io(n){return n[Fm]||null}function $o(n){return n[ks]||null}function _o(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Mt,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||tn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ix(n.inputs,e),outputs:Ix(n.outputs),debugInfo:null}}function ls(n){n.features?.forEach(e=>e(n))}function qm(n,e){if(!n)return null;const t=e?$o:$m;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(kM)}function Jb(...n){return{\u0275providers:su(0,n),\u0275fromNgModule:!0}}function su(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return ah(e,s=>{const a=s;El(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&Ym(r,o),t}function Ym(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];au(r,o=>{e(o,i)})}}function El(n,e,t,i){if(!(n=Un(n)))return!1;let r=null,o=km(n);const s=!o&&yi(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=km(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)El(l,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{ah(o.imports,d=>{El(d,e,t,i)&&(l||=[],l.push(d))})}finally{}void 0!==l&&Ym(l,e)}if(!a){const l=ia(r)||(()=>new r);e({provide:r,useFactory:l,deps:tn},r),e({provide:so,useValue:r,multi:!0},r),e({provide:Qn,useValue:()=>et(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;au(c,d=>{e(d,l)})}}}return r!==n&&void 0!==n.providers}function au(n,e){for(let t of n)Nm(t)&&(t=t.\u0275providers),Array.isArray(t)?au(t,e):e(t)}const Km=Fi({provide:String,useValue:Fi});function nd(n){return null!==n&&"object"==typeof n&&Km in n}function cu(n){return"function"==typeof n}const Qb=new vt(""),lu={},Nf={};let Jm;function Re(){return void 0===Jm&&(Jm=new ir),Jm}class qo{}class Cl extends qo{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zb(e,s=>this.processProvider(s)),this.records.set(Gi,dh(void 0,this)),r.has("environment")&&this.records.set(qo,dh(void 0,this));const o=this.records.get(Qb);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(so,tn,Li.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=z(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),z(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=yl(this),i=Ps(void 0);try{return e()}finally{yl(t),Ps(i)}}get(e,t=th,i=Li.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Gb))return e[Gb](this);i=Df(i);const o=yl(this),s=Ps(void 0);try{if(!(i&Li.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function BM(n){return"function"==typeof n||"object"==typeof n&&n instanceof vt}(e)&&Om(e);c=l&&this.injectableDefInScope(l)?dh(sa(e),lu):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&Li.Self?Re():this.parent).get(e,t=i&Li.Optional&&t===th?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[nh]=a[nh]||[]).unshift(Di(e)),o)throw a;return function MM(n,e,t,i){const r=n[nh];throw e[Bm]&&r.unshift(e[Bm]),n.message=function IM(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Di(e);if(Array.isArray(e))r=e.map(Di).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Di(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(vx,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[nh]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Ps(s),yl(o)}}resolveInjectorInitializers(){const e=z(null),t=yl(this),i=Ps(void 0);try{const o=this.get(Qn,tn,Li.Self);for(const s of o)s()}finally{yl(t),Ps(i),z(e)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Di(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new wt(205,!1)}processProvider(e){let t=cu(e=Un(e))?e:Un(e&&e.provide);const i=function FM(n){return nd(n)?dh(void 0,n.useValue):dh(kx(n),lu)}(e);if(!cu(e)&&!0===e.multi){let r=this.records.get(t);r||(r=dh(void 0,lu,!0),r.factory=()=>qb(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){const i=z(null);try{return t.value===lu&&(t.value=Nf,t.value=t.factory()),"object"==typeof t.value&&t.value&&function LM(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{z(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Un(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function sa(n){const e=Om(n),t=null!==e?e.factory:ia(n);if(null!==t)return t;if(n instanceof vt)throw new wt(204,!1);if(n instanceof Function)return function Bi(n){if(n.length>0)throw new wt(204,!1);const t=function yM(n){return n&&(n[Pm]||n[px])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new wt(204,!1)}function kx(n,e,t){let i;if(cu(n)){const r=Un(n);return ia(r)||sa(r)}if(nd(n))i=()=>Un(n.useValue);else if(function Ox(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...qb(n.deps||[]));else if(function Rx(n){return!(!n||!n.useExisting)}(n))i=()=>et(Un(n.useExisting));else{const r=Un(n&&(n.useClass||n.provide));if(!function du(n){return!!n.deps}(n))return ia(r)||sa(r);i=()=>new r(...qb(n.deps))}return i}function dh(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Zb(n,e){for(const t of n)Array.isArray(t)?Zb(t,e):t&&Nm(t)?Zb(t.\u0275providers,e):e(t)}function Px(){return void 0!==yx()||null!=function AM(){return Zl}()}const zr=0,an=1,Hn=2,ao=3,wc=4,ds=5,ca=6,hh=7,Cr=8,Ro=9,Ns=10,Xn=11,Lf=12,ty=13,fh=14,Zi=15,hu=16,qa=17,bo=18,Bf=19,ny=20,Tl=21,id=22,la=23,ui=25,iy=1,$c=7,eo=9,Xr=10;var Qm=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Qm||{});function Rr(n){return Array.isArray(n)&&"object"==typeof n[iy]}function Yo(n){return Array.isArray(n)&&!0===n[iy]}function ph(n){return!!(4&n.flags)}function ka(n){return n.componentOffset>-1}function Uf(n){return!(1&~n.flags)}function Or(n){return!!n.template}function Vf(n){return!!(512&n[Hn])}class zf{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function jx(n,e,t,i){null!==e?e.applyValueToInputSignal(e,i):n[t]=i}function br(){return oy}function oy(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ux),tI}function tI(){const n=ng(this),e=n?.current;if(e){const t=n.previous;if(t===Mt)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Ux(n,e,t,i,r){const o=this.declaredInputs[i],s=ng(n)||function zx(n,e){return n[Vx]=e}(n,{previous:Mt,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new zf(l&&l.currentValue,t,c===Mt),jx(n,e,r,t)}br.ngInherit=!0;const Vx="__ngSimpleChanges__";function ng(n){return n[Vx]||null}const Ya=function(n,e,t){},vi="svg";let Gx=!1;function pr(n){for(;Array.isArray(n);)n=n[zr];return n}function Es(n,e){return pr(e[n])}function Fs(n,e){return pr(e[n.index])}function pu(n,e){return n.data[e]}function mu(n,e){return n[e]}function da(n,e){const t=e[n];return Rr(t)?t:t[zr]}function qc(n){return!(128&~n[Hn])}function xc(n,e){return null==e?null:n[e]}function Wf(n){n[qa]=0}function Wx(n){1024&n[Hn]||(n[Hn]|=1024,qc(n)&&gu(n))}function og(n){return!!(9216&n[Hn]||n[la]?.dirty)}function $f(n){n[Ns].changeDetectionScheduler?.notify(1),og(n)?gu(n):64&n[Hn]&&(function Gf(){return Gx}()?(n[Hn]|=1024,gu(n)):n[Ns].changeDetectionScheduler?.notify())}function gu(n){n[Ns].changeDetectionScheduler?.notify();let e=ua(n);for(;null!==e&&!(8192&e[Hn])&&(e[Hn]|=8192,qc(e));)e=ua(e)}function Ec(n,e){if(!(256&~n[Hn]))throw new wt(911,!1);null===n[Tl]&&(n[Tl]=[]),n[Tl].push(e)}function ua(n){const e=n[ao];return Yo(e)?e[ao]:e}const ii={lFrame:Jx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dy(){return ii.bindingsEnabled}function _u(){return null!==ii.skipHydrationRootTNode}function Lt(){return ii.lFrame.lView}function Ri(){return ii.lFrame.tView}function fn(n){return ii.lFrame.contextLView=n,n[Cr]}function hn(n){return ii.lFrame.contextLView=null,n}function or(){let n=uy();for(;null!==n&&64===n.type;)n=n.parent;return n}function uy(){return ii.lFrame.currentTNode}function Cc(n,e){const t=ii.lFrame;t.currentTNode=n,t.isParent=e}function od(){return ii.lFrame.isParent}function bu(){ii.lFrame.isParent=!1}function Xo(){const n=ii.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Na(){return ii.lFrame.bindingIndex++}function Xa(n){const e=ii.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function sg(n,e){const t=ii.lFrame;t.bindingIndex=t.bindingRootIndex=n,Xf(e)}function Xf(n){ii.lFrame.currentDirectiveIndex=n}function py(n){const e=ii.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function ag(){return ii.lFrame.currentQueryIndex}function Ka(n){ii.lFrame.currentQueryIndex=n}function Kx(n){const e=n[an];return 2===e.type?e.declTNode:1===e.type?n[ds]:null}function my(n,e,t){if(t&Li.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&Li.Host||(r=Kx(o),null===r||(o=o[fh],10&r.type))););if(null===r)return!1;e=r,n=o}const i=ii.lFrame=_y();return i.currentTNode=e,i.lView=n,!0}function gy(n){const e=_y(),t=n[an];ii.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function _y(){const n=ii.lFrame,e=null===n?null:n.child;return null===e?Jx(n):e}function Jx(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Qx(){const n=ii.lFrame;return ii.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Kc=Qx;function Kf(){const n=Qx();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ko(){return ii.lFrame.selectedIndex}function Jc(n){ii.lFrame.selectedIndex=n}function er(){const n=ii.lFrame;return pu(n.tView,n.selectedIndex)}function Vn(){ii.lFrame.currentNamespace=vi}let dg=!0;function mh(){return dg}function kr(n){dg=n}function ug(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=d&&(n.destroyHooks??=[]).push(t,d)}}function Jf(n,e,t){eE(n,e,3,t)}function hg(n,e,t,i){(3&n[Hn])===t&&eE(n,e,t,i)}function fg(n,e){let t=n[Hn];(3&t)===e&&(t&=16383,t+=1,n[Hn]=t)}function eE(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[qa]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[qa]+=65536),(a<o||-1==o)&&(hI(n,t,e,c),n[qa]=(4294901760&n[qa])+c+2),c++}function tE(n,e){Ya(4,n,e);const t=z(null);try{e.call(n)}finally{z(t),Ya(5,n,e)}}function hI(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Hn]>>14<n[qa]>>16&&(3&n[Hn])===e&&(n[Hn]+=16384,tE(a,o)):tE(a,o)}const fa=-1;class Oo{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function mg(n){return n!==fa}function Qf(n){return 32767&n}function Zf(n,e){let t=function gI(n){return n>>16}(n),i=e;for(;t>0;)i=i[fh],t--;return i}let xy=!0;function ep(n){const e=xy;return xy=n,e}const nE=255,gg=5;let iE=0;const pa={};function tp(n,e){const t=np(n,e);if(-1!==t)return t;const i=e[an];i.firstCreatePass&&(n.injectorIndex=e.length,_g(i.data,n),_g(e,null),_g(i.blueprint,null));const r=ip(n,e),o=n.injectorIndex;if(mg(r)){const s=Qf(r),a=Zf(r,e),c=a[an].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function _g(n,e){n.push(0,0,0,0,0,0,0,0,e)}function np(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function ip(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=dE(r),null===i)return fa;if(t++,r=r[fh],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return fa}function Ja(n,e,t){!function Ey(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Af)&&(i=t[Af]),null==i&&(i=t[Af]=iE++);const r=i&nE;e.data[n+(r>>gg)]|=1<<r}(n,e,t)}function rE(n,e,t){if(t&Li.Optional||void 0!==n)return n;Tf()}function Cy(n,e,t,i){if(t&Li.Optional&&void 0===i&&(i=null),!(t&(Li.Self|Li.Host))){const r=n[Ro],o=Ps(void 0);try{return r?r.get(e,i,t&Li.Optional):Mf(e,i,t&Li.Optional)}finally{Ps(o)}}return rE(i,0,t)}function oE(n,e,t,i=Li.Default,r){if(null!==n){if(2048&e[Hn]&&!(i&Li.Self)){const s=function vI(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Hn]&&!(512&s[Hn]);){const a=sE(o,s,t,i|Li.Self,pa);if(a!==pa)return a;let c=o.parent;if(!c){const l=s[ny];if(l){const d=l.get(t,pa,i);if(d!==pa)return d}c=dE(s),s=s[fh]}o=c}return r}(n,e,t,i,pa);if(s!==pa)return s}const o=sE(n,e,t,i,pa);if(o!==pa)return o}return Cy(e,t,i,r)}function sE(n,e,t,i,r){const o=function yI(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Af)?n[Af]:void 0;return"number"==typeof e?e>=0?e&nE:lE:e}(t);if("function"==typeof o){if(!my(e,n,i))return i&Li.Host?rE(r,0,i):Cy(e,t,i,r);try{let s;if(s=o(i),null!=s||i&Li.Optional)return s;Tf()}finally{Kc()}}else if("number"==typeof o){let s=null,a=np(n,e),c=fa,l=i&Li.Host?e[Zi][ds]:null;for((-1===a||i&Li.SkipSelf)&&(c=-1===a?ip(n,e):e[a+8],c!==fa&&cE(i,!1)?(s=e[an],a=Qf(c),e=Zf(c,e)):a=-1);-1!==a;){const d=e[an];if(aE(o,a,d.data)){const h=bI(a,e,t,s,i,l);if(h!==pa)return h}c=e[a+8],c!==fa&&cE(i,e[an].data[a+8]===l)&&aE(o,a,e)?(s=d,a=Qf(c),e=Zf(c,e)):a=-1}}return r}function bI(n,e,t,i,r,o){const s=e[an],a=s.data[n+8],d=bg(a,s,t,null==i?ka(a)&&xy:i!=s&&!!(3&a.type),r&Li.Host&&o===a);return null!==d?wu(e,s,d,a):pa}function bg(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,d=o>>20,f=r?a+d:n.directiveEnd;for(let m=i?a:a+d;m<f;m++){const g=s[m];if(m<c&&t===g||m>=c&&g.type===t)return m}if(r){const m=s[c];if(m&&Or(m)&&m.type===t)return c}return null}function wu(n,e,t,i){let r=n[t];const o=e.data;if(function yy(n){return n instanceof Oo}(r)){const s=r;s.resolving&&function Ql(n,e){throw e&&e.join(" > "),new wt(-200,n)}(function Hi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Yn(n)}(o[t]));const a=ep(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Ps(s.injectImpl):null;my(n,i,Li.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function uI(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=oy(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==l&&Ps(l),ep(a),s.resolving=!1,Kc()}}return r}function aE(n,e,t){return!!(t[e+(n>>gg)]&1<<n)}function cE(n,e){return!(n&Li.Self||n&Li.Host&&e)}class ko{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return oE(this._tNode,this._lView,e,Df(i),t)}}function lE(){return new ko(or(),Lt())}function Wi(n){return Ne(()=>{const e=n.prototype.constructor,t=e[go]||yg(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[go]||yg(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function yg(n){return iu(n)?()=>{const e=yg(Un(n));return e&&e()}:ia(n)}function dE(n){const e=n[an],t=e.type;return 2===t?e.declTNode:1===t?n[ds]:null}function ma(n){return function vu(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(ou(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(or(),n)}function _E(n,e=null,t=null,i){const r=bE(n,e,t,i);return r.resolveInjectorInitializers(),r}function bE(n,e=null,t=null,i,r=new Set){const o=[t||tn,Jb(n)];return i=i||("object"==typeof n?void 0:Di(n)),new Cl(o,e||Re(),i||null,r)}let wi=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=th;static#t=this.NULL=new ir;static create(t,i){if(Array.isArray(t))return _E({name:""},i,t,"");{const r=t.name??"";return _E({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=Ot({token:n,providedIn:"any",factory:()=>et(Gi)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function Ay(n){return n.ngOriginalError}class ga{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Ay(e);for(;t&&Ay(t);)t=Ay(t);return t||null}}const vE=new vt("",{providedIn:"root",factory:()=>kt(ga).handleError.bind(void 0)});let bh=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=AI;static#t=this.__NG_ENV_ID__=t=>t}return n})();class SI extends bh{constructor(e){super(),this._lView=e}onDestroy(e){return Ec(this._lView,e),()=>function cy(n,e){if(null===n[Tl])return;const t=n[Tl].indexOf(e);-1!==t&&n[Tl].splice(t,1)}(this._lView,e)}}function AI(){return new SI(Lt())}function TI(){return yh(or(),Lt())}function yh(n,e){return new kn(Fs(n,e))}let kn=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=TI}return n})();function xE(n){return n instanceof kn?n.nativeElement:n}function rp(n){return e=>{setTimeout(n,void 0,e)}}const Qt=class MI extends on{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Px()&&(this.destroyRef=kt(bh,{optional:!0})??void 0)}emit(e){const t=z(null);try{super.next(e)}finally{z(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=rp(o),r&&(r=rp(r)),s&&(s=rp(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof zt&&e.add(a),a}};function II(){return this._results[Symbol.iterator]()}class vh{static#e=Symbol.iterator;get changes(){return this._changes??=new Qt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=vh.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=II)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function ra(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function jm(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function wg(n){return!(128&~n.flags)}const Eg=new Map;let RI=0;const My="__ngContext__";function Cs(n,e){Rr(e)?(n[My]=e[Bf],function OI(n){Eg.set(n[Bf],n)}(e)):n[My]=e}function ap(n){return kE(n[Lf])}function OE(n){return kE(n[wc])}function kE(n){for(;null!==n&&!Yo(n);)n=n[wc];return n}let Ag;const lp=new vt("",{providedIn:"root",factory:()=>Tg}),Tg="ng",dp=new vt(""),Ls=new vt("",{providedIn:"platform",factory:()=>"unknown"}),co=new vt(""),up=new vt("",{providedIn:"root",factory:()=>function sd(){if(void 0!==Ag)return Ag;if(typeof document<"u")return document;throw new wt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Il=()=>null;function By(n,e,t=!1){return Il(n,e,t)}const zE=new vt("",{providedIn:"root",factory:()=>!1});let xu;function Sc(n){return function Bs(){if(void 0===xu&&(xu=null,ni.trustedTypes))try{xu=ni.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xu}()?.createHTML(n)||n}class cd{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Wo})`}}class Za extends cd{getTypeName(){return"HTML"}}class HE extends cd{getTypeName(){return"Style"}}class rD extends cd{getTypeName(){return"Script"}}class sr extends cd{getTypeName(){return"URL"}}class oD extends cd{getTypeName(){return"ResourceURL"}}function ya(n){return n instanceof cd?n.changingThisBreaksApplicationSecurity:n}function Fa(n,e){const t=function sD(n){return n instanceof cd&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Wo})`)}return t===e}class hD{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Sc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class fD{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Sc(e),t}}const mD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Pg(n){return(n=String(n)).match(mD)?n:"unsafe:"+n}function Dl(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Eu(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const WE=Dl("area,br,col,hr,img,wbr"),Ng=Dl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$E=Dl("rp,rt"),As=Eu(WE,Eu(Ng,Dl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Eu($E,Dl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Eu($E,Ng)),Wy=Dl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$y=Eu(Wy,Dl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Dl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gD=Dl("script,style,template");class _D{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)r.push(t),t=yD(t);else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=qE(t);if(o){t=o;break}t=r.pop()}return this.buf.join("")}startElement(e){const t=YE(e).toLowerCase();if(!As.hasOwnProperty(t))return this.sanitizedSomething=!0,!gD.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!$y.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;Wy[a]&&(c=Pg(c)),this.buf.push(" ",s,'="',QE(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=YE(e).toLowerCase();As.hasOwnProperty(t)&&!WE.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(QE(e))}}function qE(n){const e=n.nextSibling;if(e&&n!==e.previousSibling)throw XE(e);return e}function yD(n){const e=n.firstChild;if(e&&function bD(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(n,e))throw XE(e);return e}function YE(n){const e=n.nodeName;return"string"==typeof e?e:"FORM"}function XE(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}const KE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,JE=/([^\#-~ |!])/g;function QE(n){return n.replace(/&/g,"&amp;").replace(KE,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(JE,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fg;function ZE(n,e){let t=null;try{Fg=Fg||function GE(n){const e=new fD(n);return function pD(){try{return!!(new window.DOMParser).parseFromString(Sc(""),"text/html")}catch{return!1}}()?new hD(e):e}(n);let i=e?String(e):"";t=Fg.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=Fg.getInertBodyElement(i)}while(i!==o);return Sc((new _D).sanitizeChildren(qy(t)||t))}finally{if(t){const i=qy(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function qy(n){return"content"in n&&function Ch(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Jo=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Jo||{});function Lg(n){const e=function mp(){const n=Lt();return n&&n[Ns].sanitizer}();return e?e.sanitize(Jo.URL,n)||"":Fa(n,"URL")?ya(n):Pg(Yn(n))}const CD=/^>|^->|<!--|-->|--!>|<!-$/g,SD=/(<|>)/g,AD="\u200b$1\u200b";function bp(n){return n.ownerDocument.defaultView}function Sh(n){return n.ownerDocument}var ld=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ld||{});let Qy;function Zy(n,e){return Qy(n,e)}function Th(n,e,t,i,r){if(null!=i){let o,s=!1;Yo(i)?o=i:Rr(i)&&(s=!0,i=i[zr]);const a=pr(i);0===n&&null!==t?null==r?gC(e,t,a):Cu(e,t,a,r||null,!0):1===n&&null!==t?Cu(e,t,a,r||null,!0):2===n?function Ht(n,e,t){const i=Ug(n,e);i&&function VD(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function xi(n,e,t,i,r){const o=t[$c];o!==pr(t)&&Th(e,n,i,o,r);for(let a=Xr;a<t.length;a++){const c=t[a];pn(c[an],c,n,e,i,o)}}(e,n,o,t,r)}}function yp(n,e){return n.createComment(function rC(n){return n.replace(CD,e=>e.replace(SD,AD))}(e))}function Mh(n,e,t){return n.createElement(e,t)}function fC(n,e){e[Ns].changeDetectionScheduler?.notify(1),pn(n,e,e[Xn],2,null,null)}function pC(n,e){const t=n[eo],i=t.indexOf(e);t.splice(i,1)}function vp(n,e){if(n.length<=Xr)return;const t=Xr+e,i=n[t];if(i){const r=i[hu];null!==r&&r!==n&&pC(r,i),e>0&&(n[t-1][wc]=i[wc]);const o=vl(n,Xr+e);!function PD(n,e){fC(n,e),e[zr]=null,e[ds]=null}(i[an],i);const s=o[bo];null!==s&&s.detachView(o[an]),i[ao]=null,i[wc]=null,i[Hn]&=-129}return i}function jg(n,e){if(!(256&e[Hn])){const t=e[Xn];t.destroyNode&&pn(n,e,t,3,null,null),function FD(n){let e=n[Lf];if(!e)return tv(n[an],n);for(;e;){let t=null;if(Rr(e))t=e[Lf];else{const i=e[Xr];i&&(t=i)}if(!t){for(;e&&!e[wc]&&e!==n;)Rr(e)&&tv(e[an],e),e=e[ao];null===e&&(e=n),Rr(e)&&tv(e[an],e),t=e&&e[wc]}e=t}}(e)}}function tv(n,e){if(256&e[Hn])return;const t=z(null);try{e[Hn]&=-129,e[Hn]|=256,e[la]&&nt(e[la]),function UD(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Oo)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Ya(4,a,c);try{c.call(a)}finally{Ya(5,a,c)}}else{Ya(4,r,o);try{o.call(r)}finally{Ya(5,r,o)}}}}}(n,e),function jD(n,e){const t=n.cleanup,i=e[hh];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[hh]=null);const r=e[Tl];if(null!==r){e[Tl]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[an].type&&e[Xn].destroy();const i=e[hu];if(null!==i&&Yo(e[ao])){i!==e[ao]&&pC(i,e);const r=e[bo];null!==r&&r.detachView(n)}!function kI(n){Eg.delete(n[Bf])}(e)}finally{z(t)}}function nv(n,e,t){return function mC(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[zr];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===yc.None||o===yc.Emulated)return null}return Fs(i,t)}}(n,e.parent,t)}function Cu(n,e,t,i,r){n.insertBefore(e,t,i,r)}function gC(n,e,t){n.appendChild(e,t)}function _C(n,e,t,i,r){null!==i?Cu(n,e,t,i,r):gC(n,e,t)}function Ug(n,e){return n.parentNode(e)}function u(n,e,t){return b(n,e,t)}let K,b=function p(n,e,t){return 40&n.type?Fs(n,t):null};function Le(n,e,t,i){const r=nv(n,i,e),o=e[Xn],a=u(i.parent||e[ds],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)_C(o,r,t[c],a,!1);else _C(o,r,t,a,!1);void 0!==K&&K(o,i,e,t,r)}function rt(n,e){if(null!==e){const t=e.type;if(3&t)return Fs(e,n);if(4&t)return _t(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return rt(n,i);{const r=n[e.index];return Yo(r)?_t(-1,r):pr(r)}}if(32&t)return Zy(e,n)()||pr(n[e.index]);{const i=ut(n,e);return null!==i?Array.isArray(i)?i[0]:rt(ua(n[Zi]),i):rt(n,e.next)}}return null}function ut(n,e){return null!==e?n[Zi][ds].projection[e.projection]:null}function _t(n,e){const t=Xr+n+1;if(t<e.length){const i=e[t],r=i[an].firstChild;if(null!==r)return rt(i,r)}return e[$c]}function Kt(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&Cs(pr(a),i),t.flags|=2),32&~t.flags)if(8&c)Kt(n,e,t.child,i,r,o,!1),Th(e,n,r,a,o);else if(32&c){const l=Zy(t,i);let d;for(;d=l();)Th(e,n,r,d,o);Th(e,n,r,a,o)}else 16&c?Kn(n,e,i,t,r,o):Th(e,n,r,a,o);t=s?t.projectionNext:t.next}}function pn(n,e,t,i,r,o){Kt(t,i,n.firstChild,e,r,o,!1)}function Kn(n,e,t,i,r,o){const s=t[Zi],c=s[ds].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Th(e,n,r,c[l],o);else{let l=c;const d=s[ao];wg(i)&&(l.flags|=128),Kt(n,e,l,d,r,o,!0)}}function ji(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function va(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&Xb(n,e,i),null!==r&&ji(n,e,r),null!==o&&function Oi(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}const jn={};function dt(n=1){no(Ri(),Lt(),Ko()+n,!1)}function no(n,e,t,i){if(!i)if(3&~e[Hn]){const o=n.preOrderHooks;null!==o&&hg(e,o,0,t)}else{const o=n.preOrderCheckHooks;null!==o&&Jf(e,o,t)}Jc(t)}function Ae(n,e=Li.Default){const t=Lt();return null===t?et(n,e):oE(or(),t,Un(n),e)}function Ac(){throw new Error("invalid")}function iv(n,e,t,i,r,o){const s=z(null);try{let a=null;r&mt.SignalBased&&(a=e[i][$]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),r&mt.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),null!==n.setInput?n.setInput(e,a,o,t,i):jx(e,a,i,o)}finally{z(s)}}function bC(n,e,t,i,r,o,s,a,c,l,d){const h=e.blueprint.slice();return h[zr]=r,h[Hn]=204|i,(null!==l||n&&2048&n[Hn])&&(h[Hn]|=2048),Wf(h),h[ao]=h[fh]=n,h[Cr]=t,h[Ns]=s||n&&n[Ns],h[Xn]=a||n&&n[Xn],h[Ro]=c||n&&n[Ro]||null,h[ds]=o,h[Bf]=function Cg(){return RI++}(),h[ca]=d,h[ny]=l,h[Zi]=2==e.type?n[Zi]:h,h}function Vg(n,e,t,i,r){let o=n.data[e];if(null===o)o=function HD(n,e,t,i,r){const o=uy(),s=od(),c=n.data[e]=function Yee(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return _u()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function dI(){return ii.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function qf(){const n=ii.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Cc(o,!0),o}function rv(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Wj(n,e,t,i,r){const o=Ko(),s=2&i;try{Jc(-1),s&&e.length>ui&&no(n,e,ui,!1),Ya(s?2:0,r),t(i,r)}finally{Jc(o),Ya(s?3:1,r)}}function GD(n,e,t){if(ph(e)){const i=z(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{z(i)}}}function WD(n,e,t){dy()&&(function tte(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;ka(t)&&function cte(n,e,t){const i=Fs(e,n),r=$j(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=yC(n,bC(n,r,null,s,i,e,null,n[Ns].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||tp(t,e),Cs(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],l=wu(e,n,a,t);Cs(l,e),null!==s&&lte(0,a-r,l,c,0,s),Or(c)&&(da(t.index,e)[Cr]=wu(e,n,a,t))}}(n,e,t,Fs(t,e)),!(64&~t.flags)&&Jj(n,e,t))}function $D(n,e,t=Fs){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function $j(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=qD(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function qD(n,e,t,i,r,o,s,a,c,l,d){const h=ui+i,f=h+r,m=function zee(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:jn);return t}(h,f),g="function"==typeof l?l():l;return m[an]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:d}}let qj=()=>null;function Yj(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;const s=e[o];if(void 0===s)continue;i??={};let a,c=mt.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(null!==r){if(!r.hasOwnProperty(o))continue;l=r[o]}0===n?Xj(i,t,l,a,c):Xj(i,t,l,a)}return i}function Xj(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],void 0!==r&&o.push(r)}function ec(n,e,t,i,r,o,s,a){const c=Fs(e,t);let d,l=e.inputs;!a&&null!=l&&(d=l[i])?(QD(n,t,d,i,r),ka(e)&&function Jee(n,e){const t=da(e,n);16&t[Hn]||(t[Hn]|=64)}(t,e.index)):3&e.type&&(i=function Kee(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function YD(n,e,t,i){if(dy()){const r=null===i?null:{"":-1},o=function ite(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(xl(e,s.selectors,!1))if(i||(i=[]),Or(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),XD(n,e,a.length)}else i.unshift(s),XD(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Kj(n,e,t,s,r,a),r&&function rte(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new wt(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=ed(t.mergedAttrs,t.attrs)}function Kj(n,e,t,i,r,o){for(let l=0;l<i.length;l++)Ja(tp(t,e),n,i[l].type);!function ste(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const d=i[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=rv(n,e,i.length,null);for(let l=0;l<i.length;l++){const d=i[l];t.mergedAttrs=ed(t.mergedAttrs,d.hostAttrs),ate(n,t,e,c,d),ote(c,d,r),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function Xee(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let d=e.directiveStart;d<r;d++){const h=o[d],f=t?t.get(h):null,g=f?f.outputs:null;c=Yj(0,h.inputs,d,c,f?f.inputs:null),l=Yj(1,h.outputs,d,l,g);const v=null===c||null===s||lh(e)?null:dte(c,d,s);a.push(v)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function Jj(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function Xx(){return ii.lFrame.currentDirectiveIndex}();try{Jc(o);for(let a=i;a<r;a++){const c=n.data[a],l=e[a];Xf(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&nte(c,l)}}finally{Jc(-1),Xf(s)}}function nte(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function XD(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function ote(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Or(e)&&(t[""]=n)}}function ate(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=ia(r.type)),s=new Oo(o,Or(r),Ae);n.blueprint[i]=s,t[i]=s,function Zee(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function ete(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,rv(n,t,r.hostVars,jn),r)}function dd(n,e,t,i,r,o){const s=Fs(n,e);!function KD(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Yn(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Xn],s,o,n.value,t,i,r)}function lte(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)iv(i,t,s[a++],s[a++],s[a++],s[a++])}function dte(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function Qj(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function Zj(n,e){const t=n.contentQueries;if(null!==t){const i=z(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];Ka(t[r]),a.contentQueries(2,e[s],s)}}}finally{z(i)}}}function yC(n,e){return n[Lf]?n[ty][wc]=e:n[Lf]=e,n[ty]=e,e}function JD(n,e,t){Ka(0);const i=z(null);try{e(n,t)}finally{z(i)}}function eU(n){return n[hh]||(n[hh]=[])}function tU(n){return n.cleanup||(n.cleanup=[])}function nU(n,e,t){return(null===n||Or(n))&&(t=function sy(n){for(;Array.isArray(n);){if("object"==typeof n[iy])return n;n=n[zr]}return null}(t[e.index])),t[Xn]}function vC(n,e){const t=n[Ro],i=t?t.get(ga,null):null;i&&i.handleError(e)}function QD(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],c=t[o++];iv(n.data[s],e[s],i,a,c,r)}}function Su(n,e,t){const i=Es(e,n);!function hC(n,e,t){n.setValue(e,t)}(n[Xn],i,t)}function ute(n,e){const t=da(e,n),i=t[an];!function hte(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[zr];null!==r&&null===t[ca]&&(t[ca]=By(r,t[Ro])),ZD(i,t,t[Cr])}function ZD(n,e,t){gy(e);try{const i=n.viewQuery;null!==i&&JD(1,i,t);const r=n.template;null!==r&&Wj(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[bo]?.finishViewCreation(n),n.staticContentQueries&&Zj(n,e),n.staticViewQueries&&JD(2,n.viewQuery,t);const o=n.components;null!==o&&function fte(n,e){for(let t=0;t<e.length;t++)ute(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Hn]&=-5,Kf()}}function ov(n,e,t,i){const r=z(null);try{const o=e.tView,c=bC(n,o,t,4096&n[Hn]?4096:16,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);c[hu]=n[e.index];const d=n[bo];return null!==d&&(c[bo]=d.createEmbeddedView(o)),ZD(o,c,t),c}finally{z(r)}}function iU(n,e){const t=Xr+e;if(t<n.length)return n[t]}function zg(n,e){return!e||null===e.firstChild||wg(n)}function sv(n,e,t,i=!0){const r=e[an];if(function LD(n,e,t,i){const r=Xr+i,o=t.length;i>0&&(t[r-1][wc]=e),i<o-Xr?(e[wc]=t[r],xx(t,Xr+i,e)):(t.push(e),e[wc]=null),e[ao]=t;const s=e[hu];null!==s&&t!==s&&function BD(n,e){const t=n[eo];e[Zi]!==e[ao][ao][Zi]&&(n[Hn]|=Qm.HasTransplantedViews),null===t?n[eo]=[e]:t.push(e)}(s,e);const a=e[bo];null!==a&&a.insertView(n),$f(e),e[Hn]|=128}(r,e,n,t),i){const s=_t(t,n),a=e[Xn],c=Ug(a,n[$c]);null!==c&&function ND(n,e,t,i,r,o){i[zr]=r,i[ds]=e,pn(n,i,t,1,r,o)}(r,n[ds],a,e,c,s)}const o=e[ca];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function eR(n,e){const t=vp(n,e);return void 0!==t&&jg(t[an],t),t}function av(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(pr(o)),Yo(o)&&rU(o,i);const s=t.type;if(8&s)av(n,e,t.child,i);else if(32&s){const a=Zy(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=ut(e,t);if(Array.isArray(a))i.push(...a);else{const c=ua(e[Zi]);av(c[an],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function rU(n,e){for(let t=Xr;t<n.length;t++){const i=n[t],r=i[an].firstChild;null!==r&&av(i[an],i,r,e)}n[$c]!==n[zr]&&e.push(n[$c])}let oU=[];const _te={...y,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{gu(n.lView)},consumerOnSignalRead(){this.lView[la]=this}},sU=100;function wC(n,e=!0,t=0){const i=n[Ns],r=i.rendererFactory;r.begin?.();try{!function bte(n,e){tR(n,e);let t=0;for(;og(n);){if(t===sU)throw new wt(103,!1);t++,tR(n,1)}}(n,t)}catch(s){throw e&&vC(n,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function yte(n,e,t,i){const r=e[Hn];if(!(256&~r))return;e[Ns].inlineEffectRunner?.flush(),gy(e);let s=null,a=null;(function vte(n){return 2!==n.type})(n)&&(a=function pte(n){return n[la]??function mte(n){const e=oU.pop()??Object.create(_te);return e.lView=n,e}(n)}(e),s=xe(a));try{Wf(e),function Yf(n){return ii.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Wj(n,e,t,2,i);const c=!(3&~r);if(c){const h=n.preOrderCheckHooks;null!==h&&Jf(e,h,null)}else{const h=n.preOrderHooks;null!==h&&hg(e,h,0,null),fg(e,0)}if(function wte(n){for(let e=ap(n);null!==e;e=OE(e)){if(!(e[Hn]&Qm.HasTransplantedViews))continue;const t=e[eo];for(let i=0;i<t.length;i++){Wx(t[i])}}}(e),aU(e,0),null!==n.contentQueries&&Zj(n,e),c){const h=n.contentCheckHooks;null!==h&&Jf(e,h)}else{const h=n.contentHooks;null!==h&&hg(e,h,1),fg(e,1)}!function Vee(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)Jc(~r);else{const o=r,s=t[++i],a=t[++i];sg(s,o),a(2,e[o])}}}finally{Jc(-1)}}(n,e);const l=n.components;null!==l&&lU(e,l,0);const d=n.viewQuery;if(null!==d&&JD(2,d,i),c){const h=n.viewCheckHooks;null!==h&&Jf(e,h)}else{const h=n.viewHooks;null!==h&&hg(e,h,2),fg(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[id]){for(const h of e[id])h();e[id]=null}e[Hn]&=-73}catch(c){throw gu(e),c}finally{null!==a&&(Oe(a,s),function gte(n){n.lView[la]!==n&&(n.lView=null,oU.push(n))}(a)),Kf()}}function aU(n,e){for(let t=ap(n);null!==t;t=OE(t))for(let i=Xr;i<t.length;i++)cU(t[i],e)}function xte(n,e,t){cU(da(e,n),t)}function cU(n,e){qc(n)&&tR(n,e)}function tR(n,e){const i=n[an],r=n[Hn],o=n[la];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!o?.dirty||!ze(o)),o&&(o.dirty=!1),n[Hn]&=-9217,s)yte(i,n,i.template,n[Cr]);else if(8192&r){aU(n,1);const a=i.components;null!==a&&lU(n,a,1)}}function lU(n,e,t){for(let i=0;i<e.length;i++)xte(n,e[i],t)}function cv(n){for(n[Ns].changeDetectionScheduler?.notify();n;){n[Hn]|=64;const e=ua(n);if(Vf(n)&&!e)return n;n=e}return null}class lv{get rootNodes(){const e=this._lView,t=e[an];return av(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Cr]}set context(e){this._lView[Cr]=e}get destroyed(){return!(256&~this._lView[Hn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ao];if(Yo(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(vp(e,i),vl(t,i))}this._attachedToViewContainer=!1}jg(this._lView[an],this._lView)}onDestroy(e){Ec(this._lView,e)}markForCheck(){cv(this._cdRefInjectingView||this._lView)}detach(){this._lView[Hn]&=-129}reattach(){$f(this._lView),this._lView[Hn]|=128}detectChanges(){this._lView[Hn]|=1024,wC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new wt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,fC(this._lView[an],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new wt(902,!1);this._appRef=e,$f(this._lView)}}let tc=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Ste}return n})();const Ete=tc,Cte=class extends Ete{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=ov(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new lv(r)}};function Ste(){return xC(or(),Lt())}function xC(n,e){return 4&n.type?new Cte(e,n,yh(n,e)):null}let mU=()=>null;function Hg(n,e){return mU(n,e)}class TC{}class Xte{}class gU{}class Jte{resolveComponentFactory(e){throw function Kte(n){const e=Error(`No component factory found for ${Di(n)}.`);return e.ngComponent=n,e}(e)}}let Ih=(()=>{class n{static#e=this.NULL=new Jte}return n})();class aR{}let ud=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Qte(){const n=Lt(),t=da(or().index,n);return(Rr(t)?t:n)[Xn]}()}return n})(),Zte=(()=>{class n{static#e=this.\u0275prov=Ot({token:n,providedIn:"root",factory:()=>null})}return n})();const cR={},bU=new Set;function hd(n){bU.has(n)||(bU.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function yU(...n){}class _n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qt(!1),this.onMicrotaskEmpty=new Qt(!1),this.onStable=new Qt(!1),this.onError=new Qt(!1),typeof Zone>"u")throw new wt(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function ene(){const n="function"==typeof ni.requestAnimationFrame;let e=ni[n?"requestAnimationFrame":"setTimeout"],t=ni[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function ine(n){const e=()=>{!function nne(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ni,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,dR(n),n.isCheckStableRunning=!0,lR(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),dR(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function rne(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return vU(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),wU(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return vU(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),wU(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,dR(n),lR(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_n.isInAngularZone())throw new wt(909,!1)}static assertNotInAngularZone(){if(_n.isInAngularZone())throw new wt(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,tne,yU,yU);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const tne={};function lR(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function dR(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function vU(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function wU(n){n._nesting--,lR(n)}class xU{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qt,this.onMicrotaskEmpty=new Qt,this.onStable=new Qt,this.onError=new Qt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}let pv=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Ot({token:n,providedIn:"root",factory:()=>new n})}return n})();function IC(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=as(r,a):2==o&&(i=as(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class MU extends Ih{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=yi(e);return new _v(t,this.ngModule)}}function IU(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const i=n[t];void 0!==i&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}class DU{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Df(i);const r=this.injector.get(e,cR,i);return r!==cR||t===cR?r:this.parentInjector.get(e,t,i)}}class _v extends gU{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=IU(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return IU(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Mx(n){return n.map(Wm).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){const o=z(null);try{let s=(r=r||this.ngModule)instanceof qo?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new DU(e,s):e,c=a.get(aR,null);if(null===c)throw new wt(407,!1);const l=a.get(Zte,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:a.get(pv,null),changeDetectionScheduler:a.get(TC,null)},m=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",v=i?function Hee(n,e,t,i){const o=i.get(zE,!1)||t===yc.ShadowDom,s=n.selectRootElement(e,o);return function Gee(n){qj(n)}(s),s}(m,i,this.componentDef.encapsulation,a):Mh(m,g,function dne(n){const e=n.toLowerCase();return"svg"===e?vi:"math"===e?"math":null}(g));let E=512;this.componentDef.signals?E|=4096:this.componentDef.onPush||(E|=16);let L=null;null!==v&&(L=By(v,a,!0));const H=qD(0,null,null,1,0,null,null,null,null,null,null),le=bC(null,H,null,E,null,null,f,m,a,null,L);let se,Pe;gy(le);try{const $e=this.componentDef;let ct,pt=null;$e.findHostDirectiveDefs?(ct=[],pt=new Map,$e.findHostDirectiveDefs($e,ct,pt),ct.push($e)):ct=[$e];const tt=function hne(n,e){const t=n[an],i=ui;return n[i]=e,Vg(t,i,2,"#host",null)}(le,v),yt=function fne(n,e,t,i,r,o,s){const a=r[an];!function pne(n,e,t,i){for(const r of n)e.mergedAttrs=ed(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(IC(e,e.mergedAttrs,!0),null!==t&&va(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=By(e,r[Ro]));const l=o.rendererFactory.createRenderer(e,t);let d=16;t.signals?d=4096:t.onPush&&(d=64);const h=bC(r,$j(t),null,d,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&XD(a,n,i.length-1),yC(r,h),r[n.index]=h}(tt,v,$e,ct,le,f,m);Pe=pu(H,ui),v&&function gne(n,e,t,i){if(i)Xb(n,t,["ng-version","17.3.2"]);else{const{attrs:r,classes:o}=function kf(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!vc(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Xb(n,t,r),o&&o.length>0&&ji(n,t,o.join(" "))}}(m,$e,v,i),void 0!==t&&function _ne(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(Pe,this.ngContentSelectors,t),se=function mne(n,e,t,i,r,o){const s=or(),a=r[an],c=Fs(s,r);Kj(a,r,s,t,null,i);for(let d=0;d<t.length;d++)Cs(wu(r,a,s.directiveStart+d,s),r);Jj(a,r,s),c&&Cs(c,r);const l=wu(r,a,s.directiveStart+s.componentOffset,s);if(n[Cr]=r[Cr]=l,null!==o)for(const d of o)d(l,e);return GD(a,s,r),l}(yt,$e,ct,pt,le,[bne]),ZD(H,le,null)}finally{Kf()}return new une(this.componentType,se,yh(Pe,le),le,Pe)}finally{z(o)}}}class une extends Xte{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new lv(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;QD(o[an],o,r,e,t),this.previousInputValues.set(e,t),cv(da(this._tNode.index,o))}}get injector(){return new ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function bne(){const n=or();ug(Lt()[an],n)}let Ts=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=yne}return n})();function yne(){return kU(or(),Lt())}const vne=Ts,RU=class extends vne{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return yh(this._hostTNode,this._hostLView)}get injector(){return new ko(this._hostTNode,this._hostLView)}get parentInjector(){const e=ip(this._hostTNode,this._hostLView);if(mg(e)){const t=Zf(e,this._hostLView),i=Qf(e);return new ko(t[an].data[i+8],t)}return new ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=OU(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Xr}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=Hg(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,zg(this._hostTNode,s)),a}createComponent(e,t,i,r,o){const s=e&&!function Ff(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const g=t||{};a=g.index,i=g.injector,r=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const c=s?e:new _v(yi(e)),l=i||this.parentInjector;if(!o&&null==c.ngModule){const v=(s?l:this.parentInjector).get(qo,null);v&&(o=v)}const d=yi(c.componentType??{}),h=Hg(this._lContainer,d?.id??null),m=c.create(l,r,h?.firstChild??null,o);return this.insertImpl(m.hostView,a,zg(this._hostTNode,h)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function ay(n){return Yo(n[ao])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=r[ao],l=new RU(c,c[ds],c[ao]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return sv(s,r,o,i),e.attachToViewContainerRef(),xx(pR(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=OU(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=vp(this._lContainer,t);i&&(vl(pR(this._lContainer),t),jg(i[an],i))}detach(e){const t=this._adjustIndex(e,-1),i=vp(this._lContainer,t);return i&&null!=vl(pR(this._lContainer),t)?new lv(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function OU(n){return n[8]}function pR(n){return n[8]||(n[8]=[])}function kU(n,e){let t;const i=e[n.index];return Yo(i)?t=i:(t=Qj(i,e,null,n),e[n.index]=t,yC(e,t)),PU(t,e,n,i),new RU(t,n,e)}let PU=function FU(n,e,t,i){if(n[$c])return;let r;r=8&t.type?pr(i):function wne(n,e){const t=n[Xn],i=t.createComment(""),r=Fs(e,n);return Cu(t,Ug(t,r),i,function zD(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[$c]=r},mR=()=>!1;class gR{constructor(e){this.queryList=e,this.matches=null}clone(){return new gR(this.queryList)}setDirty(){this.queryList.setDirty()}}class _R{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new _R(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==xR(e,t).matches&&this.queries[t].setDirty()}}class LU{constructor(e,t,i=null){this.flags=t,this.read=i,this.predicate="string"==typeof e?function Ine(n){return n.split(",").map(e=>e.trim())}(e):e}}class bR{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new bR(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class yR{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new yR(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,Sne(t,o)),this.matchTNodeWithReadOption(e,t,bg(t,e,o,!1,!1))}else i===tc?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,bg(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===kn||r===Ts||r===tc&&4&t.type)this.addMatch(t.index,-2);else{const o=bg(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Sne(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function Tne(n,e,t,i){return-1===t?function Ane(n,e){return 11&n.type?yh(n,e):4&n.type?xC(n,e):null}(e,n):-2===t?function Mne(n,e,t){return t===kn?yh(e,n):t===tc?xC(e,n):t===Ts?kU(e,n):void 0}(n,e,i):wu(n,n[an],t,e)}function BU(n,e,t,i){const r=e[bo].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const l=s[c];a.push(l<0?null:Tne(e,o[l],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function vR(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=BU(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],d=e[-c];for(let h=Xr;h<d.length;h++){const f=d[h];f[hu]===f[ao]&&vR(f[an],f,l,i)}if(null!==d[eo]){const h=d[eo];for(let f=0;f<h.length;f++){const m=h[f];vR(m[an],m,l,i)}}}}}return i}function jU(n,e,t){const i=new vh(!(4&~t));return function qee(n,e,t,i){const r=eU(e);r.push(t),n.firstCreatePass&&tU(n).push(i,r.length-1)}(n,e,i,i.destroy),(e[bo]??=new _R).queries.push(new gR(i))-1}function zU(n,e,t){null===n.queries&&(n.queries=new bR),n.queries.track(new yR(e,t))}function xR(n,e){return n.queries.getByIndex(e)}function HU(n,e){const t=n[an],i=xR(t,e);return i.crossesNgTemplate?vR(t,n,e,[]):BU(t,n,i,e)}function DC(n){return"function"==typeof n&&void 0!==n[$]}function WU(n){return DC(n)&&"function"==typeof n.set}function mi(n){let e=function nV(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Or(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new wt(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=OC(n.inputs),s.inputTransforms=OC(n.inputTransforms),s.declaredInputs=OC(n.declaredInputs),s.outputs=OC(n.outputs);const a=r.hostBindings;a&&Wne(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&Hne(n,c),l&&Gne(n,l),Vne(n,r),_c(n.outputs,r.outputs),Or(r)&&r.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===mi&&(t=!1)}}e=Object.getPrototypeOf(e)}!function zne(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ed(r.hostAttrs,t=ed(t,r.hostAttrs))}}(i)}function Vne(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const i=e.inputs[t];if(void 0!==i&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function OC(n){return n===Mt?{}:n===tn?[]:n}function Hne(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function Gne(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function Wne(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function Hr(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}class xp{}class sV{}class CR extends xp{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new MU(this);const r=function xs(n,e){const t=n[gx]||null;if(!t&&!0===e)throw new Error(`Type ${Di(n)} does not have '\u0275mod' property.`);return t}(e);this._bootstrapComponents=function Sr(n){return n instanceof Function?n():n}(r.bootstrap),this._r3Injector=bE(e,t,[{provide:xp,useValue:this},{provide:Ih,useValue:this.componentFactoryResolver},...i],Di(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class SR extends sV{constructor(e){super(),this.moduleType=e}create(e){return new CR(this.moduleType,e,[])}}class aV extends xp{constructor(e){super(),this.componentFactoryResolver=new MU(this),this.instance=null;const t=new Cl([...e.providers,{provide:xp,useValue:this},{provide:Ih,useValue:this.componentFactoryResolver}],e.parent||Re(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}let Oh=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ir(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PC(n){return!!function TR(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function fd(n,e,t){return n[e]=t}function Po(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Ep(n,e,t,i){const r=Po(n,e,t);return Po(n,e+1,i)||r}function mn(n,e,t,i,r,o,s,a){const c=Lt(),l=Ri(),d=n+ui,h=l.firstCreatePass?function rie(n,e,t,i,r,o,s,a,c){const l=e.consts,d=Vg(e,n,4,s||null,xc(l,a));YD(e,t,d,xc(l,c)),ug(e,d);const h=d.tView=qD(2,d,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(d,l,c,e,t,i,r,o,s):l.data[d];Cc(h,!1);const f=cV(l,c,h,n);mh()&&Le(l,c,f,h),Cs(f,c);const m=Qj(f,c,f,h);return c[d]=m,yC(c,m),function NU(n,e,t){return mR(n,e,t)}(m,h,c),Uf(h)&&WD(l,c,h),null!=s&&$D(c,h,a),mn}let cV=function lV(n,e,t,i){return kr(!0),e[Xn].createComment("")};function fi(n,e,t,i){const r=Lt();return Po(r,Na(),e)&&(Ri(),dd(er(),r,n,e,t,i)),fi}function Qg(n,e,t,i){return Po(n,Na(),t)?e+Yn(t)+i:jn}function Zg(n,e,t,i,r,o){const a=Ep(n,function Xc(){return ii.lFrame.bindingIndex}(),t,r);return Xa(2),a?e+Yn(t)+i+Yn(r)+o:jn}function VC(n,e){return n<<17|e<<2}function Ph(n){return n>>17&32767}function LR(n){return 2|n}function Sp(n){return(131068&n)>>2}function BR(n,e){return-131069&n|e<<2}function jR(n){return 1|n}function UV(n,e,t,i){const r=n[t+1],o=null===e;let s=i?Ph(r):Sp(r),a=!1;for(;0!==s&&(!1===a||o);){const l=n[s+1];Hie(n[s],e)&&(a=!0,n[s+1]=i?jR(l):LR(l)),s=i?Ph(l):Sp(l)}a&&(n[t+1]=i?LR(r):jR(r))}function Hie(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&wl(n,e)>=0}const hs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VV(n){return n.substring(hs.key,hs.keyEnd)}function Gie(n){return n.substring(hs.value,hs.valueEnd)}function zV(n,e){const t=hs.textEnd;return t===e?-1:(e=hs.keyEnd=function qie(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,hs.key=e,t),s_(n,e,t))}function HV(n,e){const t=hs.textEnd;let i=hs.key=s_(n,e,t);return t===i?-1:(i=hs.keyEnd=function Yie(n,e,t){let i;for(;e<t&&(45===(i=n.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)e++;return e}(n,i,t),i=WV(n,i,t),i=hs.value=s_(n,i,t),i=hs.valueEnd=function Xie(n,e,t){let i=-1,r=-1,o=-1,s=e,a=s;for(;s<t;){const c=n.charCodeAt(s++);if(59===c)return a;34===c||39===c?a=s=$V(n,c,s,t):e===s-4&&85===o&&82===r&&76===i&&40===c?a=s=$V(n,41,s,t):c>32&&(a=s),o=r,r=i,i=-33&c}return a}(n,i,t),WV(n,i,t))}function GV(n){hs.key=0,hs.keyEnd=0,hs.value=0,hs.valueEnd=0,hs.textEnd=n.length}function s_(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function WV(n,e,t,i){return(e=s_(n,e,t))<t&&e++,e}function $V(n,e,t,i){let r=-1,o=t;for(;o<i;){const s=n.charCodeAt(o++);if(s==e&&92!==r)return o;r=92==s&&92===r?0:s}throw new Error}function Rt(n,e,t){const i=Lt();return Po(i,Na(),e)&&ec(Ri(),er(),i,n,e,i[Xn],t,!1),Rt}function UR(n,e,t,i,r){const s=r?"class":"style";QD(n,t,e.inputs[s],s,i)}function Nh(n,e,t){return Ol(n,e,t,!1),Nh}function bn(n,e){return Ol(n,e,null,!0),bn}function Kie(n,e){for(let t=function $ie(n){return GV(n),HV(n,s_(n,0,hs.textEnd))}(e);t>=0;t=HV(e,t))XV(n,VV(e),Gie(e))}function Ei(n){kl(nre,pd,n,!0)}function pd(n,e){for(let t=function Wie(n){return GV(n),zV(n,s_(n,0,hs.textEnd))}(e);t>=0;t=zV(e,t))Oa(n,VV(e),!0)}function Ol(n,e,t,i){const r=Lt(),o=Ri(),s=Xa(2);o.firstUpdatePass&&YV(o,n,s,i),e!==jn&&Po(r,s,e)&&KV(o,o.data[Ko()],r,r[Xn],n,r[s+1]=function rre(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Di(ya(n)))),n}(e,t),i,s)}function kl(n,e,t,i){const r=Ri(),o=Xa(2);r.firstUpdatePass&&YV(r,null,o,i);const s=Lt();if(t!==jn&&Po(s,o,t)){const a=r.data[Ko()];if(QV(a,i)&&!qV(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=as(c,t||"")),UR(r,a,s,t,i)}else!function ire(n,e,t,i,r,o,s,a){r===jn&&(r=tn);let c=0,l=0,d=0<r.length?r[0]:null,h=0<o.length?o[0]:null;for(;null!==d||null!==h;){const f=c<r.length?r[c+1]:void 0,m=l<o.length?o[l+1]:void 0;let v,g=null;d===h?(c+=2,l+=2,f!==m&&(g=h,v=m)):null===h||null!==d&&d<h?(c+=2,g=d):(l+=2,g=h,v=m),null!==g&&KV(n,e,t,i,g,v,s,a),d=c<r.length?r[c]:null,h=l<o.length?o[l]:null}}(r,a,s,s[Xn],s[o+1],s[o+1]=function tre(n,e,t){if(null==t||""===t)return tn;const i=[],r=ya(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,o)}}function qV(n,e){return e>=n.expandoStartIndex}function YV(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Ko()],s=qV(n,t);QV(o,i)&&null===e&&!s&&(e=!1),e=function Jie(n,e,t,i){const r=py(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Cv(t=VR(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=VR(r,n,e,t,i),null===o){let c=function Qie(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Sp(i))return n[Ph(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=VR(null,n,e,c[1],i),c=Cv(c,e.attrs,i),function Zie(n,e,t,i){n[Ph(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function ere(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=Cv(i,n[o].hostAttrs,t);return Cv(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function Vie(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Ph(s),c=Sp(s);n[i]=t;let d,l=!1;if(Array.isArray(t)?(d=t[1],(null===d||wl(t,d)>0)&&(l=!0)):d=t,r)if(0!==c){const f=Ph(n[a+1]);n[i+1]=VC(f,a),0!==f&&(n[f+1]=BR(n[f+1],i)),n[a+1]=function jie(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=VC(a,0),0!==a&&(n[a+1]=BR(n[a+1],i)),a=i;else n[i+1]=VC(c,0),0===a?a=i:n[c+1]=BR(n[c+1],i),c=i;l&&(n[i+1]=LR(n[i+1])),UV(n,d,i,!0),UV(n,d,i,!1),function zie(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&wl(o,e)>=0&&(t[i+1]=jR(t[i+1]))}(e,d,n,i,o),s=VC(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}function VR(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=Cv(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Cv(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Oa(n,s,!!t||e[++o]))}return void 0===n?null:n}function XV(n,e,t){Oa(n,e,ya(t))}function nre(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&Oa(n,i,t)}function KV(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],d=function Uie(n){return!(1&~n)}(l)?JV(c,e,t,r,Sp(l),s):void 0;zC(d)||(zC(o)||function Bie(n){return!(2&~n)}(l)&&(o=JV(c,null,t,r,a,s)),function Zn(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:ld.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ld.Important),n.setStyle(t,i,r,o))}}(i,s,Es(Ko(),t),r,o))}function JV(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),d=l?c[1]:c,h=null===d;let f=t[r+1];f===jn&&(f=h?tn:void 0);let m=h?Yb(f,i):d===i?f:void 0;if(l&&!zC(m)&&(m=Yb(c,i)),zC(m)&&(a=m,s))return a;const g=n[r+1];r=s?Ph(g):Sp(g)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=Yb(c,i))}return a}function zC(n){return void 0!==n}function QV(n,e){return!!(n.flags&(e?8:16))}class pre{destroy(e){}updateValue(e,t){}swap(e,t){const i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){const s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}}function zR(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function HR(n,e,t,i){return!(void 0===e||!e.has(i)||(n.attach(t,e.get(i)),e.delete(i),0))}function ez(n,e,t,i,r){if(HR(n,e,i,t(i,r)))n.updateValue(i,r);else{const o=n.create(i,r);n.attach(i,o)}}function tz(n,e,t,i){const r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}class nz{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const t=this.kvMap.get(e);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);void 0===this._vMap&&(this._vMap=new Map);const r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),void 0!==this._vMap){const r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}}function $i(n,e,t){hd("NgControlFlow");const i=Lt(),r=Na(),o=GR(i,ui+n);if(Po(i,r,e)){const a=z(null);try{if(eR(o,0),-1!==e){const c=WR(i[an],ui+e),l=Hg(o,c.tView.ssrId);sv(o,ov(i,c,t,{dehydratedView:l}),0,zg(c,l))}}finally{z(a)}}else{const a=iU(o,0);void 0!==a&&(a[Cr]=t)}}class gre{constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-Xr}}function iz(n,e){return e}class bre{constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}}class yre extends pre{constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Xr}at(e){return this.getLView(e)[Cr].$implicit}attach(e,t){const i=t[ca];this.needsIndexUpdate||=e!==this.length,sv(this.lContainer,t,e,zg(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,function vre(n,e){return vp(n,e)}(this.lContainer,e)}create(e,t){const i=Hg(this.lContainer,this.templateTNode.tView.ssrId);return ov(this.hostLView,this.templateTNode,new gre(this.lContainer,t,e),{dehydratedView:i})}destroy(e){jg(e[an],e)}updateValue(e,t){this.getLView(e)[Cr].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Cr].$index=e}getLView(e){return function wre(n,e){return iU(n,e)}(this.lContainer,e)}}function GR(n,e){return n[e]}function WR(n,e){return pu(n,e)}function Xe(n,e,t,i){const r=Lt(),o=Ri(),s=ui+n,a=r[Xn],c=o.firstCreatePass?function xre(n,e,t,i,r,o){const s=e.consts,c=Vg(e,n,2,i,xc(s,r));return YD(e,t,c,xc(s,o)),null!==c.attrs&&IC(c,c.attrs,!1),null!==c.mergedAttrs&&IC(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],l=sz(o,r,c,a,e,n);r[s]=l;const d=Uf(c);return Cc(c,!0),va(a,l,c),!function vv(n){return!(32&~n.flags)}(c)&&mh()&&Le(o,r,l,c),0===function rI(){return ii.lFrame.elementDepthCount}()&&Cs(l,r),function oI(){ii.lFrame.elementDepthCount++}(),d&&(WD(o,r,c),GD(o,c,r)),null!==i&&$D(r,c),Xe}function ot(){let n=or();od()?bu():(n=n.parent,Cc(n,!1));const e=n;(function aI(n){return ii.skipHydrationRootTNode===n})(e)&&function Yc(){ii.skipHydrationRootTNode=null}(),function sI(){ii.lFrame.elementDepthCount--}();const t=Ri();return t.firstCreatePass&&(ug(t,n),ph(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function fI(n){return!!(8&n.flags)}(e)&&UR(t,e,Lt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function pI(n){return!!(16&n.flags)}(e)&&UR(t,e,Lt(),e.stylesWithoutHost,!1),ot}function yn(n,e,t,i){return Xe(n,e,t,i),ot(),yn}let sz=(n,e,t,i,r,o)=>(kr(!0),Mh(i,r,function Zx(){return ii.lFrame.currentNamespace}()));function Sv(n,e,t){const i=Lt(),r=Ri(),o=n+ui,s=r.firstCreatePass?function Sre(n,e,t,i,r){const o=e.consts,s=xc(o,i),a=Vg(e,n,8,"ng-container",s);return null!==s&&IC(a,s,!0),YD(e,t,a,xc(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];Cc(s,!0);const a=az(r,i,s,n);return i[o]=a,mh()&&Le(r,i,a,s),Cs(a,i),Uf(s)&&(WD(r,i,s),GD(r,s,i)),null!=t&&$D(i,s),Sv}function Av(){let n=or();const e=Ri();return od()?bu():(n=n.parent,Cc(n,!1)),e.firstCreatePass&&(ug(e,n),ph(n)&&e.queries.elementEnd(n)),Av}function $R(n,e,t){return Sv(n,e,t),Av(),$R}let az=(n,e,t,i)=>(kr(!0),yp(e[Xn],""));function Ki(){return Lt()}function La(n,e,t){const i=Lt();return Po(i,Na(),e)&&ec(Ri(),er(),i,n,e,i[Xn],t,!0),La}function Tv(n,e,t){const i=Lt();if(Po(i,Na(),e)){const o=Ri(),s=er();ec(o,s,i,n,e,nU(py(o.data),s,i),t,!0)}return Tv}const Ap=void 0;var Ire=["en",[["a","p"],["AM","PM"],Ap],[["AM","PM"],Ap,Ap],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ap,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ap,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ap,"{1} 'at' {0}",Ap],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Mre(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let a_={};function lz(n){return n in a_||(a_[n]=ni.ng&&ni.ng.common&&ni.ng.common.locales&&ni.ng.common.locales[n]),a_[n]}var Gr=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Gr||{});const c_="en-US";let dz=c_;function Bt(n,e,t,i){const r=Lt(),o=Ri(),s=or();return XR(o,r,r[Xn],s,n,e,i),Bt}function qC(n,e){const t=or(),i=Lt(),r=Ri();return XR(r,i,nU(py(r.data),t,i),t,n,e),qC}function XR(n,e,t,i,r,o,s){const a=Uf(i),l=n.firstCreatePass&&tU(n),d=e[Cr],h=eU(e);let f=!0;if(3&i.type||s){const v=Fs(i,e),E=s?s(v):v,L=h.length,H=s?se=>s(pr(se[i.index])):i.index;let le=null;if(!s&&a&&(le=function Aoe(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[hh],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==le)(le.__ngLastListenerFn__||le).__ngNextListenerFn__=o,le.__ngLastListenerFn__=o,f=!1;else{o=Lz(i,e,d,o,!1);const se=t.listen(E,r,o);h.push(o,se),l&&l.push(r,H,L,L+1)}}else o=Lz(i,e,d,o,!1);const m=i.outputs;let g;if(f&&null!==m&&(g=m[r])){const v=g.length;if(v)for(let E=0;E<v;E+=2){const Pe=e[g[E]][g[E+1]].subscribe(o),$e=h.length;h.push(o,Pe),l&&l.push(r,i.index,$e,-($e+1))}}}function Fz(n,e,t,i){const r=z(null);try{return Ya(6,e,t),!1!==t(i)}catch(o){return vC(n,o),!1}finally{Ya(7,e,t),z(r)}}function Lz(n,e,t,i,r){return function o(s){if(s===Function)return i;cv(n.componentOffset>-1?da(n.index,e):e);let c=Fz(e,t,i,s),l=o.__ngNextListenerFn__;for(;l;)c=Fz(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function In(n=1){return function by(n){return(ii.lFrame.contextLView=function rg(n,e){for(;n>0;)e=e[fh],n--;return e}(n,ii.lFrame.contextLView))[Cr]}(n)}function Toe(n,e){let t=null;const i=function Hm(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?xl(n,o,!0):Tx(i,o))return r}else t=r}return t}function yr(n){const e=Lt()[Zi][ds];if(!e.projection){const i=e.projection=function oa(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?Toe(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function zn(n,e=0,t){const i=Lt(),r=Ri(),o=Vg(r,ui+n,16,null,t||null);null===o.projection&&(o.projection=e),bu(),(!i[ca]||_u())&&32&~o.flags&&function Ln(n,e,t){Kn(e[Xn],0,e,t,nv(n,t,e),u(t.parent||e[ds],t,e))}(r,i,o)}function YC(n,e,t){return KR(n,"",e,"",t),YC}function KR(n,e,t,i,r){const o=Lt(),s=Qg(o,e,t,i);return s!==jn&&ec(Ri(),er(),o,n,s,o[Xn],r,!1),KR}function mr(n,e,t,i){!function VU(n,e,t,i){const r=Ri();if(r.firstCreatePass){const o=or();zU(r,new LU(e,t,i),o.index),function Dne(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),!(2&~t)&&(r.staticContentQueries=!0)}return jU(r,Lt(),t)}(n,e,t,i)}function ki(n,e,t){!function UU(n,e,t){const i=Ri();return i.firstCreatePass&&(zU(i,new LU(n,e,t),-1),!(2&~e)&&(i.staticViewQueries=!0)),jU(i,Lt(),e)}(n,e,t)}function Dn(n){const e=Lt(),t=Ri(),i=ag();Ka(i+1);const r=xR(t,i);if(n.dirty&&function Pa(n){return!(4&~n[Hn])}(e)===!(2&~r.metadata.flags)){if(null===r.matches)n.reset([]);else{const o=HU(e,i);n.reset(o,xE),n.notifyOnChanges()}return!0}return!1}function Rn(){return function wR(n,e){return n[bo].queries[e].queryList}(Lt(),ag())}function Ms(n){return mu(function cI(){return ii.lFrame.contextLView}(),ui+n)}function Yt(n,e=""){const t=Lt(),i=Ri(),r=n+ui,o=i.firstCreatePass?Vg(i,r,1,e,null):i.data[r],s=t4(i,t,o,e,n);t[r]=s,mh()&&Le(i,t,s,o),Cc(o,!1)}let t4=(n,e,t,i,r)=>(kr(!0),function ev(n,e){return n.createText(e)}(e[Xn],i));function Lo(n){return yo("",n,""),Lo}function yo(n,e,t){const i=Lt(),r=Qg(i,n,e,t);return r!==jn&&Su(i,Ko(),r),yo}function XC(n,e,t,i,r){const o=Lt(),s=Zg(o,n,e,t,i,r);return s!==jn&&Su(o,Ko(),s),XC}function JR(n,e,t){WU(e)&&(e=e());const i=Lt();return Po(i,Na(),e)&&ec(Ri(),er(),i,n,e,i[Xn],t,!1),JR}function QR(n,e){const t=Lt(),i=Ri(),r=or();return XR(i,t,t[Xn],r,n,e),QR}function ZR(n,e,t,i,r){if(n=Un(n),Array.isArray(n))for(let o=0;o<n.length;o++)ZR(n[o],e,t,i,r);else{const o=Ri(),s=Lt(),a=or();let c=cu(n)?n:Un(n.provide);const l=kx(n),d=1048575&a.providerIndexes,h=a.directiveStart,f=a.providerIndexes>>20;if(cu(n)||!n.multi){const m=new Oo(l,r,Ae),g=tO(c,e,r?d:d+f,h);-1===g?(Ja(tp(a,s),o,c),eO(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[g]=m,s[g]=m)}else{const m=tO(c,e,d+f,h),g=tO(c,e,d,d+f),E=g>=0&&t[g];if(r&&!E||!r&&!(m>=0&&t[m])){Ja(tp(a,s),o,c);const L=function $oe(n,e,t,i,r){const o=new Oo(n,t,Ae);return o.multi=[],o.index=e,o.componentProviders=0,d4(o,r,i&&!t),o}(r?Woe:Goe,t.length,r,i,l);!r&&E&&(t[g].providerFactory=L),eO(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(L),s.push(L)}else eO(o,n,m>-1?m:g,d4(t[r?g:m],l,!r&&i));!r&&i&&E&&t[g].componentProviders++}}}function eO(n,e,t,i){const r=cu(e),o=function NM(n){return!!n.useClass}(e);if(r||o){const c=(o?Un(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const d=l.indexOf(t);-1===d?l.push(t,[i,c]):l[d+1].push(i,c)}else l.push(t,c)}}}function d4(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function tO(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function Goe(n,e,t,i){return nO(this.multi,[])}function Woe(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=wu(t,t[an],this.providerFactory.index,i);o=a.slice(0,s),nO(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],nO(r,o);return o}function nO(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ei(n,e=[]){return t=>{t.providersResolver=(i,r)=>function Hoe(n,e,t){const i=Ri();if(i.firstCreatePass){const r=Or(n);ZR(t,i.data,i.blueprint,r,!0),ZR(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}let qoe=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=su(0,t.type),r=i.length>0?function AR(n,e,t=null){return new aV({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ot({token:n,providedIn:"environment",factory:()=>new n(et(qo))})}return n})();function Ui(n){hd("NgStandalone"),n.getStandaloneInjector=e=>e.get(qoe).getOrCreateStandaloneInjector(n)}function Tp(n,e,t){const i=Xo()+n,r=Lt();return r[i]===jn?fd(r,i,t?e.call(t):e()):function yv(n,e){return n[e]}(r,i)}function Pv(n,e){const t=n[e];return t===jn?void 0:t}function ri(n,e){const t=Ri();let i;const r=n+ui;t.firstCreatePass?(i=function ose(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=ia(i.type)),a=Ps(Ae);try{const c=ep(!1),l=o();return ep(c),function Roe(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,Lt(),r,l),l}finally{Ps(a)}}function ai(n,e,t){const i=n+ui,r=Lt(),o=mu(r,i);return Nv(r,i)?function h4(n,e,t,i,r,o){const s=e+t;return Po(n,s,r)?fd(n,s+1,o?i.call(o,r):i(r)):Pv(n,s+1)}(r,Xo(),e,o.transform,t,o):o.transform(t)}function _4(n,e,t,i){const r=n+ui,o=Lt(),s=mu(o,r);return Nv(o,r)?function f4(n,e,t,i,r,o,s){const a=e+t;return Ep(n,a,r,o)?fd(n,a+2,s?i.call(s,r,o):i(r,o)):Pv(n,a+2)}(o,Xo(),e,s.transform,t,i,s):s.transform(t,i)}function Nv(n,e){return n[an].data[e].pure}function Fv(n,e){return xC(n,e)}const B4=new vt(""),ZC=new vt("");let dO,cO=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,dO||(function tae(n){dO=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_n.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(et(_n),et(lO),et(ZC))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})(),lO=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return dO?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function u_(n){return!!n&&"function"==typeof n.then}function j4(n){return!!n&&"function"==typeof n.subscribe}const uO=new vt("");let hO=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=kt(uO,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(u_(o))t.push(o);else if(j4(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const jv=new vt("");function z4(n,e){return Array.isArray(e)?e.reduce(z4,n):{...n,...e}}let Au=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=kt(vE),this.afterRenderEffectManager=kt(pv),this.externalTestViews=new Set,this.beforeRender=new on,this.afterTick=new on,this.componentTypes=[],this.components=[],this.isStable=kt(Oh).hasPendingTasks.pipe(Vt(t=>!t)),this._injector=kt(qo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof gU;if(!this._injector.get(hO).done)throw!r&&function td(n){const e=yi(n)||Io(n)||$o(n);return null!==e&&e.standalone}(t),new wt(405,!1);let s;s=r?t:this._injector.get(Ih).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function nae(n){return n.isBoundToModule}(s)?void 0:this._injector.get(xp),l=s.create(wi.NULL,[],i||s.selector,a),d=l.location.nativeElement,h=l.injector.get(B4,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),eS(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new wt(101,!1);const i=z(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,z(i)}}detectChangesInAttachedViews(t){let i=0;const r=this.afterRenderEffectManager;for(;;){if(i===sU)throw new wt(103,!1);if(t){const o=0===i;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)rae(s,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>fO(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>fO(o))))break}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;eS(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(jv,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>eS(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new wt(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eS(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function rae(n,e,t){!e&&!fO(n)||function oae(n,e,t){let i;t?(i=0,n[Hn]|=1024):i=64&n[Hn]?0:1,wC(n,e,i)}(n,t,e)}function fO(n){return og(n)}let dae=(()=>{class n{constructor(){this.zone=kt(_n),this.applicationRef=kt(Au)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uae(){const n=kt(_n),e=kt(ga);return t=>n.runOutsideAngular(()=>e.handleError(t))}let fae=(()=>{class n{constructor(){this.subscription=new zt,this.initialized=!1,this.zone=kt(_n),this.pendingTasks=kt(Oh)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_n.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_n.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const md=new vt("",{providedIn:"root",factory:()=>kt(md,Li.Optional|Li.SkipSelf)||function pae(){return typeof $localize<"u"&&$localize.locale||c_}()}),pO=new vt("");let $4=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function one(n="zone.js",e){return"noop"===n?new xU:"zone.js"===n?new _n(e):n}(i?.ngZone,function W4(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function Qne(n,e,t){return new CR(n,e,t)}(t.moduleType,this.injector,function G4(n){return[{provide:_n,useFactory:n},{provide:Qn,multi:!0,useFactory:()=>{const e=kt(dae,{optional:!0});return()=>e.initialize()}},{provide:Qn,multi:!0,useFactory:()=>{const e=kt(fae);return()=>{e.initialize()}}},{provide:vE,useFactory:uae}]}(()=>r)),s=o.injector.get(ga,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{eS(this._modules,o),a.unsubscribe()})}),function V4(n,e,t){try{const i=t();return u_(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(hO);return a.runInitializers(),a.donePromise.then(()=>(function uz(n){"string"==typeof n&&(dz=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(md,c_)||c_),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=z4({},i);return function lae(n,e,t){const i=new SR(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(Au);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new wt(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new wt(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(pO,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(et(wi))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Lh=null;const q4=new vt("");function Y4(n,e,t=[]){const i=`Platform: ${e}`,r=new vt(i);return(o=[])=>{let s=mO();if(!s||s.injector.get(q4,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function _ae(n){if(Lh&&!Lh.get(q4,!1))throw new wt(400,!1);(function U4(){!function ie(n){O=n}(()=>{throw new wt(600,!1)})})(),Lh=n;const e=n.get($4);(function K4(n){n.get(dp,null)?.forEach(t=>t())})(n)}(function X4(n=[],e){return wi.create({name:e,providers:[{provide:Qb,useValue:"platform"},{provide:pO,useValue:new Set([()=>Lh=null])},...n]})}(a,i))}return function bae(n){const e=mO();if(!e)throw new wt(401,!1);return e}()}}function mO(){return Lh?.get($4)??null}let Mi=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=vae}return n})();function vae(n){return function wae(n,e,t){if(ka(n)&&!t){const i=da(n.index,e);return new lv(i,i)}return 47&n.type?new lv(e[Zi],e):null}(or(),Lt(),!(16&~n))}class tH{constructor(){}supports(e){return PC(e)}create(e){return new Aae(e)}}const Sae=(n,e)=>e;class Aae{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Sae}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<iH(i,r,o)?t:i,a=iH(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,d=c-r;if(l!=d){for(let f=0;f<l;f++){const m=f<o.length?o[f]:o[f]=0,g=m+f;d<=g&&g<l&&(o[f]=m+1)}o[s.previousIndex]=d-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!PC(e))throw new wt(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function nie(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new Tae(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new nH),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nH),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Tae{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Mae{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class nH{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new Mae,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iH(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function oH(){return new vO([new tH])}let vO=(()=>{class n{static#e=this.\u0275prov=Ot({token:n,providedIn:"root",factory:oH});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||oH()),deps:[[n,new sh,new oh]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new wt(901,!1)}}return n})();const kae=Y4(null,"core",[]);let Pae=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(et(Au))};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({})}return n})();function vn(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Bo(n,e=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?e:Number(n)}function MH(n){const e=z(null);try{return n()}finally{z(e)}}const dce=new vt("",{providedIn:"root",factory:()=>kt(uce)});let uce=(()=>{class n{static#e=this.\u0275prov=Ot({token:n,providedIn:"root",factory:()=>new hce})}return n})();class hce{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=kt(Oh),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),null===this.taskId){const t=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(t),this.taskId=null})}}enqueue(e){const t=e.creationZone;this.queues.has(t)||this.queues.set(t,new Set);const i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(const[e,t]of this.queues)null===e?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(const t of e)e.delete(t),this.queuedEffectCount--,t.run()}}class fce{constructor(e,t,i,r,o,s){this.scheduler=e,this.effectFn=t,this.creationZone=i,this.injector=o,this.watcher=function he(n,e,t){const i=Object.create(Ee);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=c=>{i.cleanupFn=c};return i.ref={notify:()=>ae(i),run:()=>{if(null===i.fn)return;if(function q(){return F}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!ze(i))return;i.hasRun=!0;const c=xe(i);try{i.cleanupFn(),i.cleanupFn=qe,i.fn(r)}finally{Oe(i,c)}},cleanup:()=>i.cleanupFn(),destroy:()=>function s(c){(function o(c){return null===c.fn&&null===c.schedule})(c)||(nt(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=qe)}(i),[$]:i},i.ref}(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(t){this.injector.get(ga,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function IH(n,e){hd("NgSignals"),!e?.injector&&function $a(n){if(!Px())throw new wt(-203,!1)}();const t=e?.injector??kt(wi),i=!0!==e?.manualCleanup?t.get(bh):null,r=new fce(t.get(dce),n,typeof Zone>"u"?null:Zone.current,i,t,e?.allowSignalWrites??!1),o=t.get(Mi,null,{optional:!0});return o&&8&o._lView[Hn]?(o._lView[id]??=[]).push(r.watcher.notify):r.watcher.notify(),r}let DH=null;function Bh(){return DH}class mce{}const ci=new vt("");let RH=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:()=>kt(gce),providedIn:"platform"})}return n})(),gce=(()=>{class n extends RH{constructor(){super(),this._doc=kt(ci),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bh().getBaseHref(this._doc)}onPopState(t){const i=Bh().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Bh().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function OH(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function kH(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ip(n){return n&&"?"!==n[0]?"?"+n:n}let dS=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:()=>kt(bce),providedIn:"root"})}return n})();const _ce=new vt("");let bce=(()=>{class n extends dS{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??kt(ci).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return OH(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ip(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Ip(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Ip(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(RH),et(_ce,8))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dp=(()=>{class n{constructor(t){this._subject=new Qt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function wce(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(kH(PH(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ip(i))}normalize(t){return n.stripTrailingSlash(function vce(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,PH(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ip(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ip(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=Ip;static#t=this.joinWithSlash=OH;static#n=this.stripTrailingSlash=kH;static#i=this.\u0275fac=function(i){return new(i||n)(et(dS))};static#r=this.\u0275prov=Ot({token:n,factory:()=>function yce(){return new Dp(et(dS))}(),providedIn:"root"})}return n})();function PH(n){return n.replace(/\/index.html$/,"")}var f_=function(n){return n[n.Zero=0]="Zero",n[n.One=1]="One",n[n.Two=2]="Two",n[n.Few=3]="Few",n[n.Many=4]="Many",n[n.Other=5]="Other",n}(f_||{});const Ice=function cz(n){return function Ba(n){const e=function Dre(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=lz(e);if(t)return t;const i=e.split("-")[0];if(t=lz(i),t)return t;if("en"===i)return Ire;throw new wt(701,!1)}(n)[Gr.PluralCase]};let RO=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:function(i){let r=null;return i?r=new i:(o=et(md),r=new rle(o)),r;var o},providedIn:"root"})}return n})();let rle=(()=>{class n extends RO{constructor(t){super(),this.locale=t}getPluralCategory(t,i){switch(Ice(i||this.locale)(t)){case f_.Zero:return"zero";case f_.One:return"one";case f_.Two:return"two";case f_.Few:return"few";case f_.Many:return"many";default:return"other"}}static#e=this.\u0275fac=function(i){return new(i||n)(et(md))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})();function HH(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const OO=/\s+/,GH=[];let xS=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=GH,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(OO):GH}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(OO):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(OO).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn),Ae(ud))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[mt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class sle{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rl=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new sle(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),$H(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{$H(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Ts),Ae(tc),Ae(vO))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function $H(n,e){n.context.$implicit=e.item}let ic=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new ale,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qH("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qH("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Ts),Ae(tc))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class ale{constructor(){this.$implicit=null,this.ngIf=null}}function qH(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Di(e)}'.`)}let XH=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Ts))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[br]})}return n})();function Nl(n,e){return new wt(2100,!1)}class fle{createSubscription(e,t){return MH(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){MH(()=>e.unsubscribe())}}class ple{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const mle=new ple,gle=new fle;let gd=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(u_(t))return mle;if(j4(t))return gle;throw Nl()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Mi,16))};static#t=this.\u0275pipe=Mo({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Sle=/#/g;let KH=(()=>{class n{constructor(t){this._localization=t}transform(t,i,r){if(null==t)return"";if("object"!=typeof i||null===i)throw Nl();return i[function zH(n,e,t,i){let r=`=${n}`;if(e.indexOf(r)>-1||(r=t.getPluralCategory(n,i),e.indexOf(r)>-1))return r;if(e.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${n}"`)}(t,Object.keys(i),this._localization,r)].replace(Sle,t.toString())}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(RO,16))};static#t=this.\u0275pipe=Mo({name:"i18nPlural",type:n,pure:!0,standalone:!0})}return n})(),JH=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=Mo({name:"json",type:n,pure:!1,standalone:!0})}return n})(),Vi=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({})}return n})();const ZH="browser",Ole="server";function _d(n){return n===ZH}function Hv(n){return n===Ole}class e8{}class lde extends mce{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class BO extends lde{static makeCurrent(){!function pce(n){DH??=n}(new BO)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function dde(){return $v=$v||document.querySelector("base"),$v?$v.getAttribute("href"):null}();return null==t?null:function ude(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){$v=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return HH(document.cookie,e)}}let $v=null,fde=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})();const jO=new vt("");let l8=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new wt(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(et(jO),et(_n))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})();class d8{constructor(e){this._doc=e}}const UO="ng-app-id";let u8=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Hv(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${UO}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(UO),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(UO,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(et(ci),et(lp),et(up,8),et(Ls))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})();const VO={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zO=/%COMP%/g,_de=new vt("",{providedIn:"root",factory:()=>!0});function f8(n,e){return e.map(t=>t.replace(zO,n))}let HO=(()=>{class n{constructor(t,i,r,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Hv(a),this.defaultRenderer=new GO(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===yc.ShadowDom&&(i={...i,encapsulation:yc.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof m8?r.applyToHost(t):r instanceof WO&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case yc.Emulated:o=new m8(c,l,i,this.appId,d,s,a,h);break;case yc.ShadowDom:return new wde(c,l,t,i,s,a,this.nonce,h);default:o=new WO(c,l,i,d,s,a,h)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(et(l8),et(u8),et(lp),et(_de),et(ci),et(Ls),et(_n),et(up))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})();class GO{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(VO[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(p8(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(p8(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new wt(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=VO[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=VO[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(ld.DashCase|ld.Important)?e.style.setProperty(t,i,r&ld.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ld.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Bh().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function p8(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class wde extends GO{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=f8(r.id,r.styles);for(const d of l){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class WO extends GO{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?f8(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class m8 extends WO{constructor(e,t,i,r,o,s,a,c){const l=r+"-"+i.id;super(e,t,i,o,s,a,c,l),this.contentAttr=function bde(n){return"_ngcontent-%COMP%".replace(zO,n)}(l),this.hostAttr=function yde(n){return"_nghost-%COMP%".replace(zO,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let xde=(()=>{class n extends d8{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(et(ci))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})();const g8=["alt","control","meta","shift"],Ede={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cde={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Sde=(()=>{class n extends d8{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bh().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),g8.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=Ede[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),g8.forEach(s=>{s!==r&&(0,Cde[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(et(ci))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})();const b8=[{provide:Ls,useValue:ZH},{provide:dp,useValue:function Ade(){BO.makeCurrent()},multi:!0},{provide:ci,useFactory:function Mde(){return function $I(n){Ag=n}(document),document},deps:[]}],Ide=Y4(kae,"browser",b8),Dde=new vt(""),y8=[{provide:ZC,useClass:class hde{addToWindow(e){ni.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new wt(5103,!1);return o},ni.getAllAngularTestabilities=()=>e.getAllTestabilities(),ni.getAllAngularRootElements=()=>e.getAllRootElements(),ni.frameworkStabilizers||(ni.frameworkStabilizers=[]),ni.frameworkStabilizers.push(i=>{const r=ni.getAllAngularTestabilities();let o=r.length;const s=function(){o--,0==o&&i()};r.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Bh().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:B4,useClass:cO,deps:[_n,lO,ZC]},{provide:cO,useClass:cO,deps:[_n,lO,ZC]}],v8=[{provide:Qb,useValue:"root"},{provide:ga,useFactory:function Tde(){return new ga},deps:[]},{provide:jO,useClass:xde,multi:!0,deps:[ci,_n,Ls]},{provide:jO,useClass:Sde,multi:!0,deps:[ci]},HO,u8,l8,{provide:aR,useExisting:HO},{provide:e8,useClass:fde,deps:[]},[]];let $O=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:lp,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(et(Dde,12))};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({providers:[...v8,...y8],imports:[Vi,Pae]})}return n})(),Rp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:function(i){let r=null;return r=i?new(i||n):et(Nde),r},providedIn:"root"})}return n})(),Nde=(()=>{class n extends Rp{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Jo.NONE:return i;case Jo.HTML:return Fa(i,"HTML")?ya(i):ZE(this._doc,String(i)).toString();case Jo.STYLE:return Fa(i,"Style")?ya(i):i;case Jo.SCRIPT:if(Fa(i,"Script"))return ya(i);throw new wt(5200,!1);case Jo.URL:return Fa(i,"URL")?ya(i):Pg(String(i));case Jo.RESOURCE_URL:if(Fa(i,"ResourceURL"))return ya(i);throw new wt(5201,!1);default:throw new wt(5202,!1)}}bypassSecurityTrustHtml(t){return function aD(n){return new Za(n)}(t)}bypassSecurityTrustStyle(t){return function cD(n){return new HE(n)}(t)}bypassSecurityTrustScript(t){return function lD(n){return new rD(n)}(t)}bypassSecurityTrustUrl(t){return function dD(n){return new sr(n)}(t)}bypassSecurityTrustResourceUrl(t){return function uD(n){return new oD(n)}(t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(ci))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const qO={now:()=>(qO.delegate||Date).now(),delegate:void 0};class jh extends on{constructor(e=1/0,t=1/0,i=qO){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}function Nt(n,e,t,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}function es(n,e){return function(t,i){e(t,i,n)}}function ke(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)}function Uh(n){return this instanceof Uh?(this.v=n,this):new Uh(n)}function T8(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function JO(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const QO=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function M8(n){return it(n?.then)}function I8(n){return it(n[Gc])}function D8(n){return Symbol.asyncIterator&&it(n?.[Symbol.asyncIterator])}function R8(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const O8=function eue(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function k8(n){return it(n?.[O8])}function P8(n){return function A8(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(f){i[f]&&(r[f]=function(m){return new Promise(function(g,v){o.push([f,m,g,v])>1||a(f,m)})})}function a(f,m){try{!function c(f){f.value instanceof Uh?Promise.resolve(f.value.v).then(l,d):h(o[0][2],f)}(i[f](m))}catch(g){h(o[0][3],g)}}function l(f){a("next",f)}function d(f){a("throw",f)}function h(f,m){f(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield Uh(t.read());if(r)return yield Uh(void 0);yield yield Uh(i)}}finally{t.releaseLock()}})}function N8(n){return it(n?.getReader)}function uo(n){if(n instanceof Ct)return n;if(null!=n){if(I8(n))return function tue(n){return new Ct(e=>{const t=n[Gc]();if(it(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(QO(n))return function nue(n){return new Ct(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(M8(n))return function iue(n){return new Ct(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ft)})}(n);if(D8(n))return F8(n);if(k8(n))return function rue(n){return new Ct(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(N8(n))return function oue(n){return F8(P8(n))}(n)}throw R8(n)}function F8(n){return new Ct(e=>{(function sue(n,e){var t,i,r,o;return function C8(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{l(i.next(d))}catch(h){s(h)}}function c(d){try{l(i.throw(d))}catch(h){s(h)}}function l(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=T8(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Du(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function ts(n,e,t=1/0){return it(e)?ts((i,r)=>Vt((o,s)=>e(i,o,r,s))(uo(n(i,r))),t):("number"==typeof e&&(t=e),Pn((i,r)=>function aue(n,e,t,i,r,o,s,a){const c=[];let l=0,d=0,h=!1;const f=()=>{h&&!c.length&&!l&&e.complete()},m=v=>l<i?g(v):c.push(v),g=v=>{o&&e.next(v),l++;let E=!1;uo(t(v,d++)).subscribe(si(e,L=>{r?.(L),o?m(L):e.next(L)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<i;){const L=c.shift();s?Du(e,s,()=>g(L)):g(L)}f()}catch(L){e.error(L)}}))};return n.subscribe(si(e,m,()=>{h=!0,f()})),()=>{a?.()}}(i,r,n,t)))}function Yv(n=1/0){return ts(We,n)}const js=new Ct(n=>n.complete());function L8(n){return n&&it(n.schedule)}function ZO(n){return n[n.length-1]}function ek(n){return it(ZO(n))?n.pop():void 0}function Xv(n){return L8(ZO(n))?n.pop():void 0}function B8(n,e=0){return Pn((t,i)=>{t.subscribe(si(i,r=>Du(i,n,()=>i.next(r),e),()=>Du(i,n,()=>i.complete(),e),r=>Du(i,n,()=>i.error(r),e)))})}function j8(n,e=0){return Pn((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function U8(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ct(t=>{Du(t,e,()=>{const i=n[Symbol.asyncIterator]();Du(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function io(n,e){return e?function gue(n,e){if(null!=n){if(I8(n))return function uue(n,e){return uo(n).pipe(j8(e),B8(e))}(n,e);if(QO(n))return function fue(n,e){return new Ct(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(M8(n))return function hue(n,e){return uo(n).pipe(j8(e),B8(e))}(n,e);if(D8(n))return U8(n,e);if(k8(n))return function pue(n,e){return new Ct(t=>{let i;return Du(t,e,()=>{i=n[O8](),Du(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>it(i?.return)&&i.return()})}(n,e);if(N8(n))return function mue(n,e){return U8(P8(n),e)}(n,e)}throw R8(n)}(n,e):uo(n)}function Us(...n){const e=Xv(n),t=function due(n,e){return"number"==typeof ZO(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?uo(i[0]):Yv(t)(io(i,e)):js}function Fr(n,e){return Pn((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(si(i,c=>{r?.unsubscribe();let l=0;const d=o++;uo(n(c,d)).subscribe(r=si(i,h=>i.next(e?e(c,h,d,l++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}const AS={schedule(n,e){const t=setTimeout(n,e);return()=>clearTimeout(t)},scheduleBeforeRender(n){if(typeof window>"u")return AS.schedule(n,0);if(typeof window.requestAnimationFrame>"u")return AS.schedule(n,16);const e=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(e)}};let tk;function Sue(n,e,t){let i=t;return function bue(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&e.some((r,o)=>!("*"===r||!function vue(n,e){if(!tk){const t=Element.prototype;tk=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&tk.call(n,e)}(n,r)||(i=o,0))),i}class Tue{constructor(e,t){this.componentFactory=t.get(Ih).resolveComponentFactory(e)}create(e){return new Mue(this.componentFactory,e)}}class Mue{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new jh(1),this.events=this.eventEmitters.pipe(Fr(i=>Us(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(_n),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=AS.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t,i){this.runInZone(()=>{i&&(t=i.call(this.componentRef?.instance,t)),null!==this.componentRef?function wue(n,e){return n===e||n!=n&&e!=e}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)})}initializeComponent(e){const t=wi.create({providers:[],parent:this.injector}),i=function Cue(n,e){const t=n.childNodes,i=e.map(()=>[]);let r=-1;e.some((o,s)=>"*"===o&&(r=s,!0));for(let o=0,s=t.length;o<s;++o){const a=t[o],c=Sue(a,e,r);-1!==c&&i[c].push(a)}return i}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(Mi),this.implementsOnChanges=function yue(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(Au).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e,transform:t})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e),t)}),this.initialInputValues.clear()}initializeOutputs(e){const t=this.componentFactory.outputs.map(({propName:i,templateName:r})=>e.instance[i].pipe(Vt(s=>({name:r,value:s}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=AS.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[e];if(i)return void(i.currentValue=t);const r=this.unchangedInputs.has(e),o=r?void 0:this.getInputValue(e);this.inputChanges[e]=new zf(o,t,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class Iue extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}const Rue=new vt("cdk-dir-doc",{providedIn:"root",factory:function Oue(){return kt(ci)}}),kue=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let nk,Fl=(()=>{class n{constructor(t){this.value="ltr",this.change=new Qt,t&&(this.value=function Pue(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?kue.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(et(Rue,8))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({})}return n})();try{nk=typeof Intl<"u"&&Intl.v8BreakIterator}catch{nk=!1}let p_,ro=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?_d(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!nk)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(et(Ls))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const V8=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function z8(){if(p_)return p_;if("object"!=typeof document||!document)return p_=new Set(V8),p_;let n=document.createElement("input");return p_=new Set(V8.filter(e=>(n.setAttribute("type",e),n.type===e))),p_}let Jv,Op,ik;function m_(n){return function Nue(){if(null==Jv&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Jv=!0}))}finally{Jv=Jv||!1}return Jv}()?n:!!n.capture}function Fue(){if(null==Op){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Op=!1,Op;if("scrollBehavior"in document.documentElement.style)Op=!0;else{const n=Element.prototype.scrollTo;Op=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Op}function rk(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Ru(n){return n.composedPath?n.composedPath()[0]:n.target}function ok(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ii(n){return Pn((e,t)=>{uo(n).subscribe(si(t,()=>t.complete(),Tt)),!t.closed&&e.subscribe(t)})}function Ai(n,e){return Pn((t,i)=>{let r=0;t.subscribe(si(i,o=>n.call(e,o,r++)&&i.next(o)))})}function bd(n={}){const{connector:e=(()=>new on),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,l=0,d=!1,h=!1;const f=()=>{a?.unsubscribe(),a=void 0},m=()=>{f(),s=c=void 0,d=h=!1},g=()=>{const v=s;m(),v?.unsubscribe()};return Pn((v,E)=>{l++,!h&&!d&&f();const L=c=c??e();E.add(()=>{l--,0===l&&!h&&!d&&(a=sk(g,r))}),L.subscribe(E),!s&&l>0&&(s=new fo({next:H=>L.next(H),error:H=>{h=!0,f(),a=sk(m,t,H),L.error(H)},complete:()=>{d=!0,f(),a=sk(m,i),L.complete()}}),uo(v).subscribe(s))})(o)}}function sk(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new fo({next:()=>{i.unsubscribe(),n()}});return uo(e(...t)).subscribe(i)}function ol(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,bd({connector:()=>new jh(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class jue{constructor(e){this._box=e,this._destroyed=new on,this._resizeSubject=new on,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Ct(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Ai(t=>t.some(i=>i.target===e)),ol({bufferSize:1,refCount:!0}),Ii(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Uue=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=kt(_n)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new jue(r)),this._observers.get(r).observe(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yd(n){return null!=n&&"false"!=`${n}`}function MS(n,e=0){return function Vue(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function IS(n){return Array.isArray(n)?n:[n]}function ns(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Vh(n){return n instanceof kn?n.nativeElement:n}var pi=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(pi||{});const Ou="*";function sl(n,e){return{type:pi.Trigger,name:n,definitions:e,options:{}}}function Is(n,e=null){return{type:pi.Animate,styles:e,timings:n}}function ak(n,e=null){return{type:pi.Group,steps:n,options:e}}function ar(n){return{type:pi.Style,styles:n,offset:null}}function jo(n,e,t){return{type:pi.State,name:n,styles:e,options:t}}function Ds(n,e,t=null){return{type:pi.Transition,expr:n,animation:e,options:t}}function ck(n=null){return{type:pi.AnimateChild,options:n}}function lk(n,e,t=null){return{type:pi.Query,selector:n,animation:e,options:t}}class Zv{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class H8{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}let Yue=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),G8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({providers:[Yue]})}return n})();function On(...n){return io(n,Xv(n))}function rc(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function fr(n,e,t){const i=it(n)||e||t?{next:n,error:e,complete:t}:n;return i?Pn((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(si(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):We}class che extends zt{constructor(e,t){super()}schedule(e,t=0){return this}}const OS={setInterval(n,e,...t){const{delegate:i}=OS;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=OS;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class hk extends che{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return OS.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&OS.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,It(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}class t0{constructor(e,t=t0.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}t0.now=qO.now;class fk extends t0{constructor(e,t=t0.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const b_=new fk(hk),lhe=b_;function Y8(n,e=b_){return Pn((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,d=e.now();if(d<l)return r=this.schedule(void 0,l-d),void i.add(r);a()}t.subscribe(si(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function vr(n){return n<=0?()=>js:Pn((e,t)=>{let i=0;e.subscribe(si(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function pk(n){return Ai((e,t)=>n<=t)}function Va(n,e=We){return n=n??dhe,Pn((t,i)=>{let r,o=!0;t.subscribe(si(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function dhe(n,e){return n===e}const{isArray:uhe}=Array,{getPrototypeOf:hhe,prototype:fhe,keys:phe}=Object;function X8(n){if(1===n.length){const e=n[0];if(uhe(e))return{args:e,keys:null};if(function mhe(n){return n&&"object"==typeof n&&hhe(n)===fhe}(e)){const t=phe(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:ghe}=Array;function kS(n){return Vt(e=>function _he(n,e){return ghe(e)?n(...e):n(e)}(n,e))}function K8(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Uo(...n){const e=Xv(n),t=ek(n),{args:i,keys:r}=X8(n);if(0===i.length)return io([],e);const o=new Ct(function bhe(n,e,t=We){return i=>{J8(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)J8(e,()=>{const l=io(n[c],e);let d=!1;l.subscribe(si(i,h=>{o[c]=h,d||(d=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>K8(r,s):We));return t?o.pipe(kS(t)):o}function J8(n,e,t){n?Du(t,n,e):e()}function n0(...n){return function yhe(){return Yv(1)}()(io(n,Xv(n)))}function ps(...n){const e=Xv(n);return Pn((t,i)=>{(e?n0(n,t,e):n0(n,t)).subscribe(i)})}const Q8=new Set;let kp,vhe=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):xhe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function whe(n,e){if(!Q8.has(n))try{kp||(kp=document.createElement("style"),e&&(kp.nonce=e),kp.setAttribute("type","text/css"),document.head.appendChild(kp)),kp.sheet&&(kp.sheet.insertRule(`@media ${n} {body{ }}`,0),Q8.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(ro),et(up,8))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xhe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Z8=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new on}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return e5(IS(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Uo(e5(IS(t)).map(s=>this._registerQuery(s).observable));return o=n0(o.pipe(vr(1)),o.pipe(pk(1),Y8(0))),o.pipe(Vt(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Ct(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(ps(i),Vt(({matches:s})=>({query:t,matches:s})),Ii(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(et(vhe),et(_n))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function e5(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function PS(n,e,t){const i=NS(n,e);t=t.trim(),!i.some(r=>r.trim()===t)&&(i.push(t),n.setAttribute(e,i.join(" ")))}function y_(n,e,t){const i=NS(n,e);t=t.trim();const r=i.filter(o=>o!==t);r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}function NS(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}const n5="cdk-describedby-message",FS="cdk-describedby-host";let mk=0,Che=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+mk++,this._document=t,this._id=kt(lp)+"-"+mk++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const o=gk(i,r);"string"!=typeof i?(i5(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const o=gk(i,r);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),"string"==typeof i){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${FS}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(FS);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");i5(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(gk(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=NS(t,"aria-describedby").filter(r=>0!=r.indexOf(n5));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);PS(t,"aria-describedby",r.messageElement.id),t.setAttribute(FS,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,y_(t,"aria-describedby",r.messageElement.id),t.removeAttribute(FS)}_isElementDescribedByMessage(t,i){const r=NS(t,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=t.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(et(ci),et(ro))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gk(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function i5(n,e){n.id||(n.id=`${n5}-${e}-${mk++}`)}class r5{constructor(e,t){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new on,this._typeaheadSubscription=zt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this._pressedLetters=[],this.tabOut=new on,this.change=new on,e instanceof vh?this._itemChangesSubscription=e.changes.subscribe(i=>this._itemsChanged(i.toArray())):DC(e)&&(this._effectRef=IH(()=>this._itemsChanged(e()),{injector:t}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(fr(t=>this._pressedLetters.push(t)),Y8(e),Ai(()=>this._pressedLetters.length>0),Vt(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||rc(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return DC(this._items)?this._items():this._items instanceof vh?this._items.toArray():this._items}_itemsChanged(e){if(this._activeItem){const t=e.indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}}}class o5 extends r5{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class She extends r5{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let _k=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function The(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function Ahe(n){try{return n.frameElement}catch{return null}}(function Nhe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===a5(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=a5(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function khe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function Phe(n){return!function Ihe(n){return function Rhe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Mhe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Dhe(n){return function Ohe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||s5(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(et(ro))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function s5(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function a5(n){if(!s5(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class c5{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(vr(1)).subscribe(e)}}let l5=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new c5(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(et(_k),et(_n),et(ci))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function d5(n){return 0===n.buttons||0===n.detail}function u5(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Fhe=new vt("cdk-input-modality-detector-options"),Lhe={ignoreKeys:[18,17,224,91,16]},v_=m_({passive:!0,capture:!0});let Bhe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Ir(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ru(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(d5(s)?"keyboard":"mouse"),this._mostRecentTarget=Ru(s))},this._onTouchstart=s=>{u5(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ru(s))},this._options={...Lhe,...o},this.modalityDetected=this._modality.pipe(pk(1)),this.modalityChanged=this.modalityDetected.pipe(Va()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,v_),r.addEventListener("mousedown",this._onMousedown,v_),r.addEventListener("touchstart",this._onTouchstart,v_)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,v_),document.removeEventListener("mousedown",this._onMousedown,v_),document.removeEventListener("touchstart",this._onTouchstart,v_))}static#e=this.\u0275fac=function(i){return new(i||n)(et(ro),et(_n),et(ci),et(Fhe,8))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const jhe=new vt("liveAnnouncerElement",{providedIn:"root",factory:function Uhe(){return null}}),Vhe=new vt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let zhe=0,f5=(()=>{class n{constructor(t,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+zhe++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(t)&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static#e=this.\u0275fac=function(i){return new(i||n)(et(jhe,8),et(_n),et(ci),et(Vhe,8))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var LS=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(LS||{});const Hhe=new vt("cdk-focus-monitor-default-options"),BS=m_({passive:!0,capture:!0});let ku=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new on,this._rootNodeFocusAndBlurListener=a=>{for(let l=Ru(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||LS.IMMEDIATE}monitor(t,i=!1){const r=Vh(t);if(!this._platform.isBrowser||1!==r.nodeType)return On();const o=function Bue(n){if(function Lue(){if(null==ik){const n=typeof document<"u"?document.head:null;ik=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ik}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new on,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Vh(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Vh(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===LS.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,this._detectionMode===LS.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Ru(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,BS),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,BS)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ii(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,BS),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,BS),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(et(_n),et(ro),et(Bhe),et(ci,8),et(Hhe,8))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Pp=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Pp||{});const p5="cdk-high-contrast-black-on-white",m5="cdk-high-contrast-white-on-black",bk="cdk-high-contrast-active";let g5=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=kt(Z8).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Pp.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Pp.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Pp.BLACK_ON_WHITE}return Pp.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(bk,p5,m5),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===Pp.BLACK_ON_WHITE?t.add(bk,p5):i===Pp.WHITE_ON_BLACK&&t.add(bk,m5)}}static#e=this.\u0275fac=function(i){return new(i||n)(et(ro),et(ci))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_5=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(et(g5))};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[G8]})}return n})();const Ghe=["text"],Whe=[[["mat-icon"]],"*"],$he=["mat-icon","*"];function qhe(n,e){if(1&n&&yn(0,"mat-pseudo-checkbox",1),2&n){const t=In();Rt("disabled",t.disabled)("state",t.selected?"checked":"unchecked")}}function Yhe(n,e){1&n&&yn(0,"mat-pseudo-checkbox",3),2&n&&Rt("disabled",In().disabled)}function Xhe(n,e){if(1&n&&(Xe(0,"span",4),Yt(1),ot()),2&n){const t=In();dt(),yo("(",t.group.label,")")}}const Khe=["mat-internal-form-field",""],Jhe=["*"],Zhe=new vt("mat-sanity-checks",{providedIn:"root",factory:function Qhe(){return!0}});let cr=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!ok()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(et(g5),et(Zhe,8),et(ci))};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Kv,Kv]})}return n})();class jS{constructor(e,t,i,r,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){const e=this.errorState,t=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}}let US=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var oc=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(oc||{});class ofe{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=oc.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const v5=m_({passive:!0,capture:!0});class sfe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Ru(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,v5)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,v5)))}}const w5={enterDuration:225,exitDuration:150},x5=m_({passive:!0,capture:!0}),E5=["mousedown","touchstart"],C5=["mouseup","mouseleave","touchend","touchcancel"];class VS{static#e=this._eventManager=new sfe;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Vh(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...w5,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function cfe(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-s+"px",d.style.top=c-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);const h=window.getComputedStyle(d),m=h.transitionDuration,g="none"===h.transitionProperty||"0s"===m||"0s, 0s"===m||0===r.width&&0===r.height,v=new ofe(this,d,i,g);d.style.transform="scale3d(1, 1, 1)",v.state=oc.FADING_IN,i.persistent||(this._mostRecentTransientRipple=v);let E=null;return!g&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const L=()=>this._finishRippleTransition(v),H=()=>this._destroyRipple(v);d.addEventListener("transitionend",L),d.addEventListener("transitioncancel",H),E={onTransitionEnd:L,onTransitionCancel:H}}),this._activeRipples.set(v,E),(g||!l)&&this._finishRippleTransition(v),v}fadeOutRipple(e){if(e.state===oc.FADING_OUT||e.state===oc.HIDDEN)return;const t=e.element,i={...w5,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=oc.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Vh(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,E5.forEach(i=>{VS._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{C5.forEach(t=>{this._triggerElement.addEventListener(t,this,x5)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===oc.FADING_IN?this._startFadeOutTransition(e):e.state===oc.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=oc.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=oc.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=d5(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!u5(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===oc.VISIBLE||e.config.terminateOnPointerUp&&e.state===oc.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(E5.forEach(t=>VS._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&C5.forEach(t=>e.removeEventListener(t,this,x5)))}}const o0=new vt("mat-ripple-global-options");let sc=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new VS(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn),Ae(_n),Ae(ro),Ae(o0,8),Ae(co,8))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&bn("mat-ripple-unbounded",r.unbounded)},inputs:{color:[mt.None,"matRippleColor","color"],unbounded:[mt.None,"matRippleUnbounded","unbounded"],centered:[mt.None,"matRippleCentered","centered"],radius:[mt.None,"matRippleRadius","radius"],animation:[mt.None,"matRippleAnimation","animation"],disabled:[mt.None,"matRippleDisabled","disabled"],trigger:[mt.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),Ll=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[cr,cr]})}return n})(),lfe=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(co,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&bn("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[Ui],decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),dfe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[cr]})}return n})();const yk=new vt("MAT_OPTION_PARENT_COMPONENT"),vk=new vt("MatOptgroup");let ufe=0;class S5{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let s0=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=t}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,i,r,o){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+ufe++,this.onSelectionChange=new Qt,this._stateChanges=new on}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!rc(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new S5(this,t))}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn),Ae(Mi),Ae(yk,8),Ae(vk,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-option"]],viewQuery:function(i,r){if(1&i&&ki(Ghe,7),2&i){let o;Dn(o=Rn())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&Bt("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&i&&(La("id",r.id),fi("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),bn("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[mt.HasDecoratorInputTransform,"disabled","disabled",vn]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[Hr,Ui],ngContentSelectors:$he,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){1&i&&(yr(Whe),mn(0,qhe,1,2,"mat-pseudo-checkbox",1),zn(1),Xe(2,"span",2,0),zn(4,1),ot(),mn(5,Yhe,1,1,"mat-pseudo-checkbox",3)(6,Xhe,2,1,"span",4),yn(7,"div",5)),2&i&&($i(0,r.multiple?0:-1),dt(5),$i(5,r.multiple||!r.selected||r.hideSingleSelectionIndicator?-1:5),dt(),$i(6,r.group&&r.group._inert?6:-1),dt(),Rt("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[lfe,sc],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();function A5(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),o=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}function T5(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}let M5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Ll,cr,dfe]})}return n})();const I5={capture:!0},D5=["focus","click","mouseenter","touchstart"],wk="mat-ripple-loader-uninitialized",xk="mat-ripple-loader-class-name",R5="mat-ripple-loader-centered",zS="mat-ripple-loader-disabled";let O5=(()=>{class n{constructor(){this._document=kt(ci,{optional:!0}),this._animationMode=kt(co,{optional:!0}),this._globalRippleOptions=kt(o0,{optional:!0}),this._platform=kt(ro),this._ngZone=kt(_n),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${wk}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of D5)this._document?.addEventListener(t,this._onInteraction,I5)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of D5)this._document?.removeEventListener(i,this._onInteraction,I5)}configureRipple(t,i){t.setAttribute(wk,""),(i.className||!t.hasAttribute(xk))&&t.setAttribute(xk,i.className||""),i.centered&&t.setAttribute(R5,""),i.disabled&&t.setAttribute(zS,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const r=this._hosts.get(t);r?r.disabled=i:i?t.setAttribute(zS,""):t.removeAttribute(zS)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(xk)),t.append(r);const o=new sc(new kn(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(R5),o.disabled=t.hasAttribute(zS),this.attachRipple(t,o),o}attachRipple(t,i){t.removeAttribute(wk),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ek=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){2&i&&bn("mdc-form-field--align-end","before"===r.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Ui],attrs:Khe,ngContentSelectors:Jhe,decls:1,vars:0,template:function(i,r){1&i&&(yr(),zn(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0})}return n})();const hfe=["notch"],ffe=["matFormFieldNotchedOutline",""],pfe=["*"],mfe=["textField"],gfe=["iconPrefixContainer"],_fe=["textPrefixContainer"],bfe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],yfe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function vfe(n,e){1&n&&yn(0,"span",17)}function wfe(n,e){if(1&n&&(Xe(0,"label",16),zn(1,1),mn(2,vfe,1,0,"span",17),ot()),2&n){const t=In(2);Rt("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),fi("for",t._control.id),dt(2),$i(2,!t.hideRequiredMarker&&t._control.required?2:-1)}}function xfe(n,e){1&n&&mn(0,wfe,3,5,"label",16),2&n&&$i(0,In()._hasFloatingLabel()?0:-1)}function Efe(n,e){1&n&&yn(0,"div",5)}function Cfe(n,e){}function Sfe(n,e){1&n&&mn(0,Cfe,0,0,"ng-template",11),2&n&&(In(2),Rt("ngTemplateOutlet",Ms(1)))}function Afe(n,e){if(1&n&&(Xe(0,"div",7),mn(1,Sfe,1,1,null,11),ot()),2&n){const t=In();Rt("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),dt(),$i(1,t._forceDisplayInfixLabel()?-1:1)}}function Tfe(n,e){1&n&&(Xe(0,"div",8,2),zn(2,2),ot())}function Mfe(n,e){1&n&&(Xe(0,"div",9,3),zn(2,3),ot())}function Ife(n,e){}function Dfe(n,e){1&n&&mn(0,Ife,0,0,"ng-template",11),2&n&&(In(),Rt("ngTemplateOutlet",Ms(1)))}function Rfe(n,e){1&n&&(Xe(0,"div",12),zn(1,4),ot())}function Ofe(n,e){1&n&&(Xe(0,"div",13),zn(1,5),ot())}function kfe(n,e){1&n&&yn(0,"div",14)}function Pfe(n,e){1&n&&(Xe(0,"div",18),zn(1,6),ot()),2&n&&Rt("@transitionMessages",In()._subscriptAnimationState)}function Nfe(n,e){if(1&n&&(Xe(0,"mat-hint",20),Yt(1),ot()),2&n){const t=In(2);Rt("id",t._hintLabelId),dt(),Lo(t.hintLabel)}}function Ffe(n,e){if(1&n&&(Xe(0,"div",19),mn(1,Nfe,2,2,"mat-hint",20),zn(2,7),yn(3,"div",21),zn(4,8),ot()),2&n){const t=In();Rt("@transitionMessages",t._subscriptAnimationState),dt(),$i(1,t.hintLabel?1:-1)}}let zh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["mat-label"]],standalone:!0})}return n})(),Lfe=0;const k5=new vt("MatError");let Bfe=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+Lfe++,t||i.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(i){return new(i||n)(ma("aria-live"),Ae(kn))};static#t=this.\u0275dir=Zt({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&La("id",r.id)},inputs:{id:"id"},standalone:!0,features:[ei([{provide:k5,useExisting:n}])]})}return n})(),jfe=0,P5=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+jfe++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(La("id",r.id),fi("align",null),bn("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},standalone:!0})}return n})();const N5=new vt("MatPrefix");let Ufe=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[mt.None,"matTextPrefix","_isTextSelector"]},standalone:!0,features:[ei([{provide:N5,useExisting:n}])]})}return n})();const F5=new vt("MatSuffix");let Ck=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[mt.None,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[ei([{provide:F5,useExisting:n}])]})}return n})();const L5=new vt("FloatingLabelParent");let B5=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=kt(Uue),this._ngZone=kt(_n),this._parent=kt(L5),this._resizeSubscription=new zt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Vfe(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn))};static#t=this.\u0275dir=Zt({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&bn("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return n})();const j5="mdc-line-ripple--active",HS="mdc-line-ripple--deactivating";let U5=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(HS);"opacity"===r.propertyName&&s&&o.remove(j5,HS)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(HS),t.add(j5)}deactivate(){this._elementRef.nativeElement.classList.add(HS)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn),Ae(_n))};static#t=this.\u0275dir=Zt({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return n})(),V5=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn),Ae(_n))};static#t=this.\u0275cmp=un({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&ki(hfe,5),2&i){let o;Dn(o=Rn())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&bn("mdc-notched-outline--notched",r.open)},inputs:{open:[mt.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Ui],attrs:ffe,ngContentSelectors:pfe,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(yr(),yn(0,"div",1),Xe(1,"div",2,0),zn(3),ot(),yn(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const zfe={transitionMessages:sl("transitionMessages",[jo("enter",ar({opacity:1,transform:"translateY(0%)"})),Ds("void => enter",[ar({opacity:0,transform:"translateY(-5px)"}),Is("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let GS=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n})}return n})();const a0=new vt("MatFormField"),z5=new vt("MAT_FORM_FIELD_DEFAULT_OPTIONS");let H5=0,Hh=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=yd(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,o,s,a,c,l){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+H5++,this._hintLabelId="mat-mdc-hint-"+H5++,this._subscriptAnimationState="",this._destroyed=new on,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Ii(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Us(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ii(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Ii(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn),Ae(Mi),Ae(_n),Ae(Fl),Ae(ro),Ae(z5,8),Ae(co,8),Ae(ci))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(mr(o,zh,5),mr(o,zh,7),mr(o,GS,5),mr(o,N5,5),mr(o,F5,5),mr(o,k5,5),mr(o,P5,5)),2&i){let s;Dn(s=Rn())&&(r._labelChildNonStatic=s.first),Dn(s=Rn())&&(r._labelChildStatic=s.first),Dn(s=Rn())&&(r._formFieldControl=s.first),Dn(s=Rn())&&(r._prefixChildren=s),Dn(s=Rn())&&(r._suffixChildren=s),Dn(s=Rn())&&(r._errorChildren=s),Dn(s=Rn())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(ki(mfe,5),ki(gfe,5),ki(_fe,5),ki(B5,5),ki(V5,5),ki(U5,5)),2&i){let o;Dn(o=Rn())&&(r._textField=o.first),Dn(o=Rn())&&(r._iconPrefixContainer=o.first),Dn(o=Rn())&&(r._textPrefixContainer=o.first),Dn(o=Rn())&&(r._floatingLabel=o.first),Dn(o=Rn())&&(r._notchedOutline=o.first),Dn(o=Rn())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&bn("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[ei([{provide:a0,useExisting:n},{provide:L5,useExisting:n}]),Ui],ngContentSelectors:yfe,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(1&i){const o=Ki();yr(bfe),mn(0,xfe,1,1,"ng-template",null,0,Fv),Xe(2,"div",4,1),Bt("click",function(a){return fn(o),hn(r._control.onContainerClick(a))}),mn(4,Efe,1,0,"div",5),Xe(5,"div",6),mn(6,Afe,2,2,"div",7)(7,Tfe,3,0,"div",8)(8,Mfe,3,0,"div",9),Xe(9,"div",10),mn(10,Dfe,1,1,null,11),zn(11),ot(),mn(12,Rfe,2,0,"div",12)(13,Ofe,2,0,"div",13),ot(),mn(14,kfe,1,0,"div",14),ot(),Xe(15,"div",15),mn(16,Pfe,2,1)(17,Ffe,5,2),ot()}if(2&i){let o;dt(2),bn("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),dt(2),$i(4,r._hasOutline()||r._control.disabled?-1:4),dt(2),$i(6,r._hasOutline()?6:-1),dt(),$i(7,r._hasIconPrefix?7:-1),dt(),$i(8,r._hasTextPrefix?8:-1),dt(2),$i(10,!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),dt(2),$i(12,r._hasTextSuffix?12:-1),dt(),$i(13,r._hasIconSuffix?13:-1),dt(),$i(14,r._hasOutline()?-1:14),dt(),bn("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),dt(),$i(16,"error"===(o=r._getDisplayedMessages())?16:"hint"===o?17:-1)}},dependencies:[B5,V5,XH,U5,P5],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[zfe.transitionMessages]},changeDetection:0})}return n})(),Gh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[cr,Vi,G8,cr]})}return n})();function Wh(n,e){const t=it(n)?n:()=>n,i=r=>r.error(t());return new Ct(e?r=>e.schedule(i,0,r):i)}function c0(...n){const e=ek(n),{args:t,keys:i}=X8(n),r=new Ct(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let d=0;d<s;d++){let h=!1;uo(t[d]).subscribe(si(o,f=>{h||(h=!0,l--),a[d]=f},()=>c--,void 0,()=>{(!c||!h)&&(l||o.next(i?K8(i,a):a),o.complete())}))}});return e?r.pipe(kS(e)):r}function ac(n){return Pn((e,t)=>{let o,i=null,r=!1;i=e.subscribe(si(t,void 0,void 0,s=>{o=uo(n(s,ac(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Np(n){return Pn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function w_(n,e){return it(e)?ts(n,e,1):ts(n,1)}class WS{}class $S{}class Ic{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ic?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ic;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ic?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Wfe{encodeKey(e){return $5(e)}encodeValue(e){return $5(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const qfe=/%(\d[a-f0-9])/gi,Yfe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $5(n){return encodeURIComponent(n).replace(qfe,(e,t)=>Yfe[t]??e)}function qS(n){return`${n}`}class Lr{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Wfe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $fe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(qS):[qS(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Lr({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(qS(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(qS(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Vo{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function q5(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Y5(n){return typeof Blob<"u"&&n instanceof Blob}function X5(n){return typeof FormData<"u"&&n instanceof FormData}class l0{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Xfe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ic,this.context??=new Vo,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Lr,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||q5(this.body)||Y5(this.body)||X5(this.body)||function Kfe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Lr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||X5(this.body)?null:Y5(this.body)?this.body.type||null:q5(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Lr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=void 0!==e.body?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress;let l=e.headers||this.headers,d=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((f,m)=>f.set(m,e.setHeaders[m]),l)),e.setParams&&(d=Object.keys(e.setParams).reduce((f,m)=>f.set(m,e.setParams[m]),d)),new l0(t,i,s,{params:d,headers:l,context:h,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}}var $h=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}($h||{});class Sk{constructor(e,t=d0.Ok,i="OK"){this.headers=e.headers||new Ic,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class YS extends Sk{constructor(e={}){super(e),this.type=$h.ResponseHeader}clone(e={}){return new YS({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Fp extends Sk{constructor(e={}){super(e),this.type=$h.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Fp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class x_ extends Sk{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var d0=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(d0||{});function Ak(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let wd=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof l0)o=t;else{let c,l;c=r.headers instanceof Ic?r.headers:new Ic(r.headers),r.params&&(l=r.params instanceof Lr?r.params:new Lr({fromObject:r.params})),o=new l0(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=On(o).pipe(w_(c=>this.handler.handle(c)));if(t instanceof l0||"events"===r.observe)return s;const a=s.pipe(Ai(c=>c instanceof Fp));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Vt(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Vt(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Vt(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Vt(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Lr).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Ak(r,i))}post(t,i,r={}){return this.request("POST",t,Ak(r,i))}put(t,i,r={}){return this.request("PUT",t,Ak(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(et(WS))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})();function J5(n,e){return e(n)}function tpe(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const ipe=new vt(""),u0=new vt(""),Q5=new vt(""),Z5=new vt("");function rpe(){let n=null;return(e,t)=>{null===n&&(n=(kt(ipe,{optional:!0})??[]).reduceRight(tpe,J5));const i=kt(Oh),r=i.add();return n(e,t).pipe(Np(()=>i.remove(r)))}}let eG=(()=>{class n extends WS{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=kt(Oh);const r=kt(Z5,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(u0),...this.injector.get(Q5,[])]));this.chain=r.reduceRight((o,s)=>function npe(n,e,t){return(i,r)=>function Sl(n,e){n instanceof Cl&&n.assertNotDestroyed();const i=yl(n),r=Ps(void 0);try{return e()}finally{yl(i),Ps(r)}}(t,()=>e(i,o=>n(o,r)))}(o,s,this.injector),J5)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Np(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(et($S),et(qo))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})();const lpe=/^\)\]\}',?\n/;let nG=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new wt(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?io(i.\u0275loadImpl()):On(null)).pipe(Fr(()=>new Ct(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((v,E)=>s.setRequestHeader(v,E.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const v=t.detectContentTypeHeader();null!==v&&s.setRequestHeader("Content-Type",v)}if(t.responseType){const v=t.responseType.toLowerCase();s.responseType="json"!==v?v:"text"}const a=t.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const v=s.statusText||"OK",E=new Ic(s.getAllResponseHeaders()),L=function dpe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new YS({headers:E,status:s.status,statusText:v,url:L}),c},d=()=>{let{headers:v,status:E,statusText:L,url:H}=l(),le=null;E!==d0.NoContent&&(le=typeof s.response>"u"?s.responseText:s.response),0===E&&(E=le?d0.Ok:0);let se=E>=200&&E<300;if("json"===t.responseType&&"string"==typeof le){const Pe=le;le=le.replace(lpe,"");try{le=""!==le?JSON.parse(le):null}catch($e){le=Pe,se&&(se=!1,le={error:$e,text:le})}}se?(o.next(new Fp({body:le,headers:v,status:E,statusText:L,url:H||void 0})),o.complete()):o.error(new x_({error:le,headers:v,status:E,statusText:L,url:H||void 0}))},h=v=>{const{url:E}=l(),L=new x_({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(L)};let f=!1;const m=v=>{f||(o.next(l()),f=!0);let E={type:$h.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(E.total=v.total),"text"===t.responseType&&s.responseText&&(E.partialText=s.responseText),o.next(E)},g=v=>{let E={type:$h.UploadProgress,loaded:v.loaded};v.lengthComputable&&(E.total=v.total),o.next(E)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),t.reportProgress&&(s.addEventListener("progress",m),null!==a&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),o.next({type:$h.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",h),t.reportProgress&&(s.removeEventListener("progress",m),null!==a&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(et(e8))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})();const Ik=new vt(""),iG=new vt("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),rG=new vt("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class oG{}let fpe=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=HH(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(et(ci),et(Ls),et(iG))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})();function ppe(n,e){const t=n.url.toLowerCase();if(!kt(Ik)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=kt(oG).getToken(),r=kt(rG);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var qh=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(qh||{});function mpe(...n){const e=[wd,nG,eG,{provide:WS,useExisting:eG},{provide:$S,useExisting:nG},{provide:u0,useValue:ppe,multi:!0},{provide:Ik,useValue:!0},{provide:oG,useClass:fpe}];for(const t of n)e.push(...t.\u0275providers);return function Pf(n){return{\u0275providers:n}}(e)}const sG=new vt("");function gpe(){return function Lp(n,e){return{\u0275kind:n,\u0275providers:e}}(qh.LegacyInterceptors,[{provide:sG,useFactory:rpe},{provide:u0,useExisting:sG,multi:!0}])}let aG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({providers:[mpe(gpe())]})}return n})();const xpe=["*"];let KS;function h0(n){return function Epe(){if(void 0===KS&&(KS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(KS=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return KS}()?.createHTML(n)||n}function mG(n){return Error(`Unable to find icon with the name "${n}"`)}function gG(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function _G(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Bp{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let f0=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new Bp(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const s=this._sanitizer.sanitize(Jo.HTML,r);if(!s)throw _G(r);const a=h0(s);return this._addSvgIconConfig(t,i,new Bp("",a,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Bp(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(Jo.HTML,i);if(!o)throw _G(i);const s=h0(o);return this._addSvgIconSetConfig(t,new Bp("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(Jo.RESOURCE_URL,t);if(!i)throw gG(t);const r=this._cachedIconsByUrl.get(i);return r?On(JS(r)):this._loadSvgIconFromConfig(new Bp(t,null)).pipe(fr(o=>this._cachedIconsByUrl.set(i,o)),Vt(o=>JS(o)))}getNamedSvgIcon(t,i=""){const r=bG(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):Wh(mG(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?On(JS(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Vt(i=>JS(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?On(r):c0(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(ac(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(Jo.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),On(null)})))).pipe(Vt(()=>{const s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw mG(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(fr(i=>t.svgText=i),Vt(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?On(null):this._fetchIcon(t).pipe(fr(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(h0("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(h0("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function Cpe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(Jo.RESOURCE_URL,i);if(!s)throw gG(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(Vt(l=>h0(l)),Np(()=>this._inProgressUrlFetches.delete(s)),bd());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(bG(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return Ape(o)?new Bp(o.url,null,o.options):new Bp(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(et(wd,8),et(Rp),et(ci,8),et(ga))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JS(n){return n.cloneNode(!0)}function bG(n,e){return n+":"+e}function Ape(n){return!(!n.url||!n.options)}const Tpe=new vt("MAT_ICON_DEFAULT_OPTIONS"),Mpe=new vt("mat-icon-location",{providedIn:"root",factory:function Ipe(){const n=kt(ci),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),yG=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Dpe=yG.map(n=>`[${n}]`).join(", "),Rpe=/^url\(['"]?#(.*?)['"]?\)$/;let wa=(()=>{class n{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,o,s,a){this._elementRef=t,this._iconRegistry=i,this._location=o,this._errorHandler=s,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=zt.EMPTY,a&&(a.color&&(this.color=this._defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(Dpe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)yG.forEach(s=>{const a=i[o],c=a.getAttribute(s),l=c?c.match(Rpe):null;if(l){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:l[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(vr(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn),Ae(f0),ma("aria-hidden"),Ae(Mpe),Ae(ga),Ae(Tpe,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){2&i&&(fi("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Ei(r.color?"mat-"+r.color:""),bn("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:[mt.HasDecoratorInputTransform,"inline","inline",vn],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Hr,Ui],ngContentSelectors:xpe,decls:1,vars:0,template:function(i,r){1&i&&(yr(),zn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),vo=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[cr,cr]})}return n})();const Ope=["mat-button",""],kpe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ppe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Npe=new vt("MAT_BUTTON_CONFIG"),Fpe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let Lpe=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,i,r,o){this._elementRef=t,this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=kt(ku),this._rippleLoader=kt(O5),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const s=kt(Npe,{optional:!0}),a=t.nativeElement,c=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(const{attribute:l,mdcClasses:d}of Fpe)a.hasAttribute(l)&&c.add(...d)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){Ac()};static#t=this.\u0275dir=Zt({type:n,inputs:{color:"color",disableRipple:[mt.HasDecoratorInputTransform,"disableRipple","disableRipple",vn],disabled:[mt.HasDecoratorInputTransform,"disabled","disabled",vn],ariaDisabled:[mt.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",vn],disabledInteractive:[mt.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",vn]},features:[Hr]})}return n})(),E_=(()=>{class n extends Lpe{constructor(t,i,r,o){super(t,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn),Ae(ro),Ae(_n),Ae(co,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(fi("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Ei(r.color?"mat-"+r.color:""),bn("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[mi,Ui],attrs:Ope,ngContentSelectors:Ppe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(yr(kpe),yn(0,"span",0),zn(1),Xe(2,"span",1),zn(3,1),ot(),zn(4,2),yn(5,"span",2)(6,"span",3)),2&i&&bn("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),Yh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[cr,Ll,cr]})}return n})();class Dk{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class C_ extends Dk{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class S_ extends Dk{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class jpe extends Dk{constructor(e){super(),this.element=e instanceof kn?e.nativeElement:e}}class QS{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof C_?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof S_?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof jpe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Upe extends QS{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||wi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let A_=(()=>{class n extends QS{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Qt,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Ih),Ae(Ts),Ae(ci))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[mt.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[mi]})}return n})(),T_=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({})}return n})();const Vpe=["addListener","removeListener"],zpe=["addEventListener","removeEventListener"],Hpe=["on","off"];function jp(n,e,t,i){if(it(t)&&(i=t,t=void 0),i)return jp(n,e,t).pipe(kS(i));const[r,o]=function $pe(n){return it(n.addEventListener)&&it(n.removeEventListener)}(n)?zpe.map(s=>a=>n[s](e,a,t)):function Gpe(n){return it(n.addListener)&&it(n.removeListener)}(n)?Vpe.map(vG(n,e)):function Wpe(n){return it(n.on)&&it(n.off)}(n)?Hpe.map(vG(n,e)):[];if(!r&&QO(n))return ts(s=>jp(s,e,t))(uo(n));if(!r)throw new TypeError("Invalid event target");return new Ct(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function vG(n,e){return t=>i=>n[t](e,i)}const p0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=p0;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new zt(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=p0;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=p0;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class Ype extends fk{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class qpe extends hk{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=p0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(p0.cancelAnimationFrame(t),e._scheduled=void 0)}});let Rk,Kpe=1;const ZS={};function wG(n){return n in ZS&&(delete ZS[n],!0)}const Jpe={setImmediate(n){const e=Kpe++;return ZS[e]=!0,Rk||(Rk=Promise.resolve()),Rk.then(()=>wG(e)&&n()),e},clearImmediate(n){wG(n)}},{setImmediate:Qpe,clearImmediate:Zpe}=Jpe,e1={setImmediate(...n){const{delegate:e}=e1;return(e?.setImmediate||Qpe)(...n)},clearImmediate(n){const{delegate:e}=e1;return(e?.clearImmediate||Zpe)(n)},delegate:void 0};new class tme extends fk{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class eme extends hk{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=e1.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(e1.clearImmediate(t),e._scheduled=void 0)}});function m0(n=0,e,t=lhe){let i=-1;return null!=e&&(L8(e)?t=e:i=e),new Ct(r=>{let o=function rme(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function xG(n,e=b_){return function ime(n){return Pn((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(si(t,l=>{i=!0,r=l,o||uo(n(l)).subscribe(o=si(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>m0(n,e))}let EG=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new on,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ct(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(xG(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):On()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ai(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Vh(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>jp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(et(_n),et(ro),et(ci,8))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),t1=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new on,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(xG(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(et(ro),et(_n),et(ci,8))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),n1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({})}return n})(),CG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Kv,n1,Kv,n1]})}return n})();function SG(n,e=!1){return Pn((t,i)=>{let r=0;t.subscribe(si(i,o=>{const s=n(o,r++);(s||e)&&i.next(o),!s&&i.complete()}))})}const AG=Fue();class ame{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ns(-this._previousScrollPosition.left),e.style.top=ns(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),AG&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),AG&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class cme{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Ai(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class TG{enable(){}disable(){}attach(){}}function Ok(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function MG(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class lme{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Ok(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let dme=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new TG,this.close=s=>new cme(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new ame(this._viewportRuler,this._document),this.reposition=s=>new lme(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(et(EG),et(t1),et(_n),et(ci))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class g0{constructor(e){if(this.scrollStrategy=new TG,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class ume{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let IG=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(et(ci))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hme=(()=>{class n extends IG{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(et(ci),et(_n,8))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fme=(()=>{class n extends IG{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Ru(o)},this._clickListener=o=>{const s=Ru(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const d=c[l];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(a))break;const h=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(et(ci),et(ro),et(_n,8))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_0=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||ok()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),ok()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(et(ci),et(ro))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class r1{constructor(e,t,i,r,o,s,a,c,l,d=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new on,this._attachments=new on,this._detachments=new on,this._locationChanges=zt.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new on,this._outsidePointerEvents=new on,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(vr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ns(this._config.width),e.height=ns(this._config.height),e.minWidth=ns(this._config.minWidth),e.minHeight=ns(this._config.minHeight),e.maxWidth=ns(this._config.maxWidth),e.maxHeight=ns(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=IS(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ii(Us(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const DG="cdk-overlay-connected-position-bounding-box",pme=/([A-Za-z%]+)$/;class mme{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new on,this._resizeSubscription=zt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(DG),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,t,a),d=this._getOverlayFit(l,t,i,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(d,l,i)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const l of o){const d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Up(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(DG),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=OG(t);let{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let f=0-a,m=a+o.height-i.height,g=this._subtractOverflows(o.width,0-s,s+o.width-i.width),v=this._subtractOverflows(o.height,f,m),E=g*v;return{visibleArea:E,isCompletelyWithinViewport:o.width*o.height===E,fitsInViewportVertically:v===o.height,fitsInViewportHorizontally:g==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=RG(this._overlayRef.getConfig().minHeight),a=RG(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=OG(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0);let d=0,h=0;return d=r.width<=o.width?l||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,h=r.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:d,y:h},{x:e.x+d,y:e.y+h}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function gme(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new ume(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,d,h,f;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const m=Math.min(i.bottom-e.y+i.top,e.y),g=this._lastBoundingBoxSize.height;o=2*m,s=e.y-m,o>g&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-g/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)f=i.width-e.x+2*this._viewportMargin,d=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)h=e.x,d=i.right-e.x;else{const m=Math.min(i.right-e.x+i.left,e.x),g=this._lastBoundingBoxSize.width;d=2*m,h=e.x-m,d>g&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.x-g/2)}return{top:s,left:h,bottom:a,right:f,width:d,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ns(i.height),r.top=ns(i.top),r.bottom=ns(i.bottom),r.width=ns(i.width),r.left=ns(i.left),r.right=ns(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=ns(o)),s&&(r.maxWidth=ns(s))}this._lastBoundingBoxSize=i,Up(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Up(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Up(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();Up(i,this._getExactOverlayY(t,e,d)),Up(i,this._getExactOverlayX(t,e,d))}else i.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=ns(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=ns(s.maxWidth):o&&(i.maxWidth="")),Up(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=ns(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=ns(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:MG(e,i),isOriginOutsideView:Ok(e,i),isOverlayClipped:MG(t,i),isOverlayOutsideView:Ok(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&IS(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof kn)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Up(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function RG(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(pme);return t&&"px"!==t?null:parseFloat(e)}return n||null}function OG(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const kG="cdk-global-overlay-wrapper";class _me{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(kG),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,h=this._xOffset,f="rtl"===this._overlayRef.getConfig().direction;let m="",g="",v="";c?v="flex-start":"center"===d?(v="center",f?g=h:m=h):f?"left"===d||"end"===d?(v="flex-end",m=h):("right"===d||"start"===d)&&(v="flex-start",g=h):"left"===d||"start"===d?(v="flex-start",m=h):("right"===d||"end"===d)&&(v="flex-end",g=h),e.position=this._cssPosition,e.marginLeft=c?"0":m,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":g,t.justifyContent=v,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(kG),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let bme=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new _me}flexibleConnectedTo(t){return new mme(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(et(t1),et(ci),et(ro),et(_0))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yme=0,ms=(()=>{class n{constructor(t,i,r,o,s,a,c,l,d,h,f,m){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=d,this._location=h,this._outsideClickDispatcher=f,this._animationsModuleType=m}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new g0(t);return s.direction=s.direction||this._directionality.value,new r1(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+yme++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Au)),new Upe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(et(dme),et(_0),et(Ih),et(bme),et(hme),et(wi),et(_n),et(ci),et(Fl),et(Dp),et(fme),et(co,8))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vme=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],PG=new vt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=kt(ms);return()=>n.scrollStrategies.reposition()}});let kk=(()=>{class n{constructor(t){this.elementRef=t}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),NG=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}constructor(t,i,r,o,s){this._overlay=t,this._dir=s,this._backdropSubscription=zt.EMPTY,this._attachSubscription=zt.EMPTY,this._detachSubscription=zt.EMPTY,this._positionSubscription=zt.EMPTY,this._disposeOnNavigation=!1,this._ngZone=kt(_n),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Qt,this.positionChange=new Qt,this.attach=new Qt,this.detach=new Qt,this.overlayKeydown=new Qt,this.overlayOutsideClick=new Qt,this._templatePortal=new S_(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=vme);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!rc(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new g0({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof kk?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(SG(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(ms),Ae(tc),Ae(Ts),Ae(PG),Ae(Fl,8))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[mt.None,"cdkConnectedOverlayOrigin","origin"],positions:[mt.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[mt.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[mt.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[mt.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[mt.None,"cdkConnectedOverlayWidth","width"],height:[mt.None,"cdkConnectedOverlayHeight","height"],minWidth:[mt.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[mt.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[mt.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[mt.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[mt.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[mt.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[mt.None,"cdkConnectedOverlayOpen","open"],disableClose:[mt.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[mt.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[mt.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",vn],lockPosition:[mt.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",vn],flexibleDimensions:[mt.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",vn],growAfterOpen:[mt.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",vn],push:[mt.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",vn],disposeOnNavigation:[mt.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",vn]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Hr,br]})}return n})();const xme={provide:PG,deps:[ms],useFactory:function wme(n){return()=>n.scrollStrategies.reposition()}};let b0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({providers:[ms,xme],imports:[Kv,T_,CG,CG]})}return n})();function Eme(n,e){if(1&n){const t=Ki();Xe(0,"div",1)(1,"button",2),Bt("click",function(){return fn(t),hn(In().action())}),Yt(2),ot()()}if(2&n){const t=In();dt(2),yo(" ",t.data.action," ")}}const Cme=["label"];function Sme(n,e){}const Ame=Math.pow(2,31)-1;class Pk{constructor(e,t){this._overlayRef=t,this._afterDismissed=new on,this._afterOpened=new on,this._onAction=new on,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,Ame))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Nk=new vt("MatSnackBarData");class o1{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let FG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return n})(),LG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return n})(),BG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return n})(),jG=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Pk),Ae(Nk))};static#t=this.\u0275cmp=un({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Ui],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(Xe(0,"div",0),Yt(1),ot(),mn(2,Eme,3,1,"div",1)),2&i&&(dt(),yo(" ",r.data.message,"\n"),dt(),$i(2,r.hasAction?2:-1))},dependencies:[E_,FG,LG,BG],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return n})();const Tme={snackBarState:sl("state",[jo("void, hidden",ar({transform:"scale(0.8)",opacity:0})),jo("visible",ar({transform:"scale(1)",opacity:1})),Ds("* => visible",Is("150ms cubic-bezier(0, 0, 0.2, 1)")),Ds("* => void, * => hidden",Is("75ms cubic-bezier(0.4, 0.0, 1, 1)",ar({opacity:0})))])};let Mme=0,UG=(()=>{class n extends QS{constructor(t,i,r,o,s){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._document=kt(ci),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new on,this._onExit=new on,this._onEnter=new on,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Mme++,this.attachDomPortal=a=>{this._assertNotAttached();const c=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),c},this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(s=>t.classList.add(s)):t.classList.add(i)),this._exposeToModals();const r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){const t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?-1===s.indexOf(t)&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const i=t.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(_n),Ae(kn),Ae(Mi),Ae(ro),Ae(o1))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&(ki(A_,7),ki(Cme,7)),2&i){let o;Dn(o=Rn())&&(r._portalOutlet=o.first),Dn(o=Rn())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,r){1&i&&qC("@state.done",function(s){return r.onAnimationEnd(s)}),2&i&&Tv("@state",r._animationState)},standalone:!0,features:[mi,Ui],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(Xe(0,"div",1)(1,"div",2,0)(3,"div",3),mn(4,Sme,0,0,"ng-template",4),ot(),yn(5,"div"),ot()()),2&i&&(dt(5),fi("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[A_],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Tme.snackBarState]}})}return n})();const Dme=new vt("mat-snack-bar-default-options",{providedIn:"root",factory:function Ime(){return new o1}});let VG=(()=>{class n{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,i,r,o,s,a){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=a,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=jG,this.snackBarContainerComponent=UG,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const o={...this._defaultConfig,...r};return o.data={message:t,action:i},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const o=wi.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:o1,useValue:i}]}),s=new C_(this.snackBarContainerComponent,i.viewContainerRef,o),a=t.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(t,i){const r={...new o1,...this._defaultConfig,...i},o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new Pk(s,o);if(t instanceof tc){const c=new S_(t,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{const c=this._createInjector(r,a),l=new C_(t,void 0,c),d=s.attachComponentPortal(l);a.instance=d.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Ii(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new g0;i.direction=t.direction;let r=this._overlay.position().global();const o="rtl"===t.direction,s="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!o||"end"===t.horizontalPosition&&o,a=!s&&"center"!==t.horizontalPosition;return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return wi.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Pk,useValue:i},{provide:Nk,useValue:t.data}]})}static#e=this.\u0275fac=function(i){return new(i||n)(et(ms),et(f5),et(wi),et(Z8),et(n,12),et(Dme))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rme=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({providers:[VG],imports:[b0,T_,Yh,cr,jG,cr]})}return n})();function zG(n){return new wt(3e3,!1)}function Xh(n){switch(n.length){case 0:return new Zv;case 1:return n[0];default:return new H8(n)}}function HG(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),d=l==s,h=d&&a||new Map;c.forEach((f,m)=>{let g=m,v=f;if("offset"!==m)switch(g=n.normalizePropertyName(g,r),v){case"!":v=t.get(m);break;case Ou:v=i.get(m);break;default:v=n.normalizeStyleValue(m,g,v,r)}h.set(g,v)}),d||o.push(h),a=h,s=l}),r.length)throw function ege(n){return new wt(3502,!1)}();return o}function Fk(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Lk(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Lk(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Lk(t,"destroy",n)))}}function Lk(n,e,t){const o=Bk(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function Bk(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Dc(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function GG(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const hge=typeof document>"u"?null:document.documentElement;function jk(n){const e=n.parentNode||n.host||null;return e===hge?null:e}let Vp=null,WG=!1;function $G(n,e){for(;e;){if(e===n)return!0;e=jk(e)}return!1}function qG(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let Uk=(()=>{class n{validateStyleProperty(t){return function pge(n){Vp||(Vp=function mge(){return typeof document<"u"?document.body:null}()||{},WG=!!Vp.style&&"WebkitAppearance"in Vp.style);let e=!0;return Vp.style&&!function fge(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Vp.style,!e&&WG&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Vp.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return $G(t,i)}getParentElement(t){return jk(t)}query(t,i,r){return qG(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new Zv(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})();class Vk{static#e=this.NOOP=new Uk}class zk{}const _ge=1e3,Hk="ng-enter",s1="ng-leave",a1="ng-trigger",c1=".ng-trigger",XG="ng-animating",Gk=".ng-animating";function Pu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Wk(parseFloat(e[1]),e[2])}function Wk(n,e){return"s"===e?n*_ge:n}function l1(n,e,t){return n.hasOwnProperty("duration")?n:function yge(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(zG()),{duration:0,delay:0,easing:""};r=Wk(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=Wk(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function Ome(){return new wt(3100,!1)}()),a=!0),o<0&&(e.push(function kme(){return new wt(3101,!1)}()),a=!0),a&&e.splice(c,0,zG())}return{duration:r,delay:o,easing:s}}(n,e,t)}function xd(n,e,t){e.forEach((i,r)=>{const o=qk(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function zp(n,e){e.forEach((t,i)=>{const r=qk(i);n.style[r]=""})}function y0(n){return Array.isArray(n)?1==n.length?n[0]:function Hue(n,e=null){return{type:pi.Sequence,steps:n,options:e}}(n):n}const $k=new RegExp("{{\\s*(.+?)\\s*}}","g");function JG(n){let e=[];if("string"==typeof n){let t;for(;t=$k.exec(n);)e.push(t[1]);$k.lastIndex=0}return e}function v0(n,e,t){const i=`${n}`,r=i.replace($k,(o,s)=>{let a=e[s];return null==a&&(t.push(function Nme(n){return new wt(3003,!1)}()),a=""),a.toString()});return r==i?n:r}const xge=/-+([a-z0-9])/g;function qk(n){return n.replace(xge,(...e)=>e[1].toUpperCase())}function Rc(n,e,t){switch(e.type){case pi.Trigger:return n.visitTrigger(e,t);case pi.State:return n.visitState(e,t);case pi.Transition:return n.visitTransition(e,t);case pi.Sequence:return n.visitSequence(e,t);case pi.Group:return n.visitGroup(e,t);case pi.Animate:return n.visitAnimate(e,t);case pi.Keyframes:return n.visitKeyframes(e,t);case pi.Style:return n.visitStyle(e,t);case pi.Reference:return n.visitReference(e,t);case pi.AnimateChild:return n.visitAnimateChild(e,t);case pi.AnimateRef:return n.visitAnimateRef(e,t);case pi.Query:return n.visitQuery(e,t);case pi.Stagger:return n.visitStagger(e,t);default:throw function Fme(n){return new wt(3004,!1)}()}}function Yk(n,e){return window.getComputedStyle(n)[e]}const Sge=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class QG extends zk{normalizePropertyName(e,t){return qk(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(Sge.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Lme(n,e){return new wt(3005,!1)}())}return s+o}}const d1="*";const u1=new Set(["true","1"]),h1=new Set(["false","0"]);function ZG(n,e){const t=u1.has(n)||h1.has(n),i=u1.has(e)||h1.has(e);return(r,o)=>{let s=n==d1||n==r,a=e==d1||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?u1.has(n):h1.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?u1.has(e):h1.has(e)),s&&a}}const Ige=new RegExp("s*:selfs*,?","g");function Xk(n,e,t,i){return new Dge(n).build(e,t,i)}class Dge{constructor(e){this._driver=e}build(e,t,i){const r=new kge(t);return this._resetContextStyleTimingState(r),Rc(this,y0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function Bme(){return new wt(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==pi.State){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==pi.Transition){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function jme(){return new wt(3007,!1)}())}),{type:pi.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{JG(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(function Ume(n,e){return new wt(3008,!1)}(0,o.values()))}return{type:pi.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Rc(this,y0(e.animation),t),r=function Age(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Tge(n,e,t){if(":"==n[0]){const c=function Mge(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function Kme(n){return new wt(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function Xme(n){return new wt(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(ZG(r,s)),"<"==o[0]&&(r!=d1||s!=d1)&&e.push(ZG(s,r))}(i,t,e)):t.push(n),t}(e.expr,t.errors);return{type:pi.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Hp(e.options)}}visitSequence(e,t){return{type:pi.Sequence,steps:e.steps.map(i=>Rc(this,i,t)),options:Hp(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=Rc(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:pi.Group,steps:o,options:Hp(e.options)}}visitAnimate(e,t){const i=function Nge(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Kk(l1(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Kk(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=l1(t,e);return Kk(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:ar({});if(o.type==pi.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=ar(l)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:pi.Animate,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Ou?i.push(a):t.errors.push(new wt(3002,!1)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:pi.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),d=l.get(c);let h=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(t.errors.push(function zme(n,e,t,i,r){return new wt(3010,!1)}()),h=!1),o=d.startTime),h&&l.set(c,{startTime:o,endTime:r}),t.options&&function wge(n,e,t){const i=e.params||{},r=JG(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function Pme(n){return new wt(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:pi.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Hme(){return new wt(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const d=e.steps.map(L=>{const H=this._makeStyleAst(L,t);let le=null!=H.offset?H.offset:function Pge(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(H.styles),se=0;return null!=le&&(o++,se=H.offset=le),c=c||se<0||se>1,a=a||se<l,l=se,s.push(se),H});c&&t.errors.push(function Gme(){return new wt(3012,!1)}()),a&&t.errors.push(function Wme(){return new wt(3200,!1)}());const h=e.steps.length;let f=0;o>0&&o<h?t.errors.push(function $me(){return new wt(3202,!1)}()):0==o&&(f=1/(h-1));const m=h-1,g=t.currentTime,v=t.currentAnimateTimings,E=v.duration;return d.forEach((L,H)=>{const le=f>0?H==m?1:f*H:s[H],se=le*E;t.currentTime=g+v.delay+se,v.duration=se,this._validateStyleAst(L,t),L.offset=le,i.styles.push(L)}),i}visitReference(e,t){return{type:pi.Reference,animation:Rc(this,y0(e.animation),t),options:Hp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:pi.AnimateChild,options:Hp(e.options)}}visitAnimateRef(e,t){return{type:pi.AnimateRef,animation:this.visitReference(e.animation,t),options:Hp(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function Rge(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Ige,"")),n=n.replace(/@\*/g,c1).replace(/@\w+/g,t=>c1+"-"+t.slice(1)).replace(/:animating/g,Gk),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Dc(t.collectedStyles,t.currentQuerySelector,new Map);const a=Rc(this,y0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:pi.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Hp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function qme(){return new wt(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:l1(e.timings,t.errors,!0);return{type:pi.Stagger,animation:Rc(this,y0(e.animation),t),timings:i,options:null}}}class kge{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Hp(n){return n?(n={...n}).params&&(n.params=function Oge(n){return n?{...n}:null}(n.params)):n={},n}function Kk(n,e,t){return{duration:n,delay:e,easing:t}}function Jk(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class f1{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Bge=new RegExp(":enter","g"),Uge=new RegExp(":leave","g");function Qk(n,e,t,i,r,o=new Map,s=new Map,a,c,l=[]){return(new Vge).buildKeyframes(n,e,t,i,r,o,s,a,c,l)}class Vge{buildKeyframes(e,t,i,r,o,s,a,c,l,d=[]){l=l||new f1;const h=new Zk(e,t,l,r,o,d,[]);h.options=c;const f=c.delay?Pu(c.delay):0;h.currentTimeline.delayNextStep(f),h.currentTimeline.setStyles([s],null,h.errors,c),Rc(this,i,h);const m=h.timelines.filter(g=>g.containsAnimation());if(m.length&&a.size){let g;for(let v=m.length-1;v>=0;v--){const E=m[v];if(E.element===t){g=E;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,h.errors,c)}return m.length?m.map(g=>g.buildKeyframes()):[Jk(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:Pu(v0(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?Pu(i.duration):null,a=null!=i.delay?Pu(i.delay):null;return 0!==s&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Rc(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==pi.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=p1);const s=Pu(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Rc(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Pu(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Rc(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return l1(t.params?v0(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;o.type==pi.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Pu(r.delay):0;o&&(t.previousNode.type===pi.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=p1);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{t.currentQueryIndex=d;const h=t.createSubContext(e.options,l);o&&h.delayNextStep(o),l===t.element&&(c=h.currentTimeline),Rc(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,h.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const d=t.currentTimeline;c&&d.delayNextStep(c);const h=d.currentTime;Rc(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}}const p1={};class Zk{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=p1,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new m1(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Pu(i.duration)),null!=i.delay&&(r.delay=Pu(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=v0(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new Zk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=p1,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new zge(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(Bge,"."+this._enterClassName)).replace(Uge,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function Yme(n){return new wt(3014,!1)}()),a}}class m1{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new m1(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ou),this._currentKeyframe.set(t,Ou);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function Hge(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i??=e.keys();for(let o of i)t.set(o,Ou)}else for(let[o,s]of r)t.set(o,s)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const l=v0(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ou),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=new Map([...this._backFill,...a]);l.forEach((d,h)=>{"!"===d?e.add(h):d===Ou&&t.add(h)}),i||l.set("offset",c/this.duration),r.push(l)});const o=[...e.values()],s=[...t.values()];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return Jk(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class zge extends m1{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);const l=new Map(e[0]);l.set("offset",n6(a)),o.push(l);const d=e.length-1;for(let h=1;h<=d;h++){let f=new Map(e[h]);const m=f.get("offset");f.set("offset",n6((t+m*i)/s)),o.push(f)}i=s,t=0,r="",e=o}return Jk(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function n6(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function i6(n,e,t,i,r,o,s,a,c,l,d,h,f){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:h,errors:f}}const eP={};class r6{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Gge(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,l,d){const h=[],f=this.ast.options&&this.ast.options.params||eP,g=this.buildStyles(i,a&&a.params||eP,h),v=c&&c.params||eP,E=this.buildStyles(r,v,h),L=new Set,H=new Map,le=new Map,se="void"===r,Pe={params:o6(v,f),delay:this.ast.options?.delay},$e=d?[]:Qk(e,t,this.ast.animation,o,s,g,E,Pe,l,h);let ct=0;return $e.forEach(pt=>{ct=Math.max(pt.duration+pt.delay,ct)}),h.length?i6(t,this._triggerName,i,r,se,g,E,[],[],H,le,ct,h):($e.forEach(pt=>{const tt=pt.element,yt=Dc(H,tt,new Set);pt.preStyleProps.forEach(Gt=>yt.add(Gt));const Pt=Dc(le,tt,new Set);pt.postStyleProps.forEach(Gt=>Pt.add(Gt)),tt!==t&&L.add(tt)}),i6(t,this._triggerName,i,r,se,g,E,$e,[...L.values()],H,le,ct))}}function o6(n,e){const t={...e};return Object.entries(n).forEach(([i,r])=>{null!=r&&(t[i]=r)}),t}class Wge{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=o6(e,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=v0(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class qge{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Wge(r.style,r.options&&r.options.params||{},i))}),s6(this.states,"true","1"),s6(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new r6(e,r,this.states))}),this.fallbackTransition=function Yge(n,e,t){return new r6(n,{type:pi.Transition,animation:{type:pi.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function s6(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Xge=new f1;class Kge{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=Xk(this._driver,t,i,[]);if(i.length)throw function tge(n){return new wt(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=HG(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=Qk(this._driver,t,o,Hk,s1,new Map,new Map,i,Xge,r),s.forEach(d=>{const h=Dc(a,d.element,new Map);d.postStyleProps.forEach(f=>h.set(f,null))})):(r.push(function nge(){return new wt(3300,!1)}()),s=[]),r.length)throw function ige(n){return new wt(3504,!1)}();a.forEach((d,h)=>{d.forEach((f,m)=>{d.set(m,this._driver.computeStyle(h,m,Ou))})});const l=Xh(s.map(d=>{const h=a.get(d.element);return this._buildPlayer(d,new Map,h)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function rge(n){return new wt(3301,!1)}();return t}listen(e,t,i,r){const o=Bk(t,"","","");return Fk(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const a6="ng-animate-queued",tP="ng-animate-disabled",t_e=[],c6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},n_e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bl="__ng_removed";class nP{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function s_e(n){return n??null}(i?e.value:e),i){const{value:o,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const w0="void",iP=new nP(w0);class i_e{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,al(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function oge(n,e){return new wt(3302,!1)}();if(null==i||0==i.length)throw function sge(n){return new wt(3303,!1)}();if(!function a_e(n){return"start"==n||"done"==n}(i))throw function age(n,e){return new wt(3400,!1)}();const o=Dc(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=Dc(this._engine.statesByElement,e,new Map);return a.has(t)||(al(e,a1),al(e,a1+"-"+t),a.set(t,iP)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function cge(n){return new wt(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new rP(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(al(e,a1),al(e,a1+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new nP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=iP),l.value!==w0&&c.value===l.value){if(!function d_e(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,l.params)){const v=[],E=o.matchStyles(c.value,c.params,v),L=o.matchStyles(l.value,l.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{zp(e,E),xd(e,L)})}return}const f=Dc(this._engine.playersByElement,e,[]);f.forEach(v=>{v.namespaceId==this.id&&v.triggerName==t&&v.queued&&v.destroy()});let m=o.matchTransition(c.value,l.value,e,l.params),g=!1;if(!m){if(!r)return;m=o.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:c,toState:l,player:s,isFallbackTransition:g}),g||(al(e,a6),s.onStart(()=>{M_(e,a6)})),s.onDone(()=>{let v=this.players.indexOf(s);v>=0&&this.players.splice(v,1);const E=this._engine.playersByElement.get(e);if(E){let L=E.indexOf(s);L>=0&&E.splice(L,1)}}),this.players.push(s),f.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,c1,!0);i.forEach(r=>{if(r[Bl])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const d=this.trigger(e,l,w0,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Xh(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||iP,d=new nP(w0),h=new rP(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Bl];(!o||o===c6)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){al(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=Bk(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,Fk(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class r_e{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i,r){this.bodyNode=e,this.driver=t,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new i_e(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(g1(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!g1(t))return;const o=t[Bl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),al(e,tP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),M_(e,tP))}removeNode(e,t,i){if(g1(t)){this.scheduler?.notify();const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Bl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return g1(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,c1,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Gk,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Xh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Bl];if(t&&t.setForRemoval){if(e[Bl]=c6,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(tP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)al(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Xh(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function lge(n){return new wt(3402,!1)}()}_flushAnimations(e,t){const i=new f1,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(xt=>{d.add(xt);const Xt=this.driver.query(xt,".ng-animate-queued",!0);for(let rn=0;rn<Xt.length;rn++)d.add(Xt[rn])});const h=this.bodyNode,f=Array.from(this.statesByElement.keys()),m=u6(f,this.collectedEnterElements),g=new Map;let v=0;m.forEach((xt,Xt)=>{const rn=Hk+v++;g.set(Xt,rn),xt.forEach(ln=>al(ln,rn))});const E=[],L=new Set,H=new Set;for(let xt=0;xt<this.collectedLeaveElements.length;xt++){const Xt=this.collectedLeaveElements[xt],rn=Xt[Bl];rn&&rn.setForRemoval&&(E.push(Xt),L.add(Xt),rn.hasAnimation?this.driver.query(Xt,".ng-star-inserted",!0).forEach(ln=>L.add(ln)):H.add(Xt))}const le=new Map,se=u6(f,Array.from(L));se.forEach((xt,Xt)=>{const rn=s1+v++;le.set(Xt,rn),xt.forEach(ln=>al(ln,rn))}),e.push(()=>{m.forEach((xt,Xt)=>{const rn=g.get(Xt);xt.forEach(ln=>M_(ln,rn))}),se.forEach((xt,Xt)=>{const rn=le.get(Xt);xt.forEach(ln=>M_(ln,rn))}),E.forEach(xt=>{this.processLeaveNode(xt)})});const Pe=[],$e=[];for(let xt=this._namespaceList.length-1;xt>=0;xt--)this._namespaceList[xt].drainQueuedTransitions(t).forEach(rn=>{const ln=rn.player,Bn=rn.element;if(Pe.push(ln),this.collectedEnterElements.length){const Qi=Bn[Bl];if(Qi&&Qi.setForMove){if(Qi.previousTriggersValues&&Qi.previousTriggersValues.has(rn.triggerName)){const Qs=Qi.previousTriggersValues.get(rn.triggerName),So=this.statesByElement.get(rn.element);if(So&&So.has(rn.triggerName)){const pc=So.get(rn.triggerName);pc.value=Qs,So.set(rn.triggerName,pc)}}return void ln.destroy()}}const qi=!h||!this.driver.containsElement(h,Bn),xn=le.get(Bn),Zr=g.get(Bn),Ni=this._buildInstruction(rn,i,Zr,xn,qi);if(Ni.errors&&Ni.errors.length)return void $e.push(Ni);if(qi)return ln.onStart(()=>zp(Bn,Ni.fromStyles)),ln.onDestroy(()=>xd(Bn,Ni.toStyles)),void r.push(ln);if(rn.isFallbackTransition)return ln.onStart(()=>zp(Bn,Ni.fromStyles)),ln.onDestroy(()=>xd(Bn,Ni.toStyles)),void r.push(ln);const Js=[];Ni.timelines.forEach(Qi=>{Qi.stretchStartingKeyframe=!0,this.disabledNodes.has(Qi.element)||Js.push(Qi)}),Ni.timelines=Js,i.append(Bn,Ni.timelines),s.push({instruction:Ni,player:ln,element:Bn}),Ni.queriedElements.forEach(Qi=>Dc(a,Qi,[]).push(ln)),Ni.preStyleProps.forEach((Qi,Qs)=>{if(Qi.size){let So=c.get(Qs);So||c.set(Qs,So=new Set),Qi.forEach((pc,zc)=>So.add(zc))}}),Ni.postStyleProps.forEach((Qi,Qs)=>{let So=l.get(Qs);So||l.set(Qs,So=new Set),Qi.forEach((pc,zc)=>So.add(zc))})});if($e.length){const xt=[];$e.forEach(Xt=>{xt.push(function dge(n,e){return new wt(3505,!1)}())}),Pe.forEach(Xt=>Xt.destroy()),this.reportError(xt)}const ct=new Map,pt=new Map;s.forEach(xt=>{const Xt=xt.element;i.has(Xt)&&(pt.set(Xt,Xt),this._beforeAnimationBuild(xt.player.namespaceId,xt.instruction,ct))}),r.forEach(xt=>{const Xt=xt.element;this._getPreviousPlayers(Xt,!1,xt.namespaceId,xt.triggerName,null).forEach(ln=>{Dc(ct,Xt,[]).push(ln),ln.destroy()})});const tt=E.filter(xt=>f6(xt,c,l)),yt=new Map;d6(yt,this.driver,H,l,Ou).forEach(xt=>{f6(xt,c,l)&&tt.push(xt)});const Gt=new Map;m.forEach((xt,Xt)=>{d6(Gt,this.driver,new Set(xt),c,"!")}),tt.forEach(xt=>{const Xt=yt.get(xt),rn=Gt.get(xt);yt.set(xt,new Map([...Xt?.entries()??[],...rn?.entries()??[]]))});const Et=[],Dt=[],Jt={};s.forEach(xt=>{const{element:Xt,player:rn,instruction:ln}=xt;if(i.has(Xt)){if(d.has(Xt))return rn.onDestroy(()=>xd(Xt,ln.toStyles)),rn.disabled=!0,rn.overrideTotalTime(ln.totalTime),void r.push(rn);let Bn=Jt;if(pt.size>1){let xn=Xt;const Zr=[];for(;xn=xn.parentNode;){const Ni=pt.get(xn);if(Ni){Bn=Ni;break}Zr.push(xn)}Zr.forEach(Ni=>pt.set(Ni,Bn))}const qi=this._buildAnimation(rn.namespaceId,ln,ct,o,Gt,yt);if(rn.setRealPlayer(qi),Bn===Jt)Et.push(rn);else{const xn=this.playersByElement.get(Bn);xn&&xn.length&&(rn.parentPlayer=Xh(xn)),r.push(rn)}}else zp(Xt,ln.fromStyles),rn.onDestroy(()=>xd(Xt,ln.toStyles)),Dt.push(rn),d.has(Xt)&&r.push(rn)}),Dt.forEach(xt=>{const Xt=o.get(xt.element);if(Xt&&Xt.length){const rn=Xh(Xt);xt.setRealPlayer(rn)}}),r.forEach(xt=>{xt.parentPlayer?xt.syncPlayerEvents(xt.parentPlayer):xt.destroy()});for(let xt=0;xt<E.length;xt++){const Xt=E[xt],rn=Xt[Bl];if(M_(Xt,s1),rn&&rn.hasAnimation)continue;let ln=[];if(a.size){let qi=a.get(Xt);qi&&qi.length&&ln.push(...qi);let xn=this.driver.query(Xt,Gk,!0);for(let Zr=0;Zr<xn.length;Zr++){let Ni=a.get(xn[Zr]);Ni&&Ni.length&&ln.push(...Ni)}}const Bn=ln.filter(qi=>!qi.destroyed);Bn.length?c_e(this,Xt,Bn):this.processLeaveNode(Xt)}return E.length=0,Et.forEach(xt=>{this.players.push(xt),xt.onDone(()=>{xt.destroy();const Xt=this.players.indexOf(xt);this.players.splice(Xt,1)}),xt.play()}),Et}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==w0;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,d=l!==o,h=Dc(i,l,[]);this._getPreviousPlayers(l,d,s,a,t.toState).forEach(m=>{const g=m.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),m.destroy(),h.push(m)})}zp(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,l=[],d=new Set,h=new Set,f=t.timelines.map(g=>{const v=g.element;d.add(v);const E=v[Bl];if(E&&E.removedBeforeQueried)return new Zv(g.duration,g.delay);const L=v!==c,H=function l_e(n){const e=[];return h6(n,e),e}((i.get(v)||t_e).map(ct=>ct.getRealPlayer())).filter(ct=>!!ct.element&&ct.element===v),le=o.get(v),se=s.get(v),Pe=HG(this._normalizer,g.keyframes,le,se),$e=this._buildPlayer(g,Pe,H);if(g.subTimeline&&r&&h.add(v),L){const ct=new rP(e,a,v);ct.setRealPlayer($e),l.push(ct)}return $e});l.forEach(g=>{Dc(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>function o_e(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,g.element,g))}),d.forEach(g=>al(g,XG));const m=Xh(f);return m.onDestroy(()=>{d.forEach(g=>M_(g,XG)),xd(c,t.toStyles)}),h.forEach(g=>{Dc(r,g,[]).push(m)}),m}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Zv(e.duration,e.delay)}}class rP{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Zv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Fk(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Dc(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function g1(n){return n&&1===n.nodeType}function l6(n,e){const t=n.style.display;return n.style.display=e??"none",t}function d6(n,e,t,i,r){const o=[];t.forEach(c=>o.push(l6(c)));const s=[];i.forEach((c,l)=>{const d=new Map;c.forEach(h=>{const f=e.computeStyle(l,h,r);d.set(h,f),(!f||0==f.length)&&(l[Bl]=n_e,s.push(l))}),n.set(l,d)});let a=0;return t.forEach(c=>l6(c,o[a++])),s}function u6(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function al(n,e){n.classList?.add(e)}function M_(n,e){n.classList?.remove(e)}function c_e(n,e,t){Xh(t).onDone(()=>n.processLeaveNode(e))}function h6(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof H8?h6(i.players,e):e.push(i)}}function f6(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class x0{constructor(e,t,i,r){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new r_e(e.body,t,i,r),this._timelineEngine=new Kge(e.body,t,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],d=Xk(this._driver,o,c,[]);if(c.length)throw function Zme(n,e){return new wt(3404,!1)}();a=function $ge(n,e,t){return new qge(n,e,t)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=GG(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=GG(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class E0{static#e=this.initialStylesByElement=new WeakMap;constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=E0.initialStylesByElement.get(e);r||E0.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&xd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xd(this._element,this._initialStyles),this._endStyles&&(xd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(E0.initialStylesByElement.delete(this._element),this._startStyles&&(zp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zp(this._element,this._endStyles),this._endStyles=null),xd(this._element,this._initialStyles),this._state=3)}}function oP(n){let e=null;return n.forEach((t,i)=>{(function h_e(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class p6{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Yk(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class m6{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return $G(e,t)}getParentElement(e){return jk(e)}query(e,t,i){return qG(e,t,i)}computeStyle(e,t,i){return Yk(e,t)}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,d=s.filter(m=>m instanceof p6);(function Ege(n,e){return 0===n||0===e})(i,r)&&d.forEach(m=>{m.currentSnapshot.forEach((g,v)=>l.set(v,g))});let h=function vge(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(m=>new Map(m));h=function Cge(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,Yk(n,a)))}}return e}(e,h,l);const f=function u_e(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=oP(e[0]),e.length>1&&(i=oP(e[e.length-1]))):e instanceof Map&&(t=oP(e)),t||i?new E0(n,t,i):null}(e,h);return new p6(e,h,c,f)}}const g6="@.disabled";class _6{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==g6?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class f_e extends _6{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==g6?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function p_e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function m_e(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class g_e{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const l=this._rendererCache;let d=l.get(r);return d||(d=new _6("",r,this.engine,()=>l.delete(r)),l.set(r,d)),d}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new f_e(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let __e=(()=>{class n extends x0{constructor(t,i,r){super(t,i,r,kt(TC,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(et(ci),et(Vk),et(zk))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})();const b6=[{provide:zk,useFactory:function b_e(){return new QG}},{provide:x0,useClass:__e},{provide:aR,useFactory:function y_e(n,e,t){return new g_e(n,e,t)},deps:[HO,x0,_n]}],sP=[{provide:Vk,useFactory:()=>new m6},{provide:co,useValue:"BrowserAnimations"},...b6],y6=[{provide:Vk,useClass:Uk},{provide:co,useValue:"NoopAnimations"},...b6];let aP=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?y6:sP}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({providers:sP,imports:[$O]})}return n})(),v_e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi]})}return n})();function C0(n){return(C0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ve(n,e,t){return(e=function x_e(n){var e=function w_e(n,e){if("object"!=C0(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!=C0(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==C0(e)?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function v6(n){if(typeof window<"u"&&"object"==typeof window.process&&"renderer"===window.process.type||typeof process<"u"&&"object"==typeof process.versions&&process.versions.electron)return!0;const e="object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent,t=n||e;return!!(t&&t.indexOf("Electron")>=0)}function Ed(){return!("object"==typeof process&&"[object process]"===String(process)&&!process.browser)||v6()}const w6=typeof __VERSION__<"u"?__VERSION__:"untranspiled source";Ed();class C_e{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";ve(this,"storage",void 0),ve(this,"id",void 0),ve(this,"config",void 0),this.storage=function E_e(n){try{const e=window[n],t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch{return null}}(i),this.id=e,this.config=t,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}}_loadConfiguration(){let e={};if(this.storage){const t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}function cP(n,e,t){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600;const r=n.src.replace(/\(/g,"%28").replace(/\)/g,"%29");n.width>i&&(t=Math.min(t,i/n.width));const o=n.width*t,s=n.height*t,a=["font-size:1px;","padding:".concat(Math.floor(s/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(s,"px;"),"background:url(".concat(r,");"),"background-size:".concat(o,"px ").concat(s,"px;"),"color:transparent;"].join("");return["".concat(e," %c+"),a]}let b1;var n;function x6(n){return"string"==typeof n?b1[n.toUpperCase()]||b1.WHITE:n}function y1(n,e){if(!n)throw new Error(e||"Assertion failed")}(n=b1||(b1={}))[n.BLACK=30]="BLACK",n[n.RED=31]="RED",n[n.GREEN=32]="GREEN",n[n.YELLOW=33]="YELLOW",n[n.BLUE=34]="BLUE",n[n.MAGENTA=35]="MAGENTA",n[n.CYAN=36]="CYAN",n[n.WHITE=37]="WHITE",n[n.BRIGHT_BLACK=90]="BRIGHT_BLACK",n[n.BRIGHT_RED=91]="BRIGHT_RED",n[n.BRIGHT_GREEN=92]="BRIGHT_GREEN",n[n.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",n[n.BRIGHT_BLUE=94]="BRIGHT_BLUE",n[n.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",n[n.BRIGHT_CYAN=96]="BRIGHT_CYAN",n[n.BRIGHT_WHITE=97]="BRIGHT_WHITE";const Kh={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document,process:"object"==typeof process&&process},v1=Kh.window||Kh.self||Kh.global,S0=Kh.process||{};function I_(){let n;var e,t;if(Ed&&"performance"in v1)n=null==v1||null===(e=v1.performance)||void 0===e||null===(t=e.now)||void 0===t?void 0:t.call(e);else if("hrtime"in S0){var i;const r=null==S0||null===(i=S0.hrtime)||void 0===i?void 0:i.call(S0);n=1e3*r[0]+r[1]/1e6}else n=Date.now();return n}const D_={debug:Ed&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},R_e={enabled:!0,level:0};function cl(){}const E6={},C6={once:!0};class A0{constructor(){let{id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""};ve(this,"id",void 0),ve(this,"VERSION",w6),ve(this,"_startTs",I_()),ve(this,"_deltaTs",I_()),ve(this,"_storage",void 0),ve(this,"userData",{}),ve(this,"LOG_THROTTLE_TIMEOUT",0),this.id=e,this.userData={},this._storage=new C_e("__probe-".concat(this.id,"__"),R_e),this.timeStamp("".concat(this.id," started")),function D_e(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"];const t=Object.getPrototypeOf(n),i=Object.getOwnPropertyNames(t);for(const r of i)"function"==typeof n[r]&&(e.find(o=>r===o)||(n[r]=n[r].bind(n)))}(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((I_()-this._startTs).toPrecision(10))}getDelta(){return Number((I_()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(){return this._storage.setConfiguration({enabled:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,t){this._storage.setConfiguration({[e]:t})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,t){y1(e,t)}warn(e){return this._getLogFunction(0,e,D_.warn,arguments,C6)}error(e){return this._getLogFunction(0,e,D_.error,arguments)}deprecated(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}removed(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}probe(e,t){return this._getLogFunction(e,t,D_.log,arguments,{time:!0,once:!0})}log(e,t){return this._getLogFunction(e,t,D_.debug,arguments)}info(e,t){return this._getLogFunction(e,t,console.info,arguments)}once(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return this._getLogFunction(e,t,D_.debug||D_.info,arguments,C6)}table(e,t,i){return t?this._getLogFunction(e,t,console.table||cl,i&&[i],{tag:N_e(t)}):cl}image(e){let{logLevel:t,priority:i,image:r,message:o="",scale:s=1}=e;return this._shouldLog(t||i)?Ed?function P_e(n){let{image:e,message:t="",scale:i=1}=n;if("string"==typeof e){const o=new Image;return o.onload=()=>{const s=cP(o,t,i);console.log(...s)},o.src=e,cl}const r=e.nodeName||"";if("img"===r.toLowerCase())return console.log(...cP(e,t,i)),cl;if("canvas"===r.toLowerCase()){const o=new Image;return o.onload=()=>console.log(...cP(o,t,i)),o.src=e.toDataURL(),cl}return cl}({image:r,message:o,scale:s}):function k_e(n){let{message:t="",scale:i=1}=n;return console.warn("removed"),cl}({image:r,message:o,scale:s}):cl}time(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}timeEnd(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,t){return this._getLogFunction(e,t,console.timeStamp||cl)}group(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1};const r=A6({logLevel:e,message:t,opts:i}),{collapsed:o}=i;return r.method=(o?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}groupCollapsed(e,t){return this.group(e,t,Object.assign({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||cl)}withGroup(e,t,i){this.group(e,t)();try{i()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=S6(e)}_getLogFunction(e,t,i,r,o){if(this._shouldLog(e)){o=A6({logLevel:e,message:t,args:r,opts:o}),y1(i=i||o.method),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=I_();const s=o.tag||o.message;if(o.once){if(E6[s])return cl;E6[s]=I_()}return t=function O_e(n,e,t){if("string"==typeof e){const i=t.time?function A_e(n){const t=Math.max((arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-n.length,0);return"".concat(" ".repeat(t)).concat(n)}(function S_e(n){let e;return e=n<10?"".concat(n.toFixed(2),"ms"):n<100?"".concat(n.toFixed(1),"ms"):n<1e3?"".concat(n.toFixed(0),"ms"):"".concat((n/1e3).toFixed(2),"s"),e}(t.total)):"";e=function I_e(n,e,t){return!Ed&&"string"==typeof n&&(e&&(e=x6(e),n="\x1b[".concat(e,"m").concat(n,"\x1b[39m")),t&&(e=x6(t),n="\x1b[".concat(t+10,"m").concat(n,"\x1b[49m"))),n}(e=t.time?"".concat(n,": ").concat(i,"  ").concat(e):"".concat(n,": ").concat(e),t.color,t.background)}return e}(this.id,o.message,o),i.bind(console,t,...o.args)}return cl}}function S6(n){if(!n)return 0;let e;switch(typeof n){case"number":e=n;break;case"object":e=n.logLevel||n.priority||0;break;default:return 0}return y1(Number.isFinite(e)&&e>=0),e}function A6(n){const{logLevel:e,message:t}=n;n.logLevel=S6(e);const i=n.args?Array.from(n.args):[];for(;i.length&&i.shift()!==t;);switch(typeof e){case"string":case"function":void 0!==t&&i.unshift(t),n.message=e;break;case"object":Object.assign(n,e)}"function"==typeof n.message&&(n.message=n.message());const r=typeof n.message;return y1("string"===r||"object"===r),Object.assign(n,{args:i},n.opts)}function N_e(n){for(const e in n)for(const t in n[e])return t||"untitled";return"empty"}ve(A0,"VERSION",w6);const zi=new A0({id:"deck"}),T0=new class F_e{constructor(e={}){ve(this,"_pool",[]),ve(this,"opts",{overAlloc:2,poolSize:100}),this.setOptions(e)}setOptions(e){Object.assign(this.opts,e)}allocate(e,t,{size:i=1,type:r,padding:o=0,copy:s=!1,initialize:a=!1,maxCount:c}){const l=r||e&&e.constructor||Float32Array,d=t*i+o;if(ArrayBuffer.isView(e)){if(d<=e.length)return e;if(d*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new l(e.buffer,0,d)}let h=1/0;c&&(h=c*i+o);const f=this._allocate(l,d,a,h);return e&&s?f.set(e):a||f.fill(0,0,4),this._release(e),f}release(e){this._release(e)}_allocate(e,t,i,r){let o=Math.max(Math.ceil(t*this.opts.overAlloc),1);o>r&&(o=r);const s=this._pool,a=e.BYTES_PER_ELEMENT*o,c=s.findIndex(l=>l.byteLength>=a);if(c>=0){const l=new e(s.splice(c,1)[0],0,o);return i&&l.fill(0),l}return new e(o)}_release(e){if(!ArrayBuffer.isView(e))return;const t=this._pool,{buffer:i}=e,{byteLength:r}=i,o=t.findIndex(s=>s.byteLength>=r);o<0?t.push(i):(o>0||t.length<this.opts.poolSize)&&t.splice(o,0,i),t.length>this.opts.poolSize&&t.shift()}},B_e=(Math,1/180*Math.PI),zo={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function j_e(n,{precision:e=zo.precision}={}){return n=function H_e(n){return Math.round(n/zo.EPSILON)*zo.EPSILON}(n),"".concat(parseFloat(n.toPrecision(e)))}function Nu(n){return Array.isArray(n)||ArrayBuffer.isView(n)&&!(n instanceof DataView)}function ho(n){return function U_e(n,e){return Fu(n,t=>t*B_e,e)}(n)}function Vs(n,e,t){return Fu(n,i=>Math.max(e,Math.min(t,i)))}function w1(n,e,t){return Nu(n)?n.map((i,r)=>w1(i,e[r],t)):t*e+(1-t)*n}function R_(n,e,t){const i=zo.EPSILON;t&&(zo.EPSILON=t);try{if(n===e)return!0;if(Nu(n)&&Nu(e)){if(n.length!==e.length)return!1;for(let r=0;r<n.length;++r)if(!R_(n[r],e[r]))return!1;return!0}return n&&n.equals?n.equals(e):e&&e.equals?e.equals(n):"number"==typeof n&&"number"==typeof e&&Math.abs(n-e)<=zo.EPSILON*Math.max(1,Math.abs(n),Math.abs(e))}finally{zo.EPSILON=i}}function Fu(n,e,t){if(Nu(n)){const i=n;t=t||function G_e(n){return n.clone?n.clone():new Array(n.length)}(i);for(let r=0;r<t.length&&r<i.length;++r)t[r]=e(n[r],r,t);return t}return e(n)}class lP extends(function W_e(n){function e(){var t=Reflect.construct(n,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return e.prototype=Object.create(n.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n,e}(Array)){clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){for(let i=0;i<this.ELEMENTS;++i)this[i]=e[i+t];return this.check()}toArray(e=[],t=0){for(let i=0;i<this.ELEMENTS;++i)e[t+i]=this[i];return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:Nu(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(zo)}formatString(e){let t="";for(let i=0;i<this.ELEMENTS;++i)t+=(i>0?", ":"")+j_e(this[i],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!R_(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,i){if(void 0===i)return this.lerp(this,e,t);for(let r=0;r<this.ELEMENTS;++r){const o=e[r];this[r]=o+i*(t[r]-o)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e[i]),t[i]);return this.check()}add(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]+=t[i];return this.check()}subtract(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]-=t[i];return this.check()}scale(e){if("number"==typeof e)for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;else for(let t=0;t<this.ELEMENTS&&t<e.length;++t)this[t]*=e[t];return this.check()}multiplyByScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}check(){if(zo.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e),t);return this.check()}get elements(){return this}}function Br(n){if(!Number.isFinite(n))throw new Error("Invalid number ".concat(n));return n}function x1(n,e,t=""){if(zo.debug&&!function $_e(n,e){if(n.length!==e)return!1;for(let t=0;t<n.length;++t)if(!Number.isFinite(n[t]))return!1;return!0}(n,e))throw new Error("math.gl: ".concat(t," some fields set to invalid numbers'"));return n}function M6(n,e){if(!n)throw new Error("math.gl assertion ".concat(e))}class I6 extends lP{get x(){return this[0]}set x(e){this[0]=Br(e)}get y(){return this[1]}set y(e){this[1]=Br(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let i=0;i<this.ELEMENTS;++i){const r=this[i]-e[i];t+=r*r}return Br(t)}dot(e){let t=0;for(let i=0;i<this.ELEMENTS;++i)t+=this[i]*e[i];return Br(t)}normalize(){const e=this.magnitude();if(0!==e)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]*=t[i];return this.check()}divide(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]/=t[i];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return M6(e>=0&&e<this.ELEMENTS,"index is out of range"),Br(this[e])}setComponent(e,t){return M6(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}var Cd=1e-6,cc=typeof Float32Array<"u"?Float32Array:Array;function D6(){var n=new cc(3);return cc!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function R6(n,e,t){var i=new cc(3);return i[0]=n,i[1]=e,i[2]=t,i}function O6(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function E1(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],c=t[2];return n[0]=r*c-o*a,n[1]=o*s-i*c,n[2]=i*a-r*s,n}function dP(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o+t[15];return n[0]=(t[0]*i+t[4]*r+t[8]*o+t[12])/(s=s||1),n[1]=(t[1]*i+t[5]*r+t[9]*o+t[13])/s,n[2]=(t[2]*i+t[6]*r+t[10]*o+t[14])/s,n}function k6(n,e,t){var i=t[0],r=t[1],o=t[2],a=e[0],c=e[1],l=e[2],d=r*l-o*c,h=o*a-i*l,f=i*c-r*a,m=r*f-o*h,g=o*d-i*f,v=i*h-r*d,E=2*t[3];return h*=E,f*=E,g*=2,v*=2,n[0]=a+(d*=E)+(m*=2),n[1]=c+h+g,n[2]=l+f+v,n}Math,Math,Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)});function P6(n,e,t){const i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o||1;return n[0]=(t[0]*i+t[4]*r+t[8]*o)/s,n[1]=(t[1]*i+t[5]*r+t[9]*o)/s,n[2]=(t[2]*i+t[6]*r+t[10]*o)/s,n}D6();const uP=[0,0,0];let C1;class xa extends I6{static get ZERO(){return C1||(C1=new xa(0,0,0),Object.freeze(C1)),C1}constructor(e=0,t=0,i=0){super(-0,-0,-0),1===arguments.length&&Nu(e)?this.copy(e):(zo.debug&&(Br(e),Br(t),Br(i)),this[0]=e,this[1]=t,this[2]=i)}set(e,t,i){return this[0]=e,this[1]=t,this[2]=i,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return zo.debug&&(Br(e.x),Br(e.y),Br(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=Br(e)}angle(e){return function nbe(n,e){var t=n[0],i=n[1],r=n[2],o=e[0],s=e[1],a=e[2],d=Math.sqrt(t*t+i*i+r*r)*Math.sqrt(o*o+s*s+a*a),h=d&&O6(n,e)/d;return Math.acos(Math.min(Math.max(h,-1),1))}(this,e)}cross(e){return E1(this,this,e),this.check()}rotateX({radians:e,origin:t=uP}){return function Z_e(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateY({radians:e,origin:t=uP}){return function ebe(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateZ({radians:e,origin:t=uP}){return function tbe(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return dP(this,this,e),this.check()}transformAsVector(e){return P6(this,this,e),this.check()}transformByMatrix3(e){return function Q_e(n,e,t){var i=e[0],r=e[1],o=e[2];n[0]=i*t[0]+r*t[3]+o*t[6],n[1]=i*t[1]+r*t[4]+o*t[7],n[2]=i*t[2]+r*t[5]+o*t[8]}(this,this,e),this.check()}transformByMatrix2(e){return function sbe(n,e,t){const i=e[0],r=e[1];n[0]=t[0]*i+t[2]*r,n[1]=t[1]*i+t[3]*r,n[2]=e[2]}(this,this,e),this.check()}transformByQuaternion(e){return k6(this,this,e),this.check()}}const N6=new xa;function O_(n,e,t,i){N6.set(n,e,t);const r=N6.len();return{distance:i/r,normal:new xa(-n/r,-e/r,-t/r)}}function hbe(n){return n-Math.fround(n)}let I0;function hP(n,e){const{size:t=1,startIndex:i=0}=e,r=void 0!==e.endIndex?e.endIndex:n.length,o=(r-i)/t;I0=T0.allocate(I0,o,{type:Float32Array,size:2*t});let s=i,a=0;for(;s<r;){for(let c=0;c<t;c++){const l=n[s++];I0[a+c]=l,I0[a+c+t]=hbe(l)}a+=2*t}return I0.subarray(0,o*t*2)}class fbe extends lP{toString(){let e="[";if(zo.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let i=0;i<this.RANK;++i)e+=" ".concat(this[i*this.RANK+t])}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=" ".concat(this[t])}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,i){return this[t*this.RANK+e]=Br(i),this}getColumn(e,t=new Array(this.RANK).fill(-0)){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)t[r]=this[i+r];return t}setColumn(e,t){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)this[i+r]=t[r];return this}}function fP(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],d=e[8],h=e[9],f=e[10],m=e[11],g=e[12],v=e[13],E=e[14],L=e[15],H=t*a-i*s,le=t*c-r*s,se=t*l-o*s,Pe=i*c-r*a,$e=i*l-o*a,ct=r*l-o*c,pt=d*v-h*g,tt=d*E-f*g,yt=d*L-m*g,Pt=h*E-f*v,Gt=h*L-m*v,Et=f*L-m*E,Dt=H*Et-le*Gt+se*Pt+Pe*yt-$e*tt+ct*pt;return Dt?(n[0]=(a*Et-c*Gt+l*Pt)*(Dt=1/Dt),n[1]=(r*Gt-i*Et-o*Pt)*Dt,n[2]=(v*ct-E*$e+L*Pe)*Dt,n[3]=(f*$e-h*ct-m*Pe)*Dt,n[4]=(c*yt-s*Et-l*tt)*Dt,n[5]=(t*Et-r*yt+o*tt)*Dt,n[6]=(E*se-g*ct-L*le)*Dt,n[7]=(d*ct-f*se+m*le)*Dt,n[8]=(s*Gt-a*yt+l*pt)*Dt,n[9]=(i*yt-t*Gt-o*pt)*Dt,n[10]=(g*$e-v*se+L*H)*Dt,n[11]=(h*se-d*$e-m*H)*Dt,n[12]=(a*tt-s*Pt-c*pt)*Dt,n[13]=(t*Pt-i*tt+r*pt)*Dt,n[14]=(v*le-g*Pe-E*H)*Dt,n[15]=(d*Pe-h*le+f*H)*Dt,n):null}function Gp(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],f=e[9],m=e[10],g=e[11],v=e[12],E=e[13],L=e[14],H=e[15],le=t[0],se=t[1],Pe=t[2],$e=t[3];return n[0]=le*i+se*a+Pe*h+$e*v,n[1]=le*r+se*c+Pe*f+$e*E,n[2]=le*o+se*l+Pe*m+$e*L,n[3]=le*s+se*d+Pe*g+$e*H,n[4]=(le=t[4])*i+(se=t[5])*a+(Pe=t[6])*h+($e=t[7])*v,n[5]=le*r+se*c+Pe*f+$e*E,n[6]=le*o+se*l+Pe*m+$e*L,n[7]=le*s+se*d+Pe*g+$e*H,n[8]=(le=t[8])*i+(se=t[9])*a+(Pe=t[10])*h+($e=t[11])*v,n[9]=le*r+se*c+Pe*f+$e*E,n[10]=le*o+se*l+Pe*m+$e*L,n[11]=le*s+se*d+Pe*g+$e*H,n[12]=(le=t[12])*i+(se=t[13])*a+(Pe=t[14])*h+($e=t[15])*v,n[13]=le*r+se*c+Pe*f+$e*E,n[14]=le*o+se*l+Pe*m+$e*L,n[15]=le*s+se*d+Pe*g+$e*H,n}function S1(n,e,t){var s,a,c,l,d,h,f,m,g,v,E,L,i=t[0],r=t[1],o=t[2];return e===n?(n[12]=e[0]*i+e[4]*r+e[8]*o+e[12],n[13]=e[1]*i+e[5]*r+e[9]*o+e[13],n[14]=e[2]*i+e[6]*r+e[10]*o+e[14],n[15]=e[3]*i+e[7]*r+e[11]*o+e[15]):(a=e[1],c=e[2],l=e[3],d=e[4],h=e[5],f=e[6],m=e[7],g=e[8],v=e[9],E=e[10],L=e[11],n[0]=s=e[0],n[1]=a,n[2]=c,n[3]=l,n[4]=d,n[5]=h,n[6]=f,n[7]=m,n[8]=g,n[9]=v,n[10]=E,n[11]=L,n[12]=s*i+d*r+g*o+e[12],n[13]=a*i+h*r+v*o+e[13],n[14]=c*i+f*r+E*o+e[14],n[15]=l*i+m*r+L*o+e[15]),n}function pP(n,e,t){var i=t[0],r=t[1],o=t[2];return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*r,n[6]=e[6]*r,n[7]=e[7]*r,n[8]=e[8]*o,n[9]=e[9]*o,n[10]=e[10]*o,n[11]=e[11]*o,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function F6(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[4],s=e[5],a=e[6],c=e[7],l=e[8],d=e[9],h=e[10],f=e[11];return e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[4]=o*r+l*i,n[5]=s*r+d*i,n[6]=a*r+h*i,n[7]=c*r+f*i,n[8]=l*r-o*i,n[9]=d*r-s*i,n[10]=h*r-a*i,n[11]=f*r-c*i,n}function L6(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[0],s=e[1],a=e[2],c=e[3],l=e[4],d=e[5],h=e[6],f=e[7];return e!==n&&(n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=o*r+l*i,n[1]=s*r+d*i,n[2]=a*r+h*i,n[3]=c*r+f*i,n[4]=l*r-o*i,n[5]=d*r-s*i,n[6]=h*r-a*i,n[7]=f*r-c*i,n}function A1(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function B6(n,e){return n[0]=-e[0],n[1]=-e[1],n}function j6(n,e,t,i){var r=e[0],o=e[1];return n[0]=r+i*(t[0]-r),n[1]=o+i*(t[1]-o),n}function U6(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n}function D0(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3];return n[0]=t[0]*i+t[4]*r+t[8]*o+t[12]*s,n[1]=t[1]*i+t[5]*r+t[9]*o+t[13]*s,n[2]=t[2]*i+t[6]*r+t[10]*o+t[14]*s,n[3]=t[3]*i+t[7]*r+t[11]*o+t[15]*s,n}!function Mbe(){var n=new cc(2);cc!=Float32Array&&(n[0]=0,n[1]=0)}(),function Dbe(){var n=new cc(4);cc!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0,n[3]=0)}();var V6=function(n){return n[n.COL0ROW0=0]="COL0ROW0",n[n.COL0ROW1=1]="COL0ROW1",n[n.COL0ROW2=2]="COL0ROW2",n[n.COL0ROW3=3]="COL0ROW3",n[n.COL1ROW0=4]="COL1ROW0",n[n.COL1ROW1=5]="COL1ROW1",n[n.COL1ROW2=6]="COL1ROW2",n[n.COL1ROW3=7]="COL1ROW3",n[n.COL2ROW0=8]="COL2ROW0",n[n.COL2ROW1=9]="COL2ROW1",n[n.COL2ROW2=10]="COL2ROW2",n[n.COL2ROW3=11]="COL2ROW3",n[n.COL3ROW0=12]="COL3ROW0",n[n.COL3ROW1=13]="COL3ROW1",n[n.COL3ROW2=14]="COL3ROW2",n[n.COL3ROW3=15]="COL3ROW3",n}(V6||{});const Gbe=45*Math.PI/180,Wbe=1,mP=.1,gP=500,$be=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class jt extends fbe{static get IDENTITY(){return function Ybe(){return M1||(M1=new jt,Object.freeze(M1)),M1}()}static get ZERO(){return function qbe(){return T1||(T1=new jt([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(T1)),T1}()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return V6}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,t,i,r,o,s,a,c,l,d,h,f,m,g,v,E){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this[4]=o,this[5]=s,this[6]=a,this[7]=c,this[8]=l,this[9]=d,this[10]=h,this[11]=f,this[12]=m,this[13]=g,this[14]=v,this[15]=E,this.check()}setRowMajor(e,t,i,r,o,s,a,c,l,d,h,f,m,g,v,E){return this[0]=e,this[1]=o,this[2]=l,this[3]=m,this[4]=t,this[5]=s,this[6]=d,this[7]=g,this[8]=i,this[9]=a,this[10]=h,this[11]=v,this[12]=r,this[13]=c,this[14]=f,this[15]=E,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy($be)}fromObject(e){return this.check()}fromQuaternion(e){return function wbe(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t+t,a=i+i,c=r+r,l=t*s,d=i*s,h=i*a,f=r*s,m=r*a,g=r*c,v=o*s,E=o*a,L=o*c;n[0]=1-h-g,n[1]=d+L,n[2]=f-E,n[3]=0,n[4]=d-L,n[5]=1-l-g,n[6]=m+v,n[7]=0,n[8]=f+E,n[9]=m-v,n[10]=1-l-h,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1}(this,e),this.check()}frustum(e){const{left:t,right:i,bottom:r,top:o,near:s=mP,far:a=gP}=e;return a===1/0?function Xbe(n,e,t,i,r,o){const a=2*o/(r-i),c=(t+e)/(t-e),l=(r+i)/(r-i),f=-2*o;n[0]=2*o/(t-e),n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=a,n[6]=0,n[7]=0,n[8]=c,n[9]=l,n[10]=-1,n[11]=-1,n[12]=0,n[13]=0,n[14]=f,n[15]=0}(this,t,i,r,o,s):function xbe(n,e,t,i,r,o,s){var a=1/(t-e),c=1/(r-i),l=1/(o-s);n[0]=2*o*a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2*o*c,n[6]=0,n[7]=0,n[8]=(t+e)*a,n[9]=(r+i)*c,n[10]=(s+o)*l,n[11]=-1,n[12]=0,n[13]=0,n[14]=s*o*2*l,n[15]=0}(this,t,i,r,o,s,a),this.check()}lookAt(e){const{eye:t,center:i=[0,0,0],up:r=[0,1,0]}=e;return function Tbe(n,e,t,i){var r,o,s,a,c,l,d,h,f,m,g=e[0],v=e[1],E=e[2],L=i[0],H=i[1],le=i[2],se=t[0],Pe=t[1],$e=t[2];Math.abs(g-se)<Cd&&Math.abs(v-Pe)<Cd&&Math.abs(E-$e)<Cd?function pbe(n){n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1}(n):(d=g-se,h=v-Pe,f=E-$e,r=H*(f*=m=1/Math.hypot(d,h,f))-le*(h*=m),o=le*(d*=m)-L*f,s=L*h-H*d,(m=Math.hypot(r,o,s))?(r*=m=1/m,o*=m,s*=m):(r=0,o=0,s=0),a=h*s-f*o,c=f*r-d*s,l=d*o-h*r,(m=Math.hypot(a,c,l))?(a*=m=1/m,c*=m,l*=m):(a=0,c=0,l=0),n[0]=r,n[1]=a,n[2]=d,n[3]=0,n[4]=o,n[5]=c,n[6]=h,n[7]=0,n[8]=s,n[9]=l,n[10]=f,n[11]=0,n[12]=-(r*g+o*v+s*E),n[13]=-(a*g+c*v+l*E),n[14]=-(d*g+h*v+f*E),n[15]=1)}(this,t,i,r),this.check()}ortho(e){const{left:t,right:i,bottom:r,top:o,near:s=mP,far:a=gP}=e;return function Sbe(n,e,t,i,r,o,s){var a=1/(e-t),c=1/(i-r),l=1/(o-s);n[0]=-2*a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*c,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*l,n[11]=0,n[12]=(e+t)*a,n[13]=(r+i)*c,n[14]=(s+o)*l,n[15]=1}(this,t,i,r,o,s,a),this.check()}orthographic(e){const{fovy:t=Gbe,aspect:i=Wbe,focalDistance:r=1,near:o=mP,far:s=gP}=e;z6(t);const c=r*Math.tan(t/2),l=c*i;return this.ortho({left:-l,right:l,bottom:-c,top:c,near:o,far:s})}perspective(e){const{fovy:t=45*Math.PI/180,aspect:i=1,near:r=.1,far:o=500}=e;return z6(t),function Ebe(n,e,t,i,r){var s,o=1/Math.tan(e/2);n[0]=o/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=o,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,null!=r&&r!==1/0?(n[10]=(r+i)*(s=1/(i-r)),n[14]=2*r*i*s):(n[10]=-1,n[14]=-2*i)}(this,t,i,r,o),this.check()}determinant(){return function gbe(n){var e=n[0],t=n[1],i=n[2],r=n[3],o=n[4],s=n[5],a=n[6],c=n[7],l=n[8],d=n[9],h=n[10],f=n[11],m=n[12],g=n[13],v=n[14],E=n[15];return(e*s-t*o)*(h*E-f*v)-(e*a-i*o)*(d*E-f*g)+(e*c-r*o)*(d*v-h*g)+(t*a-i*s)*(l*E-f*m)-(t*c-r*s)*(l*v-h*m)+(i*c-r*a)*(l*g-d*m)}(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0];const i=this.getScale(t=t||[-0,-0,-0]),r=1/i[0],o=1/i[1],s=1/i[2];return e[0]=this[0]*r,e[1]=this[1]*o,e[2]=this[2]*s,e[3]=0,e[4]=this[4]*r,e[5]=this[5]*o,e[6]=this[6]*s,e[7]=0,e[8]=this[8]*r,e[9]=this[9]*o,e[10]=this[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0];const i=this.getScale(t=t||[-0,-0,-0]),r=1/i[0],o=1/i[1],s=1/i[2];return e[0]=this[0]*r,e[1]=this[1]*o,e[2]=this[2]*s,e[3]=this[4]*r,e[4]=this[5]*o,e[5]=this[6]*s,e[6]=this[8]*r,e[7]=this[9]*o,e[8]=this[10]*s,e}transpose(){return function mbe(n,e){if(n===e){var t=e[1],i=e[2],r=e[3],o=e[6],s=e[7],a=e[11];n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=t,n[6]=e[9],n[7]=e[13],n[8]=i,n[9]=o,n[11]=e[14],n[12]=r,n[13]=s,n[14]=a}else n[0]=e[0],n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=e[1],n[5]=e[5],n[6]=e[9],n[7]=e[13],n[8]=e[2],n[9]=e[6],n[10]=e[10],n[11]=e[14],n[12]=e[3],n[13]=e[7],n[14]=e[11],n[15]=e[15]}(this,this),this.check()}invert(){return fP(this,this),this.check()}multiplyLeft(e){return Gp(this,e,this),this.check()}multiplyRight(e){return Gp(this,this,e),this.check()}rotateX(e){return F6(this,this,e),this.check()}rotateY(e){return function bbe(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[0],s=e[1],a=e[2],c=e[3],l=e[8],d=e[9],h=e[10],f=e[11];e!==n&&(n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=o*r-l*i,n[1]=s*r-d*i,n[2]=a*r-h*i,n[3]=c*r-f*i,n[8]=o*i+l*r,n[9]=s*i+d*r,n[10]=a*i+h*r,n[11]=c*i+f*r}(this,this,e),this.check()}rotateZ(e){return L6(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,t){return function _be(n,e,t,i){var c,l,d,h,f,m,g,v,E,L,H,le,se,Pe,$e,ct,pt,tt,yt,Pt,Gt,Et,Dt,Jt,r=i[0],o=i[1],s=i[2],a=Math.hypot(r,o,s);a<Cd||(r*=a=1/a,o*=a,s*=a,c=Math.sin(t),l=Math.cos(t),f=e[1],m=e[2],g=e[3],E=e[5],L=e[6],H=e[7],se=e[9],Pe=e[10],$e=e[11],yt=r*o*(d=1-l)-s*c,Pt=o*o*d+l,Gt=s*o*d+r*c,Et=r*s*d+o*c,Dt=o*s*d-r*c,Jt=s*s*d+l,n[0]=(h=e[0])*(ct=r*r*d+l)+(v=e[4])*(pt=o*r*d+s*c)+(le=e[8])*(tt=s*r*d-o*c),n[1]=f*ct+E*pt+se*tt,n[2]=m*ct+L*pt+Pe*tt,n[3]=g*ct+H*pt+$e*tt,n[4]=h*yt+v*Pt+le*Gt,n[5]=f*yt+E*Pt+se*Gt,n[6]=m*yt+L*Pt+Pe*Gt,n[7]=g*yt+H*Pt+$e*Gt,n[8]=h*Et+v*Dt+le*Jt,n[9]=f*Et+E*Dt+se*Jt,n[10]=m*Et+L*Dt+Pe*Jt,n[11]=g*Et+H*Dt+$e*Jt,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]))}(this,this,e,t),this.check()}scale(e){return pP(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return S1(this,this,e),this.check()}transform(e,t){return 4===e.length?(x1(t=D0(t||[-0,-0,-0,-0],e,this),4),t):this.transformAsPoint(e,t)}transformAsPoint(e,t){const{length:i}=e;let r;switch(i){case 2:r=function Ibe(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[4]*r+t[12],n[1]=t[1]*i+t[5]*r+t[13],n}(t||[-0,-0],e,this);break;case 3:r=dP(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return x1(r,e.length),r}transformAsVector(e,t){let i;switch(e.length){case 2:i=function obe(n,e,t){const i=e[0],r=e[1],o=t[3]*i+t[7]*r||1;return n[0]=(t[0]*i+t[4]*r)/o,n[1]=(t[1]*i+t[5]*r)/o,n}(t||[-0,-0],e,this);break;case 3:i=P6(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return x1(i,e.length),i}transformPoint(e,t){return this.transformAsPoint(e,t)}transformVector(e,t){return this.transformAsPoint(e,t)}transformDirection(e,t){return this.transformAsVector(e,t)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,t,i){return this.identity().translate([e,t,i])}}let T1,M1;function z6(n){if(n>2*Math.PI)throw Error("expected radians")}function k_(n,e){const t=D0([],e,n);return U6(t,t,1/t[3]),t}function H6(n,e){const t=n%e;return t<0?e+t:t}function _P(n,e,t){return n<e?e:n>t?t:n}const bP=Math.log2||function Jbe(n){return Math.log(n)*Math.LOG2E};function Lu(n,e){if(!n)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const jl=Math.PI,G6=jl/4,ll=jl/180,yP=180/jl,P_=512,I1=4003e4,D1=85.051129,Qbe=1.5;function R1(n){const[e,t]=n;return Lu(Number.isFinite(e)),Lu(Number.isFinite(t)&&t>=-90&&t<=90,"invalid latitude"),[P_*(e*ll+jl)/(2*jl),P_*(jl+Math.log(Math.tan(G6+t*ll*.5)))/(2*jl)]}function N_(n){const[e,t]=n,i=e/P_*(2*jl)-jl,r=2*(Math.atan(Math.exp(t/P_*(2*jl)-jl))-G6);return[i*yP,r*yP]}function vP(n){const{latitude:e,longitude:t,highPrecision:i=!1}=n;Lu(Number.isFinite(e)&&Number.isFinite(t));const r=P_,o=Math.cos(e*ll),s=r/360,a=s/o,c=r/I1/o,l={unitsPerMeter:[c,c,c],metersPerUnit:[1/c,1/c,1/c],unitsPerDegree:[s,a,c],degreesPerUnit:[1/s,1/a,1/c]};if(i){const d=ll*Math.tan(e*ll)/o,f=r/I1*d,m=f/a*c;l.unitsPerDegree2=[0,s*d/2,f],l.unitsPerMeter2=[m,0,m]}return l}function W6(n,e){const[t,i,r]=n,[o,s,a]=e,{unitsPerMeter:c,unitsPerMeter2:l}=vP({longitude:t,latitude:i,highPrecision:!0}),d=R1(n);d[0]+=o*(c[0]+l[0]*s),d[1]+=s*(c[1]+l[1]*s);const h=N_(d),f=(r||0)+(a||0);return Number.isFinite(r)||Number.isFinite(a)?[h[0],h[1],f]:h}function O1(n){return 2*Math.atan(.5/n)*yP}function wP(n){return.5/Math.tan(.5*n*ll)}function q6(n,e){const[t,i,r=0]=n;return Lu(Number.isFinite(t)&&Number.isFinite(i)&&Number.isFinite(r)),k_(e,[t,i,r,1])}function R0(n,e,t=0){const[i,r,o]=n;if(Lu(Number.isFinite(i)&&Number.isFinite(r),"invalid pixel coordinate"),Number.isFinite(o))return k_(e,[i,r,o,1]);const s=k_(e,[i,r,0,1]),a=k_(e,[i,r,1,1]),c=s[2],l=a[2];return j6([],s,a,c===l?0:((t||0)-c)/(l-c))}function Y6(n){const{width:e,height:t,bounds:i,minExtent:r=0,maxZoom:o=24,offset:s=[0,0]}=n,[[a,c],[l,d]]=i,h=function nye(n=0){return"number"==typeof n?{top:n,bottom:n,left:n,right:n}:(Lu(Number.isFinite(n.top)&&Number.isFinite(n.bottom)&&Number.isFinite(n.left)&&Number.isFinite(n.right)),n)}(n.padding),f=R1([a,_P(d,-D1,D1)]),m=R1([l,_P(c,-D1,D1)]),g=[Math.max(Math.abs(m[0]-f[0]),r),Math.max(Math.abs(m[1]-f[1]),r)],v=[e-h.left-h.right-2*Math.abs(s[0]),t-h.top-h.bottom-2*Math.abs(s[1])];Lu(v[0]>0&&v[1]>0);const E=v[0]/g[0],L=v[1]/g[1],Pe=N_([(m[0]+f[0])/2+(h.right-h.left)/2/E,(m[1]+f[1])/2+(h.top-h.bottom)/2/L]),$e=Math.min(o,bP(Math.abs(Math.min(E,L))));return Lu(Number.isFinite($e)),{longitude:Pe[0],latitude:Pe[1],zoom:$e}}const X6=Math.PI/180;function K6(n,e,t){const{pixelUnprojectionMatrix:i}=n,r=k_(i,[e,0,1,1]),o=k_(i,[e,n.height,1,1]),l=N_(j6([],r,o,(t*n.distanceScales.unitsPerMeter[2]-r[2])/(o[2]-r[2])));return l.push(t),l}const Ji={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(Ji,"IDENTITY",{get:()=>(zi.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const Sd={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},k1={common:0,meters:1,pixels:2},t9={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},sye=Math.PI/180,aye=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n9=[0,0,0],cye={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};class Jh{constructor(e={}){ve(this,"id",void 0),ve(this,"x",void 0),ve(this,"y",void 0),ve(this,"width",void 0),ve(this,"height",void 0),ve(this,"padding",void 0),ve(this,"isGeospatial",void 0),ve(this,"zoom",void 0),ve(this,"focalDistance",void 0),ve(this,"position",void 0),ve(this,"modelMatrix",void 0),ve(this,"distanceScales",void 0),ve(this,"scale",void 0),ve(this,"center",void 0),ve(this,"cameraPosition",void 0),ve(this,"projectionMatrix",void 0),ve(this,"viewMatrix",void 0),ve(this,"viewMatrixUncentered",void 0),ve(this,"viewMatrixInverse",void 0),ve(this,"viewProjectionMatrix",void 0),ve(this,"pixelProjectionMatrix",void 0),ve(this,"pixelUnprojectionMatrix",void 0),ve(this,"resolution",void 0),ve(this,"_frustumPlanes",{}),this.id=e.id||this.constructor.displayName||"viewport",this.x=e.x||0,this.y=e.y||0,this.width=e.width||1,this.height=e.height||1,this.zoom=e.zoom||0,this.padding=e.padding,this.distanceScales=e.distanceScales||cye,this.focalDistance=e.focalDistance||1,this.position=e.position||n9,this.modelMatrix=e.modelMatrix||null;const{longitude:t,latitude:i}=e;this.isGeospatial=Number.isFinite(i)&&Number.isFinite(t),this._initProps(e),this._initMatrices(e),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?Sd.WEB_MERCATOR:Sd.WEB_MERCATOR_AUTO_OFFSET:Sd.IDENTITY}equals(e){return e instanceof Jh&&(this===e||e.width===this.width&&e.height===this.height&&e.scale===this.scale&&R_(e.projectionMatrix,this.projectionMatrix)&&R_(e.viewMatrix,this.viewMatrix))}project(e,{topLeft:t=!0}={}){const r=q6(this.projectPosition(e),this.pixelProjectionMatrix),[o,s]=r,a=t?s:this.height-s;return 2===e.length?[o,a]:[o,a,r[2]]}unproject(e,{topLeft:t=!0,targetZ:i}={}){const[r,o,s]=e,l=R0([r,t?o:this.height-o,s],this.pixelUnprojectionMatrix,i&&i*this.distanceScales.unitsPerMeter[2]),[d,h,f]=this.unprojectPosition(l);return Number.isFinite(s)?[d,h,f]:Number.isFinite(i)?[d,h,i]:[d,h]}projectPosition(e){const[t,i]=this.projectFlat(e);return[t,i,(e[2]||0)*this.distanceScales.unitsPerMeter[2]]}unprojectPosition(e){const[t,i]=this.unprojectFlat(e);return[t,i,(e[2]||0)*this.distanceScales.metersPerUnit[2]]}projectFlat(e){if(this.isGeospatial){const t=R1(e);return t[1]=Vs(t[1],-318,830),t}return e}unprojectFlat(e){return this.isGeospatial?N_(e):e}getBounds(e={}){const t={targetZ:e.z||0},i=this.unproject([0,0],t),r=this.unproject([this.width,0],t),o=this.unproject([0,this.height],t),s=this.unproject([this.width,this.height],t);return[Math.min(i[0],r[0],o[0],s[0]),Math.min(i[1],r[1],o[1],s[1]),Math.max(i[0],r[0],o[0],s[0]),Math.max(i[1],r[1],o[1],s[1])]}getDistanceScales(e){return e?vP({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}containsPixel({x:e,y:t,width:i=1,height:r=1}){return e<this.x+this.width&&this.x<e+i&&t<this.y+this.height&&this.y<t+r}getFrustumPlanes(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,function ube(n){return{left:O_(n[3]+n[0],n[7]+n[4],n[11]+n[8],n[15]+n[12]),right:O_(n[3]-n[0],n[7]-n[4],n[11]-n[8],n[15]-n[12]),bottom:O_(n[3]+n[1],n[7]+n[5],n[11]+n[9],n[15]+n[13]),top:O_(n[3]-n[1],n[7]-n[5],n[11]-n[9],n[15]-n[13]),near:O_(n[3]+n[2],n[7]+n[6],n[11]+n[10],n[15]+n[14]),far:O_(n[3]-n[2],n[7]-n[6],n[11]-n[10],n[15]-n[14])}}(this.viewProjectionMatrix)),this._frustumPlanes}panByPosition(e,t){return null}_initProps(e){const t=e.longitude,i=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=function eye(n){const{latitude:e}=n;Lu(Number.isFinite(e));const t=Math.cos(e*ll);return function Zbe(n){return bP(n)}(I1*t)-9}({latitude:i})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||vP({latitude:i,longitude:t}));const r=Math.pow(2,this.zoom);this.scale=r;const{position:o,modelMatrix:s}=e;let a=n9;if(o&&(a=s?new jt(s).transformAsVector(o,[]):o),this.isGeospatial){const c=this.projectPosition([t,i,0]);this.center=new xa(a).scale(this.distanceScales.unitsPerMeter).add(c)}else this.center=this.projectPosition(a)}_initMatrices(e){const{viewMatrix:t=aye,projectionMatrix:i=null,orthographic:r=!1,fovyRadians:o,fovy:s=75,near:a=.1,far:c=1e3,padding:l=null,focalDistance:d=1}=e;this.viewMatrixUncentered=t,this.viewMatrix=(new jt).multiplyRight(t).translate(new xa(this.center).negate()),this.projectionMatrix=i||function lye({width:n,height:e,orthographic:t,fovyRadians:i,focalDistance:r,padding:o,near:s,far:a}){const c=n/e,l=t?(new jt).orthographic({fovy:i,aspect:c,focalDistance:r,near:s,far:a}):(new jt).perspective({fovy:i,aspect:c,near:s,far:a});if(o){const{left:d=0,right:h=0,top:f=0,bottom:m=0}=o,g=Vs((d+n-h)/2,0,n)-n/2,v=Vs((f+e-m)/2,0,e)-e/2;l[8]-=2*g/n,l[9]+=2*v/e}return l}({width:this.width,height:this.height,orthographic:r,fovyRadians:o||s*sye,focalDistance:d,padding:l,near:a,far:c});const h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Gp(h,h,this.projectionMatrix),Gp(h,h,this.viewMatrix),this.viewProjectionMatrix=h,this.viewMatrixInverse=fP([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=function dbe(n){return[n[12],n[13],n[14]]}(this.viewMatrixInverse);const f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];pP(f,f,[this.width/2,-this.height/2,1]),S1(f,f,[1,-1,0]),Gp(m,f,this.viewProjectionMatrix),this.pixelProjectionMatrix=m,this.pixelUnprojectionMatrix=fP([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||zi.warn("Pixel project matrix not invertible")()}}ve(Jh,"displayName","Viewport");const dye=/([0-9]+\.?[0-9]*)(%|px)/;function Qh(n){switch(typeof n){case"number":return{position:n,relative:!1};case"string":const e=dye.exec(n);if(e&&e.length>=3){const t="%"===e[2],i=parseFloat(e[1]);return{position:t?i/100:i,relative:t}}default:throw new Error("Could not parse position string ".concat(n))}}function Zh(n,e){return n.relative?Math.round(n.position*e):n.position}function F_(n,e){if(n===e)return!0;if(!n||!e)return!1;for(const t in n){const i=n[t],r=e[t];if(!(i===r||Array.isArray(i)&&Array.isArray(r)&&F_(i,r)))return!1}return!0}function zs(n,e){if(!n)throw new Error(e||"deck.gl: assertion failed.")}class EP{constructor(e){ve(this,"id",void 0),ve(this,"viewportInstance",void 0),ve(this,"_x",void 0),ve(this,"_y",void 0),ve(this,"_width",void 0),ve(this,"_height",void 0),ve(this,"_padding",void 0),ve(this,"props",void 0);const{id:t,x:i=0,y:r=0,width:o="100%",height:s="100%",padding:a=null,viewportInstance:c}=e||{};zs(!c||c instanceof Jh),this.viewportInstance=c,this.id=t||this.constructor.displayName||"view",this.props={...e,id:this.id},this._x=Qh(i),this._y=Qh(r),this._width=Qh(o),this._height=Qh(s),this._padding=a&&{left:Qh(a.left||0),right:Qh(a.right||0),top:Qh(a.top||0),bottom:Qh(a.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(e){return this===e||(this.viewportInstance?!!e.viewportInstance&&this.viewportInstance.equals(e.viewportInstance):this.ViewportType===e.ViewportType&&F_(this.props,e.props))}makeViewport({width:e,height:t,viewState:i}){if(this.viewportInstance)return this.viewportInstance;i=this.filterViewState(i);const r=this.getDimensions({width:e,height:t});return new this.ViewportType({...i,...this.props,...r})}getViewStateId(){const{viewState:e}=this.props;return"string"==typeof e?e:e?.id||this.id}filterViewState(e){if(this.props.viewState&&"object"==typeof this.props.viewState){if(!this.props.viewState.id)return this.props.viewState;const t={...e};for(const i in this.props.viewState)"id"!==i&&(t[i]=this.props.viewState[i]);return t}return e}getDimensions({width:e,height:t}){const i={x:Zh(this._x,e),y:Zh(this._y,t),width:Zh(this._width,e),height:Zh(this._height,t)};return this._padding&&(i.padding={left:Zh(this._padding.left,e),top:Zh(this._padding.top,t),right:Zh(this._padding.right,e),bottom:Zh(this._padding.bottom,t)}),i}get controller(){const e=this.props.controller;return e?!0===e?{type:this.ControllerType}:"function"==typeof e?{type:e}:{type:this.ControllerType,...e}:null}}const uye=(new jt).lookAt({eye:[0,0,1]});function hye({width:n,height:e,near:t,far:i,padding:r}){let o=-n/2,s=n/2,a=-e/2,c=e/2;if(r){const{left:l=0,right:d=0,top:h=0,bottom:f=0}=r,m=Vs((l+n-d)/2,0,n)-n/2,g=Vs((h+e-f)/2,0,e)-e/2;o-=m,s-=m,a+=g,c+=g}return(new jt).ortho({left:o,right:s,bottom:a,top:c,near:t,far:i})}class fye extends Jh{constructor(e){const{width:t,height:i,near:r=.1,far:o=1e3,zoom:s=0,target:a=[0,0,0],padding:c=null,flipY:l=!0}=e,d=Array.isArray(s)?s[0]:s,h=Array.isArray(s)?s[1]:s,f=Math.min(d,h),m=Math.pow(2,f);let g;if(d!==h){const v=Math.pow(2,d),E=Math.pow(2,h);g={unitsPerMeter:[v/m,E/m,1],metersPerUnit:[m/v,m/E,1]}}super({...e,longitude:void 0,position:a,viewMatrix:uye.clone().scale([m,m*(l?-1:1),m]),projectionMatrix:hye({width:t||1,height:i||1,padding:c,near:r,far:o}),zoom:f,distanceScales:g})}projectFlat([e,t]){const{unitsPerMeter:i}=this.distanceScales;return[e*i[0],t*i[1]]}unprojectFlat([e,t]){const{metersPerUnit:i}=this.distanceScales;return[e*i[0],t*i[1]]}panByPosition(e,t){const i=R0(t,this.pixelUnprojectionMatrix),o=A1([],this.projectFlat(e),B6([],i)),s=A1([],this.center,o);return{target:this.unprojectFlat(s)}}}class k0{constructor(e){ve(this,"_inProgress",void 0),ve(this,"_handle",void 0),ve(this,"_timeline",void 0),ve(this,"time",void 0),ve(this,"settings",void 0),this._inProgress=!1,this._handle=null,this._timeline=e,this.time=0,this.settings={duration:0}}get inProgress(){return this._inProgress}start(e){var t,i;this.cancel(),this.settings=e,this._inProgress=!0,null===(t=(i=this.settings).onStart)||void 0===t||t.call(i,this)}end(){var e,t;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,null===(e=(t=this.settings).onEnd)||void 0===e||e.call(t,this))}cancel(){var e,t;this._inProgress&&(null===(e=(t=this.settings).onInterrupt)||void 0===e||e.call(t,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){var e,t;if(!this._inProgress)return!1;if(null===this._handle){const{_timeline:i,settings:r}=this;this._handle=i.addChannel({delay:i.getTime(),duration:r.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),null===(e=(t=this.settings).onUpdate)||void 0===e||e.call(t,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}const i9=()=>{},pye=n=>n;class gye{constructor(e){ve(this,"getControllerState",void 0),ve(this,"props",void 0),ve(this,"propsInTransition",void 0),ve(this,"transition",void 0),ve(this,"onViewStateChange",void 0),ve(this,"onStateChange",void 0),ve(this,"_onTransitionUpdate",t=>{const{time:i,settings:{interpolator:r,startProps:o,endProps:s,duration:a,easing:c}}=t,l=c(i/a),d=r.interpolateProps(o,s,l);this.propsInTransition=this.getControllerState({...this.props,...d}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})}),this.getControllerState=e.getControllerState,this.propsInTransition=null,this.transition=new k0(e.timeline),this.onViewStateChange=e.onViewStateChange||i9,this.onStateChange=e.onStateChange||i9}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(e){let t=!1;const i=this.props;if(this.props=e,!i||this._shouldIgnoreViewportChange(i,e))return!1;if(this._isTransitionEnabled(e)){let r=i;if(this.transition.inProgress){const{interruption:o,endProps:s}=this.transition.settings;r={...i,...2===o?s:this.propsInTransition||i}}this._triggerTransition(r,e),t=!0}else this.transition.cancel();return t}updateTransition(){this.transition.update()}_isTransitionEnabled(e){const{transitionDuration:t,transitionInterpolator:i}=e;return(t>0||"auto"===t)&&!!i}_isUpdateDueToCurrentTransition(e){return!(!this.transition.inProgress||!this.propsInTransition)&&this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition)}_shouldIgnoreViewportChange(e,t){return this.transition.inProgress?3===this.transition.settings.interruption||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t)}_triggerTransition(e,t){const i=this.getControllerState(e),r=this.getControllerState(t).shortestPathFrom(i),o=t.transitionInterpolator,s=o.getDuration?o.getDuration(e,t):t.transitionDuration;if(0===s)return;const a=o.initializeProps(e,r);this.propsInTransition={};const c={duration:s,easing:t.transitionEasing||pye,interpolator:o,interruption:t.transitionInterruption||1,startProps:a.start,endProps:a.end,onStart:t.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(t.onTransitionInterrupt),onEnd:this._onTransitionEnd(t.onTransitionEnd)};this.transition.start(c),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(e){return t=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),e?.(t)}}}class _ye{constructor(e){ve(this,"_propsToCompare",void 0),ve(this,"_propsToExtract",void 0),ve(this,"_requiredProps",void 0);const{compare:t,extract:i,required:r}=e;this._propsToCompare=t,this._propsToExtract=i||t,this._requiredProps=r}arePropsEqual(e,t){for(const i of this._propsToCompare)if(!(i in e)||!(i in t)||!R_(e[i],t[i]))return!1;return!0}initializeProps(e,t){const i={},r={};for(const o of this._propsToExtract)(o in e||o in t)&&(i[o]=e[o],r[o]=t[o]);return this._checkRequiredProps(i),this._checkRequiredProps(r),{start:i,end:r}}getDuration(e,t){return t.transitionDuration}_checkRequiredProps(e){this._requiredProps&&this._requiredProps.forEach(t=>{const i=e[t];zs(Number.isFinite(i)||Array.isArray(i),"".concat(t," is required for transition"))})}}const bye=["longitude","latitude","zoom","bearing","pitch"],yye=["longitude","latitude","zoom"];class P1 extends _ye{constructor(e={}){const t=Array.isArray(e)?e:e.transitionProps,i=Array.isArray(e)?{}:e;i.transitionProps=Array.isArray(t)?{compare:t,required:t}:t||{compare:bye,required:yye},super(i.transitionProps),ve(this,"opts",void 0),this.opts=i}initializeProps(e,t){const i=super.initializeProps(e,t),{makeViewport:r,around:o}=this.opts;if(r&&o){const s=r(e),a=r(t),c=s.unproject(o);i.start.around=o,Object.assign(i.end,{around:a.project(c),aroundPosition:c,width:t.width,height:t.height})}return i}interpolateProps(e,t,i){const r={};for(const o of this._propsToExtract)r[o]=w1(e[o]||0,t[o]||0,i);if(t.aroundPosition&&this.opts.makeViewport){const o=this.opts.makeViewport({...t,...r});Object.assign(r,o.panByPosition(t.aroundPosition,w1(e.around,t.around,i)))}return r}}const ef={transitionDuration:0},N1=n=>1-(1-n)*(1-n),L__WHEEL=["wheel"],L__PAN=["panstart","panmove","panend"],L__PINCH=["pinchstart","pinchmove","pinchend"],L__TRIPLE_PAN=["tripanstart","tripanmove","tripanend"],L__DOUBLE_TAP=["doubletap"],L__KEYBOARD=["keydown"],Wp={};class SP{constructor(e){ve(this,"props",void 0),ve(this,"state",{}),ve(this,"transitionManager",void 0),ve(this,"eventManager",void 0),ve(this,"onViewStateChange",void 0),ve(this,"onStateChange",void 0),ve(this,"makeViewport",void 0),ve(this,"_controllerState",void 0),ve(this,"_events",{}),ve(this,"_interactionState",{isDragging:!1}),ve(this,"_customEvents",[]),ve(this,"_eventStartBlocked",null),ve(this,"_panMove",!1),ve(this,"invertPan",!1),ve(this,"dragMode","rotate"),ve(this,"inertia",0),ve(this,"scrollZoom",!0),ve(this,"dragPan",!0),ve(this,"dragRotate",!0),ve(this,"doubleClickZoom",!0),ve(this,"touchZoom",!0),ve(this,"touchRotate",!1),ve(this,"keyboard",!0),this.transitionManager=new gye({...e,getControllerState:t=>new this.ControllerState(t),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=e.eventManager,this.onViewStateChange=e.onViewStateChange||(()=>{}),this.onStateChange=e.onStateChange||(()=>{}),this.makeViewport=e.makeViewport}set events(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}finalize(){for(const t in this._events)if(this._events[t]){var e;null===(e=this.eventManager)||void 0===e||e.off(t,this.handleEvent)}this.transitionManager.finalize()}handleEvent(e){this._controllerState=void 0;const t=this._eventStartBlocked;switch(e.type){case"panstart":return!t&&this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return!t&&this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return!t&&this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(e){const{x:t,y:i}=this.props,{offsetCenter:r}=e;return[r.x-t,r.y-i]}isPointInBounds(e,t){const{width:i,height:r}=this.props;if(t&&t.handled)return!1;const o=e[0]>=0&&e[0]<=i&&e[1]>=0&&e[1]<=r;return o&&t&&t.stopPropagation(),o}isFunctionKeyPressed(e){const{srcEvent:t}=e;return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(e){const t=setTimeout(()=>{this._eventStartBlocked===t&&(this._eventStartBlocked=null)},e);this._eventStartBlocked=t}setProps(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);const{inertia:t}=e;this.inertia=Number.isFinite(t)?t:!0===t?300:0;const{scrollZoom:i=!0,dragPan:r=!0,dragRotate:o=!0,doubleClickZoom:s=!0,touchZoom:a=!0,touchRotate:c=!1,keyboard:l=!0}=e,d=!!this.onViewStateChange;this.toggleEvents(L__WHEEL,d&&i),this.toggleEvents(L__PAN,d&&(r||o)),this.toggleEvents(L__PINCH,d&&(a||c)),this.toggleEvents(L__TRIPLE_PAN,d&&c),this.toggleEvents(L__DOUBLE_TAP,d&&s),this.toggleEvents(L__KEYBOARD,d&&l),this.scrollZoom=i,this.dragPan=r,this.dragRotate=o,this.doubleClickZoom=s,this.touchZoom=a,this.touchRotate=c,this.keyboard=l}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(e,t){this.eventManager&&e.forEach(i=>{this._events[i]!==t&&(this._events[i]=t,t?this.eventManager.on(i,this.handleEvent):this.eventManager.off(i,this.handleEvent))})}updateViewport(e,t=null,i={}){const r={...e.getViewportProps(),...t},o=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(i),o){const s=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:r,interactionState:this._interactionState,oldViewState:s})}}_onTransition(e){this.onViewStateChange({...e,interactionState:this._interactionState})}_setInteractionState(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}_onPanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;let i=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||"pan"===this.dragMode)&&(i=!i);const r=this.controllerState[i?"panStart":"rotateStart"]({pos:t});return this._panMove=i,this.updateViewport(r,ef,{isDragging:!0}),!0}_onPan(e){return!!this.isDragging()&&(this._panMove?this._onPanMove(e):this._onPanRotate(e))}_onPanEnd(e){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e))}_onPanMove(e){if(!this.dragPan)return!1;const t=this.getCenter(e),i=this.controllerState.pan({pos:t});return this.updateViewport(i,ef,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(e){const{inertia:t}=this;if(this.dragPan&&t&&e.velocity){const i=this.getCenter(e),o=this.controllerState.pan({pos:[i[0]+e.velocityX*t/2,i[1]+e.velocityY*t/2]}).panEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:N1},{isDragging:!1,isPanning:!0})}else{const i=this.controllerState.panEnd();this.updateViewport(i,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(e){if(!this.dragRotate)return!1;const t=this.getCenter(e),i=this.controllerState.rotate({pos:t});return this.updateViewport(i,ef,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(e){const{inertia:t}=this;if(this.dragRotate&&t&&e.velocity){const i=this.getCenter(e),o=this.controllerState.rotate({pos:[i[0]+e.velocityX*t/2,i[1]+e.velocityY*t/2]}).rotateEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:N1},{isDragging:!1,isRotating:!0})}else{const i=this.controllerState.rotateEnd();this.updateViewport(i,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(e){if(!this.scrollZoom)return!1;e.srcEvent.preventDefault();const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const{speed:i=.01,smooth:r=!1}=!0===this.scrollZoom?{}:this.scrollZoom,{delta:o}=e;let s=2/(1+Math.exp(-Math.abs(o*i)));o<0&&0!==s&&(s=1/s);const a=this.controllerState.zoom({pos:t,scale:s});return this.updateViewport(a,{...this._getTransitionProps({around:t}),transitionDuration:r?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const i=this.controllerState.rotateStart({pos:t});return this.updateViewport(i,ef,{isDragging:!0}),!0}_onTriplePan(e){if(!this.touchRotate||!this.isDragging())return!1;const t=this.getCenter(e);t[0]-=e.deltaX;const i=this.controllerState.rotate({pos:t});return this.updateViewport(i,ef,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this;if(this.touchRotate&&t&&e.velocityY){const i=this.getCenter(e),r=[i[0],i[1]+=e.velocityY*t/2],o=this.controllerState.rotate({pos:r});this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:N1},{isDragging:!1,isRotating:!0}),this.blockEvents(t)}else{const i=this.controllerState.rotateEnd();this.updateViewport(i,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const i=this.controllerState.zoomStart({pos:t}).rotateStart({pos:t});return Wp._startPinchRotation=e.rotation,Wp._lastPinchEvent=e,this.updateViewport(i,ef,{isDragging:!0}),!0}_onPinch(e){if(!this.touchZoom&&!this.touchRotate||!this.isDragging())return!1;let t=this.controllerState;if(this.touchZoom){const{scale:i}=e,r=this.getCenter(e);t=t.zoom({pos:r,scale:i})}if(this.touchRotate){const{rotation:i}=e;t=t.rotate({deltaAngleX:Wp._startPinchRotation-i})}return this.updateViewport(t,ef,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),Wp._lastPinchEvent=e,!0}_onPinchEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this,{_lastPinchEvent:i}=Wp;if(this.touchZoom&&t&&i&&e.scale!==i.scale){const r=this.getCenter(e);let o=this.controllerState.rotateEnd();const s=Math.log2(e.scale),a=(s-Math.log2(i.scale))/(e.deltaTime-i.deltaTime),c=Math.pow(2,s+a*t/2);o=o.zoom({pos:r,scale:c}).zoomEnd(),this.updateViewport(o,{...this._getTransitionProps({around:r}),transitionDuration:t,transitionEasing:N1},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(t)}else{const r=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(r,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return Wp._startPinchRotation=null,Wp._lastPinchEvent=null,!0}_onDoubleTap(e){if(!this.doubleClickZoom)return!1;const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const i=this.isFunctionKeyPressed(e),r=this.controllerState.zoom({pos:t,scale:i?.5:2});return this.updateViewport(r,this._getTransitionProps({around:t}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(e){if(!this.keyboard)return!1;const t=this.isFunctionKeyPressed(e),{zoomSpeed:i,moveSpeed:r,rotateSpeedX:o,rotateSpeedY:s}=!0===this.keyboard?{}:this.keyboard,{controllerState:a}=this;let c;const l={};switch(e.srcEvent.code){case"Minus":c=t?a.zoomOut(i).zoomOut(i):a.zoomOut(i),l.isZooming=!0;break;case"Equal":c=t?a.zoomIn(i).zoomIn(i):a.zoomIn(i),l.isZooming=!0;break;case"ArrowLeft":t?(c=a.rotateLeft(o),l.isRotating=!0):(c=a.moveLeft(r),l.isPanning=!0);break;case"ArrowRight":t?(c=a.rotateRight(o),l.isRotating=!0):(c=a.moveRight(r),l.isPanning=!0);break;case"ArrowUp":t?(c=a.rotateUp(s),l.isRotating=!0):(c=a.moveUp(r),l.isPanning=!0);break;case"ArrowDown":t?(c=a.rotateDown(s),l.isRotating=!0):(c=a.moveDown(r),l.isPanning=!0);break;default:return!1}return this.updateViewport(c,this._getTransitionProps(),l),!0}_getTransitionProps(e){const{transition:t}=this;return t&&t.transitionInterpolator?e?{...t,transitionInterpolator:new P1({...e,...t.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:t:ef}}class r9{constructor(e,t){ve(this,"_viewportProps",void 0),ve(this,"_state",void 0),this._viewportProps=this.applyConstraints(e),this._state=t}getViewportProps(){return this._viewportProps}getState(){return this._state}}class o9 extends r9{constructor(e){const{width:t,height:i,rotationX:r=0,rotationOrbit:o=0,target:s=[0,0,0],zoom:a=0,minRotationX:c=-90,maxRotationX:l=90,minZoom:d=-1/0,maxZoom:h=1/0,startPanPosition:f,startRotatePos:m,startRotationX:g,startRotationOrbit:v,startZoomPosition:E,startZoom:L}=e;super({width:t,height:i,rotationX:r,rotationOrbit:o,target:s,zoom:a,minRotationX:c,maxRotationX:l,minZoom:d,maxZoom:h},{startPanPosition:f,startRotatePos:m,startRotationX:g,startRotationOrbit:v,startZoomPosition:E,startZoom:L}),ve(this,"makeViewport",void 0),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanPosition:this._unproject(e)})}pan({pos:e,startPosition:t}){const i=this.getState().startPanPosition||t;if(!i)return this;const o=this.makeViewport(this.getViewportProps()).panByPosition(i,e);return this._getUpdatedState(o)}panEnd(){return this._getUpdatedState({startPanPosition:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startRotationX:this.getViewportProps().rotationX,startRotationOrbit:this.getViewportProps().rotationOrbit})}rotate({pos:e,deltaAngleX:t=0,deltaAngleY:i=0}){const{startRotatePos:r,startRotationX:o,startRotationOrbit:s}=this.getState(),{width:a,height:c}=this.getViewportProps();if(!r||void 0===o||void 0===s)return this;let l;if(e){let d=(e[0]-r[0])/a;(o<-90||o>90)&&(d*=-1),l={rotationX:o+(e[1]-r[1])/c*180,rotationOrbit:s+180*d}}else l={rotationX:o+i,rotationOrbit:s+t};return this._getUpdatedState(l)}rotateEnd(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}shortestPathFrom(e){const t=e.getViewportProps(),i={...this.getViewportProps()},{rotationOrbit:r}=i;return Math.abs(r-t.rotationOrbit)>180&&(i.rotationOrbit=r<0?r+360:r-360),i}zoomStart({pos:e}){return this._getUpdatedState({startZoomPosition:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:t,scale:i}){let{startZoom:r,startZoomPosition:o}=this.getState();if(o||(r=this.getViewportProps().zoom,o=this._unproject(t)||this._unproject(e)),!o)return this;const s=this._calculateNewZoom({scale:i,startZoom:r}),a=this.makeViewport({...this.getViewportProps(),zoom:s});return this._getUpdatedState({zoom:s,...a.panByPosition(o,e)})}zoomEnd(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}zoomIn(e=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:e})})}zoomOut(e=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/e})})}moveLeft(e=50){return this._panFromCenter([-e,0])}moveRight(e=50){return this._panFromCenter([e,0])}moveUp(e=50){return this._panFromCenter([0,-e])}moveDown(e=50){return this._panFromCenter([0,e])}rotateLeft(e=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit-e})}rotateRight(e=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit+e})}rotateUp(e=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX-e})}rotateDown(e=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX+e})}_unproject(e){const t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}_calculateNewZoom({scale:e,startZoom:t}){const{maxZoom:i,minZoom:r}=this.getViewportProps();return void 0===t&&(t=this.getViewportProps().zoom),Vs(t+Math.log2(e),r,i)}_panFromCenter(e){const{width:t,height:i,target:r}=this.getViewportProps();return this.pan({startPosition:r,pos:[t/2+e[0],i/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}applyConstraints(e){const{maxZoom:t,minZoom:i,zoom:r,maxRotationX:o,minRotationX:s,rotationOrbit:a}=e;return e.zoom=Array.isArray(r)?[Vs(r[0],i,t),Vs(r[1],i,t)]:Vs(r,i,t),e.rotationX=Vs(e.rotationX,s,o),(a<-180||a>180)&&(e.rotationOrbit=function lbe(n,e){const t=n%e;return t<0?e+t:t}(a+180,360)-180),e}}class wye extends SP{constructor(...e){super(...e),ve(this,"ControllerState",o9),ve(this,"transition",{transitionDuration:300,transitionInterpolator:new P1({transitionProps:{compare:["target","zoom","rotationX","rotationOrbit"],required:["target","zoom"]}})})}}class xye extends o9{constructor(e){super(e),ve(this,"zoomAxis",void 0),this.zoomAxis=e.zoomAxis||"all"}_calculateNewZoom({scale:e,startZoom:t}){const{maxZoom:i,minZoom:r}=this.getViewportProps();void 0===t&&(t=this.getViewportProps().zoom);let o=Math.log2(e);if(Array.isArray(t)){let[s,a]=t;switch(this.zoomAxis){case"X":s=Vs(s+o,r,i);break;case"Y":a=Vs(a+o,r,i);break;default:let c=Math.min(s+o,a+o);c<r&&(o+=r-c),c=Math.max(s+o,a+o),c>i&&(o+=i-c),s+=o,a+=o}return[s,a]}return Vs(t+o,r,i)}}class Eye extends SP{constructor(...e){super(...e),ve(this,"ControllerState",xye),ve(this,"transition",{transitionDuration:300,transitionInterpolator:new P1(["target","zoom"])}),ve(this,"dragMode","pan")}_onPanRotate(){return!1}}class AP extends EP{get ViewportType(){return fye}get ControllerType(){return Eye}}ve(AP,"displayName","OrthographicView");const TP=Math.PI/180;function Cye({height:n,focalDistance:e,orbitAxis:t,rotationX:i,rotationOrbit:r,zoom:o}){const s="Z"===t?[0,0,1]:[0,1,0],a="Z"===t?[0,-e,0]:[0,0,e],c=(new jt).lookAt({eye:a,up:s});c.rotateX(i*TP),"Z"===t?c.rotateZ(r*TP):c.rotateY(r*TP);const l=Math.pow(2,o)/n;return c.scale(l),c}class Sye extends Jh{constructor(e){const{height:t,projectionMatrix:i,fovy:r=50,orbitAxis:o="Z",target:s=[0,0,0],rotationX:a=0,rotationOrbit:c=0,zoom:l=0}=e,d=i?i[5]/2:wP(r);super({...e,longitude:void 0,viewMatrix:Cye({height:t||1,focalDistance:d,orbitAxis:o,rotationX:a,rotationOrbit:c,zoom:l}),fovy:r,focalDistance:d,position:s,zoom:l}),ve(this,"projectedCenter",void 0),this.projectedCenter=this.project(this.center)}unproject(e,{topLeft:t=!0}={}){const[i,r,o=this.projectedCenter[2]]=e,s=t?r:this.height-r,[a,c,l]=R0([i,s,o],this.pixelUnprojectionMatrix);return[a,c,l]}panByPosition(e,t){const i=this.project(e);return{target:this.unproject([this.width/2+i[0]-t[0],this.height/2+i[1]-t[1],this.projectedCenter[2]])}}}class s9 extends EP{constructor(e={}){super(e),this.props.orbitAxis=e.orbitAxis||"Z"}get ViewportType(){return Sye}get ControllerType(){return wye}}ve(s9,"displayName","OrbitView");const P0="vs";function Oc(n,e){if(!n)throw new Error(e||"shadertools: assertion failed.")}const IP={number:{validate:(n,e)=>Number.isFinite(n)&&(!("max"in e)||n<=e.max)&&(!("min"in e)||n>=e.min)},array:{validate:(n,e)=>Array.isArray(n)||ArrayBuffer.isView(n)}};function Tye(n){let e=a9(n);return"object"===e?n?"type"in n?Object.assign({},n,IP[n.type]):"value"in n?(e=a9(n.value),Object.assign({type:e},n,IP[e])):{type:"object",value:n}:{type:"object",value:null}:Object.assign({type:e,value:n},IP[e])}function a9(n){return Array.isArray(n)||ArrayBuffer.isView(n)?"array":typeof n}class DP{constructor(e){let{name:t,vs:i,fs:r,dependencies:o=[],uniforms:s,getUniforms:a,deprecations:c=[],defines:l={},inject:d={},vertexShader:h,fragmentShader:f}=e;Oc("string"==typeof t),this.name=t,this.vs=i||h,this.fs=r||f,this.getModuleUniforms=a,this.dependencies=o,this.deprecations=this._parseDeprecationDefinitions(c),this.defines=l,this.injections=function Dye(n){const e={vs:{},fs:{}};for(const t in n){let i=n[t];"string"==typeof i&&(i={order:0,injection:i}),e[t.slice(0,2)][t]=i}return e}(d),s&&(this.uniforms=function Aye(n){const e={};for(const t in n){const r=Tye(n[t]);e[t]=r}return e}(s))}getModuleSource(e){let t;switch(e){case"vs":t=this.vs||"";break;case"fs":t=this.fs||"";break;default:Oc(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(t,"// END MODULE_").concat(this.name,"\n\n")}getUniforms(e,t){return this.getModuleUniforms?this.getModuleUniforms(e,t):this.uniforms?this._defaultGetUniforms(e):{}}getDefines(){return this.defines}checkDeprecations(e,t){this.deprecations.forEach(i=>{i.regex.test(e)&&(i.deprecated?t.deprecated(i.old,i.new)():t.removed(i.old,i.new)())})}_parseDeprecationDefinitions(e){return e.forEach(t=>{t.regex="function"===t.type?new RegExp("\\b".concat(t.old,"\\(")):new RegExp("".concat(t.type," ").concat(t.old,";"))}),e}_defaultGetUniforms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={},i=this.uniforms;for(const r in i){const o=i[r];r in e&&!o.private?(o.validate&&Oc(o.validate(e[r],o),"".concat(this.name,": invalid ").concat(r)),t[r]=e[r]):t[r]=o.value}return t}}function Rye(n){return function c9(n){const e={},t={};return RP({modules:n,level:0,moduleMap:e,moduleDepth:t}),Object.keys(t).sort((i,r)=>t[r]-t[i]).map(i=>e[i])}(l9(n))}function RP(n){let{modules:e,level:t,moduleMap:i,moduleDepth:r}=n;if(t>=5)throw new Error("Possible loop in shader dependency graph");for(const o of e)i[o.name]=o,(void 0===r[o.name]||r[o.name]<t)&&(r[o.name]=t);for(const o of e)o.dependencies&&RP({modules:o.dependencies,level:t+1,moduleMap:i,moduleDepth:r})}function l9(n,e){return n.map(t=>(t instanceof DP||(Oc("string"!=typeof t,"Shader module use by name is deprecated. Import shader module '".concat(t,"' and use it directly.")),Oc(t.name,"shader module has no name"),(t=new DP(t)).dependencies=l9(t.dependencies)),t))}const kye=7936,Pye=7937,Nye=7938,Fye=35724,OP={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},$p={};function jye(n,e){return n.match(/NVIDIA/i)||e.match(/NVIDIA/i)?"NVIDIA":n.match(/INTEL/i)||e.match(/INTEL/i)?"INTEL":n.match(/AMD/i)||e.match(/AMD/i)||n.match(/ATI/i)||e.match(/ATI/i)?"AMD":"UNKNOWN GPU"}Object.keys(OP).forEach(n=>{$p[n]=n});const kP={};function d9(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=OP[e];if(Oc(i,e),!function Oye(){const e=typeof window<"u"&&window.navigator||{},t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).userAgent||e.userAgent||"",i=-1!==t.indexOf("MSIE "),r=-1!==t.indexOf("Trident/");return i||r}(t))return!0;if(e in kP)return kP[e];const o=t.behavior||"enable",s="#extension GL_".concat(i[0]," : ").concat(o,"\nvoid main(void) {}"),a=n.createShader(35633);n.shaderSource(a,s),n.compileShader(a);const c=n.getShaderParameter(a,35713);return n.deleteShader(a),kP[e]=c,c}function F1(n,e){return(e=Array.isArray(e)?e:[e]).every(t=>function Uye(n,e){const t=OP[e];Oc(t,e);const i=function Lye(n){return typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||!(!n||2!==n._version)}(n)&&t[1]||t[0],r="string"==typeof i?!!n.getExtension(i):i;return Oc(!1===r||!0===r),r}(n,t))}const Wye={[P0]:"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n",fs:"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"},L1="__LUMA_INJECT_DECLARATIONS__",u9=/void\s+main\s*\([^)]*\)\s*\{\n?/,h9=/}\n?[^{}]*$/,PP=[];function f9(n,e,t){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e===P0;for(const o in t){const s=t[o];s.sort((c,l)=>c.order-l.order),PP.length=s.length;for(let c=0,l=s.length;c<l;++c)PP[c]=s[c].injection;const a="".concat(PP.join("\n"),"\n");switch(o){case"vs:#decl":r&&(n=n.replace(L1,a));break;case"vs:#main-start":r&&(n=n.replace(u9,c=>c+a));break;case"vs:#main-end":r&&(n=n.replace(h9,c=>a+c));break;case"fs:#decl":r||(n=n.replace(L1,a));break;case"fs:#main-start":r||(n=n.replace(u9,c=>c+a));break;case"fs:#main-end":r||(n=n.replace(h9,c=>a+c));break;default:n=n.replace(o,c=>c+a)}}return n=n.replace(L1,""),i&&(n=n.replace(/\}\s*$/,o=>o+Wye[e])),n}function NP(n){const e={};return Oc(Array.isArray(n)&&n.length>1),n.forEach(t=>{for(const i in t)e[i]=e[i]?"".concat(e[i],"\n").concat(t[i]):t[i]}),e}function B_(n){return new RegExp("\\b".concat(n,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}const p9=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],$ye=[...p9,[B_("attribute"),"in $1"],[B_("varying"),"out $1"]],qye=[...p9,[B_("varying"),"in $1"]],m9=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],Yye=[...m9,[B_("in"),"attribute $1"],[B_("out"),"varying $1"]],Xye=[...m9,[B_("in"),"varying $1"]],FP="gl_FragColor",LP=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,Kye=/void\s+main\s*\([^)]*\)\s*\{\n?/;function B1(n,e){for(const[t,i]of e)n=n.replace(t,i);return n}const eve="\n\n".concat(L1,"\n\n"),g9={[P0]:"vertex",fs:"fragment"};function _9(n,e){let{id:t,source:i,type:r,modules:o,defines:s={},hookFunctions:a=[],inject:c={},transpileToGLSL100:l=!1,prologue:d=!0,log:h}=e;Oc("string"==typeof i,"shader source must be a string");const f=r===P0,m=i.split("\n");let g=100,v="",E=i;0===m[0].indexOf("#version ")?(g=300,v=m[0],E=m.slice(1).join("\n")):v="#version ".concat(g);const L={};o.forEach(ct=>{Object.assign(L,ct.getDefines())}),Object.assign(L,s);let H=d?"".concat(v,"\n").concat(function ove(n){let{id:e,source:t,type:i}=n;return e&&"string"==typeof e&&-1===t.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(e,"_").concat(g9[i],"\n\n"):""}({id:t,source:i,type:r}),"\n").concat(function rve(n){let{type:e}=n;return"\n#define SHADER_TYPE_".concat(g9[e].toUpperCase(),"\n")}({type:r}),"\n").concat(function Vye(n){switch(function Bye(n){const e=n.getExtension("WEBGL_debug_renderer_info"),t=n.getParameter(e&&e.UNMASKED_VENDOR_WEBGL||kye),i=n.getParameter(e&&e.UNMASKED_RENDERER_WEBGL||Pye);return{gpuVendor:jye(t,i),vendor:t,renderer:i,version:n.getParameter(Nye),shadingLanguageVersion:n.getParameter(Fye)}}(n).gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(n),"\n").concat(function zye(n,e,t){let i="#if (__VERSION__ > 120)\n\n# define FEATURE_GLSL_DERIVATIVES\n# define FEATURE_GLSL_DRAW_BUFFERS\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FEATURE_GLSL_TEXTURE_LOD\n\n// DEPRECATED FLAGS, remove in v9\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return F1(n,$p.GLSL_FRAG_DEPTH)&&(i+="\n// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),F1(n,$p.GLSL_DERIVATIVES)&&d9(n,$p.GLSL_DERIVATIVES)&&(i+="\n// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define FEATURE_GLSL_DERIVATIVES\n# define DERIVATIVES\n#endif\n"),F1(n,$p.GLSL_FRAG_DATA)&&d9(n,$p.GLSL_FRAG_DATA,{behavior:"require"})&&(i+="\n// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define FEATURE_GLSL_DRAW_BUFFERS\n#define DRAW_BUFFERS\n#endif\n"),F1(n,$p.GLSL_TEXTURE_LOD)&&(i+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n\n# define FEATURE_GLSL_TEXTURE_LOD\n# define TEXTURE_LOD\n\n#endif\n"),i}(n),"\n").concat(function sve(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=0,t="";for(const i in n){0===e&&(t+="\n// APPLICATION DEFINES\n"),e++;const r=n[i];(r||Number.isFinite(r))&&(t+="#define ".concat(i.toUpperCase()," ").concat(n[i],"\n"))}return 0===e&&(t+="\n"),t}(L),"\n").concat(f?"":"precision highp float;\n\n","\n"):"".concat(v,"\n");const le=function cve(n){const e={vs:{},fs:{}};return n.forEach(t=>{let i;"string"!=typeof t?(i=t,t=i.hook):i={},t=t.trim();const[r,o]=t.split(":"),s=t.replace(/\(.+/,"");e[r][s]=Object.assign(i,{signature:o})}),e}(a),se={},Pe={},$e={};for(const ct in c){const pt="string"==typeof c[ct]?{injection:c[ct],order:0}:c[ct],tt=ct.match(/^(v|f)s:(#)?([\w-]+)$/);tt?tt[2]?"decl"===tt[3]?Pe[ct]=[pt]:$e[ct]=[pt]:se[ct]=[pt]:$e[ct]=[pt]}for(const ct of o){h&&ct.checkDeprecations(E,h),H+=ct.getModuleSource(r,g);const tt=ct.injections[r];for(const yt in tt){const Pt=yt.match(/^(v|f)s:#([\w-]+)$/);if(Pt){const Et="decl"===Pt[2]?Pe:$e;Et[yt]=Et[yt]||[],Et[yt].push(tt[yt])}else se[yt]=se[yt]||[],se[yt].push(tt[yt])}}return H+=eve,H=f9(H,r,Pe),H+=function ave(n,e){let t="";for(const i in n){const r=n[i];if(t+="void ".concat(r.signature," {\n"),r.header&&(t+="  ".concat(r.header)),e[i]){const o=e[i];o.sort((s,a)=>s.order-a.order);for(const s of o)t+="  ".concat(s.injection,"\n")}r.footer&&(t+="  ".concat(r.footer)),t+="}\n"}return t}(le[r],se),H+=E,H=f9(H,r,$e),H=function Jye(n,e,t){switch(e){case 300:return t?B1(n,$ye):function Qye(n){const e=(n=B1(n,qye)).match(LP);if(e){const t=e[1];n=n.replace(new RegExp("\\b".concat(FP,"\\b"),"g"),t)}else{const t="fragmentColor";n=n.replace(Kye,i=>"out vec4 ".concat(t,";\n").concat(i)).replace(new RegExp("\\b".concat(FP,"\\b"),"g"),t)}return n}(n);case 100:return t?B1(n,Yye):function Zye(n){const e=(n=B1(n,Xye)).match(LP);if(e){const t=e[1];n=n.replace(LP,"").replace(new RegExp("\\b".concat(t,"\\b"),"g"),FP)}return n}(n);default:throw new Error("unknown GLSL version ".concat(e))}}(H,l?100:g,f),H}function ive(n){return function(t){const i={};for(const r of n){const o=r.getUniforms(t,i);Object.assign(i,o)}return i}}const Nn=new A0({id:"luma.gl"});function za(n,e){if(!n)throw new Error(e||"luma.gl: assertion failed.")}const dve="Requires WebGL2";function j1(n){return typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext||typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||!(!n||!Number.isFinite(n._version))}function Pi(n){return typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||!(!n||2!==n._version)}function U1(n){return za(j1(n),"Invalid WebGLRenderingContext"),n}function Ea(n){return za(Pi(n),dve),n}const N0={};const F0=function n(e){const t=e.gl;this.ext=e,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(e.maxVertexAttribs);for(let i=0;i<this.attribs.length;i++){const r=new n.VertexAttrib(t);this.attribs[i]=r}this.maxAttrib=0};(F0.VertexAttrib=function(e){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};const qp=function(e){const t=this;this.gl=e,function mve(n){const e=n.getError;n.getError=function(){let i;do{i=e.apply(n),0!==i&&(N0[i]=!0)}while(0!==i);for(i in N0)if(N0[i])return delete N0[i],parseInt(i,10);return 0}}(e);const i=this.original={getParameter:e.getParameter,enableVertexAttribArray:e.enableVertexAttribArray,disableVertexAttribArray:e.disableVertexAttribArray,bindBuffer:e.bindBuffer,getVertexAttrib:e.getVertexAttrib,vertexAttribPointer:e.vertexAttribPointer};e.getParameter=function(o){return o===t.VERTEX_ARRAY_BINDING_OES?t.currentVertexArrayObject===t.defaultVertexArrayObject?null:t.currentVertexArrayObject:i.getParameter.apply(this,arguments)},e.enableVertexAttribArray=function(o){const s=t.currentVertexArrayObject;return s.maxAttrib=Math.max(s.maxAttrib,o),s.attribs[o].enabled=!0,i.enableVertexAttribArray.apply(this,arguments)},e.disableVertexAttribArray=function(o){const s=t.currentVertexArrayObject;return s.maxAttrib=Math.max(s.maxAttrib,o),s.attribs[o].enabled=!1,i.disableVertexAttribArray.apply(this,arguments)},e.bindBuffer=function(o,s){switch(o){case 34962:t.currentArrayBuffer=s;break;case 34963:t.currentVertexArrayObject.elementArrayBuffer=s}return i.bindBuffer.apply(this,arguments)},e.getVertexAttrib=function(o,s){const c=t.currentVertexArrayObject.attribs[o];switch(s){case 34975:return c.buffer;case 34338:return c.enabled;case 34339:return c.size;case 34340:return c.stride;case 34341:return c.type;case 34922:return c.normalized;default:return i.getVertexAttrib.apply(this,arguments)}},e.vertexAttribPointer=function(o,s,a,c,l,d){const h=t.currentVertexArrayObject;h.maxAttrib=Math.max(h.maxAttrib,o);const f=h.attribs[o];return f.buffer=t.currentArrayBuffer,f.size=s,f.type=a,f.normalized=c,f.stride=l,f.offset=d,f.recache(),i.vertexAttribPointer.apply(this,arguments)},e.instrumentExtension&&e.instrumentExtension(this,"OES_vertex_array_object"),e.canvas&&e.canvas.addEventListener("webglcontextrestored",()=>{(function fve(n){globalThis.console&&globalThis.console.log&&globalThis.console.log(n)})("OESVertexArrayObject emulation library context restored"),t.reset_()},!0),this.reset_()};qp.prototype.VERTEX_ARRAY_BINDING_OES=34229,qp.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(let i=0;i<this.vertexArrayObjects.length;++i)this.vertexArrayObjects.isAlive=!1;this.maxVertexAttribs=this.gl.getParameter(34921),this.defaultVertexArrayObject=new F0(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},qp.prototype.createVertexArrayOES=function(){const e=new F0(this);return this.vertexArrayObjects.push(e),e},qp.prototype.deleteVertexArrayOES=function(e){e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(e),1),this.currentVertexArrayObject===e&&this.bindVertexArrayOES(null)},qp.prototype.isVertexArrayOES=function(e){return!!(e&&e instanceof F0&&e.hasBeenBound&&e.ext===this)},qp.prototype.bindVertexArrayOES=function(e){const t=this.gl;if(e&&!e.isAlive)return void function pve(n,e){N0[n]=!0,void 0!==e&&function hve(n){globalThis.console&&globalThis.console.error&&globalThis.console.error(n)}(e)}(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject");const i=this.original,r=this.currentVertexArrayObject;this.currentVertexArrayObject=e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;const o=this.currentVertexArrayObject;if(r===o)return;(!r||o.elementArrayBuffer!==r.elementArrayBuffer)&&i.bindBuffer.call(t,34963,o.elementArrayBuffer);let s=this.currentArrayBuffer;const a=Math.max(r?r.maxAttrib:0,o.maxAttrib);for(let c=0;c<=a;c++){const l=o.attribs[c],d=r?r.attribs[c]:null;if((!r||l.enabled!==d.enabled)&&(l.enabled?i.enableVertexAttribArray.call(t,c):i.disableVertexAttribArray.call(t,c)),l.enabled){let h=!1;(!r||l.buffer!==d.buffer)&&(s!==l.buffer&&(i.bindBuffer.call(t,34962,l.buffer),s=l.buffer),h=!0),(h||l.cached!==d.cached)&&i.vertexAttribPointer.call(t,c,l.size,l.type,l.normalized,l.stride,l.offset)}}this.currentArrayBuffer!==s&&i.bindBuffer.call(t,34962,this.currentArrayBuffer)};const b9="OES_element_index",y9="WEBGL_draw_buffers",v9="WEBGL_debug_renderer_info",qr=n=>Pi(n)?void 0:0,Ave={3074:n=>Pi(n)?void 0:36064,35723:n=>Pi(n)?void 0:4352,35977:qr,32937:qr,36795:(n,e)=>{const t=Pi(n)?n.getExtension("EXT_disjoint_timer_query_webgl2"):n.getExtension("EXT_disjoint_timer_query");return t&&t.GPU_DISJOINT_EXT?e(t.GPU_DISJOINT_EXT):0},37445:(n,e)=>{const t=n.getExtension(v9);return e(t&&t.UNMASKED_VENDOR_WEBGL||7936)},37446:(n,e)=>{const t=n.getExtension(v9);return e(t&&t.UNMASKED_RENDERER_WEBGL||7937)},34047:(n,e)=>{const t=n.luma.extensions.EXT_texture_filter_anisotropic;return t?e(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1},32883:qr,35071:qr,37447:qr,36063:(n,e)=>{if(!Pi(n)){const t=n.getExtension(y9);return t?e(t.MAX_COLOR_ATTACHMENTS_WEBGL):0}},35379:qr,35374:qr,35377:qr,34852:n=>{if(!Pi(n)){const e=n.getExtension(y9);return e?e.MAX_DRAW_BUFFERS_WEBGL:0}},36203:n=>n.getExtension(b9)?2147483647:65535,33001:n=>n.getExtension(b9)?16777216:65535,33e3:n=>16777216,37157:qr,35373:qr,35657:qr,36183:qr,37137:qr,34045:qr,35978:qr,35979:qr,35968:qr,35376:qr,35375:qr,35659:qr,37154:qr,35371:qr,35658:qr,35076:qr,35077:qr,35380:qr},w9="ANGLE_instanced_arrays",x9={OES_vertex_array_object:{meta:{suffix:"OES"},createVertexArray:()=>{za(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:()=>{},bindVertexArray:()=>{},isVertexArray:()=>!1},[w9]:{meta:{suffix:"ANGLE"},vertexAttribDivisor(n,e){za(0===e,"WebGL instanced rendering not supported")},drawElementsInstanced:()=>{},drawArraysInstanced:()=>{}},WEBGL_draw_buffers:{meta:{suffix:"WEBGL"},drawBuffers:()=>{za(!1)}},EXT_disjoint_timer_query:{meta:{suffix:"EXT"},createQuery:()=>{za(!1)},deleteQuery:()=>{za(!1)},beginQuery:()=>{za(!1)},endQuery:()=>{},getQuery(n,e){return this.getQueryObject(n,e)},getQueryParameter(n,e){return this.getQueryObject(n,e)},getQueryObject:()=>{}}},BP={readBuffer:(n,e,t)=>{Pi(n)&&e(t)},getVertexAttrib:(n,e,t,i)=>{const{webgl2:r,ext:o}=function kve(n,e){return{webgl2:Pi(n),ext:n.getExtension(e)}}(n,w9);let s;switch(i){case 35069:s=!!r&&void 0;break;case 35070:s=r||o?void 0:0}return void 0!==s?s:e(t,i)},getProgramParameter:(n,e,t,i)=>{if(!Pi(n))switch(i){case 35967:return 35981;case 35971:case 35382:return 0}return e(t,i)},getInternalformatParameter:(n,e,t,i,r)=>Pi(n)||32937!==r?n.getInternalformatParameter(t,i,r):new Int32Array([0]),getTexParameter(n,e,t,i){if(34046===i){const{extensions:r}=n.luma,o=r.EXT_texture_filter_anisotropic;i=o&&o.TEXTURE_MAX_ANISOTROPY_EXT||34046}return e(t,i)},getParameter:function Tve(n,e,t){const i=Ave[t],r="function"==typeof i?i(n,e,t):i;return void 0!==r?r:e(t)},hint:(n,e,t,i)=>e(t,i)};function Bve(n,e){let{extension:t,target:i,target2:r}=e;const o=x9[t];za(o);const{meta:s={}}=o,{suffix:a=""}=s,c=n.getExtension(t);for(const l of Object.keys(o)){const d="".concat(l).concat(a);let h=null;"meta"===l||"function"==typeof n[l]||(c&&"function"==typeof c[d]?h=function(){return c[d](...arguments)}:"function"==typeof o[l]&&(h=o[l].bind(i))),h&&(i[l]=h,r[l]=h)}}globalThis.polyfillContext=function Pve(n){n.luma=n.luma||{};const{luma:e}=n;return e.polyfilled||(function gve(n){if("function"==typeof n.createVertexArray)return;const e=n.getSupportedExtensions;n.getSupportedExtensions=function(){const r=e.call(this)||[];return r.indexOf("OES_vertex_array_object")<0&&r.push("OES_vertex_array_object"),r};const t=n.getExtension;n.getExtension=function(r){return t.call(this,r)||("OES_vertex_array_object"!==r?null:(n.__OESVertexArrayObject||(this.__OESVertexArrayObject=new qp(this)),this.__OESVertexArrayObject))}}(n),function Nve(n){n.luma.extensions={};const e=n.getSupportedExtensions()||[];for(const t of e)n.luma[t]=n.getExtension(t)}(n),function Lve(n,e){for(const t of Object.getOwnPropertyNames(e))"overrides"!==t&&Bve(n,{extension:t,target:n.luma,target2:n})}(n,x9),function Fve(n,e){let{target:t,target2:i}=e;Object.keys(BP).forEach(r=>{if("function"==typeof BP[r]){const o=n[r]?n[r].bind(n):()=>{},s=BP[r].bind(null,n,o);t[r]=s,i[r]=s}})}(n,{target:e,target2:n}),e.polyfilled=!0),n};const jP={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,36006:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],3333:4,3317:4,37440:!1,37441:!1,37443:37444,35723:4352,36010:null,35977:!1,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},tf=(n,e,t)=>e?n.enable(t):n.disable(t),E9=(n,e,t)=>n.hint(t,e),kc=(n,e,t)=>n.pixelStorei(t,e);function L0(n){return Array.isArray(n)||ArrayBuffer.isView(n)}const Vve={3042:tf,32773:(n,e)=>n.blendColor(...e),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(n,e)=>n.clearColor(...e),3107:(n,e)=>n.colorMask(...e),2884:tf,2885:(n,e)=>n.cullFace(e),2929:tf,2931:(n,e)=>n.clearDepth(e),2932:(n,e)=>n.depthFunc(e),2928:(n,e)=>n.depthRange(...e),2930:(n,e)=>n.depthMask(e),3024:tf,35723:E9,36006:(n,e)=>{const t=Pi(n)?36009:36160;return n.bindFramebuffer(t,e)},2886:(n,e)=>n.frontFace(e),33170:E9,2849:(n,e)=>n.lineWidth(e),32823:tf,32824:"polygonOffset",10752:"polygonOffset",35977:tf,32938:"sampleCoverage",32939:"sampleCoverage",3089:tf,3088:(n,e)=>n.scissor(...e),2960:tf,2961:(n,e)=>n.clearStencil(e),2968:(n,e)=>n.stencilMaskSeparate(1028,e),36005:(n,e)=>n.stencilMaskSeparate(1029,e),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(n,e)=>n.viewport(...e),3333:kc,3317:kc,37440:kc,37441:kc,37443:kc,3330:kc,3332:kc,3331:kc,36010:(n,e)=>n.bindFramebuffer(36008,e),3314:kc,32878:kc,3316:kc,3315:kc,32877:kc,framebuffer:(n,e)=>n.bindFramebuffer(36160,e&&"handle"in e?e.handle:e),blend:(n,e)=>e?n.enable(3042):n.disable(3042),blendColor:(n,e)=>n.blendColor(...e),blendEquation:(n,e)=>{e=L0(e)?e:[e,e],n.blendEquationSeparate(...e)},blendFunc:(n,e)=>{e=L0(e)&&2===e.length?[...e,...e]:e,n.blendFuncSeparate(...e)},clearColor:(n,e)=>n.clearColor(...e),clearDepth:(n,e)=>n.clearDepth(e),clearStencil:(n,e)=>n.clearStencil(e),colorMask:(n,e)=>n.colorMask(...e),cull:(n,e)=>e?n.enable(2884):n.disable(2884),cullFace:(n,e)=>n.cullFace(e),depthTest:(n,e)=>e?n.enable(2929):n.disable(2929),depthFunc:(n,e)=>n.depthFunc(e),depthMask:(n,e)=>n.depthMask(e),depthRange:(n,e)=>n.depthRange(...e),dither:(n,e)=>e?n.enable(3024):n.disable(3024),derivativeHint:(n,e)=>{n.hint(35723,e)},frontFace:(n,e)=>n.frontFace(e),mipmapHint:(n,e)=>n.hint(33170,e),lineWidth:(n,e)=>n.lineWidth(e),polygonOffsetFill:(n,e)=>e?n.enable(32823):n.disable(32823),polygonOffset:(n,e)=>n.polygonOffset(...e),sampleCoverage:(n,e)=>n.sampleCoverage(...e),scissorTest:(n,e)=>e?n.enable(3089):n.disable(3089),scissor:(n,e)=>n.scissor(...e),stencilTest:(n,e)=>e?n.enable(2960):n.disable(2960),stencilMask:(n,e)=>{e=L0(e)?e:[e,e];const[t,i]=e;n.stencilMaskSeparate(1028,t),n.stencilMaskSeparate(1029,i)},stencilFunc:(n,e)=>{e=L0(e)&&3===e.length?[...e,...e]:e;const[t,i,r,o,s,a]=e;n.stencilFuncSeparate(1028,t,i,r),n.stencilFuncSeparate(1029,o,s,a)},stencilOp:(n,e)=>{e=L0(e)&&3===e.length?[...e,...e]:e;const[t,i,r,o,s,a]=e;n.stencilOpSeparate(1028,t,i,r),n.stencilOpSeparate(1029,o,s,a)},viewport:(n,e)=>n.viewport(...e)};function wo(n,e,t){return void 0!==e[n]?e[n]:t[n]}const zve={blendEquation:(n,e,t)=>n.blendEquationSeparate(wo(32777,e,t),wo(34877,e,t)),blendFunc:(n,e,t)=>n.blendFuncSeparate(wo(32969,e,t),wo(32968,e,t),wo(32971,e,t),wo(32970,e,t)),polygonOffset:(n,e,t)=>n.polygonOffset(wo(32824,e,t),wo(10752,e,t)),sampleCoverage:(n,e,t)=>n.sampleCoverage(wo(32938,e,t),wo(32939,e,t)),stencilFuncFront:(n,e,t)=>n.stencilFuncSeparate(1028,wo(2962,e,t),wo(2967,e,t),wo(2963,e,t)),stencilFuncBack:(n,e,t)=>n.stencilFuncSeparate(1029,wo(34816,e,t),wo(36003,e,t),wo(36004,e,t)),stencilOpFront:(n,e,t)=>n.stencilOpSeparate(1028,wo(2964,e,t),wo(2965,e,t),wo(2966,e,t)),stencilOpBack:(n,e,t)=>n.stencilOpSeparate(1029,wo(34817,e,t),wo(34818,e,t),wo(34819,e,t))},C9={enable:(n,e)=>n({[e]:!0}),disable:(n,e)=>n({[e]:!1}),pixelStorei:(n,e,t)=>n({[e]:t}),hint:(n,e,t)=>n({[e]:t}),bindFramebuffer:(n,e,t)=>{switch(e){case 36160:return n({36006:t,36010:t});case 36009:return n({36006:t});case 36008:return n({36010:t});default:return null}},blendColor:(n,e,t,i,r)=>n({32773:new Float32Array([e,t,i,r])}),blendEquation:(n,e)=>n({32777:e,34877:e}),blendEquationSeparate:(n,e,t)=>n({32777:e,34877:t}),blendFunc:(n,e,t)=>n({32969:e,32968:t,32971:e,32970:t}),blendFuncSeparate:(n,e,t,i,r)=>n({32969:e,32968:t,32971:i,32970:r}),clearColor:(n,e,t,i,r)=>n({3106:new Float32Array([e,t,i,r])}),clearDepth:(n,e)=>n({2931:e}),clearStencil:(n,e)=>n({2961:e}),colorMask:(n,e,t,i,r)=>n({3107:[e,t,i,r]}),cullFace:(n,e)=>n({2885:e}),depthFunc:(n,e)=>n({2932:e}),depthRange:(n,e,t)=>n({2928:new Float32Array([e,t])}),depthMask:(n,e)=>n({2930:e}),frontFace:(n,e)=>n({2886:e}),lineWidth:(n,e)=>n({2849:e}),polygonOffset:(n,e,t)=>n({32824:e,10752:t}),sampleCoverage:(n,e,t)=>n({32938:e,32939:t}),scissor:(n,e,t,i,r)=>n({3088:new Int32Array([e,t,i,r])}),stencilMask:(n,e)=>n({2968:e,36005:e}),stencilMaskSeparate:(n,e,t)=>n({[1028===e?2968:36005]:t}),stencilFunc:(n,e,t,i)=>n({2962:e,2967:t,2963:i,34816:e,36003:t,36004:i}),stencilFuncSeparate:(n,e,t,i,r)=>n({[1028===e?2962:34816]:t,[1028===e?2967:36003]:i,[1028===e?2963:36004]:r}),stencilOp:(n,e,t,i)=>n({2964:e,2965:t,2966:i,34817:e,34818:t,34819:i}),stencilOpSeparate:(n,e,t,i,r)=>n({[1028===e?2964:34817]:t,[1028===e?2965:34818]:i,[1028===e?2966:34819]:r}),viewport:(n,e,t,i,r)=>n({2978:[e,t,i,r]})},Ad=(n,e)=>n.isEnabled(e),S9={3042:Ad,2884:Ad,2929:Ad,3024:Ad,32823:Ad,32926:Ad,32928:Ad,3089:Ad,2960:Ad,35977:Ad};function A9(n){for(const e in n)return!1;return!0}function Hve(n,e){if(n===e)return!0;const t=Array.isArray(n)||ArrayBuffer.isView(n),i=Array.isArray(e)||ArrayBuffer.isView(e);if(t&&i&&n.length===e.length){for(let r=0;r<n.length;++r)if(n[r]!==e[r])return!1;return!0}return!1}function T9(n,e){const t=n[e].bind(n);n[e]=function(){const r=arguments.length<=0?void 0:arguments[0];return r in n.state.cache&&n.state.enable?n.state.cache[r]:t(...arguments)},Object.defineProperty(n[e],"name",{value:"".concat(e,"-from-cache"),configurable:!1})}function Gve(n,e,t){const i=n[e].bind(n);n[e]=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const{valueChanged:c,oldValue:l}=t(n.state._updateCache,...s);return c&&i(...s),l},Object.defineProperty(n[e],"name",{value:"".concat(e,"-to-cache"),configurable:!1})}class $ve{constructor(e){let{copyState:t=!1,log:i=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.program=null,this.stateStack=[],this.enable=!0,this.cache=t?function Yve(n,e){if("number"==typeof(e=e||jP)){const r=e,o=S9[r];return o?o(n,r):n.getParameter(r)}const t=Array.isArray(e)?e:Object.keys(e),i={};for(const r of t){const o=S9[r];i[r]=o?o(n,Number(r)):n.getParameter(Number(r))}return i}(e):Object.assign({},jP),this.log=i,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(){this.stateStack.push({})}pop(){za(this.stateStack.length>0),Bu(this.gl,this.stateStack[this.stateStack.length-1]),this.stateStack.pop()}_updateCache(e){let i,t=!1;const r=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(const o in e){za(void 0!==o);const s=e[o],a=this.cache[o];Hve(s,a)||(t=!0,i=a,r&&!(o in r)&&(r[o]=a),this.cache[o]=s)}return{valueChanged:t,oldValue:i}}}function M9(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{enable:t=!0,copyState:i}=e;if(za(void 0!==i),!n.state){const{polyfillContext:r}=globalThis;r&&r(n),n.state=new $ve(n,{copyState:i}),function Wve(n){const e=n.useProgram.bind(n);n.useProgram=function(i){n.state.program!==i&&(e(i),n.state.program=i)}}(n);for(const o in C9)Gve(n,o,C9[o]);T9(n,"getParameter"),T9(n,"isEnabled")}return n.state.enable=t,n}function I9(n){za(n.state),n.state.pop()}function Bu(n,e){if(za(j1(n),"setParameters requires a WebGL context"),A9(e))return;const t={};for(const r in e){const o=Number(r),s=Vve[r];s&&("string"==typeof s?t[s]=!0:s(n,e[r],o))}const i=n.state&&n.state.cache;if(i)for(const r in t)(0,zve[r])(n,e,i)}function dl(n,e,t){if(A9(e))return t(n);const{nocatch:i=!0}=e;let r;if(function qve(n){n.state||M9(n,{copyState:!1}),n.state.push()}(n),Bu(n,e),i)r=t(n),I9(n);else try{r=t(n)}finally{I9(n)}return r}function j_(n){const{luma:e}=n;if(n.canvas&&e){const t=e.canvasSizeInfo,i="clientWidth"in t?t.clientWidth:n.canvas.clientWidth;return i?n.drawingBufferWidth/i:1}return 1}function UP(n,e){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function Jve(n,e,t,i,r){const o=D9(n[0],e,t);let s=R9(n[1],e,i,r),a=D9(n[0]+1,e,t);const c=a===t-1?a:a-1;let l;return a=R9(n[1]+1,e,i,r),r?(a=0===a?a:a+1,l=s,s=a):l=a===i-1?a:a-1,{x:o,y:s,width:Math.max(c-o+1,1),height:Math.max(l-s+1,1)}}(e,j_(n),n.drawingBufferWidth,n.drawingBufferHeight,t)}function D9(n,e,t){return Math.min(Math.round(n*e),t-1)}function R9(n,e,t,i){return i?Math.max(0,t-1-Math.round(n*e)):Math.min(Math.round(n*e),t-1)}const VP=Ed(),Qve=VP&&typeof document<"u",O9={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function k9(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};za(VP,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils"),n=Object.assign({},O9,n);const{width:e,height:t}=n;function i(a){if(n.throwOnError)throw new Error(a);return console.error(a),null}let r;n.onError=i;const{canvas:o}=n,s=function n0e(n){let o,{canvas:e,width:t=800,height:i=600,onError:r}=n;return"string"==typeof e?(Qve&&"complete"===document.readyState||r("createGLContext called on canvas '".concat(e,"' before page was loaded")),o=document.getElementById(e)):e?o=e:(o=document.createElement("canvas"),o.id="lumagl-canvas",o.style.width=Number.isFinite(t)?"".concat(t,"px"):"100%",o.style.height=Number.isFinite(i)?"".concat(i,"px"):"100%",document.body.insertBefore(o,document.body.firstChild)),o}({canvas:o,width:e,height:t,onError:i});return r=function t0e(n,e){const{onError:t}=e;let i=null;const r=c=>i=c.statusMessage||i;n.addEventListener("webglcontextcreationerror",r,!1);const{webgl1:o=!0,webgl2:s=!0}=e;let a=null;return s&&(a=a||n.getContext("webgl2",e),a=a||n.getContext("experimental-webgl2",e)),o&&(a=a||n.getContext("webgl",e),a=a||n.getContext("experimental-webgl",e)),n.removeEventListener("webglcontextcreationerror",r,!1),a?(e.onContextLost&&n.addEventListener("webglcontextlost",e.onContextLost,!1),e.onContextRestored&&n.addEventListener("webglcontextrestored",e.onContextRestored,!1),a):t("Failed to create ".concat(s&&!o?"WebGL2":"WebGL"," context: ").concat(i||"Unknown error"))}(s,n),r?(r=zP(r,n),function i0e(n){const e=Pi(n)?"WebGL2":"WebGL1",t=function Zve(n){const e=n.getParameter(7936),t=n.getParameter(7937),i=n.getExtension("WEBGL_debug_renderer_info");return{vendor:i&&n.getParameter(i.UNMASKED_VENDOR_WEBGL||7936)||e,renderer:i&&n.getParameter(i.UNMASKED_RENDERER_WEBGL||7937)||t,vendorMasked:e,rendererMasked:t,version:n.getParameter(7938),shadingLanguageVersion:n.getParameter(35724)}}(n),i=t?"(".concat(t.vendor,",").concat(t.renderer,")"):"",r=n.debug?" debug":"";Nn.info(1,"".concat(e).concat(r," context ").concat(i))()}(r),r):null}function zP(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!n||n._instrumented)return n;n._version=n._version||function r0e(n){return typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext?2:1}(n),n.luma=n.luma||{},n.luma.canvasSizeInfo=n.luma.canvasSizeInfo||{},e=Object.assign({},O9,e);const{manageState:t,debug:i}=e;return t&&M9(n,{copyState:!1,log:function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return Nn.log(1,...o)()}}),VP&&i&&(globalThis.makeDebugContext?(n=globalThis.makeDebugContext(n,e),Nn.level=Math.max(Nn.level,1)):Nn.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),n._instrumented=!0,n}function P9(){let n;if(typeof window<"u"&&window.performance)n=window.performance.now();else if(typeof process<"u"&&process.hrtime){const e=process.hrtime();n=1e3*e[0]+e[1]/1e6}else n=Date.now();return n}class N9{constructor(e,t){ve(this,"name",void 0),ve(this,"type",void 0),ve(this,"sampleSize",1),ve(this,"time",void 0),ve(this,"count",void 0),ve(this,"samples",void 0),ve(this,"lastTiming",void 0),ve(this,"lastSampleTime",void 0),ve(this,"lastSampleCount",void 0),ve(this,"_count",0),ve(this,"_time",0),ve(this,"_samples",0),ve(this,"_startTime",0),ve(this,"_timerPending",!1),this.name=e,this.type=t,this.reset()}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=P9(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(P9()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class HP{constructor(e){ve(this,"id",void 0),ve(this,"stats",{}),this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e){return this._getOrCreate({name:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count"})}get size(){return Object.keys(this.stats).length}reset(){for(const e in this.stats)this.stats[e].reset();return this}forEach(e){for(const t in this.stats)e(this.stats[t])}getTable(){const e={};return this.forEach(t=>{e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}}),e}_initializeStats(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(t=>this._getOrCreate(t))}_getOrCreate(e){if(!e||!e.name)return null;const{name:t,type:i}=e;return this.stats[t]||(this.stats[t]=e instanceof N9?e:new N9(t,i)),this.stats[t]}}const B0="8.5.21",Yp=new class a0e{constructor(){this.stats=new Map}get(e){return this.stats.has(e)||this.stats.set(e,new HP({id:e})),this.stats.get(e)}};if(globalThis.luma&&globalThis.luma.VERSION!==B0)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(B0));function gn(n,e){if(!n)throw new Error(e||"luma.gl: assertion failed.")}function GP(n,e){if("string"!=typeof e)return e;const t=Number(e);if(!isNaN(t))return t;const i=n[e=e.replace(/^.*\./,"")];return gn(void 0!==i,"Accessing undefined constant GL.".concat(e)),i}function nf(n,e){e=Number(e);for(const t in n)if(n[t]===e)return"GL.".concat(t);return String(e)}globalThis.luma||(Ed()&&Nn.log(1,"luma.gl ".concat(B0," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),globalThis.luma=globalThis.luma||{VERSION:B0,version:B0,log:Nn,stats:Yp,globals:{modules:{},nodeIO:{}}}),globalThis;const WP={};function lc(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";WP[n]=WP[n]||1;const e=WP[n]++;return"".concat(n,"-").concat(e)}function F9(n){return gn("number"==typeof n,"Input must be a number"),n&&!(n&n-1)}function U_(n){let e=!0;for(const t in n){e=!1;break}return e}function L9(n,e,t,i){const r="See luma.gl ".concat(t," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),o=Object.getPrototypeOf(n);i.forEach(s=>{o.methodName||(o[s]=()=>{throw Nn.removed("Calling removed method ".concat(e,".").concat(s,": "),r)(),new Error(s)})})}const V_="Resource subclass must define virtual methods";class ju{get[Symbol.toStringTag](){return"Resource"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};U1(e);const{id:i,userData:r={}}=t;this.gl=e,this.gl2=e,this.id=i||lc(this[Symbol.toStringTag]),this.userData=r,this._bound=!1,this._handle=t.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}toString(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}get handle(){return this._handle}delete(){let{deleteChildren:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,t&&e&&t.filter(Boolean).forEach(i=>i.delete()),this}bind(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!=typeof e?(this._bindHandle(e),this):(this._bound?t=e():(this._bindHandle(this.handle),this._bound=!0,t=e(),this._bound=!1,this._bindHandle(null)),t)}unbind(){this.bind(null)}getParameter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};gn(e=GP(this.gl,e));const r=(this.constructor.PARAMETERS||{})[e];if(r){const o=Pi(this.gl);if("webgl2"in r&&!o||"extension"in r&&!this.gl.getExtension(r.extension))return o&&"webgl2"in r?r.webgl2:r.webgl1}return this._getParameter(e,t)}getParameters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{parameters:t,keys:i}=e,r=this.constructor.PARAMETERS||{},o=Pi(this.gl),s={},a=t||Object.keys(r);for(const c of a){const l=r[c];if(l&&(!("webgl2"in l)||o)&&(!("extension"in l)||this.gl.getExtension(l.extension))){const h=i?nf(this.gl,c):c;s[h]=this.getParameter(c,e),i&&"GLenum"===l.type&&(s[h]=nf(this.gl,s[h]))}}return s}setParameter(e,t){gn(e=GP(this.gl,e));const r=(this.constructor.PARAMETERS||{})[e];if(r){const o=Pi(this.gl);if("webgl2"in r&&!o||"extension"in r&&!this.gl.getExtension(r.extension))throw new Error("Parameter not available on this platform");"GLenum"===r.type&&(t=GP(t))}return this._setParameter(e,t),this}setParameters(e){for(const t in e)this.setParameter(t,e[t]);return this}stubRemovedMethods(e,t,i){return L9(this,e,t,i)}initialize(e){}_createHandle(){throw new Error(V_)}_deleteHandle(){throw new Error(V_)}_bindHandle(e){throw new Error(V_)}_getOptsFromHandle(){throw new Error(V_)}_getParameter(e,t){throw new Error(V_)}_setParameter(e,t){throw new Error(V_)}_context(){return this.gl.luma=this.gl.luma||{},this.gl.luma}_addStats(){const e=this[Symbol.toStringTag],t=Yp.get("Resource Counts");t.get("Resources Created").incrementCount(),t.get("".concat(e,"s Created")).incrementCount(),t.get("".concat(e,"s Active")).incrementCount()}_removeStats(){const e=this[Symbol.toStringTag];Yp.get("Resource Counts").get("".concat(e,"s Active")).decrementCount()}_trackAllocatedMemory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];this._trackAllocatedMemoryForContext(e,t),this._trackAllocatedMemoryForContext(e,t,this.gl.canvas&&this.gl.canvas.id),this.byteLength=e}_trackAllocatedMemoryForContext(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];const r=Yp.get("Memory Usage".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""));r.get("GPU Memory").addCount(e),r.get("".concat(t," Memory")).addCount(e)}_trackDeallocatedMemory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];this._trackDeallocatedMemoryForContext(e),this._trackDeallocatedMemoryForContext(e,this.gl.canvas&&this.gl.canvas.id),this.byteLength=0}_trackDeallocatedMemoryForContext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];const i=Yp.get("Memory Usage".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:""));i.get("GPU Memory").subtractCount(this.byteLength),i.get("".concat(e," Memory")).subtractCount(this.byteLength)}}const c0e="Failed to deduce GL constant from typed array";function $P(n){switch(ArrayBuffer.isView(n)?n.constructor:n){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(c0e)}}function j0(n){let{clamped:e=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return e?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function d0e(n){let{data:e,width:t,height:i}=n;const r=Math.round(t/2),o=Math.round(i/2),s=new Uint8Array(r*o*4);for(let a=0;a<o;a++)for(let c=0;c<r;c++)for(let l=0;l<4;l++)s[4*(a*r+c)+l]=e[4*(2*a*t+2*c)+l];return{data:s,width:r,height:o}}function qP(n,e,t){const{removedProps:i={},deprecatedProps:r={},replacedProps:o={}}=t;for(const a in i)if(a in e){const l=i[a]?"".concat(n,".").concat(i[a]):"N/A";Nn.removed("".concat(n,".").concat(a),l)()}for(const a in r)if(a in e){const c=r[a];Nn.deprecated("".concat(n,".").concat(a),"".concat(n,".").concat(c))()}let s=null;for(const a in o)if(a in e){const c=o[a];Nn.deprecated("".concat(n,".").concat(a),"".concat(n,".").concat(c))(),s=s||Object.assign({},e),s[c]=e[a],delete s[a]}return s||e}const u0e={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},h0e={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class dc{static getBytesPerElement(e){return j0(e.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(e){return gn(e.size),j0(e.type||5126).BYTES_PER_ELEMENT*e.size}static resolve(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return new dc(u0e,...t)}constructor(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(r=>this._assign(r)),Object.freeze(this)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return dc.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return dc.getBytesPerVertex(this)}_assign(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=qP("Accessor",e,h0e),void 0!==e.type&&(this.type=e.type,(5124===e.type||5125===e.type)&&(this.integer=!0)),void 0!==e.size&&(this.size=e.size),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.stride&&(this.stride=e.stride),void 0!==e.normalized&&(this.normalized=e.normalized),void 0!==e.integer&&(this.integer=e.integer),void 0!==e.divisor&&(this.divisor=e.divisor),void 0!==e.buffer&&(this.buffer=e.buffer),void 0!==e.index&&(this.index="boolean"==typeof e.index?e.index?1:0:e.index),void 0!==e.instanced&&(this.divisor=e.instanced?1:0),void 0!==e.isInstanced&&(this.divisor=e.isInstanced?1:0),this}}const j9={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},f0e={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:j9},p0e={removedProps:j9};class Ar extends ju{get[Symbol.toStringTag](){return"Buffer"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),this.target=t.target||(this.gl.webgl2?36662:34962),this.initialize(t),Object.seal(this)}getElementCount(){return Math.round(this.byteLength/dc.getBytesPerElement(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor))}getVertexCount(){return Math.round(this.byteLength/dc.getBytesPerVertex(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor))}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e=qP("Buffer",e,f0e),this.usage=e.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},e,e.accessor)),e.data?this._setData(e.data,e.offset,e.byteLength):this._setByteLength(e.byteLength||0),this}setProps(e){return"accessor"in(e=qP("Buffer",e,p0e))&&this.setAccessor(e.accessor),this}setAccessor(e){return delete(e=Object.assign({},e)).buffer,this.accessor=new dc(e),this}reallocate(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)}setData(e){return this.initialize(e)}subData(e){ArrayBuffer.isView(e)&&(e={data:e});const{data:t,offset:i=0,srcOffset:r=0}=e,o=e.byteLength||e.length;gn(t);const s=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(s,this.handle),0!==r||void 0!==o?(Ea(this.gl),this.gl.bufferSubData(this.target,i,t,r,o)):this.gl.bufferSubData(s,i,t),this.gl.bindBuffer(s,null),this.debugData=null,this._inferType(t),this}copyData(e){let{sourceBuffer:t,readOffset:i=0,writeOffset:r=0,size:o}=e;const{gl:s}=this;return Ea(s),s.bindBuffer(36662,t.handle),s.bindBuffer(36663,this.handle),s.copyBufferSubData(36662,36663,i,r,o),s.bindBuffer(36662,null),s.bindBuffer(36663,null),this.debugData=null,this}getData(){let{dstData:e=null,srcByteOffset:t=0,dstOffset:i=0,length:r=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ea(this.gl);const o=j0(this.accessor.type||5126,{clamped:!1}),s=this._getAvailableElementCount(t),a=i;let c,l;e?(l=e.length,c=l-a):(c=Math.min(s,r||s),l=a+c);const d=Math.min(s,c);return r=r||d,gn(r<=d),e=e||new o(l),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,t,e,i,r),this.gl.bindBuffer(36662,null),e}bind(){let{target:e=this.target,index:t=this.accessor&&this.accessor.index,offset:i=0,size:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===e||35982===e?void 0!==r?this.gl.bindBufferRange(e,t,this.handle,i,r):(gn(0===i),this.gl.bindBufferBase(e,t,this.handle)):this.gl.bindBuffer(e,this.handle),this}unbind(){let{target:e=this.target,index:t=this.accessor&&this.accessor.index}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===e||35982===e?this.gl.bindBufferBase(e,t,null):this.gl.bindBuffer(e,null),this}getDebugData(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}invalidateDebugData(){this.debugData=null}_setData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength+t;gn(ArrayBuffer.isView(e)),this._trackDeallocatedMemory();const r=this._getTarget();this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,i,this.usage),this.gl.bufferSubData(r,t,e),this.gl.bindBuffer(r,null),this.debugData=e.slice(0,10),this.bytesUsed=i,this._trackAllocatedMemory(i);const o=$P(e);return gn(o),this.setAccessor(new dc(this.accessor,{type:o})),this}_setByteLength(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;gn(e>=0),this._trackDeallocatedMemory();let i=e;0===e&&(i=new Float32Array(0));const r=this._getTarget();return this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,i,t),this.gl.bindBuffer(r,null),this.usage=t,this.debugData=null,this.bytesUsed=e,this._trackAllocatedMemory(e),this}_getTarget(){return this.gl.webgl2?36663:this.target}_getAvailableElementCount(e){const i=e/j0(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-i}_inferType(e){this.accessor.type||this.setAccessor(new dc(this.accessor,{type:$P(e)}))}_createHandle(){return this.gl.createBuffer()}_deleteHandle(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}_getParameter(e){this.gl.bindBuffer(this.target,this.handle);const t=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),t}get type(){return Nn.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}get bytes(){return Nn.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}setByteLength(e){return Nn.deprecated("setByteLength","reallocate")(),this.reallocate(e)}updateAccessor(e){return Nn.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new dc(this.accessor,e),this}}const YP={6407:{dataFormat:6407,types:[5121,33635]},6408:{dataFormat:6408,types:[5121,32819,32820]},6406:{dataFormat:6406,types:[5121]},6409:{dataFormat:6409,types:[5121]},6410:{dataFormat:6410,types:[5121]},33326:{dataFormat:6403,types:[5126],gl2:!0},33328:{dataFormat:33319,types:[5126],gl2:!0},34837:{dataFormat:6407,types:[5126],gl2:!0},34836:{dataFormat:6408,types:[5126],gl2:!0}},U9={6403:1,36244:1,33319:2,33320:2,6407:3,36248:3,6408:4,36249:4,6402:1,34041:1,6406:1,6409:1,6410:2},V9={5126:4,5125:4,5124:4,5123:2,5122:2,5131:2,5120:1,5121:1},_0e=[9729,9728],z9=globalThis.WebGLBuffer||function(){};class Xp extends ju{get[Symbol.toStringTag](){return"Texture"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{format:i,linearFiltering:r}=t;let o=!0;return i&&(o=o&&function m0e(n,e){const t=YP[e];if(!t)return!1;if(void 0===t.gl1&&void 0===t.gl2)return!0;const i=Pi(n)&&t.gl2||t.gl1;return"string"==typeof i?n.getExtension(i):i}(e,i),o=o&&(!r||function g0e(n,e){const t=YP[e];switch(t&&t.types[0]){case 5126:return n.getExtension("OES_texture_float_linear");case 5131:return n.getExtension("OES_texture_half_float_linear");default:return!0}}(e,i))),o}constructor(e,t){const{id:i=lc("texture"),handle:r,target:o}=t;super(e,{id:i,handle:r}),this.target=o,this.textureUnit=void 0,this.loaded=!1,this.width=void 0,this.height=void 0,this.depth=void 0,this.format=void 0,this.type=void 0,this.dataFormat=void 0,this.border=void 0,this.textureUnit=void 0,this.mipmaps=void 0}toString(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data;if(t instanceof Promise)return t.then(H=>this.initialize(Object.assign({},e,{pixels:H,data:H}))),this;const i=typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement;if(i&&t.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,t.addEventListener("loadeddata",()=>this.initialize(e)),this;const{pixels:r=null,format:o=6408,border:s=0,recreate:a=!1,parameters:c={},pixelStore:l={},textureUnit:d}=e;t||(t=r);let{width:h,height:f,dataFormat:m,type:g,compressed:v=!1,mipmaps:E=!0}=e;const{depth:L=0}=e;return({width:h,height:f,compressed:v,dataFormat:m,type:g}=this._deduceParameters({format:o,type:g,dataFormat:m,compressed:v,data:t,width:h,height:f})),this.width=h,this.height=f,this.depth=L,this.format=o,this.type=g,this.dataFormat=m,this.border=s,this.textureUnit=d,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),E&&this._isNPOT()&&(Nn.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),E=!1,this._updateForNPOT(c)),this.mipmaps=E,this.setImageData({data:t,width:h,height:f,depth:L,format:o,type:g,dataFormat:m,border:s,mipmaps:E,parameters:l,compressed:v}),E&&this.generateMipmap(),this.setParameters(c),a&&(this.data=t),i&&(this._video={video:t,parameters:c,lastTime:t.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?t.currentTime:-1}),this}update(){if(this._video){const{video:e,parameters:t,lastTime:i}=this._video;if(i===e.currentTime||e.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:e,parameters:t}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=e.currentTime}}resize(e){let{height:t,width:i,mipmaps:r=!1}=e;return i!==this.width||t!==this.height?this.initialize({width:i,height:t,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:r}):this}generateMipmap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(Nn.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),dl(this.gl,e,()=>{this.gl.generateMipmap(this.target)}),this.gl.bindTexture(this.target,null),this)}setImageData(e){this._trackDeallocatedMemory("Texture");const{target:t=this.target,pixels:i=null,level:r=0,format:o=this.format,border:s=this.border,offset:a=0,parameters:c={}}=e;let{data:l=null,type:d=this.type,width:h=this.width,height:f=this.height,dataFormat:m=this.dataFormat,compressed:g=!1}=e;l||(l=i),({type:d,dataFormat:m,compressed:g,width:h,height:f}=this._deduceParameters({format:o,type:d,dataFormat:m,compressed:g,data:l,width:h,height:f}));const{gl:v}=this;v.bindTexture(this.target,this.handle);let E=null;({data:l,dataType:E}=this._getDataType({data:l,compressed:g}));let L,H=0;return dl(this.gl,c,()=>{switch(E){case"null":v.texImage2D(t,r,o,h,f,s,m,d,l);break;case"typed-array":v.texImage2D(t,r,o,h,f,s,m,d,l,a);break;case"buffer":L=Ea(v),L.bindBuffer(35052,l.handle||l),L.texImage2D(t,r,o,h,f,s,m,d,a),L.bindBuffer(35052,null);break;case"browser-object":Pi(v)?v.texImage2D(t,r,o,h,f,s,m,d,l):v.texImage2D(t,r,o,m,d,l);break;case"compressed":for(const[le,se]of l.entries())v.compressedTexImage2D(t,le,se.format,se.width,se.height,s,se.data),H+=se.levelSize;break;default:gn(!1,"Unknown image data type")}}),this._trackAllocatedMemory("compressed"===E?H:l&&l.byteLength?l.byteLength:this.width*this.height*(U9[this.dataFormat]||4)*(V9[this.type]||1),"Texture"),this.loaded=!0,this}setSubImageData(e){let{target:t=this.target,pixels:i=null,data:r=null,x:o=0,y:s=0,width:a=this.width,height:c=this.height,level:l=0,format:d=this.format,type:h=this.type,dataFormat:f=this.dataFormat,compressed:m=!1,offset:g=0,border:v=this.border,parameters:E={}}=e;if(({type:h,dataFormat:f,compressed:m,width:a,height:c}=this._deduceParameters({format:d,type:h,dataFormat:f,compressed:m,data:r,width:a,height:c})),gn(0===this.depth,"texSubImage not supported for 3D textures"),r||(r=i),r&&r.data){const L=r;r=L.data,a=L.shape[0],c=L.shape[1]}r instanceof Ar&&(r=r.handle),this.gl.bindTexture(this.target,this.handle),dl(this.gl,E,()=>{if(m)this.gl.compressedTexSubImage2D(t,l,o,s,a,c,d,r);else if(null===r)this.gl.texSubImage2D(t,l,o,s,a,c,f,h,null);else if(ArrayBuffer.isView(r))this.gl.texSubImage2D(t,l,o,s,a,c,f,h,r,g);else if(r instanceof z9){const L=Ea(this.gl);L.bindBuffer(35052,r),L.texSubImage2D(t,l,o,s,a,c,f,h,g),L.bindBuffer(35052,null)}else Pi(this.gl)?Ea(this.gl).texSubImage2D(t,l,o,s,a,c,f,h,r):this.gl.texSubImage2D(t,l,o,s,f,h,r)}),this.gl.bindTexture(this.target,null)}copyFramebuffer(){return Nn.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:t}=this;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,this.handle),e}unbind(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:t}=this;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,null),e}_getDataType(e){let{data:t,compressed:i=!1}=e;return i?{data:t,dataType:"compressed"}:null===t?{data:t,dataType:"null"}:ArrayBuffer.isView(t)?{data:t,dataType:"typed-array"}:t instanceof Ar?{data:t.handle,dataType:"buffer"}:t instanceof z9?{data:t,dataType:"buffer"}:{data:t,dataType:"browser-object"}}_deduceParameters(e){const{format:t,data:i}=e;let{width:r,height:o,dataFormat:s,type:a,compressed:c}=e;const l=YP[t];return s=s||l&&l.dataFormat,a=a||l&&l.types[0],c=c||l&&l.compressed,({width:r,height:o}=this._deduceImageSize(i,r,o)),{dataFormat:s,type:a,compressed:c,width:r,height:o,format:t,data:i}}_deduceImageSize(e,t,i){let r;return r=typeof ImageData<"u"&&e instanceof ImageData?{width:e.width,height:e.height}:typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?{width:e.width,height:e.height}:typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e?{width:t,height:i}:{width:t>=0?t:1,height:i>=0?i:1},gn(r,"Could not deduced texture size"),gn(void 0===t||r.width===t,"Deduced texture width does not match supplied width"),gn(void 0===i||r.height===i,"Deduced texture height does not match supplied height"),r}_createHandle(){return this.gl.createTexture()}_deleteHandle(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}_getParameter(e){switch(e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);const t=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),t}}_setParameter(e,t){switch(this.gl.bindTexture(this.target,this.handle),t=this._getNPOTParam(e,t),e){case 33082:case 33083:this.gl.texParameterf(this.handle,e,t);break;case 4096:case 4097:gn(!1);break;default:this.gl.texParameteri(this.target,e,t)}return this.gl.bindTexture(this.target,null),this}_isNPOT(){return!(Pi(this.gl)||!this.width||!this.height||F9(this.width)&&F9(this.height))}_updateForNPOT(e){void 0===e[this.gl.TEXTURE_MIN_FILTER]&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===e[this.gl.TEXTURE_WRAP_S]&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===e[this.gl.TEXTURE_WRAP_T]&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}_getNPOTParam(e,t){if(this._isNPOT())switch(e){case 10241:-1===_0e.indexOf(t)&&(t=9729);break;case 10242:case 10243:33071!==t&&(t=33071)}return t}}function b0e(n,e){return gn("string"==typeof n),n=""+n,new Promise((t,i)=>{try{const r=new Image;r.onload=()=>t(r),r.onerror=()=>i(new Error("Could not load image ".concat(n,"."))),r.crossOrigin=e&&e.crossOrigin||"anonymous",r.src=n}catch(r){i(r)}})}class Hs extends Xp{get[Symbol.toStringTag](){return"Texture2D"}static isSupported(e,t){return Xp.isSupported(e,t)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};U1(e),(t instanceof Promise||"string"==typeof t)&&(t={data:t}),"string"==typeof t.data&&(t=Object.assign({},t,{data:b0e(t.data)})),super(e,Object.assign({},t,{target:3553})),this.initialize(t),Object.seal(this)}}const Kp="EXT_color_buffer_float",H9={33189:{bpp:2},33190:{gl2:!0,bpp:3},36012:{gl2:!0,bpp:4},36168:{bpp:1},34041:{bpp:4},35056:{gl2:!0,bpp:4},36013:{gl2:!0,bpp:5},32854:{bpp:2},36194:{bpp:2},32855:{bpp:2},33321:{gl2:!0,bpp:1},33330:{gl2:!0,bpp:1},33329:{gl2:!0,bpp:1},33332:{gl2:!0,bpp:2},33331:{gl2:!0,bpp:2},33334:{gl2:!0,bpp:4},33333:{gl2:!0,bpp:4},33323:{gl2:!0,bpp:2},33336:{gl2:!0,bpp:2},33335:{gl2:!0,bpp:2},33338:{gl2:!0,bpp:4},33337:{gl2:!0,bpp:4},33340:{gl2:!0,bpp:8},33339:{gl2:!0,bpp:8},32849:{gl2:!0,bpp:3},32856:{gl2:!0,bpp:4},32857:{gl2:!0,bpp:4},36220:{gl2:!0,bpp:4},36238:{gl2:!0,bpp:4},36975:{gl2:!0,bpp:4},36214:{gl2:!0,bpp:8},36232:{gl2:!0,bpp:8},36226:{gl2:!0,bpp:16},36208:{gl2:!0,bpp:16},33325:{gl2:Kp,bpp:2},33327:{gl2:Kp,bpp:4},34842:{gl2:Kp,bpp:8},33326:{gl2:Kp,bpp:4},33328:{gl2:Kp,bpp:8},34836:{gl2:Kp,bpp:16},35898:{gl2:Kp,bpp:4}};class z_ extends ju{get[Symbol.toStringTag](){return"Renderbuffer"}static isSupported(e){let{format:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null};return!t||function y0e(n,e,t){const i=t[e];if(!i)return!1;const r=Pi(n)&&i.gl2||i.gl1;return"string"==typeof r?n.getExtension(r):r}(e,t,H9)}static getSamplesForFormat(e,t){let{format:i}=t;return e.getInternalformatParameter(36161,i,32937)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.initialize(t),Object.seal(this)}initialize(e){let{format:t,width:i=1,height:r=1,samples:o=0}=e;return gn(t,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==o&&Pi(this.gl)?this.gl.renderbufferStorageMultisample(36161,o,t,i,r):this.gl.renderbufferStorage(36161,t,i,r),this.format=t,this.width=i,this.height=r,this.samples=o,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*H9[this.format].bpp),this}resize(e){let{width:t,height:i}=e;return t!==this.width||i!==this.height?this.initialize({width:t,height:i,format:this.format,samples:this.samples}):this}_createHandle(){return this.gl.createRenderbuffer()}_deleteHandle(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}_bindHandle(e){this.gl.bindRenderbuffer(36161,e)}_syncHandle(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}_getParameter(e){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,e)}}const G9=6144,Y9="clear: bad arguments";function KP(n){let{framebuffer:e=null,color:t=null,depth:i=null,stencil:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o={};e&&(o.framebuffer=e);let s=0;t&&(s|=16384,!0!==t&&(o.clearColor=t)),i&&(s|=256,!0!==i&&(o.clearDepth=i)),r&&(s|=1024,!0!==i&&(o.clearStencil=i)),gn(0!==s,Y9),dl(n,o,()=>{n.clear(s)})}const JP=[34069,34070,34071,34072,34073,34074];let S0e=(()=>{class n extends Xp{get[Symbol.toStringTag](){return"TextureCube"}constructor(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};U1(t),super(t,Object.assign({},i,{target:34067})),this.initialize(i),Object.seal(this)}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mipmaps:i=!0,parameters:r={}}=t;return this.opts=t,this.setCubeMapImageData(t).then(()=>{this.loaded=!0,i&&this.generateMipmap(t),this.setParameters(r)}),this}subImage(t){let{face:i,data:r,x:o=0,y:s=0,mipmapLevel:a=0}=t;return this._subImage({target:i,data:r,x:o,y:s,mipmapLevel:a})}setCubeMapImageData(t){var i=this;return D(function*(){let{width:r,height:o,pixels:s,data:a,border:c=0,format:l=6408,type:d=5121}=t;const{gl:h}=i,f=s||a,m=yield Promise.all(JP.map(g=>{const v=f[g];return Promise.all(Array.isArray(v)?v:[v])}));i.bind(),JP.forEach((g,v)=>{m[v].length>1&&!1!==i.opts.mipmaps&&Nn.warn("".concat(i.id," has mipmap and multiple LODs."))(),m[v].forEach((E,L)=>{r&&o?h.texImage2D(g,L,l,r,o,c,l,d,E):h.texImage2D(g,L,l,l,d,E)})}),i.unbind()})()}setImageDataForFace(t){const{face:i,width:r,height:o,pixels:s,data:a,border:c=0,format:l=6408,type:d=5121}=t,{gl:h}=this,f=s||a;return this.bind(),f instanceof Promise?f.then(m=>this.setImageDataForFace(Object.assign({},t,{face:i,data:m,pixels:m}))):this.width||this.height?h.texImage2D(i,0,l,r,o,c,l,d,f):h.texImage2D(i,0,l,l,d,f),this}}return n.FACES=JP,n})();class A0e extends Xp{get[Symbol.toStringTag](){return"Texture3D"}static isSupported(e){return Pi(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ea(e),t=Object.assign({depth:1},t,{target:32879,unpackFlipY:!1}),super(e,t),this.initialize(t),Object.seal(this)}setImageData(e){let{level:t=0,dataFormat:i=6408,width:r,height:o,depth:s=1,border:a=0,format:c,type:l=5121,offset:d=0,data:h,parameters:f={}}=e;return this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),dl(this.gl,f,()=>{ArrayBuffer.isView(h)&&this.gl.texImage3D(this.target,t,i,r,o,s,a,c,l,h),h instanceof Ar&&(this.gl.bindBuffer(35052,h.handle),this.gl.texImage3D(this.target,t,i,r,o,s,a,c,l,d))}),this._trackAllocatedMemory(h&&h.byteLength?h.byteLength:this.width*this.height*this.depth*(U9[this.dataFormat]||4)*(V9[this.type]||1),"Texture"),this.loaded=!0,this}}function M0e(n,e){const{gl:t,width:i,height:r,id:o}=n;return new is(t,Object.assign({},e,{id:"framebuffer-for-".concat(o),width:i,height:r,attachments:{36064:n}}))}function V1(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{sourceX:t=0,sourceY:i=0,sourceFormat:r=6408}=e;let{sourceAttachment:o=36064,target:s=null,sourceWidth:a,sourceHeight:c,sourceType:l}=e;const{framebuffer:d,deleteFramebuffer:h}=U0(n);gn(d);const{gl:f,handle:m,attachments:g}=d;a=a||d.width,c=c||d.height,36064===o&&null===m&&(o=1028),gn(g[o]),l=l||g[o].type,s=function D0e(n,e,t,i,r){if(n)return n;const o=j0(e=e||5121,{clamped:!1}),s=function C0e(n){switch(n){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return gn(!1),0}}(t);return new o(i*r*s)}(s,l,r,a,c),l=l||$P(s);const v=f.bindFramebuffer(36160,m);return f.readPixels(t,i,a,c,r,l,s),f.bindFramebuffer(36160,v||null),h&&d.delete(),s}function QP(n){let{sourceAttachment:e=36064,targetMaxHeight:t=Number.MAX_SAFE_INTEGER}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=V1(n,{sourceAttachment:e}),{width:r,height:o}=n;for(;o>t;)({data:i,width:r,height:o}=d0e({data:i,width:r,height:o}));!function l0e(n){let{data:e,width:t,height:i,bytesPerPixel:r=4,temp:o}=n;const s=t*r;o=o||new Uint8Array(s);for(let a=0;a<i/2;++a){const c=a*s,l=(i-a-1)*s;o.set(e.subarray(c,c+s)),e.copyWithin(c,l,l+s),e.set(o,l)}}({data:i,width:r,height:o});const s=document.createElement("canvas");s.width=r,s.height=o;const a=s.getContext("2d"),c=a.createImageData(r,o);return c.data.set(i),a.putImageData(c,0,0),s.toDataURL()}function U0(n){return n instanceof is?{framebuffer:n,deleteFramebuffer:!1}:{framebuffer:M0e(n),deleteFramebuffer:!0}}const X9={WEBGL2:[!1,!0],VERTEX_ARRAY_OBJECT:["OES_vertex_array_object",!0],TIMER_QUERY:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],INSTANCED_RENDERING:["ANGLE_instanced_arrays",!0],MULTIPLE_RENDER_TARGETS:["WEBGL_draw_buffers",!0],ELEMENT_INDEX_UINT32:["OES_element_index_uint",!0],BLEND_EQUATION_MINMAX:["EXT_blend_minmax",!0],FLOAT_BLEND:["EXT_float_blend"],COLOR_ENCODING_SRGB:["EXT_sRGB",!0],TEXTURE_DEPTH:["WEBGL_depth_texture",!0],TEXTURE_FLOAT:["OES_texture_float",!0],TEXTURE_HALF_FLOAT:["OES_texture_half_float",!0],TEXTURE_FILTER_LINEAR_FLOAT:["OES_texture_float_linear"],TEXTURE_FILTER_LINEAR_HALF_FLOAT:["OES_texture_half_float_linear"],TEXTURE_FILTER_ANISOTROPIC:["EXT_texture_filter_anisotropic"],COLOR_ATTACHMENT_RGBA32F:[function R0e(n){const e=new Hs(n,{format:6408,type:5126,dataFormat:6408}),t=new is(n,{id:"test-framebuffer",check:!1,attachments:{36064:e}}),i=t.getStatus();return e.delete(),t.delete(),36053===i},"EXT_color_buffer_float"],COLOR_ATTACHMENT_FLOAT:[!1,"EXT_color_buffer_float"],COLOR_ATTACHMENT_HALF_FLOAT:["EXT_color_buffer_half_float"],GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},O0e=2;function ZP(n,e){return K9(n,e)}function K9(n,e){return(e=Array.isArray(e)?e:[e]).every(t=>J9(n,t))}function J9(n,e){return n.luma=n.luma||{},n.luma.caps=n.luma.caps||{},void 0===n.luma.caps[e]&&(n.luma.caps[e]=function P0e(n,e){const t=X9[e];let i;gn(t,e);const r=Pi(n)&&t[1]||t[0];if("function"==typeof r)i=r(n);else if(Array.isArray(r)){i=!0;for(const o of r)i=i&&!!n.getExtension(o)}else"string"==typeof r?i=!!n.getExtension(r):"boolean"==typeof r?i=r:gn(!1);return i}(n,e)),n.luma.caps[e]||Nn.log(O0e,"Feature: ".concat(e," not supported"))(),n.luma.caps[e]}const Q9="Multiple render targets not supported";class is extends ju{get[Symbol.toStringTag](){return"Framebuffer"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{colorBufferFloat:i,colorBufferHalfFloat:r}=t;let o=!0;return i&&(o=!!(e.getExtension("EXT_color_buffer_float")||e.getExtension("WEBGL_color_buffer_float")||e.getExtension("OES_texture_float"))),r&&(o=o&&!(!e.getExtension("EXT_color_buffer_float")&&!e.getExtension("EXT_color_buffer_half_float"))),o}static getDefaultFramebuffer(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new is(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer}get MAX_COLOR_ATTACHMENTS(){const e=Ea(this.gl);return e.getParameter(e.MAX_COLOR_ATTACHMENTS)}get MAX_DRAW_BUFFERS(){const e=Ea(this.gl);return e.getParameter(e.MAX_DRAW_BUFFERS)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.width=null,this.height=null,this.attachments={},this.readBuffer=36064,this.drawBuffers=[36064],this.ownResources=[],this.initialize(t),Object.seal(this)}get color(){return this.attachments[36064]||null}get texture(){return this.attachments[36064]||null}get depth(){return this.attachments[36096]||this.attachments[33306]||null}get stencil(){return this.attachments[36128]||this.attachments[33306]||null}initialize(e){let{width:t=1,height:i=1,attachments:r=null,color:o=!0,depth:s=!0,stencil:a=!1,check:c=!0,readBuffer:l,drawBuffers:d}=e;if(gn(t>=0&&i>=0,"Width and height need to be integers"),this.width=t,this.height=i,r)for(const h in r){const f=r[h];(Array.isArray(f)?f[0]:f).resize({width:t,height:i})}else r=this._createDefaultAttachments(o,s,a,t,i);this.update({clearAttachments:!0,attachments:r,readBuffer:l,drawBuffers:d}),r&&c&&this.checkStatus()}delete(){for(const e of this.ownResources)e.delete();return super.delete(),this}update(e){let{attachments:t={},readBuffer:i,drawBuffers:r,clearAttachments:o=!1,resizeAttachments:s=!0}=e;this.attach(t,{clearAttachments:o,resizeAttachments:s});const{gl:a}=this,c=a.bindFramebuffer(36160,this.handle);return i&&this._setReadBuffer(i),r&&this._setDrawBuffers(r),a.bindFramebuffer(36160,c||null),this}resize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{width:t,height:i}=e;if(null===this.handle)return gn(void 0===t&&void 0===i),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;void 0===t&&(t=this.gl.drawingBufferWidth),void 0===i&&(i=this.gl.drawingBufferHeight),t!==this.width&&i!==this.height&&Nn.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(t,"x").concat(i))();for(const r in this.attachments)this.attachments[r].resize({width:t,height:i});return this.width=t,this.height=i,this}attach(e){let{clearAttachments:t=!1,resizeAttachments:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={};t&&Object.keys(this.attachments).forEach(s=>{r[s]=null}),Object.assign(r,e);const o=this.gl.bindFramebuffer(36160,this.handle);for(const s in r){gn(void 0!==s,"Misspelled framebuffer binding point?");const a=Number(s),c=r[a];let l=c;if(l)if(l instanceof z_)this._attachRenderbuffer({attachment:a,renderbuffer:l});else if(Array.isArray(c)){const[d,h=0,f=0]=c;l=d,this._attachTexture({attachment:a,texture:d,layer:h,level:f})}else this._attachTexture({attachment:a,texture:l,layer:0,level:0});else this._unattach(a);i&&l&&l.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,o||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter(s=>!this.attachments[s]).forEach(s=>{delete this.attachments[s]})}checkStatus(){const t=this.getStatus();if(36053!==t)throw new Error(function F0e(n){return(is.STATUS||{})[n]||"Framebuffer error ".concat(n)}(t));return this}getStatus(){const{gl:e}=this,t=e.bindFramebuffer(36160,this.handle),i=e.checkFramebufferStatus(36160);return e.bindFramebuffer(36160,t||null),i}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{color:t,depth:i,stencil:r,drawBuffers:o=[]}=e,s=this.gl.bindFramebuffer(36160,this.handle);return(t||i||r)&&KP(this.gl,{color:t,depth:i,stencil:r}),o.forEach((a,c)=>{!function E0e(n){let{framebuffer:e=null,buffer:t=G9,drawBuffer:i=0,value:r=[0,0,0,0]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ea(n),dl(n,{framebuffer:e},()=>{switch(t){case G9:switch(r.constructor){case Int32Array:n.clearBufferiv(t,i,r);break;case Uint32Array:n.clearBufferuiv(t,i,r);break;case Float32Array:default:n.clearBufferfv(t,i,r)}break;case 6145:n.clearBufferfv(6145,0,[r]);break;case 6146:n.clearBufferiv(6146,0,[r]);break;case 34041:const[o,s]=r;n.clearBufferfi(34041,0,o,s);break;default:gn(!1,Y9)}})}(this.gl,{drawBuffer:c,value:a})}),this.gl.bindFramebuffer(36160,s||null),this}readPixels(){return Nn.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}readPixelsToBuffer(){return Nn.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}copyToDataUrl(){return Nn.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}copyToImage(){return Nn.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}copyToTexture(){return Nn.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}blit(){return Nn.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}invalidate(e){let{attachments:t=[],x:i=0,y:r=0,width:o,height:s}=e;const a=Ea(this.gl),c=a.bindFramebuffer(36008,this.handle);return 0===i&&0===r&&void 0===o&&void 0===s?a.invalidateFramebuffer(36008,t):a.invalidateFramebuffer(36008,t,i,r,o,s),a.bindFramebuffer(36008,c),this}getAttachmentParameter(e,t,i){let r=this._getAttachmentParameterFallback(t);return null===r&&(this.gl.bindFramebuffer(36160,this.handle),r=this.gl.getFramebufferAttachmentParameter(36160,e,t),this.gl.bindFramebuffer(36160,null)),i&&r>1e3&&(r=nf(this.gl,r)),r}getAttachmentParameters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[];const r={};for(const o of i)r[t?nf(this.gl,o):o]=this.getAttachmentParameter(e,o,t);return r}getParameters(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=Object.keys(this.attachments),i={};for(const r of t){const o=Number(r);i[e?nf(this.gl,o):o]=this.getAttachmentParameters(o,e)}return i}show(){return typeof window<"u"&&window.open(QP(this),"luma-debug-texture"),this}log(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e>Nn.level||typeof window>"u")return this;t=t||"Framebuffer ".concat(this.id);const i=QP(this,{targetMaxHeight:100});return Nn.image({logLevel:e,message:t,image:i},t)(),this}bind(){let{target:e=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(e,this.handle),this}unbind(){let{target:e=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(e,null),this}_createDefaultAttachments(e,t,i,r,o){let s=null;return e&&(s=s||{},s[36064]=new Hs(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:r,height:o,mipmaps:!1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.ownResources.push(s[36064])),t&&i?(s=s||{},s[33306]=new z_(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:r,height:111}),this.ownResources.push(s[33306])):t?(s=s||{},s[36096]=new z_(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:r,height:o}),this.ownResources.push(s[36096])):i&&gn(!1),s}_unattach(e){const t=this.attachments[e];t&&(t instanceof z_?this.gl.framebufferRenderbuffer(36160,e,36161,null):this.gl.framebufferTexture2D(36160,e,3553,null,0),delete this.attachments[e])}_attachRenderbuffer(e){let{attachment:t=36064,renderbuffer:i}=e;const{gl:r}=this;r.framebufferRenderbuffer(36160,t,36161,i.handle),this.attachments[t]=i}_attachTexture(e){let{attachment:t=36064,texture:i,layer:r,level:o}=e;const{gl:s}=this;switch(s.bindTexture(i.target,i.handle),i.target){case 35866:case 32879:Ea(s).framebufferTextureLayer(36160,t,i.target,o,r);break;case 34067:const c=function N0e(n){return n<34069?n+34069:n}(r);s.framebufferTexture2D(36160,t,c,i.handle,o);break;case 3553:s.framebufferTexture2D(36160,t,3553,i.handle,o);break;default:gn(!1,"Illegal texture type")}s.bindTexture(i.target,null),this.attachments[t]=i}_setReadBuffer(e){const t=function uve(n){return Pi(n)?n:null}(this.gl);t?t.readBuffer(e):gn(36064===e||1029===e,Q9),this.readBuffer=e}_setDrawBuffers(e){const{gl:t}=this,i=Ea(t);if(i)i.drawBuffers(e);else{const r=t.getExtension("WEBGL_draw_buffers");r?r.drawBuffersWEBGL(e):gn(1===e.length&&(36064===e[0]||1029===e[0]),Q9)}this.drawBuffers=e}_getAttachmentParameterFallback(e){const t=function k0e(n){n.luma=n.luma||{},n.luma.caps=n.luma.caps||{};for(const e in X9)void 0===n.luma.caps[e]&&(n.luma.caps[e]=J9(n,e));return n.luma.caps}(this.gl);switch(e){case 36052:return t.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return t.WEBGL2?null:8;case 33297:return t.WEBGL2?null:5125;case 33296:return t.WEBGL2||t.EXT_sRGB?null:9729;default:return null}}_createHandle(){return this.gl.createFramebuffer()}_deleteHandle(){this.gl.deleteFramebuffer(this.handle)}_bindHandle(e){return this.gl.bindFramebuffer(36160,e)}}is.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303];const B0e={5126:Kr.bind(null,"uniform1fv",Pc,1,Ca),35664:Kr.bind(null,"uniform2fv",Pc,2,Ca),35665:Kr.bind(null,"uniform3fv",Pc,3,Ca),35666:Kr.bind(null,"uniform4fv",Pc,4,Ca),5124:Kr.bind(null,"uniform1iv",rf,1,Ca),35667:Kr.bind(null,"uniform2iv",rf,2,Ca),35668:Kr.bind(null,"uniform3iv",rf,3,Ca),35669:Kr.bind(null,"uniform4iv",rf,4,Ca),35670:Kr.bind(null,"uniform1iv",rf,1,Ca),35671:Kr.bind(null,"uniform2iv",rf,2,Ca),35672:Kr.bind(null,"uniform3iv",rf,3,Ca),35673:Kr.bind(null,"uniform4iv",rf,4,Ca),35674:Kr.bind(null,"uniformMatrix2fv",Pc,4,Uu),35675:Kr.bind(null,"uniformMatrix3fv",Pc,9,Uu),35676:Kr.bind(null,"uniformMatrix4fv",Pc,16,Uu),35678:Gs,35680:Gs,5125:Kr.bind(null,"uniform1uiv",z1,1,Ca),36294:Kr.bind(null,"uniform2uiv",z1,2,Ca),36295:Kr.bind(null,"uniform3uiv",z1,3,Ca),36296:Kr.bind(null,"uniform4uiv",z1,4,Ca),35685:Kr.bind(null,"uniformMatrix2x3fv",Pc,6,Uu),35686:Kr.bind(null,"uniformMatrix2x4fv",Pc,8,Uu),35687:Kr.bind(null,"uniformMatrix3x2fv",Pc,6,Uu),35688:Kr.bind(null,"uniformMatrix3x4fv",Pc,12,Uu),35689:Kr.bind(null,"uniformMatrix4x2fv",Pc,8,Uu),35690:Kr.bind(null,"uniformMatrix4x3fv",Pc,12,Uu),35678:Gs,35680:Gs,35679:Gs,35682:Gs,36289:Gs,36292:Gs,36293:Gs,36298:Gs,36299:Gs,36300:Gs,36303:Gs,36306:Gs,36307:Gs,36308:Gs,36311:Gs},j0e={},U0e={},V0e={},Z9=[0];function e2(n,e,t,i){1===e&&"boolean"==typeof n&&(n=n?1:0),Number.isFinite(n)&&(Z9[0]=n,n=Z9);const r=n.length;if(r%e&&Nn.warn("Uniform size should be multiples of ".concat(e),n)(),n instanceof t)return n;let o=i[r];o||(o=new t(r),i[r]=o);for(let s=0;s<r;s++)o[s]=n[s];return o}function Pc(n,e){return e2(n,e,Float32Array,j0e)}function rf(n,e){return e2(n,e,Int32Array,U0e)}function z1(n,e){return e2(n,e,Uint32Array,V0e)}function eW(n,e,t){const i=B0e[t.type];if(!i)throw new Error("Unknown GLSL uniform type ".concat(t.type));return i().bind(null,n,e)}function z0e(n){if("]"!==n[n.length-1])return{name:n,length:1,isArray:!1};const t=n.match(/([^[]*)(\[[0-9]+\])?/);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(n));return{name:t[1],length:t[2]||1,isArray:!!t[2]}}function G0e(n){return Array.isArray(n)||ArrayBuffer.isView(n)?function $0e(n){if(0===n.length)return!1;const e=Math.min(n.length,16);for(let t=0;t<e;++t)if(!Number.isFinite(n[t]))return!1;return!0}(n):!!(isFinite(n)||!0===n||!1===n||n instanceof Xp||n instanceof z_)||n instanceof is&&!!n.texture}function W0e(n,e,t){if(Array.isArray(t)||ArrayBuffer.isView(t))if(n[e]){const i=n[e];for(let r=0,o=t.length;r<o;++r)i[r]=t[r]}else n[e]=t.slice();else n[e]=t}function Gs(){let n=null;return(e,t,i)=>{const r=n!==i;return r&&(e.uniform1i(t,i),n=i),r}}function Kr(n,e,t,i){let r=null,o=null;return(s,a,c)=>{const l=e(c,t),d=l.length;let h=!1;if(null===r)r=new Float32Array(d),o=d,h=!0;else{gn(o===d,"Uniform length cannot change.");for(let f=0;f<d;++f)if(l[f]!==r[f]){h=!0;break}}return h&&(i(s,n,a,l),r.set(l)),h}}function Ca(n,e,t,i){n[e](t,i)}function Uu(n,e,t,i){n[e](t,!1,i)}function H1(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed";const i=n.match(/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/);return i?i[1]:e}function nW(n,e){let t="";for(let i=0;i<e.length;i++)if((n[i+3]||n[i+2]||n[i+1])&&(t+="".concat(e[i],"\n"),n[i+1])){const o=n[i+1],s=o.split(":",3),a=s[0],c=parseInt(s[1],10)||0,l=o.substring(s.join(":").length+1).trim();t+=iW("^^^ ".concat(a,": ").concat(l,"\n\n"),c)}return t}function iW(n,e){let t="";for(let i=0;i<e;++i)t+=" ";return"".concat(t).concat(n)}class V0 extends ju{get[Symbol.toStringTag](){return"Shader"}static getTypeName(e){switch(e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return gn(!1),"unknown"}}constructor(e,t){U1(e),gn("string"==typeof t.source,"Shader: GLSL source code must be a JavaScript string"),super(e,{id:H1(t.source,null)||t.id||lc("unnamed ".concat(V0.getTypeName(t.shaderType)))}),this.shaderType=t.shaderType,this.source=t.source,this.initialize(t)}initialize(e){let{source:t}=e;const i=H1(t,null);i&&(this.id=lc(i)),this._compile(t)}getParameter(e){return this.gl.getShaderParameter(this.handle,e)}toString(){return"".concat(V0.getTypeName(this.shaderType),":").concat(this.id)}getName(){return H1(this.source)||"unnamed-shader"}getSource(){return this.gl.getShaderSource(this.handle)}getTranslatedSource(){const e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}_compile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;if(e.startsWith("#version ")||(e="#version 100\n".concat(e)),this.source=e,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle),!this.getParameter(35713)){const i=this.gl.getShaderInfoLog(this.handle),{shaderName:r,errors:o,warnings:s}=function tW(n,e,t,i){const r=n.split(/\r?\n/),o={},s={},a=i||H1(e)||"(unnamed)",c="".concat(function X0e(n){switch(n){case 35632:return"fragment";case 35633:return"vertex";default:return"unknown type"}}(t)," shader ").concat(a);for(let d=0;d<r.length;d++){const h=r[d];if(h.length<=1)continue;const f=h.split(":"),m=f[0],g=parseInt(f[2],10);if(isNaN(g))throw new Error("GLSL compilation error in ".concat(c,": ").concat(n));"WARNING"!==m?o[g]=h:s[g]=h}const l=function K0e(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ";const i=n.split(/\r?\n/),r=String(i.length+e-1).length;return i.map((o,s)=>{const a=String(s+e);return iW(a,r-a.length)+t+o})}(e);return{shaderName:c,errors:nW(o,l),warnings:nW(s,l)}}(i,this.source,this.shaderType,this.id);throw Nn.error("GLSL compilation errors in ".concat(r,"\n").concat(o))(),Nn.warn("GLSL compilation warnings in ".concat(r,"\n").concat(s))(),new Error("GLSL compilation errors in ".concat(r))}}_deleteHandle(){this.gl.deleteShader(this.handle)}_getOptsFromHandle(){return{type:this.getParameter(35663),source:this.getSource()}}}class t2 extends V0{get[Symbol.toStringTag](){return"VertexShader"}constructor(e,t){"string"==typeof t&&(t={source:t}),super(e,Object.assign({},t,{shaderType:35633}))}_createHandle(){return this.gl.createShader(35633)}}class n2 extends V0{get[Symbol.toStringTag](){return"FragmentShader"}constructor(e,t){"string"==typeof t&&(t={source:t}),super(e,Object.assign({},t,{shaderType:35632}))}_createHandle(){return this.gl.createShader(35632)}}const Q0e=5120,Z0e=5121,ewe=5122,twe=5123,gs=5126,z0=5124,H0=5125,r2={[gs]:[gs,1,"float"],35664:[gs,2,"vec2"],35665:[gs,3,"vec3"],35666:[gs,4,"vec4"],[z0]:[z0,1,"int"],35667:[z0,2,"ivec2"],35668:[z0,3,"ivec3"],35669:[z0,4,"ivec4"],[H0]:[H0,1,"uint"],36294:[H0,2,"uvec2"],36295:[H0,3,"uvec3"],36296:[H0,4,"uvec4"],35670:[gs,1,"bool"],35671:[gs,2,"bvec2"],35672:[gs,3,"bvec3"],35673:[gs,4,"bvec4"],35674:[gs,8,"mat2"],35685:[gs,8,"mat2x3"],35686:[gs,8,"mat2x4"],35675:[gs,12,"mat3"],35687:[gs,12,"mat3x2"],35688:[gs,12,"mat3x4"],35676:[gs,16,"mat4"],35689:[gs,16,"mat4x2"],35690:[gs,16,"mat4x3"]};function lW(n){const e=r2[n];if(!e)return null;const[t,i]=e;return{type:t,components:i}}function dW(n,e){switch(n){case Q0e:case Z0e:case ewe:case twe:n=gs}for(const t in r2){const[i,r,o]=r2[t];if(i===n&&r===e)return{glType:t,name:o}}return null}class Swe{constructor(e){this.id=e.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(e),this._readVaryingsFromProgram(e)}getAttributeInfo(e){const t=Number(e);return Number.isFinite(t)?this.attributeInfosByLocation[t]:this.attributeInfosByName[e]||null}getAttributeLocation(e){const t=this.getAttributeInfo(e);return t?t.location:-1}getAttributeAccessor(e){const t=this.getAttributeInfo(e);return t?t.accessor:null}getVaryingInfo(e){const t=Number(e);return Number.isFinite(t)?this.varyingInfos[t]:this.varyingInfosByName[e]||null}getVaryingIndex(e){const t=this.getVaryingInfo();return t?t.location:-1}getVaryingAccessor(e){const t=this.getVaryingInfo();return t?t.accessor:null}_readAttributesFromProgram(e){const{gl:t}=e,i=t.getProgramParameter(e.handle,35721);for(let r=0;r<i;r++){const{name:o,type:s,size:a}=t.getActiveAttrib(e.handle,r),c=t.getAttribLocation(e.handle,o);c>=0&&this._addAttribute(c,o,s,a)}this.attributeInfos.sort((r,o)=>r.location-o.location)}_readVaryingsFromProgram(e){const{gl:t}=e;if(!Pi(t))return;const i=t.getProgramParameter(e.handle,35971);for(let r=0;r<i;r++){const{name:o,type:s,size:a}=t.getTransformFeedbackVarying(e.handle,r);this._addVarying(r,o,s,a)}this.varyingInfos.sort((r,o)=>r.location-o.location)}_addAttribute(e,t,i,r){const{type:o,components:s}=lW(i),a={type:o,size:r*s};this._inferProperties(e,t,a);const c={location:e,name:t,accessor:new dc(a)};this.attributeInfos.push(c),this.attributeInfosByLocation[e]=c,this.attributeInfosByName[c.name]=c}_inferProperties(e,t,i){/instance/i.test(t)&&(i.divisor=1)}_addVarying(e,t,i,r){const{type:o,components:s}=lW(i),c={location:e,name:t,accessor:new dc({type:o,size:r*s})};this.varyingInfos.push(c),this.varyingInfosByName[c.name]=c}}const Awe=35981,Twe=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"];class hW extends ju{get[Symbol.toStringTag](){return"Program"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.stubRemovedMethods("Program","v6.0",Twe),this._isCached=!1,this.initialize(t),Object.seal(this),this._setId(t.id)}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{hash:t,vs:i,fs:r,varyings:o,bufferMode:s=Awe}=e;return this.hash=t||"",this.vs="string"==typeof i?new t2(this.gl,{id:"".concat(e.id,"-vs"),source:i}):i,this.fs="string"==typeof r?new n2(this.gl,{id:"".concat(e.id,"-fs"),source:r}):r,gn(this.vs instanceof t2),gn(this.fs instanceof n2),this.uniforms={},this._textureUniforms={},o&&o.length>0&&(Ea(this.gl),this.varyings=o,this.gl2.transformFeedbackVaryings(this.handle,o,s)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new Swe(this),this.setProps(e)}delete(){return this._isCached?this:super.delete(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}setProps(e){return"uniforms"in e&&this.setUniforms(e.uniforms),this}draw(e){let{logPriority:t,drawMode:i=4,vertexCount:r,offset:o=0,start:s,end:a,isIndexed:c=!1,indexType:l=5123,instanceCount:d=0,isInstanced:h=d>0,vertexArray:f=null,transformFeedback:m,framebuffer:g,parameters:v={},uniforms:E,samplers:L}=e;if((E||L)&&(Nn.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(E||{})),Nn.priority>=t){const H=g?g.id:"default",le="mode=".concat(nf(this.gl,i)," verts=").concat(r," ")+"instances=".concat(d," indexType=").concat(nf(this.gl,l)," ")+"isInstanced=".concat(h," isIndexed=").concat(c," ")+"Framebuffer=".concat(H);Nn.log(t,le)()}return gn(f),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===r||h&&0===d||(f.bindForDraw(r,d,()=>{if(void 0!==g&&(v=Object.assign({},v,{framebuffer:g})),m){const H=function cW(n){switch(n){case 0:return 0;case 1:case 3:case 2:return 1;case 4:case 5:case 6:return 4;default:return gn(!1),0}}(i);m.begin(H)}this._bindTextures(),dl(this.gl,v,()=>{c&&h?this.gl2.drawElementsInstanced(i,r,l,o,d):c&&Pi(this.gl)&&!isNaN(s)&&!isNaN(a)?this.gl2.drawRangeElements(i,s,a,r,l,o):c?this.gl.drawElements(i,r,l,o):h?this.gl2.drawArraysInstanced(i,o,r,d):this.gl.drawArrays(i,o,r)}),m&&m.end()}),0))}setUniforms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Nn.priority>=2&&function H0e(n,e,t){for(const i in n){const r=n[i];if((!t||t[i])&&!G0e(r))throw e=e?"".concat(e," "):"",console.error("".concat(e," Bad uniform ").concat(i),r),new Error("".concat(e," Bad uniform ").concat(i))}}(e,this.id,this._uniformSetters),this.gl.useProgram(this.handle);for(const t in e){const i=e[t],r=this._uniformSetters[t];if(r){let o=i,s=!1;if(o instanceof is&&(o=o.texture),o instanceof Xp)if(s=this.uniforms[t]!==i,s){void 0===r.textureIndex&&(r.textureIndex=this._textureIndexCounter++);const a=o,{textureIndex:c}=r;a.bind(c),o=c,this._textureUniforms[t]=a}else o=r.textureIndex;else this._textureUniforms[t]&&delete this._textureUniforms[t];(r(o)||s)&&W0e(this.uniforms,t,i)}}return this}_areTexturesRenderable(){let e=!0;for(const t in this._textureUniforms){const i=this._textureUniforms[t];i.update(),e=e&&i.loaded}return e}_bindTextures(){for(const e in this._textureUniforms)this._textureUniforms[e].bind(this._uniformSetters[e].textureIndex)}_createHandle(){return this.gl.createProgram()}_deleteHandle(){this.gl.deleteProgram(this.handle)}_getOptionsFromHandle(e){const t=this.gl.getAttachedShaders(e),i={};for(const r of t)switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:i.vs=new t2({handle:r});break;case 35632:i.fs=new n2({handle:r})}return i}_getParameter(e){return this.gl.getProgramParameter(this.handle,e)}_setId(e){if(!e){const t=this._getName();this.id=lc(t)}}_getName(){let e=this.vs.getName()||this.fs.getName();return e=e.replace(/shader/i,""),e=e?"".concat(e,"-program"):"program",e}_compileAndLink(){const{gl:e}=this;if(e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),Nn.time(4,"linkProgram for ".concat(this._getName()))(),e.linkProgram(this.handle),Nn.timeEnd(4,"linkProgram for ".concat(this._getName()))(),e.debug||Nn.level>0){if(!e.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(e.getProgramInfoLog(this.handle)));if(e.validateProgram(this.handle),!e.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(e.getProgramInfoLog(this.handle)))}}_readUniformLocationsFromLinkedProgram(){const{gl:e}=this;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(let t=0;t<this._uniformCount;t++){const i=this.gl.getActiveUniform(this.handle,t),{name:r}=z0e(i.name);let o=e.getUniformLocation(this.handle,r);if(this._uniformSetters[r]=eW(e,o,i),i.size>1)for(let s=0;s<i.size;s++)o=e.getUniformLocation(this.handle,"".concat(r,"[").concat(s,"]")),this._uniformSetters["".concat(r,"[").concat(s,"]")]=eW(e,o,i)}this._textureIndexCounter=0}getActiveUniforms(e,t){return this.gl2.getActiveUniforms(this.handle,e,t)}getUniformBlockIndex(e){return this.gl2.getUniformBlockIndex(this.handle,e)}getActiveUniformBlockParameter(e,t){return this.gl2.getActiveUniformBlockParameter(this.handle,e,t)}uniformBlockBinding(e,t){this.gl2.uniformBlockBinding(this.handle,e,t)}}class G0{static getDefaultProgramManager(e){return e.luma=e.luma||{},e.luma.defaultProgramManager=e.luma.defaultProgramManager||new G0(e),e.luma.defaultProgramManager}constructor(e){this.gl=e,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}addDefaultModule(e){this._defaultModules.find(t=>t.name===e.name)||this._defaultModules.push(e),this.stateHash++}removeDefaultModule(e){const t="string"==typeof e?e:e.name;this._defaultModules=this._defaultModules.filter(i=>i.name!==t),this.stateHash++}addShaderHook(e,t){t&&(e=Object.assign(t,{hook:e})),this._hookFunctions.push(e),this.stateHash++}get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{vs:t="",fs:i="",defines:r={},inject:o={},varyings:s=[],bufferMode:a=35981,transpileToGLSL100:c=!1}=e,l=this._getModuleList(e.modules),d=this._getHash(t),h=this._getHash(i),f=l.map(le=>this._getHash(le.name)).sort(),m=s.map(le=>this._getHash(le)),g=Object.keys(r).sort(),v=Object.keys(o).sort(),E=[],L=[];for(const le of g)E.push(this._getHash(le)),E.push(this._getHash(r[le]));for(const le of v)L.push(this._getHash(le)),L.push(this._getHash(o[le]));const H="".concat(d,"/").concat(h,"D").concat(E.join("/"),"M").concat(f.join("/"),"I").concat(L.join("/"),"V").concat(m.join("/"),"H").concat(this.stateHash,"B").concat(a).concat(c?"T":"");if(!this._programCache[H]){const le=function nve(n,e){const{vs:t,fs:i}=e,r=Rye(e.modules||[]);return{gl:n,vs:_9(n,Object.assign({},e,{source:t,type:P0,modules:r})),fs:_9(n,Object.assign({},e,{source:i,type:"fs",modules:r})),getUniforms:ive(r)}}(this.gl,{vs:t,fs:i,modules:l,inject:o,defines:r,hookFunctions:this._hookFunctions,transpileToGLSL100:c});this._programCache[H]=new hW(this.gl,{hash:H,vs:le.vs,fs:le.fs,varyings:s,bufferMode:a}),this._getUniforms[H]=le.getUniforms||(se=>{}),this._useCounts[H]=0}return this._useCounts[H]++,this._programCache[H]}getUniforms(e){return this._getUniforms[e.hash]||null}release(e){const t=e.hash;this._useCounts[t]--,0===this._useCounts[t]&&(this._programCache[t].delete(),delete this._programCache[t],delete this._getUniforms[t],delete this._useCounts[t])}_getHash(e){return void 0===this._hashes[e]&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}_getModuleList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=new Array(this._defaultModules.length+e.length),i={};let r=0;for(let o=0,s=this._defaultModules.length;o<s;++o){const a=this._defaultModules[o],c=a.name;t[r++]=a,i[c]=!0}for(let o=0,s=e.length;o<s;++o){const a=e[o],c=a.name;i[c]||(t[r++]=a,i[c]=!0)}return t.length=r,t}}const Mwe=[255,255,255],Iwe=1;let Dwe=0;class fW{constructor(e={}){ve(this,"id",void 0),ve(this,"color",void 0),ve(this,"intensity",void 0),ve(this,"type","ambient");const{color:t=Mwe}=e,{intensity:i=Iwe}=e;this.id=e.id||"ambient-".concat(Dwe++),this.color=t,this.intensity=i}}const Rwe=[255,255,255],Owe=1,kwe=[0,0,-1];let Pwe=0;class pW{constructor(e={}){ve(this,"id",void 0),ve(this,"color",void 0),ve(this,"intensity",void 0),ve(this,"type","directional"),ve(this,"direction",void 0),ve(this,"shadow",void 0);const{color:t=Rwe}=e,{intensity:i=Owe}=e,{direction:r=kwe}=e,{_shadow:o=!1}=e;this.id=e.id||"directional-".concat(Pwe++),this.color=t,this.intensity=i,this.type="directional",this.direction=new xa(r).normalize().toArray(),this.shadow=o}getProjectedLight(e){return this}}class Nwe{constructor(e,t={id:"pass"}){ve(this,"id",void 0),ve(this,"gl",void 0),ve(this,"props",void 0);const{id:i}=t;this.id=i,this.gl=e,this.props={...t}}setProps(e){Object.assign(this.props,e)}render(e){}cleanup(){}}class W1 extends Nwe{constructor(...e){super(...e),ve(this,"_lastRenderIndex",-1)}render(e){return Bu(this.gl,{framebuffer:e.target}),this._drawLayers(e)}_drawLayers(e){const{target:t,moduleParameters:i,viewports:r,views:o,onViewportActive:s,clearStack:a=!0,clearCanvas:c=!0}=e;e.pass=e.pass||"unknown";const l=this.gl;c&&function Lwe(n){Bu(n,{viewport:[0,0,n.drawingBufferWidth,n.drawingBufferHeight]}),n.clear(16640)}(l),a&&(this._lastRenderIndex=-1);const d=[];for(const h of r){const f=o&&o[h.id];s(h);const m=this._getDrawLayerParams(h,e),g=h.subViewports||[h];for(const v of g){const E=this._drawLayersInViewport(l,{target:t,moduleParameters:i,viewport:v,view:f,pass:e.pass,layers:e.layers},m);d.push(E)}}return d}_getDrawLayerParams(e,{layers:t,pass:i,layerFilter:r,cullRect:o,effects:s,moduleParameters:a}){const c=[],l=mW(this._lastRenderIndex+1),d={layer:t[0],viewport:e,isPicking:i.startsWith("picking"),renderPass:i,cullRect:o},h={};for(let f=0;f<t.length;f++){const m=t[f],g=this._shouldDrawLayer(m,d,r,h),v={shouldDrawLayer:g};g&&(v.layerRenderIndex=l(m,g),v.moduleParameters=this._getModuleParameters(m,s,i,a),v.layerParameters=this.getLayerParameters(m,f,e)),c[f]=v}return c}_drawLayersInViewport(e,{layers:t,moduleParameters:i,pass:r,target:o,viewport:s,view:a},c){const l=function Fwe(n,{moduleParameters:e,target:t,viewport:i}){const r=t&&"default-framebuffer"!==t.id,o=e&&e.devicePixelRatio||j_(n);return[i.x*o,(r?t.height:n.drawingBufferHeight)-(i.y+i.height)*o,i.width*o,i.height*o]}(e,{moduleParameters:i,target:o,viewport:s});if(a&&a.props.clear){const h=!0===a.props.clear?{color:!0,depth:!0}:a.props.clear;dl(e,{scissorTest:!0,scissor:l},()=>KP(e,h))}const d={totalCount:t.length,visibleCount:0,compositeCount:0,pickableCount:0};Bu(e,{viewport:l});for(let h=0;h<t.length;h++){const f=t[h],{shouldDrawLayer:m,layerRenderIndex:g,moduleParameters:v,layerParameters:E}=c[h];if(m&&f.props.pickable&&d.pickableCount++,f.isComposite)d.compositeCount++;else if(m){d.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,g),v.viewport=s;try{f._drawLayer({moduleParameters:v,uniforms:{layerIndex:g},parameters:E})}catch(L){f.raiseError(L,"drawing ".concat(f," to ").concat(r))}}}return d}shouldDrawLayer(e){return!0}getModuleParameters(e,t){return null}getLayerParameters(e,t,i){return e.props.parameters}_shouldDrawLayer(e,t,i,r){if(!e.props.visible||!this.shouldDrawLayer(e))return!1;t.layer=e;let s=e.parent;for(;s;){if(!s.props.visible||!s.filterSubLayer(t))return!1;t.layer=s,s=s.parent}if(i){const a=t.layer.id;if(a in r||(r[a]=i(t)),!r[a])return!1}return e.activateViewport(t.viewport),!0}_getModuleParameters(e,t,i,r){var o;const s=Object.assign(Object.create((null===(o=e.internalState)||void 0===o?void 0:o.propsInTransition)||e.props),{autoWrapLongitude:e.wrapLongitude,viewport:e.context.viewport,mousePosition:e.context.mousePosition,pickingActive:0,devicePixelRatio:j_(this.gl)});if(t)for(const c of t){var a;Object.assign(s,null===(a=c.getModuleParameters)||void 0===a?void 0:a.call(c,e))}return Object.assign(s,this.getModuleParameters(e,t),r)}}function mW(n=0,e={}){const t={},i=(r,o)=>{const s=r.props._offset,a=r.id,c=r.parent&&r.parent.id;let l;if(c&&!(c in e)&&i(r.parent,!1),c in t){const d=t[c]=t[c]||mW(e[c],e);l=d(r,o),t[a]=d}else Number.isFinite(s)?(l=s+(e[c]||0),t[a]=null):l=n;return o&&l>=n&&(n=l+1),e[a]=l,l};return i}class Bwe extends W1{constructor(e,t){super(e,t),ve(this,"shadowMap",void 0),ve(this,"depthBuffer",void 0),ve(this,"fbo",void 0),this.shadowMap=new Hs(e,{width:1,height:1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.depthBuffer=new z_(e,{format:33189,width:1,height:1}),this.fbo=new is(e,{id:"shadowmap",width:1,height:1,attachments:{36064:this.shadowMap,36096:this.depthBuffer}})}render(e){const t=this.fbo;dl(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},()=>{const i=e.viewports[0],r=j_(this.gl),o=i.width*r,s=i.height*r;(o!==t.width||s!==t.height)&&t.resize({width:o,height:s}),super.render({...e,target:t,pass:"shadow"})})}shouldDrawLayer(e){return!1!==e.props.shadowEnabled}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}const gW="#define SMOOTH_EDGE_RADIUS 0.5",zwe={name:"geometry",vs:"\n".concat(gW,"\n\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0, 0.0, 1.0, 0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n"),fs:"\n".concat(gW,"\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n")},Hwe=Object.keys(Ji).map(n=>"const int COORDINATE_SYSTEM_".concat(n," = ").concat(Ji[n],";")).join(""),Gwe=Object.keys(Sd).map(n=>"const int PROJECTION_MODE_".concat(n," = ").concat(Sd[n],";")).join(""),Wwe=Object.keys(k1).map(n=>"const int UNIT_".concat(n.toUpperCase()," = ").concat(k1[n],";")).join(""),$we="".concat(Hwe,"\n").concat(Gwe,"\n").concat(Wwe,'\n\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0; // meters\nconst float GLOBE_RADIUS = 256.0;\n\n// returns an adjustment factor for uCommonUnitsPerMeter\nfloat project_size_at_latitude(float lat) {\n  float y = clamp(lat, -89.9, 89.9);\n  return 1.0 / cos(radians(y));\n}\n\nfloat project_size() {\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\n    project_uPseudoMeters == false) {\n\n    // uCommonUnitsPerMeter in low-zoom Web Mercator is non-linear\n    // Adjust by 1 / cos(latitude)\n    // If geometry.position (vertex in common space) is populated, use it\n    // Otherwise use geometry.worldPosition (anchor in world space)\n    \n    if (geometry.position.w == 0.0) {\n      return project_size_at_latitude(geometry.worldPosition.y);\n    }\n\n    // latitude from common y: 2.0 * (atan(exp(y / TILE_SIZE * 2.0 * PI - PI)) - PI / 4.0)\n    // Taylor series of 1 / cos(latitude)\n    // Max error < 0.003\n  \n    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\n    float y2 = y * y;\n    float y4 = y2 * y2;\n    float y6 = y4 * y2;\n    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n  }\n  return 1.0;\n}\n\nfloat project_size_at_latitude(float meters, float lat) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size_at_latitude(lat);\n}\n\n//\n// Scaling offsets - scales meters to "world distance"\n// Note the scalar version of project_size is for scaling the z component only\n//\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size();\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter * project_size();\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\n\n// Get rotation matrix that aligns the z axis with the given up vector\n// Find 3 unit vectors ux, uy, uz that are perpendicular to each other and uz == up\nmat3 project_get_orientation_matrix(vec3 up) {\n  vec3 uz = normalize(up);\n  // Tangent on XY plane\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\n  vec3 uy = cross(uz, ux);\n  return mat3(ux, uy, uz);\n}\n\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    transform = project_get_orientation_matrix(commonPosition);\n    return true;\n  }\n  return false;\n}\n\n//\n// Projecting normal - transform deltas from current coordinate system to\n// normals in the worldspace\n//\nvec3 project_normal(vec3 vector) {\n  // Apply model matrix\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n  mat3 rotation;\n  if (project_needs_rotation(geometry.position.xyz, rotation)) {\n    n = rotation * n;\n  }\n  return n;\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\n\n//\n// Projecting positions - non-linear projection: lnglats => unit tile [0-1, 0-1]\n//\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x + 180., 360.0) - 180.;\n  }\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\nvec3 project_globe_(vec3 lnglatz) {\n  float lambda = radians(lnglatz.x);\n  float phi = radians(lnglatz.y);\n  float cosPhi = cos(phi);\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\n\n  return vec3(\n    sin(lambda) * cosPhi,\n    -cos(lambda) * cosPhi,\n    sin(phi)\n  ) * D;\n}\n\n//\n// Projects positions (defined by project_uCoordinateSystem) to common space (defined by project_uProjectionMode)\n//\nvec4 project_position(vec4 position, vec3 position64Low) {\n  vec4 position_world = project_uModelMatrix * position;\n\n  // Work around for a Mac+NVIDIA bug https://github.com/visgl/deck.gl/issues/4145\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_mercator_(position_world.xy),\n        project_size_at_latitude(position_world.z, position_world.y),\n        position_world.w\n      );\n    }\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\n      position_world.xyz += project_uCoordinateOrigin;\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_globe_(position_world.xyz),\n        position_world.w\n      );\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\n        // Too far from the projection center for offset mode to be accurate\n        // Only use high parts\n        return vec4(\n          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,\n          project_size(position_world.z),\n          position_world.w\n        );\n      }\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\n    // Subtract high part of 64 bit value. Convert remainder to float32, preserving precision.\n    position_world.xyz -= project_uCoordinateOrigin;\n  }\n\n  // Translation is already added to the high parts\n  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  return viewProjectionMatrix * position + center;\n}\n\n//\n// Projects from common space coordinates to clip space.\n// Uses project_uViewProjectionMatrix\n//\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\n\n// Returns a clip space offset that corresponds to a given number of screen pixels\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\n  if (unit == UNIT_METERS) return project_size_to_pixel(size);\n  if (unit == UNIT_COMMON) return size * project_uScale;\n  // UNIT_PIXELS\n  return size;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\n');function qwe(n,e){if(n===e)return!0;if(Array.isArray(n)){const t=n.length;if(!e||e.length!==t)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}return!1}function $1(n){let t,e={};return i=>{for(const r in i)if(!qwe(i[r],e[r])){t=n(i),e=i;break}return t}}const _W=[0,0,0,0],Ywe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],bW=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Xwe=[0,0,0],yW=[0,0,0],Kwe=$1(function Zwe({viewport:n,devicePixelRatio:e,coordinateSystem:t,coordinateOrigin:i}){const{projectionCenter:r,viewProjectionMatrix:o,originCommon:s,cameraPosCommon:a,shaderCoordinateOrigin:c,geospatialOrigin:l}=function Jwe(n,e,t){const{viewMatrixUncentered:i,projectionMatrix:r}=n;let{viewMatrix:o,viewProjectionMatrix:s}=n,a=_W,c=_W,l=n.cameraPosition;const{geospatialOrigin:d,shaderCoordinateOrigin:h,offsetMode:f}=vW(n,e,t);return f&&(c=n.projectPosition(d||h),l=[l[0]-c[0],l[1]-c[1],l[2]-c[2]],c[3]=1,a=D0([],c,s),o=i||o,s=Gp([],r,o),s=Gp([],s,Ywe)),{viewMatrix:o,viewProjectionMatrix:s,projectionCenter:a,originCommon:c,cameraPosCommon:l,shaderCoordinateOrigin:h,geospatialOrigin:d}}(n,t,i),d=n.getDistanceScales(),h=[n.width*e,n.height*e],f=D0([],[0,0,-n.focalDistance,1],n.projectionMatrix)[3]||1,m={project_uCoordinateSystem:t,project_uProjectionMode:n.projectionMode,project_uCoordinateOrigin:c,project_uCommonOrigin:s.slice(0,3),project_uCenter:r,project_uPseudoMeters:!!n._pseudoMeters,project_uViewportSize:h,project_uDevicePixelRatio:e,project_uFocalDistance:f,project_uCommonUnitsPerMeter:d.unitsPerMeter,project_uCommonUnitsPerWorldUnit:d.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:Xwe,project_uScale:n.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:o,project_uModelMatrix:bW,project_uCameraPosition:a};if(l){const g=n.getDistanceScales(l);switch(t){case Ji.METER_OFFSETS:m.project_uCommonUnitsPerWorldUnit=g.unitsPerMeter,m.project_uCommonUnitsPerWorldUnit2=g.unitsPerMeter2;break;case Ji.LNGLAT:case Ji.LNGLAT_OFFSETS:n._pseudoMeters||(m.project_uCommonUnitsPerMeter=g.unitsPerMeter),m.project_uCommonUnitsPerWorldUnit=g.unitsPerDegree,m.project_uCommonUnitsPerWorldUnit2=g.unitsPerDegree2;break;case Ji.CARTESIAN:m.project_uCommonUnitsPerWorldUnit=[1,1,g.unitsPerMeter[2]],m.project_uCommonUnitsPerWorldUnit2=[0,0,g.unitsPerMeter2[2]]}}return m});function vW(n,e,t=yW){t.length<3&&(t=[t[0],t[1],0]);let r,i=t,o=!0;switch(r=e===Ji.LNGLAT_OFFSETS||e===Ji.METER_OFFSETS?t:n.isGeospatial?[Math.fround(n.longitude),Math.fround(n.latitude),0]:null,n.projectionMode){case Sd.WEB_MERCATOR:(e===Ji.LNGLAT||e===Ji.CARTESIAN)&&(r=[0,0,0],o=!1);break;case Sd.WEB_MERCATOR_AUTO_OFFSET:e===Ji.LNGLAT?i=r:e===Ji.CARTESIAN&&(i=[Math.fround(n.center[0]),Math.fround(n.center[1]),0],r=n.unprojectPosition(i),i[0]-=t[0],i[1]-=t[1],i[2]-=t[2]);break;case Sd.IDENTITY:i=n.position.map(Math.fround),i[2]=i[2]||0;break;case Sd.GLOBE:o=!1,r=null;break;default:o=!1}return{geospatialOrigin:r,shaderCoordinateOrigin:i,offsetMode:o}}const exe={},o2={name:"project",dependencies:[{name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 1.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 1.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null},zwe],vs:$we,getUniforms:function txe(n=exe){return"viewport"in n?function Qwe({viewport:n,devicePixelRatio:e=1,modelMatrix:t=null,coordinateSystem:i=Ji.DEFAULT,coordinateOrigin:r=yW,autoWrapLongitude:o=!1}){i===Ji.DEFAULT&&(i=n.isGeospatial?Ji.LNGLAT:Ji.CARTESIAN);const s=Kwe({viewport:n,devicePixelRatio:e,coordinateSystem:i,coordinateOrigin:r});return s.project_uWrapLongitude=o,s.project_uModelMatrix=t||bW,s}(n):{}}},rxe=$1(function lxe({viewport:n,center:e}){return new jt(n.viewProjectionMatrix).invert().transform(e)}),oxe=$1(function dxe({viewport:n,shadowMatrices:e}){const t=[],i=n.pixelUnprojectionMatrix,r=n.isGeospatial?void 0:1,o=[[0,0,r],[n.width,0,r],[0,n.height,r],[n.width,n.height,r],[0,0,-1],[n.width,0,-1],[0,n.height,-1],[n.width,n.height,-1]].map(s=>function cxe(n,e){const[t,i,r]=n,o=R0([t,i,r],e);return Number.isFinite(r)?o:[o[0],o[1],0]}(s,i));for(const s of e){const a=s.clone().translate(new xa(n.center).negate()),c=o.map(d=>a.transform(d)),l=(new jt).ortho({left:Math.min(...c.map(d=>d[0])),right:Math.max(...c.map(d=>d[0])),bottom:Math.min(...c.map(d=>d[1])),top:Math.max(...c.map(d=>d[1])),near:Math.min(...c.map(d=>-d[2])),far:Math.max(...c.map(d=>-d[2]))});t.push(l.multiplyRight(s))}return t}),sxe=[0,0,0,1],axe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],s2={name:"shadow",dependencies:[o2],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:(n={},e={})=>"viewport"in n&&(n.drawToShadowMap||n.shadowMaps&&n.shadowMaps.length>0)?function uxe(n,e){const{shadowEnabled:t=!0}=n;if(!t||!n.shadowMatrices||!n.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1};const i={shadow_uDrawShadowMap:!!n.drawToShadowMap,shadow_uUseShadowMap:!!n.shadowMaps&&n.shadowMaps.length>0,shadow_uColor:n.shadowColor||sxe,shadow_uLightId:n.shadowLightId||0,shadow_uLightCount:n.shadowMatrices.length},r=rxe({viewport:n.viewport,center:e.project_uCenter}),o=[],s=oxe({shadowMatrices:n.shadowMatrices,viewport:n.viewport}).slice();for(let a=0;a<n.shadowMatrices.length;a++){const c=s[a],l=c.clone().translate(new xa(n.viewport.center).negate());e.project_uCoordinateSystem===Ji.LNGLAT&&e.project_uProjectionMode===Sd.WEB_MERCATOR?(s[a]=l,o[a]=r):(s[a]=c.clone().multiplyRight(axe),o[a]=l.transform(r))}for(let a=0;a<s.length;a++)i["shadow_uViewProjectionMatrices[".concat(a,"]")]=s[a],i["shadow_uProjectCenters[".concat(a,"]")]=o[a],i["shadow_uShadowMap".concat(a)]=n.shadowMaps&&n.shadowMaps.length>0?n.shadowMaps[a]:n.dummyShadowMap;return i}(n,e):{}},hxe={color:[255,255,255],intensity:1},wW=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],fxe=[0,0,0,200/255];class a2{constructor(e={}){ve(this,"id","lighting-effect"),ve(this,"props",null),ve(this,"shadowColor",fxe),ve(this,"shadow",void 0),ve(this,"ambientLight",null),ve(this,"directionalLights",[]),ve(this,"pointLights",[]),ve(this,"shadowPasses",[]),ve(this,"shadowMaps",[]),ve(this,"dummyShadowMap",null),ve(this,"programManager",void 0),ve(this,"shadowMatrices",void 0);for(const t in e){const i=e[t];switch(i.type){case"ambient":this.ambientLight=i;break;case"directional":this.directionalLights.push(i);break;case"point":this.pointLights.push(i)}}this._applyDefaultLights(),this.shadow=this.directionalLights.some(t=>t.shadow)}preRender(e,{layers:t,layerFilter:i,viewports:r,onViewportActive:o,views:s}){if(this.shadow){this.shadowMatrices=this._calculateMatrices(),0===this.shadowPasses.length&&this._createShadowPasses(e),this.programManager||(this.programManager=G0.getDefaultProgramManager(e),s2&&this.programManager.addDefaultModule(s2)),this.dummyShadowMap||(this.dummyShadowMap=new Hs(e,{width:1,height:1}));for(let a=0;a<this.shadowPasses.length;a++)this.shadowPasses[a].render({layers:t,layerFilter:i,viewports:r,onViewportActive:o,views:s,moduleParameters:{shadowLightId:a,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}getModuleParameters(e){const t=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return t.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map(i=>i.getProjectedLight({layer:e})),pointLights:this.pointLights.map(i=>i.getProjectedLight({layer:e}))},t}cleanup(){for(const e of this.shadowPasses)e.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(s2),this.programManager=null)}_calculateMatrices(){const e=[];for(const t of this.directionalLights){const i=(new jt).lookAt({eye:new xa(t.direction).negate()});e.push(i)}return e}_createShadowPasses(e){for(let t=0;t<this.directionalLights.length;t++){const i=new Bwe(e);this.shadowPasses[t]=i,this.shadowMaps[t]=i.shadowMap}}_applyDefaultLights(){const{ambientLight:e,pointLights:t,directionalLights:i}=this;!e&&0===t.length&&0===i.length&&(this.ambientLight=new fW(hxe),this.directionalLights.push(new pW(wW[0]),new pW(wW[1])))}}let pxe=1,mxe=1;class xW{constructor(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}addChannel(e){const{delay:t=0,duration:i=Number.POSITIVE_INFINITY,rate:r=1,repeat:o=1}=e,s=pxe++,a={time:0,delay:t,duration:i,rate:r,repeat:o};return this._setChannelTime(a,this.time),this.channels.set(s,a),s}removeChannel(e){this.channels.delete(e);for(const[t,i]of this.animations)i.channel===e&&this.detachAnimation(t)}isFinished(e){const t=this.channels.get(e);return void 0!==t&&this.time>=t.delay+t.duration*t.repeat}getTime(e){if(void 0===e)return this.time;const t=this.channels.get(e);return void 0===t?-1:t.time}setTime(e){this.time=Math.max(0,e);const t=this.channels.values();for(const r of t)this._setChannelTime(r,this.time);const i=this.animations.values();for(const r of i){const{animation:o,channel:s}=r;o.setTime(this.getTime(s))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(e,t){const i=mxe++;return this.animations.set(i,{animation:e,channel:t}),e.setTime(this.getTime(t)),i}detachAnimation(e){this.animations.delete(e)}update(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}_setChannelTime(e,t){const i=t-e.delay;i>=e.duration*e.repeat?e.time=e.duration*e.rate:(e.time=Math.max(0,i)%e.duration,e.time*=e.rate)}}const q1=Symbol.for("component"),$_=Symbol.for("asyncPropDefaults"),Jp=Symbol.for("asyncPropOriginal"),sf=Symbol.for("asyncPropResolved");let c2={};function Sa(n,e,t,i){zi.level>0&&c2[n]&&c2[n].call(null,e,t,i)}function l2(n,e=(()=>!0)){return Array.isArray(n)?EW(n,e,[]):e(n)?[n]:[]}function EW(n,e,t){let i=-1;for(;++i<n.length;){const r=n[i];Array.isArray(r)?EW(r,e,t):e(r)&&t.push(r)}return t}function _xe({target:n,source:e,start:t=0,count:i=1}){const r=e.length,o=i*r;let s=0;for(let a=t;s<r;s++)n[a++]=e[s];for(;s<o;)s<o-s?(n.copyWithin(t+s,t,t+s),s*=2):(n.copyWithin(t+s,t,t+o-s),s=o);return n}const Ul=n=>"function"==typeof n,af=n=>null!==n&&"object"==typeof n,SW=n=>af(n)&&n.constructor==={}.constructor,bxe=n=>n&&"function"==typeof n[Symbol.iterator],yxe=n=>n&&"function"==typeof n[Symbol.asyncIterator],q_=n=>typeof Response<"u"&&n instanceof Response||n&&n.arrayBuffer&&n.text&&n.json,Y_=n=>typeof Blob<"u"&&n instanceof Blob,vxe=n=>n&&"object"==typeof n&&n.isBuffer,AW=n=>(n=>typeof ReadableStream<"u"&&n instanceof ReadableStream||af(n)&&Ul(n.tee)&&Ul(n.cancel)&&Ul(n.getReader))(n)||(n=>af(n)&&Ul(n.read)&&Ul(n.pipe)&&(n=>"boolean"==typeof n)(n.readable))(n);function TW(n,e){if(!n)throw new Error(e||"loader assertion failed.")}function d2(n){var e;return!!n&&(Array.isArray(n)&&(n=n[0]),Array.isArray(null===(e=n)||void 0===e?void 0:e.extensions))}function u2(n){var e,t;let i;return TW(n,"null loader"),TW(d2(n),"invalid loader"),Array.isArray(n)&&(i=n[1],n=n[0],n={...n,options:{...n.options,...i}}),(null!==(e=n)&&void 0!==e&&e.parseTextSync||null!==(t=n)&&void 0!==t&&t.parseText)&&(n.text=!0),n.text||(n.binary=!0),n}let h2="";const f2={},Axe=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,Txe=/^([-\w.]+\/[-\w.+]+)/;function Mxe(n){const e=Txe.exec(n);return e?e[1]:n}function MW(n){const e=Axe.exec(n);return e?e[1]:""}const Ixe=/\?.*/;function Y1(n){if(q_(n)){const e=p2(n.url||"");return{url:e,type:Mxe(n.headers.get("content-type")||"")||MW(e)}}return Y_(n)?{url:p2(n.name||""),type:n.type||""}:"string"==typeof n?{url:p2(n),type:MW(n)}:{url:"",type:""}}function p2(n){return n.replace(Ixe,"")}function IW(n){return m2.apply(this,arguments)}function m2(){return m2=D(function*(n){if(q_(n))return n;const e={},t=function Dxe(n){return q_(n)?n.headers["content-length"]||-1:Y_(n)?n.size:"string"==typeof n?n.length:n instanceof ArrayBuffer||ArrayBuffer.isView(n)?n.byteLength:-1}(n);t>=0&&(e["content-length"]=String(t));const{url:i,type:r}=Y1(n);r&&(e["content-type"]=r);const o=yield function kxe(n){return b2.apply(this,arguments)}(n);o&&(e["x-first-bytes"]=o),"string"==typeof n&&(n=(new TextEncoder).encode(n));const s=new Response(n,{headers:e});return Object.defineProperty(s,"url",{value:i}),s}),m2.apply(this,arguments)}function g2(){return g2=D(function*(n){if(!n.ok){const e=yield function Oxe(n){return _2.apply(this,arguments)}(n);throw new Error(e)}}),g2.apply(this,arguments)}function _2(){return _2=D(function*(n){let e="Failed to fetch resource ".concat(n.url," (").concat(n.status,"): ");try{const t=n.headers.get("Content-Type");let i=n.statusText;t.includes("application/json")&&(i+=" ".concat(yield n.text())),e+=i,e=e.length>60?"".concat(e.slice(0,60),"..."):e}catch{}return e}),_2.apply(this,arguments)}function b2(){return b2=D(function*(n){if("string"==typeof n)return"data:,".concat(n.slice(0,5));if(n instanceof Blob){const t=n.slice(0,5);return yield new Promise(i=>{const r=new FileReader;r.onload=o=>{var s;return i(null==o||null===(s=o.target)||void 0===s?void 0:s.result)},r.readAsDataURL(t)})}if(n instanceof ArrayBuffer){const i=function Pxe(n){let e="";const t=new Uint8Array(n);for(let i=0;i<t.byteLength;i++)e+=String.fromCharCode(t[i]);return btoa(e)}(n.slice(0,5));return"data:base64,".concat(i)}return null}),b2.apply(this,arguments)}function DW(n,e){return y2.apply(this,arguments)}function y2(){return y2=D(function*(n,e){if("string"==typeof n){n=function Sxe(n){for(const e in f2)n.startsWith(e)&&(n=n.replace(e,f2[e]));return!n.startsWith("http://")&&!n.startsWith("https://")&&(n="".concat(h2).concat(n)),n}(n);let t=e;return null!=e&&e.fetch&&"function"!=typeof e?.fetch&&(t=e.fetch),yield fetch(n,t)}return yield IW(n)}),y2.apply(this,arguments)}const RW=new A0({id:"loaders.gl"});class Nxe{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const OW=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),kW=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),PW=(kW&&parseFloat(kW[1]),{fetch:null,mimeType:void 0,nothrow:!1,log:new class Fxe{constructor(){ve(this,"console",void 0),this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}},CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:OW,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]}),Lxe={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function v2(){globalThis.loaders=globalThis.loaders||{};const{loaders:n}=globalThis;return n._state=n._state||{},n._state}const w2=()=>{const n=v2();return n.globalOptions=n.globalOptions||{...PW},n.globalOptions};function Bxe(n,e,t,i){return t=t||[],function jxe(n,e){FW(n,null,PW,Lxe,e);for(const t of e)FW(n&&n[t.id]||{},t.id,t.options&&t.options[t.id]||{},t.deprecatedOptions&&t.deprecatedOptions[t.id]||{},e)}(n,t=Array.isArray(t)?t:[t]),function LW(n,e,t){const r={...n.options||{}};return function Vxe(n,e){e&&!("baseUri"in n)&&(n.baseUri=e)}(r,t),null===r.log&&(r.log=new Nxe),BW(r,w2()),BW(r,e),r}(e,n,i)}function NW(n,e){const t=w2(),i=n||t;return"function"==typeof i.fetch?i.fetch:af(i.fetch)?r=>DW(r,i):null!=e&&e.fetch?e?.fetch:DW}function FW(n,e,t,i,r){const o=e||"Top level",s=e?"".concat(e,"."):"";for(const a in n){const c=!e&&af(n[a]);if(!(a in t)&&("baseUri"!==a||e)&&("workerUrl"!==a||!e))if(a in i)RW.warn("".concat(o," loader option '").concat(s).concat(a,"' no longer supported, use '").concat(i[a],"'"))();else if(!c){const h=Uxe(a,r);RW.warn("".concat(o," loader option '").concat(s).concat(a,"' not recognized. ").concat(h))()}}}function Uxe(n,e){const t=n.toLowerCase();let i="";for(const r of e)for(const o in r.options){if(n===o)return"Did you mean '".concat(r.id,".").concat(o,"'?");const s=o.toLowerCase();(t.startsWith(s)||s.startsWith(t))&&(i=i||"Did you mean '".concat(r.id,".").concat(o,"'?"))}return i}function BW(n,e){for(const t in e)t in e&&(n[t]=SW(e[t])&&SW(n[t])?{...n[t],...e[t]}:e[t])}function Md(n,e){if(!n)throw new Error(e||"loaders.gl assertion failed.")}const zxe="3.2.13",Id={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},Gxe=Id.global||Id.self||Id.window||{},cf="object"!=typeof process||"[object process]"!==String(process)||process.browser,x2="function"==typeof importScripts,Wxe=typeof window<"u"&&typeof window.orientation<"u",jW=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);jW&&parseFloat(jW[1]);class E2{}const C2=new Map;function UW(n){const e=new Blob([n],{type:"application/javascript"});return URL.createObjectURL(e)}function VW(n,e=!0,t){const i=t||new Set;if(n)if(zW(n))i.add(n);else if(zW(n.buffer))i.add(n.buffer);else if(!ArrayBuffer.isView(n)&&e&&"object"==typeof n)for(const r in n)VW(n[r],e,i);return void 0===t?Array.from(i):[]}function zW(n){return!!n&&(n instanceof ArrayBuffer||typeof MessagePort<"u"&&n instanceof MessagePort||typeof ImageBitmap<"u"&&n instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)}const S2=()=>{};class A2{static isSupported(){return typeof Worker<"u"&&cf||typeof E2<"u"&&!cf}constructor(e){ve(this,"name",void 0),ve(this,"source",void 0),ve(this,"url",void 0),ve(this,"terminated",!1),ve(this,"worker",void 0),ve(this,"onMessage",void 0),ve(this,"onError",void 0),ve(this,"_loadableURL","");const{name:t,source:i,url:r}=e;Md(i||r),this.name=t,this.source=i,this.url=r,this.onMessage=S2,this.onError=o=>console.log(o),this.worker=cf?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=S2,this.onError=S2,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(e,t){t=t||VW(e),this.worker.postMessage(e,t)}_getErrorFromErrorEvent(e){let t="Failed to load ";return t+="worker ".concat(this.name," from ").concat(this.url,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}_createBrowserWorker(){this._loadableURL=function $xe(n){Md(n.source&&!n.url||!n.source&&n.url);let e=C2.get(n.source||n.url);return e||(n.url&&(e=function qxe(n){if(!n.startsWith("http"))return n;const e=function Yxe(n){return"try {\n  importScripts('".concat(n,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")}(n);return UW(e)}(n.url),C2.set(n.url,e)),n.source&&(e=UW(n.source),C2.set(n.source,e))),Md(e),e}({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=t=>{t.data?this.onMessage(t.data):this.onError(new Error("No data received"))},e.onerror=t=>{this.onError(this._getErrorFromErrorEvent(t)),this.terminated=!0},e.onmessageerror=t=>console.error(t),e}_createNodeWorker(){let e;if(this.url){const i=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);e=new E2(i,{eval:!1})}else{if(!this.source)throw new Error("no worker");e=new E2(this.source,{eval:!0})}return e.on("message",t=>{this.onMessage(t)}),e.on("error",t=>{this.onError(t)}),e.on("exit",t=>{}),e}}class Kxe{constructor(e,t){ve(this,"name",void 0),ve(this,"workerThread",void 0),ve(this,"isRunning",!0),ve(this,"result",void 0),ve(this,"_resolve",()=>{}),ve(this,"_reject",()=>{}),this.name=e,this.workerThread=t,this.result=new Promise((i,r)=>{this._resolve=i,this._reject=r})}postMessage(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}done(e){Md(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){Md(this.isRunning),this.isRunning=!1,this._reject(e)}}class Jxe{static isSupported(){return A2.isSupported()}constructor(e){ve(this,"name","unnamed"),ve(this,"source",void 0),ve(this,"url",void 0),ve(this,"maxConcurrency",1),ve(this,"maxMobileConcurrency",1),ve(this,"onDebug",()=>{}),ve(this,"reuseWorkers",!0),ve(this,"props",{}),ve(this,"jobQueue",[]),ve(this,"idleQueue",[]),ve(this,"count",0),ve(this,"isDestroyed",!1),this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}startJob(e,t=((r,o,s)=>r.done(s)),i=((r,o)=>r.error(o))){var r=this;return D(function*(){const o=new Promise(s=>(r.jobQueue.push({name:e,onMessage:t,onError:i,onStart:s}),r));return r._startQueuedJob(),yield o})()}_startQueuedJob(){var e=this;return D(function*(){if(!e.jobQueue.length)return;const t=e._getAvailableWorker();if(!t)return;const i=e.jobQueue.shift();if(i){e.onDebug({message:"Starting job",name:i.name,workerThread:t,backlog:e.jobQueue.length});const r=new Kxe(i.name,t);t.onMessage=o=>i.onMessage(r,o.type,o.payload),t.onError=o=>i.onError(r,o),i.onStart(r);try{yield r.result}finally{e.returnWorkerToQueue(t)}}})()}returnWorkerToQueue(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new A2({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return Wxe?this.maxMobileConcurrency:this.maxConcurrency}}const Qxe={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class Vu{static isSupported(){return A2.isSupported()}static getWorkerFarm(e={}){return Vu._workerFarm=Vu._workerFarm||new Vu({}),Vu._workerFarm.setProps(e),Vu._workerFarm}constructor(e){ve(this,"props",void 0),ve(this,"workerPools",new Map),this.props={...Qxe},this.setProps(e),this.workerPools=new Map}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const t of this.workerPools.values())t.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:t,source:i,url:r}=e;let o=this.workerPools.get(t);return o||(o=new Jxe({name:t,source:i,url:r}),o.setProps(this._getWorkerPoolProps()),this.workerPools.set(t,o)),o}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}ve(Vu,"_workerFarm",void 0);const Zxe="latest";function T2(){return T2=D(function*(n,e,t,i,r){const o=n.id,s=function eEe(n,e={}){const t=e[n.id]||{},i="".concat(n.id,"-worker.js");let r=t.workerUrl;if(!r&&"compression"===n.id&&(r=e.workerUrl),"test"===e._workerType&&(r="modules/".concat(n.module,"/dist/").concat(i)),!r){let o=n.version;"latest"===o&&(o=Zxe);const s=o?"@".concat(o):"";r="https://unpkg.com/@loaders.gl/".concat(n.module).concat(s,"/dist/").concat(i)}return Md(r),r}(n,t),c=Vu.getWorkerFarm(t).getWorkerPool({name:o,url:s});t=JSON.parse(JSON.stringify(t)),i=JSON.parse(JSON.stringify(i||{}));const l=yield c.startJob("process-on-worker",iEe.bind(null,r));return l.postMessage("process",{input:e,options:t,context:i}),yield(yield l.result).result}),T2.apply(this,arguments)}function iEe(n,e,t,i){return M2.apply(this,arguments)}function M2(){return M2=D(function*(n,e,t,i){switch(t){case"done":e.done(i);break;case"error":e.error(new Error(i.error));break;case"process":const{id:r,input:o,options:s}=i;try{const a=yield n(o,s);e.postMessage("done",{id:r,result:a})}catch(a){const c=a instanceof Error?a.message:"unknown error";e.postMessage("error",{id:r,error:c})}break;default:console.warn("parse-with-worker unknown message ".concat(t))}}),M2.apply(this,arguments)}function I2(n){var e,t,i,r=2;for(typeof Symbol<"u"&&(t=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(t&&null!=(e=n[t]))return e.call(n);if(i&&null!=(e=n[i]))return new X1(e.call(n));t="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function X1(n){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var i=t.done;return Promise.resolve(t.value).then(function(r){return{value:r,done:i}})}return(X1=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(i){var r=this.s.return;return void 0===r?Promise.resolve({value:i,done:!0}):e(r.apply(this.s,arguments))},throw:function(i){var r=this.s.return;return void 0===r?Promise.reject(i):e(r.apply(this.s,arguments))}},new X1(n)}function GW(n){return n&&"object"==typeof n&&n.isBuffer}function WW(n){if(GW(n))return function rEe(n){return GW(n)?new Uint8Array(n.buffer,n.byteOffset,n.length).slice().buffer:n}(n);if(n instanceof ArrayBuffer)return n;if(ArrayBuffer.isView(n))return 0===n.byteOffset&&n.byteLength===n.buffer.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength);if("string"==typeof n){const e=n;return(new TextEncoder).encode(e).buffer}if(n&&"object"==typeof n&&n._toArrayBuffer)return n._toArrayBuffer();throw new Error("toArrayBuffer")}function R2(){return R2=D(function*(n){const e=[];var r,t=!1,i=!1;try{for(var s,o=I2(n);t=!(s=yield o.next()).done;t=!1)e.push(s.value)}catch(a){i=!0,r=a}finally{try{t&&null!=o.return&&(yield o.return())}finally{if(i)throw r}}return function sEe(...n){const e=n.map(o=>o instanceof ArrayBuffer?new Uint8Array(o):o),t=e.reduce((o,s)=>o+s.byteLength,0),i=new Uint8Array(t);let r=0;for(const o of e)i.set(o,r),r+=o.byteLength;return i.buffer}(...e)}),R2.apply(this,arguments)}S(1492);const cEe=262144,dEe=262144;function $W(n,e){this.v=n,this.k=e}function K1(n){return new $W(n,0)}function W0(n){var e,t;function i(o,s){try{var a=n[o](s),c=a.value,l=c instanceof $W;Promise.resolve(l?c.v:c).then(function(d){if(l){var h="return"===o?"return":"next";if(!c.k||d.done)return i(h,d);d=n[h](d).value}r(a.done?"return":"normal",d)},function(d){i("throw",d)})}catch(d){r("throw",d)}}function r(o,s){switch(o){case"return":e.resolve({value:s,done:!0});break;case"throw":e.reject(s);break;default:e.resolve({value:s,done:!1})}(e=e.next)?i(e.key,e.arg):t=null}this._invoke=function(o,s){return new Promise(function(a,c){var l={key:o,arg:s,resolve:a,reject:c,next:null};t?t=t.next=l:(e=t=l,i(o,s))})},"function"!=typeof n.return&&(this.return=void 0)}function k2(n){return function(){return new W0(n.apply(this,arguments))}}W0.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},W0.prototype.next=function(n){return this._invoke("next",n)},W0.prototype.throw=function(n){return this._invoke("throw",n)},W0.prototype.return=function(n){return this._invoke("return",n)};const hEe=1048576;function P2(){return P2=k2(function*(n,e){const t=e?.chunkSize||hEe;let i=0;for(;i<n.size;){const r=i+t,o=yield K1(n.slice(i,r).arrayBuffer());i=r,yield o}}),P2.apply(this,arguments)}function qW(n,e){return OW?function pEe(n,e){return N2.apply(this,arguments)}(n,e):function mEe(n,e){return F2.apply(this,arguments)}(n,e)}function N2(){return N2=k2(function*(n,e){const t=n.getReader();let i;try{for(;;){const r=i||t.read();null!=e&&e._streamReadAhead&&(i=t.read());const{done:o,value:s}=yield K1(r);if(o)return;yield WW(s)}}catch{t.releaseLock()}}),N2.apply(this,arguments)}function F2(){return F2=k2(function*(n,e){var r,t=!1,i=!1;try{for(var s,o=I2(n);t=!(s=yield K1(o.next())).done;t=!1){const a=s.value;yield WW(a)}}catch(a){i=!0,r=a}finally{try{t&&null!=o.return&&(yield K1(o.return()))}finally{if(i)throw r}}}),F2.apply(this,arguments)}const L2="Cannot convert supplied data type";function B2(){return B2=D(function*(n,e,t){const i=n instanceof ArrayBuffer||ArrayBuffer.isView(n);if("string"==typeof n||i)return function _Ee(n,e,t){if(e.text&&"string"==typeof n)return n;if(vxe(n)&&(n=n.buffer),n instanceof ArrayBuffer){const i=n;return e.text&&!e.binary?new TextDecoder("utf8").decode(i):i}if(ArrayBuffer.isView(n)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(n);let i=n.buffer;const r=n.byteLength||n.length;return(0!==n.byteOffset||r!==i.byteLength)&&(i=i.slice(n.byteOffset,n.byteOffset+r)),i}throw new Error(L2)}(n,e);if(Y_(n)&&(n=yield IW(n)),q_(n)){const r=n;return yield function Rxe(n){return g2.apply(this,arguments)}(r),e.binary?yield r.arrayBuffer():yield r.text()}if(AW(n)&&(n=function gEe(n,e){if("string"==typeof n)return function*lEe(n,e){const t=e?.chunkSize||cEe;let i=0;const r=new TextEncoder;for(;i<n.length;){const o=Math.min(n.length-i,t),s=n.slice(i,i+o);i+=o,yield r.encode(s)}}(n,e);if(n instanceof ArrayBuffer)return function*uEe(n,e={}){const{chunkSize:t=dEe}=e;let i=0;for(;i<n.byteLength;){const r=Math.min(n.byteLength-i,t),o=new ArrayBuffer(r),s=new Uint8Array(n,i,r);new Uint8Array(o).set(s),i+=r,yield o}}(n,e);if(Y_(n))return function fEe(n,e){return P2.apply(this,arguments)}(n,e);if(AW(n))return qW(n,e);if(q_(n))return qW(n.body,e);throw new Error("makeIterator")}(n,t)),bxe(n)||yxe(n))return function aEe(n){return R2.apply(this,arguments)}(n);throw new Error(L2)}),B2.apply(this,arguments)}const EEe=new A0({id:"loaders.gl"}),YW=()=>{const n=v2();return n.loaderRegistry=n.loaderRegistry||[],n.loaderRegistry};function XW(n){const e=YW();n=Array.isArray(n)?n:[n];for(const t of n){const i=u2(t);e.find(r=>i===r)||e.unshift(i)}}const SEe=/\.([^.]+)$/;function V2(){return V2=D(function*(n,e=[],t,i){if(!JW(n))return null;let r=KW(n,e,{...t,nothrow:!0},i);if(r)return r;if(Y_(n)&&(r=KW(n=yield n.slice(0,10).arrayBuffer(),e,t,i)),!(r||null!=t&&t.nothrow))throw new Error(QW(n));return r}),V2.apply(this,arguments)}function KW(n,e=[],t,i){if(!JW(n))return null;if(e&&!Array.isArray(e))return u2(e);let r=[];e&&(r=r.concat(e)),null!=t&&t.ignoreRegisteredLoaders||r.push(...function CEe(){return YW()}()),function MEe(n){for(const e of n)u2(e)}(r);const o=function TEe(n,e,t,i){const{url:r,type:o}=Y1(n),s=r||i?.url;let a=null,c="";var l;return null!=t&&t.mimeType&&(a=z2(e,t?.mimeType),c="match forced by supplied MIME type ".concat(t?.mimeType)),a=a||function IEe(n,e){const t=e&&SEe.exec(e),i=t&&t[1];return i?function DEe(n,e){e=e.toLowerCase();for(const t of n)for(const i of t.extensions)if(i.toLowerCase()===e)return t;return null}(n,i):null}(e,s),c=c||(a?"matched url ".concat(s):""),a=a||z2(e,o),c=c||(a?"matched MIME type ".concat(o):""),a=a||function REe(n,e){if(!e)return null;for(const t of n)if("string"==typeof e){if(OEe(e,t))return t}else if(ArrayBuffer.isView(e)){if(ZW(e.buffer,e.byteOffset,t))return t}else if(e instanceof ArrayBuffer&&ZW(e,0,t))return t;return null}(e,n),c=c||(a?"matched initial data ".concat(e$(n)):""),a=a||z2(e,t?.fallbackMimeType),c=c||(a?"matched fallback MIME type ".concat(o):""),c&&EEe.log(1,"selectLoader selected ".concat(null===(l=a)||void 0===l?void 0:l.name,": ").concat(c,".")),a}(n,r,t,i);if(!(o||null!=t&&t.nothrow))throw new Error(QW(n));return o}function JW(n){return!(n instanceof Response&&204===n.status)}function QW(n){const{url:e,type:t}=Y1(n);let i="No valid loader found (";i+=e?"".concat(function xEe(n){const e=n&&n.lastIndexOf("/");return e>=0?n.substr(e+1):""}(e),", "):"no url provided, ",i+="MIME type: ".concat(t?'"'.concat(t,'"'):"not provided",", ");const r=n?e$(n):"";return i+=r?' first bytes: "'.concat(r,'"'):"first bytes: not available",i+=")",i}function z2(n,e){for(const t of n)if(t.mimeTypes&&t.mimeTypes.includes(e)||e==="application/x.".concat(t.id))return t;return null}function OEe(n,e){return e.testText?e.testText(n):(Array.isArray(e.tests)?e.tests:[e.tests]).some(i=>n.startsWith(i))}function ZW(n,e,t){return(Array.isArray(t.tests)?t.tests:[t.tests]).some(r=>function kEe(n,e,t,i){if(i instanceof ArrayBuffer)return function oEe(n,e,t){if(n.byteLength<(t=t||n.byteLength)||e.byteLength<t)return!1;const i=new Uint8Array(n),r=new Uint8Array(e);for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(i,n,i.byteLength);switch(typeof i){case"function":return i(n,t);case"string":return i===H2(n,e,i.length);default:return!1}}(n,e,t,r))}function e$(n,e=5){return"string"==typeof n?n.slice(0,e):ArrayBuffer.isView(n)?H2(n.buffer,n.byteOffset,e):n instanceof ArrayBuffer?H2(n,0,e):""}function H2(n,e,t){if(n.byteLength<e+t)return"";const i=new DataView(n);let r="";for(let o=0;o<t;o++)r+=String.fromCharCode(i.getUint8(e+o));return r}function J1(n,e,t,i){return G2.apply(this,arguments)}function G2(){return G2=D(function*(n,e,t,i){Md(!i||"object"==typeof i),e&&!Array.isArray(e)&&!d2(e)&&(i=void 0,t=e,e=void 0),n=yield n,t=t||{};const{url:r}=Y1(n),s=function wEe(n,e){if(!e&&n&&!Array.isArray(n))return n;let t;if(n&&(t=Array.isArray(n)?n:[n]),e&&e.loaders){const i=Array.isArray(e.loaders)?e.loaders:[e.loaders];t=t?[...t,...i]:i}return t&&t.length?t:null}(e,i),a=yield function AEe(n){return V2.apply(this,arguments)}(n,s,t);return a?(i=function vEe(n,e,t=null){if(t)return t;const i={fetch:NW(e,n),...n};return Array.isArray(i.loaders)||(i.loaders=null),i}({url:r,parse:J1,loaders:s},t=Bxe(t,a,s,r),i),yield function PEe(n,e,t,i){return W2.apply(this,arguments)}(a,n,t,i)):null}),G2.apply(this,arguments)}function W2(){return W2=D(function*(n,e,t,i){if(function Hxe(n,e=zxe){Md(n,"no worker provided")}(n),q_(e)){const r=e,{ok:o,redirected:s,status:a,statusText:c,type:l,url:d}=r,h=Object.fromEntries(r.headers.entries());i.response={headers:h,ok:o,redirected:s,status:a,statusText:c,type:l,url:d}}if(e=yield function bEe(n,e,t){return B2.apply(this,arguments)}(e,n,t),n.parseTextSync&&"string"==typeof e)return t.dataType="text",n.parseTextSync(e,t,i,n);if(function tEe(n,e){return!(!Vu.isSupported()||!(cf||null!=e&&e._nodeWorkers))&&n.worker&&e?.worker}(n,t))return yield function nEe(n,e,t,i,r){return T2.apply(this,arguments)}(n,e,t,i,J1);if(n.parseText&&"string"==typeof e)return yield n.parseText(e,t,i,n);if(n.parse)return yield n.parse(e,t,i,n);throw Md(!n.parseSync),new Error("".concat(n.id," loader - no parser found and worker is disabled"))}),W2.apply(this,arguments)}function $0(n,e,t,i){return $2.apply(this,arguments)}function $2(){return $2=D(function*(n,e,t,i){!Array.isArray(e)&&!d2(e)&&(t=e,e=void 0);const r=NW(t);let o=n;return"string"==typeof n&&(o=yield r(n)),Y_(n)&&(o=yield r(n)),yield J1(o,e,t)}),$2.apply(this,arguments)}class NEe{constructor(e,t,i){ve(this,"id",void 0),ve(this,"context",void 0),ve(this,"isLoaded",void 0),ve(this,"persistent",void 0),ve(this,"_loadCount",0),ve(this,"_subscribers",new Set),ve(this,"_data",void 0),ve(this,"_loader",void 0),ve(this,"_error",void 0),ve(this,"_content",void 0),this.id=e,this.context=i,this.setData(t)}subscribe(e){this._subscribers.add(e)}unsubscribe(e){this._subscribers.delete(e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData(e,t){if(e===this._data&&!t)return;this._data=e;const i=++this._loadCount;let r=e;"string"==typeof e&&(r=$0(e)),r instanceof Promise?(this.isLoaded=!1,this._loader=r.then(o=>{this._loadCount===i&&(this.isLoaded=!0,this._error=void 0,this._content=o)}).catch(o=>{this._loadCount===i&&(this.isLoaded=!0,this._error=o||!0)})):(this.isLoaded=!0,this._error=void 0,this._content=e);for(const o of this._subscribers)o.onChange(this.getData())}}class FEe{constructor({gl:e,protocol:t}){ve(this,"protocol",void 0),ve(this,"_context",void 0),ve(this,"_resources",void 0),ve(this,"_consumers",void 0),ve(this,"_pruneRequest",void 0),this.protocol=t||"resource://",this._context={gl:e,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(e){return!!e.startsWith(this.protocol)||e in this._resources}add({resourceId:e,data:t,forceUpdate:i=!1,persistent:r=!0}){let o=this._resources[e];o?o.setData(t,i):(o=new NEe(e,t,this._context),this._resources[e]=o),o.persistent=r}remove(e){const t=this._resources[e];t&&(t.delete(),delete this._resources[e])}unsubscribe({consumerId:e}){const t=this._consumers[e];if(t){for(const i in t){const r=t[i],o=this._resources[r.resourceId];o&&o.unsubscribe(r)}delete this._consumers[e],this.prune()}}subscribe({resourceId:e,onChange:t,consumerId:i,requestId:r="default"}){const{_resources:o,protocol:s}=this;e.startsWith(s)&&(o[e=e.replace(s,"")]||this.add({resourceId:e,data:null,persistent:!1}));const a=o[e];if(this._track(i,r,a,t),a)return a.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout(()=>this._prune(),0))}finalize(){for(const e in this._resources)this._resources[e].delete()}_track(e,t,i,r){const o=this._consumers,s=o[e]=o[e]||{},a=s[t]||{},c=a.resourceId&&this._resources[a.resourceId];c&&(c.unsubscribe(a),this.prune()),i&&(s[t]=a,a.onChange=r,a.resourceId=i.id,i.subscribe(a))}_prune(){this._pruneRequest=null;for(const e of Object.keys(this._resources)){const t=this._resources[e];!t.persistent&&!t.inUse()&&(t.delete(),delete this._resources[e])}}}const LEe=[o2],BEe=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function jEe(n){const e=G0.getDefaultProgramManager(n);for(const t of LEe)e.addDefaultModule(t);for(const t of BEe)e.addShaderHook(t);return e}class zEe{constructor(e,{deck:t,stats:i,viewport:r,timeline:o}={}){ve(this,"layers",void 0),ve(this,"context",void 0),ve(this,"resourceManager",void 0),ve(this,"_lastRenderedLayers",[]),ve(this,"_needsRedraw",!1),ve(this,"_needsUpdate",!1),ve(this,"_nextLayers",null),ve(this,"_debug",!1),ve(this,"activateViewport",s=>{Sa("layerManager.activateViewport",this,s),s&&(this.context.viewport=s)}),this.layers=[],this.resourceManager=new FEe({gl:e,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,gl:e,deck:t,programManager:e&&jEe(e),stats:i||new HP({id:"deck.gl"}),viewport:r||new Jh({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:o||new xW,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(e={clearRedrawFlags:!1}){let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const i of this.layers){const r=i.getNeedsRedraw(e);t=t||r}return t}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers({layerIds:e}={}){return e?this.layers.filter(t=>e.find(i=>0===t.id.indexOf(i))):this.layers}setProps(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}setLayers(e,t){Sa("layerManager.setLayers",this,t,e),this._lastRenderedLayers=e;const i=l2(e,Boolean);for(const r of i)r.context=this.context;this._updateLayers(this.layers,i)}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw("updating layers: ".concat(e)),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}_handleError(e,t,i){i.raiseError(t,"".concat(e," of ").concat(i))}_updateLayers(e,t){const i={};for(const s of e)i[s.id]?zi.warn("Multiple old layers with same id ".concat(s.id))():i[s.id]=s;const r=[];this._updateSublayersRecursively(t,i,r),this._finalizeOldLayers(i);let o=!1;for(const s of r)if(s.hasUniformTransition()){o="Uniform transition in ".concat(s);break}this._needsUpdate=o,this.layers=r}_updateSublayersRecursively(e,t,i){for(const r of e){r.context=this.context;const o=t[r.id];null===o&&zi.warn("Multiple new layers with same id ".concat(r.id))(),t[r.id]=null;let s=null;try{this._debug&&o!==r&&r.validateProps(),o?(this._transferLayerState(o,r),this._updateLayer(r)):this._initializeLayer(r),i.push(r),s=r.isComposite?r.getSubLayers():null}catch(a){this._handleError("matching",a,r)}s&&this._updateSublayersRecursively(s,t,i)}}_finalizeOldLayers(e){for(const t in e){const i=e[t];i&&this._finalizeLayer(i)}}_initializeLayer(e){try{e._initialize(),e.lifecycle="Initialized"}catch(t){this._handleError("initialization",t,e)}}_transferLayerState(e,t){t._transferState(e),t.lifecycle="Matched. State transferred from previous layer",t!==e&&(e.lifecycle="Discarded. Awaiting garbage collection")}_updateLayer(e){try{e._update()}catch(t){this._handleError("update",t,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||"finalized ".concat(e),e.lifecycle="No longer matched. Awaiting garbage collection";try{e._finalize(),e.lifecycle="Finalized! Awaiting garbage collection"}catch(t){this._handleError("finalization",t,e)}}}class HEe{constructor(e){ve(this,"width",void 0),ve(this,"height",void 0),ve(this,"views",void 0),ve(this,"viewState",void 0),ve(this,"controllers",void 0),ve(this,"timeline",void 0),ve(this,"_viewports",void 0),ve(this,"_viewportMap",void 0),ve(this,"_isUpdating",void 0),ve(this,"_needsRedraw",void 0),ve(this,"_needsUpdate",void 0),ve(this,"_eventManager",void 0),ve(this,"_eventCallbacks",void 0),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=e.eventManager,this._eventCallbacks={onViewStateChange:e.onViewStateChange,onInteractionStateChange:e.onInteractionStateChange},Object.seal(this),this.setProps(e)}finalize(){for(const e in this.controllers){const t=this.controllers[e];t&&t.finalize()}this.controllers={}}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}updateViewStates(){for(const e in this.controllers){const t=this.controllers[e];t&&t.updateTransition()}}getViewports(e){return e?this._viewports.filter(t=>t.containsPixel(e)):this._viewports}getViews(){const e={};return this.views.forEach(t=>{e[t.id]=t}),e}getView(e){return this.views.find(t=>t.id===e)}getViewState(e){const t="string"==typeof e?this.getView(e):e,i=t&&this.viewState[t.getViewStateId()]||this.viewState;return t?t.filterViewState(i):i}getViewport(e){return this._viewportMap[e]}unproject(e,t){const i=this.getViewports(),r={x:e[0],y:e[1]};for(let o=i.length-1;o>=0;--o){const s=i[o];if(s.containsPixel(r)){const a=e.slice();return a[0]-=s.x,a[1]-=s.y,s.unproject(a,t)}}return null}setProps(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(e,t){(e!==this.width||t!==this.height)&&(this.width=e,this.height=t,this.setNeedsUpdate("Size changed"))}_setViews(e){e=l2(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}_setViewState(e){e?(!F_(e,this.viewState)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):zi.warn("missing `viewState` or `initialViewState`")()}_onViewStateChange(e,t){this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange({...t,viewId:e})}_createController(e,t){return new(0,t.type)({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,t.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:o=>{var s;return null===(s=this.getView(e.id))||void 0===s?void 0:s.makeViewport({viewState:o,width:this.width,height:this.height})}})}_updateController(e,t,i,r){const o=e.controller;if(o){const s={...t,...o,id:e.id,x:i.x,y:i.y,width:i.width,height:i.height};return r||(r=this._createController(e,s)),r&&r.setProps(s),r}return null}_rebuildViewports(){const{views:e}=this,t=this.controllers;this._viewports=[],this.controllers={};let i=!1;for(let r=e.length;r--;){const o=e[r],s=this.getViewState(o),a=o.makeViewport({viewState:s,width:this.width,height:this.height});let c=t[o.id];const l=!!o.controller;l&&!c&&(i=!0),(i||!l)&&c&&(c.finalize(),c=null),this.controllers[o.id]=this._updateController(o,s,a,c),this._viewports.unshift(a)}for(const r in t){const o=t[r];o&&!this.controllers[r]&&o.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(e=>{e.id&&(this._viewportMap[e.id]=this._viewportMap[e.id]||e)})}_diffViews(e,t){return e.length!==t.length||e.some((i,r)=>!e[r].equals(t[r]))}}const $Ee=Math.PI/180;function t$(n){return 512/4003e4/Math.cos(n*$Ee)}class lf extends Jh{constructor(e={}){const{latitude:t=0,longitude:i=0,zoom:r=0,pitch:o=0,bearing:s=0,nearZMultiplier:a=.1,farZMultiplier:c=1.01,orthographic:l=!1,projectionMatrix:d,repeat:h=!1,worldOffset:f=0,legacyMeterSizes:m=!1}=e;let{width:g,height:v,altitude:E=1.5}=e;const L=Math.pow(2,r);g=g||1,v=v||1;let H,le=null;d?(E=d[5]/2,H=O1(E)):(e.fovy?(H=e.fovy,E=wP(H)):H=O1(E),le=function $6(n){const{width:e,height:t,altitude:i,pitch:r=0,offset:o,center:s,scale:a,nearZMultiplier:c=1,farZMultiplier:l=1}=n;let{fovy:d=O1(Qbe)}=n;void 0!==i&&(d=O1(i));const h=d*ll,f=r*ll,m=wP(d);let g=m;s&&(g+=s[2]*a/Math.cos(f)/t);const v=h*(.5+(o?o[1]:0)/t),E=Math.sin(v)*g/Math.sin(_P(Math.PI/2-f-v,.01,Math.PI-.01)),L=Math.sin(f)*E+g;return{fov:h,aspect:e/t,focalDistance:m,near:c,far:Math.min(L*l,10*g)}}({width:g,height:v,pitch:o,fovy:H,nearZMultiplier:a,farZMultiplier:c}));let se=function tye(n){const{height:e,pitch:t,bearing:i,altitude:r,scale:o,center:s}=n,a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];S1(a,a,[0,0,-r]),F6(a,a,-t*ll),L6(a,a,i*ll);const c=o/e;return pP(a,a,[c,c,c]),s&&S1(a,a,function K_e(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n}([],s)),a}({height:v,pitch:o,bearing:s,scale:L,altitude:E});f&&(se=(new jt).translate([512*f,0,0]).multiplyLeft(se)),super({...e,width:g,height:v,viewMatrix:se,longitude:i,latitude:t,zoom:r,...le,fovy:H,focalDistance:E}),ve(this,"longitude",void 0),ve(this,"latitude",void 0),ve(this,"pitch",void 0),ve(this,"bearing",void 0),ve(this,"altitude",void 0),ve(this,"fovy",void 0),ve(this,"orthographic",void 0),ve(this,"_subViewports",void 0),ve(this,"_pseudoMeters",void 0),this.latitude=t,this.longitude=i,this.zoom=r,this.pitch=o,this.bearing=s,this.altitude=E,this.fovy=H,this.orthographic=l,this._subViewports=h?[]:null,this._pseudoMeters=m,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const e=this.getBounds(),t=Math.floor((e[0]+180)/360),i=Math.ceil((e[2]-180)/360);for(let r=t;r<=i;r++){const o=r?new lf({...this,worldOffset:r}):this;this._subViewports.push(o)}}return this._subViewports}projectPosition(e){if(this._pseudoMeters)return super.projectPosition(e);const[t,i]=this.projectFlat(e);return[t,i,(e[2]||0)*t$(e[1])]}unprojectPosition(e){if(this._pseudoMeters)return super.unprojectPosition(e);const[t,i]=this.unprojectFlat(e);return[t,i,(e[2]||0)/t$(i)]}addMetersToLngLat(e,t){return W6(e,t)}panByPosition(e,t){const i=R0(t,this.pixelUnprojectionMatrix),o=A1([],this.projectFlat(e),B6([],i)),s=A1([],this.center,o),[a,c]=this.unprojectFlat(s);return{longitude:a,latitude:c}}getBounds(e={}){const t=function iye(n,e=0){const{width:t,height:i,unproject:r}=n,o={targetZ:e},s=r([0,i],o),a=r([t,i],o);let c,l;return(n.fovy?.5*n.fovy*X6:Math.atan(.5/n.altitude))>(90-n.pitch)*X6-.01?(c=K6(n,0,e),l=K6(n,t,e)):(c=r([0,0],o),l=r([t,0],o)),[s,a,l,c]}(this,e.z||0);return[Math.min(t[0][0],t[1][0],t[2][0],t[3][0]),Math.min(t[0][1],t[1][1],t[2][1],t[3][1]),Math.max(t[0][0],t[1][0],t[2][0],t[3][0]),Math.max(t[0][1],t[1][1],t[2][1],t[3][1])]}fitBounds(e,t={}){const{width:i,height:r}=this,{longitude:o,latitude:s,zoom:a}=Y6({width:i,height:r,bounds:e,...t});return new lf({width:i,height:r,longitude:o,latitude:s,zoom:a})}}ve(lf,"displayName","WebMercatorViewport");class YEe extends r9{constructor(e){const{width:t,height:i,latitude:r,longitude:o,zoom:s,bearing:a=0,pitch:c=0,altitude:l=1.5,position:d=[0,0,0],maxZoom:h=20,minZoom:f=0,maxPitch:m=60,minPitch:g=0,startPanLngLat:v,startZoomLngLat:E,startRotatePos:L,startBearing:H,startPitch:le,startZoom:se,normalize:Pe=!0}=e;zs(Number.isFinite(o)),zs(Number.isFinite(r)),zs(Number.isFinite(s)),super({width:t,height:i,latitude:r,longitude:o,zoom:s,bearing:a,pitch:c,altitude:l,maxZoom:h,minZoom:f,maxPitch:m,minPitch:g,normalize:Pe,position:d},{startPanLngLat:v,startZoomLngLat:E,startRotatePos:L,startBearing:H,startPitch:le,startZoom:se}),ve(this,"makeViewport",void 0),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanLngLat:this._unproject(e)})}pan({pos:e,startPos:t}){const i=this.getState().startPanLngLat||this._unproject(t);if(!i)return this;const o=this.makeViewport(this.getViewportProps()).panByPosition(i,e);return this._getUpdatedState(o)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:e,deltaAngleX:t=0,deltaAngleY:i=0}){const{startRotatePos:r,startBearing:o,startPitch:s}=this.getState();if(!r||void 0===o||void 0===s)return this;let a;return a=e?this._getNewRotation(e,r,s,o):{bearing:o+t,pitch:s+i},this._getUpdatedState(a)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:e}){return this._getUpdatedState({startZoomLngLat:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:t,scale:i}){let{startZoom:r,startZoomLngLat:o}=this.getState();if(o||(r=this.getViewportProps().zoom,o=this._unproject(t)||this._unproject(e)),!o)return this;const{maxZoom:s,minZoom:a}=this.getViewportProps();let c=r+Math.log2(i);c=Vs(c,a,s);const l=this.makeViewport({...this.getViewportProps(),zoom:c});return this._getUpdatedState({zoom:c,...l.panByPosition(o,e)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(e=2){return this._zoomFromCenter(e)}zoomOut(e=2){return this._zoomFromCenter(1/e)}moveLeft(e=100){return this._panFromCenter([e,0])}moveRight(e=100){return this._panFromCenter([-e,0])}moveUp(e=100){return this._panFromCenter([0,e])}moveDown(e=100){return this._panFromCenter([0,-e])}rotateLeft(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}rotateRight(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}rotateUp(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}rotateDown(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}shortestPathFrom(e){const t=e.getViewportProps(),i={...this.getViewportProps()},{bearing:r,longitude:o}=i;return Math.abs(r-t.bearing)>180&&(i.bearing=r<0?r+360:r-360),Math.abs(o-t.longitude)>180&&(i.longitude=o<0?o+360:o-360),i}applyConstraints(e){const{maxZoom:t,minZoom:i,zoom:r}=e;e.zoom=Vs(r,i,t);const{maxPitch:o,minPitch:s,pitch:a}=e;e.pitch=Vs(a,s,o);const{normalize:c=!0}=e;return c&&Object.assign(e,function rye(n){const{width:e,height:t,pitch:i=0}=n;let{longitude:r,latitude:o,zoom:s,bearing:a=0}=n;(r<-180||r>180)&&(r=H6(r+180,360)-180),(a<-180||a>180)&&(a=H6(a+180,360)-180);const c=bP(t/512);if(s<=c)s=c,o=0;else{const l=t/2/Math.pow(2,s),d=N_([0,l])[1];if(o<d)o=d;else{const h=N_([0,512-l])[1];o>h&&(o=h)}}return{width:e,height:t,longitude:r,latitude:o,zoom:s,pitch:i,bearing:a}}(e)),e}_zoomFromCenter(e){const{width:t,height:i}=this.getViewportProps();return this.zoom({pos:[t/2,i/2],scale:e})}_panFromCenter(e){const{width:t,height:i}=this.getViewportProps();return this.pan({startPos:[t/2,i/2],pos:[t/2+e[0],i/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}_unproject(e){const t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}_getNewRotation(e,t,i,r){const o=e[0]-t[0],s=e[1]-t[1],a=e[1],c=t[1],{width:l,height:d}=this.getViewportProps(),h=o/l;let f=0;s>0?Math.abs(d-c)>5&&(f=s/(c-d)*1.2):s<0&&c>5&&(f=1-a/c),f=Vs(f,-1,1);const{minPitch:m,maxPitch:g}=this.getViewportProps();let E=i;return f>0?E=i+f*(g-i):f<0&&(E=i-f*(m-i)),{pitch:E,bearing:r+180*h}}}class XEe extends SP{constructor(...e){super(...e),ve(this,"ControllerState",YEe),ve(this,"transition",{transitionDuration:300,transitionInterpolator:new P1({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})}),ve(this,"dragMode","pan")}setProps(e){e.position=e.position||[0,0,0];const t=this.props;super.setProps(e),(!t||t.height!==e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...e,...this.state}))}}class i$ extends EP{get ViewportType(){return lf}get ControllerType(){return XEe}}ve(i$,"displayName","MapView");class KEe extends W1{constructor(e,t){super(e,t),ve(this,"maskMap",void 0),ve(this,"fbo",void 0);const{mapSize:i=2048}=t;this.maskMap=new Hs(e,{width:i,height:i,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.fbo=new is(e,{id:"maskmap",width:i,height:i,attachments:{36064:this.maskMap}})}render(e){const t=this.gl,i=[!1,!1,!1,!1];return i[e.channel]=!0,dl(t,{clearColor:[255,255,255,255],blend:!0,blendFunc:[0,1],blendEquation:32778,colorMask:i,depthTest:!1},()=>super.render({...e,target:this.fbo,pass:"mask"}))}shouldDrawLayer(e){return"mask"===e.props.operation}delete(){this.fbo.delete(),this.maskMap.delete()}}class eCe{constructor(){ve(this,"id","mask-effect"),ve(this,"props",null),ve(this,"useInPicking",!0),ve(this,"dummyMaskMap",void 0),ve(this,"channels",[]),ve(this,"masks",null),ve(this,"maskPass",void 0),ve(this,"maskMap",void 0),ve(this,"lastViewport",void 0)}preRender(e,{layers:t,layerFilter:i,viewports:r,onViewportActive:o,views:s}){this.dummyMaskMap||(this.dummyMaskMap=new Hs(e,{width:1,height:1}));const a=t.filter(h=>h.props.visible&&"mask"===h.props.operation);if(0===a.length)return this.masks=null,void(this.channels.length=0);this.masks={},this.maskPass||(this.maskPass=new KEe(e,{id:"default-mask"}),this.maskMap=this.maskPass.maskMap);const c=this._sortMaskChannels(a),l=r[0],d=!this.lastViewport||!this.lastViewport.equals(l);for(const h in c)this._renderChannel(c[h],{layerFilter:i,onViewportActive:o,views:s,viewport:l,viewportChanged:d})}_renderChannel(e,{layerFilter:t,onViewportActive:i,views:r,viewport:o,viewportChanged:s}){const a=this.channels[e.index];if(!a)return;const c=e===a||a.layers.length!==e.layers.length||e.layerBounds.some((l,d)=>l!==a.layerBounds[d]);if(e.bounds=a.bounds,e.maskBounds=a.maskBounds,this.channels[e.index]=e,(c||s)&&(this.lastViewport=o,e.bounds=function JEe({layers:n,viewport:e}){let t=null;for(const o of n){const s=o.getBounds();s&&(t?(t[0]=Math.min(t[0],s[0][0]),t[1]=Math.min(t[1],s[0][1]),t[2]=Math.max(t[2],s[1][0]),t[3]=Math.max(t[3],s[1][1])):t=[s[0][0],s[0][1],s[1][0],s[1][1]])}const i=e.getBounds();if(!t)return i;const r=function ZEe(n){const e_x=n[2]-n[0],e_y=n[3]-n[1],t_x=n[0]+.5*e_x,t_y=n[1]+.5*e_y;return[t_x-e_x,t_y-e_y,t_x+e_x,t_y+e_y]}(i);return t[2]-t[0]<r[2]-r[0]||t[3]-t[1]<r[3]-r[1]||(t[0]=Math.max(t[0],r[0]),t[1]=Math.max(t[1],r[1]),t[2]=Math.min(t[2],r[2]),t[3]=Math.min(t[3],r[3])),t}({layers:e.layers,viewport:o}),c||!R_(e.bounds,a.bounds))){const{maskPass:l,maskMap:d}=this,h=function QEe({bounds:n,viewport:e,width:t,height:i}){if(n[2]<=n[0]||n[3]<=n[1])return null;if(t-=2,i-=2,e instanceof lf){const{longitude:a,latitude:c,zoom:l}=Y6({width:t,height:i,bounds:[[n[0],n[1]],[n[2],n[3]]],maxZoom:20});return new lf({longitude:a,latitude:c,zoom:l,x:1,y:1,width:t,height:i})}const o=[(n[0]+n[2])/2,(n[1]+n[3])/2,0],s=Math.min(20,t/(n[2]-n[0]),i/(n[3]-n[1]));return new AP({x:1,y:1}).makeViewport({width:t,height:i,viewState:{target:o,zoom:Math.log2(s)}})}({bounds:e.bounds,viewport:o,width:d.width,height:d.height});e.maskBounds=h?h.getBounds():[0,0,1,1],l.render({pass:"mask",channel:e.index,layers:e.layers,layerFilter:t,viewports:h?[h]:[],onViewportActive:i,views:r,moduleParameters:{devicePixelRatio:1}})}this.masks[e.id]={index:e.index,bounds:e.maskBounds,coordinateOrigin:e.coordinateOrigin,coordinateSystem:e.coordinateSystem}}_sortMaskChannels(e){const t={};let i=0;for(const r of e){const{id:o}=r.root;let s=t[o];if(!s){if(++i>4){zi.warn("Too many mask layers. The max supported is 4")();continue}s={id:o,index:this.channels.findIndex(a=>a?.id===o),layers:[],layerBounds:[],coordinateOrigin:r.root.props.coordinateOrigin,coordinateSystem:r.root.props.coordinateSystem},t[o]=s}s.layers.push(r),s.layerBounds.push(r.getBounds())}for(let r=0;r<4;r++){const o=this.channels[r];(!o||!(o.id in t))&&(this.channels[r]=null)}for(const r in t){const o=t[r];o.index<0&&(o.index=this.channels.findIndex(s=>!s),this.channels[o.index]=o)}return t}getModuleParameters(){return{maskMap:this.masks?this.maskMap:this.dummyMaskMap,maskChannels:this.masks}}cleanup(){this.dummyMaskMap&&(this.dummyMaskMap.delete(),this.dummyMaskMap=void 0),this.maskPass&&(this.maskPass.delete(),this.maskPass=void 0,this.maskMap=void 0),this.lastViewport=void 0,this.masks=null,this.channels.length=0}}const tCe=new a2;class nCe{constructor(){ve(this,"effects",void 0),ve(this,"_internalEffects",void 0),ve(this,"_needsRedraw",void 0),this.effects=[],this._internalEffects=[],this._needsRedraw="Initial render",this.setEffects()}setProps(e){"effects"in e&&(e.effects.length!==this.effects.length||!F_(e.effects,this.effects))&&(this.setEffects(e.effects),this._needsRedraw="effects changed")}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}getEffects(){return this._internalEffects}finalize(){this.cleanup()}setEffects(e=[]){this.cleanup(),this.effects=e,this._internalEffects=e.slice(),this._internalEffects.push(new eCe),e.some(t=>t instanceof a2)||this._internalEffects.push(tCe)}cleanup(){for(const e of this.effects)e.cleanup();for(const e of this._internalEffects)e.cleanup();this.effects.length=0,this._internalEffects.length=0}}class iCe extends W1{shouldDrawLayer(e){return"draw"===e.props.operation}}const r$={blendFunc:[1,0,32771,0],blendEquation:32774};class o$ extends W1{constructor(...e){super(...e),ve(this,"pickZ",void 0),ve(this,"_colors",null)}render(e){return e.pickingFBO?this._drawPickingBuffer(e):super.render(e)}_drawPickingBuffer({layers:e,layerFilter:t,views:i,viewports:r,onViewportActive:o,pickingFBO:s,deviceRect:{x:a,y:c,width:l,height:d},cullRect:h,effects:f,pass:m="picking",pickZ:g}){const v=this.gl;this.pickZ=g;const E=g?null:{byLayer:new Map,byAlpha:[]};this._colors=E;const L=dl(v,{scissorTest:!0,scissor:[a,c,l,d],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0],...r$,blend:!g},()=>super.render({target:s,layers:e,layerFilter:t,views:i,viewports:r,onViewportActive:o,cullRect:h,effects:f?.filter(le=>le.useInPicking),pass:m}));return this._colors=null,{decodePickingColor:E&&oCe.bind(null,E),stats:L}}shouldDrawLayer(e){return e.props.pickable&&"draw"===e.props.operation}getModuleParameters(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}getLayerParameters(e,t,i){const r={...e.props.parameters};return this._colors?(Object.assign(r,r$),r.blend=!0,r.blendColor=function rCe(n,e,t){const{byLayer:i,byAlpha:r}=n;let o,s=i.get(e);return s?(s.viewports.push(t),o=s.a):(o=i.size+1,o<=255?(s={a:o,layer:e,viewports:[t]},i.set(e,s),r[o]=s):(zi.warn("Too many pickable layers, only picking the first 255")(),o=0)),[0,0,0,o/255]}(this._colors,e,i)):r.blend=!1,r}}function oCe(n,e){const t=n.byAlpha[e[3]];return t&&{pickedLayer:t.layer,pickedViewports:t.viewports,pickedObjectIndex:t.layer.decodePickingColor(e)}}class aCe{constructor(e){this.gl=e,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new iCe(e),this.pickLayersPass=new o$(e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(e){"layerFilter"in e&&this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),"drawPickingColors"in e&&this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(e){const t=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass;e.layerFilter=e.layerFilter||this.layerFilter,e.effects=e.effects||[],e.target=e.target||is.getDefaultFramebuffer(this.gl),this._preRender(e.effects,e);const i=this.lastPostProcessEffect?this.renderBuffers[0]:e.target,r=t.render({...e,target:i});this._postRender(e.effects,e),this.renderCount++,Sa("deckRenderer.renderLayers",this,r,e)}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}finalize(){const{renderBuffers:e}=this;for(const t of e)t.delete();e.length=0}_preRender(e,t){let i=null;for(const r of e)r.preRender(this.gl,t),r.postRender&&(i=r);i&&this._resizeRenderBuffers(),this.lastPostProcessEffect=i}_resizeRenderBuffers(){const{renderBuffers:e}=this;0===e.length&&e.push(new is(this.gl),new is(this.gl));for(const t of e)t.resize()}_postRender(e,t){const{renderBuffers:i}=this,r={inputBuffer:i[0],swapBuffer:i[1],target:null};for(const o of e)if(o.postRender){if(o===this.lastPostProcessEffect){r.target=t.target,o.postRender(this.gl,r);break}const s=o.postRender(this.gl,r);r.inputBuffer=s,r.swapBuffer=s===i[0]?i[1]:i[0]}}}const cCe={pickedColor:null,pickedObjectIndex:-1};function lCe({pickedColors:n,decodePickingColor:e,deviceX:t,deviceY:i,deviceRadius:r,deviceRect:o}){const{x:s,y:a,width:c,height:l}=o;let d=r*r,h=-1,f=0;for(let m=0;m<l;m++){const g=m+a-i,v=g*g;if(v>d)f+=4*c;else for(let E=0;E<c;E++){if(n[f+3]-1>=0){const H=E+s-t,le=H*H+v;le<=d&&(d=le,h=f)}f+=4}}if(h>=0){const m=n.slice(h,h+4),g=e(m);if(g){const v=Math.floor(h/4/c),E=h/4-v*c;return{...g,pickedColor:m,pickedX:s+E,pickedY:a+v}}zi.error("Picked non-existent layer. Is picking buffer corrupt?")()}return cCe}function s$({pickInfo:n,viewports:e,pixelRatio:t,x:i,y:r,z:o}){let a,s=e[0];if(e.length>1&&(s=function hCe(n,e){for(let t=n.length-1;t>=0;t--){const i=n[t];if(i.containsPixel(e))return i}return n[0]}(n?.pickedViewports||e,{x:i,y:r})),s){const c=[i-s.x,r-s.y];void 0!==o&&(c[2]=o),a=s.unproject(c)}return{color:null,layer:null,viewport:s,index:-1,picked:!1,x:i,y:r,pixel:[i,r],coordinate:a,devicePixel:n&&"pickedX"in n?[n.pickedX,n.pickedY]:void 0,pixelRatio:t}}function uCe(n){const{pickInfo:e,lastPickedInfo:t,mode:i,layers:r}=n,{pickedColor:o,pickedLayer:s,pickedObjectIndex:a}=e,c=s?[s]:[];if("hover"===i){const f=t.layerId,m=s?s.props.id:null;if(m!==f||a!==t.index){if(m!==f){const g=r.find(v=>v.props.id===f);g&&c.unshift(g)}t.layerId=m,t.index=a,t.info=null}}const l=s$(n),d=new Map;return d.set(null,l),c.forEach(h=>{let f={...l};h===s&&(f.color=o,f.index=a,f.picked=!0),f=a$({layer:h,info:f,mode:i});const m=f.layer;h===s&&"hover"===i&&(t.info=f),d.set(m.id,f),"hover"===i&&m.updateAutoHighlight(f)}),d}function a$({layer:n,info:e,mode:t}){for(;n&&e;){const i=e.layer||null;e.sourceLayer=i,e.layer=n,e=n.getPickingInfo({info:e,mode:t,sourceLayer:i}),n=n.parent}return e}class fCe{constructor(e){ve(this,"gl",void 0),ve(this,"pickingFBO",void 0),ve(this,"depthFBO",void 0),ve(this,"pickLayersPass",void 0),ve(this,"layerFilter",void 0),ve(this,"lastPickedInfo",void 0),ve(this,"_pickable",!0),this.gl=e,this.pickLayersPass=new o$(e),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}pickObject(e){return this._pickClosestObject(e)}pickObjects(e){return this._pickVisibleObjects(e)}getLastPickedObject({x:e,y:t,layers:i,viewports:r},o=this.lastPickedInfo.info){const s=o&&o.layer&&o.layer.id,a=o&&o.viewport&&o.viewport.id,c=s?i.find(f=>f.id===s):null,l=a&&r.find(f=>f.id===a)||r[0],d=l&&l.unproject([e-l.x,t-l.y]);return{...o,x:e,y:t,viewport:l,coordinate:d,layer:c}}_resizeBuffer(){var e,t;const{gl:i}=this;if(!this.pickingFBO&&(this.pickingFBO=new is(i),is.isSupported(i,{colorBufferFloat:!0}))){const r=new is(i);r.attach({36064:new Hs(i,{format:Pi(i)?34836:6408,type:5126})}),this.depthFBO=r}null===(e=this.pickingFBO)||void 0===e||e.resize({width:i.canvas.width,height:i.canvas.height}),null===(t=this.depthFBO)||void 0===t||t.resize({width:i.canvas.width,height:i.canvas.height})}_getPickable(e){if(!1===this._pickable)return null;const t=e.filter(i=>i.isPickable()&&!i.isComposite);return t.length?t:null}_pickClosestObject({layers:e,views:t,viewports:i,x:r,y:o,radius:s=0,depth:a=1,mode:c="query",unproject3D:l,onViewportActive:d,effects:h}){const f=this._getPickable(e),m=j_(this.gl);if(!f)return{result:[],emptyInfo:s$({viewports:i,x:r,y:o,pixelRatio:m})};this._resizeBuffer();const g=UP(this.gl,[r,o],!0),v=[g.x+Math.floor(g.width/2),g.y+Math.floor(g.height/2)],E=Math.round(s*m),{width:L,height:H}=this.pickingFBO,le=this._getPickingRect({deviceX:v[0],deviceY:v[1],deviceRadius:E,deviceWidth:L,deviceHeight:H}),se={x:r-s,y:o-s,width:2*s+1,height:2*s+1};let Pe;const $e=[],ct=new Set;for(let pt=0;pt<a;pt++){let tt,yt;tt=le?lCe({...this._drawAndSample({layers:f,views:t,viewports:i,onViewportActive:d,deviceRect:le,cullRect:se,effects:h,pass:"picking:".concat(c)}),deviceX:v[0],deviceY:v[1],deviceRadius:E,deviceRect:le}):{pickedColor:null,pickedObjectIndex:-1},tt.pickedLayer&&l&&this.depthFBO&&(yt=this._drawAndSample({layers:[tt.pickedLayer],views:t,viewports:i,onViewportActive:d,deviceRect:{x:tt.pickedX,y:tt.pickedY,width:1,height:1},cullRect:se,effects:h,pass:"picking:".concat(c,":z")},!0).pickedColors[0]),tt.pickedLayer&&pt+1<a&&(ct.add(tt.pickedLayer),tt.pickedLayer.disablePickingIndex(tt.pickedObjectIndex)),Pe=uCe({pickInfo:tt,lastPickedInfo:this.lastPickedInfo,mode:c,layers:f,viewports:i,x:r,y:o,z:yt,pixelRatio:m});for(const Pt of Pe.values())Pt.layer&&$e.push(Pt);if(!tt.pickedColor)break}for(const pt of ct)pt.restorePickingColors();return{result:$e,emptyInfo:Pe.get(null)}}_pickVisibleObjects({layers:e,views:t,viewports:i,x:r,y:o,width:s=1,height:a=1,mode:c="query",maxObjects:l=null,onViewportActive:d,effects:h}){const f=this._getPickable(e);if(!f)return[];this._resizeBuffer();const m=j_(this.gl),g=UP(this.gl,[r,o],!0),v=g.x,E=g.y+g.height,L=UP(this.gl,[r+s,o+a],!0),le=L.y,$e=function dCe({pickedColors:n,decodePickingColor:e}){const t=new Map;if(n)for(let i=0;i<n.length;i+=4)if(n[i+3]-1>=0){const o=n.slice(i,i+4),s=o.join(",");if(!t.has(s)){const a=e(o);a?t.set(s,{...a,color:o}):zi.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return Array.from(t.values())}(this._drawAndSample({layers:f,views:t,viewports:i,onViewportActive:d,deviceRect:{x:v,y:le,width:L.x+L.width-v,height:E-le},cullRect:{x:r,y:o,width:s,height:a},effects:h,pass:"picking:".concat(c)})),ct=new Map,pt=Number.isFinite(l);for(let tt=0;tt<$e.length&&!(pt&&l&&ct.size>=l);tt++){const yt=$e[tt];let Pt={color:yt.pickedColor,layer:null,index:yt.pickedObjectIndex,picked:!0,x:r,y:o,pixelRatio:m};Pt=a$({layer:yt.pickedLayer,info:Pt,mode:c}),ct.has(Pt.object)||ct.set(Pt.object,Pt)}return Array.from(ct.values())}_drawAndSample({layers:e,views:t,viewports:i,onViewportActive:r,deviceRect:o,cullRect:s,effects:a,pass:c},l=!1){const d=l?this.depthFBO:this.pickingFBO,{decodePickingColor:h}=this.pickLayersPass.render({layers:e,layerFilter:this.layerFilter,views:t,viewports:i,onViewportActive:r,pickingFBO:d,deviceRect:o,cullRect:s,effects:a,pass:c,pickZ:l}),{x:f,y:m,width:g,height:v}=o,E=new(l?Float32Array:Uint8Array)(g*v*4);return V1(d,{sourceX:f,sourceY:m,sourceWidth:g,sourceHeight:v,target:E}),{pickedColors:E,decodePickingColor:h}}_getPickingRect({deviceX:e,deviceY:t,deviceRadius:i,deviceWidth:r,deviceHeight:o}){const s=Math.max(0,e-i),a=Math.max(0,t-i),c=Math.min(r,e+i+1)-s,l=Math.min(o,t+i+1)-a;return c<=0||l<=0?null:{x:s,y:a,width:c,height:l}}}const pCe={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class mCe{constructor(e){ve(this,"el",null),ve(this,"isVisible",!1);const t=e.parentElement;t&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,pCe),t.appendChild(this.el))}setTooltip(e,t,i){const r=this.el;if(r){if("string"==typeof e)r.innerText=e;else{if(!e)return this.isVisible=!1,void(r.style.display="none");e.text&&(r.innerText=e.text),e.html&&(r.innerHTML=e.html),e.className&&(r.className=e.className),Object.assign(r.style,e.style)}this.isVisible=!0,r.style.display="block",r.style.transform="translate(".concat(t,"px, ").concat(i,"px)")}}remove(){this.el&&(this.el.remove(),this.el=null)}}function c$(n,e){if(!n)throw new Error(e||"loader assertion failed.")}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const _Ce=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),l$=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),{_parseImageNode:bCe}=(l$&&parseFloat(l$[1]),globalThis),q2=typeof Image<"u",Y2=typeof ImageBitmap<"u",X2=!!_Ce||!!bCe;function d$(n){const e=function h$(n){return typeof ImageBitmap<"u"&&n instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&n instanceof Image?"image":n&&"object"==typeof n&&n.data&&n.width&&n.height?"data":null}(n);if(!e)throw new Error("Not an image");return e}const wCe=/^data:image\/svg\+xml/,xCe=/\.svg((\?|#).*)?$/;function K2(n){return n&&(wCe.test(n)||xCe.test(n))}function f$(n,e){if(K2(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(n)])}function p$(n,e,t){return J2.apply(this,arguments)}function J2(){return J2=D(function*(n,e,t){const i=function ECe(n,e){if(K2(e)){let i=(new TextDecoder).decode(n);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(i=unescape(encodeURIComponent(i)))}catch(o){throw new Error(o.message)}return"data:image/svg+xml;base64,".concat(btoa(i))}return f$(n,e)}(n,t),r=self.URL||self.webkitURL,o="string"!=typeof i&&r.createObjectURL(i);try{return yield function CCe(n,e){return Q2.apply(this,arguments)}(o||i,e)}finally{o&&r.revokeObjectURL(o)}}),J2.apply(this,arguments)}function Q2(){return Q2=D(function*(n,e){const t=new Image;return t.src=n,e.image&&e.image.decode&&t.decode?(yield t.decode(),t):yield new Promise((i,r)=>{try{t.onload=()=>i(t),t.onerror=o=>r(new Error("Could not load image ".concat(n,": ").concat(o)))}catch(o){r(o)}})}),Q2.apply(this,arguments)}const SCe={};let m$=!0;function Z2(){return Z2=D(function*(n,e,t){let i;i=K2(t)?yield p$(n,e,t):f$(n,t);const r=e&&e.imagebitmap;return yield function TCe(n){return eN.apply(this,arguments)}(i,r)}),Z2.apply(this,arguments)}function eN(){return eN=D(function*(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((function MCe(n){for(const e in n||SCe)return!1;return!0}(e)||!m$)&&(e=null),e)try{return yield createImageBitmap(n,e)}catch(t){console.warn(t),m$=!1}return yield createImageBitmap(n)}),eN.apply(this,arguments)}const Rd=!1,q0=!0;function g$(n){const e=Y0(n);return function NCe(n){const e=Y0(n);return e.byteLength>=24&&2303741511===e.getUint32(0,Rd)?{mimeType:"image/png",width:e.getUint32(16,Rd),height:e.getUint32(20,Rd)}:null}(e)||function BCe(n){const e=Y0(n);if(!(e.byteLength>=3&&65496===e.getUint16(0,Rd)&&255===e.getUint8(2)))return null;const{tableMarkers:i,sofMarkers:r}=function jCe(){const n=new Set([65499,65476,65484,65501,65534]);for(let t=65504;t<65520;++t)n.add(t);return{tableMarkers:n,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let o=2;for(;o+9<e.byteLength;){const s=e.getUint16(o,Rd);if(r.has(s))return{mimeType:"image/jpeg",height:e.getUint16(o+5,Rd),width:e.getUint16(o+7,Rd)};if(!i.has(s))return null;o+=2,o+=e.getUint16(o,Rd)}return null}(e)||function FCe(n){const e=Y0(n);return e.byteLength>=10&&1195984440===e.getUint32(0,Rd)?{mimeType:"image/gif",width:e.getUint16(6,q0),height:e.getUint16(8,q0)}:null}(e)||function LCe(n){const e=Y0(n);return e.byteLength>=14&&16973===e.getUint16(0,Rd)&&e.getUint32(2,q0)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,q0),height:e.getUint32(22,q0)}:null}(e)||function PCe(n){const t=function ICe(n){return function kCe(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=function OCe(n){return[...n].map(e=>e.charCodeAt(0))}(e);for(let r=0;r<i.length;++r)if(i[r]!==n[r+t])return!1;return!0}(n,"ftyp",4)&&96&n[8]?function DCe(n){switch(function RCe(n,e,t){return String.fromCharCode(...n.slice(e,t))}(n,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}(n):null}(new Uint8Array(n instanceof DataView?n.buffer:n));return t?{mimeType:t.mimeType,width:0,height:0}:null}(e)}function Y0(n){if(n instanceof DataView)return n;if(ArrayBuffer.isView(n))return new DataView(n.buffer);if(n instanceof ArrayBuffer)return new DataView(n);throw new Error("toDataView")}function tN(){return tN=D(function*(n,e){const{mimeType:t}=g$(n)||{},i=globalThis._parseImageNode;return c$(i),yield i(n,t)}),tN.apply(this,arguments)}function nN(){return nN=D(function*(n,e,t){const r=((e=e||{}).image||{}).type||"auto",{url:o}=t||{},s=function zCe(n){switch(n){case"auto":case"data":return function vCe(){if(Y2)return"imagebitmap";if(q2)return"image";if(X2)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function yCe(n){switch(n){case"auto":return Y2||q2||X2;case"imagebitmap":return Y2;case"image":return q2;case"data":return X2;default:throw new Error("@loaders.gl/images: image ".concat(n," not supported in this environment"))}}(n),n}}(r);let a;switch(s){case"imagebitmap":a=yield function ACe(n,e,t){return Z2.apply(this,arguments)}(n,e,o);break;case"image":a=yield p$(n,e,o);break;case"data":a=yield function UCe(n,e){return tN.apply(this,arguments)}(n,e);break;default:c$(!1)}return"data"===r&&(a=function u$(n){switch(d$(n)){case"data":return n;case"image":case"imagebitmap":const e=document.createElement("canvas"),t=e.getContext("2d");if(!t)throw new Error("getImageData");return e.width=n.width,e.height=n.height,t.drawImage(n,0,0),t.getImageData(0,0,n.width,n.height);default:throw new Error("getImageData")}}(a)),a}),nN.apply(this,arguments)}const _$={id:"image",module:"images",name:"Images",version:"3.4.15",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:function VCe(n,e,t){return nN.apply(this,arguments)},tests:[n=>!!g$(new DataView(n))],options:{image:{type:"auto",decode:!0}}},GCe={id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:function HCe(n){const e=n[0],t=n[n.length-1];return"{"===e&&"}"===t||"["===e&&"]"===t},parseTextSync:JSON.parse},X0="8.8.27",Q1=globalThis.deck&&globalThis.deck.VERSION;if(Q1&&Q1!==X0)throw new Error("deck.gl - multiple versions detected: ".concat(Q1," vs ").concat(X0));Q1||(zi.log(1,"deck.gl ".concat(X0))(),globalThis.deck={...globalThis.deck,VERSION:X0,version:X0,log:zi,_registerLoggers:function gxe(n){c2=n}},XW([GCe,[_$,{imagebitmap:{premultiplyAlpha:"none"}}]]));const WCe=globalThis.deck,Z1=globalThis;function b$(n){if(!n&&!Ed())return"Node";if(v6(n))return"Electron";const t=n||(typeof navigator<"u"?navigator:{}).userAgent||"";if(t.indexOf("Edge")>-1)return"Edge";const i=-1!==t.indexOf("MSIE "),r=-1!==t.indexOf("Trident/");return i||r?"IE":Z1.chrome?"Chrome":Z1.safari?"Safari":Z1.mozInnerScreenX?"Firefox":"Unknown"}class eA extends ju{get[Symbol.toStringTag](){return"Query"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const i=Pi(e),r=K9(e,"TIMER_QUERY");let o=i||r;for(const s of t)switch(s){case"queries":o=o&&i;break;case"timers":o=o&&r;break;default:gn(!1)}return o}constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.target=null,this._queryPending=!1,this._pollingPromise=null,Object.seal(this)}beginTimeElapsedQuery(){return this.begin(35007)}beginOcclusionQuery(){let{conservative:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.begin(e?36202:35887)}beginTransformFeedbackQuery(){return this.begin(35976)}begin(e){return this._queryPending||(this.target=e,this.gl2.beginQuery(this.target,this.handle)),this}end(){return this._queryPending||this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this}isResultAvailable(){if(!this._queryPending)return!1;const e=this.gl2.getQueryParameter(this.handle,34919);return e&&(this._queryPending=!1),e}isTimerDisjoint(){return this.gl2.getParameter(36795)}getResult(){return this.gl2.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}createPoll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;let t=0;return this._pollingPromise=new Promise((i,r)=>{const o=()=>{this.isResultAvailable()?(i(this.getResult()),this._pollingPromise=null):t++>e?(r("Timed out"),this._pollingPromise=null):requestAnimationFrame(o)};requestAnimationFrame(o)}),this._pollingPromise}_createHandle(){return eA.isSupported(this.gl)?this.gl2.createQuery():null}_deleteHandle(){this.gl2.deleteQuery(this.handle)}}const y$=Ed()&&typeof document<"u";let tSe=0;class nSe{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onCreateContext:t=(E=>k9(E)),onAddHTML:i=null,onInitialize:r=(()=>{}),onRender:o=(()=>{}),onFinalize:s=(()=>{}),onError:a,gl:c=null,glOptions:l={},debug:d=!1,createFramebuffer:h=!1,autoResizeViewport:f=!0,autoResizeDrawingBuffer:m=!0,stats:g=Yp.get("animation-loop-".concat(tSe++))}=e;let{useDevicePixels:v=!0}=e;"useDevicePixelRatio"in e&&(Nn.deprecated("useDevicePixelRatio","useDevicePixels")(),v=e.useDevicePixelRatio),this.props={onCreateContext:t,onAddHTML:i,onInitialize:r,onRender:o,onFinalize:s,onError:a,gl:c,glOptions:l,debug:d,createFramebuffer:h},this.gl=c,this.needsRedraw=null,this.timeline=null,this.stats=g,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:f,autoResizeDrawingBuffer:m,useDevicePixels:v}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}delete(){this.stop(),this._setDisplay(null)}setNeedsRedraw(e){return gn("string"==typeof e),this.needsRedraw=this.needsRedraw||e,this}setProps(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;const t=this._getPageLoadPromise().then(()=>!this._running||this._initialized?null:(this._createWebGLContext(e),this._createFramebuffer(),this._startEventHandling(),this._initializeCallbackData(),this._updateCallbackData(),this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._gpuTimeQuery=eA.isSupported(this.gl,["timers"])?new eA(this.gl):null,this._initialized=!0,this.onInitialize(this.animationProps))).then(i=>{this._running&&(this._addCallbackData(i||{}),!1!==i&&this._startLoop())});return this.props.onError&&t.catch(this.props.onError),this}redraw(){return this.isContextLost()||(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers()),this}stop(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}attachTimeline(e){return this.timeline=e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(e=>{this._resolveNextFrame=e})),this._nextFramePromise}toDataURL(){var e=this;return D(function*(){return e.setNeedsRedraw("toDataURL"),yield e.waitForRender(),e.gl.canvas.toDataURL()})()}isContextLost(){return this.gl.isContextLost()}onCreateContext(){return this.props.onCreateContext(...arguments)}onInitialize(){return this.props.onInitialize(...arguments)}onRender(){return this.props.onRender(...arguments)}onFinalize(){return this.props.onFinalize(...arguments)}getHTMLControlValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const i=document.getElementById(e);return i?Number(i.value):t}setViewParameters(){return Nn.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}_startLoop(){const e=()=>{this._running&&(this.redraw(),this._animationFrameId=this._requestAnimationFrame(e))};this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(e)}_getPageLoadPromise(){return this._pageLoadPromise||(this._pageLoadPromise=y$?new Promise((e,t)=>{y$&&"complete"===document.readyState?e(document):window.addEventListener("load",()=>{e(document)})}):Promise.resolve({})),this._pageLoadPromise}_setDisplay(e){this.display&&(this.display.delete(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}_cancelAnimationFrame(e){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(e):function eSe(n){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame(n):clearTimeout(n)}(e)}_requestAnimationFrame(e){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(e):function ZCe(n){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame(n):setTimeout(n,1e3/60)}(e)}_renderFrame(){this.display?this.display._renderFrame(...arguments):this.onRender(...arguments)}_clearNeedsRedraw(){this.needsRedraw=null}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}_initializeCallbackData(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}_updateCallbackData(){const{width:e,height:t,aspect:i}=this._getSizeAndAspect();(e!==this.animationProps.width||t!==this.animationProps.height)&&this.setNeedsRedraw("drawing buffer resized"),i!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=t,this.animationProps.aspect=i,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}_finalizeCallbackData(){this.onFinalize(this.animationProps)}_addCallbackData(e){"object"==typeof e&&null!==e&&(this.animationProps=Object.assign({},this.animationProps,e))}_createWebGLContext(e){if(this.offScreen=e.canvas&&typeof OffscreenCanvas<"u"&&e.canvas instanceof OffscreenCanvas,e=Object.assign({},e,this.props.glOptions),this.gl=this.props.gl?zP(this.props.gl,e):this.onCreateContext(e),!j1(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");(function Xve(n){Bu(n,jP)})(this.gl),this._createInfoDiv()}_createInfoDiv(){if(this.gl.canvas&&this.props.onAddHTML){const e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";const t=document.createElement("div");t.style.position="absolute",t.style.left="10px",t.style.bottom="10px",t.style.width="300px",t.style.background="white",e.appendChild(this.gl.canvas),e.appendChild(t);const i=this.props.onAddHTML(t);i&&(t.innerHTML=i)}}_getSizeAndAspect(){const e=this.gl.drawingBufferWidth,t=this.gl.drawingBufferHeight;let i=1;const{canvas:r}=this.gl;return r&&r.clientHeight?i=r.clientWidth/r.clientHeight:e>0&&t>0&&(i=e/t),{width:e,height:t,aspect:i}}_resizeViewport(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){this.autoResizeDrawingBuffer&&function e0e(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.canvas){const i=function Kve(n){const e=typeof window>"u"?1:window.devicePixelRatio||1;return Number.isFinite(n)?n<=0?1:n:n?e:1}(e.useDevicePixels);return void function o0e(n,e,t){let i="width"in t?t.width:n.canvas.clientWidth,r="height"in t?t.height:n.canvas.clientHeight;(!i||!r)&&(Nn.log(1,"Canvas clientWidth/clientHeight is 0")(),e=1,i=n.canvas.width||1,r=n.canvas.height||1),n.luma=n.luma||{},n.luma.canvasSizeInfo=n.luma.canvasSizeInfo||{};const o=n.luma.canvasSizeInfo;if(o.clientWidth!==i||o.clientHeight!==r||o.devicePixelRatio!==e){let s=e;const a=Math.floor(i*s),c=Math.floor(r*s);n.canvas.width=a,n.canvas.height=c,(n.drawingBufferWidth!==a||n.drawingBufferHeight!==c)&&(Nn.warn("Device pixel ratio clamped")(),s=Math.min(n.drawingBufferWidth/i,n.drawingBufferHeight/r),n.canvas.width=Math.floor(i*s),n.canvas.height=Math.floor(r*s)),Object.assign(n.luma.canvasSizeInfo,{clientWidth:i,clientHeight:r,devicePixelRatio:e})}}(n,i,e)}const t=n.getExtension("STACKGL_resize_drawingbuffer");t&&"width"in e&&"height"in e&&t.resize(e.width,e.height)}(this.gl,{useDevicePixels:this.useDevicePixels})}_createFramebuffer(){this.props.createFramebuffer&&(this.framebuffer=new is(this.gl))}_resizeFramebuffer(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}_beginTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}_endTimers(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}_startEventHandling(){const{canvas:e}=this.gl;e&&(e.addEventListener("mousemove",this._onMousemove),e.addEventListener("mouseleave",this._onMouseleave))}_onMousemove(e){this.animationProps._mousePosition=[e.offsetX,e.offsetY]}_onMouseleave(e){this.animationProps._mousePosition=null}}var tA=S(4511);const iSe={mousedown:1,mousemove:2,mouseup:4};(function oSe(n){const e=n.prototype.handler;n.prototype.handler=function(i){const r=this.store;i.button>0&&"pointerdown"===i.type&&(function rSe(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return!0;return!1}(r,o=>o.pointerId===i.pointerId)||r.push(i)),e.call(this,i)}})(tA.PointerEventInput),function sSe(n){n.prototype.handler=function(t){let i=iSe[t.type];1&i&&t.button>=0&&(this.pressed=!0),2&i&&0===t.which&&(i=4),this.pressed&&(4&i&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}}(tA.MouseInput);const aSe=tA.Manager,Od=tA;class nA{constructor(e,t,i){this.element=e,this.callback=t,this.options={enable:!0,...i}}}const cSe=Od?[[Od.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[Od.Rotate,{enable:!1}],[Od.Pinch,{enable:!1}],[Od.Swipe,{enable:!1}],[Od.Pan,{threshold:0,enable:!1}],[Od.Press,{enable:!1}],[Od.Tap,{event:"doubletap",taps:2,enable:!1}],[Od.Tap,{event:"anytap",enable:!1}],[Od.Tap,{enable:!1}]]:null,x$={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},lSe={doubletap:["tap"]},dSe={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},rN={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},uSe={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},E$={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},hSe=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",X_=typeof window<"u"?window:global;typeof global<"u"?global:window,typeof document<"u"&&document;let oN=!1;try{X_.addEventListener("test",null,{get passive(){return oN=!0,!0}}),X_.removeEventListener("test",null)}catch{oN=!1}const fSe=-1!==hSe.indexOf("firefox"),{WHEEL_EVENTS:pSe}=rN,S$=4.000244140625;class _Se extends nA{constructor(e,t,i){super(e,t,i),this.handleEvent=r=>{if(!this.options.enable)return;let o=r.deltaY;X_.WheelEvent&&(fSe&&r.deltaMode===X_.WheelEvent.DOM_DELTA_PIXEL&&(o/=X_.devicePixelRatio),r.deltaMode===X_.WheelEvent.DOM_DELTA_LINE&&(o*=40)),0!==o&&o%S$==0&&(o=Math.floor(o/S$)),r.shiftKey&&o&&(o*=.25),this.callback({type:"wheel",center:{x:r.clientX,y:r.clientY},delta:-o,srcEvent:r,pointerType:"mouse",target:r.target})},this.events=(this.options.events||[]).concat(pSe),this.events.forEach(r=>e.addEventListener(r,this.handleEvent,!!oN&&{passive:!1}))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,t){"wheel"===e&&(this.options.enable=t)}}const{MOUSE_EVENTS:bSe}=rN,A$="pointermove",T$="pointerover",M$="pointerout",I$="pointerenter",D$="pointerleave";class ySe extends nA{constructor(e,t,i){super(e,t,i),this.handleEvent=o=>{this.handleOverEvent(o),this.handleOutEvent(o),this.handleEnterEvent(o),this.handleLeaveEvent(o),this.handleMoveEvent(o)},this.pressed=!1;const{enable:r}=this.options;this.enableMoveEvent=r,this.enableLeaveEvent=r,this.enableEnterEvent=r,this.enableOutEvent=r,this.enableOverEvent=r,this.events=(this.options.events||[]).concat(bSe),this.events.forEach(o=>e.addEventListener(o,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,t){e===A$&&(this.enableMoveEvent=t),e===T$&&(this.enableOverEvent=t),e===M$&&(this.enableOutEvent=t),e===I$&&(this.enableEnterEvent=t),e===D$&&(this.enableLeaveEvent=t)}handleOverEvent(e){this.enableOverEvent&&"mouseover"===e.type&&this._emit(T$,e)}handleOutEvent(e){this.enableOutEvent&&"mouseout"===e.type&&this._emit(M$,e)}handleEnterEvent(e){this.enableEnterEvent&&"mouseenter"===e.type&&this._emit(I$,e)}handleLeaveEvent(e){this.enableLeaveEvent&&"mouseleave"===e.type&&this._emit(D$,e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this._emit(A$,e);break;case"mouseup":this.pressed=!1}}_emit(e,t){this.callback({type:e,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}const{KEY_EVENTS:vSe}=rN,R$="keydown";class wSe extends nA{constructor(e,t,i){super(e,t,i),this.handleEvent=r=>{const o=r.target||r.srcElement;"INPUT"===o.tagName&&"text"===o.type||"TEXTAREA"===o.tagName||(this.enableDownEvent&&"keydown"===r.type&&this.callback({type:R$,srcEvent:r,key:r.key,target:r.target}),this.enableUpEvent&&"keyup"===r.type&&this.callback({type:"keyup",srcEvent:r,key:r.key,target:r.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(vSe),e.tabIndex=this.options.tabIndex||0,e.style.outline="none",this.events.forEach(r=>e.addEventListener(r,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,t){e===R$&&(this.enableDownEvent=t),"keyup"===e&&(this.enableUpEvent=t)}}const k$="contextmenu";class xSe extends nA{constructor(e,t,i){super(e,t,i),this.handleEvent=r=>{this.options.enable&&this.callback({type:k$,center:{x:r.clientX,y:r.clientY},srcEvent:r,pointerType:"mouse",target:r.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,t){e===k$&&(this.options.enable=t)}}const ESe={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};function kSe(n){const e=ESe[n.srcEvent.type];if(!e)return null;const{buttons:t,button:i,which:r}=n.srcEvent;let o=!1,s=!1,a=!1;return 4===e||2===e&&!Number.isFinite(t)?(o=1===r,s=2===r,a=3===r):2===e?(o=!!(1&t),s=!!(4&t),a=!!(2&t)):1===e&&(o=0===i,s=1===i,a=2===i),{leftButton:o,middleButton:s,rightButton:a}}function PSe(n,e){const t=n.center;if(!t)return null;const i=e.getBoundingClientRect();return{center:t,offsetCenter:{x:(t.x-i.left-e.clientLeft)/(i.width/e.offsetWidth||1),y:(t.y-i.top-e.clientTop)/(i.height/e.offsetHeight||1)}}}const cN={srcElement:"root",priority:0};class NSe{constructor(e){this.handleEvent=t=>{if(this.isEmpty())return;const i=this._normalizeEvent(t);let r=t.srcEvent.target;for(;r&&r!==i.rootElement;){if(this._emit(i,r),i.handled)return;r=r.parentNode}this._emit(i,"root")},this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,t,i,r=!1,o=!1){const{handlers:s,handlersByElement:a}=this;let c=cN;"string"==typeof i||i&&i.addEventListener?c={...cN,srcElement:i}:i&&(c={...cN,...i});let l=a.get(c.srcElement);l||(l=[],a.set(c.srcElement,l));const d={type:e,handler:t,srcElement:c.srcElement,priority:c.priority};r&&(d.once=!0),o&&(d.passive=!0),s.push(d),this._active=this._active||!d.passive;let h=l.length-1;for(;h>=0&&!(l[h].priority>=d.priority);)h--;l.splice(h+1,0,d)}remove(e,t){const{handlers:i,handlersByElement:r}=this;for(let o=i.length-1;o>=0;o--){const s=i[o];if(s.type===e&&s.handler===t){i.splice(o,1);const a=r.get(s.srcElement);a.splice(a.indexOf(s),1),0===a.length&&r.delete(s.srcElement)}}this._active=i.some(o=>!o.passive)}_emit(e,t){const i=this.handlersByElement.get(t);if(i){let r=!1;const o=()=>{e.handled=!0},s=()=>{e.handled=!0,r=!0},a=[];for(let c=0;c<i.length;c++){const{type:l,handler:d,once:h}=i[c];if(d({...e,type:l,stopPropagation:o,stopImmediatePropagation:s}),h&&a.push(i[c]),r)break}for(let c=0;c<a.length;c++){const{type:l,handler:d}=a[c];this.remove(l,d)}}}_normalizeEvent(e){const t=this.eventManager.getElement();return{...e,...kSe(e),...PSe(e,t),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:t}}}const FSe={events:null,recognizers:null,recognizerOptions:{},Manager:aSe,touchAction:"none",tabIndex:0};class LSe{constructor(e=null,t){this._onBasicInput=r=>{const{srcEvent:o}=r,s=dSe[o.type];s&&this.manager.emit(s,r)},this._onOtherEvent=r=>{this.manager.emit(r.type,r)},this.options={...FSe,...t},this.events=new Map,this.setElement(e);const{events:i}=this.options;i&&this.on(i)}getElement(){return this.element}setElement(e){if(this.element&&this.destroy(),this.element=e,!e)return;const{options:t}=this;this.manager=new(0,t.Manager)(e,{touchAction:t.touchAction,recognizers:t.recognizers||cSe}).on("hammer.input",this._onBasicInput),t.recognizers||Object.keys(x$).forEach(r=>{const o=this.manager.get(r);o&&x$[r].forEach(s=>{o.recognizeWith(s)})});for(const r in t.recognizerOptions){const o=this.manager.get(r);if(o){const s=t.recognizerOptions[r];delete s.enable,o.set(s)}}this.wheelInput=new _Se(e,this._onOtherEvent,{enable:!1}),this.moveInput=new ySe(e,this._onOtherEvent,{enable:!1}),this.keyInput=new wSe(e,this._onOtherEvent,{enable:!1,tabIndex:t.tabIndex}),this.contextmenuInput=new xSe(e,this._onOtherEvent,{enable:!1});for(const[r,o]of this.events)o.isEmpty()||(this._toggleRecognizer(o.recognizerName,!0),this.manager.on(r,o.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(e,t,i){this._addEventHandler(e,t,i,!1)}once(e,t,i){this._addEventHandler(e,t,i,!0)}watch(e,t,i){this._addEventHandler(e,t,i,!1,!0)}off(e,t){this._removeEventHandler(e,t)}_toggleRecognizer(e,t){const{manager:i}=this;if(!i)return;const r=i.get(e);if(r&&r.options.enable!==t){r.set({enable:t});const o=lSe[e];o&&!this.options.recognizers&&o.forEach(s=>{const a=i.get(s);t?(a.requireFailure(e),r.dropRequireFailure(s)):a.dropRequireFailure(e)})}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t),this.contextmenuInput.enableEventType(e,t)}_addEventHandler(e,t,i,r,o){if("string"!=typeof e){i=t;for(const d in e)this._addEventHandler(d,e[d],i,r,o);return}const{manager:s,events:a}=this,c=E$[e]||e;let l=a.get(c);l||(l=new NSe(this),a.set(c,l),l.recognizerName=uSe[c]||c,s&&s.on(c,l.handleEvent)),l.add(e,t,i,r,o),l.isEmpty()||this._toggleRecognizer(l.recognizerName,!0)}_removeEventHandler(e,t){if("string"!=typeof e){for(const s in e)this._removeEventHandler(s,e[s]);return}const{events:i}=this,o=i.get(E$[e]||e);if(o&&(o.remove(e,t),o.isEmpty())){const{recognizerName:s}=o;let a=!1;for(const c of i.values())if(c.recognizerName===s&&!c.isEmpty()){a=!0;break}a||this._toggleRecognizer(s,!1)}}}function Qp(){}const P$={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,glOptions:{},parameters:{},parent:null,gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,onWebGLInitialized:Qp,onResize:Qp,onViewStateChange:Qp,onInteractionStateChange:Qp,onBeforeRender:Qp,onAfterRender:Qp,onLoad:Qp,onError:n=>zi.error(n.message)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:({isDragging:n})=>n?"grabbing":"grab",getTooltip:null,debug:!1,drawPickingColors:!1};class lN{constructor(e){ve(this,"props",void 0),ve(this,"width",0),ve(this,"height",0),ve(this,"userData",{}),ve(this,"canvas",null),ve(this,"viewManager",null),ve(this,"layerManager",null),ve(this,"effectManager",null),ve(this,"deckRenderer",null),ve(this,"deckPicker",null),ve(this,"eventManager",null),ve(this,"tooltip",null),ve(this,"metrics",void 0),ve(this,"animationLoop",void 0),ve(this,"stats",void 0),ve(this,"viewState",void 0),ve(this,"cursorState",void 0),ve(this,"_needsRedraw",void 0),ve(this,"_pickRequest",void 0),ve(this,"_lastPointerDownInfo",null),ve(this,"_metricsCounter",void 0),ve(this,"_onPointerMove",t=>{const{_pickRequest:i}=this;if("pointerleave"===t.type)i.x=-1,i.y=-1,i.radius=0;else{if(t.leftButton||t.rightButton)return;{const r=t.offsetCenter;if(!r)return;i.x=r.x,i.y=r.y,i.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:i.x,y:i.y}),i.event=t}),ve(this,"_onEvent",t=>{const i=t9[t.type],r=t.offsetCenter;if(!i||!r||!this.layerManager)return;const o=this.layerManager.getLayers(),s=this.deckPicker.getLastPickedObject({x:r.x,y:r.y,layers:o,viewports:this.getViewports(r)},this._lastPointerDownInfo),{layer:a}=s,c=a&&(a[i.handler]||a.props[i.handler]),l=this.props[i.handler];let d=!1;c&&(d=c.call(a,s,t)),!d&&l&&l(s,t)}),ve(this,"_onPointerDown",t=>{const i=t.offsetCenter,r=this._pick("pickObject","pickObject Time",{x:i.x,y:i.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=r.result[0]||r.emptyInfo}),this.props={...P$,...e},e=this.props,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this.cursorState={isHovering:!1,isDragging:!1},e.viewState&&e.initialViewState&&zi.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),"IE"===b$()&&zi.warn("IE 11 is not supported")(),this.viewState=e.initialViewState,e.gl||typeof document<"u"&&(this.canvas=this._createCanvas(e)),this.animationLoop=this._createAnimationLoop(e),this.stats=new HP({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(e),e._typedArrayManagerProps&&T0.setOptions(e._typedArrayManagerProps),this.animationLoop.start()}finalize(){var e,t,i,r,o,s,a,c;this.animationLoop.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,null===(e=this.layerManager)||void 0===e||e.finalize(),this.layerManager=null,null===(t=this.viewManager)||void 0===t||t.finalize(),this.viewManager=null,null===(i=this.effectManager)||void 0===i||i.finalize(),this.effectManager=null,null===(r=this.deckRenderer)||void 0===r||r.finalize(),this.deckRenderer=null,null===(o=this.deckPicker)||void 0===o||o.finalize(),this.deckPicker=null,null===(s=this.eventManager)||void 0===s||s.destroy(),this.eventManager=null,null===(a=this.tooltip)||void 0===a||a.remove(),this.tooltip=null,this.props.canvas||this.props.gl||!this.canvas||(null===(c=this.canvas.parentElement)||void 0===c||c.removeChild(this.canvas),this.canvas=null)}setProps(e){this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&zi.removed("onLayerHover","onHover")(),"onLayerClick"in e&&zi.removed("onLayerClick","onClick")(),e.initialViewState&&!F_(this.props.initialViewState,e.initialViewState)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);const t=Object.create(this.props);Object.assign(t,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(t),this.layerManager&&(this.viewManager.setProps(t),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(t),this.effectManager.setProps(t),this.deckRenderer.setProps(t),this.deckPicker.setProps(t)),this.stats.get("setProps Time").timeEnd()}needsRedraw(e={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);const i=this.viewManager.needsRedraw(e),r=this.layerManager.needsRedraw(e),o=this.effectManager.needsRedraw(e),s=this.deckRenderer.needsRedraw(e);return t=t||i||r||o||s,t}redraw(e){if(!this.layerManager)return;let t=this.needsRedraw({clearRedrawFlags:!0});t=e||t,t&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(t):this._drawLayers(t))}get isInitialized(){return null!==this.viewManager}getViews(){return zs(this.viewManager),this.viewManager.views}getViewports(e){return zs(this.viewManager),this.viewManager.getViewports(e)}pickObject(e){const t=this._pick("pickObject","pickObject Time",e).result;return t.length?t[0]:null}pickMultipleObjects(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}pickObjects(e){return this._pick("pickObjects","pickObjects Time",e)}_addResources(e,t=!1){for(const i in e)this.layerManager.resourceManager.add({resourceId:i,data:e[i],forceUpdate:t})}_removeResources(e){for(const t of e)this.layerManager.resourceManager.remove(t)}_pick(e,t,i){zs(this.deckPicker);const{stats:r}=this;r.get("Pick Count").incrementCount(),r.get(t).timeStart();const o=this.deckPicker[e]({layers:this.layerManager.getLayers(i),views:this.viewManager.getViews(),viewports:this.getViewports(i),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...i});return r.get(t).timeEnd(),o}_createCanvas(e){let t=e.canvas;return"string"==typeof t&&(t=document.getElementById(t),zs(t)),t||(t=document.createElement("canvas"),t.id=e.id||"deckgl-overlay",(e.parent||document.body).appendChild(t)),Object.assign(t.style,e.style),t}_setCanvasSize(e){if(!this.canvas)return;const{width:t,height:i}=e;if(t||0===t){const o=Number.isFinite(t)?"".concat(t,"px"):t;this.canvas.style.width=o}if(i||0===i){var r;const o=Number.isFinite(i)?"".concat(i,"px"):i;this.canvas.style.position=(null===(r=e.style)||void 0===r?void 0:r.position)||"absolute",this.canvas.style.height=o}}_updateCanvasSize(){const{canvas:e}=this;if(!e)return;const t=e.clientWidth||e.width,i=e.clientHeight||e.height;var r;t===this.width&&i===this.height||(this.width=t,this.height=i,null===(r=this.viewManager)||void 0===r||r.setProps({width:t,height:i}),this.props.onResize({width:t,height:i}))}_createAnimationLoop(e){const{width:t,height:i,gl:r,glOptions:o,debug:s,onError:a,onBeforeRender:c,onAfterRender:l,useDevicePixels:d}=e;return new nSe({width:t,height:i,useDevicePixels:d,autoResizeViewport:!1,gl:r,onCreateContext:h=>k9({...o,...h,canvas:this.canvas,debug:s,onContextLost:()=>this._onContextLost()}),onInitialize:h=>this._setGLContext(h.gl),onRender:this._onRenderFrame.bind(this),onBeforeRender:c,onAfterRender:l,onError:a})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){let e=this.props.views||[new i$({id:"default-view"})];return e=Array.isArray(e)?e:[e],e.length&&this.props.controller&&(e[0].props.controller=this.props.controller),e}_onContextLost(){const{onError:e}=this.props;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}_pickAndCallback(){const{_pickRequest:e}=this;if(e.event){const{result:i,emptyInfo:r}=this._pick("pickObject","pickObject Time",e);this.cursorState.isHovering=i.length>0;let o=r,s=!1;for(const a of i){var t;o=a,s=(null===(t=a.layer)||void 0===t?void 0:t.onHover(a,e.event))||s}if(!s&&this.props.onHover&&this.props.onHover(o,e.event),this.props.getTooltip&&this.tooltip){const a=this.props.getTooltip(o);this.tooltip.setTooltip(a,o.x,o.y)}e.event=null}}_updateCursor(){const e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}_setGLContext(e){if(this.layerManager)return;this.canvas||(this.canvas=e.canvas,zP(e,{enable:!0,copyState:!0})),this.tooltip=new mCe(this.canvas),Bu(e,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(e);const t=new xW;t.play(),this.animationLoop.attachTimeline(t),this.eventManager=new LSe(this.props.parent||e.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const r in t9)this.eventManager.on(r,this._onEvent);this.viewManager=new HEe({timeline:t,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const i=this.viewManager.getViewports()[0];this.layerManager=new zEe(e,{deck:this,stats:this.stats,viewport:i,timeline:t}),this.effectManager=new nCe,this.deckRenderer=new aCe(e),this.deckPicker=new fCe(e),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(e,t){const{gl:i}=this.layerManager.context;Bu(i,this.props.parameters),this.props.onBeforeRender({gl:i}),this.deckRenderer.renderLayers({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",redrawReason:e,effects:this.effectManager.getEffects(),...t}),this.props.onAfterRender({gl:i})}_onRenderFrame(e){this._getFrameStats(),this._metricsCounter++%60==0&&(this._getMetrics(),this.stats.reset(),zi.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(e){const t=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState={...this.viewState,[e.viewId]:t},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}_getFrameStats(){const{stats:e}=this;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();const t=this.animationLoop.stats;e.get("GPU Time").addTime(t.get("GPU Time").lastTiming),e.get("CPU Time").addTime(t.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:e,stats:t}=this;e.fps=t.get("frameRate").getHz(),e.setPropsTime=t.get("setProps Time").time,e.updateAttributesTime=t.get("Update Attributes").time,e.framesRedrawn=t.get("Redraw Count").count,e.pickTime=t.get("pickObject Time").time+t.get("pickMultipleObjects Time").time+t.get("pickObjects Time").time,e.pickCount=t.get("Pick Count").count,e.gpuTime=t.get("GPU Time").time,e.cpuTime=t.get("CPU Time").time,e.gpuTimePerFrame=t.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=t.get("CPU Time").getAverageTime();const i=Yp.get("Memory Usage");e.bufferMemory=i.get("Buffer Memory").count,e.textureMemory=i.get("Texture Memory").count,e.renderbufferMemory=i.get("Renderbuffer Memory").count,e.gpuMemory=i.get("GPU Memory").count}}ve(lN,"defaultProps",P$),ve(lN,"VERSION",WCe.VERSION);var kd=S(6887);class dN{constructor(e,t){ve(this,"opts",void 0),ve(this,"source",void 0),this.opts=t,this.source=e}get value(){return this.source.value}getValue(){const e=this.source.getBuffer(),t=this.getAccessor();if(e)return[e,t];const{value:i}=this.source,{size:r}=t;let o=i;if(i&&i.length!==r){o=new Float32Array(r);const s=t.elementOffset||0;for(let a=0;a<r;++a)o[a]=i[s+a]}return o}getAccessor(){return{...this.source.getAccessor(),...this.opts}}}function rA(n){return n.stride||n.size*n.bytesPerElement}function N$(n,e){e.offset&&zi.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const t=rA(n),o=(void 0!==e.vertexOffset?e.vertexOffset:n.vertexOffset||0)*t+(e.elementOffset||0)*n.bytesPerElement+(n.offset||0);return{...e,offset:o,stride:t}}class USe{constructor(e,t,i){ve(this,"gl",void 0),ve(this,"id",void 0),ve(this,"size",void 0),ve(this,"settings",void 0),ve(this,"value",void 0),ve(this,"doublePrecision",void 0),ve(this,"_buffer",void 0),ve(this,"state",void 0),this.gl=e,this.id=t.id||"",this.size=t.size||1;const r=t.logicalType||t.type,o=5130===r;let a,{defaultValue:s}=t;s=Number.isFinite(s)?[s]:s||new Array(this.size).fill(0),a=o?5126:!r&&t.isIndexed?e&&ZP(e,"ELEMENT_INDEX_UINT32")?5125:5123:r||5126;let c=function BSe(n){switch(n){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}(r||a||5126);this.doublePrecision=o,o&&!1===t.fp64&&(c=Float32Array),this.value=null,this.settings={...t,defaultType:c,defaultValue:s,logicalType:r,type:a,size:this.size,bytesPerElement:c.BYTES_PER_ELEMENT},this.state={...i,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1},this._buffer=null}get isConstant(){return this.state.constant}get buffer(){if(!this._buffer){const{isIndexed:e,type:t}=this.settings;this._buffer=new Ar(this.gl,{id:this.id,target:e?34963:34962,accessor:{type:t}})}return this._buffer}get byteOffset(){const e=this.getAccessor();return e.vertexOffset?e.vertexOffset*rA(e):0}get numInstances(){return this.state.numInstances}set numInstances(e){this.state.numInstances=e}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),T0.release(this.state.allocatedValue)}getShaderAttributes(e,t){if(this.doublePrecision){const i={},r=this.value instanceof Float64Array,o=function jSe(n,e){const t=N$(n,e);return{high:t,low:{...t,offset:t.offset+4*n.size}}}(this.getAccessor(),t||{});return i[e]=new dN(this,o.high),i["".concat(e,"64Low")]=r?new dN(this,o.low):new Float32Array(this.size),i}if(t){const i=N$(this.getAccessor(),t);return{[e]:new dN(this,i)}}return{[e]:this}}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let e=null;if(this.state.constant&&this.value){const t=Array.from(this.value);e=[t,t]}else{const{value:t,numInstances:i,size:r}=this,o=i*r;if(t&&o&&t.length>=o){const s=new Array(r).fill(1/0),a=new Array(r).fill(-1/0);for(let c=0;c<o;)for(let l=0;l<r;l++){const d=t[c++];d<s[l]&&(s[l]=d),d>a[l]&&(a[l]=d)}e=[s,a]}}return this.state.bounds=e,e}setData(e){const{state:t}=this;let i;i=ArrayBuffer.isView(e)?{value:e}:e instanceof Ar?{buffer:e}:e;const r={...this.settings,...i};if(t.bufferAccessor=r,t.bounds=null,i.constant){let o=i.value;if(o=this._normalizeValue(o,[],0),this.settings.normalized&&(o=this.normalizeConstant(o)),t.constant&&this._areValuesEqual(o,this.value))return!1;t.externalBuffer=null,t.constant=!0,this.value=o}else if(i.buffer){const o=i.buffer;t.externalBuffer=o,t.constant=!1,this.value=i.value||null;const s=i.value instanceof Float64Array;r.type=i.type||o.accessor.type,r.bytesPerElement=o.accessor.BYTES_PER_ELEMENT*(s?2:1),r.stride=rA(r)}else if(i.value){this._checkExternalBuffer(i);let o=i.value;t.externalBuffer=null,t.constant=!1,this.value=o,r.bytesPerElement=o.BYTES_PER_ELEMENT,r.stride=rA(r);const{buffer:s,byteOffset:a}=this;this.doublePrecision&&o instanceof Float64Array&&(o=hP(o,r));const c=o.byteLength+a+2*r.stride;s.byteLength<c&&s.reallocate(c),s.setAccessor(null),s.subData({data:o,offset:a}),r.type=i.type||s.accessor.type}return!0}updateSubBuffer(e={}){this.state.bounds=null;const t=this.value,{startOffset:i=0,endOffset:r}=e;this.buffer.subData({data:this.doublePrecision&&t instanceof Float64Array?hP(t,{size:this.size,startIndex:i,endIndex:r}):t.subarray(i,r),offset:i*t.BYTES_PER_ELEMENT+this.byteOffset})}allocate(e,t=!1){const{state:i}=this,r=i.allocatedValue,o=T0.allocate(r,e+1,{size:this.size,type:this.settings.defaultType,copy:t});this.value=o;const{buffer:s,byteOffset:a}=this;return s.byteLength<o.byteLength+a&&(s.reallocate(o.byteLength+a),t&&r&&s.subData({data:r instanceof Float64Array?hP(r,this):r,offset:a})),i.allocatedValue=o,i.constant=!1,i.externalBuffer=null,i.bufferAccessor=this.settings,!0}_checkExternalBuffer(e){const{value:t}=e;if(!ArrayBuffer.isView(t))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));const i=this.settings.defaultType;let r=!1;if(this.doublePrecision&&(r=t.BYTES_PER_ELEMENT<4),r)throw new Error("Attribute ".concat(this.id," does not support ").concat(t.constructor.name));!(t instanceof i)&&this.settings.normalized&&!("normalized"in e)&&zi.warn("Attribute ".concat(this.id," is normalized"))()}normalizeConstant(e){switch(this.settings.type){case 5120:return new Float32Array(e).map(t=>(t+128)/255*2-1);case 5122:return new Float32Array(e).map(t=>(t+32768)/65535*2-1);case 5121:return new Float32Array(e).map(t=>t/255);case 5123:return new Float32Array(e).map(t=>t/65535);default:return e}}_normalizeValue(e,t,i){const{defaultValue:r,size:o}=this.settings;if(Number.isFinite(e))return t[i]=e,t;if(!e)return t[i]=r[0],t;switch(o){case 4:t[i+3]=Number.isFinite(e[3])?e[3]:r[3];case 3:t[i+2]=Number.isFinite(e[2])?e[2]:r[2];case 2:t[i+1]=Number.isFinite(e[1])?e[1]:r[1];case 1:t[i+0]=Number.isFinite(e[0])?e[0]:r[0];break;default:let s=o;for(;--s>=0;)t[i+s]=Number.isFinite(e[s])?e[s]:r[s]}return t}_areValuesEqual(e,t){if(!e||!t)return!1;const{size:i}=this;for(let r=0;r<i;r++)if(e[r]!==t[r])return!1;return!0}}const F$=[],L$=[];function oA(n,e=0,t=1/0){let i=F$;const r={index:-1,data:n,target:[]};return n?"function"==typeof n[Symbol.iterator]?i=n:n.length>0&&(L$.length=n.length,i=L$):i=F$,(e>0||Number.isFinite(t))&&(i=(Array.isArray(i)?i:Array.from(i)).slice(e,t),r.index=e-1),{iterable:i,objectInfo:r}}function B$(n){return n&&n[Symbol.asyncIterator]}const zSe=[],sA=[[0,1/0]];function uN(n){const{source:e,target:t,start:i=0,size:r,getData:o}=n,a=e.length,c=(n.end||t.length)-i;if(a>c)return void t.set(e.subarray(0,c),i);if(t.set(e,i),!o)return;let l=a;for(;l<c;){const d=o(l,e);for(let h=0;h<r;h++)t[i+l]=d[h]||0,l++}}const WSe={interpolation:{duration:0,easing:n=>n},spring:{stiffness:.05,damping:.5}};function j$(n,e){if(!n)return null;Number.isFinite(n)&&(n={type:"interpolation",duration:n});const t=n.type||"interpolation";return{...WSe[t],...e,...n,type:t}}function U$(n,e){const t=e.getBuffer();return t?[t,{divisor:0,size:e.size,normalized:e.settings.normalized}]:e.value}function V$(n){switch(n){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(n,'"'))}}function z$(n){n.push(n.shift())}function hN(n,e){const{doublePrecision:t,settings:i,value:r,size:o}=n,s=t&&r instanceof Float64Array?2:1;return(i.noAlloc?r.length:e*o)*s}function H$({buffer:n,numInstances:e,attribute:t,fromLength:i,fromStartIndices:r,getData:o=(s=>s)}){const s=t.doublePrecision&&t.value instanceof Float64Array?2:1,a=t.size*s,c=t.byteOffset,l=t.startIndices,d=r&&l,h=hN(t,e),f=t.isConstant;if(!d&&i>=h)return;const m=f?t.value:t.getBuffer().getData({srcByteOffset:c});if(t.settings.normalized&&!f){const L=o;o=(H,le)=>t.normalizeConstant(L(H,le))}const g=f?(L,H)=>o(m,H):(L,H)=>o(m.subarray(L,L+a),H),v=n.getData({length:i}),E=new Float32Array(h);(function GSe({source:n,target:e,size:t,getData:i,sourceStartIndices:r,targetStartIndices:o}){if(!Array.isArray(o))return uN({source:n,target:e,size:t,getData:i}),e;let s=0,a=0;const c=i&&((d,h)=>i(d+a,h)),l=Math.min(r.length,o.length);for(let d=1;d<l;d++){const h=r[d]*t,f=o[d]*t;uN({source:n.subarray(s,h),target:e,start:a,end:f,size:t,getData:c}),s=h,a=f}a<e.length&&uN({source:[],target:e,start:a,size:t,getData:c})})({source:v,target:E,sourceStartIndices:r,targetStartIndices:l,size:a,getData:g}),n.byteLength<E.byteLength+c&&n.reallocate(E.byteLength+c),n.subData({data:E,offset:c})}class fN extends USe{constructor(e,t){super(e,t,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:sA}),ve(this,"constant",!1),this.settings.update=t.update||(t.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(e){this.state.startIndices=e}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:e=!1}={}){const t=this.state.needsRedraw;return this.state.needsRedraw=t&&!e,t}getUpdateTriggers(){const{accessor:e}=this.settings;return[this.id].concat("function"!=typeof e&&e||[])}supportsTransition(){return!!this.settings.transition}getTransitionSetting(e){if(!e||!this.supportsTransition())return null;const{accessor:t}=this.settings,i=this.settings.transition;return j$(Array.isArray(t)?e[t.find(o=>e[o])]:e[t],i)}setNeedsUpdate(e=this.id,t){if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),t){const{startRow:i=0,endRow:r=1/0}=t;this.state.updateRanges=function HSe(n,e){if(n===sA||(e[0]<0&&(e[0]=0),e[0]>=e[1]))return n;const t=[],i=n.length;let r=0;for(let o=0;o<i;o++){const s=n[o];s[1]<e[0]?(t.push(s),r=o+1):s[0]>e[1]?t.push(s):e=[Math.min(s[0],e[0]),Math.max(s[1],e[1])]}return t.splice(r,0,e),t}(this.state.updateRanges,[i,r])}else this.state.updateRanges=sA}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=zSe}setNeedsRedraw(e=this.id){this.state.needsRedraw=this.state.needsRedraw||e}allocate(e){const{state:t,settings:i}=this;return!i.noAlloc&&!!i.update&&(super.allocate(e,t.updateRanges!==sA),!0)}updateBuffer({numInstances:e,data:t,props:i,context:r}){if(!this.needsUpdate())return!1;const{state:{updateRanges:o},settings:{update:s,noAlloc:a}}=this;let c=!0;if(s){for(const[l,d]of o)s.call(r,this,{data:t,startRow:l,endRow:d,props:i,numInstances:e});if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[l,d]of o){const h=Number.isFinite(l)?this.getVertexOffset(l):0,f=Number.isFinite(d)?this.getVertexOffset(d):a||!Number.isFinite(e)?this.value.length:e*this.size;super.updateSubBuffer({startOffset:h,endOffset:f})}this._checkAttributeArray()}else c=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),c}setConstantValue(e){return void 0!==e&&"function"!=typeof e&&(this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}setExternalBuffer(e){const{state:t}=this;return e?(this.clearNeedsUpdate(),t.lastExternalBuffer===e||(t.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(t.lastExternalBuffer=null,!1)}setBinaryValue(e,t=null){const{state:i,settings:r}=this;if(!e)return i.binaryValue=null,i.binaryAccessor=null,!1;if(r.noAlloc)return!1;if(i.binaryValue===e)return this.clearNeedsUpdate(),!0;if(i.binaryValue=e,this.setNeedsRedraw(),r.transform||t!==this.startIndices){ArrayBuffer.isView(e)&&(e={value:e});const s=e;return zs(ArrayBuffer.isView(s.value),"invalid ".concat(r.accessor)),i.binaryAccessor=function VSe(n,e){const{size:t,stride:i,offset:r,startIndices:o,nested:s}=e,a=n.BYTES_PER_ELEMENT,c=i?i/a:t,l=r?r/a:0,d=Math.floor((n.length-l)/c);return(h,{index:f,target:m})=>{if(!o){const L=f*c+l;for(let H=0;H<t;H++)m[H]=n[L+H];return m}const g=o[f],v=o[f+1]||d;let E;if(s){E=new Array(v-g);for(let L=g;L<v;L++){const H=L*c+l;m=new Array(t);for(let le=0;le<t;le++)m[le]=n[H+le];E[L-g]=m}}else if(c===t)E=n.subarray(g*t+l,v*t+l);else{E=new n.constructor((v-g)*t);let L=0;for(let H=g;H<v;H++){const le=H*c+l;for(let se=0;se<t;se++)E[L++]=n[le+se]}}return E}}(s.value,{size:s.size||this.size,stride:s.stride,offset:s.offset,startIndices:t,nested:!!s.size&&s.size!==this.size}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}getVertexOffset(e){const{startIndices:t}=this;return(t?e<t.length?t[e]:this.numInstances:e)*this.size}getShaderAttributes(){const e=this.settings.shaderAttributes||{[this.id]:null},t={};for(const i in e)Object.assign(t,super.getShaderAttributes(i,e[i]));return t}_autoUpdater(e,{data:t,startRow:i,endRow:r,props:o,numInstances:s}){if(e.constant)return;const{settings:a,state:c,value:l,size:d,startIndices:h}=e,{accessor:f,transform:m}=a,g=c.binaryAccessor||("function"==typeof f?f:o[f]);zs("function"==typeof g,'accessor "'.concat(f,'" is not a function'));let v=e.getVertexOffset(i);const{iterable:E,objectInfo:L}=oA(t,i,r);for(const H of E){L.index++;let le=g(H,L);if(m&&(le=m.call(this,le)),h){const se=(L.index<h.length-1?h[L.index+1]:s)-h[L.index];if(le&&Array.isArray(le[0])){let Pe=v;for(const $e of le)e._normalizeValue($e,l,Pe),Pe+=d}else le&&le.length>d?l.set(le,v):(e._normalizeValue(le,L.target,0),_xe({target:l,source:L.target,start:v,count:se}));v+=se*d}else e._normalizeValue(le,l,v),v+=d}}_validateAttributeUpdaters(){const{settings:e}=this;if(!e.noAlloc&&"function"!=typeof e.update)throw new Error("Attribute ".concat(this.id," missing update or accessor"))}_checkAttributeArray(){const{value:e}=this,t=Math.min(4,this.size);if(e&&e.length>=t){let i=!0;switch(t){case 4:i=i&&Number.isFinite(e[3]);case 3:i=i&&Number.isFinite(e[2]);case 2:i=i&&Number.isFinite(e[1]);case 1:i=i&&Number.isFinite(e[0]);break;default:i=!1}if(!i)throw new Error("Illegal attribute generated for ".concat(this.id))}}}const G$="out vec4 transform_output;\nvoid main() {\n  transform_output = vec4(0);\n}",qSe="#version 300 es\n".concat(G$);function W$(n,e){e=Array.isArray(e)?e:[e];const t=n.replace(/^\s+/,"").split(/\s+/),[i,r,o]=t;return e.includes(i)&&r&&o?{qualifier:i,type:r,name:o.split(";")[0]}:null}function q$(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{version:e=100,input:t,inputType:i,output:r}=n;if(!t)return 300===e?qSe:e>300?"#version ".concat(e,"\n").concat(G$):"void main() {gl_FragColor = vec4(0);}";const o=function KSe(n,e){switch(e){case"float":return"vec4(".concat(n,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(n,", 0.0, 1.0)");case"vec3":return"vec4(".concat(n,", 1.0)");case"vec4":return n;default:return Oc(!1),null}}(t,i);return e>=300?"#version ".concat(e," ").concat(300===e?"es":"","\nin ").concat(i," ").concat(t,";\nout vec4 ").concat(r,";\nvoid main() {\n  ").concat(r," = ").concat(o,";\n}"):"varying ".concat(i," ").concat(t,";\nvoid main() {\n  gl_FragColor = ").concat(o,";\n}")}class Y$ extends ju{get[Symbol.toStringTag](){return"TransformFeedback"}static isSupported(e){return Pi(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ea(e),super(e,t),this.initialize(t),this.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(this)}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,U_(this.buffers)||this.bind(()=>this._unbindBuffers()),this.setProps(e),this}setProps(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)}setBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind(()=>{for(const t in e)this.setBuffer(t,e[t])}),this}setBuffer(e,t){const i=this._getVaryingIndex(e),{buffer:r,byteSize:o,byteOffset:s}=this._getBufferParams(t);return i<0?(this.unused[e]=r,Nn.warn("".concat(this.id," unused varying buffer ").concat(e))(),this):(this.buffers[i]=t,this.bindOnUse||this._bindBuffer(i,r,s,o),this)}begin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this}end(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}_getBufferParams(e){let t,i,r;return e instanceof Ar?r=e:(r=e.buffer,i=e.byteSize,t=e.byteOffset),(void 0!==t||void 0!==i)&&(t=t||0,i=i||r.byteLength-t),{buffer:r,byteOffset:t,byteSize:i}}_getVaryingInfo(e){return this.configuration&&this.configuration.getVaryingInfo(e)}_getVaryingIndex(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;const t=Number(e);return Number.isFinite(t)?t:-1}_bindBuffers(){if(this.bindOnUse)for(const e in this.buffers){const{buffer:t,byteSize:i,byteOffset:r}=this._getBufferParams(this.buffers[e]);this._bindBuffer(e,t,r,i)}}_unbindBuffers(){if(this.bindOnUse)for(const e in this.buffers)this._bindBuffer(e,null)}_bindBuffer(e,t){let r=arguments.length>3?arguments[3]:void 0;const o=t&&t.handle;return o&&void 0!==r?this.gl.bindBufferRange(35982,e,o,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r):this.gl.bindBufferBase(35982,e,o),this}_createHandle(){return this.gl.createTransformFeedback()}_deleteHandle(){this.gl.deleteTransformFeedback(this.handle)}_bindHandle(e){this.gl.bindTransformFeedback(36386,this.handle)}}class JSe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(t),Object.seal(this)}setupResources(e){for(const t of this.bindings)this._setupTransformFeedback(t,e)}updateModelProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyings:t}=this;return t.length>0&&(e=Object.assign({},e,{varyings:t})),e}getDrawOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.bindings[this.currentIndex],{sourceBuffers:i,transformFeedback:r}=t;return{attributes:Object.assign({},i,e.attributes),transformFeedback:r}}swap(){return!!this.feedbackMap&&(this.currentIndex=this._getNextIndex(),!0)}update(){this._setupBuffers(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}getBuffer(e){const{feedbackBuffers:t}=this.bindings[this.currentIndex],i=e?t[e]:null;return i?i instanceof Ar?i:i.buffer:null}getData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyingName:t}=e,i=this.getBuffer(t);return i?i.getData():null}delete(){for(const e in this.resources)this.resources[e].delete()}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e),this.varyings=e.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&gn(Pi(this.gl))}_getFeedbackBuffers(e){const{sourceBuffers:t={}}=e,i={};if(this.bindings[this.currentIndex]&&Object.assign(i,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(const r in this.feedbackMap)r in t&&(i[this.feedbackMap[r]]=r);Object.assign(i,e.feedbackBuffers);for(const r in i){const o=i[r];if("string"==typeof o){const s=t[o],{byteLength:a,usage:c,accessor:l}=s;i[r]=this._createNewBuffer(r,{byteLength:a,usage:c,accessor:l})}}return i}_setupBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t=null}=e;Object.assign(this.feedbackMap,e.feedbackMap);const i=this._getFeedbackBuffers(e);this._updateBindings({sourceBuffers:t,feedbackBuffers:i})}_setupTransformFeedback(e,t){let{model:i}=t;const{program:r}=i;e.transformFeedback=new Y$(this.gl,{program:r,buffers:e.feedbackBuffers})}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this.feedbackMap){const{sourceBuffers:t,feedbackBuffers:i}=this._swapBuffers(this.bindings[this.currentIndex]),r=this._getNextIndex();this.bindings[r]=this._updateBinding(this.bindings[r],{sourceBuffers:t,feedbackBuffers:i})}}_updateBinding(e,t){return e?(Object.assign(e.sourceBuffers,t.sourceBuffers),Object.assign(e.feedbackBuffers,t.feedbackBuffers),e.transformFeedback&&e.transformFeedback.setBuffers(e.feedbackBuffers),e):{sourceBuffers:Object.assign({},t.sourceBuffers),feedbackBuffers:Object.assign({},t.feedbackBuffers)}}_swapBuffers(e){if(!this.feedbackMap)return null;const t=Object.assign({},e.sourceBuffers),i=Object.assign({},e.feedbackBuffers);for(const r in this.feedbackMap){const o=this.feedbackMap[r];t[r]=e.feedbackBuffers[o],i[o]=e.sourceBuffers[r],gn(i[o]instanceof Ar)}return{sourceBuffers:t,feedbackBuffers:i}}_createNewBuffer(e,t){const i=new Ar(this.gl,t);return this.resources[e]&&this.resources[e].delete(),this.resources[e]=i,i}_getNextIndex(){return(this.currentIndex+1)%2}}function X$(n){let e=100;const t=n.match(/[^\s]+/g);if(t.length>=2&&"#version"===t[0]){const i=parseInt(t[1],10);Number.isFinite(i)&&(e=i)}return e}const QSe={name:"transform",vs:"attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",fs:null},aA="transform_uSize_",K$="transform_position";const s1e={10241:9728,10240:9728,10242:33071,10243:33071};class c1e{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(t),Object.seal(this)}updateModelProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._processVertexShader(e);return Object.assign({},e,t)}getDrawOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t,sourceTextures:i,framebuffer:r,targetTexture:o}=this.bindings[this.currentIndex],s=Object.assign({},t,e.attributes),a=Object.assign({},e.uniforms),c=Object.assign({},e.parameters);let l=e.discard;if(this.hasSourceTextures||this.hasTargetTexture){s.transform_elementID=this.elementIDBuffer;for(const h in this.samplerTextureMap)a[h]=i[this.samplerTextureMap[h]];this._setSourceTextureParameters();const d=function t1e(n){let{sourceTextureMap:e,targetTextureVarying:t,targetTexture:i}=n;const r={};let o,s;t&&(({width:o,height:s}=i),r["".concat(aA).concat(t)]=[o,s]);for(const a in e)({width:o,height:s}=e[a]),r["".concat(aA).concat(a)]=[o,s];return r}({sourceTextureMap:i,targetTextureVarying:this.targetTextureVarying,targetTexture:o});Object.assign(a,d)}return this.hasTargetTexture&&(l=!1,c.viewport=[0,0,r.width,r.height]),{attributes:s,framebuffer:r,uniforms:a,discard:l,parameters:c}}swap(){return!!this._swapTexture&&(this.currentIndex=this._getNextIndex(),!0)}update(){this._setupTextures(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}getTargetTexture(){const{targetTexture:e}=this.bindings[this.currentIndex];return e}getData(){let{packed:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{framebuffer:t}=this.bindings[this.currentIndex],i=V1(t);if(!e)return i;const r=i.constructor,o=function XSe(n){switch(n){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return Oc(!1),null}}(this.targetTextureType),s=new r(i.length*o/4);let a=0;for(let c=0;c<i.length;c+=4)for(let l=0;l<o;l++)s[a++]=i[c+l];return s}getFramebuffer(){return this.bindings[this.currentIndex].framebuffer}delete(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{_targetTextureVarying:t,_swapTexture:i}=e;this._swapTexture=i,this.targetTextureVarying=t,this.hasTargetTexture=t,this._setupTextures(e)}_createTargetTexture(e){const{sourceTextures:t,textureOrReference:i}=e;if(i instanceof Hs)return i;const r=t[i];return r?(this._targetRefTexName=i,this._createNewTexture(r)):null}_setupTextures(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t,_sourceTextures:i={},_targetTexture:r}=e,o=this._createTargetTexture({sourceTextures:i,textureOrReference:r});this.hasSourceTextures=this.hasSourceTextures||i&&Object.keys(i).length>0,this._updateBindings({sourceBuffers:t,sourceTextures:i,targetTexture:o}),"elementCount"in e&&this._updateElementIDBuffer(e.elementCount)}_updateElementIDBuffer(e){if("number"!=typeof e||this.elementCount>=e)return;const t=new Float32Array(e);t.forEach((i,r,o)=>{o[r]=r}),this.elementIDBuffer?this.elementIDBuffer.setData({data:t}):this.elementIDBuffer=new Ar(this.gl,{data:t,accessor:{size:1}}),this.elementCount=e}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this._swapTexture){const{sourceTextures:t,targetTexture:i}=this._swapTextures(this.bindings[this.currentIndex]),r=this._getNextIndex();this.bindings[r]=this._updateBinding(this.bindings[r],{sourceTextures:t,targetTexture:i})}}_updateBinding(e,t){const{sourceBuffers:i,sourceTextures:r,targetTexture:o}=t;if(e||(e={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(e.sourceTextures,r),Object.assign(e.sourceBuffers,i),o){e.targetTexture=o;const{width:s,height:a}=o,{framebuffer:c}=e;c?(c.update({attachments:{36064:o},resizeAttachments:!1}),c.resize({width:s,height:a})):e.framebuffer=new is(this.gl,{id:"transform-framebuffer",width:s,height:a,attachments:{36064:o}})}return e}_setSourceTextureParameters(){const e=this.currentIndex,{sourceTextures:t}=this.bindings[e];for(const i in t)t[i].setParameters(s1e)}_swapTextures(e){if(!this._swapTexture)return null;const t=Object.assign({},e.sourceTextures);return t[this._swapTexture]=e.targetTexture,{sourceTextures:t,targetTexture:e.sourceTextures[this._swapTexture]}}_createNewTexture(e){const t=function T0e(n,e){gn(n instanceof Hs||n instanceof S0e||n instanceof A0e);const t=n.constructor,{gl:i,width:r,height:o,format:s,type:a,dataFormat:c,border:l,mipmaps:d}=n;return new t(i,Object.assign({width:r,height:o,format:s,type:a,dataFormat:c,border:l,mipmaps:d},e))}(e,{parameters:{10241:9728,10240:9728,10242:33071,10243:33071},pixelStore:{37440:!1}});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=t,t}_getNextIndex(){return(this.currentIndex+1)%2}_processVertexShader(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceTextures:t,targetTexture:i}=this.bindings[this.currentIndex],{vs:r,uniforms:o,targetTextureType:s,inject:a,samplerTextureMap:c}=function e1e(n){let{vs:e,sourceTextureMap:t,targetTextureVarying:i,targetTexture:r}=n,s=Object.keys(t).length,a=null;const c={};let l=e,d={};if(s>0||i){const h=l.split("\n"),f=h.slice();if(h.forEach((m,g,v)=>{if(s>0){const E=function o1e(n,e){const t={},i=function n1e(n){return W$(n,["attribute","in"])}(n);if(!i)return null;const{type:r,name:o}=i;if(o&&e[o]){const s="// ".concat(n," => Replaced by Transform with a sampler"),{samplerName:a,sizeName:c,uniformDeclerations:l}=function i1e(n){const e="".concat("transform_uSampler_").concat(n),t="".concat(aA).concat(n);return{samplerName:e,sizeName:t,uniformDeclerations:"  uniform sampler2D ".concat(e,";\n  uniform vec2 ").concat(t,";")}}(o),d=function YSe(n){switch(n){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return Oc(!1),null}}(r),h="  ".concat(r," ").concat(o," = transform_getInput(").concat(a,", ").concat(c,").").concat(d,";\n");return t[a]=o,{updatedLine:s,inject:{"vs:#decl":l,"vs:#main-start":h},samplerTextureMap:t}}return null}(m,t);if(E){const{updatedLine:L,inject:H}=E;f[g]=L,d=NP([d,H]),Object.assign(c,E.samplerTextureMap),s--}}i&&!a&&(a=function r1e(n,e){const t=W$(n,["varying","out"]);return t&&t.name===e?t.type:null}(m,i))}),i){gn(r);const m="".concat(aA).concat(i),g="uniform vec2 ".concat(m,";\n"),v="     vec2 ".concat(K$," = transform_getPos(").concat(m,");\n     gl_Position = vec4(").concat(K$,", 0, 1.);\n");d=NP([d,{"vs:#decl":g,"vs:#main-start":v}])}l=f.join("\n")}return{vs:l,targetTextureType:a,inject:d,samplerTextureMap:c}}({vs:e.vs,sourceTextureMap:t,targetTextureVarying:this.targetTextureVarying,targetTexture:i}),l=NP([e.inject||{},a]);return this.targetTextureType=s,this.samplerTextureMap=c,{vs:r,fs:e._fs||q$({version:X$(r),input:this.targetTextureVarying,inputType:s,output:"transform_output"}),modules:this.hasSourceTextures||this.targetTextureVarying?[QSe].concat(e.modules||[]):e.modules,uniforms:o,inject:l}}}let cA=null;class Nc extends ju{get[Symbol.toStringTag](){return"VertexArrayObject"}static isSupported(e){return!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).constantAttributeZero||Pi(e)||"Chrome"===b$()}static getDefaultArray(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new Nc(e,{handle:null,isDefaultArray:!0})),e.luma.defaultVertexArray}static getMaxAttributes(e){return Nc.MAX_ATTRIBUTES=Nc.MAX_ATTRIBUTES||e.getParameter(34921),Nc.MAX_ATTRIBUTES}static setConstant(e,t,i){switch(i.constructor){case Float32Array:Nc._setConstantFloatArray(e,t,i);break;case Int32Array:Nc._setConstantIntArray(e,t,i);break;case Uint32Array:Nc._setConstantUintArray(e,t,i);break;default:gn(!1)}}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,Object.assign({},t,{id:t.id||t.program&&t.program.id})),this.buffer=null,this.bufferValue=null,this.isDefaultArray=t.isDefaultArray||!1,this.gl2=e,this.initialize(t),Object.seal(this)}delete(){return super.delete(),this.buffer&&this.buffer.delete(),this}get MAX_ATTRIBUTES(){return Nc.getMaxAttributes(this.gl)}initialize(){return this.setProps(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}setProps(e){return this}setElementBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return gn(!e||34963===e.target,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.bind(()=>{this.gl.bindBuffer(34963,e?e.handle:null)}),this}setBuffer(e,t,i){if(34963===t.target)return this.setElementBuffer(t,i);const{size:r,type:o,stride:s,offset:a,normalized:c,integer:l,divisor:d}=i,{gl:h,gl2:f}=this;return e=Number(e),this.bind(()=>{h.bindBuffer(34962,t.handle),l?(gn(Pi(h)),f.vertexAttribIPointer(e,r,o,s,a)):h.vertexAttribPointer(e,r,o,c,s,a),h.enableVertexAttribArray(e),f.vertexAttribDivisor(e,d||0)}),this}enable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!t&&0===e&&!Nc.isSupported(this.gl,{constantAttributeZero:!0})||(e=Number(e),this.bind(()=>t?this.gl.enableVertexAttribArray(e):this.gl.disableVertexAttribArray(e))),this}getConstantBuffer(e,t){const i=this._normalizeConstantArrayValue(t),r=i.byteLength*e,o=i.length*e;let s=!this.buffer;if(this.buffer=this.buffer||new Ar(this.gl,r),s=s||this.buffer.reallocate(r),s=s||!this._compareConstantArrayValues(i,this.bufferValue),s){const a=function d1e(n,e){const t=function l1e(n){return(!cA||cA.byteLength<n)&&(cA=new ArrayBuffer(n)),cA}(n.BYTES_PER_ELEMENT*e);return new n(t,0,e)}(t.constructor,o);(function u1e(n){let{target:e,source:t,start:i=0,count:r=1}=n;const o=t.length,s=r*o;let a=0;for(let c=i;a<o;a++)e[c++]=t[a];for(;a<s;)a<s-a?(e.copyWithin(i+a,i,i+a),a*=2):(e.copyWithin(i+a,i,i+s-a),a=s)})({target:a,source:i,start:0,count:o}),this.buffer.subData(a),this.bufferValue=t}return this.buffer}_normalizeConstantArrayValue(e){return Array.isArray(e)?new Float32Array(e):e}_compareConstantArrayValues(e,t){if(!e||!t||e.length!==t.length||e.constructor!==t.constructor)return!1;for(let i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}static _setConstantFloatArray(e,t,i){switch(i.length){case 1:e.vertexAttrib1fv(t,i);break;case 2:e.vertexAttrib2fv(t,i);break;case 3:e.vertexAttrib3fv(t,i);break;case 4:e.vertexAttrib4fv(t,i);break;default:gn(!1)}}static _setConstantIntArray(e,t,i){switch(gn(Pi(e)),i.length){case 1:e.vertexAttribI1iv(t,i);break;case 2:e.vertexAttribI2iv(t,i);break;case 3:e.vertexAttribI3iv(t,i);break;case 4:e.vertexAttribI4iv(t,i);break;default:gn(!1)}}static _setConstantUintArray(e,t,i){switch(gn(Pi(e)),i.length){case 1:e.vertexAttribI1uiv(t,i);break;case 2:e.vertexAttribI2uiv(t,i);break;case 3:e.vertexAttribI3uiv(t,i);break;case 4:e.vertexAttribI4uiv(t,i);break;default:gn(!1)}}_createHandle(){return this.gl.createVertexArray()}_deleteHandle(e){return this.gl2.deleteVertexArray(e),[this.elements]}_bindHandle(e){this.gl2.bindVertexArray(e)}_getParameter(e,t){let{location:i}=t;return gn(Number.isFinite(i)),this.bind(()=>34373===e?this.gl.getVertexAttribOffset(i,e):this.gl.getVertexAttrib(i,e))}}const p1e=/^(.+)__LOCATION_([0-9]+)$/,m1e=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"];class g1e{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.id=t.id||t.program&&t.program.id,this.gl=e,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new Nc(e),L9(this,"VertexArray","v6.0",m1e),this.initialize(t),Object.seal(this)}delete(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(e)}reset(){this.elements=null,this.elementsAccessor=null;const{MAX_ATTRIBUTES:e}=this.vertexArrayObject;return this.values=new Array(e).fill(null),this.accessors=new Array(e).fill(null),this.unused={},this.drawParams=null,this}setProps(e){return"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"attributes"in e&&this.setAttributes(e.attributes),"elements"in e&&this.setElementBuffer(e.elements),"bindOnUse"in e&&(e=e.bindOnUse),this}clearDrawParams(){this.drawParams=null}getDrawParams(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}setAttributes(e){return Object.assign(this.attributes,e),this.vertexArrayObject.bind(()=>{for(const t in e)this._setAttribute(t,e[t]);this.gl.bindBuffer(34962,null)}),this}setElementBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=e,this.elementsAccessor=t,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(e,t),this}setBuffer(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===t.target)return this.setElementBuffer(t,i);const{location:r,accessor:o}=this._resolveLocationAndAccessor(e,t,t.accessor,i);return r>=0&&(this.values[r]=t,this.accessors[r]=o,this.clearDrawParams(),this.vertexArrayObject.setBuffer(r,t,o)),this}setConstant(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{location:r,accessor:o}=this._resolveLocationAndAccessor(e,t,Object.assign({size:t.length},i));return r>=0&&(t=this.vertexArrayObject._normalizeConstantArrayValue(t),this.values[r]=t,this.accessors[r]=o,this.clearDrawParams(),this.vertexArrayObject.enable(r,!1)),this}unbindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.vertexArrayObject.setElementBuffer(null),this.buffer=this.buffer||new Ar(this.gl,{accessor:{size:4}});for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)this.values[e]instanceof Ar&&(this.gl.disableVertexAttribArray(e),this.gl.bindBuffer(34962,this.buffer.handle),this.gl.vertexAttribPointer(e,1,5126,!1,0,0))}),this}bindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.setElementBuffer(this.elements);for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++){const t=this.values[e];t instanceof Ar&&this.setBuffer(e,t)}}),this}bindForDraw(e,t,i){let r;return this.vertexArrayObject.bind(()=>{this._setConstantAttributes(e,t),r=i()}),r}_resolveLocationAndAccessor(e,t,i,r){const o={location:-1,accessor:null},{location:s,name:a}=this._getAttributeIndex(e);if(!Number.isFinite(s)||s<0)return this.unused[e]=t,Nn.once(3,()=>"unused value ".concat(e," in ").concat(this.id))(),o;const c=this._getAttributeInfo(a||s);if(!c)return o;const d=dc.resolve(c.accessor,this.accessors[s]||{},i,r),{size:h,type:f}=d;return gn(Number.isFinite(h)&&Number.isFinite(f)),{location:s,accessor:d}}_getAttributeInfo(e){return this.configuration&&this.configuration.getAttributeInfo(e)}_getAttributeIndex(e){const t=Number(e);if(Number.isFinite(t))return{location:t};const i=p1e.exec(e),r=i?i[1]:e,o=i?Number(i[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(r)+o,name:r}:{location:-1}}_setAttribute(e,t){if(t instanceof Ar)this.setBuffer(e,t);else if(Array.isArray(t)&&t.length&&t[0]instanceof Ar)this.setBuffer(e,t[0],t[1]);else if(ArrayBuffer.isView(t)||Array.isArray(t))this.setConstant(e,t);else{if(!(t.buffer instanceof Ar))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");this.setBuffer(e,t.buffer,t)}}_setConstantAttributes(e,t){const i=Math.max(0|e,0|t);let r=this.values[0];ArrayBuffer.isView(r)&&this._setConstantAttributeZero(r,i);for(let o=1;o<this.vertexArrayObject.MAX_ATTRIBUTES;o++)r=this.values[o],ArrayBuffer.isView(r)&&this._setConstantAttribute(o,r)}_setConstantAttributeZero(e,t){if(Nc.isSupported(this.gl,{constantAttributeZero:!0}))return void this._setConstantAttribute(0,e);const i=this.vertexArrayObject.getConstantBuffer(t,e);this.vertexArrayObject.setBuffer(0,i,this.accessors[0])}_setConstantAttribute(e,t){Nc.setConstant(this.gl,e,t)}_updateDrawParams(){const e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0};for(let t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++)this._updateDrawParamsForLocation(e,t);return this.elements&&(e.elementCount=this.elements.getElementCount(this.elements.accessor),e.isIndexed=!0,e.indexType=this.elementsAccessor.type||this.elements.accessor.type,e.indexOffset=this.elementsAccessor.offset||0),e.indexCount===1/0&&(e.indexCount=0),e.vertexCount===1/0&&(e.vertexCount=0),e.instanceCount===1/0&&(e.instanceCount=0),e}_updateDrawParamsForLocation(e,t){const i=this.values[t],r=this.accessors[t];if(!i)return;const{divisor:o}=r,s=o>0;if(e.isInstanced=e.isInstanced||s,i instanceof Ar){const a=i;if(s){const c=a.getVertexCount(r);e.instanceCount=Math.min(e.instanceCount,c)}else{const c=a.getVertexCount(r);e.vertexCount=Math.min(e.vertexCount,c)}}}setElements(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Nn.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(e,t)}}function K0(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{isInteger:i=!1}=e;if(Array.isArray(n)||ArrayBuffer.isView(n))return function _1e(n,e){const{maxElts:t=16,size:i=1}=e;let r="[";for(let s=0;s<n.length&&s<t;++s)s>0&&(r+=",".concat(s%i==0?" ":"")),r+=K0(n[s],e);const o=n.length>t?"...":"]";return"".concat(r).concat(o)}(n,e);if(!Number.isFinite(n))return String(n);if(Math.abs(n)<1e-16)return i?"0":"0.";if(i||Math.abs(n)>100&&Math.abs(n)<1e4)return n.toFixed(0);const r=n.toPrecision(2);return r.indexOf(".0")===r.length-2?r.slice(0,-1):r}function J$(n,e,t,i){const{gl:r}=n;if(!e)return{[i]:"null","Format ":"N/A"};let l,d,h,o="NOT PROVIDED",s=1,a=0,c=0;if(t&&(o=t.type,s=t.size,o=String(o).replace("Array",""),l=-1!==o.indexOf("nt")),e instanceof Ar){const f=e,{data:m,changed:g}=f.getDebugData();let v;return d=g?"*":"",h=m,c=f.byteLength,a=c/m.BYTES_PER_ELEMENT/s,t?v="".concat(t.divisor>0?"I ":"P "," ").concat(a," (x").concat(s,"=").concat(c," bytes ").concat(nf(r,o),")"):(l=!0,v="".concat(c," bytes")),{[i]:"".concat(d).concat(K0(h,{size:s,isInteger:l})),"Format ":v}}return h=e,s=e.length,o=String(e.constructor.name).replace("Array",""),l=-1!==o.indexOf("nt"),{[i]:"".concat(K0(h,{size:s,isInteger:l})," (constant)"),"Format ":"".concat(s,"x").concat(o," (constant)")}}function y1e(n,e){const{type:t,size:i}=e,r=dW(t,i);return r?"".concat(n," (").concat(r.name,")"):n}function Q$(n){let{header:e="Uniforms",program:t,uniforms:i,undefinedOnly:r=!1}=n;gn(t);const s=".*Matrix",c={},l=Object.keys(t._uniformSetters).sort();let d=0;for(const m of l)!m.match(".*_.*")&&!m.match(s)&&pN({table:c,header:e,uniforms:i,uniformName:m,undefinedOnly:r})&&d++;for(const m of l)m.match(s)&&pN({table:c,header:e,uniforms:i,uniformName:m,undefinedOnly:r})&&d++;for(const m of l)c[m]||pN({table:c,header:e,uniforms:i,uniformName:m,undefinedOnly:r})&&d++;let h=0;const f={};if(!r)for(const m in i){const g=i[m];c[m]||(h++,f[m]={Type:"NOT USED: ".concat(g),[e]:K0(g)})}return{table:c,count:d,unusedTable:f,unusedCount:h}}function pN(n){let{table:e,header:t,uniforms:i,uniformName:r,undefinedOnly:o}=n;const s=i[r],a=function v1e(n){return null!=n}(s);return!(o&&a||(e[r]={[t]:a?K0(s):"N/A","Uniform Type":a?s:"NOT PROVIDED"},0))}function Z$(n){const{type:e,size:t}=n.accessor,i=dW(e,t);return i?"".concat(i.name," ").concat(n.name):n.name}const x1e={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function C1e(n,e){const{attributeMap:t=x1e}=e||{};return t&&t[n]||n}function S1e(n,e){let t;switch(n){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":t="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":t="vectors"}switch(t){case"vectors":e.size=e.size||3;break;case"uvs":e.size=e.size||2}gn(Number.isFinite(e.size),"attribute ".concat(n," needs size"))}const e7=()=>{},M1e={};class J_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:i=lc("model")}=t;gn(j1(e)),this.id=i,this.gl=e,this.id=t.id||lc("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(t)}initialize(e){this.props={},this.programManager=e.programManager||G0.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;const{program:t=null,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d}=e;this.programProps={program:t,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(e.moduleSettings))),this.drawMode=void 0!==e.drawMode?e.drawMode:4,this.vertexCount=e.vertexCount||0,this.geometryBuffers={},this.isInstanced=e.isInstanced||e.instanced||e.instanceCount>0,this._setModelProps(e),this.geometry={},gn(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}setProps(e){this._setModelProps(e)}delete(){for(const e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}getDrawMode(){return this.drawMode}getVertexCount(){return this.vertexCount}getInstanceCount(){return this.instanceCount}getAttributes(){return this.attributes}getProgram(){return this.program}setProgram(e){const{program:t,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d}=e;this.programProps={program:t,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d},this._programDirty=!0}getUniforms(){return this.uniforms}setDrawMode(e){return this.drawMode=e,this}setVertexCount(e){return gn(Number.isFinite(e)),this.vertexCount=e,this}setInstanceCount(e){return gn(Number.isFinite(e)),this.instanceCount=e,this}setGeometry(e){return this.drawMode=e.drawMode,this.vertexCount=e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function E1e(n,e,t){const i={};let r=e.indices;for(const o in e.attributes){const s=e.attributes[o],a=C1e(o,t);if("indices"===o)r=s;else if(s.constant)i[a]=s.value;else{const c=s.value,l={...s};delete l.value,i[a]=[new Ar(n,c),l],S1e(o,l)}}if(r){const o=r.value||r;gn(o instanceof Uint16Array||o instanceof Uint32Array,'attribute array for "indices" must be of integer type');const s={size:1,isIndexed:void 0===r.isIndexed||r.isIndexed};i.indices=[new Ar(n,{data:o,target:34963}),s]}return i}(this.gl,e),this.vertexArray.setAttributes(this.geometryBuffers),this}setAttributes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(U_(e))return this;const t={};for(const i in e){const r=e[i];t[i]=r.getValue?r.getValue():r}return this.vertexArray.setAttributes(t),this}setUniforms(){return Object.assign(this.uniforms,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this}getModuleUniforms(e){this._checkProgram();const t=this.programManager.getUniforms(this.program);return t?t(e):{}}updateModuleSettings(e){const t=this.getModuleUniforms(e||{});return this.setUniforms(t)}clear(e){return KP(this.program.gl,e),this}draw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();const{moduleSettings:t=null,framebuffer:i,uniforms:r={},attributes:o={},transformFeedback:s=this.transformFeedback,parameters:a={},vertexArray:c=this.vertexArray}=e;let l;this.setAttributes(o),this.updateModuleSettings(t),this.setUniforms(r),Nn.priority>=2&&(l=this._logDrawCallStart(2));const d=this.vertexArray.getDrawParams(),{isIndexed:h=d.isIndexed,indexType:f=d.indexType,indexOffset:m=d.indexOffset,vertexArrayInstanced:g=d.isInstanced}=this.props;g&&!this.isInstanced&&Nn.warn("Found instanced attributes on non-instanced model",this.id)();const{isInstanced:v,instanceCount:E}=this,{onBeforeRender:L=e7,onAfterRender:H=e7}=this.props;L(),this.program.setUniforms(this.uniforms);const le=this.program.draw(Object.assign(M1e,e,{logPriority:l,uniforms:null,framebuffer:i,parameters:a,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:c,transformFeedback:s,isIndexed:h,indexType:f,isInstanced:v,instanceCount:E,offset:h?m:0}));return H(),Nn.priority>=2&&this._logDrawCallEnd(l,c,i),le}transform(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{discard:t=!0,feedbackBuffers:i,unbindModels:r=[]}=e;let{parameters:o}=e;i&&this._setFeedbackBuffers(i),t&&(o=Object.assign({},o,{35977:t})),r.forEach(s=>s.vertexArray.unbindBuffers());try{this.draw(Object.assign({},e,{parameters:o}))}finally{r.forEach(s=>s.vertexArray.bindBuffers())}return this}render(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Nn.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(e).draw()}_setModelProps(e){Object.assign(this.props,e),"uniforms"in e&&this.setUniforms(e.uniforms),"pickable"in e&&(this.pickable=e.pickable),"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers)}_checkProgram(){if(!this._programDirty&&this.programManager.stateHash===this._programManagerState)return;let{program:t}=this.programProps;if(t)this._managedProgram=!1;else{const{vs:i,fs:r,modules:o,inject:s,defines:a,varyings:c,bufferMode:l,transpileToGLSL100:d}=this.programProps;t=this.programManager.get({vs:i,fs:r,modules:o,inject:s,defines:a,varyings:c,bufferMode:l,transpileToGLSL100:d}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}gn(t instanceof hW,"Model needs a program"),this._programDirty=!1,t!==this.program&&(this.program=t,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new g1e(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}_deleteGeometryBuffers(){for(const e in this.geometryBuffers){const t=this.geometryBuffers[e][0]||this.geometryBuffers[e];t instanceof Ar&&t.delete()}}_setAnimationProps(e){this.animated&&gn(e,"Model.draw(): animated uniforms but no animationProps")}_setFeedbackBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(U_(e))return this;const{gl:t}=this.program;return this.transformFeedback=this.transformFeedback||new Y$(t,{program:this.program}),this.transformFeedback.setBuffers(e),this}_logDrawCallStart(e){const t=e>3?0:1e4;if(!(Date.now()-this.lastLogTime<t))return this.lastLogTime=Date.now(),Nn.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:Nn.level<=2})(),e}_logDrawCallEnd(e,t,i,r){if(void 0===e)return;const o=function b1e(n){let{vertexArray:e,header:t="Attributes"}=n;if(!e.configuration)return{};const i={};e.elements&&(i.ELEMENT_ARRAY_BUFFER=J$(e,e.elements,null,t));const r=e.values;for(const o in r){const s=e._getAttributeInfo(o);if(s){let a="".concat(o,": ").concat(s.name);const c=e.accessors[s.location];c&&(a="".concat(o,": ").concat(y1e(s.name,c))),i[a]=J$(e,r[o],c,t)}}return i}({vertexArray:t,header:"".concat(this.id," attributes"),attributes:this._attributes}),{table:s,unusedTable:a,unusedCount:c}=Q$({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,i)}),{table:l,count:d}=Q$({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,i),undefinedOnly:!0});d>0&&Nn.log("MISSING UNIFORMS",Object.keys(l))(),c>0&&Nn.log("UNUSED UNIFORMS",Object.keys(a))();const h=function w1e(n){const e={},t="Accessors for ".concat(n.id);for(const i of n.attributeInfos)if(i){const r=Z$(i);e["in ".concat(r)]={[t]:JSON.stringify(i.accessor)}}for(const i of n.varyingInfos)if(i){const r=Z$(i);e["out ".concat(r)]={[t]:JSON.stringify(i.accessor)}}return e}(this.vertexArray.configuration);Nn.table(e,o)(),Nn.table(e,s)(),Nn.table(e+1,h)(),r&&r.log({logLevel:2,message:"Rendered to ".concat(r.id)}),Nn.groupEnd(2)()}}class mN{static isSupported(e){return Pi(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(t),Object.seal(this)}delete(){const{model:e,bufferTransform:t,textureTransform:i}=this;e&&e.delete(),t&&t.delete(),i&&i.delete()}run(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{clearRenderTarget:t=!0}=e,i=this._updateDrawOptions(e);t&&i.framebuffer&&i.framebuffer.clear({color:!0}),this.model.transform(i)}swap(){let e=!1;const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of t)e=e||i.swap();gn(e,"Nothing to swap")}getBuffer(){return this.bufferTransform&&this.bufferTransform.getBuffer(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)}getData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of t){const r=i.getData(e);if(r)return r}return null}getFramebuffer(){return this.textureTransform&&this.textureTransform.getFramebuffer()}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"elementCount"in e&&this.model.setVertexCount(e.elementCount);const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of t)i.update(e)}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{gl:t}=this;this._buildResourceTransforms(t,e),e=this._updateModelProps(e),this.model=new J_(t,Object.assign({},e,{fs:e.fs||q$({version:X$(e.vs)}),id:e.id||"transform-model",drawMode:e.drawMode||0,vertexCount:e.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}_updateModelProps(e){let t=Object.assign({},e);const i=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of i)t=r.updateModelProps(t);return t}_buildResourceTransforms(e,t){(function I1e(n){return!(U_(n.feedbackBuffers)&&U_(n.feedbackMap)&&!(n.varyings&&n.varyings.length>0))})(t)&&(this.bufferTransform=new JSe(e,t)),function D1e(n){return!(U_(n._sourceTextures)&&!n._targetTexture&&!n._targetTextureVarying)}(t)&&(this.textureTransform=new c1e(e,t)),gn(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}_updateDrawOptions(e){let t=Object.assign({},e);const i=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of i)t=Object.assign(t,r.getDrawOptions(t));return t}}const B1e={interpolation:class R1e{constructor({gl:e,attribute:t,timeline:i}){ve(this,"gl",void 0),ve(this,"type","interpolation"),ve(this,"attributeInTransition",void 0),ve(this,"settings",void 0),ve(this,"attribute",void 0),ve(this,"transition",void 0),ve(this,"currentStartIndices",void 0),ve(this,"currentLength",void 0),ve(this,"transform",void 0),ve(this,"buffers",void 0),this.gl=e,this.transition=new k0(i),this.attribute=t,this.attributeInTransition=new fN(e,t.settings),this.currentStartIndices=t.startIndices,this.currentLength=0,this.transform=function k1e(n,e){const t=V$(e.size);return new mN(n,{vs:"\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n",defines:{ATTRIBUTE_TYPE:t},varyings:["vCurrent"]})}(e,t);const r={byteLength:0,usage:35050};this.buffers=[new Ar(e,r),new Ar(e,r)]}get inProgress(){return this.transition.inProgress}start(e,t){if(e.duration<=0)return void this.transition.cancel();this.settings=e;const{buffers:r,attribute:o}=this;z$(r);const s={numInstances:t,attribute:o,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const a of r)H$({buffer:a,...s});this.currentStartIndices=o.startIndices,this.currentLength=hN(o,t),this.attributeInTransition.setData({buffer:r[1],value:o.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/o.size),sourceBuffers:{aFrom:r[0],aTo:U$(0,o)},feedbackBuffers:{vCurrent:r[1]}})}update(){const e=this.transition.update();if(e){const{duration:t,easing:i}=this.settings,{time:r}=this.transition;let o=r/t;i&&(o=i(o)),this.transform.run({uniforms:{time:o}})}return e}cancel(){this.transition.cancel(),this.transform.delete();for(const e of this.buffers)e.delete();this.buffers.length=0}},spring:class P1e{constructor({gl:e,attribute:t,timeline:i}){ve(this,"gl",void 0),ve(this,"type","spring"),ve(this,"attributeInTransition",void 0),ve(this,"settings",void 0),ve(this,"attribute",void 0),ve(this,"transition",void 0),ve(this,"currentStartIndices",void 0),ve(this,"currentLength",void 0),ve(this,"texture",void 0),ve(this,"framebuffer",void 0),ve(this,"transform",void 0),ve(this,"buffers",void 0),this.gl=e,this.type="spring",this.transition=new k0(i),this.attribute=t,this.attributeInTransition=new fN(e,{...t.settings,normalized:!1}),this.currentStartIndices=t.startIndices,this.currentLength=0,this.texture=function F1e(n){return new Hs(n,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}(e),this.framebuffer=function L1e(n,e){return new is(n,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:{36064:e}})}(e,this.texture),this.transform=function N1e(n,e,t){const i=V$(e.size);return new mN(n,{framebuffer:t,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:i},varyings:["vNext"]})}(e,t,this.framebuffer);const r={byteLength:0,usage:35050};this.buffers=[new Ar(e,r),new Ar(e,r),new Ar(e,r)]}get inProgress(){return this.transition.inProgress}start(e,t){const{buffers:r,attribute:o}=this,s={numInstances:t,attribute:o,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const a of r)H$({buffer:a,...s});this.settings=e,this.currentStartIndices=o.startIndices,this.currentLength=hN(o,t),this.attributeInTransition.setData({buffer:r[1],value:o.value}),this.transition.start({...e,duration:1/0}),this.transform.update({elementCount:Math.floor(this.currentLength/o.size),sourceBuffers:{aTo:U$(0,o)}})}update(){const{buffers:e,transform:t,framebuffer:i,transition:r}=this;if(!r.update())return!1;const s=this.settings;return t.update({sourceBuffers:{aPrev:e[0],aCur:e[1]},feedbackBuffers:{vNext:e[2]}}),t.run({framebuffer:i,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:s.stiffness,damping:s.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),z$(e),this.attributeInTransition.setData({buffer:e[1],value:this.attribute.value}),V1(i)[0]>0||r.end(),!0}cancel(){this.transition.cancel(),this.transform.delete();for(const e of this.buffers)e.delete();this.buffers.length=0,this.texture.delete(),this.framebuffer.delete()}}};class j1e{constructor(e,{id:t,timeline:i}){ve(this,"id",void 0),ve(this,"isSupported",void 0),ve(this,"gl",void 0),ve(this,"timeline",void 0),ve(this,"transitions",void 0),ve(this,"needsRedraw",void 0),ve(this,"numInstances",void 0),this.id=t,this.gl=e,this.timeline=i,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=mN.isSupported(e)}finalize(){for(const e in this.transitions)this._removeTransition(e)}update({attributes:e,transitions:t,numInstances:i}){this.numInstances=i||1;for(const r in e){const o=e[r],s=o.getTransitionSetting(t);s&&this._updateAttribute(r,o,s)}for(const r in this.transitions){const o=e[r];(!o||!o.getTransitionSetting(t))&&this._removeTransition(r)}}hasAttribute(e){const t=this.transitions[e];return t&&t.inProgress}getAttributes(){const e={};for(const t in this.transitions){const i=this.transitions[t];i.inProgress&&(e[t]=i.attributeInTransition)}return e}run(){if(!this.isSupported||0===this.numInstances)return!1;for(const t in this.transitions)this.transitions[t].update()&&(this.needsRedraw=!0);const e=this.needsRedraw;return this.needsRedraw=!1,e}_removeTransition(e){this.transitions[e].cancel(),delete this.transitions[e]}_updateAttribute(e,t,i){const r=this.transitions[e];let o=!r||r.type!==i.type;if(o){if(!this.isSupported)return void zi.warn("WebGL2 not supported by this browser. Transition for ".concat(e," is disabled."))();r&&this._removeTransition(e);const s=B1e[i.type];s?this.transitions[e]=new s({attribute:t,timeline:this.timeline,gl:this.gl}):(zi.error("unsupported transition type '".concat(i.type,"'"))(),o=!1)}(o||t.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(i,this.numInstances))}}const t7="attributeManager.invalidate";class W1e{constructor(e,{id:t="attribute-manager",stats:i,timeline:r}={}){ve(this,"id",void 0),ve(this,"gl",void 0),ve(this,"attributes",void 0),ve(this,"updateTriggers",void 0),ve(this,"needsRedraw",void 0),ve(this,"userData",void 0),ve(this,"stats",void 0),ve(this,"attributeTransitionManager",void 0),this.id=t,this.gl=e,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=i,this.attributeTransitionManager=new j1e(e,{id:"".concat(t,"-transitions"),timeline:r}),Object.seal(this)}finalize(){for(const e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(e={clearRedrawFlags:!1}){const t=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,t&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(e){this._add(e)}addInstanced(e){this._add(e,{instanced:1})}remove(e){for(const t of e)void 0!==this.attributes[t]&&(this.attributes[t].delete(),delete this.attributes[t])}invalidate(e,t){const i=this._invalidateTrigger(e,t);Sa(t7,this,e,i)}invalidateAll(e){for(const t in this.attributes)this.attributes[t].setNeedsUpdate(t,e);Sa(t7,this,"all")}update({data:e,numInstances:t,startIndices:i=null,transitions:r,props:o={},buffers:s={},context:a={}}){let c=!1;Sa("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const l in this.attributes){const d=this.attributes[l],h=d.settings.accessor;d.startIndices=i,d.numInstances=t,o[l]&&zi.removed("props.".concat(l),"data.attributes.".concat(l))(),d.setExternalBuffer(s[l])||d.setBinaryValue("string"==typeof h?s[h]:void 0,e.startIndices)||"string"==typeof h&&!s[h]&&d.setConstantValue(o[h])||d.needsUpdate()&&(c=!0,this._updateAttribute({attribute:d,numInstances:t,data:e,props:o,context:a})),this.needsRedraw=this.needsRedraw||d.needsRedraw()}c&&Sa("attributeManager.updateEnd",this,t),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:t,transitions:r})}updateTransition(){const{attributeTransitionManager:e}=this,t=e.run();return this.needsRedraw=this.needsRedraw||t,t}getAttributes(){return this.attributes}getChangedAttributes(e={clearChangedFlags:!1}){const{attributes:t,attributeTransitionManager:i}=this,r={...i.getAttributes()};for(const o in t){const s=t[o];s.needsRedraw(e)&&!i.hasAttribute(o)&&(r[o]=s)}return r}getShaderAttributes(e,t={}){e||(e=this.getAttributes());const i={};for(const r in e)t[r]||Object.assign(i,e[r].getShaderAttributes());return i}_add(e,t={}){for(const i in e)this.attributes[i]=this._createAttribute(i,e[i],t);this._mapUpdateTriggersToAttributes()}_createAttribute(e,t,i){const r={...t,id:e,size:(t.isIndexed?1:t.size)||1,divisor:i.instanced?1:t.divisor||0};return new fN(this.gl,r)}_mapUpdateTriggersToAttributes(){const e={};for(const t in this.attributes)this.attributes[t].getUpdateTriggers().forEach(r=>{e[r]||(e[r]=[]),e[r].push(t)});this.updateTriggers=e}_invalidateTrigger(e,t){const{attributes:i,updateTriggers:r}=this,o=r[e];return o&&o.forEach(s=>{const a=i[s];a&&a.setNeedsUpdate(a.id,t)}),o}_updateAttribute(e){const{attribute:t,numInstances:i}=e;Sa("attribute.updateStart",t),t.constant?t.setConstantValue(t.value):(t.allocate(i)&&Sa("attribute.allocate",t,i),t.updateBuffer(e)&&(this.needsRedraw=!0,Sa("attribute.updateEnd",t,i)))}}function i7(n,e,t,i,r){const o=e-n;return(t-e)*r+-o*i+o+e}function r7(n,e){if(Array.isArray(n)){let t=0;for(let i=0;i<n.length;i++){const r=n[i]-e[i];t+=r*r}return Math.sqrt(t)}return Math.abs(n-e)}const X1e={interpolation:class $1e extends k0{get value(){return this._value}_onUpdate(){const{time:e,settings:{fromValue:t,toValue:i,duration:r,easing:o}}=this,s=o(e/r);this._value=w1(t,i,s)}},spring:class Y1e extends k0{get value(){return this._currValue}_onUpdate(){const{fromValue:e,toValue:t,damping:i,stiffness:r}=this.settings,{_prevValue:o=e,_currValue:s=e}=this;let a=function q1e(n,e,t,i,r){if(Array.isArray(t)){const o=[];for(let s=0;s<t.length;s++)o[s]=i7(n[s],e[s],t[s],i,r);return o}return i7(n,e,t,i,r)}(o,s,t,i,r);const c=r7(a,t),l=r7(a,s);c<1e-5&&l<1e-5&&(a=t,this.end()),this._prevValue=s,this._currValue=a}}};class K1e{constructor(e){this.transitions=new Map,this.timeline=e}get active(){return this.transitions.size>0}add(e,t,i,r){const{transitions:o}=this;if(o.has(e)){const c=o.get(e),{value:l=c.settings.fromValue}=c;t=l,this.remove(e)}if(!(r=j$(r)))return;const s=X1e[r.type];if(!s)return void zi.error("unsupported transition type '".concat(r.type,"'"))();const a=new s(this.timeline);a.start({...r,fromValue:t,toValue:i}),o.set(e,a)}remove(e){const{transitions:t}=this;t.has(e)&&(t.get(e).cancel(),t.delete(e))}update(){const e={};for(const[t,i]of this.transitions)i.update(),e[t]=i.value,i.inProgress||this.remove(t);return e}clear(){for(const e of this.transitions.keys())this.remove(e)}}function Z1e(n,e){if(!n.transitions)return!1;const t={},i=_N(n);let r=!1;for(const o in n.transitions){const s=i[o],a=s&&s.type;("number"===a||"color"===a||"array"===a)&&gN(n[o],e[o],s)&&(t[o]=!0,r=!0)}return!!r&&t}function o7({newProps:n,oldProps:e,ignoreProps:t={},propTypes:i={},triggerName:r="props"}){if(e===n)return!1;if("object"!=typeof n||null===n||"object"!=typeof e||null===e)return"".concat(r," changed shallowly");for(const o of Object.keys(n))if(!(o in t)){if(!(o in e))return"".concat(r,".").concat(o," added");const s=gN(n[o],e[o],i[o]);if(s)return"".concat(r,".").concat(o," ").concat(s)}for(const o of Object.keys(e))if(!(o in t)){if(!(o in n))return"".concat(r,".").concat(o," dropped");if(!Object.hasOwnProperty.call(n,o)){const s=gN(n[o],e[o],i[o]);if(s)return"".concat(r,".").concat(o," ").concat(s)}}return!1}function gN(n,e,t){let i=t&&t.equal;return i&&!i(n,e,t)||!i&&(i=n&&e&&n.equals,i&&!i.call(n,e))?"changed deeply":i||e===n?null:"changed shallowly"}function nAe(n,e){if(null===e)return!0;const t=e.extensions,{extensions:i}=n;if(i===t)return!1;if(!t||!i||i.length!==t.length)return!0;for(let r=0;r<i.length;r++)if(!i[r].equals(t[r]))return!0;return!1}function s7(n,e,t){let i=n.updateTriggers[t];i=i??{};let r=e.updateTriggers[t];return r=r??{},o7({oldProps:r,newProps:i,triggerName:t})}function _N(n){const e=n[q1],t=e&&e.constructor;return t?t._propTypes:{}}function cAe(n,e){if(!e)return n;const t={...n,...e};if("defines"in e&&(t.defines={...n.defines,...e.defines}),"modules"in e&&(t.modules=(n.modules||[]).concat(e.modules),e.modules.some(i=>"project64"===i.name))){const i=t.modules.findIndex(r=>"project32"===r.name);i>=0&&t.modules.splice(i,1)}if("inject"in e)if(n.inject){const i={...n.inject};for(const r in e.inject)i[r]=(i[r]||"")+e.inject[r];t.inject=i}else t.inject=e.inject;return t}function bN(n,e,t=!1){const i=e.projectPosition(n);if(t&&e instanceof lf){const[r,o,s=0]=n,a=e.getDistanceScales([r,o]);i[2]=s*a.unitsPerMeter[2]}return i}function a7(n,{viewport:e,modelMatrix:t,coordinateSystem:i,coordinateOrigin:r,offsetMode:o}){let[s,a,c=0]=n;switch(t&&([s,a,c]=D0([],[s,a,c,1],t)),i){case Ji.LNGLAT:return bN([s,a,c],e,o);case Ji.LNGLAT_OFFSETS:return bN([s+r[0],a+r[1],c+(r[2]||0)],e,o);case Ji.METER_OFFSETS:return bN(W6(r,[s,a,c]),e,o);default:return e.isGeospatial?[s+r[0],a+r[1],c+r[2]]:e.projectPosition([s,a,c])}}const uAe={10241:9987,10240:9729,10242:33071,10243:33071},yN={},pAe={boolean:{validate:(n,e)=>!0,equal:(n,e,t)=>!!n==!!e},number:{validate:(n,e)=>Number.isFinite(n)&&(!("max"in e)||n<=e.max)&&(!("min"in e)||n>=e.min)},color:{validate:(n,e)=>e.optional&&!n||Q0(n)&&(3===n.length||4===n.length),equal:(n,e,t)=>vN(n,e)},accessor:{validate(n,e){const t=lA(n);return"function"===t||t===lA(e.value)},equal:(n,e,t)=>"function"==typeof e||vN(n,e)},array:{validate:(n,e)=>e.optional&&!n||Q0(n),equal:(n,e,t)=>t.compare?vN(n,e):n===e},object:{equal:(n,e,t)=>t.compare?F_(n,e):n===e},function:{validate:(n,e)=>e.optional&&!n||"function"==typeof n,equal:(n,e,t)=>!t.compare||n===e},data:{transform:(n,e,t)=>{const{dataTransform:i}=t.props;return i&&n?i(n):n}},image:{transform:(n,e,t)=>function hAe(n,e){const t=n.context&&n.context.gl;if(!t||!e)return null;if(e instanceof Hs)return e;e.constructor&&"Object"!==e.constructor.name&&(e={data:e});let i=null;e.compressed&&(i={10241:e.data.length>1?9985:9729});const r=new Hs(t,{...e,parameters:{...uAe,...i,...n.props.textureParameters}});return yN[r.id]=!0,r}(t,n),release:n=>{!function fAe(n){!n||!(n instanceof Hs)||yN[n.id]&&(n.delete(),delete yN[n.id])}(n)}}};function vN(n,e){if(n===e)return!0;if(!Q0(n)||!Q0(e))return!1;const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function gAe(n,e){switch(lA(e)){case"object":return J0(n,e);case"array":return J0(n,{type:"array",value:e,compare:!1});case"boolean":return J0(n,{type:"boolean",value:e});case"number":return J0(n,{type:"number",value:e});case"function":return J0(n,{type:"function",value:e,compare:!0});default:return{name:n,type:"unknown",value:e}}}function J0(n,e){return"type"in e?{name:n,...pAe[e.type],...e}:"value"in e?{name:n,type:lA(e.value),...e}:{name:n,type:"object",value:e}}function Q0(n){return Array.isArray(n)||ArrayBuffer.isView(n)}function lA(n){return Q0(n)?"array":null===n?"null":typeof n}function c7(n){return dA(n,"_mergedDefaultProps")||(function bAe(n){if(!n.prototype)return;const t=Object.getPrototypeOf(n),i=c7(t),o=function mAe(n){const e={},t={},i={};for(const[r,o]of Object.entries(n)){const s=o?.deprecatedFor;if(s)i[r]=Array.isArray(s)?s:[s];else{const a=gAe(r,o);e[r]=a,t[r]=a.value}}return{propTypes:e,defaultProps:t,deprecatedProps:i}}(dA(n,"defaultProps")||{}),s=function yAe(n,e,t){const i=Object.create(null);Object.assign(i,e,n);const r=function EAe(n){const e=dA(n,"layerName")||dA(n,"componentName");return e||zi.once(0,"".concat(n.name,".componentName not specified"))(),e||n.name}(t);return delete n.id,Object.defineProperties(i,{id:{writable:!0,value:r}}),i}(o.defaultProps,i,n),a={...t._propTypes,...o.propTypes};!function wAe(n,e){const t={},i={};for(const r in e){const o=e[r],{name:s,value:a}=o;o.async&&(t[s]=a,i[s]=xAe(s))}n[$_]=t,n[Jp]={},Object.defineProperties(n,i)}(s,a);const c={...t._deprecatedProps,...o.deprecatedProps};(function vAe(n,e){for(const t in e)Object.defineProperty(n,t,{enumerable:!1,set(i){const r="".concat(this.id,": ").concat(t);for(const o of e[t])l7(this,o)||(this[o]=i);zi.deprecated(r,e[t].join("/"))()}})})(s,c),n._mergedDefaultProps=s,n._propTypes=a,n._deprecatedProps=c}(n),n._mergedDefaultProps)}function xAe(n){return{enumerable:!0,set(e){"string"==typeof e||e instanceof Promise||B$(e)?this[Jp][n]=e:this[sf][n]=e},get(){if(this[sf]){if(n in this[sf])return this[sf][n]||this[$_][n];if(n in this[Jp]){const e=this[q1]&&this[q1].internalState;if(e&&e.hasAsyncProp(n))return e.getAsyncProp(n)||this[$_][n]}}return this[$_][n]}}}function l7(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function dA(n,e){return l7(n,e)&&n[e]}let CAe=0;class wN{constructor(...e){ve(this,"id",void 0),ve(this,"props",void 0),ve(this,"count",void 0),this.props=function _Ae(n,e){const t=c7(n.constructor),i=Object.create(t);i[q1]=n,i[Jp]={},i[sf]={};for(let r=0;r<e.length;++r){const o=e[r];for(const s in o)i[s]=o[s]}return Object.freeze(i),i}(this,e),this.id=this.props.id,this.count=CAe++}clone(e){const{props:t}=this,i={};for(const r in t[$_])r in t[sf]?i[r]=t[sf][r]:r in t[Jp]&&(i[r]=t[Jp][r]);return new this.constructor({...t,...i,...e})}}ve(wN,"componentName","Component"),ve(wN,"defaultProps",{});const SAe=Object.freeze({});class AAe{constructor(e){ve(this,"component",void 0),ve(this,"onAsyncPropUpdated",void 0),ve(this,"asyncProps",void 0),ve(this,"oldProps",void 0),ve(this,"oldAsyncProps",void 0),this.component=e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const e in this.asyncProps){const t=this.asyncProps[e];t&&t.type&&t.type.release&&t.type.release(t.resolvedValue,t.type,this.component)}}getOldProps(){return this.oldAsyncProps||this.oldProps||SAe}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component.props}hasAsyncProp(e){return e in this.asyncProps}getAsyncProp(e){const t=this.asyncProps[e];return t&&t.resolvedValue}isAsyncPropLoading(e){if(e){const t=this.asyncProps[e];return!!(t&&t.pendingLoadCount>0&&t.pendingLoadCount!==t.resolvedLoadCount)}for(const t in this.asyncProps)if(this.isAsyncPropLoading(t))return!0;return!1}reloadAsyncProp(e,t){this._watchPromise(e,Promise.resolve(t))}setAsyncProps(e){const t=e[sf]||{},i=e[Jp]||e,r=e[$_]||{};for(const o in t){const s=t[o];this._createAsyncPropData(o,r[o]),this._updateAsyncProp(o,s),t[o]=this.getAsyncProp(o)}for(const o in i){const s=i[o];this._createAsyncPropData(o,r[o]),this._updateAsyncProp(o,s)}}_fetch(e,t){return null}_onResolve(e,t){}_onError(e,t){}_updateAsyncProp(e,t){if(this._didAsyncInputValueChange(e,t)){if("string"==typeof t&&(t=this._fetch(e,t)),t instanceof Promise)return void this._watchPromise(e,t);if(B$(t))return void this._resolveAsyncIterable(e,t);this._setPropValue(e,t)}}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}}_didAsyncInputValueChange(e,t){const i=this.asyncProps[e];return t!==i.resolvedValue&&t!==i.lastValue&&(i.lastValue=t,!0)}_setPropValue(e,t){this._freezeAsyncOldProps();const i=this.asyncProps[e];i&&(t=this._postProcessValue(i,t),i.resolvedValue=t,i.pendingLoadCount++,i.resolvedLoadCount=i.pendingLoadCount)}_setAsyncPropValue(e,t,i){const r=this.asyncProps[e];r&&i>=r.resolvedLoadCount&&void 0!==t&&(this._freezeAsyncOldProps(),r.resolvedValue=t,r.resolvedLoadCount=i,this.onAsyncPropUpdated(e,t))}_watchPromise(e,t){const i=this.asyncProps[e];if(i){i.pendingLoadCount++;const r=i.pendingLoadCount;t.then(o=>{o=this._postProcessValue(i,o),this._setAsyncPropValue(e,o,r),this._onResolve(e,o)}).catch(o=>{this._onError(e,o)})}}_resolveAsyncIterable(e,t){var i=this;return D(function*(){if("data"!==e)return void i._setPropValue(e,t);const r=i.asyncProps[e];if(!r)return;r.pendingLoadCount++;const o=r.pendingLoadCount;let s=[],a=0;var d,c=!1,l=!1;try{for(var f,h=I2(t);c=!(f=yield h.next()).done;c=!1){const m=f.value;{const{dataTransform:g}=i.component.props;s=g?g(m,s):s.concat(m),Object.defineProperty(s,"__diff",{enumerable:!1,value:[{startRow:a,endRow:s.length}]}),a=s.length,i._setAsyncPropValue(e,s,o)}}}catch(m){l=!0,d=m}finally{try{c&&null!=h.return&&(yield h.return())}finally{if(l)throw d}}i._onResolve(e,s)})()}_postProcessValue(e,t){const i=e.type;return i&&(i.release&&i.release(e.resolvedValue,i,this.component),i.transform)?i.transform(t,i,this.component):t}_createAsyncPropData(e,t){if(!this.asyncProps[e]){const r=this.component&&this.component.constructor._propTypes;this.asyncProps[e]={type:r&&r[e],lastValue:null,resolvedValue:t,pendingLoadCount:0,resolvedLoadCount:0}}}}class TAe extends AAe{constructor({attributeManager:e,layer:t}){super(t),ve(this,"attributeManager",void 0),ve(this,"needsRedraw",void 0),ve(this,"needsUpdate",void 0),ve(this,"subLayers",void 0),ve(this,"usesPickingColorCache",void 0),ve(this,"changeFlags",void 0),ve(this,"viewport",void 0),ve(this,"uniformTransitions",void 0),ve(this,"propsInTransition",void 0),this.attributeManager=e,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}set layer(e){this.component=e}_fetch(e,t){const i=this.component.props.fetch;return i?i(t,{propName:e,layer:this.layer}):super._fetch(e,t)}_onResolve(e,t){const i=this.component.props.onDataLoad;"data"===e&&i&&i(t,{propName:e,layer:this.layer})}_onError(e,t){this.layer.raiseError(t,"loading ".concat(e," of ").concat(this.layer))}}const kAe=Object.freeze([]),PAe=$1(({oldViewport:n,viewport:e})=>n.equals(e));let Pd=new Uint8ClampedArray(0);const NAe={data:{type:"data",value:kAe,async:!0},dataComparator:{type:"function",value:null,compare:!1,optional:!0},_dataDiff:{type:"function",value:n=>n&&n.__diff,compare:!1,optional:!0},dataTransform:{type:"function",value:null,compare:!1,optional:!0},onDataLoad:{type:"function",value:null,compare:!1,optional:!0},onError:{type:"function",value:null,compare:!1,optional:!0},fetch:{type:"function",value:(n,{propName:e,layer:t,loaders:i,loadOptions:r,signal:o})=>{const{resourceManager:s}=t.context;var a;r=r||t.getLoadOptions(),i=i||t.props.loaders,o&&(r={...r,fetch:{...null===(a=r)||void 0===a?void 0:a.fetch,signal:o}});let c=s.contains(n);return!c&&!r&&(s.add({resourceId:n,data:$0(n,i),persistent:!1}),c=!0),c?s.subscribe({resourceId:n,onChange:l=>{var d;return null===(d=t.internalState)||void 0===d?void 0:d.reloadAsyncProp(e,l)},consumerId:t.id,requestId:e}):$0(n,i,r)},compare:!1},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,compare:!1,optional:!0},onClick:{type:"function",value:null,compare:!1,optional:!0},onDragStart:{type:"function",value:null,compare:!1,optional:!0},onDrag:{type:"function",value:null,compare:!1,optional:!0},onDragEnd:{type:"function",value:null,compare:!1,optional:!0},coordinateSystem:Ji.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,compare:!0},getPolygonOffset:{type:"function",value:({layerIndex:n})=>[0,100*-n],compare:!1},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class Zp extends wN{constructor(...e){super(...e),ve(this,"internalState",null),ve(this,"lifecycle","Awaiting state"),ve(this,"context",void 0),ve(this,"state",void 0),ve(this,"parent",null)}get root(){let e=this;for(;e.parent;)e=e.parent;return e}toString(){return"".concat(this.constructor.layerName||this.constructor.name,"({id: '").concat(this.props.id,"'})")}project(e){zs(this.internalState);const t=this.internalState.viewport||this.context.viewport,i=a7(e,{viewport:t,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[r,o,s]=q6(i,t.pixelProjectionMatrix);return 2===e.length?[r,o]:[r,o,s]}unproject(e){return zs(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(e)}projectPosition(e,t){return zs(this.internalState),function dAe(n,e){const{viewport:t,coordinateSystem:i,coordinateOrigin:r,modelMatrix:o,fromCoordinateSystem:s,fromCoordinateOrigin:a}=function lAe(n){const{viewport:e,modelMatrix:t,coordinateOrigin:i}=n;let{coordinateSystem:r,fromCoordinateSystem:o,fromCoordinateOrigin:s}=n;return r===Ji.DEFAULT&&(r=e.isGeospatial?Ji.LNGLAT:Ji.CARTESIAN),void 0===o&&(o=r),void 0===s&&(s=i),{viewport:e,coordinateSystem:r,coordinateOrigin:i,modelMatrix:t,fromCoordinateSystem:o,fromCoordinateOrigin:s}}(e),{geospatialOrigin:c,shaderCoordinateOrigin:l,offsetMode:d}=vW(t,i,r),h=a7(n,{viewport:t,modelMatrix:o,coordinateSystem:s,coordinateOrigin:a,offsetMode:d});d&&function X_e(n,e,t){n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2]}(h,h,t.projectPosition(c||l));return h}(e,{viewport:this.internalState.viewport||this.context.viewport,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...t})}get isComposite(){return!1}setState(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return!!this.internalState&&!this.internalState.isAsyncPropLoading()}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){return this.state&&(this.state.models||this.state.model&&[this.state.model])||[]}setModuleParameters(e){for(const t of this.getModels())t.updateModuleSettings(e)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:e}=this.props;return e===Ji.DEFAULT||e===Ji.LNGLAT||e===Ji.CARTESIAN}onHover(e,t){return this.props.onHover&&this.props.onHover(e,t)||!1}onClick(e,t){return this.props.onClick&&this.props.onClick(e,t)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(e,t=[]){return t[0]=e+1&255,t[1]=e+1>>8&255,t[2]=e+1>>8>>8&255,t}decodePickingColor(e){zs(e instanceof Uint8Array);const[t,i,r]=e;return t+256*i+65536*r-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:function oAe(n){if(!function aAe(n){return null!==n&&"object"==typeof n}(n))throw new Error("count(): argument not an object");if("function"==typeof n.count)return n.count();if(Number.isFinite(n.size))return n.size;if(Number.isFinite(n.length))return n.length;if(function sAe(n){return null!==n&&"object"==typeof n&&n.constructor===Object}(n))return Object.keys(n).length;throw new Error("count(): argument not a container")}(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var e;const t=this.getAttributeManager();if(!t)return null;const{positions:i,instancePositions:r}=t.attributes;return null===(e=i||r)||void 0===e?void 0:e.getBounds()}getShaders(e){for(const t of this.props.extensions)e=cAe(e,t.getShaders.call(this,t));return e}shouldUpdateState(e){return e.changeFlags.propsOrDataChanged}updateState(e){const t=this.getAttributeManager(),{dataChanged:i}=e.changeFlags;if(i&&t)if(Array.isArray(i))for(const c of i)t.invalidateAll(c);else t.invalidateAll();const{props:r,oldProps:o}=e,s=Number.isInteger(o.highlightedObjectIndex)||o.pickable,a=Number.isInteger(r.highlightedObjectIndex)||r.pickable;if(s!==a&&t){const{pickingColors:c,instancePickingColors:l}=t.attributes,d=c||l;d&&(a&&d.constant&&(d.constant=!1,t.invalidate(d.id)),!d.value&&!a&&(d.constant=!0,d.value=[0,0,0]))}}finalizeState(e){for(const i of this.getModels())i.delete();const t=this.getAttributeManager();t&&t.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(e){for(const t of this.getModels())t.draw(e)}getPickingInfo({info:e}){const{index:r}=e;return r>=0&&Array.isArray(this.props.data)&&(e.object=this.props.data[r]),e}raiseError(e,t){var i,r,o,s;t&&(e.message="".concat(t,": ").concat(e.message)),null!==(i=(r=this.props).onError)&&void 0!==i&&i.call(r,e)||null===(o=this.context)||void 0===o||null===(s=o.onError)||void 0===s||s.call(o,e,this)}getNeedsRedraw(e={clearRedrawFlags:!1}){return this._getNeedsRedraw(e)}needsUpdate(){return!!this.internalState&&(this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()))}hasUniformTransition(){var e;return(null===(e=this.internalState)||void 0===e?void 0:e.uniformTransitions.active)||!1}activateViewport(e){if(!this.internalState)return;const t=this.internalState.viewport;this.internalState.viewport=e,(!t||!PAe({oldViewport:t,viewport:e}))&&(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(e="all"){const t=this.getAttributeManager();t&&("all"===e?t.invalidateAll():t.invalidate(e))}updateAttributes(e){for(const t of this.getModels())this._setModelAttributes(t,e)}_updateAttributes(){const e=this.getAttributeManager();if(!e)return;const t=this.props,i=this.getNumInstances(),r=this.getStartIndices();e.update({data:t.data,numInstances:i,startIndices:r,props:t,transitions:t.transitions,buffers:t.data.attributes,context:this});const o=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(o)}_updateAttributeTransition(){const e=this.getAttributeManager();e&&e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:e}=this.internalState;if(e.active){const t=e.update(),i=Object.create(this.props);for(const r in t)Object.defineProperty(i,r,{value:t[r]});return i}return this.props}calculateInstancePickingColors(e,{numInstances:t}){if(e.constant)return;const i=Math.floor(Pd.length/3);if(this.internalState.usesPickingColorCache=!0,i<t){t>16777215&&zi.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),Pd=T0.allocate(Pd,t,{size:3,copy:!0,maxCount:Math.max(t,16777215)});const r=Math.floor(Pd.length/3),o=[];for(let s=i;s<r;s++)this.encodePickingColor(s,o),Pd[3*s+0]=o[0],Pd[3*s+1]=o[1],Pd[3*s+2]=o[2]}e.value=Pd.subarray(0,3*t)}_setModelAttributes(e,t){const o=this.getAttributeManager().getShaderAttributes(t,e.userData.excludeAttributes||{});e.setAttributes(o)}disablePickingIndex(e){this._disablePickingIndex(e)}_disablePickingIndex(e){const{pickingColors:t,instancePickingColors:i}=this.getAttributeManager().attributes,r=t||i;if(!r)return;const o=r.getVertexOffset(e),s=r.getVertexOffset(e+1);r.buffer.subData({data:new Uint8Array(s-o),offset:o})}restorePickingColors(){const{pickingColors:e,instancePickingColors:t}=this.getAttributeManager().attributes,i=e||t;i&&(this.internalState.usesPickingColorCache&&i.value.buffer!==Pd.buffer&&(i.value=Pd.subarray(0,i.value.length)),i.updateSubBuffer({startOffset:0}))}_initialize(){zs(!this.internalState),zs(Number.isFinite(this.props.coordinateSystem)),Sa("layer.initialize",this);const e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new TAe({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(zi.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e)}),this.internalState.layer=this,this.internalState.uniformTransitions=new K1e(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const t of this.props.extensions)t.initializeState.call(this,this.context,t);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(e){Sa("layer.matched",this,this===e);const{state:t,internalState:i}=e;this!==e&&(this.internalState=i,this.internalState.layer=this,this.state=t,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const e=this.needsUpdate();if(Sa("layer.update",this,e),!e)return;const t=this.props,i=this.context,r=this.internalState,o=i.viewport,s=this._updateUniformTransition();r.propsInTransition=s,i.viewport=r.viewport||o,this.props=s;try{const a=this._getUpdateParams(),c=this.getModels();if(i.gl)this.updateState(a);else try{this.updateState(a)}catch{}for(const d of this.props.extensions)d.updateState.call(this,a,d);const l=this.getModels()[0]!==c[0];this._postUpdate(a,l)}finally{i.viewport=o,this.props=t,this._clearChangeFlags(),r.needsUpdate=!1,r.resetOldProps()}}_finalize(){Sa("layer.finalize",this),this.finalizeState(this.context);for(const e of this.props.extensions)e.finalizeState.call(this,e)}_drawLayer({moduleParameters:e=null,uniforms:t={},parameters:i={}}){this._updateAttributeTransition();const r=this.props,o=this.context;this.props=this.internalState.propsInTransition||r,t.opacity=Math.pow(this.props.opacity,1/2.2);try{e&&this.setModuleParameters(e);const{getPolygonOffset:a}=this.props,c=a&&a(t)||[0,0];Bu(o.gl,{polygonOffset:c}),dl(o.gl,i,()=>{const l={moduleParameters:e,uniforms:t,parameters:i,context:o};for(const d of this.props.extensions)d.draw.call(this,l,d);this.draw(l)})}finally{this.props=r}}getChangeFlags(){var e;return null===(e=this.internalState)||void 0===e?void 0:e.changeFlags}setChangeFlags(e){if(!this.internalState)return;const{changeFlags:t}=this.internalState;for(const r in e)if(e[r]){let o=!1;if("dataChanged"===r){const s=e[r],a=t[r];s&&Array.isArray(a)&&(t.dataChanged=Array.isArray(s)?a.concat(s):s,o=!0)}t[r]||(t[r]=e[r],o=!0),o&&Sa("layer.changeFlag",this,r,e)}const i=!!(t.dataChanged||t.updateTriggersChanged||t.propsChanged||t.extensionsChanged);t.propsOrDataChanged=i,t.somethingChanged=i||t.viewportChanged||t.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(e,t){const i=function Q1e(n,e){const t=o7({newProps:n,oldProps:e,propTypes:_N(n),ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),i=function eAe(n,e){if(null===e)return"oldProps is null, initial diff";let t=!1;const{dataComparator:i,_dataDiff:r}=n;return i?i(n.data,e.data)||(t="Data comparator detected a change"):n.data!==e.data&&(t="A new data container was supplied"),t&&r&&(t=r(n.data,e.data)||t),t}(n,e);let r=!1;return i||(r=function tAe(n,e){if(null===e)return{all:!0};if("all"in n.updateTriggers&&s7(n,e,"all"))return{all:!0};const t={};let i=!1;for(const r in n.updateTriggers)"all"!==r&&s7(n,e,r)&&(t[r]=!0,i=!0);return!!i&&t}(n,e)),{dataChanged:i,propsChanged:t,updateTriggersChanged:r,extensionsChanged:nAe(n,e),transitionsChanged:Z1e(n,e)}}(e,t);if(i.updateTriggersChanged)for(const o in i.updateTriggersChanged)i.updateTriggersChanged[o]&&this.invalidateAttribute(o);if(i.transitionsChanged)for(const o in i.transitionsChanged){var r;this.internalState.uniformTransitions.add(o,t[o],e[o],null===(r=e.transitions)||void 0===r?void 0:r[o])}return this.setChangeFlags(i)}validateProps(){!function J1e(n){const e=_N(n);for(const t in e){const i=e[t],{validate:r}=i;if(r&&!r(n[t],i))throw new Error("Invalid prop ".concat(t,": ").concat(n[t]))}}(this.props)}updateAutoHighlight(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}_updateAutoHighlight(e){const t={pickingSelectedColor:e.picked?e.color:null},{highlightColor:i}=this.props;e.picked&&"function"==typeof i&&(t.pickingHighlightColor=i(e)),this.setModuleParameters(t),this.setNeedsRedraw()}_getAttributeManager(){const e=this.context;return new W1e(e.gl,{id:this.props.id,stats:e.stats,timeline:e.timeline})}_postUpdate(e,t){const{props:i,oldProps:r}=e;this.setNeedsRedraw(),this._updateAttributes();const{model:o}=this.state;o?.setInstanceCount(this.getNumInstances());const{autoHighlight:s,highlightedObjectIndex:a,highlightColor:c}=i;if(t||r.autoHighlight!==s||r.highlightedObjectIndex!==a||r.highlightColor!==c){const l={};s||(l.pickingSelectedColor=null),Array.isArray(c)&&(l.pickingHighlightColor=c),(t||a!==r.highlightedObjectIndex)&&(l.pickingSelectedColor=Number.isFinite(a)&&a>=0?this.encodePickingColor(a):null),this.setModuleParameters(l)}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(e){if(!this.internalState)return!1;let t=!1;t=t||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags;const i=this.getAttributeManager(),r=!!i&&i.getNeedsRedraw(e);return t=t||r,t}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}ve(Zp,"defaultProps",NAe),ve(Zp,"layerName","Layer");class xN extends Zp{get isComposite(){return!0}get isLoaded(){return super.isLoaded&&this.getSubLayers().every(e=>e.isLoaded)}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(e){}setState(e){super.setState(e),this.setNeedsUpdate()}getPickingInfo({info:e}){const{object:t}=e;return t&&t.__source&&t.__source.parent&&t.__source.parent.id===this.id&&(e.object=t.__source.object,e.index=t.__source.index),e}filterSubLayer(e){return!0}shouldRenderSubLayer(e,t){return t&&t.length}getSubLayerClass(e,t){const{_subLayerProps:i}=this.props;return i&&i[e]&&i[e].type||t}getSubLayerRow(e,t,i){return e.__source={parent:this,object:t,index:i},e}getSubLayerAccessor(e){if("function"==typeof e){const t={index:-1,data:this.props.data,target:[]};return(i,r)=>i&&i.__source?(t.index=i.__source.index,e(i.__source.object,t)):e(i,r)}return e}getSubLayerProps(e={}){var t;const{opacity:i,pickable:r,visible:o,parameters:s,getPolygonOffset:a,highlightedObjectIndex:c,autoHighlight:l,highlightColor:d,coordinateSystem:h,coordinateOrigin:f,wrapLongitude:m,positionFormat:g,modelMatrix:v,extensions:E,fetch:L,operation:H,_subLayerProps:le}=this.props,se={id:"",updateTriggers:{},opacity:i,pickable:r,visible:o,parameters:s,getPolygonOffset:a,highlightedObjectIndex:c,autoHighlight:l,highlightColor:d,coordinateSystem:h,coordinateOrigin:f,wrapLongitude:m,positionFormat:g,modelMatrix:v,extensions:E,fetch:L,operation:H},Pe=le&&e.id&&le[e.id],$e=Pe&&Pe.updateTriggers,ct=e.id||"sublayer";if(Pe){const pt=this.constructor._propTypes,tt=e.type?e.type._propTypes:{};for(const yt in Pe){const Pt=tt[yt]||pt[yt];Pt&&"accessor"===Pt.type&&(Pe[yt]=this.getSubLayerAccessor(Pe[yt]))}}Object.assign(se,e,Pe),se.id="".concat(this.props.id,"-").concat(ct),se.updateTriggers={all:null===(t=this.props.updateTriggers)||void 0===t?void 0:t.all,...e.updateTriggers,...$e};for(const pt of E){const tt=pt.getSubLayerProps.call(this,pt);tt&&Object.assign(se,tt,{updateTriggers:Object.assign(se.updateTriggers,tt.updateTriggers)})}return se}_updateAutoHighlight(e){for(const t of this.getSubLayers())t.updateAutoHighlight(e)}_getAttributeManager(){return null}_postUpdate(e,t){let i=this.internalState.subLayers;const r=!i||this.needsUpdate();r&&(i=l2(this.renderLayers(),Boolean),this.internalState.subLayers=i),Sa("compositeLayer.renderLayers",this,r,i);for(const o of i)o.parent=this}}ve(xN,"layerName","CompositeLayer");const uA={name:"project32",dependencies:[o2],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  mat3 rotation;\n  if (project_needs_rotation(projectedPosition, rotation)) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"},LAe={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1},hA={inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    // for picking depth values\n    picking_setPickingAttribute(position.z / position.w);\n  ","vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  ","fs:#decl":"\nuniform bool picking_uAttribute;\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}},name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function BAe(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:LAe;const e={};if(void 0!==n.pickingSelectedColor)if(n.pickingSelectedColor){const t=n.pickingSelectedColor.slice(0,3);e.picking_uSelectedColorValid=1,e.picking_uSelectedColor=t}else e.picking_uSelectedColorValid=0;if(n.pickingHighlightColor){const t=Array.from(n.pickingHighlightColor,i=>i/255);Number.isFinite(t[3])||(t[3]=1),e.picking_uHighlightColor=t}return void 0!==n.pickingActive&&(e.picking_uActive=!!n.pickingActive,e.picking_uAttribute=!!n.pickingAttribute),e}},u7={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};class df{static get DRAW_MODE(){return u7}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=lc("geometry"),drawMode:i=u7.TRIANGLES,attributes:r={},indices:o=null,vertexCount:s=null}=e;this.id=t,this.drawMode=0|i,this.attributes={},this.userData={},this._setAttributes(r,o),this.vertexCount=s||this._calculateVertexCount(this.attributes,this.indices)}get mode(){return this.drawMode}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(e){return"Geometry ".concat(this.id," attribute ").concat(e)}_setAttributes(e,t){t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t);for(const i in e){let r=e[i];r=ArrayBuffer.isView(r)?{value:r}:r,gn(ArrayBuffer.isView(r.value),"".concat(this._print(i),": must be typed array or object with value as typed array")),("POSITION"===i||"positions"===i)&&!r.size&&(r.size=3),"indices"===i?(gn(!this.indices),this.indices=r):this.attributes[i]=r}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}_calculateVertexCount(e,t){if(t)return t.value.length;let i=1/0;for(const r in e){const o=e[r],{value:s,size:a,constant:c}=o;!c&&s&&a>=1&&(i=Math.min(i,s.length/a))}return gn(Number.isFinite(i)),i}}const h7=()=>{},f7={10241:9987,10240:9729,10242:33071,10243:33071};function HAe(n){return Math.pow(2,Math.ceil(Math.log2(n)))}function GAe(n,e,t,i){return t===e.width&&i===e.height?e:(n.canvas.height=i,n.canvas.width=t,n.clearRect(0,0,n.canvas.width,n.canvas.height),n.drawImage(e,0,0,e.width,e.height,0,0,t,i),n.canvas)}function Z0(n){return n&&(n.id||n.url)}function p7(n,e,t){for(let i=0;i<e.length;i++){const{icon:r,xOffset:o}=e[i];n[Z0(r)]={...r,x:o,y:t}}}class YAe{constructor(e,{onUpdate:t=h7,onError:i=h7}){ve(this,"gl",void 0),ve(this,"onUpdate",void 0),ve(this,"onError",void 0),ve(this,"_loadOptions",null),ve(this,"_texture",null),ve(this,"_externalTexture",null),ve(this,"_mapping",{}),ve(this,"_textureParameters",null),ve(this,"_pendingCount",0),ve(this,"_autoPacking",!1),ve(this,"_xOffset",0),ve(this,"_yOffset",0),ve(this,"_rowHeight",0),ve(this,"_buffer",4),ve(this,"_canvasWidth",1024),ve(this,"_canvasHeight",0),ve(this,"_canvas",null),this.gl=e,this.onUpdate=t,this.onError=i}finalize(){var e;null===(e=this._texture)||void 0===e||e.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping(e){const t=this._autoPacking?Z0(e):e;return this._mapping[t]||{}}setProps({loadOptions:e,autoPacking:t,iconAtlas:i,iconMapping:r,textureParameters:o}){var s;e&&(this._loadOptions=e),void 0!==t&&(this._autoPacking=t),r&&(this._mapping=r),i&&(null===(s=this._texture)||void 0===s||s.delete(),this._texture=null,this._externalTexture=i),o&&(this._textureParameters=o)}get isLoaded(){return 0===this._pendingCount}packIcons(e,t){if(!this._autoPacking||typeof document>"u")return;const i=Object.values(function qAe(n,e,t){if(!n||!e)return null;t=t||{};const i={},{iterable:r,objectInfo:o}=oA(n);for(const s of r){o.index++;const a=e(s,o),c=Z0(a);if(!a)throw new Error("Icon is missing.");if(!a.url)throw new Error("Icon url is missing.");!i[c]&&(!t[c]||a.url!==t[c].url)&&(i[c]={...a,source:s,sourceIndex:o.index})}return i}(e,t,this._mapping)||{});if(i.length>0){const{mapping:r,xOffset:o,yOffset:s,rowHeight:a,canvasHeight:c}=function $Ae({icons:n,buffer:e,mapping:t={},xOffset:i=0,yOffset:r=0,rowHeight:o=0,canvasWidth:s}){let a=[];for(let c=0;c<n.length;c++){const l=n[c];if(!t[Z0(l)]){const{height:h,width:f}=l;i+f+e>s&&(p7(t,a,r),i=0,r=o+r+e,o=0,a=[]),a.push({icon:l,xOffset:i}),i=i+f+e,o=Math.max(o,h)}}return a.length>0&&p7(t,a,r),{mapping:t,rowHeight:o,xOffset:i,yOffset:r,canvasWidth:s,canvasHeight:HAe(o+r+e)}}({icons:i,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});this._rowHeight=a,this._mapping=r,this._xOffset=o,this._yOffset=s,this._canvasHeight=c,this._texture||(this._texture=new Hs(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:this._textureParameters||f7})),this._texture.height!==this._canvasHeight&&(this._texture=function WAe(n,e,t,i){const r=n.width,o=n.height,s=new Hs(n.gl,{width:e,height:t,parameters:i});return function I0e(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{sourceX:i=0,sourceY:r=0,targetMipmaplevel:o=0,targetInternalFormat:s=6408}=t;let{targetX:a,targetY:c,targetZ:l,width:d,height:h}=t;const{framebuffer:f,deleteFramebuffer:m}=U0(n);gn(f);const{gl:g,handle:v}=f,E=typeof a<"u"||typeof c<"u"||typeof l<"u";a=a||0,c=c||0,l=l||0;const L=g.bindFramebuffer(36160,v);gn(e);let H=null;if(e instanceof Xp&&(H=e,d=Number.isFinite(d)?d:H.width,h=Number.isFinite(h)?h:H.height,H.bind(0),e=H.target),E)switch(e){case 3553:case 34067:g.copyTexSubImage2D(e,o,a,c,i,r,d,h);break;case 35866:case 32879:Ea(g).copyTexSubImage3D(e,o,a,c,l,i,r,d,h)}else g.copyTexImage2D(e,o,s,i,r,d,h,0);H&&H.unbind(),g.bindFramebuffer(36160,L||null),m&&f.delete()}(n,s,{targetY:0,width:r,height:o}),n.delete(),s}(this._texture,this._canvasWidth,this._canvasHeight,this._textureParameters||f7)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(i)}}_loadIcons(e){const t=this._canvas.getContext("2d");for(const i of e)this._pendingCount++,$0(i.url,_$,this._loadOptions).then(r=>{const o=Z0(i),{x:s,y:a,width:c,height:l}=this._mapping[o],d=GAe(t,r,c,l);this._texture.setSubImageData({data:d,x:s,y:a,width:c,height:l}),this._texture.generateMipmap(),this.onUpdate()}).catch(r=>{this.onError({url:i.url,source:i.source,sourceIndex:i.sourceIndex,loadOptions:this._loadOptions,error:r})}).finally(()=>{this._pendingCount--})}}const m7=[0,0,0,255],XAe={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:n=>n.position},getIcon:{type:"accessor",value:n=>n.icon},getColor:{type:"accessor",value:m7},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,compare:!1,optional:!0}};class EN extends Zp{constructor(...e){super(...e),ve(this,"state",void 0)}getShaders(){return super.getShaders({vs:'#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\nattribute vec2 instancePixelOffset;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform bool billboard;\nuniform int sizeUnits;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n\n  vec2 iconSize = instanceIconFrames.zw;\n  // convert size in meters to pixels, then scaled and clamp\n \n  // project meters to pixels and clamp to limits \n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits), \n    sizeMinPixels, sizeMaxPixels\n  );\n\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); \n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n\n  vColorMode = instanceColorModes;\n}\n',fs:"#define SHADER_NAME icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float alphaCutoff;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n\n  // if colorMode == 0, use pixel color from the texture\n  // if colorMode == 1 or rendering picking buffer, use texture as transparency mask\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  // Take the global opacity and the alpha from vColor into account for the alpha component\n  float a = texColor.a * opacity * vColor.a;\n\n  if (a < alphaCutoff) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[uA,hA]})}initializeState(){this.state={iconManager:new YAe(this.context.gl,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:m7},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState(e){super.updateState(e);const{props:t,oldProps:i,changeFlags:r}=e,o=this.getAttributeManager(),{iconAtlas:s,iconMapping:a,data:c,getIcon:l,textureParameters:d}=t,{iconManager:h}=this.state,f=s||this.internalState.isAsyncPropLoading("iconAtlas");if(h.setProps({loadOptions:t.loadOptions,autoPacking:!f,iconAtlas:s,iconMapping:f?a:null,textureParameters:d}),f?i.iconMapping!==t.iconMapping&&o.invalidate("getIcon"):(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getIcon))&&h.packIcons(c,l),r.extensionsChanged){var m;const{gl:g}=this.context;null===(m=this.state.model)||void 0===m||m.delete(),this.state.model=this._getModel(g),o.invalidateAll()}}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState(e){super.finalizeState(e),this.state.iconManager.finalize()}draw({uniforms:e}){const{sizeScale:t,sizeMinPixels:i,sizeMaxPixels:r,sizeUnits:o,billboard:s,alphaCutoff:a}=this.props,{iconManager:c}=this.state,l=c.getTexture();l&&this.state.model.setUniforms(e).setUniforms({iconsTexture:l,iconsTextureDim:[l.width,l.height],sizeUnits:k1[o],sizeScale:t,sizeMinPixels:i,sizeMaxPixels:r,billboard:s,alphaCutoff:a}).draw()}_getModel(e){return new J_(e,{...this.getShaders(),id:this.props.id,geometry:new df({drawMode:6,attributes:{positions:{size:2,value:new Float32Array([-1,-1,-1,1,1,1,1,-1])}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError(e){var t;const i=null===(t=this.getCurrentLayer())||void 0===t?void 0:t.props.onIconError;i?i(e):zi.error(e.error.message)()}getInstanceOffset(e){const{width:t,height:i,anchorX:r=t/2,anchorY:o=i/2}=this.state.iconManager.getIconMapping(e);return[t/2-r,i/2-o]}getInstanceColorMode(e){return this.state.iconManager.getIconMapping(e).mask?1:0}getInstanceIconFrame(e){const{x:t,y:i,width:r,height:o}=this.state.iconManager.getIconMapping(e);return[t,i,r,o]}}ve(EN,"defaultProps",XAe),ve(EN,"layerName","IconLayer");const _7=[];class CN extends EN{constructor(...e){super(...e),ve(this,"state",void 0)}getShaders(){return{...super.getShaders(),fs:"#define SHADER_NAME multi-icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float gamma;\nuniform bool sdf;\nuniform float alphaCutoff;\nuniform float buffer;\nuniform float outlineBuffer;\nuniform vec4 outlineColor;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  if (!picking_uActive) {\n    float alpha = texture2D(iconsTexture, vTextureCoords).a;\n    vec4 color = vColor;\n\n    // if enable sdf (signed distance fields)\n    if (sdf) {\n      float distance = alpha;\n      alpha = smoothstep(buffer - gamma, buffer + gamma, distance);\n\n      if (outlineBuffer > 0.0) {\n        float inFill = alpha;\n        float inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);\n        color = mix(outlineColor, vColor, inFill);\n        alpha = inBorder;\n      }\n    }\n\n    // Take the global opacity and the alpha from color into account for the alpha component\n    float a = alpha * color.a;\n    \n    if (a < alphaCutoff) {\n      discard;\n    }\n\n    gl_FragColor = vec4(color.rgb, a * opacity);\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n"}}initializeState(){super.initializeState(),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:5121,size:3,accessor:(t,{index:i,target:r})=>this.encodePickingColor(i,r)}})}updateState(e){super.updateState(e);const{props:t,oldProps:i}=e;let{outlineColor:r}=t;r!==i.outlineColor&&(r=r.map(o=>o/255),r[3]=Number.isFinite(r[3])?r[3]:1,this.setState({outlineColor:r})),!t.sdf&&t.outlineWidth&&zi.warn("".concat(this.id,": fontSettings.sdf is required to render outline"))()}draw(e){const{sdf:t,smoothing:i,outlineWidth:r}=this.props,{outlineColor:o}=this.state;e.uniforms={...e.uniforms,buffer:.75,outlineBuffer:r?Math.max(i,.75*(1-r)):-1,gamma:i,sdf:!!t,outlineColor:o},super.draw(e)}getInstanceOffset(e){return e?Array.from(e).flatMap(t=>super.getInstanceOffset(t)):_7}getInstanceColorMode(e){return 1}getInstanceIconFrame(e){return e?Array.from(e).flatMap(t=>super.getInstanceIconFrame(t)):_7}}ve(CN,"defaultProps",{getIconOffsets:{type:"accessor",value:n=>n.offsets},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}}),ve(CN,"layerName","MultiIconLayer");var QAe=S(7772),ZAe=S.n(QAe);const eTe=32,tTe=[];function nTe(n){return Math.pow(2,Math.ceil(Math.log2(n)))}function b7(n,e,t,i){let r=0;for(let s=e;s<t;s++){var o;r+=(null===(o=i[n[s]])||void 0===o?void 0:o.width)||0}return r}function y7(n,e,t,i,r,o){let s=e,a=0;for(let c=e;c<t;c++){const l=b7(n,c,c+1,r);a+l>i&&(s<c&&o.push(c),s=c,a=0),a+=l}return a}function oTe(n,e,t,i,r=0,o){void 0===o&&(o=n.length);const s=[];return"break-all"===e?y7(n,r,o,t,i,s):function rTe(n,e,t,i,r,o){let s=e,a=e,c=e,l=0;for(let d=e;d<t;d++)if((" "===n[d]||" "===n[d+1]||d+1===t)&&(c=d+1),c>a){let h=b7(n,a,c,r);l+h>i&&(s<a&&(o.push(a),s=a,l=0),h>i&&(h=y7(n,a,c,i,r,o),s=o[o.length-1])),a=c,l+=h}}(n,r,o,t,i,s),s}function sTe(n,e,t,i,r,o){let s=0,a=0;for(let c=e;c<t;c++){const l=n[c],d=i[l];d?(a||(a=d.height),r[c]=s+d.width/2,s+=d.width):(zi.warn("Missing character: ".concat(l," (").concat(l.codePointAt(0),")"))(),r[c]=s,s+=eTe)}o[0]=s,o[1]=a}function v7(n,e,t,i,r){const o=Array.from(n),s=o.length,a=new Array(s),c=new Array(s),l=new Array(s),d=("break-word"===t||"break-all"===t)&&isFinite(i)&&i>0,h=[0,0],f=[0,0];let m=0,g=0,v=0;for(let E=0;E<=s;E++){const L=o[E];if(("\n"===L||E===s)&&(v=E),v>g){const H=d?oTe(o,t,i,r,g,v):tTe;for(let le=0;le<=H.length;le++){const se=0===le?g:H[le-1],Pe=le<H.length?H[le]:v;sTe(o,se,Pe,r,a,f);for(let $e=se;$e<Pe;$e++)c[$e]=m+f[1]/2,l[$e]=f[0];m+=f[1]*e,h[0]=Math.max(h[0],f[0])}g=v}"\n"===L&&(a[g]=0,c[g]=0,l[g]=0,g++)}return h[1]=m,{x:a,y:c,rowWidth:l,size:h}}class w7{constructor(e=5){ve(this,"limit",void 0),ve(this,"_cache",{}),ve(this,"_order",[]),this.limit=e}get(e){const t=this._cache[e];return t&&(this._deleteOrder(e),this._appendOrder(e)),t}set(e,t){this._cache[e]?(this.delete(e),this._cache[e]=t,this._appendOrder(e)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[e]=t,this._appendOrder(e))}delete(e){this._cache[e]&&(delete this._cache[e],this._deleteOrder(e))}_deleteOrder(e){const t=this._order.indexOf(e);t>=0&&this._order.splice(t,1)}_appendOrder(e){this._order.push(e)}}const ew={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:function cTe(){const n=[];for(let e=32;e<128;e++)n.push(String.fromCharCode(e));return n}(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1};let fA=new w7(3);function uTe(n,e){for(let t=0;t<n.length;t++)e.data[4*t+3]=n[t]}function S7(n,e,t,i){n.font="".concat(i," ").concat(t,"px ").concat(e),n.fillStyle="#000",n.textBaseline="alphabetic",n.textAlign="left"}class fTe{constructor(){ve(this,"props",{...ew}),ve(this,"_key",void 0),ve(this,"_atlas",void 0)}get texture(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){return 1.2}setProps(e={}){Object.assign(this.props,e);const t=this._key;this._key=this._getKey();const i=function dTe(n,e){let t;t="string"==typeof e?new Set(Array.from(e)):new Set(e);const i=fA.get(n);if(!i)return t;for(const r in i.mapping)t.has(r)&&t.delete(r);return t}(this._key,this.props.characterSet),r=fA.get(this._key);if(r&&0===i.size)return void(this._key!==t&&(this._atlas=r));const o=this._generateFontAtlas(this._key,i,r);this._atlas=o,fA.set(this._key,o)}_generateFontAtlas(e,t,i){const{fontFamily:r,fontWeight:o,fontSize:s,buffer:a,sdf:c,radius:l,cutoff:d}=this.props;let h=i&&i.data;h||(h=document.createElement("canvas"),h.width=1024);const f=h.getContext("2d");S7(f,r,s,o);const{mapping:m,canvasHeight:g,xOffset:v,yOffset:E}=function iTe({characterSet:n,getFontWidth:e,fontHeight:t,buffer:i,maxCanvasWidth:r,mapping:o={},xOffset:s=0,yOffset:a=0}){let c=0,l=s;for(const h of n)if(!o[h]){const f=e(h);l+f+2*i>r&&(l=0,c++),o[h]={x:l+i,y:a+c*(t+2*i)+i,width:f,height:t},l+=f+2*i}const d=t+2*i;return{mapping:o,xOffset:l,yOffset:a+c*d,canvasHeight:nTe(a+(c+1)*d)}}({getFontWidth:L=>f.measureText(L).width,fontHeight:1.2*s,buffer:a,characterSet:t,maxCanvasWidth:1024,...i&&{mapping:i.mapping,xOffset:i.xOffset,yOffset:i.yOffset}});if(h.height!==g){const L=f.getImageData(0,0,h.width,h.height);h.height=g,f.putImageData(L,0,0)}if(S7(f,r,s,o),c){const L=new(ZAe())(s,a,l,d,r,o),H=f.getImageData(0,0,L.size,L.size);for(const le of t)uTe(L.draw(le),H),f.putImageData(H,m[le].x-a,m[le].y+a)}else for(const L of t)f.fillText(L,m[L].x,m[L].y+.9*s);return{xOffset:v,yOffset:E,mapping:m,data:h,width:h.width,height:h.height}}_getKey(){const{fontFamily:e,fontWeight:t,fontSize:i,buffer:r,sdf:o,radius:s,cutoff:a}=this.props;return o?"".concat(e," ").concat(t," ").concat(i," ").concat(r," ").concat(s," ").concat(a):"".concat(e," ").concat(t," ").concat(i," ").concat(r)}}const gTe={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:n=>n.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};class SN extends Zp{constructor(...e){super(...e),ve(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME text-background-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec4 instanceRects;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec2 instancePixelOffsets;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform bool billboard;\nuniform float opacity;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform vec4 padding;\nuniform int sizeUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = radians(angle);\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n  vLineWidth = instanceLineWidths;\n\n  // convert size in meters to pixels, then scaled and clamp\n\n  // project meters to pixels and clamp to limits\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),\n    sizeMinPixels, sizeMaxPixels\n  );\n\n  dimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;\n\n  vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);\n  pixelOffset += instancePixelOffsets;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME text-background-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec2 pixelPosition = uv * dimensions;\n  if (stroked) {\n    float distToEdge = min(\n      min(pixelPosition.x, dimensions.x - pixelPosition.x),\n      min(pixelPosition.y, dimensions.y - pixelPosition.y)\n    );\n    float isBorder = smoothedge(distToEdge, vLineWidth);\n    gl_FragColor = mix(vFillColor, vLineColor, isBorder);\n  } else {\n    gl_FragColor = vFillColor;\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[uA,hA]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){super.updateState(e);const{changeFlags:t}=e;if(t.extensionsChanged){var i;const{gl:r}=this.context;null===(i=this.state.model)||void 0===i||i.delete(),this.state.model=this._getModel(r),this.getAttributeManager().invalidateAll()}}draw({uniforms:e}){const{billboard:t,sizeScale:i,sizeUnits:r,sizeMinPixels:o,sizeMaxPixels:s,getLineWidth:a}=this.props;let{padding:c}=this.props;c.length<4&&(c=[c[0],c[1],c[0],c[1]]),this.state.model.setUniforms(e).setUniforms({billboard:t,stroked:!!a,padding:c,sizeUnits:k1[r],sizeScale:i,sizeMinPixels:o,sizeMaxPixels:s}).draw()}_getModel(e){return new J_(e,{...this.getShaders(),id:this.props.id,geometry:new df({drawMode:6,vertexCount:4,attributes:{positions:{size:2,value:new Float32Array([0,0,1,0,1,1,0,1])}}}),isInstanced:!0})}}ve(SN,"defaultProps",gTe),ve(SN,"layerName","TextBackgroundLayer");const A7={start:1,middle:0,end:-1},T7={top:1,center:0,bottom:-1},AN=[0,0,0,255],_Te={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:AN},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:ew.characterSet},fontFamily:ew.fontFamily,fontWeight:ew.fontWeight,lineHeight:1,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:AN},fontSettings:{},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:n=>n.text},getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:AN},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};class TN extends xN{constructor(...e){super(...e),ve(this,"state",void 0),ve(this,"getBoundingRect",(t,i)=>{const r=this.state.fontAtlasManager.mapping,o=this.state.getText,{wordBreak:s,maxWidth:a,lineHeight:c,getTextAnchor:l,getAlignmentBaseline:d}=this.props,h=o(t,i)||"",{size:[f,m]}=v7(h,c,s,a,r);return[(A7["function"==typeof l?l(t,i):l]-1)*f/2,(T7["function"==typeof d?d(t,i):d]-1)*m/2,f,m]}),ve(this,"getIconOffsets",(t,i)=>{const r=this.state.fontAtlasManager.mapping,o=this.state.getText,{wordBreak:s,maxWidth:a,lineHeight:c,getTextAnchor:l,getAlignmentBaseline:d}=this.props,h=o(t,i)||"",{x:f,y:m,rowWidth:g,size:[v,E]}=v7(h,c,s,a,r),L=A7["function"==typeof l?l(t,i):l],H=T7["function"==typeof d?d(t,i):d],le=f.length,se=new Array(2*le);let Pe=0;for(let $e=0;$e<le;$e++)se[Pe++]=(L-1)*v/2+(1-L)*(v-g[$e])/2+f[$e],se[Pe++]=(H-1)*E/2+m[$e];return se})}initializeState(){this.state={styleVersion:0,fontAtlasManager:new fTe}}updateState(e){const{props:t,oldProps:i,changeFlags:r}=e;(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getText))&&this._updateText(),(this._updateFontAtlas()||t.lineHeight!==i.lineHeight||t.wordBreak!==i.wordBreak||t.maxWidth!==i.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo({info:e}){return e.object=e.index>=0?this.props.data[e.index]:null,e}_updateFontAtlas(){const{fontSettings:e,fontFamily:t,fontWeight:i}=this.props,{fontAtlasManager:r,characterSet:o}=this.state,s={...e,characterSet:o,fontFamily:t,fontWeight:i};if(!r.mapping)return r.setProps(s),!0;for(const a in s)if(s[a]!==r.props[a])return r.setProps(s),!0;return!1}_updateText(){var e;const{data:t,characterSet:i}=this.props,r=null===(e=t.attributes)||void 0===e?void 0:e.getText;let a,{getText:o}=this.props,s=t.startIndices;const c="auto"===i&&new Set;if(r&&s){const{texts:l,characterCount:d}=function aTe({value:n,length:e,stride:t,offset:i,startIndices:r,characterSet:o}){const s=n.BYTES_PER_ELEMENT,a=t?t/s:1,c=i?i/s:0,l=r[e]||Math.ceil((n.length-c)/a),d=o&&new Set,h=new Array(e);let f=n;if(a>1||c>0){f=new(0,n.constructor)(l);for(let g=0;g<l;g++)f[g]=n[g*a+c]}for(let m=0;m<e;m++){const E=f.subarray(r[m],r[m+1]||l);h[m]=String.fromCodePoint.apply(null,E),d&&E.forEach(d.add,d)}if(d)for(const m of d)o.add(String.fromCodePoint(m));return{texts:h,characterCount:l}}({...ArrayBuffer.isView(r)?{value:r}:r,length:t.length,startIndices:s,characterSet:c});a=d,o=(h,{index:f})=>l[f]}else{const{iterable:l,objectInfo:d}=oA(t);s=[0],a=0;for(const h of l){d.index++;const f=Array.from(o(h,d)||"");c&&f.forEach(c.add,c),a+=f.length,s.push(a)}}this.setState({getText:o,startIndices:s,numInstances:a,characterSet:c||i})}renderLayers(){const{startIndices:e,numInstances:t,getText:i,fontAtlasManager:{scale:r,texture:o,mapping:s},styleVersion:a}=this.state,{data:c,_dataDiff:l,getPosition:d,getColor:h,getSize:f,getAngle:m,getPixelOffset:g,getBackgroundColor:v,getBorderColor:E,getBorderWidth:L,backgroundPadding:H,background:le,billboard:se,fontSettings:Pe,outlineWidth:$e,outlineColor:ct,sizeScale:pt,sizeUnits:tt,sizeMinPixels:yt,sizeMaxPixels:Pt,transitions:Gt,updateTriggers:Et}=this.props,Dt=this.getSubLayerClass("characters",CN),Jt=this.getSubLayerClass("background",SN);return[le&&new Jt({getFillColor:v,getLineColor:E,getLineWidth:L,padding:H,getPosition:d,getSize:f,getAngle:m,getPixelOffset:g,billboard:se,sizeScale:pt/this.state.fontAtlasManager.props.fontSize,sizeUnits:tt,sizeMinPixels:yt,sizeMaxPixels:Pt,transitions:Gt&&{getPosition:Gt.getPosition,getAngle:Gt.getAngle,getSize:Gt.getSize,getFillColor:Gt.getBackgroundColor,getLineColor:Gt.getBorderColor,getLineWidth:Gt.getBorderWidth,getPixelOffset:Gt.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:Et.getPosition,getAngle:Et.getAngle,getSize:Et.getSize,getFillColor:Et.getBackgroundColor,getLineColor:Et.getBorderColor,getLineWidth:Et.getBorderWidth,getPixelOffset:Et.getPixelOffset,getBoundingRect:{getText:Et.getText,getTextAnchor:Et.getTextAnchor,getAlignmentBaseline:Et.getAlignmentBaseline,styleVersion:a}}}),{data:c.attributes&&c.attributes.background?{length:c.length,attributes:c.attributes.background}:c,_dataDiff:l,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new Dt({sdf:Pe.sdf,smoothing:Number.isFinite(Pe.smoothing)?Pe.smoothing:ew.smoothing,outlineWidth:$e,outlineColor:ct,iconAtlas:o,iconMapping:s,getPosition:d,getColor:h,getSize:f,getAngle:m,getPixelOffset:g,billboard:se,sizeScale:pt*r,sizeUnits:tt,sizeMinPixels:yt*r,sizeMaxPixels:Pt*r,transitions:Gt&&{getPosition:Gt.getPosition,getAngle:Gt.getAngle,getColor:Gt.getColor,getSize:Gt.getSize,getPixelOffset:Gt.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{getIcon:Et.getText,getPosition:Et.getPosition,getAngle:Et.getAngle,getColor:Et.getColor,getSize:Et.getSize,getPixelOffset:Et.getPixelOffset,getIconOffsets:{getText:Et.getText,getTextAnchor:Et.getTextAnchor,getAlignmentBaseline:Et.getAlignmentBaseline,styleVersion:a}}}),{data:c,_dataDiff:l,startIndices:e,numInstances:t,getIconOffsets:this.getIconOffsets,getIcon:i})]}static set fontAtlasCacheLimit(e){!function hTe(n){zi.assert(Number.isFinite(n)&&n>=3,"Invalid cache limit"),fA=new w7(n)}(e)}}ve(TN,"defaultProps",_Te),ve(TN,"layerName","TextLayer");const M7="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n",bTe={lightSources:{}};function MN(){let{color:n=[0,0,0],intensity:e=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.map(t=>t*e/255)}const IN={name:"lights",vs:M7,fs:M7,getUniforms:function I7(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bTe;if("lightSources"in n){const{ambientLight:e,pointLights:t,directionalLights:i}=n.lightSources||{};return e||t&&t.length>0||i&&i.length>0?Object.assign({},function yTe(n){let{ambientLight:e,pointLights:t=[],directionalLights:i=[]}=n;const r={};return r["lighting_uAmbientLight.color"]=e?MN(e):[0,0,0],t.forEach((o,s)=>{r["lighting_uPointLight[".concat(s,"].color")]=MN(o),r["lighting_uPointLight[".concat(s,"].position")]=o.position,r["lighting_uPointLight[".concat(s,"].attenuation")]=o.attenuation||[1,0,0]}),r.lighting_uPointLightCount=t.length,i.forEach((o,s)=>{r["lighting_uDirectionalLight[".concat(s,"].color")]=MN(o),r["lighting_uDirectionalLight[".concat(s,"].direction")]=o.direction}),r.lighting_uDirectionalLightCount=i.length,r}({ambientLight:e,pointLights:t,directionalLights:i}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in n){const e={pointLights:[],directionalLights:[]};for(const t of n.lights||[])switch(t.type){case"ambient":e.ambientLight=t;break;case"directional":e.directionalLights.push(t);break;case"point":e.pointLights.push(t)}return I7({lightSources:e})}return{}},defines:{MAX_LIGHTS:3}},vTe={};const xTe={name:"phong-lighting",dependencies:[IN],fs:"\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n",defines:{LIGHTING_FRAGMENT:1},getUniforms:function R7(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vTe;if(!("material"in n))return{};const{material:e}=n;return e?function wTe(n){const{ambient:e=.35,diffuse:t=.6,shininess:i=32,specularColor:r=[30,30,30]}=n;return{lighting_uAmbient:e,lighting_uDiffuse:t,lighting_uShininess:i,lighting_uSpecularColor:r.map(o=>o/255)}}(e):{lighting_uEnabled:!1}}},DN=Math.PI/180,pA=new Float32Array(16),O7=new Float32Array(12);function k7(n,e,t){const i=e[0]*DN,r=e[1]*DN,o=e[2]*DN,s=Math.sin(o),a=Math.sin(i),c=Math.sin(r),l=Math.cos(o),d=Math.cos(i),h=Math.cos(r),f=t[0],m=t[1],g=t[2];n[0]=f*h*d,n[1]=f*c*d,n[2]=f*-a,n[3]=m*(-c*l+h*a*s),n[4]=m*(h*l+c*a*s),n[5]=m*d*s,n[6]=g*(c*s+h*a*l),n[7]=g*(-h*s+c*a*l),n[8]=g*d*l}function P7(n){return n[0]=n[0],n[1]=n[1],n[2]=n[2],n[3]=n[4],n[4]=n[5],n[5]=n[6],n[6]=n[8],n[7]=n[9],n[8]=n[10],n[9]=n[12],n[10]=n[13],n[11]=n[14],n.subarray(0,12)}const N7={size:12,accessor:["getOrientation","getScale","getTranslation","getTransformMatrix"],shaderAttributes:{instanceModelMatrix__LOCATION_0:{size:3,elementOffset:0},instanceModelMatrix__LOCATION_1:{size:3,elementOffset:3},instanceModelMatrix__LOCATION_2:{size:3,elementOffset:6},instanceTranslation:{size:3,elementOffset:9}},update(n,{startRow:e,endRow:t}){const{data:i,getOrientation:r,getScale:o,getTranslation:s,getTransformMatrix:a}=this.props,c=Array.isArray(a),l=c&&16===a.length,d=Array.isArray(o),h=Array.isArray(r),f=Array.isArray(s),m=l||!c&&!!a(i[0]);n.constant=m?l:h&&d&&f;const g=n.value;if(n.constant){let v;m?(pA.set(a),v=P7(pA)):(v=O7,k7(v,r,o),v.set(s,9)),n.value=new Float32Array(v)}else{let v=e*n.size;const{iterable:E,objectInfo:L}=oA(i,e,t);for(const H of E){let le;L.index++,m?(pA.set(l?a:a(H,L)),le=P7(pA)):(le=O7,k7(le,h?r:r(H,L),d?o:o(H,L)),le.set(f?s:s(H,L),9)),g[v++]=le[0],g[v++]=le[1],g[v++]=le[2],g[v++]=le[3],g[v++]=le[4],g[v++]=le[5],g[v++]=le[6],g[v++]=le[7],g[v++]=le[8],g[v++]=le[9],g[v++]=le[10],g[v++]=le[11]}}}};function F7(n,e){return e===Ji.CARTESIAN||e===Ji.METER_OFFSETS||e===Ji.DEFAULT&&!n.isGeospatial}function L7(n,e){(n.COLOR_0||n.colors)&&e||(n.colors={constant:!0,value:new Float32Array([1,1,1])}),zi.assert(n.positions||n.POSITION,'no "postions" or "POSITION" attribute in mesh')}function STe(n,e){if(n.attributes)return L7(n.attributes,e),n instanceof df?n:new df(n);if(n.positions||n.POSITION)return L7(n,e),new df({attributes:n});throw Error("Invalid mesh")}class RN extends Zp{constructor(...e){super(...e),ve(this,"state",void 0)}getShaders(){const e=!Pi(this.context.gl),t={};return ZP(this.context.gl,"GLSL_DERIVATIVES")&&(t.DERIVATIVES_AVAILABLE=1),super.getShaders({vs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\n\n// Scale the model\nuniform float sizeScale;\nuniform bool composeModelMatrix;\n\n// Primitive attributes\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\n\n// Instance attributes\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\n\n// Outputs to fragment shader\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = instancePickingColors;\n\n  vTexCoord = texCoords;\n  cameraPosition = project_uCameraPosition;\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale + instanceTranslation;\n\n  if (composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    // using instancePositions as world coordinates\n    // when using globe mode, this branch does not re-orient the model to align with the surface of the earth\n    // call project_normal before setting position to avoid rotation\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), position_commonspace);\n    geometry.position = position_commonspace;\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, position_commonspace);\n    geometry.position = position_commonspace;\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n  }\n\n  geometry.normal = normals_commonspace;\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n\n// NOTE(Tarek): This is necessary because\n// headless.gl reports the extension as\n// available but does not support it in\n// the shader.\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[uA,xTe,hA],transpileToGLSL100:e,defines:t})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{transition:!0,type:5130,fp64:this.use64bitPositions(),size:3,accessor:"getPosition"},instanceColors:{type:5121,transition:!0,size:this.props.colorFormat.length,normalized:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceModelMatrix:N7}),this.setState({emptyTexture:new Hs(this.context.gl,{data:new Uint8Array(4),width:1,height:1})})}updateState(e){super.updateState(e);const{props:t,oldProps:i,changeFlags:r}=e;if(t.mesh!==i.mesh||r.extensionsChanged){var o;if(null===(o=this.state.model)||void 0===o||o.delete(),t.mesh){this.state.model=this.getModel(t.mesh);const s=t.mesh.attributes||t.mesh;this.setState({hasNormals:!(!s.NORMAL&&!s.normals)})}this.getAttributeManager().invalidateAll()}t.texture!==i.texture&&this.setTexture(t.texture),this.state.model&&this.state.model.setDrawMode(this.props.wireframe?3:4)}finalizeState(e){super.finalizeState(e),this.state.emptyTexture.delete()}draw({uniforms:e}){if(!this.state.model)return;const{viewport:t}=this.context,{sizeScale:i,coordinateSystem:r,_instanced:o}=this.props;this.state.model.setUniforms(e).setUniforms({sizeScale:i,composeModelMatrix:!o||F7(t,r),flatShading:!this.state.hasNormals}).draw()}getModel(e){const t=new J_(this.context.gl,{...this.getShaders(),id:this.props.id,geometry:STe(e,this.props._useMeshColors),isInstanced:!0}),{texture:i}=this.props,{emptyTexture:r}=this.state;return t.setUniforms({sampler:i||r,hasTexture:!!i}),t}setTexture(e){const{emptyTexture:t,model:i}=this.state;i&&i.setUniforms({sampler:e||t,hasTexture:!!e})}}ve(RN,"defaultProps",{mesh:{type:"object",value:null,async:!0},texture:{type:"image",value:null,async:!0},sizeScale:{type:"number",value:1,min:0},_useMeshColors:{type:"boolean",value:!1},_instanced:!0,wireframe:!1,material:!0,getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:[0,0,0,255]},getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]}}),ve(RN,"layerName","SimpleMeshLayer");const B7={name:"pbr",vs:"uniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 pbr_vPosition;\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n# ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n# else\nvarying vec3 pbr_vNormal;\n# endif\n#endif\n\nvoid pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)\n{\n  vec4 pos = u_ModelMatrix * position;\n  pbr_vPosition = vec3(pos.xyz) / pos.w;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;\n  pbr_vTBN = mat3(tangentW, bitangentW, normalW);\n#else\n  pbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));\n#endif\n#endif\n\n#ifdef HAS_UV\n  pbr_vUV = uv;\n#else\n  pbr_vUV = vec2(0.,0.);\n#endif\n}\n",fs:"#if defined(USE_TEX_LOD) && !defined(FEATURE_GLSL_TEXTURE_LOD)\n# error PBR fragment shader: Texture LOD is not available\n#endif\n\n#if !defined(HAS_TANGENTS) && !defined(FEATURE_GLSL_DERIVATIVES)\n# error PBR fragment shader: Derivatives are not available\n#endif\n\n\n#if (__VERSION__ < 300)\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL1COND; INCR)\n#else\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL2COND; INCR)\n#endif\n\nprecision highp float;\n\nuniform bool pbr_uUnlit;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\nuniform vec2 u_ScaleIBLAmbient;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\n#ifdef ALPHA_CUTOFF\nuniform float u_AlphaCutoff;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n#ifdef PBR_DEBUG\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\n#endif\n\nvarying vec3 pbr_vPosition;\n\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n#else\nvarying vec3 pbr_vNormal;\n#endif\n#endif\n\n\nstruct PBRInfo\n{\n  float NdotL;\n  float NdotV;\n  float NdotH;\n  float LdotH;\n  float VdotH;\n  float perceptualRoughness;\n  float metalness;\n  vec3 reflectance0;\n  vec3 reflectance90;\n  float alphaRoughness;\n  vec3 diffuseColor;\n  vec3 specularColor;\n  vec3 n;\n  vec3 v;\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n#ifdef MANUAL_SRGB\n#ifdef SRGB_FAST_APPROXIMATION\n  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n#else\n  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n#endif\n  return vec4(linOut,srgbIn.w);;\n#else\n  return srgbIn;\n#endif\n}\n\nvec3 getNormal()\n{\n#ifndef HAS_TANGENTS\n  vec3 pos_dx = dFdx(pbr_vPosition);\n  vec3 pos_dy = dFdy(pbr_vPosition);\n  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));\n  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));\n  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n  vec3 ng = normalize(pbr_vNormal);\n#else\n  vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n  t = normalize(t - ng * dot(ng, t));\n  vec3 b = normalize(cross(ng, t));\n  mat3 tbn = mat3(t, b, ng);\n#else\n  mat3 tbn = pbr_vTBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n  vec3 n = texture2D(u_NormalSampler, pbr_vUV).rgb;\n  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n  vec3 n = normalize(tbn[2].xyz);\n#endif\n\n  return n;\n}\n\n\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n  float mipCount = 9.0;\n  float lod = (pbrInputs.perceptualRoughness * mipCount);\n  vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT,\n    vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n  vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n\n#ifdef USE_TEX_LOD\n  vec3 specularLight = SRGBtoLINEAR(textureCubeLod(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n  vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n  vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n  vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n  diffuse *= u_ScaleIBLAmbient.x;\n  specular *= u_ScaleIBLAmbient.y;\n\n  return diffuse + specular;\n}\n#endif\n\n\nvec3 diffuse(PBRInfo pbrInputs)\n{\n  return pbrInputs.diffuseColor / M_PI;\n}\n\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n  return pbrInputs.reflectance0 +\n    (pbrInputs.reflectance90 - pbrInputs.reflectance0) *\n    pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n\n\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n  float NdotL = pbrInputs.NdotL;\n  float NdotV = pbrInputs.NdotV;\n  float r = pbrInputs.alphaRoughness;\n\n  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n  return attenuationL * attenuationV;\n}\n\n\n\n\n\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n  float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n  float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n  return roughnessSq / (M_PI * f * f);\n}\n\nvoid PBRInfo_setAmbientLight(inout PBRInfo pbrInputs) {\n  pbrInputs.NdotL = 1.0;\n  pbrInputs.NdotH = 0.0;\n  pbrInputs.LdotH = 0.0;\n  pbrInputs.VdotH = 1.0;\n}\n\nvoid PBRInfo_setDirectionalLight(inout PBRInfo pbrInputs, vec3 lightDirection) {\n  vec3 n = pbrInputs.n;\n  vec3 v = pbrInputs.v;\n  vec3 l = normalize(lightDirection);\n  vec3 h = normalize(l+v);\n\n  pbrInputs.NdotL = clamp(dot(n, l), 0.001, 1.0);\n  pbrInputs.NdotH = clamp(dot(n, h), 0.0, 1.0);\n  pbrInputs.LdotH = clamp(dot(l, h), 0.0, 1.0);\n  pbrInputs.VdotH = clamp(dot(v, h), 0.0, 1.0);\n}\n\nvoid PBRInfo_setPointLight(inout PBRInfo pbrInputs, PointLight pointLight) {\n  vec3 light_direction = normalize(pointLight.position - pbr_vPosition);\n  PBRInfo_setDirectionalLight(pbrInputs, light_direction);\n}\n\nvec3 calculateFinalColor(PBRInfo pbrInputs, vec3 lightColor) {\n  vec3 F = specularReflection(pbrInputs);\n  float G = geometricOcclusion(pbrInputs);\n  float D = microfacetDistribution(pbrInputs);\n  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n  vec3 specContrib = F * G * D / (4.0 * pbrInputs.NdotL * pbrInputs.NdotV);\n  return pbrInputs.NdotL * lightColor * (diffuseContrib + specContrib);\n}\n\nvec4 pbr_filterColor(vec4 colorUnused)\n{\n#ifdef HAS_BASECOLORMAP\n  vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;\n#else\n  vec4 baseColor = u_BaseColorFactor;\n#endif\n\n#ifdef ALPHA_CUTOFF\n  if (baseColor.a < u_AlphaCutoff) {\n    discard;\n  }\n#endif\n\n  vec3 color = vec3(0, 0, 0);\n\n  if(pbr_uUnlit){\n    color.rgb = baseColor.rgb;\n  }\n  else{\n\n\n    float perceptualRoughness = u_MetallicRoughnessValues.y;\n    float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n\n    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, pbr_vUV);\n    perceptualRoughness = mrSample.g * perceptualRoughness;\n    metallic = mrSample.b * metallic;\n#endif\n    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    vec3 f0 = vec3(0.04);\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n    diffuseColor *= 1.0 - metallic;\n    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n\n\n    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n    vec3 n = getNormal();\n    vec3 v = normalize(u_Camera - pbr_vPosition);\n\n    float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\n    vec3 reflection = -normalize(reflect(v, n));\n\n    PBRInfo pbrInputs = PBRInfo(\n      0.0,\n      NdotV,\n      0.0,\n      0.0,\n      0.0,\n      perceptualRoughness,\n      metallic,\n      specularEnvironmentR0,\n      specularEnvironmentR90,\n      alphaRoughness,\n      diffuseColor,\n      specularColor,\n      n,\n      v\n    );\n\n#ifdef USE_LIGHTS\n    PBRInfo_setAmbientLight(pbrInputs);\n    color += calculateFinalColor(pbrInputs, lighting_uAmbientLight.color);\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uDirectionalLightCount, i++) {\n      if (i < lighting_uDirectionalLightCount) {\n        PBRInfo_setDirectionalLight(pbrInputs, lighting_uDirectionalLight[i].direction);\n        color += calculateFinalColor(pbrInputs, lighting_uDirectionalLight[i].color);\n      }\n    }\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uPointLightCount, i++) {\n      if (i < lighting_uPointLightCount) {\n        PBRInfo_setPointLight(pbrInputs, lighting_uPointLight[i]);\n        float attenuation = getPointLightAttenuation(lighting_uPointLight[i], distance(lighting_uPointLight[i].position, pbr_vPosition));\n        color += calculateFinalColor(pbrInputs, lighting_uPointLight[i].color / attenuation);\n      }\n    }\n#endif\n#ifdef USE_IBL\n    color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n#ifdef HAS_OCCLUSIONMAP\n    float ao = texture2D(u_OcclusionSampler, pbr_vUV).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;\n    color += emissive;\n#endif\n\n#ifdef PBR_DEBUG\n\n\n\n\n\n    color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n    color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n    color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n#endif\n\n  }\n\n  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n",defines:{LIGHTING_FRAGMENT:1},dependencies:[IN]};class Q_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t}=e;this.id=t||lc(this.constructor.name),this.display=!0,this.position=new xa,this.rotation=new xa,this.scale=new xa(1,1,1),this.matrix=new jt,this.userData={},this.props={},this._setScenegraphNodeProps(e)}delete(){}setProps(e){return this._setScenegraphNodeProps(e),this}toString(){return"{type: ScenegraphNode, id: ".concat(this.id,")}")}getBounds(){return null}setPosition(e){return gn(3===e.length,"setPosition requires vector argument"),this.position=e,this}setRotation(e){return gn(3===e.length,"setRotation requires vector argument"),this.rotation=e,this}setScale(e){return gn(3===e.length,"setScale requires vector argument"),this.scale=e,this}setMatrix(e){arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?this.matrix=e:this.matrix.copy(e)}setMatrixComponents(e){let{position:t,rotation:i,scale:r,update:o=!0}=e;return t&&this.setPosition(t),i&&this.setRotation(i),r&&this.setScale(r),o&&this.updateMatrix(),this}updateMatrix(){const e=this.position,t=this.rotation,i=this.scale;return this.matrix.identity(),this.matrix.translate(e),this.matrix.rotateXYZ(t),this.matrix.scale(i),this}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{position:t,rotation:i,scale:r}=e;return t&&this.setPosition(t),i&&this.setRotation(i),r&&this.setScale(r),this.updateMatrix(),this}getCoordinateUniforms(e,t){gn(e),t=t||this.matrix;const i=new jt(e).multiplyRight(t),r=i.invert(),o=r.transpose();return{viewMatrix:e,modelMatrix:t,objectMatrix:t,worldMatrix:i,worldInverseMatrix:r,worldInverseTransposeMatrix:o}}_setScenegraphNodeProps(e){"display"in e&&(this.display=e.display),"position"in e&&this.setPosition(e.position),"rotation"in e&&this.setRotation(e.rotation),"scale"in e&&this.setScale(e.scale),"matrix"in e&&this.setMatrix(e.matrix),Object.assign(this.props,e)}}class tw extends Q_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Array.isArray(e)?{children:e}:e;const{children:t=[]}=e;Nn.assert(t.every(i=>i instanceof Q_),"every child must an instance of ScenegraphNode"),super(e),this.children=t}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const r of t)Array.isArray(r)?this.add(...r):this.children.push(r);return this}remove(e){const t=this.children,i=t.indexOf(e);return i>-1&&t.splice(i,1),this}removeAll(){return this.children=[],this}delete(){this.children.forEach(e=>e.delete()),this.removeAll(),super.delete()}getBounds(){const e=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];return this.traverse((t,i)=>{let{worldMatrix:r}=i;const o=t.getBounds();if(!o)return;const[s,a]=o,c=new xa(s).add(a).divide([2,2,2]);r.transformAsPoint(c,c);const l=new xa(a).subtract(s).divide([2,2,2]);r.transformAsVector(l,l);for(let d=0;d<8;d++){const h=new xa(1&d?-1:1,2&d?-1:1,4&d?-1:1).multiply(l).add(c);for(let f=0;f<3;f++)e[0][f]=Math.min(e[0][f],h[f]),e[1][f]=Math.max(e[1][f],h[f])}}),Number.isFinite(e[0][0])?e:null}traverse(e){let{worldMatrix:t=new jt}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new jt(t).multiplyRight(this.matrix);for(const r of this.children)r instanceof tw?r.traverse(e,{worldMatrix:i}):e(r,{worldMatrix:i})}}let mA;class ON extends I6{static get ZERO(){return mA||(mA=new ON(0,0,0,0),Object.freeze(mA)),mA}constructor(e=0,t=0,i=0,r=0){super(-0,-0,-0,-0),Nu(e)&&1===arguments.length?this.copy(e):(zo.debug&&(Br(e),Br(t),Br(i),Br(r)),this[0]=e,this[1]=t,this[2]=i,this[3]=r)}set(e,t,i,r){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}fromObject(e){return zo.debug&&(Br(e.x),Br(e.y),Br(e.z),Br(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}get ELEMENTS(){return 4}get z(){return this[2]}set z(e){this[2]=Br(e)}get w(){return this[3]}set w(e){this[3]=Br(e)}transform(e){return dP(this,this,e),this.check()}transformByMatrix3(e){return function cbe(n,e,t){const i=e[0],r=e[1],o=e[2];n[0]=t[0]*i+t[3]*r+t[6]*o,n[1]=t[1]*i+t[4]*r+t[7]*o,n[2]=t[2]*i+t[5]*r+t[8]*o,n[3]=e[3]}(this,this,e),this.check()}transformByMatrix2(e){return function abe(n,e,t){const i=e[0],r=e[1];n[0]=t[0]*i+t[2]*r,n[1]=t[1]*i+t[3]*r,n[2]=e[2],n[3]=e[3]}(this,this,e),this.check()}transformByQuaternion(e){return k6(this,this,e),this.check()}applyMatrix4(e){return e.transform(this,this),this}}function j7(){var n=new cc(4);return cc!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n[3]=1,n}function U7(n,e,t){t*=.5;var i=Math.sin(t);return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=Math.cos(t),n}function V7(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=t[0],c=t[1],l=t[2],d=t[3];return n[0]=i*d+s*a+r*l-o*c,n[1]=r*d+s*c+o*a-i*l,n[2]=o*d+s*l+i*c-r*a,n[3]=s*d-i*a-r*c-o*l,n}var H7=U6,VTe=function(){var n=D6(),e=R6(1,0,0),t=R6(0,1,0);return function(i,r,o){var s=O6(r,o);return s<-.999999?(E1(n,e,r),function Y_e(n){return Math.hypot(n[0],n[1],n[2])}(n)<1e-6&&E1(n,t,r),function J_e(n,e){var t=e[0],i=e[1],r=e[2],o=t*t+i*i+r*r;o>0&&(o=1/Math.sqrt(o)),n[0]=e[0]*o,n[1]=e[1]*o,n[2]=e[2]*o}(n,n),U7(i,n,Math.PI),i):s>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(E1(n,r,o),i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=1+s,function Bbe(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t*t+i*i+r*r+o*o;return s>0&&(s=1/Math.sqrt(s)),n[0]=t*s,n[1]=i*s,n[2]=r*s,n[3]=o*s,n}(i,i))}}();j7(),j7(),function TTe(){var n=new cc(9);cc!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1}();const zTe=[0,0,0,1],GTe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},WTe={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function $7(n){if(!n._animation){const e=WTe[n.componentType],t=GTe[n.type],i=t*n.count,{buffer:r,byteOffset:o}=n.bufferView.data,s=new e(r,o+(n.byteOffset||0),i);if(1===t)n._animation=Array.from(s);else{const a=[];for(let c=0;c<s.length;c+=t)a.push(Array.from(s.slice(c,c+t)));n._animation=a}}return n._animation}const $Te=new jt,kN=new class HTe extends lP{constructor(e=0,t=0,i=0,r=1){super(-0,-0,-0,-0),Array.isArray(e)&&1===arguments.length?this.copy(e):this.set(e,t,i,r)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}set(e,t,i,r){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this.check()}fromObject(e){return this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this.check()}fromMatrix3(e){return function z7(n,e){var i,t=e[0]+e[4]+e[8];if(t>0)i=Math.sqrt(t+1),n[3]=.5*i,n[0]=(e[5]-e[7])*(i=.5/i),n[1]=(e[6]-e[2])*i,n[2]=(e[1]-e[3])*i;else{var r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);var o=(r+1)%3,s=(r+2)%3;i=Math.sqrt(e[3*r+r]-e[3*o+o]-e[3*s+s]+1),n[r]=.5*i,n[3]=(e[3*o+s]-e[3*s+o])*(i=.5/i),n[o]=(e[3*o+r]+e[3*r+o])*i,n[s]=(e[3*s+r]+e[3*r+s])*i}return n}(this,e),this.check()}fromAxisRotation(e,t){return U7(this,e,t),this.check()}identity(){return function MTe(n){n[0]=0,n[1]=0,n[2]=0,n[3]=1}(this),this.check()}setAxisAngle(e,t){return this.fromAxisRotation(e,t)}get ELEMENTS(){return 4}get x(){return this[0]}set x(e){this[0]=Br(e)}get y(){return this[1]}set y(e){this[1]=Br(e)}get z(){return this[2]}set z(e){this[2]=Br(e)}get w(){return this[3]}set w(e){this[3]=Br(e)}len(){return function Fbe(n){return Math.hypot(n[0],n[1],n[2],n[3])}(this)}lengthSquared(){return function Lbe(n){var e=n[0],t=n[1],i=n[2],r=n[3];return e*e+t*t+i*i+r*r}(this)}dot(e){return function jbe(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}(this,e)}rotationTo(e,t){return VTe(this,e,t),this.check()}add(e){return function Nbe(n,e,t){n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3]}(this,this,e),this.check()}calculateW(){return function OTe(n,e){var t=e[0],i=e[1],r=e[2];n[0]=t,n[1]=i,n[2]=r,n[3]=Math.sqrt(Math.abs(1-t*t-i*i-r*r))}(this,this),this.check()}conjugate(){return function FTe(n,e){n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3]}(this,this),this.check()}invert(){return function NTe(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t*t+i*i+r*r+o*o,a=s?1/s:0;n[0]=-t*a,n[1]=-i*a,n[2]=-r*a,n[3]=o*a}(this,this),this.check()}lerp(e,t,i){return void 0===i?this.lerp(this,e,t):(function Ube(n,e,t,i){var r=e[0],o=e[1],s=e[2],a=e[3];n[0]=r+i*(t[0]-r),n[1]=o+i*(t[1]-o),n[2]=s+i*(t[2]-s),n[3]=a+i*(t[3]-a)}(this,e,t,i),this.check())}multiplyRight(e){return V7(this,this,e),this.check()}multiplyLeft(e){return V7(this,e,this),this.check()}normalize(){const e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}rotateX(e){return function ITe(n,e,t){t*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),c=Math.cos(t);n[0]=i*c+s*a,n[1]=r*c+o*a,n[2]=o*c-r*a,n[3]=s*c-i*a}(this,this,e),this.check()}rotateY(e){return function DTe(n,e,t){t*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),c=Math.cos(t);n[0]=i*c-o*a,n[1]=r*c+s*a,n[2]=o*c+i*a,n[3]=s*c-r*a}(this,this,e),this.check()}rotateZ(e){return function RTe(n,e,t){t*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),c=Math.cos(t);n[0]=i*c+r*a,n[1]=r*c-i*a,n[2]=o*c+s*a,n[3]=s*c-o*a}(this,this,e),this.check()}scale(e){return H7(this,this,e),this.check()}slerp(e,t,i){let r,o,s;switch(arguments.length){case 1:({start:r=zTe,target:o,ratio:s}=e);break;case 2:r=this,o=e,s=t;break;default:r=e,o=t,s=i}return function gA(n,e,t,i){var f,m,g,v,E,r=e[0],o=e[1],s=e[2],a=e[3],c=t[0],l=t[1],d=t[2],h=t[3];return(m=r*c+o*l+s*d+a*h)<0&&(m=-m,c=-c,l=-l,d=-d,h=-h),1-m>Cd?(f=Math.acos(m),g=Math.sin(f),v=Math.sin((1-i)*f)/g,E=Math.sin(i*f)/g):(v=1-i,E=i),n[0]=v*r+E*c,n[1]=v*o+E*l,n[2]=v*s+E*d,n[3]=v*a+E*h,n}(this,r,o,s),this.check()}transformVector4(e,t=new ON){return function Vbe(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],c=t[2],l=t[3],d=l*i+a*o-c*r,h=l*r+c*i-s*o,f=l*o+s*r-a*i,m=-s*i-a*r-c*o;n[0]=d*l+m*-s+h*-c-f*-a,n[1]=h*l+m*-a+f*-s-d*-c,n[2]=f*l+m*-c+d*-a-h*-s,n[3]=e[3]}(t,e,this),x1(t,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(e,t){return this.setAxisAngle(e,t)}premultiply(e){return this.multiplyLeft(e)}multiply(e){return this.multiplyRight(e)}};class QTe{constructor(e){this.startTime=0,this.playing=!0,this.speed=1,this.channels=[],Object.assign(this,e)}animate(e){if(!this.playing)return;const i=(e/1e3-this.startTime)*this.speed;this.channels.forEach(r=>{let{sampler:o,target:s,path:a}=r;(function JTe(n,e,t,i){let{input:r,interpolation:o,output:s}=e;const c=n%r[r.length-1],l=r.findIndex(m=>m>=c),d=Math.max(0,l-1);if(!Array.isArray(t[i]))switch(i){case"translation":t[i]=[0,0,0];break;case"rotation":t[i]=[0,0,0,1];break;case"scale":t[i]=[1,1,1];break;default:Nn.warn("Bad animation path ".concat(i))()}gn(t[i].length===s[d].length);const h=r[d],f=r[l];switch(o){case"STEP":!function KTe(n,e,t){for(let i=0;i<t.length;i++)n[e][i]=t[i]}(t,i,s[d]);break;case"LINEAR":f>h&&function YTe(n,e,t,i,r){if("rotation"===e){kN.slerp({start:t,target:i,ratio:r});for(let o=0;o<kN.length;o++)n[e][o]=kN[o]}else for(let o=0;o<t.length;o++)n[e][o]=r*i[o]+(1-r)*t[o]}(t,i,s[d],s[l],(c-h)/(f-h));break;case"CUBICSPLINE":f>h&&function XTe(n,e,t){let{p0:i,outTangent0:r,inTangent1:o,p1:s,tDiff:a,ratio:c}=t;for(let l=0;l<n[e].length;l++){const d=r[l]*a,h=o[l]*a;n[e][l]=(2*Math.pow(c,3)-3*Math.pow(c,2)+1)*i[l]+(Math.pow(c,3)-2*Math.pow(c,2)+c)*d+(-2*Math.pow(c,3)+3*Math.pow(c,2))*s[l]+(Math.pow(c,3)-Math.pow(c,2))*h}}(t,i,{p0:s[3*d+1],outTangent0:s[3*d+2],inTangent1:s[3*l+0],p1:s[3*l+1],tDiff:f-h,ratio:(c-h)/(f-h)});break;default:Nn.warn("Interpolation ".concat(o," not supported"))()}})(i,o,s,a),function qTe(n,e){if(e.matrix.identity(),n.translation&&e.matrix.translate(n.translation),n.rotation){const t=$Te.fromQuaternion(n.rotation);e.matrix.multiplyRight(t)}n.scale&&e.matrix.scale(n.scale)}(s,s._node)})}}class ZTe{constructor(e){this.animations=e.animations.map((t,i)=>{const r=t.name||"Animation-".concat(i),o=t.samplers.map(a=>{let{input:c,interpolation:l="LINEAR",output:d}=a;return{input:$7(e.accessors[c]),interpolation:l,output:$7(e.accessors[d])}}),s=t.channels.map(a=>{let{sampler:c,target:l}=a;return{sampler:o[c],target:e.nodes[l.node],path:l.path}});return new QTe({name:r,channels:s})})}animate(e){this.setTime(e)}setTime(e){this.animations.forEach(t=>t.animate(e))}getAnimations(){return this.animations}}class eMe extends Q_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),this.onBeforeRender=null,this.AfterRender=null,e instanceof J_?(this.model=e,this._setModelNodeProps(t)):this.model=new J_(e,t),this.bounds=null,this.managedResources=t.managedResources||[]}setProps(e){return super.setProps(e),this._setModelNodeProps(e),this}getBounds(){return this.bounds}delete(){this.model&&(this.model.delete(),this.model=null),this.managedResources.forEach(e=>e.delete()),this.managedResources=[]}draw(){return this.model.draw(...arguments)}setUniforms(){return this.model.setUniforms(...arguments),this}setAttributes(){return this.model.setAttributes(...arguments),this}updateModuleSettings(){return this.model.updateModuleSettings(...arguments),this}_setModelNodeProps(e){this.model.setProps(e)}}class tMe{constructor(e,t){let{attributes:i,material:r,pbrDebug:o,imageBasedLightingEnvironment:s,lights:a,useTangents:c}=t;this.gl=e,this.defines={MANUAL_SRGB:1,SRGB_FAST_APPROXIMATION:1},ZP(e,"GLSL_TEXTURE_LOD")&&(this.defines.USE_TEX_LOD=1),this.uniforms={u_Camera:[0,0,0],u_MetallicRoughnessValues:[1,1]},this.parameters={},this.generatedTextures=[],s&&(this.uniforms.u_DiffuseEnvSampler=s.getDiffuseEnvSampler(),this.uniforms.u_SpecularEnvSampler=s.getSpecularEnvSampler(),this.uniforms.u_brdfLUT=s.getBrdfTexture(),this.uniforms.u_ScaleIBLAmbient=[1,1]),o&&(this.uniforms.u_ScaleDiffBaseMR=[0,0,0,0],this.uniforms.u_ScaleFGDSpec=[0,0,0,0]),this.defineIfPresent(i.NORMAL,"HAS_NORMALS"),this.defineIfPresent(i.TANGENT&&c,"HAS_TANGENTS"),this.defineIfPresent(i.TEXCOORD_0,"HAS_UV"),this.defineIfPresent(s,"USE_IBL"),this.defineIfPresent(a,"USE_LIGHTS"),this.defineIfPresent(o,"PBR_DEBUG"),r&&this.parseMaterial(r)}defineIfPresent(e,t){e&&(this.defines[t]=1)}parseTexture(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=e.texture.source.image;let s,a={};o.compressed?(s=o,a={[this.gl.TEXTURE_MIN_FILTER]:o.data.length>1?this.gl.LINEAR_MIPMAP_NEAREST:this.gl.LINEAR}):s={data:o};const c=new Hs(this.gl,{id:e.name||e.id,parameters:{...e.texture&&e.texture.sampler&&e.texture.sampler.parameters||{},...a},pixelStore:{[this.gl.UNPACK_FLIP_Y_WEBGL]:!1},...s});this.uniforms[t]=c,this.defineIfPresent(i,i),this.generatedTextures.push(c)}parsePbrMetallicRoughness(e){e.baseColorTexture&&this.parseTexture(e.baseColorTexture,"u_BaseColorSampler","HAS_BASECOLORMAP"),this.uniforms.u_BaseColorFactor=e.baseColorFactor||[1,1,1,1],e.metallicRoughnessTexture&&this.parseTexture(e.metallicRoughnessTexture,"u_MetallicRoughnessSampler","HAS_METALROUGHNESSMAP");const{metallicFactor:t=1,roughnessFactor:i=1}=e;this.uniforms.u_MetallicRoughnessValues=[t,i]}parseMaterial(e){if(this.uniforms.pbr_uUnlit=!!e.unlit,e.pbrMetallicRoughness&&this.parsePbrMetallicRoughness(e.pbrMetallicRoughness),e.normalTexture){this.parseTexture(e.normalTexture,"u_NormalSampler","HAS_NORMALMAP");const{scale:t=1}=e.normalTexture;this.uniforms.u_NormalScale=t}if(e.occlusionTexture){this.parseTexture(e.occlusionTexture,"u_OcclusionSampler","HAS_OCCLUSIONMAP");const{strength:t=1}=e.occlusionTexture;this.uniforms.u_OcclusionStrength=t}if(e.emissiveTexture&&(this.parseTexture(e.emissiveTexture,"u_EmissiveSampler","HAS_EMISSIVEMAP"),this.uniforms.u_EmissiveFactor=e.emissiveFactor||[0,0,0]),"MASK"===e.alphaMode){const{alphaCutoff:t=.5}=e;this.defines.ALPHA_CUTOFF=1,this.uniforms.u_AlphaCutoff=t}else"BLEND"===e.alphaMode&&(Nn.warn("BLEND alphaMode might not work well because it requires mesh sorting")(),Object.assign(this.parameters,{blend:!0,blendEquation:this.gl.FUNC_ADD,blendFunc:[this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA]}))}delete(){this.generatedTextures.forEach(e=>e.delete())}}function q7(n,e){return Pi(n)?"#version 300 es\n".concat(e):e}const oMe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},sMe={modelOptions:{},pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1};class aMe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.options=Object.assign({},sMe,t)}instantiate(e){return this.gltf=e,(e.scenes||[]).map(i=>this.createScene(i))}createAnimator(){return Array.isArray(this.gltf.animations)?new ZTe(this.gltf):null}createScene(e){const i=(e.nodes||[]).map(o=>this.createNode(o));return new tw({id:e.name||e.id,children:i})}createNode(e){if(!e._node){const i=(e.children||[]).map(o=>this.createNode(o));e.mesh&&i.push(this.createMesh(e.mesh));const r=new tw({id:e.name||e.id,children:i});if(e.matrix)r.setMatrix(e.matrix);else{if(r.matrix.identity(),e.translation&&r.matrix.translate(e.translation),e.rotation){const o=(new jt).fromQuaternion(e.rotation);r.matrix.multiplyRight(o)}e.scale&&r.matrix.scale(e.scale)}e._node=r}return e._node}createMesh(e){if(!e._mesh){const i=(e.primitives||[]).map((o,s)=>this.createPrimitive(o,s,e)),r=new tw({id:e.name||e.id,children:i});e._mesh=r}return e._mesh}getVertexCount(e){Nn.warn("getVertexCount() not found")()}createPrimitive(e,t,i){const r=function rMe(n,e){const{id:t,drawMode:i,vertexCount:r,attributes:o,modelOptions:s}=e,a=new tMe(n,e);Nn.info(4,"createGLTFModel defines: ",a.defines)();const c=[];c.push(...a.generatedTextures),c.push(...Object.values(o).map(d=>d.buffer));const l=new eMe(n,{id:t,drawMode:i,vertexCount:r,modules:[B7],parameters:a.parameters,vs:q7(n,"\n#if (__VERSION__ < 300)\n  #define _attr attribute\n#else\n  #define _attr in\n#endif\n\n  _attr vec4 POSITION;\n\n  #ifdef HAS_NORMALS\n    _attr vec4 NORMAL;\n  #endif\n\n  #ifdef HAS_TANGENTS\n    _attr vec4 TANGENT;\n  #endif\n\n  #ifdef HAS_UV\n    _attr vec2 TEXCOORD_0;\n  #endif\n\n  void main(void) {\n    vec4 _NORMAL = vec4(0.);\n    vec4 _TANGENT = vec4(0.);\n    vec2 _TEXCOORD_0 = vec2(0.);\n\n    #ifdef HAS_NORMALS\n      _NORMAL = NORMAL;\n    #endif\n\n    #ifdef HAS_TANGENTS\n      _TANGENT = TANGENT;\n    #endif\n\n    #ifdef HAS_UV\n      _TEXCOORD_0 = TEXCOORD_0;\n    #endif\n\n    pbr_setPositionNormalTangentUV(POSITION, _NORMAL, _TANGENT, _TEXCOORD_0);\n    gl_Position = u_MVPMatrix * POSITION;\n  }\n"),fs:q7(n,"\n#if (__VERSION__ < 300)\n  #define fragmentColor gl_FragColor\n#else\n  out vec4 fragmentColor;\n#endif\n\n  void main(void) {\n    fragmentColor = pbr_filterColor(vec4(0));\n  }\n"),managedResources:c,...s,defines:{...a.defines,...s.defines}});return l.setProps({attributes:o}),l.setUniforms(a.uniforms),l}(this.gl,Object.assign({id:e.name||"".concat(i.name||i.id,"-primitive-").concat(t),drawMode:e.mode||4,vertexCount:e.indices?e.indices.count:this.getVertexCount(e.attributes),attributes:this.createAttributes(e.attributes,e.indices),material:e.material},this.options));return r.bounds=[e.attributes.POSITION.min,e.attributes.POSITION.max],r}createAttributes(e,t){const i={};return Object.keys(e).forEach(r=>{i[r]=this.createAccessor(e[r],this.createBuffer(e[r],this.gl.ARRAY_BUFFER))}),t&&(i.indices=this.createAccessor(t,this.createBuffer(t,this.gl.ELEMENT_ARRAY_BUFFER))),Nn.info(4,"glTF Attributes",{attributes:e,indices:t,generated:i})(),i}createBuffer(e,t){e.bufferView||(e.bufferView={});const{bufferView:i}=e;return i.lumaBuffers||(i.lumaBuffers={}),i.lumaBuffers[t]||(i.lumaBuffers[t]=new Ar(this.gl,{id:"from-".concat(i.id),data:i.data||e.value,target:t})),i.lumaBuffers[t]}createAccessor(e,t){return new dc({buffer:t,offset:e.byteOffset||0,stride:e.bufferView.byteStride||0,type:e.componentType,size:oMe[e.type]})}createSampler(e){return e}needsPOT(){return!1}}var nw=S(2435);const uMe="3.2.13",PN={};function em(n){return NN.apply(this,arguments)}function NN(){return NN=D(function*(n,e=null,t={}){return e&&(n=function hMe(n,e,t){if(n.startsWith("http"))return n;const i=t.modules||{};return i[n]?i[n]:cf?t.CDN?(Md(t.CDN.startsWith("http")),"".concat(t.CDN,"/").concat(e,"@").concat(uMe,"/dist/libs/").concat(n)):x2?"../src/libs/".concat(n):"modules/".concat(e,"/src/libs/").concat(n):"modules/".concat(e,"/dist/libs/").concat(n)}(n,e,t)),PN[n]=PN[n]||function fMe(n){return FN.apply(this,arguments)}(n),yield PN[n]}),NN.apply(this,arguments)}function FN(){return FN=D(function*(n){if(n.endsWith("wasm"))return yield(yield fetch(n)).arrayBuffer();if(!cf)try{return nw&&nw.requireFromFile&&(yield nw.requireFromFile(n))}catch{return null}return x2?importScripts(n):function pMe(n,e){if(!cf)return nw.requireFromString&&nw.requireFromString(n,e);if(x2)return eval.call(Gxe,n),null;const t=document.createElement("script");t.id=e;try{t.appendChild(document.createTextNode(n))}catch{t.text=n}return document.body.appendChild(t),null}(yield(yield fetch(n)).text(),n)}),FN.apply(this,arguments)}const mMe="https://unpkg.com/@loaders.gl/textures@".concat("3.2.13","/dist/libs/basis_encoder.wasm"),gMe="https://unpkg.com/@loaders.gl/textures@".concat("3.2.13","/dist/libs/basis_encoder.js");let LN,UN;function X7(n){return BN.apply(this,arguments)}function BN(){return BN=D(function*(n){const e=n.modules||{};return e.basis?e.basis:(LN=LN||function _Me(n){return jN.apply(this,arguments)}(n),yield LN)}),BN.apply(this,arguments)}function jN(){return jN=D(function*(n){let e=null,t=null;return[e,t]=yield Promise.all([yield em("basis_transcoder.js","textures",n),yield em("basis_transcoder.wasm","textures",n)]),e=e||globalThis.BASIS,yield function bMe(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(i=>{n(t).then(r=>{const{BasisFile:o,initializeBasis:s}=r;s(),i({BasisFile:o})})})}(e,t)}),jN.apply(this,arguments)}function K7(n){return VN.apply(this,arguments)}function VN(){return VN=D(function*(n){const e=n.modules||{};return e.basisEncoder?e.basisEncoder:(UN=UN||function yMe(n){return zN.apply(this,arguments)}(n),yield UN)}),VN.apply(this,arguments)}function zN(){return zN=D(function*(n){let e=null,t=null;return[e,t]=yield Promise.all([yield em(gMe,"textures",n),yield em(mMe,"textures",n)]),e=e||globalThis.BASIS,yield function vMe(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(i=>{n(t).then(r=>{const{BasisFile:o,KTX2File:s,initializeBasis:a,BasisEncoder:c}=r;a(),i({BasisFile:o,KTX2File:s,BasisEncoder:c})})})}(e,t)}),zN.apply(this,arguments)}const wMe=["","WEBKIT_","MOZ_"],J7={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let _A=null;var HN,bA,GN,yA,Z7,WN,eq,tq;new Uint8Array([0]),function(n){n[n.NONE=0]="NONE",n[n.BASISLZ=1]="BASISLZ",n[n.ZSTD=2]="ZSTD",n[n.ZLIB=3]="ZLIB"}(HN||(HN={})),function(n){n[n.BASICFORMAT=0]="BASICFORMAT"}(bA||(bA={})),function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.ETC1S=163]="ETC1S",n[n.UASTC=166]="UASTC"}(GN||(GN={})),function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.SRGB=1]="SRGB"}(yA||(yA={})),function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.LINEAR=1]="LINEAR",n[n.SRGB=2]="SRGB",n[n.ITU=3]="ITU",n[n.NTSC=4]="NTSC",n[n.SLOG=5]="SLOG",n[n.SLOG2=6]="SLOG2"}(Z7||(Z7={})),function(n){n[n.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",n[n.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(WN||(WN={})),function(n){n[n.RGB=0]="RGB",n[n.RRR=3]="RRR",n[n.GGG=4]="GGG",n[n.AAA=15]="AAA"}(eq||(eq={})),function(n){n[n.RGB=0]="RGB",n[n.RGBA=3]="RGBA",n[n.RRR=4]="RRR",n[n.RRRG=5]="RRRG"}(tq||(tq={}));const Fc=[171,75,84,88,32,50,48,187,13,10,26,10],TMe={etc1:{basisFormat:0,compressed:!0,format:36196},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:33776},bc3:{basisFormat:3,compressed:!0,format:33779},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:35840},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:35842},"astc-4x4":{basisFormat:10,compressed:!0,format:37808},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function qN(){return qN=D(function*(n,e){if("auto"===e.basis.containerFormat){if(function AMe(n){const e=new Uint8Array(n);return!(e.byteLength<Fc.length||e[0]!==Fc[0]||e[1]!==Fc[1]||e[2]!==Fc[2]||e[3]!==Fc[3]||e[4]!==Fc[4]||e[5]!==Fc[5]||e[6]!==Fc[6]||e[7]!==Fc[7]||e[8]!==Fc[8]||e[9]!==Fc[9]||e[10]!==Fc[10]||e[11]!==Fc[11])}(n))return rq((yield K7(e)).KTX2File,n,e);const{BasisFile:t}=yield X7(e);return YN(t,n,e)}if("encoder"===e.basis.module){const t=yield K7(e);return"ktx2"===e.basis.containerFormat?rq(t.KTX2File,n,e):YN(t.BasisFile,n,e)}{const{BasisFile:i}=yield X7(e);return YN(i,n,e)}}),qN.apply(this,arguments)}function YN(n,e,t){const i=new n(new Uint8Array(e));try{if(!i.startTranscoding())throw new Error("Failed to start basis transcoding");const r=i.getNumImages(),o=[];for(let s=0;s<r;s++){const a=i.getNumLevels(s),c=[];for(let l=0;l<a;l++)c.push(IMe(i,s,l,t));o.push(c)}return o}finally{i.close(),i.delete()}}function IMe(n,e,t,i){const r=n.getImageWidth(e,t),o=n.getImageHeight(e,t),s=n.getHasAlpha(),{compressed:a,format:c,basisFormat:l}=oq(i,s),d=n.getImageTranscodedSizeInBytes(e,t,l),h=new Uint8Array(d);if(!n.transcodeImage(h,e,t,l,0,0))throw new Error("failed to start Basis transcoding");return{width:r,height:o,data:h,compressed:a,format:c,hasAlpha:s}}function rq(n,e,t){const i=new n(new Uint8Array(e));try{if(!i.startTranscoding())throw new Error("failed to start KTX2 transcoding");const r=i.getLevels(),o=[];for(let s=0;s<r;s++){o.push(DMe(i,s,t));break}return[o]}finally{i.close(),i.delete()}}function DMe(n,e,t){const{alphaFlag:i,height:r,width:o}=n.getImageLevelInfo(e,0,0),{compressed:s,format:a,basisFormat:c}=oq(t,i),l=n.getImageTranscodedSizeInBytes(e,0,0,c),d=new Uint8Array(l);if(!n.transcodeImage(d,e,0,0,c,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:o,height:r,data:d,compressed:s,hasAlpha:i,format:a}}function oq(n,e){let t=n&&n.basis&&n.basis.format;return"auto"===t&&(t=sq()),"object"==typeof t&&(t=e?t.alpha:t.noAlpha),t=t.toLowerCase(),TMe[t]}function sq(){const n=function xMe(n){if(!_A){n=n||function EMe(){try{return document.createElement("canvas").getContext("webgl")}catch{return null}}()||void 0,_A=new Set;for(const e of wMe)for(const t in J7)n&&n.getExtension("".concat(e).concat(t))&&_A.add(J7[t])}return _A}();return n.has("astc")?"astc-4x4":n.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:n.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:n.has("etc1")?"etc1":n.has("etc2")?"etc2":"rgb565"}const RMe={name:"Basis",id:"basis",module:"textures",version:"3.2.13",worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}},parse:function MMe(n,e){return qN.apply(this,arguments)}};function tm(n,e){if(!n)throw new Error(e||"loader assertion failed.")}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const wA=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),aq=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),{_parseImageNode:kMe}=(aq&&parseFloat(aq[1]),globalThis),XN=typeof Image<"u",KN=typeof ImageBitmap<"u",JN=!!wA||!!kMe;function cq(n){const e=function dq(n){return typeof ImageBitmap<"u"&&n instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&n instanceof Image?"image":n&&"object"==typeof n&&n.data&&n.width&&n.height?"data":null}(n);if(!e)throw new Error("Not an image");return e}const FMe=/^data:image\/svg\+xml/,LMe=/\.svg((\?|#).*)?$/;function QN(n){return n&&(FMe.test(n)||LMe.test(n))}function uq(n,e){if(QN(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(n)])}function hq(n,e,t){return ZN.apply(this,arguments)}function ZN(){return ZN=D(function*(n,e,t){const i=function BMe(n,e){if(QN(e)){let i=(new TextDecoder).decode(n);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(i=unescape(encodeURIComponent(i)))}catch(o){throw new Error(o.message)}return"data:image/svg+xml;base64,".concat(btoa(i))}return uq(n,e)}(n,t),r=self.URL||self.webkitURL,o="string"!=typeof i&&r.createObjectURL(i);try{return yield function jMe(n,e){return eF.apply(this,arguments)}(o||i,e)}finally{o&&r.revokeObjectURL(o)}}),ZN.apply(this,arguments)}function eF(){return eF=D(function*(n,e){const t=new Image;return t.src=n,e.image&&e.image.decode&&t.decode?(yield t.decode(),t):yield new Promise((i,r)=>{try{t.onload=()=>i(t),t.onerror=o=>r(new Error("Could not load image ".concat(n,": ").concat(o)))}catch(o){r(o)}})}),eF.apply(this,arguments)}const UMe={};let fq=!0;function tF(){return tF=D(function*(n,e,t){let i;i=QN(t)?yield hq(n,e,t):uq(n,t);const r=e&&e.imagebitmap;return yield function zMe(n){return nF.apply(this,arguments)}(i,r)}),tF.apply(this,arguments)}function nF(){return nF=D(function*(n,e=null){if((function HMe(n){for(const e in n||UMe)return!1;return!0}(e)||!fq)&&(e=null),e)try{return yield createImageBitmap(n,e)}catch(t){console.warn(t),fq=!1}return yield createImageBitmap(n)}),nF.apply(this,arguments)}const Fd=!1,rw=!0;function iF(n){const e=ow(n);return function GMe(n){const e=ow(n);return e.byteLength>=24&&2303741511===e.getUint32(0,Fd)?{mimeType:"image/png",width:e.getUint32(16,Fd),height:e.getUint32(20,Fd)}:null}(e)||function qMe(n){const e=ow(n);if(!(e.byteLength>=3&&65496===e.getUint16(0,Fd)&&255===e.getUint8(2)))return null;const{tableMarkers:i,sofMarkers:r}=function YMe(){const n=new Set([65499,65476,65484,65501,65534]);for(let t=65504;t<65520;++t)n.add(t);return{tableMarkers:n,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let o=2;for(;o+9<e.byteLength;){const s=e.getUint16(o,Fd);if(r.has(s))return{mimeType:"image/jpeg",height:e.getUint16(o+5,Fd),width:e.getUint16(o+7,Fd)};if(!i.has(s))return null;o+=2,o+=e.getUint16(o,Fd)}return null}(e)||function WMe(n){const e=ow(n);return e.byteLength>=10&&1195984440===e.getUint32(0,Fd)?{mimeType:"image/gif",width:e.getUint16(6,rw),height:e.getUint16(8,rw)}:null}(e)||function $Me(n){const e=ow(n);return e.byteLength>=14&&16973===e.getUint16(0,Fd)&&e.getUint32(2,rw)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,rw),height:e.getUint32(22,rw)}:null}(e)}function ow(n){if(n instanceof DataView)return n;if(ArrayBuffer.isView(n))return new DataView(n.buffer);if(n instanceof ArrayBuffer)return new DataView(n);throw new Error("toDataView")}function rF(){return rF=D(function*(n,e){const{mimeType:t}=iF(n)||{},i=globalThis._parseImageNode;return tm(i),yield i(n,t)}),rF.apply(this,arguments)}function oF(){return oF=D(function*(n,e,t){const r=((e=e||{}).image||{}).type||"auto",{url:o}=t||{},s=function JMe(n){switch(n){case"auto":case"data":return function NMe(){if(KN)return"imagebitmap";if(XN)return"image";if(JN)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function PMe(n){switch(n){case"auto":return KN||XN||JN;case"imagebitmap":return KN;case"image":return XN;case"data":return JN;default:throw new Error("@loaders.gl/images: image ".concat(n," not supported in this environment"))}}(n),n}}(r);let a;switch(s){case"imagebitmap":a=yield function VMe(n,e,t){return tF.apply(this,arguments)}(n,e,o);break;case"image":a=yield hq(n,e,o);break;case"data":a=yield function XMe(n,e){return rF.apply(this,arguments)}(n,e);break;default:tm(!1)}return"data"===r&&(a=function lq(n){switch(cq(n)){case"data":return n;case"image":case"imagebitmap":const e=document.createElement("canvas"),t=e.getContext("2d");if(!t)throw new Error("getImageData");return e.width=n.width,e.height=n.height,t.drawImage(n,0,0),t.getImageData(0,0,n.width,n.height);default:throw new Error("getImageData")}}(a)),a}),oF.apply(this,arguments)}const QMe={id:"image",module:"images",name:"Images",version:"3.2.13",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:function KMe(n,e,t){return oF.apply(this,arguments)},tests:[n=>!!iF(new DataView(n))],options:{image:{type:"auto",decode:!0}}};function pq(n,e,t){if(n.byteLength<=e+t)return"";const i=new DataView(n);let r="";for(let o=0;o<t;o++)r+=String.fromCharCode(i.getUint8(e+o));return r}function mq(n,e,t){const i=void 0!==t?new Uint8Array(n).subarray(e,e+t):new Uint8Array(n).subarray(e);return new Uint8Array(i).buffer}function Lc(n,e){if(!n)throw new Error(e||"assert failed: gltf")}function gq(n,e){if(n.startsWith("data:")||n.startsWith("http:")||n.startsWith("https:"))return n;const i=e.baseUri||e.uri;if(!i)throw new Error("'baseUri' must be provided to resolve relative url ".concat(n));return i.substr(0,i.lastIndexOf("/")+1)+n}function sw(n,e){return tm(n>=0),tm(e>0),n+(e-1)&~(e-1)}function tIe(n,e,t){let i;return i=n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer||n.arrayBuffer,n.byteOffset,n.byteLength),e.set(i,t),t+sw(i.byteLength,4)}const bq=["SCALAR","VEC2","VEC3","VEC4"],nIe=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],iIe=new Map(nIe),rIe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},oIe={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},sIe={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function yq(n){return bq[n-1]||bq[0]}function vq(n){const e=iIe.get(n.constructor);if(!e)throw new Error("Illegal typed array");return e}function wq(n,e){const t=sIe[n.componentType],i=rIe[n.type],o=n.count*i,s=n.count*i*oIe[n.componentType];return Lc(s>=0&&s<=e.byteLength),{ArrayType:t,length:o,byteLength:s}}const aIe={asset:{version:"2.0",generator:"loaders.gl"},buffers:[]};class ul{constructor(e){ve(this,"gltf",void 0),ve(this,"sourceBuffers",void 0),ve(this,"byteLength",void 0),this.gltf=e||{json:{...aIe},buffers:[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(e){return this.json[e]}getExtraData(e){return(this.json.extras||{})[e]}getExtension(e){return this.getUsedExtensions().find(r=>r===e)?(this.json.extensions||{})[e]||!0:null}getRequiredExtension(e){return this.getRequiredExtensions().find(i=>i===e)?this.getExtension(e):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getObjectExtension(e,t){return(e.extensions||{})[t]}getScene(e){return this.getObject("scenes",e)}getNode(e){return this.getObject("nodes",e)}getSkin(e){return this.getObject("skins",e)}getMesh(e){return this.getObject("meshes",e)}getMaterial(e){return this.getObject("materials",e)}getAccessor(e){return this.getObject("accessors",e)}getTexture(e){return this.getObject("textures",e)}getSampler(e){return this.getObject("samplers",e)}getImage(e){return this.getObject("images",e)}getBufferView(e){return this.getObject("bufferViews",e)}getBuffer(e){return this.getObject("buffers",e)}getObject(e,t){if("object"==typeof t)return t;const i=this.json[e]&&this.json[e][t];if(!i)throw new Error("glTF file error: Could not find ".concat(e,"[").concat(t,"]"));return i}getTypedArrayForBufferView(e){e=this.getBufferView(e);const i=this.gltf.buffers[e.buffer];return Lc(i),new Uint8Array(i.arrayBuffer,(e.byteOffset||0)+i.byteOffset,e.byteLength)}getTypedArrayForAccessor(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),r=this.getBuffer(t.buffer).data,{ArrayType:o,length:s}=wq(e,t);return new o(r,t.byteOffset+e.byteOffset,s)}getTypedArrayForImageData(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),r=this.getBuffer(t.buffer).data;return new Uint8Array(r,t.byteOffset||0,t.byteLength)}addApplicationData(e,t){return this.json[e]=t,this}addExtraData(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}addObjectExtension(e,t,i){return e.extensions=e.extensions||{},e.extensions[t]=i,this.registerUsedExtension(t),this}setObjectExtension(e,t,i){(e.extensions||{})[t]=i}removeObjectExtension(e,t){const i=e.extensions||{},r=i[t];return delete i[t],r}addExtension(e,t={}){return Lc(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}addRequiredExtension(e,t={}){return Lc(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}registerUsedExtension(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(t=>t===e)||this.json.extensionsUsed.push(e)}registerRequiredExtension(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(t=>t===e)||this.json.extensionsRequired.push(e)}removeExtension(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]}setDefaultScene(e){this.json.scene=e}addScene(e){const{nodeIndices:t}=e;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:t}),this.json.scenes.length-1}addNode(e){const{meshIndex:t,matrix:i}=e;this.json.nodes=this.json.nodes||[];const r={mesh:t};return i&&(r.matrix=i),this.json.nodes.push(r),this.json.nodes.length-1}addMesh(e){const{attributes:t,indices:i,material:r,mode:o=4}=e,a={primitives:[{attributes:this._addAttributes(t),mode:o}]};if(i){const c=this._addIndices(i);a.primitives[0].indices=c}return Number.isFinite(r)&&(a.primitives[0].material=r),this.json.meshes=this.json.meshes||[],this.json.meshes.push(a),this.json.meshes.length-1}addPointCloud(e){const i={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(i),this.json.meshes.length-1}addImage(e,t){const i=iF(e),r=t||i?.mimeType,s={bufferView:this.addBufferView(e),mimeType:r};return this.json.images=this.json.images||[],this.json.images.push(s),this.json.images.length-1}addBufferView(e){const t=e.byteLength;Lc(Number.isFinite(t)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);const i={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.byteLength+=sw(t,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(i),this.json.bufferViews.length-1}addAccessor(e,t){const i={bufferView:e,type:yq(t.size),componentType:t.componentType,count:t.count,max:t.max,min:t.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(i),this.json.accessors.length-1}addBinaryBuffer(e,t={size:3}){const i=this.addBufferView(e);let r={min:t.min,max:t.max};(!r.min||!r.max)&&(r=this._getAccessorMinMax(e,t.size));const o={size:t.size,componentType:vq(e),count:Math.round(e.length/t.size),min:r.min,max:r.max};return this.addAccessor(i,Object.assign(o,t))}addTexture(e){const{imageIndex:t}=e,i={source:t};return this.json.textures=this.json.textures||[],this.json.textures.push(i),this.json.textures.length-1}addMaterial(e){return this.json.materials=this.json.materials||[],this.json.materials.push(e),this.json.materials.length-1}createBinaryChunk(){var e,t;this.gltf.buffers=[];const i=this.byteLength,r=new ArrayBuffer(i),o=new Uint8Array(r);let s=0;for(const a of this.sourceBuffers||[])s=tIe(a,o,s);null!==(e=this.json)&&void 0!==e&&null!==(t=e.buffers)&&void 0!==t&&t[0]?this.json.buffers[0].byteLength=i:this.json.buffers=[{byteLength:i}],this.gltf.binary=r,this.sourceBuffers=[r]}_removeStringFromArray(e,t){let i=!0;for(;i;){const r=e.indexOf(t);r>-1?e.splice(r,1):i=!1}}_addAttributes(e={}){const t={};for(const i in e){const r=e[i],o=this._getGltfAttributeName(i),s=this.addBinaryBuffer(r.value,r);t[o]=s}return t}_addIndices(e){return this.addBinaryBuffer(e,{size:1})}_getGltfAttributeName(e){switch(e.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return e}}_getAccessorMinMax(e,t){const i={min:null,max:null};if(e.length<t)return i;i.min=[],i.max=[];const r=e.subarray(0,t);for(const o of r)i.min.push(o),i.max.push(o);for(let o=t;o<e.length;o+=t)for(let s=0;s<t;s++)i.min[0+s]=Math.min(i.min[0+s],e[o+s]),i.max[0+s]=Math.max(i.max[0+s],e[o+s]);return i}}const lIe="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",dIe="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",uIe=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),hIe=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),xq={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},fIe={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};function lF(){return lF=D(function*(n,e,t,i,r,o="NONE"){const s=yield function xA(){return uF.apply(this,arguments)}();!function EA(n,e,t,i,r,o,s){const a=n.exports.sbrk,c=i+3&-4,l=a(c*r),d=a(o.length),h=new Uint8Array(n.exports.memory.buffer);h.set(o,d);const f=e(l,i,r,d,o.length);if(0===f&&s&&s(l,c,r),t.set(h.subarray(l,l+i*r)),a(l-a(0)),0!==f)throw new Error("Malformed buffer data: ".concat(f))}(s,s.exports[fIe[r]],n,e,t,i,s.exports[xq[o||"NONE"]])}),lF.apply(this,arguments)}let dF;function uF(){return uF=D(function*(){return dF||(dF=function mIe(){return hF.apply(this,arguments)}()),dF}),uF.apply(this,arguments)}function hF(){return hF=D(function*(){let n=lIe;WebAssembly.validate(uIe)&&(n=dIe,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const e=yield WebAssembly.instantiate(function gIe(n){const e=new Uint8Array(n.length);for(let i=0;i<n.length;++i){const r=n.charCodeAt(i);e[i]=r>96?r-71:r>64?r-65:r>47?r+4:r>46?63:62}let t=0;for(let i=0;i<n.length;++i)e[t++]=e[i]<60?hIe[e[i]]:64*(e[i]-60)+e[++i];return e.buffer.slice(0,t)}(n),{});return yield e.instance.exports.__wasm_call_ctors(),e.instance}),hF.apply(this,arguments)}const fF="EXT_meshopt_compression",_Ie=fF;function bIe(n,e){return pF.apply(this,arguments)}function pF(){return pF=D(function*(n,e){var t;const i=new ul(n);if(null==e||null===(t=e.gltf)||void 0===t||!t.decompressMeshes)return;const r=[];for(const o of n.json.bufferViews||[])r.push(yIe(i,o));yield Promise.all(r),i.removeExtension(fF)}),pF.apply(this,arguments)}function yIe(n,e){return mF.apply(this,arguments)}function mF(){return mF=D(function*(n,e){const t=n.getObjectExtension(e,fF);if(t){const{byteOffset:i=0,byteLength:r=0,byteStride:o,count:s,mode:a,filter:c="NONE",buffer:l}=t,d=n.gltf.buffers[l],h=new Uint8Array(d.arrayBuffer,d.byteOffset+i,r),f=new Uint8Array(n.gltf.buffers[e.buffer].arrayBuffer,e.byteOffset,e.byteLength);return yield function pIe(n,e,t,i,r){return lF.apply(this,arguments)}(f,s,o,h,a,c),f}return null}),mF.apply(this,arguments)}const vIe=["image/png","image/jpeg","image/gif"],gF={};const eb="EXT_texture_webp",CIe=eb;function SIe(n,e){const t=new ul(n);if(!function wIe(n){return void 0===gF[n]&&(gF[n]=function xIe(n){switch(n){case"image/webp":return function EIe(){if(!wA)return!1;try{return 0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch{return!1}}();case"image/svg":return wA;default:if(!wA){const{_parseImageNode:e}=globalThis;return!!e&&vIe.includes(n)}return!0}}(n)),gF[n]}("image/webp")){if(t.getRequiredExtensions().includes(eb))throw new Error("gltf: Required extension ".concat(eb," not supported by browser"));return}const{json:i}=t;for(const r of i.textures||[]){const o=t.getObjectExtension(r,eb);o&&(r.source=o.source),t.removeObjectExtension(r,eb)}t.removeExtension(eb)}const CA="KHR_texture_basisu",AIe=CA;function TIe(n,e){const t=new ul(n),{json:i}=t;for(const r of i.textures||[]){const o=t.getObjectExtension(r,CA);o&&(r.source=o.source),t.removeObjectExtension(r,CA)}t.removeExtension(CA)}const Cq={name:"Draco",id:"draco",module:"draco",shapes:["mesh"],version:"3.2.13",worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}};class SA{constructor(e,t,i=!1,r=new Map){ve(this,"name",void 0),ve(this,"type",void 0),ve(this,"nullable",void 0),ve(this,"metadata",void 0),this.name=e,this.type=t,this.nullable=i,this.metadata=r}get typeId(){return this.type&&this.type.typeId}clone(){return new SA(this.name,this.type,this.nullable,this.metadata)}compareTo(e){return this.name===e.name&&this.type===e.type&&this.nullable===e.nullable&&this.metadata===e.metadata}toString(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}let tr,Sq,Aq,Tq,Mq,Iq,Dq,Rq,Oq;!function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth"}(tr||(tr={}));class hl{static isNull(e){return e&&e.typeId===tr.Null}static isInt(e){return e&&e.typeId===tr.Int}static isFloat(e){return e&&e.typeId===tr.Float}static isBinary(e){return e&&e.typeId===tr.Binary}static isUtf8(e){return e&&e.typeId===tr.Utf8}static isBool(e){return e&&e.typeId===tr.Bool}static isDecimal(e){return e&&e.typeId===tr.Decimal}static isDate(e){return e&&e.typeId===tr.Date}static isTime(e){return e&&e.typeId===tr.Time}static isTimestamp(e){return e&&e.typeId===tr.Timestamp}static isInterval(e){return e&&e.typeId===tr.Interval}static isList(e){return e&&e.typeId===tr.List}static isStruct(e){return e&&e.typeId===tr.Struct}static isUnion(e){return e&&e.typeId===tr.Union}static isFixedSizeBinary(e){return e&&e.typeId===tr.FixedSizeBinary}static isFixedSizeList(e){return e&&e.typeId===tr.FixedSizeList}static isMap(e){return e&&e.typeId===tr.Map}static isDictionary(e){return e&&e.typeId===tr.Dictionary}get typeId(){return tr.NONE}compareTo(e){return this===e}}Symbol,Symbol,Sq=Symbol.toStringTag;class uf extends hl{constructor(e,t){super(),ve(this,"isSigned",void 0),ve(this,"bitWidth",void 0),this.isSigned=e,this.bitWidth=t}get typeId(){return tr.Int}get[Sq](){return"Int"}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}class IIe extends uf{constructor(){super(!0,8)}}class DIe extends uf{constructor(){super(!0,16)}}class RIe extends uf{constructor(){super(!0,32)}}class OIe extends uf{constructor(){super(!1,8)}}class kIe extends uf{constructor(){super(!1,16)}}class PIe extends uf{constructor(){super(!1,32)}}Aq=Symbol.toStringTag;class bF extends hl{constructor(e){super(),ve(this,"precision",void 0),this.precision=e}get typeId(){return tr.Float}get[Aq](){return"Float"}toString(){return"Float".concat(this.precision)}}class NIe extends bF{constructor(){super(32)}}class FIe extends bF{constructor(){super(64)}}Symbol,Symbol,Tq=Symbol.toStringTag,Mq=Symbol.toStringTag,Iq=Symbol.toStringTag,Dq=Symbol.toStringTag,Rq=Symbol.toStringTag;class LIe extends hl{constructor(e,t){super(),ve(this,"listSize",void 0),ve(this,"children",void 0),this.listSize=e,this.children=[t]}get typeId(){return tr.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get[Rq](){return"FixedSizeList"}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}Oq=Symbol.toStringTag;class tb{constructor(e,t){ve(this,"fields",void 0),ve(this,"metadata",void 0),function VIe(n,e){if(!n)throw new Error(e||"loader assertion failed.")}(Array.isArray(e)),function zIe(n){const e={};for(const t of n)e[t.name]&&console.warn("Schema: duplicated field name",t.name,t),e[t.name]=!0}(e),this.fields=e,this.metadata=t||new Map}compareTo(e){if(this.metadata!==e.metadata||this.fields.length!==e.fields.length)return!1;for(let t=0;t<this.fields.length;++t)if(!this.fields[t].compareTo(e.fields[t]))return!1;return!0}select(...e){const t=Object.create(null);for(const r of e)t[r]=!0;const i=this.fields.filter(r=>t[r.name]);return new tb(i,this.metadata)}selectAt(...e){const t=e.map(i=>this.fields[i]).filter(Boolean);return new tb(t,this.metadata)}assign(e){let t,i=this.metadata;if(e instanceof tb){const s=e;t=s.fields,i=Lq(Lq(new Map,this.metadata),s.metadata)}else t=e;const r=Object.create(null);for(const s of this.fields)r[s.name]=s;for(const s of t)r[s.name]=s;const o=Object.values(r);return new tb(o,i)}}function Lq(n,e){return new Map([...n||new Map,...e||new Map])}function Bq(n,e,t){return function Fq(n,e,t){const i=function BIe(n){switch(n.constructor){case Int8Array:return new IIe;case Uint8Array:return new OIe;case Int16Array:return new DIe;case Uint16Array:return new kIe;case Int32Array:return new RIe;case Uint32Array:return new PIe;case Float32Array:return new NIe;case Float64Array:return new FIe;default:throw new Error("array type not supported")}}(e.value),r=t||function UIe(n){const e=new Map;return"byteOffset"in n&&e.set("byteOffset",n.byteOffset.toString(10)),"byteStride"in n&&e.set("byteStride",n.byteStride.toString(10)),"normalized"in n&&e.set("normalized",n.normalized.toString()),e}(e);return new SA(n,new LIe(e.size,new SA("value",i)),!1,r)}(n,e,t?jq(t.metadata):void 0)}function jq(n){const e=new Map;for(const t in n)e.set("".concat(t,".string"),JSON.stringify(n[t]));return e}const Uq={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},WIe={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array};class qIe{constructor(e){ve(this,"draco",void 0),ve(this,"decoder",void 0),ve(this,"metadataQuerier",void 0),this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(e,t={}){const i=new this.draco.DecoderBuffer;i.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(t);const r=this.decoder.GetEncodedGeometryType(i),o=r===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let s;switch(r){case this.draco.TRIANGULAR_MESH:s=this.decoder.DecodeBufferToMesh(i,o);break;case this.draco.POINT_CLOUD:s=this.decoder.DecodeBufferToPointCloud(i,o);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!s.ok()||!o.ptr){const f="DRACO decompression failed: ".concat(s.error_msg());throw new Error(f)}const a=this._getDracoLoaderData(o,r,t),c=this._getMeshData(o,a,t),l=function MIe(n){let e=1/0,t=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;const a=n.POSITION?n.POSITION.value:[],c=a&&a.length;for(let l=0;l<c;l+=3){const d=a[l],h=a[l+1],f=a[l+2];e=d<e?d:e,t=h<t?h:t,i=f<i?f:i,r=d>r?d:r,o=h>o?h:o,s=f>s?f:s}return[[e,t,i],[r,o,s]]}(c.attributes),d=function HIe(n,e,t){const i=jq(e.metadata),r=[],o=function GIe(n){const e={};for(const t in n){const i=n[t];e[i.name||"undefined"]=i}return e}(e.attributes);for(const s in n){const c=Bq(s,n[s],o[s]);r.push(c)}if(t){const s=Bq("indices",t);r.push(s)}return new tb(r,i)}(c.attributes,a,c.indices);return{loader:"draco",loaderData:a,header:{vertexCount:o.num_points(),boundingBox:l},...c,schema:d}}finally{this.draco.destroy(i),o&&this.draco.destroy(o)}}_getDracoLoaderData(e,t,i){const r=this._getTopLevelMetadata(e),o=this._getDracoAttributes(e,i);return{geometry_type:t,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:r,attributes:o}}_getDracoAttributes(e,t){const i={};for(let r=0;r<e.num_attributes();r++){const o=this.decoder.GetAttribute(e,r),s=this._getAttributeMetadata(e,r);i[o.unique_id()]={unique_id:o.unique_id(),attribute_type:o.attribute_type(),data_type:o.data_type(),num_components:o.num_components(),byte_offset:o.byte_offset(),byte_stride:o.byte_stride(),normalized:o.normalized(),attribute_index:r,metadata:s};const a=this._getQuantizationTransform(o,t);a&&(i[o.unique_id()].quantization_transform=a);const c=this._getOctahedronTransform(o,t);c&&(i[o.unique_id()].octahedron_transform=c)}return i}_getMeshData(e,t,i){const r=this._getMeshAttributes(t,e,i);if(!r.POSITION)throw new Error("DRACO: No position attribute found.");return e instanceof this.draco.Mesh?"triangle-strip"===i.topology?{topology:"triangle-strip",mode:4,attributes:r,indices:{value:this._getTriangleStripIndices(e),size:1}}:{topology:"triangle-list",mode:5,attributes:r,indices:{value:this._getTriangleListIndices(e),size:1}}:{topology:"point-list",mode:0,attributes:r}}_getMeshAttributes(e,t,i){const r={};for(const o of Object.values(e.attributes)){const s=this._deduceAttributeName(o,i);o.name=s;const{value:a,size:c}=this._getAttributeValues(t,o);r[s]={value:a,size:c,byteOffset:o.byte_offset,byteStride:o.byte_stride,normalized:o.normalized}}return r}_getTriangleListIndices(e){const i=3*e.num_faces(),r=4*i,o=this.draco._malloc(r);try{return this.decoder.GetTrianglesUInt32Array(e,r,o),new Uint32Array(this.draco.HEAPF32.buffer,o,i).slice()}finally{this.draco._free(o)}}_getTriangleStripIndices(e){const t=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,t),function KIe(n){const e=n.size(),t=new Int32Array(e);for(let i=0;i<e;i++)t[i]=n.GetValue(i);return t}(t)}finally{this.draco.destroy(t)}}_getAttributeValues(e,t){const i=WIe[t.data_type],r=t.num_components,s=e.num_points()*r,a=s*i.BYTES_PER_ELEMENT,c=function YIe(n,e){switch(e){case Float32Array:return n.DT_FLOAT32;case Int8Array:return n.DT_INT8;case Int16Array:return n.DT_INT16;case Int32Array:return n.DT_INT32;case Uint8Array:return n.DT_UINT8;case Uint16Array:return n.DT_UINT16;case Uint32Array:return n.DT_UINT32;default:return n.DT_INVALID}}(this.draco,i);let l;const d=this.draco._malloc(a);try{const h=this.decoder.GetAttribute(e,t.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,h,c,a,d),l=new i(this.draco.HEAPF32.buffer,d,s).slice()}finally{this.draco._free(d)}return{value:l,size:r}}_deduceAttributeName(e,t){const i=e.unique_id;for(const[s,a]of Object.entries(t.extraAttributes||{}))if(a===i)return s;const r=e.attribute_type;for(const s in Uq)if(this.draco[s]===r)return Uq[s];const o=t.attributeNameEntry||"name";return e.metadata[o]?e.metadata[o].string:"CUSTOM_ATTRIBUTE_".concat(i)}_getTopLevelMetadata(e){const t=this.decoder.GetMetadata(e);return this._getDracoMetadata(t)}_getAttributeMetadata(e,t){const i=this.decoder.GetAttributeMetadata(e,t);return this._getDracoMetadata(i)}_getDracoMetadata(e){if(!e||!e.ptr)return{};const t={},i=this.metadataQuerier.NumEntries(e);for(let r=0;r<i;r++){const o=this.metadataQuerier.GetEntryName(e,r);t[o]=this._getDracoMetadataField(e,o)}return t}_getDracoMetadataField(e,t){const i=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,t,i);const r=function XIe(n){const e=n.size(),t=new Int32Array(e);for(let i=0;i<e;i++)t[i]=n.GetValue(i);return t}(i);return{int:this.metadataQuerier.GetIntEntry(e,t),string:this.metadataQuerier.GetStringEntry(e,t),double:this.metadataQuerier.GetDoubleEntry(e,t),intArray:r}}finally{this.draco.destroy(i)}}_disableAttributeTransforms(e){const{quantizedAttributes:t=[],octahedronAttributes:i=[]}=e,r=[...t,...i];for(const o of r)this.decoder.SkipAttributeTransform(this.draco[o])}_getQuantizationTransform(e,t){const{quantizedAttributes:i=[]}=t,r=e.attribute_type();if(i.map(s=>this.decoder[s]).includes(r)){const s=new this.draco.AttributeQuantizationTransform;try{if(s.InitFromAttribute(e))return{quantization_bits:s.quantization_bits(),range:s.range(),min_values:new Float32Array([1,2,3]).map(a=>s.min_value(a))}}finally{this.draco.destroy(s)}}return null}_getOctahedronTransform(e,t){const{octahedronAttributes:i=[]}=t,r=e.attribute_type();if(i.map(s=>this.decoder[s]).includes(r)){const s=new this.draco.AttributeQuantizationTransform;try{if(s.InitFromAttribute(e))return{quantization_bits:s.quantization_bits()}}finally{this.draco.destroy(s)}}return null}}const TA="1.4.1",JIe="https://www.gstatic.com/draco/versioned/decoders/".concat(TA,"/draco_decoder.js"),QIe="https://www.gstatic.com/draco/versioned/decoders/".concat(TA,"/draco_wasm_wrapper.js"),ZIe="https://www.gstatic.com/draco/versioned/decoders/".concat(TA,"/draco_decoder.wasm");let aw;function wF(){return wF=D(function*(n){const e=n.modules||{};return aw=e.draco3d?aw||e.draco3d.createDecoderModule({}).then(t=>({draco:t})):aw||function nDe(n){return EF.apply(this,arguments)}(n),yield aw}),wF.apply(this,arguments)}function EF(){return EF=D(function*(n){let e,t;return"js"===(n.draco&&n.draco.decoderType)?e=yield em(JIe,"draco",n):[e,t]=yield Promise.all([yield em(QIe,"draco",n),yield em(ZIe,"draco",n)]),e=e||globalThis.DracoDecoderModule,yield function iDe(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(i=>{n({...t,onModuleLoaded:r=>i({draco:r})})})}(e,t)}),EF.apply(this,arguments)}"https://raw.githubusercontent.com/google/draco/".concat(TA,"/javascript/draco_encoder.js");const SF={...Cq,parse:function oDe(n,e){return AF.apply(this,arguments)}};function AF(){return AF=D(function*(n,e){const{draco:t}=yield function tDe(n){return wF.apply(this,arguments)}(e),i=new qIe(t);try{return i.parseSync(n,e?.draco)}finally{i.destroy()}}),AF.apply(this,arguments)}function Vq(n){const{buffer:e,size:t,count:i}=function aDe(n){let e=n,t=1,i=0;return n&&n.value&&(e=n.value,t=n.size||1),e&&(ArrayBuffer.isView(e)||(e=function cDe(n,e,t=!1){return n?Array.isArray(n)?new e(n):!t||n instanceof e?n:new e(n):null}(e,Float32Array)),i=e.length/t),{buffer:e,size:t,count:i}}(n);return{value:e,size:t,byteOffset:0,count:i,type:yq(t),componentType:vq(e)}}const nm="KHR_draco_mesh_compression",lDe=nm;function dDe(n,e,t){const i=new ul(n);for(const r of zq(i))i.getObjectExtension(r,nm)}function uDe(n,e,t){return TF.apply(this,arguments)}function TF(){return TF=D(function*(n,e,t){var i;if(null==e||null===(i=e.gltf)||void 0===i||!i.decompressMeshes)return;const r=new ul(n),o=[];for(const s of zq(r))r.getObjectExtension(s,nm)&&o.push(fDe(r,s,e,t));yield Promise.all(o),r.removeExtension(nm)}),TF.apply(this,arguments)}function hDe(n,e={}){const t=new ul(n);for(const i of t.json.meshes||[])pDe(i),t.addRequiredExtension(nm)}function fDe(n,e,t,i){return MF.apply(this,arguments)}function MF(){return MF=D(function*(n,e,t,i){const r=n.getObjectExtension(e,nm);if(!r)return;const o=n.getTypedArrayForBufferView(r.bufferView),s=mq(o.buffer,o.byteOffset),{parse:a}=i,c={...t};delete c["3d-tiles"];const l=yield a(s,SF,c,i),d=function sDe(n){const e={};for(const t in n)if("indices"!==t){const r=Vq(n[t]);e[t]=r}return e}(l.attributes);for(const[h,f]of Object.entries(d))if(h in e.attributes){const g=n.getAccessor(e.attributes[h]);null!=g&&g.min&&null!=g&&g.max&&(f.min=g.min,f.max=g.max)}e.attributes=d,l.indices&&(e.indices=Vq(l.indices)),function mDe(n){if(!n.attributes&&Object.keys(n.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}(e)}),MF.apply(this,arguments)}function pDe(n,e,t=4,i,r){var o;if(!i.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const s=i.DracoWriter.encodeSync({attributes:n}),a=null==r||null===(o=r.parseSync)||void 0===o?void 0:o.call(r,{attributes:n}),c=i._addFauxAttributes(a.attributes),l=i.addBufferView(s);return{primitives:[{attributes:c,mode:t,extensions:{[nm]:{bufferView:l,attributes:c}}}]}}function*zq(n){for(const e of n.json.meshes||[])for(const t of e.primitives)yield t}const im="KHR_lights_punctual",gDe=im;function _De(n){return IF.apply(this,arguments)}function IF(){return IF=D(function*(n){const e=new ul(n),{json:t}=e,i=e.getExtension(im);i&&(e.json.lights=i.lights,e.removeExtension(im));for(const r of t.nodes||[]){const o=e.getObjectExtension(r,im);o&&(r.light=o.light),e.removeObjectExtension(r,im)}}),IF.apply(this,arguments)}function bDe(n){return DF.apply(this,arguments)}function DF(){return DF=D(function*(n){const e=new ul(n),{json:t}=e;if(t.lights){const i=e.addExtension(im);Lc(!i.lights),i.lights=t.lights,delete t.lights}if(e.json.lights){for(const i of e.json.lights)e.addObjectExtension(i.node,im,i);delete e.json.lights}}),DF.apply(this,arguments)}const lw="KHR_materials_unlit",yDe=lw;function vDe(n){return RF.apply(this,arguments)}function RF(){return RF=D(function*(n){const e=new ul(n),{json:t}=e;e.removeExtension(lw);for(const i of t.materials||[])i.extensions&&i.extensions.KHR_materials_unlit&&(i.unlit=!0),e.removeObjectExtension(i,lw)}),RF.apply(this,arguments)}function wDe(n){const e=new ul(n),{json:t}=e;if(e.materials)for(const i of t.materials||[])i.unlit&&(delete i.unlit,e.addObjectExtension(i,lw,{}),e.addExtension(lw))}const dw="KHR_techniques_webgl",xDe=dw;function EDe(n){return OF.apply(this,arguments)}function OF(){return OF=D(function*(n){const e=new ul(n),{json:t}=e,i=e.getExtension(dw);if(i){const r=function SDe(n,e){const{programs:t=[],shaders:i=[],techniques:r=[]}=n,o=new TextDecoder;return i.forEach(s=>{if(!Number.isFinite(s.bufferView))throw new Error("KHR_techniques_webgl: no shader code");s.code=o.decode(e.getTypedArrayForBufferView(s.bufferView))}),t.forEach(s=>{s.fragmentShader=i[s.fragmentShader],s.vertexShader=i[s.vertexShader]}),r.forEach(s=>{s.program=t[s.program]}),r}(i,e);for(const o of t.materials||[]){const s=e.getObjectExtension(o,dw);s&&(o.technique=Object.assign({},s,r[s.technique]),o.technique.values=ADe(o.technique,e)),e.removeObjectExtension(o,dw)}e.removeExtension(dw)}}),OF.apply(this,arguments)}function CDe(n,e){return kF.apply(this,arguments)}function kF(){return(kF=D(function*(n,e){})).apply(this,arguments)}function ADe(n,e){const t=Object.assign({},n.values);return Object.keys(n.uniforms||{}).forEach(i=>{n.uniforms[i].value&&!(i in t)&&(t[i]=n.uniforms[i].value)}),Object.keys(t).forEach(i=>{"object"==typeof t[i]&&void 0!==t[i].index&&(t[i].texture=e.getTexture(t[i].index))}),t}const Hq=[Z,A,Y,G,X,_,x];function PF(){return PF=D(function*(n,e={},t){const i=Hq.filter(o=>Gq(o.name,e));for(const o of i){var r;yield null===(r=o.decode)||void 0===r?void 0:r.call(o,n,e,t)}}),PF.apply(this,arguments)}function Gq(n,e){var t;const i=(null==e||null===(t=e.gltf)||void 0===t?void 0:t.excludeExtensions)||{};return!(n in i&&!i[n])}const NF="KHR_binary_glTF",Wq={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},DDe={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"};class RDe{constructor(){ve(this,"idToIndexMap",{animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}),ve(this,"json",void 0)}normalize(e,t){this.json=e.json;const i=e.json;switch(i.asset&&i.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(i.asset.version))}if(!t.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(i),this._convertTopLevelObjectsToArrays(i),function IDe(n){const e=new ul(n),{json:t}=e;for(const i of t.images||[]){const r=e.getObjectExtension(i,NF);r&&Object.assign(i,r),e.removeObjectExtension(i,NF)}t.buffers&&t.buffers[0]&&delete t.buffers[0].uri,e.removeExtension(NF)}(e),this._convertObjectIdsToArrayIndices(i),this._updateObjects(i),this._updateMaterial(i)}_addAsset(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(e){for(const t in Wq)this._convertTopLevelObjectToArray(e,t)}_convertTopLevelObjectToArray(e,t){const i=e[t];if(i&&!Array.isArray(i)){e[t]=[];for(const r in i){const o=i[r];o.id=o.id||r;const s=e[t].length;e[t].push(o),this.idToIndexMap[t][r]=s}}}_convertObjectIdsToArrayIndices(e){for(const t in Wq)this._convertIdsToIndices(e,t);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));for(const t of e.textures)this._convertTextureIds(t);for(const t of e.meshes)this._convertMeshIds(t);for(const t of e.nodes)this._convertNodeIds(t);for(const t of e.scenes)this._convertSceneIds(t)}_convertTextureIds(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}_convertMeshIds(e){for(const t of e.primitives){const{attributes:i,indices:r,material:o}=t;for(const s in i)i[s]=this._convertIdToIndex(i[s],"accessor");r&&(t.indices=this._convertIdToIndex(r,"accessor")),o&&(t.material=this._convertIdToIndex(o,"material"))}}_convertNodeIds(e){e.children&&(e.children=e.children.map(t=>this._convertIdToIndex(t,"node"))),e.meshes&&(e.meshes=e.meshes.map(t=>this._convertIdToIndex(t,"mesh")))}_convertSceneIds(e){e.nodes&&(e.nodes=e.nodes.map(t=>this._convertIdToIndex(t,"node")))}_convertIdsToIndices(e,t){e[t]||(console.warn("gltf v1: json doesn't contain attribute ".concat(t)),e[t]=[]);for(const i of e[t])for(const r in i){const s=this._convertIdToIndex(i[r],r);i[r]=s}}_convertIdToIndex(e,t){const i=DDe[t];if(i in this.idToIndexMap){const r=this.idToIndexMap[i][e];if(!Number.isFinite(r))throw new Error("gltf v1: failed to resolve ".concat(t," with id ").concat(e));return r}return e}_updateObjects(e){for(const t of this.json.buffers)delete t.type}_updateMaterial(e){for(const o of e.materials){var t,i,r;o.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const s=(null===(t=o.values)||void 0===t?void 0:t.tex)||(null===(i=o.values)||void 0===i?void 0:i.texture2d_0)||(null===(r=o.values)||void 0===r?void 0:r.diffuseTex),a=e.textures.findIndex(c=>c.id===s);-1!==a&&(o.pbrMetallicRoughness.baseColorTexture={index:a})}}}const kDe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},PDe={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},NDe={magFilter:10240,minFilter:10241,wrapS:10242,wrapT:10243},FDe={10240:9729,10241:9986,10242:10497,10243:10497};class jDe{constructor(){ve(this,"baseUri",""),ve(this,"json",{}),ve(this,"buffers",[]),ve(this,"images",[])}postProcess(e,t={}){const{json:i,buffers:r=[],images:o=[],baseUri:s=""}=e;return Lc(i),this.baseUri=s,this.json=i,this.buffers=r,this.images=o,this._resolveTree(this.json,t),this.json}_resolveTree(e,t={}){e.bufferViews&&(e.bufferViews=e.bufferViews.map((i,r)=>this._resolveBufferView(i,r))),e.images&&(e.images=e.images.map((i,r)=>this._resolveImage(i,r))),e.samplers&&(e.samplers=e.samplers.map((i,r)=>this._resolveSampler(i,r))),e.textures&&(e.textures=e.textures.map((i,r)=>this._resolveTexture(i,r))),e.accessors&&(e.accessors=e.accessors.map((i,r)=>this._resolveAccessor(i,r))),e.materials&&(e.materials=e.materials.map((i,r)=>this._resolveMaterial(i,r))),e.meshes&&(e.meshes=e.meshes.map((i,r)=>this._resolveMesh(i,r))),e.nodes&&(e.nodes=e.nodes.map((i,r)=>this._resolveNode(i,r))),e.skins&&(e.skins=e.skins.map((i,r)=>this._resolveSkin(i,r))),e.scenes&&(e.scenes=e.scenes.map((i,r)=>this._resolveScene(i,r))),void 0!==e.scene&&(e.scene=e.scenes[this.json.scene])}getScene(e){return this._get("scenes",e)}getNode(e){return this._get("nodes",e)}getSkin(e){return this._get("skins",e)}getMesh(e){return this._get("meshes",e)}getMaterial(e){return this._get("materials",e)}getAccessor(e){return this._get("accessors",e)}getCamera(e){return null}getTexture(e){return this._get("textures",e)}getSampler(e){return this._get("samplers",e)}getImage(e){return this._get("images",e)}getBufferView(e){return this._get("bufferViews",e)}getBuffer(e){return this._get("buffers",e)}_get(e,t){if("object"==typeof t)return t;const i=this.json[e]&&this.json[e][t];return i||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),i}_resolveScene(e,t){return e.id=e.id||"scene-".concat(t),e.nodes=(e.nodes||[]).map(i=>this.getNode(i)),e}_resolveNode(e,t){return e.id=e.id||"node-".concat(t),e.children&&(e.children=e.children.map(i=>this.getNode(i))),void 0!==e.mesh?e.mesh=this.getMesh(e.mesh):void 0!==e.meshes&&e.meshes.length&&(e.mesh=e.meshes.reduce((i,r)=>{const o=this.getMesh(r);return i.id=o.id,i.primitives=i.primitives.concat(o.primitives),i},{primitives:[]})),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin)),e}_resolveSkin(e,t){return e.id=e.id||"skin-".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices),e}_resolveMesh(e,t){return e.id=e.id||"mesh-".concat(t),e.primitives&&(e.primitives=e.primitives.map(i=>{const r=(i={...i}).attributes;i.attributes={};for(const o in r)i.attributes[o]=this.getAccessor(r[o]);return void 0!==i.indices&&(i.indices=this.getAccessor(i.indices)),void 0!==i.material&&(i.material=this.getMaterial(i.material)),i})),e}_resolveMaterial(e,t){if(e.id=e.id||"material-".concat(t),e.normalTexture&&(e.normalTexture={...e.normalTexture},e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlustionTexture={...e.occlustionTexture},e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emmisiveTexture={...e.emmisiveTexture},e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.emissiveFactor||(e.emissiveFactor=e.emmisiveTexture?[1,1,1]:[0,0,0]),e.pbrMetallicRoughness){e.pbrMetallicRoughness={...e.pbrMetallicRoughness};const i=e.pbrMetallicRoughness;i.baseColorTexture&&(i.baseColorTexture={...i.baseColorTexture},i.baseColorTexture.texture=this.getTexture(i.baseColorTexture.index)),i.metallicRoughnessTexture&&(i.metallicRoughnessTexture={...i.metallicRoughnessTexture},i.metallicRoughnessTexture.texture=this.getTexture(i.metallicRoughnessTexture.index))}return e}_resolveAccessor(e,t){if(e.id=e.id||"accessor-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=function LDe(n){return PDe[n]}(e.componentType),e.components=function BDe(n){return kDe[n]}(e.type),e.bytesPerElement=e.bytesPerComponent*e.components,e.bufferView){const i=e.bufferView.buffer,{ArrayType:r,byteLength:o}=wq(e,e.bufferView),s=(e.bufferView.byteOffset||0)+(e.byteOffset||0)+i.byteOffset;let a=i.arrayBuffer.slice(s,s+o);e.bufferView.byteStride&&(a=this._getValueFromInterleavedBuffer(i,s,e.bufferView.byteStride,e.bytesPerElement,e.count)),e.value=new r(a)}return e}_getValueFromInterleavedBuffer(e,t,i,r,o){const s=new Uint8Array(o*r);for(let a=0;a<o;a++){const c=t+a*i;s.set(new Uint8Array(e.arrayBuffer.slice(c,c+r)),a*r)}return s.buffer}_resolveTexture(e,t){return e.id=e.id||"texture-".concat(t),e.sampler="sampler"in e?this.getSampler(e.sampler):FDe,e.source=this.getImage(e.source),e}_resolveSampler(e,t){e.id=e.id||"sampler-".concat(t),e.parameters={};for(const i in e){const r=this._enumSamplerParameter(i);void 0!==r&&(e.parameters[r]=e[i])}return e}_enumSamplerParameter(e){return NDe[e]}_resolveImage(e,t){e.id=e.id||"image-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));const i=this.images[t];return i&&(e.image=i),e}_resolveBufferView(e,t){const i=e.buffer,r={id:"bufferView-".concat(t),...e,buffer:this.buffers[i]};let s=this.buffers[i].byteOffset||0;return"byteOffset"in e&&(s+=e.byteOffset),r.data=new Uint8Array(this.buffers[i].arrayBuffer,s,e.byteLength),r}_resolveCamera(e,t){return e.id=e.id||"camera-".concat(t),e}}const $q=1735152710,FF=12,MA=8,VDe=1313821514,zDe=5130562,HDe=0,GDe=1,WDe=0,nb=!0;function LF(n,e,t,i){const r=new Uint8Array(e.buffer,t,i),s=new TextDecoder("utf8").decode(r);return n.json=JSON.parse(s),sw(i,4)}function BF(n,e,t,i){return n.header.hasBinChunk=!0,n.binChunks.push({byteOffset:t,byteLength:i,arrayBuffer:e.buffer}),sw(i,4)}function jF(){return jF=D(function*(n,e,t=0,i,r){var o,s,a,c;(function ZDe(n,e,t,i){if(i.uri&&(n.baseUri=i.uri),e instanceof ArrayBuffer&&!function qDe(n,e=0,t={}){const i=new DataView(n),{magic:r=$q}=t,o=i.getUint32(e,!1);return o===r||o===$q}(e,t,i)&&(e=(new TextDecoder).decode(e)),"string"==typeof e)n.json=function eIe(n){try{return JSON.parse(n)}catch{throw new Error('Failed to parse JSON from data starting with "'.concat(function ZMe(n,e=5){return"string"==typeof n?n.slice(0,e):ArrayBuffer.isView(n)?pq(n.buffer,n.byteOffset,e):n instanceof ArrayBuffer?pq(n,0,e):""}(n),'"'))}}(e);else if(e instanceof ArrayBuffer){const s={};t=function YDe(n,e,t=0,i={}){const r=new DataView(e),o=function $De(n,e=0){return"".concat(String.fromCharCode(n.getUint8(e+0))).concat(String.fromCharCode(n.getUint8(e+1))).concat(String.fromCharCode(n.getUint8(e+2))).concat(String.fromCharCode(n.getUint8(e+3)))}(r,t+0),s=r.getUint32(t+4,nb),a=r.getUint32(t+8,nb);switch(Object.assign(n,{header:{byteOffset:t,byteLength:a,hasBinChunk:!1},type:o,version:s,json:{},binChunks:[]}),t+=FF,n.version){case 1:return function XDe(n,e,t){tm(n.header.byteLength>FF+MA);const i=e.getUint32(t+0,nb),r=e.getUint32(t+4,nb);return t+=MA,tm(r===WDe),LF(n,e,t,i),(t+=i)+BF(n,e,t,n.header.byteLength)}(n,r,t);case 2:return function KDe(n,e,t,i){return tm(n.header.byteLength>FF+MA),function JDe(n,e,t,i){for(;t+8<=n.header.byteLength;){const r=e.getUint32(t+0,nb),o=e.getUint32(t+4,nb);switch(t+=MA,o){case VDe:LF(n,e,t,r);break;case zDe:BF(n,e,t,r);break;case HDe:i.strict||LF(n,e,t,r);break;case GDe:i.strict||BF(n,e,t,r)}t+=sw(r,4)}}(n,e,t,i),t+n.header.byteLength}(n,r,t,{});default:throw new Error("Invalid GLB version ".concat(n.version,". Only supports v1 and v2."))}}(s,e,t,i.glb),Lc("glTF"===s.type,"Invalid GLB magic string ".concat(s.type)),n._glb=s,n.json=s.json}else Lc(!1,"GLTF: must be ArrayBuffer or string");if(n.buffers=new Array((n.json.buffers||[]).length).fill(null),n._glb&&n._glb.header.hasBinChunk){const{binChunks:s}=n._glb;n.buffers[0]={arrayBuffer:s[0].arrayBuffer,byteOffset:s[0].byteOffset,byteLength:s[0].byteLength}}n.images=new Array((n.json.images||[]).length).fill({})})(n,e,t,i),function ODe(n,e={}){(new RDe).normalize(n,e)}(n,{normalize:null==i||null===(o=i.gltf)||void 0===o?void 0:o.normalize}),function TDe(n,e={},t){const i=Hq.filter(o=>Gq(o.name,e));for(const o of i){var r;null===(r=o.preprocess)||void 0===r||r.call(o,n,e,t)}}(n,i,r);const l=[];if(null!=i&&null!==(s=i.gltf)&&void 0!==s&&s.loadBuffers&&n.json.buffers&&(yield function eRe(n,e,t){return UF.apply(this,arguments)}(n,i,r)),null!=i&&null!==(a=i.gltf)&&void 0!==a&&a.loadImages){const h=function tRe(n,e,t){return VF.apply(this,arguments)}(n,i,r);l.push(h)}const d=function MDe(n){return PF.apply(this,arguments)}(n,i,r);return l.push(d),yield Promise.all(l),null!=i&&null!==(c=i.gltf)&&void 0!==c&&c.postProcess?function UDe(n,e){return(new jDe).postProcess(n,e)}(n,i):n}),jF.apply(this,arguments)}function UF(){return UF=D(function*(n,e,t){const i=n.json.buffers||[];for(let s=0;s<i.length;++s){const a=i[s];if(a.uri){var r,o;const{fetch:c}=t;Lc(c);const l=gq(a.uri,e),d=yield null==t||null===(r=t.fetch)||void 0===r?void 0:r.call(t,l),h=yield null==d||null===(o=d.arrayBuffer)||void 0===o?void 0:o.call(d);n.buffers[s]={arrayBuffer:h,byteOffset:0,byteLength:h.byteLength},delete a.uri}else null===n.buffers[s]&&(n.buffers[s]={arrayBuffer:new ArrayBuffer(a.byteLength),byteOffset:0,byteLength:a.byteLength})}}),UF.apply(this,arguments)}function VF(){return VF=D(function*(n,e,t){const i=function nRe(n){const e=new Set,t=n.json.textures||[];for(const i of t)void 0!==i.source&&e.add(i.source);return Array.from(e).sort()}(n),r=n.json.images||[],o=[];for(const s of i)o.push(iRe(n,r[s],s,e,t));return yield Promise.all(o)}),VF.apply(this,arguments)}function iRe(n,e,t,i,r){return zF.apply(this,arguments)}function zF(){return zF=D(function*(n,e,t,i,r){const{fetch:o,parse:s}=r;let a;if(e.uri&&!e.hasOwnProperty("bufferView")){const l=gq(e.uri,i);a=yield(yield o(l)).arrayBuffer()}if(Number.isFinite(e.bufferView)){const l=function _q(n,e,t){const i=n.bufferViews[t];Lc(i);const o=e[i.buffer];return Lc(o),new Uint8Array(o.arrayBuffer,(i.byteOffset||0)+o.byteOffset,i.byteLength)}(n.json,n.buffers,e.bufferView);a=mq(l.buffer,l.byteOffset,l.byteLength)}Lc(a,"glTF image has no data");let c=yield s(a,[QMe,RMe],{mimeType:e.mimeType,basis:i.basis||{format:sq()}},r);c&&c[0]&&(c={compressed:!0,mipmaps:!1,width:c[0].width,height:c[0].height,data:c[0]}),n.images=n.images||[],n.images[t]=c}),zF.apply(this,arguments)}const ib={name:"glTF",id:"gltf",module:"gltf",version:"3.2.13",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:function rRe(n){return HF.apply(this,arguments)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}};function HF(){return HF=D(function*(n,e={},t){(e={...ib.options,...e}).gltf={...ib.options.gltf,...e.gltf};const{byteOffset:i=0}=e;return yield function QDe(n,e){return jF.apply(this,arguments)}({},n,i,e,t)}),HF.apply(this,arguments)}function GF(){return GF=D(function*(n){const e=[];return n.scenes.forEach(t=>{t.traverse(i=>{Object.values(i.model.getUniforms()).forEach(r=>{!1===r.loaded&&e.push(r)})})}),yield function sRe(n){return WF.apply(this,arguments)}(()=>e.some(t=>!t.loaded))}),GF.apply(this,arguments)}function WF(){return WF=D(function*(n){for(;n();)yield new Promise(e=>requestAnimationFrame(e))}),WF.apply(this,arguments)}const qq=[255,255,255,255],lRe={scenegraph:{type:"object",value:null,async:!0},getScene:n=>n&&n.scenes?"object"==typeof n.scene?n.scene:n.scenes[n.scene||0]:n,getAnimator:n=>n&&n.animator,_animations:null,sizeScale:{type:"number",value:1,min:0},sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:qq},_lighting:"flat",_imageBasedLightingEnvironment:null,getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},loaders:[ib]};class $F extends Zp{constructor(...e){super(...e),ve(this,"state",void 0)}getShaders(){const e=[uA,hA];return"pbr"===this.props._lighting&&e.push(B7),{vs:"#version 300 es\n\n// Instance attributes\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\n\n// Uniforms\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform mat4 sceneModelMatrix;\nuniform bool composeModelMatrix;\n\n// Attributes\nin vec4 POSITION;\n\n#ifdef HAS_UV\n  in vec2 TEXCOORD_0;\n#endif\n\n#ifdef MODULE_PBR\n  #ifdef HAS_NORMALS\n    in vec4 NORMAL;\n  #endif\n#endif\n\n// Varying\nout vec4 vColor;\n\n// MODULE_PBR contains all the varying definitions needed\n#ifndef MODULE_PBR\n  #ifdef HAS_UV\n    out vec2 vTEXCOORD_0;\n  #endif\n#endif\n\n// Main\nvoid main(void) {\n  #if defined(HAS_UV) && !defined(MODULE_PBR)\n    vTEXCOORD_0 = TEXCOORD_0;\n    geometry.uv = vTEXCOORD_0;\n  #endif\n\n  geometry.worldPosition = instancePositions;\n  geometry.pickingColor = instancePickingColors;\n\n  vec3 normal = vec3(0.0, 0.0, 1.0);\n  #ifdef MODULE_PBR\n    #ifdef HAS_NORMALS\n      normal = instanceModelMatrix * (sceneModelMatrix * vec4(NORMAL.xyz, 0.0)).xyz;\n    #endif\n  #endif\n\n  float originalSize = project_size_to_pixel(sizeScale);\n  float clampedSize = clamp(originalSize, sizeMinPixels, sizeMaxPixels);\n\n  vec3 pos = (instanceModelMatrix * (sceneModelMatrix * POSITION).xyz) * sizeScale * (clampedSize / originalSize) + instanceTranslation;\n  if(composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    // using instancePositions as world coordinates\n    // when using globe mode, this branch does not re-orient the model to align with the surface of the earth\n    // call project_normal before setting position to avoid rotation\n    geometry.normal = project_normal(normal);\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, geometry.position);\n    geometry.normal = project_normal(normal);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  #ifdef MODULE_PBR\n    // set PBR data\n    pbr_vPosition = geometry.position.xyz;\n    #ifdef HAS_NORMALS\n      pbr_vNormal = geometry.normal;\n    #endif\n\n    #ifdef HAS_UV\n      pbr_vUV = TEXCOORD_0;\n    #else\n      pbr_vUV = vec2(0., 0.);\n    #endif\n    geometry.uv = pbr_vUV;\n  #endif\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n\n// Uniforms\nuniform float opacity;\n\n// Varying\nin vec4 vColor;\n\nout vec4 fragmentColor;\n\n// MODULE_PBR contains all the varying definitions needed\n#ifndef MODULE_PBR\n  #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n    in vec2 vTEXCOORD_0;\n    uniform sampler2D u_BaseColorSampler;\n  #endif\n#endif\n\nvoid main(void) {\n  #ifdef MODULE_PBR\n    fragmentColor = vColor * pbr_filterColor(vec4(0));\n    geometry.uv = pbr_vUV;\n  #else\n    #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n      fragmentColor = vColor * texture2D(u_BaseColorSampler, vTEXCOORD_0);\n      geometry.uv = vTEXCOORD_0;\n    #else\n      fragmentColor = vColor;\n    #endif\n  #endif\n\n  fragmentColor.a *= opacity;\n  DECKGL_FILTER_COLOR(fragmentColor, geometry);\n}\n",modules:e}}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),accessor:"getPosition",transition:!0},instanceColors:{type:5121,size:this.props.colorFormat.length,accessor:"getColor",normalized:!0,defaultValue:qq,transition:!0},instanceModelMatrix:N7})}updateState(e){super.updateState(e);const{props:t,oldProps:i}=e;t.scenegraph!==i.scenegraph?this._updateScenegraph():t._animations!==i._animations&&this._applyAnimationsProp(this.state.scenegraph,this.state.animator,t._animations)}finalizeState(e){super.finalizeState(e),this._deleteScenegraph()}_updateScenegraph(){const e=this.props,{gl:t}=this.context;let i=null;if(e.scenegraph instanceof Q_)i={scenes:[e.scenegraph]};else if(e.scenegraph&&!e.scenegraph.gltf){const a=e.scenegraph,c=function cMe(n,e,t){const i=new aMe(n,t);return{scenes:i.instantiate(e),animator:i.createAnimator()}}(t,a,this._getModelOptions());i={gltf:a,...c},function oRe(n){return GF.apply(this,arguments)}(c).then(()=>this.setNeedsRedraw())}else e.scenegraph&&(zi.deprecated("ScenegraphLayer.props.scenegraph","Use GLTFLoader instead of GLTFScenegraphLoader")(),i=e.scenegraph);const r={layer:this,gl:t},o=e.getScene(i,r),s=e.getAnimator(i,r);o instanceof Q_?(this._deleteScenegraph(),this._applyAllAttributes(o),this._applyAnimationsProp(o,s,e._animations),this.setState({scenegraph:o,animator:s})):null!==o&&zi.warn("invalid scenegraph:",o)()}_applyAllAttributes(e){if(this.state.attributesAvailable){const t=this.getAttributeManager().getAttributes();e.traverse(i=>{this._setModelAttributes(i.model,t)})}}_applyAnimationsProp(e,t,i){if(!e||!t||!i)return;const r=t.getAnimations();Object.keys(i).sort().forEach(o=>{const s=i[o];if("*"===o)r.forEach(a=>{Object.assign(a,s)});else if(Number.isFinite(Number(o))){const a=Number(o);a>=0&&a<r.length?Object.assign(r[a],s):zi.warn("animation ".concat(o," not found"))()}else{const a=r.find(({name:c})=>c===o);a?Object.assign(a,s):zi.warn("animation ".concat(o," not found"))()}})}_deleteScenegraph(){const{scenegraph:e}=this.state;e instanceof Q_&&e.delete()}_getModelOptions(){const{_imageBasedLightingEnvironment:e}=this.props;let t=null;return e&&(t="function"==typeof e?e({gl:this.context.gl,layer:this}):e),{gl:this.context.gl,waitForFullLoad:!0,imageBasedLightingEnvironment:t,modelOptions:{isInstanced:!0,transpileToGLSL100:!Pi(this.context.gl),...this.getShaders()},useTangents:!1}}updateAttributes(e){this.setState({attributesAvailable:!0}),this.state.scenegraph&&this.state.scenegraph.traverse(t=>{this._setModelAttributes(t.model,e)})}draw({moduleParameters:e=null,parameters:t={},context:i}){if(!this.state.scenegraph)return;this.props._animations&&this.state.animator&&(this.state.animator.animate(i.timeline.getTime()),this.setNeedsRedraw());const{viewport:r}=this.context,{sizeScale:o,sizeMinPixels:s,sizeMaxPixels:a,opacity:c,coordinateSystem:l}=this.props,d=this.getNumInstances();this.state.scenegraph.traverse((h,{worldMatrix:f})=>{h.model.setInstanceCount(d),h.updateModuleSettings(e),h.draw({parameters:t,uniforms:{sizeScale:o,opacity:c,sizeMinPixels:s,sizeMaxPixels:a,composeModelMatrix:F7(r,l),sceneModelMatrix:f,u_Camera:h.model.getUniforms().project_uCameraPosition}})})}}ve($F,"defaultProps",lRe),ve($F,"layerName","ScenegraphLayer");class dRe extends df{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=lc("sphere-geometry")}=e,{indices:i,attributes:r}=function uRe(n){const{nlat:e=10,nlong:t=10}=n;let{radius:i=1}=n;const s=Math.PI-0,l=2*Math.PI-0,d=(e+1)*(t+1);if("number"==typeof i){const L=i;i=(H,le,se,Pe,$e)=>L}const h=new Float32Array(3*d),f=new Float32Array(3*d),m=new Float32Array(2*d),v=new(d>65535?Uint32Array:Uint16Array)(e*t*6);for(let L=0;L<=e;L++)for(let H=0;H<=t;H++){const le=H/t,se=L/e,Pe=H+L*(t+1),$e=2*Pe,ct=3*Pe,pt=l*le,tt=s*se,yt=Math.sin(pt),Pt=Math.cos(pt),Gt=Math.sin(tt),Dt=Pt*Gt,Jt=Math.cos(tt),xt=yt*Gt,Xt=i(Dt,Jt,xt,le,se);h[ct+0]=Xt*Dt,h[ct+1]=Xt*Jt,h[ct+2]=Xt*xt,f[ct+0]=Dt,f[ct+1]=Jt,f[ct+2]=xt,m[$e+0]=le,m[$e+1]=1-se}const E=t+1;for(let L=0;L<t;L++)for(let H=0;H<e;H++){const le=6*(L*e+H);v[le+0]=H*E+L,v[le+1]=H*E+L+1,v[le+2]=(H+1)*E+L,v[le+3]=(H+1)*E+L,v[le+4]=H*E+L+1,v[le+5]=(H+1)*E+L+1}return{indices:{size:1,value:v},attributes:{POSITION:{size:3,value:h},NORMAL:{size:3,value:f},TEXCOORD_0:{size:2,value:m}}}}(e);super({...e,id:t,indices:i,attributes:{...r,...e.attributes}})}}const hRe={x:[2,0,1],y:[0,1,2],z:[1,2,0]};class Yq extends df{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=lc("truncated-code-geometry")}=e,{indices:i,attributes:r}=function fRe(n){const{bottomRadius:e=0,topRadius:t=0,height:i=1,nradial:r=10,nvertical:o=10,verticalAxis:s="y",topCap:a=!1,bottomCap:c=!1}=n,l=(a?2:0)+(c?2:0),d=(r+1)*(o+1+l),h=Math.atan2(e-t,i),f=Math.sin,m=Math.cos,g=Math.PI,v=m(h),E=f(h),L=a?-2:0,H=o+(c?2:0),le=r+1,se=new Uint16Array(r*(o+l)*6),Pe=hRe[s],$e=new Float32Array(3*d),ct=new Float32Array(3*d),pt=new Float32Array(2*d);let tt=0,yt=0;for(let Pt=L;Pt<=H;Pt++){let Dt,Gt=Pt/o,Et=i*Gt;Pt<0?(Et=0,Gt=1,Dt=e):Pt>o?(Et=i,Gt=1,Dt=t):Dt=e+Pt/o*(t-e),(-2===Pt||Pt===o+2)&&(Dt=0,Gt=0),Et-=i/2;for(let Jt=0;Jt<le;Jt++){const xt=f(Jt*g*2/r),Xt=m(Jt*g*2/r);$e[tt+Pe[0]]=xt*Dt,$e[tt+Pe[1]]=Et,$e[tt+Pe[2]]=Xt*Dt,ct[tt+Pe[0]]=Pt<0||Pt>o?0:xt*v,ct[tt+Pe[1]]=Pt<0?-1:Pt>o?1:E,ct[tt+Pe[2]]=Pt<0||Pt>o?0:Xt*v,pt[yt+0]=Jt/r,pt[yt+1]=Gt,yt+=2,tt+=3}}for(let Pt=0;Pt<o+l;Pt++)for(let Gt=0;Gt<r;Gt++){const Et=6*(Pt*r+Gt);se[Et+0]=le*(Pt+0)+0+Gt,se[Et+1]=le*(Pt+0)+1+Gt,se[Et+2]=le*(Pt+1)+1+Gt,se[Et+3]=le*(Pt+0)+0+Gt,se[Et+4]=le*(Pt+1)+1+Gt,se[Et+5]=le*(Pt+1)+0+Gt}return{indices:se,attributes:{POSITION:{size:3,value:$e},NORMAL:{size:3,value:ct},TEXCOORD_0:{size:2,value:pt}}}}(e);super({...e,id:t,indices:i,attributes:{...r,...e.attributes}})}}class pRe extends Yq{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=lc("cone-geometry"),radius:i=1,cap:r=!0}=e;super({...e,id:t,topRadius:0,topCap:!!r,bottomCap:!!r,bottomRadius:i})}}class mRe extends Yq{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=lc("cylinder-geometry"),radius:i=1}=e;super({...e,id:t,bottomRadius:i,topRadius:i})}}const gRe=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),_Re=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),bRe=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),yRe=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]),vRe={POSITION:{size:3,value:new Float32Array(_Re)},NORMAL:{size:3,value:new Float32Array(bRe)},TEXCOORD_0:{size:2,value:new Float32Array(yRe)}};class wRe extends df{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=lc("cube-geometry")}=e;super({...e,id:t,indices:{size:1,value:new Uint16Array(gRe)},attributes:{...vRe,...e.attributes}})}}function IA(n,e,t){e||(e=new jt(jt.IDENTITY));const i=new jt(jt.IDENTITY);if(!n)return!0;if(n.matrix)i.copy(n.matrix);else{if(i.identity(),n.translation&&i.translate(n.translation),n.rotation){const o=new jt(jt.IDENTITY).fromQuaternion(n.rotation);i.multiplyRight(o)}n.scale&&i.scale(n.scale)}const r=new jt(e).multiplyRight(i);if(!1===t(n,r,e))return!1;for(const o of n.nodes||n.children||[])if(!1===IA(o,r,t))return!1;return!0}function Xq(){XW([Cq,ib])}function Kq(n,e){const t=e.nodes?.find(i=>i.name===n);if(t){let i=!1;for(const r of e.scenes)i||IA(r,new jt(jt.IDENTITY),(o,s)=>o!==t||(o.matrix=s,o.translation=void 0,o.rotation=void 0,o.scale=void 0,i=!0,!1));return e.scene={id:n,name:n,nodes:[t]},e.scenes=[e.scene],{scene:e.scene,scenes:e.scenes}}return e}function Jq(n,e){return qF.apply(this,arguments)}function qF(){return qF=D(function*(n,e){const t=n.scenegraph;let i;i=e?e[t]||(e[t]=fetch(t).then(o=>o.blob())):fetch(t);const r=yield J1(i,ib,{DracoLoader:SF,gltf:{decompressMeshes:!0,postProcess:!0}});return r.nodes||console.log("WARNING: Empty Scene",t,r),Kq(n.scenegraphNode,r)}),qF.apply(this,arguments)}function xRe(n,e){return YF.apply(this,arguments)}function YF(){return YF=D(function*(n,e){return Kq(n,yield e)}),YF.apply(this,arguments)}class Vl{constructor(e){void 0===e&&(e=[0,0,0,0,0,0,0,0,0]),this.elements=e}identity(){const e=this.elements;e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1}setZero(){const e=this.elements;e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0}setTrace(e){const t=this.elements;t[0]=e.x,t[4]=e.y,t[8]=e.z}getTrace(e){void 0===e&&(e=new be);const t=this.elements;return e.x=t[0],e.y=t[4],e.z=t[8],e}vmult(e,t){void 0===t&&(t=new be);const i=this.elements,r=e.x,o=e.y,s=e.z;return t.x=i[0]*r+i[1]*o+i[2]*s,t.y=i[3]*r+i[4]*o+i[5]*s,t.z=i[6]*r+i[7]*o+i[8]*s,t}smult(e){for(let t=0;t<this.elements.length;t++)this.elements[t]*=e}mmult(e,t){void 0===t&&(t=new Vl);const i=this.elements,r=e.elements,o=t.elements,s=i[0],a=i[1],c=i[2],l=i[3],d=i[4],h=i[5],f=i[6],m=i[7],g=i[8],v=r[0],E=r[1],L=r[2],H=r[3],le=r[4],se=r[5],Pe=r[6],$e=r[7],ct=r[8];return o[0]=s*v+a*H+c*Pe,o[1]=s*E+a*le+c*$e,o[2]=s*L+a*se+c*ct,o[3]=l*v+d*H+h*Pe,o[4]=l*E+d*le+h*$e,o[5]=l*L+d*se+h*ct,o[6]=f*v+m*H+g*Pe,o[7]=f*E+m*le+g*$e,o[8]=f*L+m*se+g*ct,t}scale(e,t){void 0===t&&(t=new Vl);const i=this.elements,r=t.elements;for(let o=0;3!==o;o++)r[3*o+0]=e.x*i[3*o+0],r[3*o+1]=e.y*i[3*o+1],r[3*o+2]=e.z*i[3*o+2];return t}solve(e,t){void 0===t&&(t=new be);const o=[];let s,a;for(s=0;s<12;s++)o.push(0);for(s=0;s<3;s++)for(a=0;a<3;a++)o[s+4*a]=this.elements[s+3*a];o[3]=e.x,o[7]=e.y,o[11]=e.z;let c=3;const l=c;let d,f;do{if(s=l-c,0===o[s+4*s])for(a=s+1;a<l;a++)if(0!==o[s+4*a]){d=4;do{f=4-d,o[f+4*s]+=o[f+4*a]}while(--d);break}if(0!==o[s+4*s])for(a=s+1;a<l;a++){const m=o[s+4*a]/o[s+4*s];d=4;do{f=4-d,o[f+4*a]=f<=s?0:o[f+4*a]-o[f+4*s]*m}while(--d)}}while(--c);if(t.z=o[11]/o[10],t.y=(o[7]-o[6]*t.z)/o[5],t.x=(o[3]-o[2]*t.z-o[1]*t.y)/o[0],isNaN(t.x)||isNaN(t.y)||isNaN(t.z)||t.x===1/0||t.y===1/0||t.z===1/0)throw`Could not solve equation! Got x=[${t.toString()}], b=[${e.toString()}], A=[${this.toString()}]`;return t}e(e,t,i){if(void 0===i)return this.elements[t+3*e];this.elements[t+3*e]=i}copy(e){for(let t=0;t<e.elements.length;t++)this.elements[t]=e.elements[t];return this}toString(){let e="";for(let i=0;i<9;i++)e+=this.elements[i]+",";return e}reverse(e){void 0===e&&(e=new Vl);const r=ERe;let o,s;for(o=0;o<3;o++)for(s=0;s<3;s++)r[o+6*s]=this.elements[o+3*s];r[3]=1,r[9]=0,r[15]=0,r[4]=0,r[10]=1,r[16]=0,r[5]=0,r[11]=0,r[17]=1;let a=3;const c=a;let l,h;do{if(o=c-a,0===r[o+6*o])for(s=o+1;s<c;s++)if(0!==r[o+6*s]){l=6;do{h=6-l,r[h+6*o]+=r[h+6*s]}while(--l);break}if(0!==r[o+6*o])for(s=o+1;s<c;s++){const f=r[o+6*s]/r[o+6*o];l=6;do{h=6-l,r[h+6*s]=h<=o?0:r[h+6*s]-r[h+6*o]*f}while(--l)}}while(--a);o=2;do{s=o-1;do{const f=r[o+6*s]/r[o+6*o];l=6;do{h=6-l,r[h+6*s]=r[h+6*s]-r[h+6*o]*f}while(--l)}while(s--)}while(--o);o=2;do{const f=1/r[o+6*o];l=6;do{h=6-l,r[h+6*o]=r[h+6*o]*f}while(--l)}while(o--);o=2;do{s=2;do{if(h=r[3+s+6*o],isNaN(h)||h===1/0)throw`Could not reverse! A=[${this.toString()}]`;e.e(o,s,h)}while(s--)}while(o--);return e}setRotationFromQuaternion(e){const t=e.x,i=e.y,r=e.z,o=e.w,s=t+t,a=i+i,c=r+r,l=t*s,d=t*a,h=t*c,f=i*a,m=i*c,g=r*c,v=o*s,E=o*a,L=o*c,H=this.elements;return H[0]=1-(f+g),H[1]=d-L,H[2]=h+E,H[3]=d+L,H[4]=1-(l+g),H[5]=m-v,H[6]=h-E,H[7]=m+v,H[8]=1-(l+f),this}transpose(e){void 0===e&&(e=new Vl);const t=this.elements,i=e.elements;let r;return i[0]=t[0],i[4]=t[4],i[8]=t[8],r=t[1],i[1]=t[3],i[3]=r,r=t[2],i[2]=t[6],i[6]=r,r=t[5],i[5]=t[7],i[7]=r,e}}const ERe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];class be{constructor(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),this.x=e,this.y=t,this.z=i}cross(e,t){void 0===t&&(t=new be);const i=e.x,r=e.y,o=e.z,s=this.x,a=this.y,c=this.z;return t.x=a*o-c*r,t.y=c*i-s*o,t.z=s*r-a*i,t}set(e,t,i){return this.x=e,this.y=t,this.z=i,this}setZero(){this.x=this.y=this.z=0}vadd(e,t){if(!t)return new be(this.x+e.x,this.y+e.y,this.z+e.z);t.x=e.x+this.x,t.y=e.y+this.y,t.z=e.z+this.z}vsub(e,t){if(!t)return new be(this.x-e.x,this.y-e.y,this.z-e.z);t.x=this.x-e.x,t.y=this.y-e.y,t.z=this.z-e.z}crossmat(){return new Vl([0,-this.z,this.y,this.z,0,-this.x,-this.y,this.x,0])}normalize(){const e=this.x,t=this.y,i=this.z,r=Math.sqrt(e*e+t*t+i*i);if(r>0){const o=1/r;this.x*=o,this.y*=o,this.z*=o}else this.x=0,this.y=0,this.z=0;return r}unit(e){void 0===e&&(e=new be);const t=this.x,i=this.y,r=this.z;let o=Math.sqrt(t*t+i*i+r*r);return o>0?(o=1/o,e.x=t*o,e.y=i*o,e.z=r*o):(e.x=1,e.y=0,e.z=0),e}length(){const e=this.x,t=this.y,i=this.z;return Math.sqrt(e*e+t*t+i*i)}lengthSquared(){return this.dot(this)}distanceTo(e){const t=this.x,i=this.y,r=this.z,o=e.x,s=e.y,a=e.z;return Math.sqrt((o-t)*(o-t)+(s-i)*(s-i)+(a-r)*(a-r))}distanceSquared(e){const t=this.x,i=this.y,r=this.z,o=e.x,s=e.y,a=e.z;return(o-t)*(o-t)+(s-i)*(s-i)+(a-r)*(a-r)}scale(e,t){void 0===t&&(t=new be);const r=this.y,o=this.z;return t.x=e*this.x,t.y=e*r,t.z=e*o,t}vmul(e,t){return void 0===t&&(t=new be),t.x=e.x*this.x,t.y=e.y*this.y,t.z=e.z*this.z,t}addScaledVector(e,t,i){return void 0===i&&(i=new be),i.x=this.x+e*t.x,i.y=this.y+e*t.y,i.z=this.z+e*t.z,i}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}isZero(){return 0===this.x&&0===this.y&&0===this.z}negate(e){return void 0===e&&(e=new be),e.x=-this.x,e.y=-this.y,e.z=-this.z,e}tangents(e,t){const i=this.length();if(i>0){const r=CRe,o=1/i;r.set(this.x*o,this.y*o,this.z*o);const s=SRe;Math.abs(r.x)<.9?(s.set(1,0,0),r.cross(s,e)):(s.set(0,1,0),r.cross(s,e)),r.cross(e,t)}else e.set(1,0,0),t.set(0,1,0)}toString(){return`${this.x},${this.y},${this.z}`}toArray(){return[this.x,this.y,this.z]}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}lerp(e,t,i){const r=this.x,o=this.y,s=this.z;i.x=r+(e.x-r)*t,i.y=o+(e.y-o)*t,i.z=s+(e.z-s)*t}almostEquals(e,t){return void 0===t&&(t=1e-6),!(Math.abs(this.x-e.x)>t||Math.abs(this.y-e.y)>t||Math.abs(this.z-e.z)>t)}almostZero(e){return void 0===e&&(e=1e-6),!(Math.abs(this.x)>e||Math.abs(this.y)>e||Math.abs(this.z)>e)}isAntiparallelTo(e,t){return this.negate(Qq),Qq.almostEquals(e,t)}clone(){return new be(this.x,this.y,this.z)}}be.ZERO=new be(0,0,0),be.UNIT_X=new be(1,0,0),be.UNIT_Y=new be(0,1,0),be.UNIT_Z=new be(0,0,1);const CRe=new be,SRe=new be,Qq=new be;class Tr{constructor(e){void 0===e&&(e={}),this.lowerBound=new be,this.upperBound=new be,e.lowerBound&&this.lowerBound.copy(e.lowerBound),e.upperBound&&this.upperBound.copy(e.upperBound)}setFromPoints(e,t,i,r){const o=this.lowerBound,s=this.upperBound,a=i;o.copy(e[0]),a&&a.vmult(o,o),s.copy(o);for(let c=1;c<e.length;c++){let l=e[c];a&&(a.vmult(l,Zq),l=Zq),l.x>s.x&&(s.x=l.x),l.x<o.x&&(o.x=l.x),l.y>s.y&&(s.y=l.y),l.y<o.y&&(o.y=l.y),l.z>s.z&&(s.z=l.z),l.z<o.z&&(o.z=l.z)}return t&&(t.vadd(o,o),t.vadd(s,s)),r&&(o.x-=r,o.y-=r,o.z-=r,s.x+=r,s.y+=r,s.z+=r),this}copy(e){return this.lowerBound.copy(e.lowerBound),this.upperBound.copy(e.upperBound),this}clone(){return(new Tr).copy(this)}extend(e){this.lowerBound.x=Math.min(this.lowerBound.x,e.lowerBound.x),this.upperBound.x=Math.max(this.upperBound.x,e.upperBound.x),this.lowerBound.y=Math.min(this.lowerBound.y,e.lowerBound.y),this.upperBound.y=Math.max(this.upperBound.y,e.upperBound.y),this.lowerBound.z=Math.min(this.lowerBound.z,e.lowerBound.z),this.upperBound.z=Math.max(this.upperBound.z,e.upperBound.z)}overlaps(e){const t=this.lowerBound,i=this.upperBound,r=e.lowerBound,o=e.upperBound;return(r.x<=i.x&&i.x<=o.x||t.x<=o.x&&o.x<=i.x)&&(r.y<=i.y&&i.y<=o.y||t.y<=o.y&&o.y<=i.y)&&(r.z<=i.z&&i.z<=o.z||t.z<=o.z&&o.z<=i.z)}volume(){const e=this.lowerBound,t=this.upperBound;return(t.x-e.x)*(t.y-e.y)*(t.z-e.z)}contains(e){const t=this.lowerBound,i=this.upperBound,r=e.lowerBound,o=e.upperBound;return t.x<=r.x&&i.x>=o.x&&t.y<=r.y&&i.y>=o.y&&t.z<=r.z&&i.z>=o.z}getCorners(e,t,i,r,o,s,a,c){const l=this.lowerBound,d=this.upperBound;e.copy(l),t.set(d.x,l.y,l.z),i.set(d.x,d.y,l.z),r.set(l.x,d.y,d.z),o.set(d.x,l.y,d.z),s.set(l.x,d.y,l.z),a.set(l.x,l.y,d.z),c.copy(d)}toLocalFrame(e,t){const i=eY;this.getCorners(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]);for(let f=0;8!==f;f++){const m=i[f];e.pointToLocal(m,m)}return t.setFromPoints(i)}toWorldFrame(e,t){const i=eY;this.getCorners(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]);for(let f=0;8!==f;f++){const m=i[f];e.pointToWorld(m,m)}return t.setFromPoints(i)}overlapsRay(e){const{direction:t,from:i}=e,r=1/t.x,o=1/t.y,s=1/t.z,a=(this.lowerBound.x-i.x)*r,c=(this.upperBound.x-i.x)*r,l=(this.lowerBound.y-i.y)*o,d=(this.upperBound.y-i.y)*o,h=(this.lowerBound.z-i.z)*s,f=(this.upperBound.z-i.z)*s,m=Math.max(Math.max(Math.min(a,c),Math.min(l,d)),Math.min(h,f)),g=Math.min(Math.min(Math.max(a,c),Math.max(l,d)),Math.max(h,f));return!(g<0||m>g)}}const Zq=new be,eY=[new be,new be,new be,new be,new be,new be,new be,new be];class nY{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;return void 0===i[e]&&(i[e]=[]),i[e].includes(t)||i[e].push(t),this}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return!(void 0===i[e]||!i[e].includes(t))}hasAnyEventListener(e){return void 0!==this._listeners&&void 0!==this._listeners[e]}removeEventListener(e,t){if(void 0===this._listeners)return this;const i=this._listeners;if(void 0===i[e])return this;const r=i[e].indexOf(t);return-1!==r&&i[e].splice(r,1),this}dispatchEvent(e){if(void 0===this._listeners)return this;const i=this._listeners[e.type];if(void 0!==i){e.target=this;for(let r=0,o=i.length;r<o;r++)i[r].call(this,e)}return this}}class xo{constructor(e,t,i,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=1),this.x=e,this.y=t,this.z=i,this.w=r}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}toString(){return`${this.x},${this.y},${this.z},${this.w}`}toArray(){return[this.x,this.y,this.z,this.w]}setFromAxisAngle(e,t){const i=Math.sin(.5*t);return this.x=e.x*i,this.y=e.y*i,this.z=e.z*i,this.w=Math.cos(.5*t),this}toAxisAngle(e){void 0===e&&(e=new be),this.normalize();const t=2*Math.acos(this.w),i=Math.sqrt(1-this.w*this.w);return i<.001?(e.x=this.x,e.y=this.y,e.z=this.z):(e.x=this.x/i,e.y=this.y/i,e.z=this.z/i),[e,t]}setFromVectors(e,t){if(e.isAntiparallelTo(t)){const i=ARe;e.tangents(i,TRe),this.setFromAxisAngle(i,Math.PI)}else{const i=e.cross(t);this.x=i.x,this.y=i.y,this.z=i.z,this.w=Math.sqrt(e.length()**2*t.length()**2)+e.dot(t),this.normalize()}return this}mult(e,t){void 0===t&&(t=new xo);const i=this.x,r=this.y,o=this.z,s=this.w,a=e.x,c=e.y,l=e.z,d=e.w;return t.x=i*d+s*a+r*l-o*c,t.y=r*d+s*c+o*a-i*l,t.z=o*d+s*l+i*c-r*a,t.w=s*d-i*a-r*c-o*l,t}inverse(e){void 0===e&&(e=new xo);const t=this.x,i=this.y,r=this.z,o=this.w;this.conjugate(e);const s=1/(t*t+i*i+r*r+o*o);return e.x*=s,e.y*=s,e.z*=s,e.w*=s,e}conjugate(e){return void 0===e&&(e=new xo),e.x=-this.x,e.y=-this.y,e.z=-this.z,e.w=this.w,e}normalize(){let e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=0):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}normalizeFast(){const e=(3-(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w))/2;return 0===e?(this.x=0,this.y=0,this.z=0,this.w=0):(this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}vmult(e,t){void 0===t&&(t=new be);const i=e.x,r=e.y,o=e.z,s=this.x,a=this.y,c=this.z,l=this.w,d=l*i+a*o-c*r,h=l*r+c*i-s*o,f=l*o+s*r-a*i,m=-s*i-a*r-c*o;return t.x=d*l+m*-s+h*-c-f*-a,t.y=h*l+m*-a+f*-s-d*-c,t.z=f*l+m*-c+d*-a-h*-s,t}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this}toEuler(e,t){let i,r,o;void 0===t&&(t="YZX");const s=this.x,a=this.y,c=this.z,l=this.w;if("YZX"!==t)throw new Error(`Euler order ${t} not supported yet.`);{const d=s*a+c*l;if(d>.499&&(i=2*Math.atan2(s,l),r=Math.PI/2,o=0),d<-.499&&(i=-2*Math.atan2(s,l),r=-Math.PI/2,o=0),void 0===i){const h=s*s,m=c*c;i=Math.atan2(2*a*l-2*s*c,1-a*a*2-2*m),r=Math.asin(2*d),o=Math.atan2(2*s*l-2*a*c,1-2*h-2*m)}}e.y=i,e.z=r,e.x=o}setFromEuler(e,t,i,r){void 0===r&&(r="XYZ");const o=Math.cos(e/2),s=Math.cos(t/2),a=Math.cos(i/2),c=Math.sin(e/2),l=Math.sin(t/2),d=Math.sin(i/2);return"XYZ"===r?(this.x=c*s*a+o*l*d,this.y=o*l*a-c*s*d,this.z=o*s*d+c*l*a,this.w=o*s*a-c*l*d):"YXZ"===r?(this.x=c*s*a+o*l*d,this.y=o*l*a-c*s*d,this.z=o*s*d-c*l*a,this.w=o*s*a+c*l*d):"ZXY"===r?(this.x=c*s*a-o*l*d,this.y=o*l*a+c*s*d,this.z=o*s*d+c*l*a,this.w=o*s*a-c*l*d):"ZYX"===r?(this.x=c*s*a-o*l*d,this.y=o*l*a+c*s*d,this.z=o*s*d-c*l*a,this.w=o*s*a+c*l*d):"YZX"===r?(this.x=c*s*a+o*l*d,this.y=o*l*a+c*s*d,this.z=o*s*d-c*l*a,this.w=o*s*a-c*l*d):"XZY"===r&&(this.x=c*s*a-o*l*d,this.y=o*l*a-c*s*d,this.z=o*s*d+c*l*a,this.w=o*s*a+c*l*d),this}clone(){return new xo(this.x,this.y,this.z,this.w)}slerp(e,t,i){void 0===i&&(i=new xo);const r=this.x,o=this.y,s=this.z,a=this.w;let f,m,g,v,E,c=e.x,l=e.y,d=e.z,h=e.w;return m=r*c+o*l+s*d+a*h,m<0&&(m=-m,c=-c,l=-l,d=-d,h=-h),1-m>1e-6?(f=Math.acos(m),g=Math.sin(f),v=Math.sin((1-t)*f)/g,E=Math.sin(t*f)/g):(v=1-t,E=t),i.x=v*r+E*c,i.y=v*o+E*l,i.z=v*s+E*d,i.w=v*a+E*h,i}integrate(e,t,i,r){void 0===r&&(r=new xo);const o=e.x*i.x,s=e.y*i.y,a=e.z*i.z,c=this.x,l=this.y,d=this.z,h=this.w,f=.5*t;return r.x+=f*(o*h+s*d-a*l),r.y+=f*(s*h+a*c-o*d),r.z+=f*(a*h+o*l-s*c),r.w+=f*(-o*c-s*l-a*d),r}}const ARe=new be,TRe=new be,MRe={SPHERE:1,PLANE:2,BOX:4,COMPOUND:8,CONVEXPOLYHEDRON:16,HEIGHTFIELD:32,PARTICLE:64,CYLINDER:128,TRIMESH:256};let Mn=(()=>{class n{constructor(t){void 0===t&&(t={}),this.id=n.idCounter++,this.type=t.type||0,this.boundingSphereRadius=0,this.collisionResponse=!t.collisionResponse||t.collisionResponse,this.collisionFilterGroup=void 0!==t.collisionFilterGroup?t.collisionFilterGroup:1,this.collisionFilterMask=void 0!==t.collisionFilterMask?t.collisionFilterMask:-1,this.material=t.material?t.material:null,this.body=null}updateBoundingSphereRadius(){throw`computeBoundingSphereRadius() not implemented for shape type ${this.type}`}volume(){throw`volume() not implemented for shape type ${this.type}`}calculateLocalInertia(t,i){throw`calculateLocalInertia() not implemented for shape type ${this.type}`}calculateWorldAABB(t,i,r,o){throw`calculateWorldAABB() not implemented for shape type ${this.type}`}}return n.idCounter=0,n.types=MRe,n})();class nr{constructor(e){void 0===e&&(e={}),this.position=new be,this.quaternion=new xo,e.position&&this.position.copy(e.position),e.quaternion&&this.quaternion.copy(e.quaternion)}pointToLocal(e,t){return nr.pointToLocalFrame(this.position,this.quaternion,e,t)}pointToWorld(e,t){return nr.pointToWorldFrame(this.position,this.quaternion,e,t)}vectorToWorldFrame(e,t){return void 0===t&&(t=new be),this.quaternion.vmult(e,t),t}static pointToLocalFrame(e,t,i,r){return void 0===r&&(r=new be),i.vsub(e,r),t.conjugate(iY),iY.vmult(r,r),r}static pointToWorldFrame(e,t,i,r){return void 0===r&&(r=new be),t.vmult(i,r),r.vadd(e,r),r}static vectorToWorldFrame(e,t,i){return void 0===i&&(i=new be),e.vmult(t,i),i}static vectorToLocalFrame(e,t,i,r){return void 0===r&&(r=new be),t.w*=-1,t.vmult(i,r),t.w*=-1,r}}const iY=new xo;class ff extends Mn{constructor(e){void 0===e&&(e={});const{vertices:t=[],faces:i=[],normals:r=[],axes:o,boundingSphereRadius:s}=e;super({type:Mn.types.CONVEXPOLYHEDRON}),this.vertices=t,this.faces=i,this.faceNormals=r,0===this.faceNormals.length&&this.computeNormals(),s?this.boundingSphereRadius=s:this.updateBoundingSphereRadius(),this.worldVertices=[],this.worldVerticesNeedsUpdate=!0,this.worldFaceNormals=[],this.worldFaceNormalsNeedsUpdate=!0,this.uniqueAxes=o?o.slice():null,this.uniqueEdges=[],this.computeEdges()}computeEdges(){const e=this.faces,t=this.vertices,i=this.uniqueEdges;i.length=0;const r=new be;for(let o=0;o!==e.length;o++){const s=e[o],a=s.length;for(let c=0;c!==a;c++){t[s[c]].vsub(t[s[(c+1)%a]],r),r.normalize();let d=!1;for(let h=0;h!==i.length;h++)if(i[h].almostEquals(r)||i[h].almostEquals(r)){d=!0;break}d||i.push(r.clone())}}}computeNormals(){this.faceNormals.length=this.faces.length;for(let e=0;e<this.faces.length;e++){for(let r=0;r<this.faces[e].length;r++)if(!this.vertices[this.faces[e][r]])throw new Error(`Vertex ${this.faces[e][r]} not found!`);const t=this.faceNormals[e]||new be;if(this.getFaceNormal(e,t),t.negate(t),this.faceNormals[e]=t,t.dot(this.vertices[this.faces[e][0]])<0){console.error(`.faceNormals[${e}] = Vec3(${t.toString()}) looks like it points into the shape? The vertices follow. Make sure they are ordered CCW around the normal, using the right hand rule.`);for(let r=0;r<this.faces[e].length;r++)console.warn(`.vertices[${this.faces[e][r]}] = Vec3(${this.vertices[this.faces[e][r]].toString()})`)}}}getFaceNormal(e,t){const i=this.faces[e];ff.computeNormal(this.vertices[i[0]],this.vertices[i[1]],this.vertices[i[2]],t)}static computeNormal(e,t,i,r){const o=new be,s=new be;t.vsub(e,s),i.vsub(t,o),o.cross(s,r),r.isZero()||r.normalize()}clipAgainstHull(e,t,i,r,o,s,a,c,l){const d=new be;let h=-1,f=-Number.MAX_VALUE;for(let g=0;g<i.faces.length;g++){d.copy(i.faceNormals[g]),o.vmult(d,d);const v=d.dot(s);v>f&&(f=v,h=g)}const m=[];for(let g=0;g<i.faces[h].length;g++){const v=i.vertices[i.faces[h][g]],E=new be;E.copy(v),o.vmult(E,E),r.vadd(E,E),m.push(E)}h>=0&&this.clipFaceAgainstHull(s,e,t,m,a,c,l)}findSeparatingAxis(e,t,i,r,o,s,a,c){const l=new be,d=new be,h=new be,f=new be,m=new be,g=new be;let v=Number.MAX_VALUE;const E=this;if(E.uniqueAxes)for(let L=0;L!==E.uniqueAxes.length;L++){i.vmult(E.uniqueAxes[L],l);const H=E.testSepAxis(l,e,t,i,r,o);if(!1===H)return!1;H<v&&(v=H,s.copy(l))}else{const L=a?a.length:E.faces.length;for(let H=0;H<L;H++){l.copy(E.faceNormals[a?a[H]:H]),i.vmult(l,l);const se=E.testSepAxis(l,e,t,i,r,o);if(!1===se)return!1;se<v&&(v=se,s.copy(l))}}if(e.uniqueAxes)for(let L=0;L!==e.uniqueAxes.length;L++){o.vmult(e.uniqueAxes[L],d);const H=E.testSepAxis(d,e,t,i,r,o);if(!1===H)return!1;H<v&&(v=H,s.copy(d))}else{const L=c?c.length:e.faces.length;for(let H=0;H<L;H++){d.copy(e.faceNormals[c?c[H]:H]),o.vmult(d,d);const se=E.testSepAxis(d,e,t,i,r,o);if(!1===se)return!1;se<v&&(v=se,s.copy(d))}}for(let L=0;L!==E.uniqueEdges.length;L++){i.vmult(E.uniqueEdges[L],f);for(let H=0;H!==e.uniqueEdges.length;H++)if(o.vmult(e.uniqueEdges[H],m),f.cross(m,g),!g.almostZero()){g.normalize();const le=E.testSepAxis(g,e,t,i,r,o);if(!1===le)return!1;le<v&&(v=le,s.copy(g))}}return r.vsub(t,h),h.dot(s)>0&&s.negate(s),!0}testSepAxis(e,t,i,r,o,s){ff.project(this,e,i,r,XF),ff.project(t,e,o,s,KF);const c=XF[0],l=XF[1],d=KF[0],h=KF[1];if(c<h||d<l)return!1;const f=c-h,m=d-l;return f<m?f:m}calculateLocalInertia(e,t){const i=new be,r=new be;this.computeLocalAABB(r,i);const o=i.x-r.x,s=i.y-r.y,a=i.z-r.z;t.x=1/12*e*(2*s*2*s+2*a*2*a),t.y=1/12*e*(2*o*2*o+2*a*2*a),t.z=1/12*e*(2*s*2*s+2*o*2*o)}getPlaneConstantOfFace(e){return-this.faceNormals[e].dot(this.vertices[this.faces[e][0]])}clipFaceAgainstHull(e,t,i,r,o,s,a){const c=new be,l=new be,d=new be,h=new be,f=new be,m=new be,g=new be,v=new be,E=this,H=r,le=[];let se=-1,Pe=Number.MAX_VALUE;for(let yt=0;yt<E.faces.length;yt++){c.copy(E.faceNormals[yt]),i.vmult(c,c);const Pt=c.dot(e);Pt<Pe&&(Pe=Pt,se=yt)}if(se<0)return;const $e=E.faces[se];$e.connectedFaces=[];for(let yt=0;yt<E.faces.length;yt++)for(let Pt=0;Pt<E.faces[yt].length;Pt++)-1!==$e.indexOf(E.faces[yt][Pt])&&yt!==se&&-1===$e.connectedFaces.indexOf(yt)&&$e.connectedFaces.push(yt);const ct=$e.length;for(let yt=0;yt<ct;yt++){const Pt=E.vertices[$e[yt]];Pt.vsub(E.vertices[$e[(yt+1)%ct]],l),d.copy(l),i.vmult(d,d),t.vadd(d,d),h.copy(this.faceNormals[se]),i.vmult(h,h),t.vadd(h,h),d.cross(h,f),f.negate(f),m.copy(Pt),i.vmult(m,m),t.vadd(m,m);const Et=$e.connectedFaces[yt];g.copy(this.faceNormals[Et]);const Dt=this.getPlaneConstantOfFace(Et);v.copy(g),i.vmult(v,v);const Jt=Dt-v.dot(t);for(this.clipFaceAgainstPlane(H,le,v,Jt);H.length;)H.shift();for(;le.length;)H.push(le.shift())}g.copy(this.faceNormals[se]);const pt=this.getPlaneConstantOfFace(se);v.copy(g),i.vmult(v,v);const tt=pt-v.dot(t);for(let yt=0;yt<H.length;yt++){let Pt=v.dot(H[yt])+tt;Pt<=o&&(console.log(`clamped: depth=${Pt} to minDist=${o}`),Pt=o),Pt<=s&&Pt<=1e-6&&a.push({point:H[yt],normal:v,depth:Pt})}}clipFaceAgainstPlane(e,t,i,r){let o,s;const a=e.length;if(a<2)return t;let c=e[e.length-1],l=e[0];o=i.dot(c)+r;for(let d=0;d<a;d++){if(l=e[d],s=i.dot(l)+r,o<0)if(s<0){const h=new be;h.copy(l),t.push(h)}else{const h=new be;c.lerp(l,o/(o-s),h),t.push(h)}else if(s<0){const h=new be;c.lerp(l,o/(o-s),h),t.push(h),t.push(l)}c=l,o=s}return t}computeWorldVertices(e,t){for(;this.worldVertices.length<this.vertices.length;)this.worldVertices.push(new be);const i=this.vertices,r=this.worldVertices;for(let o=0;o!==this.vertices.length;o++)t.vmult(i[o],r[o]),e.vadd(r[o],r[o]);this.worldVerticesNeedsUpdate=!1}computeLocalAABB(e,t){const i=this.vertices;e.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),t.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);for(let r=0;r<this.vertices.length;r++){const o=i[r];o.x<e.x?e.x=o.x:o.x>t.x&&(t.x=o.x),o.y<e.y?e.y=o.y:o.y>t.y&&(t.y=o.y),o.z<e.z?e.z=o.z:o.z>t.z&&(t.z=o.z)}}computeWorldFaceNormals(e){const t=this.faceNormals.length;for(;this.worldFaceNormals.length<t;)this.worldFaceNormals.push(new be);const i=this.faceNormals,r=this.worldFaceNormals;for(let o=0;o!==t;o++)e.vmult(i[o],r[o]);this.worldFaceNormalsNeedsUpdate=!1}updateBoundingSphereRadius(){let e=0;const t=this.vertices;for(let i=0;i!==t.length;i++){const r=t[i].lengthSquared();r>e&&(e=r)}this.boundingSphereRadius=Math.sqrt(e)}calculateWorldAABB(e,t,i,r){const o=this.vertices;let s,a,c,l,d,h,f=new be;for(let m=0;m<o.length;m++)f.copy(o[m]),t.vmult(f,f),e.vadd(f,f),(void 0===s||f.x<s)&&(s=f.x),(void 0===l||f.x>l)&&(l=f.x),(void 0===a||f.y<a)&&(a=f.y),(void 0===d||f.y>d)&&(d=f.y),(void 0===c||f.z<c)&&(c=f.z),(void 0===h||f.z>h)&&(h=f.z);i.set(s,a,c),r.set(l,d,h)}volume(){return 4*Math.PI*this.boundingSphereRadius/3}getAveragePointLocal(e){void 0===e&&(e=new be);const t=this.vertices;for(let i=0;i<t.length;i++)e.vadd(t[i],e);return e.scale(1/t.length,e),e}transformAllPoints(e,t){const i=this.vertices.length,r=this.vertices;if(t){for(let o=0;o<i;o++){const s=r[o];t.vmult(s,s)}for(let o=0;o<this.faceNormals.length;o++){const s=this.faceNormals[o];t.vmult(s,s)}}if(e)for(let o=0;o<i;o++){const s=r[o];s.vadd(e,s)}}pointIsInside(e){const t=this.vertices,i=this.faces,r=this.faceNormals,s=new be;this.getAveragePointLocal(s);for(let a=0;a<this.faces.length;a++){let c=r[a];const l=t[i[a][0]],d=new be;e.vsub(l,d);const h=c.dot(d),f=new be;s.vsub(l,f);const m=c.dot(f);if(h<0&&m>0||h>0&&m<0)return!1}return-1}static project(e,t,i,r,o){const s=e.vertices.length,a=DRe;let c=0,l=0;const d=RRe,h=e.vertices;d.setZero(),nr.vectorToLocalFrame(i,r,t,a),nr.pointToLocalFrame(i,r,d,d);const f=d.dot(a);l=c=h[0].dot(a);for(let m=1;m<s;m++){const g=h[m].dot(a);g>c&&(c=g),g<l&&(l=g)}if(l-=f,c-=f,l>c){const m=l;l=c,c=m}o[0]=c,o[1]=l}}const XF=[],KF=[],DRe=(new be,new be),RRe=new be;class DA extends Mn{constructor(e){super({type:Mn.types.BOX}),this.halfExtents=e,this.convexPolyhedronRepresentation=null,this.updateConvexPolyhedronRepresentation(),this.updateBoundingSphereRadius()}updateConvexPolyhedronRepresentation(){const e=this.halfExtents.x,t=this.halfExtents.y,i=this.halfExtents.z,r=be,o=[new r(-e,-t,-i),new r(e,-t,-i),new r(e,t,-i),new r(-e,t,-i),new r(-e,-t,i),new r(e,-t,i),new r(e,t,i),new r(-e,t,i)],a=[new r(0,0,1),new r(0,1,0),new r(1,0,0)],c=new ff({vertices:o,faces:[[3,2,1,0],[4,5,6,7],[5,4,0,1],[2,3,7,6],[0,4,7,3],[1,2,6,5]],axes:a});this.convexPolyhedronRepresentation=c,c.material=this.material}calculateLocalInertia(e,t){return void 0===t&&(t=new be),DA.calculateInertia(this.halfExtents,e,t),t}static calculateInertia(e,t,i){const r=e;i.x=1/12*t*(2*r.y*2*r.y+2*r.z*2*r.z),i.y=1/12*t*(2*r.x*2*r.x+2*r.z*2*r.z),i.z=1/12*t*(2*r.y*2*r.y+2*r.x*2*r.x)}getSideNormals(e,t){const i=e,r=this.halfExtents;if(i[0].set(r.x,0,0),i[1].set(0,r.y,0),i[2].set(0,0,r.z),i[3].set(-r.x,0,0),i[4].set(0,-r.y,0),i[5].set(0,0,-r.z),void 0!==t)for(let o=0;o!==i.length;o++)t.vmult(i[o],i[o]);return i}volume(){return 8*this.halfExtents.x*this.halfExtents.y*this.halfExtents.z}updateBoundingSphereRadius(){this.boundingSphereRadius=this.halfExtents.length()}forEachWorldCorner(e,t,i){const r=this.halfExtents,o=[[r.x,r.y,r.z],[-r.x,r.y,r.z],[-r.x,-r.y,r.z],[-r.x,-r.y,-r.z],[r.x,-r.y,-r.z],[r.x,r.y,-r.z],[-r.x,r.y,-r.z],[r.x,-r.y,r.z]];for(let s=0;s<o.length;s++)pf.set(o[s][0],o[s][1],o[s][2]),t.vmult(pf,pf),e.vadd(pf,pf),i(pf.x,pf.y,pf.z)}calculateWorldAABB(e,t,i,r){const o=this.halfExtents;Ld[0].set(o.x,o.y,o.z),Ld[1].set(-o.x,o.y,o.z),Ld[2].set(-o.x,-o.y,o.z),Ld[3].set(-o.x,-o.y,-o.z),Ld[4].set(o.x,-o.y,-o.z),Ld[5].set(o.x,o.y,-o.z),Ld[6].set(-o.x,o.y,-o.z),Ld[7].set(o.x,-o.y,o.z);const s=Ld[0];t.vmult(s,s),e.vadd(s,s),r.copy(s),i.copy(s);for(let a=1;a<8;a++){const c=Ld[a];t.vmult(c,c),e.vadd(c,c);const l=c.x,d=c.y,h=c.z;l>r.x&&(r.x=l),d>r.y&&(r.y=d),h>r.z&&(r.z=h),l<i.x&&(i.x=l),d<i.y&&(i.y=d),h<i.z&&(i.z=h)}}}const pf=new be,Ld=[new be,new be,new be,new be,new be,new be,new be,new be];class Fn extends nY{constructor(e){void 0===e&&(e={}),super(),this.id=Fn.idCounter++,this.index=-1,this.world=null,this.vlambda=new be,this.collisionFilterGroup="number"==typeof e.collisionFilterGroup?e.collisionFilterGroup:1,this.collisionFilterMask="number"==typeof e.collisionFilterMask?e.collisionFilterMask:-1,this.collisionResponse="boolean"!=typeof e.collisionResponse||e.collisionResponse,this.position=new be,this.previousPosition=new be,this.interpolatedPosition=new be,this.initPosition=new be,e.position&&(this.position.copy(e.position),this.previousPosition.copy(e.position),this.interpolatedPosition.copy(e.position),this.initPosition.copy(e.position)),this.velocity=new be,e.velocity&&this.velocity.copy(e.velocity),this.initVelocity=new be,this.force=new be;const t="number"==typeof e.mass?e.mass:0;this.mass=t,this.invMass=t>0?1/t:0,this.material=e.material||null,this.linearDamping="number"==typeof e.linearDamping?e.linearDamping:.01,this.type=t<=0?Fn.STATIC:Fn.DYNAMIC,typeof e.type==typeof Fn.STATIC&&(this.type=e.type),this.allowSleep=!(typeof e.allowSleep<"u")||e.allowSleep,this.sleepState=Fn.AWAKE,this.sleepSpeedLimit=typeof e.sleepSpeedLimit<"u"?e.sleepSpeedLimit:.1,this.sleepTimeLimit=typeof e.sleepTimeLimit<"u"?e.sleepTimeLimit:1,this.timeLastSleepy=0,this.wakeUpAfterNarrowphase=!1,this.torque=new be,this.quaternion=new xo,this.initQuaternion=new xo,this.previousQuaternion=new xo,this.interpolatedQuaternion=new xo,e.quaternion&&(this.quaternion.copy(e.quaternion),this.initQuaternion.copy(e.quaternion),this.previousQuaternion.copy(e.quaternion),this.interpolatedQuaternion.copy(e.quaternion)),this.angularVelocity=new be,e.angularVelocity&&this.angularVelocity.copy(e.angularVelocity),this.initAngularVelocity=new be,this.shapes=[],this.shapeOffsets=[],this.shapeOrientations=[],this.inertia=new be,this.invInertia=new be,this.invInertiaWorld=new Vl,this.invMassSolve=0,this.invInertiaSolve=new be,this.invInertiaWorldSolve=new Vl,this.fixedRotation=typeof e.fixedRotation<"u"&&e.fixedRotation,this.angularDamping=typeof e.angularDamping<"u"?e.angularDamping:.01,this.linearFactor=new be(1,1,1),e.linearFactor&&this.linearFactor.copy(e.linearFactor),this.angularFactor=new be(1,1,1),e.angularFactor&&this.angularFactor.copy(e.angularFactor),this.aabb=new Tr,this.aabbNeedsUpdate=!0,this.boundingRadius=0,this.wlambda=new be,this.isTrigger=!!e.isTrigger,e.shape&&this.addShape(e.shape),this.updateMassProperties()}wakeUp(){const e=this.sleepState;this.sleepState=Fn.AWAKE,this.wakeUpAfterNarrowphase=!1,e===Fn.SLEEPING&&this.dispatchEvent(Fn.wakeupEvent)}sleep(){this.sleepState=Fn.SLEEPING,this.velocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.wakeUpAfterNarrowphase=!1}sleepTick(e){if(this.allowSleep){const t=this.sleepState,i=this.velocity.lengthSquared()+this.angularVelocity.lengthSquared(),r=this.sleepSpeedLimit**2;t===Fn.AWAKE&&i<r?(this.sleepState=Fn.SLEEPY,this.timeLastSleepy=e,this.dispatchEvent(Fn.sleepyEvent)):t===Fn.SLEEPY&&i>r?this.wakeUp():t===Fn.SLEEPY&&e-this.timeLastSleepy>this.sleepTimeLimit&&(this.sleep(),this.dispatchEvent(Fn.sleepEvent))}}updateSolveMassProperties(){this.sleepState===Fn.SLEEPING||this.type===Fn.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve.setZero(),this.invInertiaWorldSolve.setZero()):(this.invMassSolve=this.invMass,this.invInertiaSolve.copy(this.invInertia),this.invInertiaWorldSolve.copy(this.invInertiaWorld))}pointToLocalFrame(e,t){return void 0===t&&(t=new be),e.vsub(this.position,t),this.quaternion.conjugate().vmult(t,t),t}vectorToLocalFrame(e,t){return void 0===t&&(t=new be),this.quaternion.conjugate().vmult(e,t),t}pointToWorldFrame(e,t){return void 0===t&&(t=new be),this.quaternion.vmult(e,t),t.vadd(this.position,t),t}vectorToWorldFrame(e,t){return void 0===t&&(t=new be),this.quaternion.vmult(e,t),t}addShape(e,t,i){const r=new be,o=new xo;return t&&r.copy(t),i&&o.copy(i),this.shapes.push(e),this.shapeOffsets.push(r),this.shapeOrientations.push(o),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=this,this}removeShape(e){const t=this.shapes.indexOf(e);return-1===t?(console.warn("Shape does not belong to the body"),this):(this.shapes.splice(t,1),this.shapeOffsets.splice(t,1),this.shapeOrientations.splice(t,1),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=null,this)}updateBoundingRadius(){const e=this.shapes,t=this.shapeOffsets,i=e.length;let r=0;for(let o=0;o!==i;o++){const s=e[o];s.updateBoundingSphereRadius();const a=t[o].length(),c=s.boundingSphereRadius;a+c>r&&(r=a+c)}this.boundingRadius=r}updateAABB(){const e=this.shapes,t=this.shapeOffsets,i=this.shapeOrientations,r=e.length,o=ORe,s=kRe,a=this.quaternion,c=this.aabb,l=PRe;for(let d=0;d!==r;d++){const h=e[d];a.vmult(t[d],o),o.vadd(this.position,o),a.mult(i[d],s),h.calculateWorldAABB(o,s,l.lowerBound,l.upperBound),0===d?c.copy(l):c.extend(l)}this.aabbNeedsUpdate=!1}updateInertiaWorld(e){const t=this.invInertia;if(t.x!==t.y||t.y!==t.z||e){const i=NRe,r=FRe;i.setRotationFromQuaternion(this.quaternion),i.transpose(r),i.scale(t,i),i.mmult(r,this.invInertiaWorld)}}applyForce(e,t){if(void 0===t&&(t=new be),this.type!==Fn.DYNAMIC)return;this.sleepState===Fn.SLEEPING&&this.wakeUp();const i=BRe;t.cross(e,i),this.force.vadd(e,this.force),this.torque.vadd(i,this.torque)}applyLocalForce(e,t){if(void 0===t&&(t=new be),this.type!==Fn.DYNAMIC)return;const i=jRe,r=URe;this.vectorToWorldFrame(e,i),this.vectorToWorldFrame(t,r),this.applyForce(i,r)}applyTorque(e){this.type===Fn.DYNAMIC&&(this.sleepState===Fn.SLEEPING&&this.wakeUp(),this.torque.vadd(e,this.torque))}applyImpulse(e,t){if(void 0===t&&(t=new be),this.type!==Fn.DYNAMIC)return;this.sleepState===Fn.SLEEPING&&this.wakeUp();const i=t,r=VRe;r.copy(e),r.scale(this.invMass,r),this.velocity.vadd(r,this.velocity);const o=zRe;i.cross(e,o),this.invInertiaWorld.vmult(o,o),this.angularVelocity.vadd(o,this.angularVelocity)}applyLocalImpulse(e,t){if(void 0===t&&(t=new be),this.type!==Fn.DYNAMIC)return;const i=HRe,r=GRe;this.vectorToWorldFrame(e,i),this.vectorToWorldFrame(t,r),this.applyImpulse(i,r)}updateMassProperties(){const e=WRe;this.invMass=this.mass>0?1/this.mass:0;const t=this.inertia,i=this.fixedRotation;this.updateAABB(),e.set((this.aabb.upperBound.x-this.aabb.lowerBound.x)/2,(this.aabb.upperBound.y-this.aabb.lowerBound.y)/2,(this.aabb.upperBound.z-this.aabb.lowerBound.z)/2),DA.calculateInertia(e,this.mass,t),this.invInertia.set(t.x>0&&!i?1/t.x:0,t.y>0&&!i?1/t.y:0,t.z>0&&!i?1/t.z:0),this.updateInertiaWorld(!0)}getVelocityAtWorldPoint(e,t){const i=new be;return e.vsub(this.position,i),this.angularVelocity.cross(i,t),this.velocity.vadd(t,t),t}integrate(e,t,i){if(this.previousPosition.copy(this.position),this.previousQuaternion.copy(this.quaternion),this.type!==Fn.DYNAMIC&&this.type!==Fn.KINEMATIC||this.sleepState===Fn.SLEEPING)return;const r=this.velocity,o=this.angularVelocity,s=this.position,a=this.force,c=this.torque,l=this.quaternion,h=this.invInertiaWorld,f=this.linearFactor,m=this.invMass*e;r.x+=a.x*m*f.x,r.y+=a.y*m*f.y,r.z+=a.z*m*f.z;const g=h.elements,v=this.angularFactor,E=c.x*v.x,L=c.y*v.y,H=c.z*v.z;o.x+=e*(g[0]*E+g[1]*L+g[2]*H),o.y+=e*(g[3]*E+g[4]*L+g[5]*H),o.z+=e*(g[6]*E+g[7]*L+g[8]*H),s.x+=r.x*e,s.y+=r.y*e,s.z+=r.z*e,l.integrate(this.angularVelocity,e,this.angularFactor,l),t&&(i?l.normalizeFast():l.normalize()),this.aabbNeedsUpdate=!0,this.updateInertiaWorld()}}Fn.idCounter=0,Fn.COLLIDE_EVENT_NAME="collide",Fn.DYNAMIC=1,Fn.STATIC=2,Fn.KINEMATIC=4,Fn.AWAKE=0,Fn.SLEEPY=1,Fn.SLEEPING=2,Fn.wakeupEvent={type:"wakeup"},Fn.sleepyEvent={type:"sleepy"},Fn.sleepEvent={type:"sleep"};const ORe=new be,kRe=new xo,PRe=new Tr,NRe=new Vl,FRe=new Vl,BRe=(new Vl,new be),jRe=new be,URe=new be,VRe=new be,zRe=new be,HRe=new be,GRe=new be,WRe=new be;new be,new be,new xo,new be,new be,new be,new be;class uw{constructor(){this.rayFromWorld=new be,this.rayToWorld=new be,this.hitNormalWorld=new be,this.hitPointWorld=new be,this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}reset(){this.rayFromWorld.setZero(),this.rayToWorld.setZero(),this.hitNormalWorld.setZero(),this.hitPointWorld.setZero(),this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}abort(){this.shouldStop=!0}set(e,t,i,r,o,s,a){this.rayFromWorld.copy(e),this.rayToWorld.copy(t),this.hitNormalWorld.copy(i),this.hitPointWorld.copy(r),this.shape=o,this.body=s,this.distance=a}}let rY,oY,sY,aY,cY,lY,dY;rY=Mn.types.SPHERE,oY=Mn.types.PLANE,sY=Mn.types.BOX,aY=Mn.types.CYLINDER,cY=Mn.types.CONVEXPOLYHEDRON,lY=Mn.types.HEIGHTFIELD,dY=Mn.types.TRIMESH;class rs{get[rY](){return this._intersectSphere}get[oY](){return this._intersectPlane}get[sY](){return this._intersectBox}get[aY](){return this._intersectConvex}get[cY](){return this._intersectConvex}get[lY](){return this._intersectHeightfield}get[dY](){return this._intersectTrimesh}constructor(e,t){void 0===e&&(e=new be),void 0===t&&(t=new be),this.from=e.clone(),this.to=t.clone(),this.direction=new be,this.precision=1e-4,this.checkCollisionResponse=!0,this.skipBackfaces=!1,this.collisionFilterMask=-1,this.collisionFilterGroup=-1,this.mode=rs.ANY,this.result=new uw,this.hasHit=!1,this.callback=i=>{}}intersectWorld(e,t){return this.mode=t.mode||rs.ANY,this.result=t.result||new uw,this.skipBackfaces=!!t.skipBackfaces,this.collisionFilterMask=typeof t.collisionFilterMask<"u"?t.collisionFilterMask:-1,this.collisionFilterGroup=typeof t.collisionFilterGroup<"u"?t.collisionFilterGroup:-1,this.checkCollisionResponse=!(typeof t.checkCollisionResponse<"u")||t.checkCollisionResponse,t.from&&this.from.copy(t.from),t.to&&this.to.copy(t.to),this.callback=t.callback||(()=>{}),this.hasHit=!1,this.result.reset(),this.updateDirection(),this.getAABB(uY),tL.length=0,e.broadphase.aabbQuery(e,uY,tL),this.intersectBodies(tL),this.hasHit}intersectBody(e,t){t&&(this.result=t,this.updateDirection());const i=this.checkCollisionResponse;if(i&&!e.collisionResponse||!(this.collisionFilterGroup&e.collisionFilterMask)||!(e.collisionFilterGroup&this.collisionFilterMask))return;const r=QRe,o=ZRe;for(let s=0,a=e.shapes.length;s<a;s++){const c=e.shapes[s];if((!i||c.collisionResponse)&&(e.quaternion.mult(e.shapeOrientations[s],o),e.quaternion.vmult(e.shapeOffsets[s],r),r.vadd(e.position,r),this.intersectShape(c,o,r,e),this.result.shouldStop))break}}intersectBodies(e,t){t&&(this.result=t,this.updateDirection());for(let i=0,r=e.length;!this.result.shouldStop&&i<r;i++)this.intersectBody(e[i])}updateDirection(){this.to.vsub(this.from,this.direction),this.direction.normalize()}intersectShape(e,t,i,r){if(function mOe(n,e,t){t.vsub(n,rm);const i=rm.dot(e);return e.scale(i,OA),OA.vadd(n,OA),t.distanceTo(OA)}(this.from,this.direction,i)>e.boundingSphereRadius)return;const a=this[e.type];a&&a.call(this,e,t,i,r,e)}_intersectBox(e,t,i,r,o){return this._intersectConvex(e.convexPolyhedronRepresentation,t,i,r,o)}_intersectPlane(e,t,i,r,o){const s=this.from,a=this.to,c=this.direction,l=new be(0,0,1);t.vmult(l,l);const d=new be;s.vsub(i,d);const h=d.dot(l);if(a.vsub(i,d),h*d.dot(l)>0||s.distanceTo(a)<h)return;const m=l.dot(c);if(Math.abs(m)<this.precision)return;const g=new be,v=new be,E=new be;s.vsub(i,g);const L=-l.dot(g)/m;c.scale(L,v),s.vadd(v,E),this.reportIntersection(l,E,o,r,-1)}getAABB(e){const{lowerBound:t,upperBound:i}=e,r=this.to,o=this.from;t.x=Math.min(r.x,o.x),t.y=Math.min(r.y,o.y),t.z=Math.min(r.z,o.z),i.x=Math.max(r.x,o.x),i.y=Math.max(r.y,o.y),i.z=Math.max(r.z,o.z)}_intersectHeightfield(e,t,i,r,o){const s=eOe;s.from.copy(this.from),s.to.copy(this.to),nr.pointToLocalFrame(i,t,s.from,s.from),nr.pointToLocalFrame(i,t,s.to,s.to),s.updateDirection();const a=tOe;let c,l,d,h;c=l=0,d=h=e.data.length-1;const f=new Tr;s.getAABB(f),e.getIndexOfPosition(f.lowerBound.x,f.lowerBound.y,a,!0),c=Math.max(c,a[0]),l=Math.max(l,a[1]),e.getIndexOfPosition(f.upperBound.x,f.upperBound.y,a,!0),d=Math.min(d,a[0]+1),h=Math.min(h,a[1]+1);for(let m=c;m<d;m++)for(let g=l;g<h;g++){if(this.result.shouldStop)return;if(e.getAabbAtIndex(m,g,f),f.overlapsRay(s)){if(e.getConvexTrianglePillar(m,g,!1),nr.pointToWorldFrame(i,t,e.pillarOffset,RA),this._intersectConvex(e.pillarConvex,t,RA,r,o,hY),this.result.shouldStop)return;e.getConvexTrianglePillar(m,g,!0),nr.pointToWorldFrame(i,t,e.pillarOffset,RA),this._intersectConvex(e.pillarConvex,t,RA,r,o,hY)}}}_intersectSphere(e,t,i,r,o){const s=this.from,a=this.to,l=(a.x-s.x)**2+(a.y-s.y)**2+(a.z-s.z)**2,d=2*((a.x-s.x)*(s.x-i.x)+(a.y-s.y)*(s.y-i.y)+(a.z-s.z)*(s.z-i.z)),f=d**2-4*l*((s.x-i.x)**2+(s.y-i.y)**2+(s.z-i.z)**2-e.radius**2),m=nOe,g=iOe;if(!(f<0))if(0===f)s.lerp(a,f,m),m.vsub(i,g),g.normalize(),this.reportIntersection(g,m,o,r,-1);else{const v=(-d-Math.sqrt(f))/(2*l),E=(-d+Math.sqrt(f))/(2*l);if(v>=0&&v<=1&&(s.lerp(a,v,m),m.vsub(i,g),g.normalize(),this.reportIntersection(g,m,o,r,-1)),this.result.shouldStop)return;E>=0&&E<=1&&(s.lerp(a,E,m),m.vsub(i,g),g.normalize(),this.reportIntersection(g,m,o,r,-1))}}_intersectConvex(e,t,i,r,o,s){const a=rOe,c=fY,l=s&&s.faceList||null,d=e.faces,h=e.vertices,f=e.faceNormals,m=this.direction,g=this.from,E=g.distanceTo(this.to),L=l?l.length:d.length,H=this.result;for(let le=0;!H.shouldStop&&le<L;le++){const se=l?l[le]:le,Pe=d[se],$e=f[se],ct=t,pt=i;c.copy(h[Pe[0]]),ct.vmult(c,c),c.vadd(pt,c),c.vsub(g,c),ct.vmult($e,a);const tt=m.dot(a);if(Math.abs(tt)<this.precision)continue;const yt=a.dot(c)/tt;if(!(yt<0)){m.scale(yt,uc),uc.vadd(g,uc),zl.copy(h[Pe[0]]),ct.vmult(zl,zl),pt.vadd(zl,zl);for(let Pt=1;!H.shouldStop&&Pt<Pe.length-1;Pt++){Bd.copy(h[Pe[Pt]]),jd.copy(h[Pe[Pt+1]]),ct.vmult(Bd,Bd),ct.vmult(jd,jd),pt.vadd(Bd,Bd),pt.vadd(jd,jd);const Gt=uc.distanceTo(g);!rs.pointInTriangle(uc,zl,Bd,jd)&&!rs.pointInTriangle(uc,Bd,zl,jd)||Gt>E||this.reportIntersection(a,uc,o,r,se)}}}}_intersectTrimesh(e,t,i,r,o,s){const a=aOe,c=fOe,l=pOe,d=fY,h=cOe,f=lOe,m=dOe,g=hOe,v=uOe,E=e.indices,L=this.from,H=this.to,le=this.direction;l.position.copy(i),l.quaternion.copy(t),nr.vectorToLocalFrame(i,t,le,h),nr.pointToLocalFrame(i,t,L,f),nr.pointToLocalFrame(i,t,H,m),m.x*=e.scale.x,m.y*=e.scale.y,m.z*=e.scale.z,f.x*=e.scale.x,f.y*=e.scale.y,f.z*=e.scale.z,m.vsub(f,h),h.normalize();const se=f.distanceSquared(m);e.tree.rayQuery(this,l,c);for(let Pe=0,$e=c.length;!this.result.shouldStop&&Pe!==$e;Pe++){const ct=c[Pe];e.getNormal(ct,a),e.getVertex(E[3*ct],zl),zl.vsub(f,d);const pt=h.dot(a),tt=a.dot(d)/pt;if(tt<0)continue;h.scale(tt,uc),uc.vadd(f,uc),e.getVertex(E[3*ct+1],Bd),e.getVertex(E[3*ct+2],jd);const yt=uc.distanceSquared(f);!rs.pointInTriangle(uc,Bd,zl,jd)&&!rs.pointInTriangle(uc,zl,Bd,jd)||yt>se||(nr.vectorToWorldFrame(t,a,v),nr.pointToWorldFrame(i,t,uc,g),this.reportIntersection(v,g,o,r,ct))}c.length=0}reportIntersection(e,t,i,r,o){const s=this.from,a=this.to,c=s.distanceTo(t),l=this.result;if(!(this.skipBackfaces&&e.dot(this.direction)>0))switch(l.hitFaceIndex=typeof o<"u"?o:-1,this.mode){case rs.ALL:this.hasHit=!0,l.set(s,a,e,t,i,r,c),l.hasHit=!0,this.callback(l);break;case rs.CLOSEST:(c<l.distance||!l.hasHit)&&(this.hasHit=!0,l.hasHit=!0,l.set(s,a,e,t,i,r,c));break;case rs.ANY:this.hasHit=!0,l.hasHit=!0,l.set(s,a,e,t,i,r,c),l.shouldStop=!0}}static pointInTriangle(e,t,i,r){r.vsub(t,rm),i.vsub(t,hw),e.vsub(t,nL);const o=rm.dot(rm),s=rm.dot(hw),a=rm.dot(nL),c=hw.dot(hw),l=hw.dot(nL);let d,h;return(d=c*a-s*l)>=0&&(h=o*l-s*a)>=0&&d+h<o*c-s*s}}rs.CLOSEST=1,rs.ANY=2,rs.ALL=4;const uY=new Tr,tL=[],hw=new be,nL=new be,QRe=new be,ZRe=new xo,uc=new be,zl=new be,Bd=new be,jd=new be;new be,new uw;const hY={faceList:[0]},RA=new be,eOe=new rs,tOe=[],nOe=new be,iOe=new be,rOe=new be,fY=(new be,new be,new be),aOe=new be,cOe=new be,lOe=new be,dOe=new be,uOe=new be,hOe=new be;new Tr;const fOe=[],pOe=new nr,rm=new be,OA=new be;new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new rs,new be,new be,new be,new be(1,0,0),new be(0,1,0),new be(0,0,1),new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new Tr,new be,new Tr,new be,new be,new be,new be,new be,new be,new be,new Tr,new be,new nr,new Tr,new be,new be,new be,new be,new be,new xo,new xo,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new Tr,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new be,new xo,new be,new be,new be,new be,new be,new be,new be,new be,new be,new Tr,new rs;const _s=globalThis.performance||{};if(!_s.now){let n=Date.now();_s.timing&&_s.timing.navigationStart&&(n=_s.timing.navigationStart),_s.now=()=>Date.now()-n}function aL(){return aL=D(function*(n){console.log("Starting Collisioning");const e=n.filter(s=>!s.scenegraph&&"wireframe"!==s.geometry).map(s=>{const a=new jt(s.transformMatrix),c=a.transformAsPoint([-1,-1,-1],[]),l=a.transformAsPoint([1,1,1],[]);return{"@id":s["@id"],name:s.tooltip,entityId:s.entityId,bbox:new Tr({lowerBound:new be(...c.map((d,h)=>Math.min(d,l[h]))),upperBound:new be(...l.map((d,h)=>Math.max(d,c[h])))})}}),t=[];for(const s of n.filter(a=>!!a.scenegraph)){const a=yield $0(s.scenegraph,ib,{DracoLoader:SF,decompress:!0,postProcess:!0});for(const c of a.scenes)IA(c,new jt(s.transformMatrix),(l,d)=>{if(l.mesh&&l.mesh.primitives&&l.mesh.primitives.length>0)for(const h of l.mesh.primitives)if(h.attributes.POSITION&&h.attributes.POSITION.min){const f=d.transformAsPoint(h.attributes.POSITION.min,[]),m=d.transformAsPoint(h.attributes.POSITION.max,[]);t.push({"@id":s["@id"],name:l.name,entityId:s.entityId,bbox:new Tr({lowerBound:new be(...f.map((g,v)=>Math.min(g,m[v]))),upperBound:new be(...m.map((g,v)=>Math.max(g,f[v])))}),gltf:a})}return!0})}const i=[],r=[];for(const s of e){const a=[];for(const c of t)s.bbox.overlaps(c.bbox)&&a.push({"@id":c["@id"],name:c.name});a.length>0?i.push({"@id":s.entityId,name:s.name,hits:a}):r.push(s)}console.log({sourceBoxes:e,targetBoxes:t,report:i,sad:r,maxHits:Math.max(...i.map(s=>s.hits.length))});const o=[];for(const s of i){o.push({"Tissue ID":s["@id"],"Tissue Name":s.name,"Hit ID":"","Hit Name":""});for(const a of s.hits)o.push({"Tissue ID":s["@id"],"Tissue Name":s.name,"Hit ID":a["@id"],"Hit Name":a.name})}return console.log(o),i}),aL.apply(this,arguments)}function cL(n,e,t){if(e&&0!==e.length){let i;switch(t.geometry){case"sphere":i=new dRe;break;case"cone":i=new pRe;break;case"cylinder":i=new mRe;break;default:i=new wRe}return new RN({id:n,pickable:!0,autoHighlight:!1,highlightColor:[30,136,229,255],coordinateSystem:Ji.CARTESIAN,data:e,mesh:i,wireframe:!1,getColor:r=>r.color||[255,255,255,229.5],getTransformMatrix:r=>r.transformMatrix,...t})}}function jY(n,e,t){if(e&&0!==e.length)return new TN({id:n,pickable:!0,data:e.map(i=>({...i,position:new jt(i.transformMatrix).getTranslation()})),getText:i=>i.text,getPosition:i=>i.position,getColor:i=>i.color,...t})}new be;let v2e=(()=>{class n extends xN{static#e=this.layerName="BodyUILayer";static#t=this.gltfCache={};initializeState(){const{data:t}=this.props;this.setState({data:t??[],zoomOpacity:.8,doCollisions:!1}),Xq()}renderLayers(){const t=this.state,i={sphere:[],cone:[],cylinder:[],cube:[],text:[],wireframe:[],scenegraph:[]};for(const s of t.data){const a=s.geometry??"cube";s.scenegraph?i.scenegraph.push(s):void 0!==i[a]&&i[a].push(s)}const r={};for(const s of i.scenegraph)s.scenegraph&&s.scenegraphNode&&!Object.prototype.hasOwnProperty.call(r,s.scenegraph)&&(r[s.scenegraph]=Jq({scenegraph:s.scenegraph},n.gltfCache));const o=[];for(const[s,a]of Object.entries(i))if("scenegraph"===s)for(const c of a)o.push(new $F({id:"models-"+c["@id"],opacity:c.zoomBasedOpacity?t.zoomOpacity:c.opacity??1,pickable:!c.unpickable,coordinateSystem:Ji.CARTESIAN,data:[c],scenegraph:c.scenegraphNode?xRe(c.scenegraphNode,r[c.scenegraph]):c.scenegraph,_lighting:c._lighting,getTransformMatrix:c.transformMatrix,getColor:c.color??[0,255,0,127.5],parameters:{depthMask:!c.zoomBasedOpacity&&(void 0===c.opacity||1===c.opacity)}}));else"text"===s?(o.push(jY("text",a.filter(c=>c.unpickable),{pickable:!1})),o.push(jY("textPickable",a.filter(c=>!c.unpickable),{pickable:!0}))):"wireframe"===s?o.push(cL(s,a,{wireframe:!0,pickable:!1,geometry:s})):(o.push(cL(s,a.filter(c=>c.unpickable),{wireframe:!1,pickable:!1,geometry:s})),o.push(cL(`${s}Pickable`,a.filter(c=>!c.unpickable),{wireframe:!1,pickable:!0,geometry:s})));return t.doCollisions&&function y2e(n){aL.apply(this,arguments)}(t.data),o.filter(s=>!!s)}getPickingInfo(t){return t.info}}return n})();function UY(n,e=[]){for(const t of n.nodes||n.children||[])e.push(t.name),UY(t,e);return e}function lL(){return lL=D(function*(n,e,t,i){Xq();const r=yield Jq({scenegraph:n,scenegraphNode:t},i),o={},s=[];e=new jt(e??jt.IDENTITY);for(const a of r.scenes)IA(a,e,(c,l)=>{const d={"@id":c.name||c.id,"@type":"ProcessedNode",transformMatrix:new jt(l),geometry:"wireframe",node:c};if(s.push({"@id":`GLTF:${d["@id"]}`,"@type":"GLTFNode",scenegraph:n,scenegraphNode:d["@id"],transformMatrix:new jt(e||jt.IDENTITY),tooltip:c.name||c.id,color:[255,255,255,255],_lighting:"pbr",zoomBasedOpacity:!0,node:c}),c.mesh&&c.mesh.primitives&&c.mesh.primitives.length>0)for(const h of c.mesh.primitives)if(h.attributes.POSITION&&h.attributes.POSITION.min){const f=l.transformAsPoint(h.attributes.POSITION.min,[]),m=l.transformAsPoint(h.attributes.POSITION.max,[]);d.bbox=new Tr({lowerBound:new be(...f.map((g,v)=>Math.min(g,m[v]))),upperBound:new be(...m.map((g,v)=>Math.max(g,f[v])))})}return o[d["@id"]]=d,!0});for(const a of Object.values(o).filter(c=>!c.bbox)){for(const c of UY(a.node).map(l=>o[l]).filter(l=>l.bbox))a.bbox?a.bbox.extend(c.bbox):a.bbox=c.bbox.clone();a.bbox||delete o[a["@id"]]}for(const a of Object.values(o)){const c=a.bbox.lowerBound,h=(a.size=a.bbox.upperBound.clone().vsub(c)).clone().vmul(new be(.5,.5,.5)),f=a.center=c.clone().vadd(h);a.transformMatrix=new jt(jt.IDENTITY).translate(f.toArray()).scale(h.toArray())}for(const a of s)o[a["@id"]]=a;return o}),lL.apply(this,arguments)}class cm{constructor(e){this.deckProps=e,this.bodyUILayer=new v2e({}),this.nodeClickSubject=new on,this.nodeHoverStartSubject=new on,this.nodeHoverStopSubject=new on,this.sceneRotationSubject=new Ir([0,0]),this.nodeDragStartSubject=new on,this.nodeDragSubject=new on,this.nodeDragEndSubject=new on,this.nodeClick$=this.nodeClickSubject.pipe(bd()),this.nodeHoverStart$=this.nodeHoverStartSubject.pipe(bd()),this.nodeHoverStop$=this.nodeHoverStopSubject.pipe(bd()),this.sceneRotation$=this.sceneRotationSubject.pipe(bd()),this.nodeDragStart$=this.nodeDragStartSubject.pipe(bd()),this.nodeDrag$=this.nodeDragSubject.pipe(bd()),this.nodeDragEnd$=this.nodeDragEndSubject.pipe(bd());const t={...e,views:["orthographic"===e.camera?new AP({flipY:!1,near:-1e3}):new s9({orbitAxis:"Y"})],controller:e.interactive??!0,layers:[this.bodyUILayer],onHover:this._onHover,onClick:this._onClick,onViewStateChange:this._onViewStateChange,onDragStart:this._onDragStart,onDrag:this._onDrag,onDragEnd:this._onDragEnd,getCursor:i=>this.cursor??(i.isDragging?"grabbing":"grab")};e.legacyLighting&&(t.effects=[new a2({ambientLight:new fW({color:[255,255,255],intensity:10})})]),this.deck=new lN(t),this.deck.setProps({viewState:{orbitAxis:"Y",minRotationX:e.minRotationX??-15,maxRotationX:e.maxRotationX??15,target:e.target??[.5,.5,0],rotationX:0,rotationOrbit:e.rotation??0,zoom:e.zoom??9.5,camera:e.camera}}),e.rotation&&this.sceneRotationSubject.next([e.rotation,0])}initialize(){var e=this;return D(function*(){for(;!e.bodyUILayer.state;)yield new Promise(t=>{setTimeout(t,200)})})()}finalize(){this.deck.finalize()}setScene(e){if(e?.length>0){let t=this.bodyUILayer.state.zoomOpacity,i=!1;for(const r of e)r.zoomToOnLoad&&(this.zoomTo(r),i=!0);t=i?.05:t,this.deckProps.debugSceneNodeProcessing?this.debugSceneNodeProcessing(e,t):this.bodyUILayer.setState({data:e,zoomOpacity:t})}}debugSceneNodeProcessing(e,t){const i="https://hubmapconsortium.github.io/ccf-3d-reference-object-library/VH_Female/United/VHF_United_Color.glb",r=new jt([.076,0,0,0,0,.076,16875389974302382e-33,0,0,-16875389974302382e-33,.076,0,.49,.034,.11,1]);(function w2e(n,e,t,i){return lL.apply(this,arguments)})(i,r,"VHF_Kidney_L_Low1").then(o=>{console.log("results",o),console.log("data",e),(e=e.concat(Object.values(o))).push({"@id":"TEST","@type":"TEST",scenegraph:i,scenegraphNode:"VHF_Kidney_R_Low",transformMatrix:r,color:[255,255,255,200],_lighting:"pbr",zoomBasedOpacity:!1}),this.bodyUILayer.setState({data:e,zoomOpacity:t})})}zoomTo(e){const t=new jt(e.transformMatrix);this.deck.setProps({viewState:{...this.deck.props.viewState,target:t.getTranslation(),rotationX:0,rotationOrbit:0,zoom:11.5}})}setRotation(e){this.deck.setProps({viewState:{...this.deck.props.viewState,rotationOrbit:e}})}setRotationX(e){this.deck.setProps({viewState:{...this.deck.props.viewState,rotationX:e}})}setZoom(e){this.deck.setProps({viewState:{...this.deck.props.viewState,zoom:e}})}setTarget(e){this.deck.setProps({viewState:{...this.deck.props.viewState,target:e}})}setInteractive(e){this.deck.setProps({controller:e})}_onHover(e){const{lastHovered:t}=this;this.cursor=e.picked?"pointer":void 0,e.picked&&e.object?.["@id"]?t!==e.object&&(t&&this.nodeHoverStopSubject.next(t),this.lastHovered=e.object,this.nodeHoverStartSubject.next(e.object)):t&&(this.nodeHoverStopSubject.next(t),this.lastHovered=void 0)}_onClick(e,t){e.picked&&e.object?.["@id"]&&this.nodeClickSubject.next({node:e.object,ctrlClick:t?.srcEvent?.ctrlKey??void 0})}_onViewStateChange(e){if(e.interactionState?.isZooming){const t=this.bodyUILayer.state,i=Math.min(Math.max(1-(e.viewState.zoom-8.9)/2,.05),1);t.zoomOpacity!==i&&this.bodyUILayer.setState({data:t.data,zoomOpacity:i})}this.deck.setProps({viewState:{...e.viewState}}),this.sceneRotationSubject.next([e.viewState.rotationOrbit,e.viewState.rotationX])}_onDragStart(e,t){this._dragEvent(e,t,this.nodeDragStartSubject)}_onDrag(e,t){this._dragEvent(e,t,this.nodeDragSubject)}_onDragEnd(e,t){this._dragEvent(e,t,this.nodeDragEndSubject)}_dragEvent(e,t,i){e?.object?.["@id"]&&i.next({node:e.object,info:e,e:t})}}Nt([kd.oI,ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],cm.prototype,"_onHover",null),Nt([kd.oI,ke("design:type",Function),ke("design:paramtypes",[Object,Object]),ke("design:returntype",void 0)],cm.prototype,"_onClick",null),Nt([kd.oI,ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],cm.prototype,"_onViewStateChange",null),Nt([kd.oI,ke("design:type",Function),ke("design:paramtypes",[Object,MouseEvent]),ke("design:returntype",void 0)],cm.prototype,"_onDragStart",null),Nt([kd.oI,ke("design:type",Function),ke("design:paramtypes",[Object,MouseEvent]),ke("design:returntype",void 0)],cm.prototype,"_onDrag",null),Nt([kd.oI,ke("design:type",Function),ke("design:paramtypes",[Object,MouseEvent]),ke("design:returntype",void 0)],cm.prototype,"_onDragEnd",null);const x2e=["bodyCanvas"];let E2e=(()=>{class n{constructor(){this.clsName="ccf-body-ui",this.rotationChange=new Qt,this.nodeDrag=new Qt,this.nodeClick=new Qt,this.nodeHoverStart=new Qt,this.nodeHoverStop=new Qt,this.initialized=new Qt,this._interactive=!0,this._rotation=0,this._rotationX=0,this._zoom=9.5,this._target=[0,0,0],this._scene=[],this.subscriptions=[]}get scene(){return this._scene}set scene(t){this._scene=t,this.bodyUI?.setScene(t)}get rotation(){return this._rotation}set rotation(t){this._rotation=t,this.bodyUI?.setRotation(t)}get rotationX(){return this._rotationX}set rotationX(t){this._rotationX=t,this.bodyUI?.setRotationX(t)}get zoom(){return this._zoom}set zoom(t){this._zoom=t,this.bodyUI?.setZoom(t)}get target(){return this._target}set target(t){this._target=t,this.bodyUI?.setTarget(t)}get bounds(){return this._bounds}set bounds(t){this._bounds=t,this.zoomToBounds(t)}get camera(){return this._camera}set camera(t){this._camera=t}get interactive(){return this._interactive}set interactive(t){this._interactive=t,this.bodyUI&&this.recreateBodyUI()}ngAfterViewInit(){this.setupBodyUI()}zoomToBounds(t,i={x:48,y:48}){if(this.bodyCanvas){const{width:r,height:o}=this.bodyCanvas.nativeElement,s=window.devicePixelRatio,a=Math.min(Math.log2((r-i.x)/s/t.x),Math.log2((o-i.y)/s/t.y));this.zoom=a}}setupBodyUI(){var t=this;return D(function*(){const i=t.bodyCanvas.nativeElement,r=new cm({id:"body-ui",canvas:i,zoom:t.zoom,target:[0,0,0],rotation:0,minRotationX:-75,maxRotationX:75,interactive:t.interactive,camera:t.camera});i.addEventListener("contextmenu",o=>o.preventDefault()),yield r.initialize(),t.bodyUI=r,window.bodyUI=r,t.scene?.length>0&&t.bodyUI.setScene(t.scene),t.bounds&&t.zoomToBounds(t.bounds),t.target&&t.bodyUI.setTarget(t.target),t.subscriptions=[t.bodyUI.sceneRotation$.subscribe(o=>t.rotationChange.next(o)),t.bodyUI.nodeDrag$.subscribe(o=>t.nodeDrag.emit(o)),t.bodyUI.nodeClick$.subscribe(o=>t.nodeClick.emit(o)),t.bodyUI.nodeHoverStart$.subscribe(o=>t.nodeHoverStart.emit(o)),t.bodyUI.nodeHoverStop$.subscribe(o=>t.nodeHoverStop.emit(o))],t.initialized.emit()})()}recreateBodyUI(){this.clearSubscriptions(),this.bodyUI.finalize(),this.setupBodyUI()}clearSubscriptions(){this.subscriptions.forEach(t=>t.unsubscribe()),this.subscriptions=[]}ngOnDestroy(){this.clearSubscriptions()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-body-ui"]],viewQuery:function(i,r){if(1&i&&ki(x2e,5,kn),2&i){let o;Dn(o=Rn())&&(r.bodyCanvas=o.first)}},hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},inputs:{scene:"scene",rotation:"rotation",rotationX:"rotationX",zoom:"zoom",target:"target",bounds:"bounds",camera:"camera",interactive:"interactive"},outputs:{rotationChange:"rotationChange",nodeDrag:"nodeDrag",nodeClick:"nodeClick",nodeHoverStart:"nodeHoverStart",nodeHoverStop:"nodeHoverStop",initialized:"initialized"},decls:2,vars:0,consts:[["bodyCanvas",""],[1,"body-ui"]],template:function(i,r){1&i&&yn(0,"canvas",1,0)},styles:["[_nghost-%COMP%]{height:100%;display:block}[_nghost-%COMP%]   .body-ui[_ngcontent-%COMP%]{position:relative!important;background-color:#000;border-radius:.5rem}"],changeDetection:0})}return n})(),C2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi]})}return n})(),VY=(()=>{class n{constructor(){this.bootstrap$=new jh(1)}get appBootstrapped$(){return this.bootstrap$.asObservable()}bootstrap(){this.bootstrap$.next(!0),this.bootstrap$.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function S2e(n,e){return n===e}function dL(n,e=S2e){let t=null,i=null;function r(){return function A2e(n,e,t){if(null===e||null===t||e.length!==t.length)return!1;const i=e.length;for(let r=0;r<i;r++)if(!n(e[r],t[r]))return!1;return!0}(e,t,arguments)||(i=n.apply(null,arguments)),t=arguments,i}return r.reset=function(){t=null,i=null},r}let T2e=(()=>{class n{static set(t){this._value=t}static pop(){const t=this._value;return this._value={},t}}return n._value={},n})();const zY=new vt("INITIAL_STATE_TOKEN",{providedIn:"root",factory:()=>T2e.pop()}),HY=new vt("\u0275NGXS_STATE_FACTORY"),GY=new vt("\u0275NGXS_STATE_CONTEXT_FACTORY");function mf(n){return!!n&&(n instanceof Ct||it(n.lift)&&it(n.subscribe))}function WY(n,e){return e?t=>t.pipe(WY((i,r)=>uo(n(i,r)).pipe(Vt((o,s)=>e(i,o,r,s))))):Pn((t,i)=>{let r=0,o=null,s=!1;t.subscribe(si(i,a=>{o||(o=si(i,void 0,()=>{o=null,s&&i.complete()}),uo(n(a,r++)).subscribe(o))},()=>{s=!0,!o&&i.complete()}))})}function ab(n){return Pn((e,t)=>{let i=!1;e.subscribe(si(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function VA(n){return"function"==typeof n}function $Y(n){return typeof n>"u"}function D2e(n,e,t){return function(r){let o=!!n;return function uL(n){return"function"==typeof n}(n)&&(o=n(r)),function XY(n,e){return VA(n)?n(e):$Y(n)?e:n}(o?e:t,r)}}function R2e(n,e){return function(i){if(function I2e(n){return null===n||$Y(n)}(n)&&i)return i;if(!Array.isArray(i))return[n];const r=i.slice();let o=0;return e>0&&(o=e),r.splice(o,0,n),r}}function lm(n){return function(t){let i=null;for(const r in n){const o=n[r],s=t?.[r],a=VA(o)?o(s):o;a!==s&&(i||(i=Object.assign({},t)),i[r]=a)}return i||t}}function dm(n){return n.constructor&&n.constructor.type?n.constructor.type:n.type}const hL=(n,e,t)=>{n=Object.assign({},n);const i=e.split("."),r=i.length-1;return i.reduce((o,s,a)=>(o[s]=a===r?t:Array.isArray(o[s])?o[s].slice():Object.assign({},o[s]),o&&o[s]),n),n},yw=(n,e)=>e.split(".").reduce((t,i)=>t&&t[i],n),fL=n=>n&&"object"==typeof n&&!Array.isArray(n),pL=(n,...e)=>{if(!e.length)return n;const t=e.shift();if(fL(n)&&fL(t))for(const i in t)fL(t[i])?(n[i]||Object.assign(n,{[i]:{}}),pL(n[i],t[i])):Object.assign(n,{[i]:t[i]});return pL(n,...e)};let KY=(()=>{class n{constructor(t,i){this._ngZone=t,this._platformId=i}enter(t){return Hv(this._platformId)?this.runInsideAngular(t):this.runOutsideAngular(t)}leave(t){return this.runInsideAngular(t)}runInsideAngular(t){return _n.isInAngularZone()?t():this._ngZone.run(t)}runOutsideAngular(t){return _n.isInAngularZone()?this._ngZone.runOutsideAngular(t):t()}}return n.\u0275fac=function(t){return new(t||n)(et(_n),et(Ls))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JY=new vt("ROOT_OPTIONS"),QY=new vt("ROOT_STATE_TOKEN"),ZY=new vt("FEATURE_STATE_TOKEN"),mL=new vt("NGXS_PLUGINS"),qu="NGXS_META",eX="NGXS_OPTIONS_META",gL="NGXS_SELECTOR_META";let zA=(()=>{class n{constructor(){this.defaultsState={},this.selectorOptions={injectContainerState:!0,suppressErrors:!0},this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=KY}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ot({token:n,factory:function(t){let i=null;return t?i=new t:(r=et(JY),i=pL(new n,r)),i;var r},providedIn:"root"}),n})();class U2e{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}}let V2e=(()=>{class n{enter(t){return t()}leave(t){return t()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tX=new vt("USER_PROVIDED_NGXS_EXECUTION_STRATEGY"),z2e=new vt("NGXS_EXECUTION_STRATEGY",{providedIn:"root",factory:()=>{const n=kt(Gi),e=n.get(tX);return n.get(e||(typeof ni.Zone<"u"?KY:V2e))}});function _L(n){if(!n.hasOwnProperty(qu)){const e={name:null,actions:{},defaults:{},path:null,makeRootSelector:t=>t.getStateGetter(e.name),children:[]};Object.defineProperty(n,qu,{value:e})}return um(n)}function um(n){return n[qu]}function bL(n){return n.hasOwnProperty(gL)||Object.defineProperty(n,gL,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),HA(n)}function HA(n){return n[gL]}function nX(n,e){return e&&e.compatibility&&e.compatibility.strictContentSecurityPolicy?function H2e(n){const e=n.slice();return t=>e.reduce((i,r)=>i&&i[r],t)}(n):function G2e(n){const e=n;let t="store."+e[0],i=0;const r=e.length;let o=t;for(;++i<r;)o=o+" && "+(t=t+"."+e[i]);return new Function("store","return "+o+";")}(n)}function K2e(...n){return function cb(n,e,t=Z2e){const i=function eNe(n){return n.reduce((e,t)=>(e[dm(t)]=!0,e),{})}(n),r=e&&function tNe(n){return n.reduce((e,t)=>(e[t]=!0,e),{})}(e);return function(o){return o.pipe(function J2e(n,e){return Ai(t=>{const i=dm(t.action);return n[i]&&(!e||e[t.status])})}(i,r),t())}}(n,["DISPATCHED"])}function Z2e(){return Vt(n=>n.action)}function GA(n){return e=>new Ct(t=>e.subscribe({next(i){n.leave(()=>t.next(i))},error(i){n.leave(()=>t.error(i))},complete(){n.leave(()=>t.complete())}}))}let iX=(()=>{class n{constructor(t){this._executionStrategy=t}enter(t){return this._executionStrategy.enter(t)}leave(t){return this._executionStrategy.leave(t)}}return n.\u0275fac=function(t){return new(t||n)(et(z2e))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rX(n){const e=[];let t=!1;return function(...r){if(t)e.unshift(r);else{for(t=!0,n(...r);e.length>0;){const o=e.pop();o&&n(...o)}t=!1}}}class nNe extends on{constructor(){super(...arguments),this._orderedNext=rX(e=>super.next(e))}next(e){this._orderedNext(e)}}class iNe extends Ir{constructor(e){super(e),this._orderedNext=rX(t=>super.next(t)),this._currentValue=e}getValue(){return this._currentValue}next(e){this._currentValue=e,this._orderedNext(e)}}let oX=(()=>{class n extends nNe{ngOnDestroy(){this.complete()}}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=Wi(n)))(i||n)}})(),n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sX=n=>(...e)=>n.shift()(...e,(...i)=>sX(n)(...i));let aX=(()=>{class n{constructor(t){this._injector=t,this._errorHandler=null}reportErrorSafely(t){null===this._errorHandler&&(this._errorHandler=this._injector.get(ga));try{this._errorHandler.handleError(t)}catch{}}}return n.\u0275fac=function(t){return new(t||n)(et(wi))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yL=(()=>{class n extends iNe{constructor(){super({})}ngOnDestroy(){this.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vL=(()=>{class n{constructor(t,i){this._parentManager=t,this._pluginHandlers=i,this.plugins=[],this.registerHandlers()}get rootPlugins(){return this._parentManager&&this._parentManager.plugins||this.plugins}registerHandlers(){const t=this.getPluginHandlers();this.rootPlugins.push(...t)}getPluginHandlers(){return(this._pluginHandlers||[]).map(i=>i.handle?i.handle.bind(i):i)}}return n.\u0275fac=function(t){return new(t||n)(et(n,12),et(mL,8))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac}),n})(),cX=(()=>{class n extends on{}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=Wi(n)))(i||n)}})(),n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oNe=(()=>{class n{constructor(t,i,r,o,s,a){this._actions=t,this._actionResults=i,this._pluginManager=r,this._stateStream=o,this._ngxsExecutionStrategy=s,this._internalErrorReporter=a}dispatch(t){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(t)).pipe(function rNe(n,e){return t=>{let i=!1;return t.subscribe({error:r=>{e.enter(()=>Promise.resolve().then(()=>{i||e.leave(()=>n.reportErrorSafely(r))}))}}),new Ct(r=>(i=!0,t.pipe(GA(e)).subscribe(r)))}}(this._internalErrorReporter,this._ngxsExecutionStrategy))}dispatchByEvents(t){return Array.isArray(t)?0===t.length?On(this._stateStream.getValue()):c0(t.map(i=>this.dispatchSingle(i))):this.dispatchSingle(t)}dispatchSingle(t){const i=this._stateStream.getValue();return sX([...this._pluginManager.plugins,(o,s)=>{o!==i&&this._stateStream.next(o);const a=this.getActionResultStream(s);return a.subscribe(c=>this._actions.next(c)),this._actions.next({action:s,status:"DISPATCHED"}),this.createDispatchObservable(a)}])(i,t).pipe(ol())}getActionResultStream(t){return this._actionResults.pipe(Ai(i=>i.action===t&&"DISPATCHED"!==i.status),vr(1),ol())}createDispatchObservable(t){return t.pipe(WY(i=>{switch(i.status){case"SUCCESSFUL":return On(this._stateStream.getValue());case"ERRORED":return Wh(i.error);default:return js}})).pipe(ol())}}return n.\u0275fac=function(t){return new(t||n)(et(oX),et(cX),et(vL),et(yL),et(iX),et(aX))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vw=(()=>{class n{constructor(t,i,r){this._stateStream=t,this._dispatcher=i,this._config=r}getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:i=>this._stateStream.next(i),dispatch:i=>this._dispatcher.dispatch(i)}}setStateToTheCurrentWithNew(t){const i=this.getRootStateOperations(),r=i.getState();i.setState(Object.assign(Object.assign({},r),t.defaults))}}return n.\u0275fac=function(t){return new(t||n)(et(yL),et(oNe),et(zA))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wL=(()=>{class n{constructor(t){this._internalStateOperations=t}createStateContext(t){const i=this._internalStateOperations.getRootStateOperations();return{getState:()=>hX(i.getState(),t.path),patchState(r){const o=i.getState(),s=function sNe(n){return e=>{const t=Object.assign({},e);for(const i in n)t[i]=n[i];return t}}(r);return uX(i,o,s,t.path)},setState(r){const o=i.getState();return VA(r)?uX(i,o,r,t.path):dX(i,o,r,t.path)},dispatch:r=>i.dispatch(r)}}}return n.\u0275fac=function(t){return new(t||n)(et(vw))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dX(n,e,t,i){const r=hL(e,i,t);return n.setState(r),r}function uX(n,e,t,i){return dX(n,e,t(hX(e,i)),i)}function hX(n,e){return yw(n,e)}new RegExp("^[a-zA-Z0-9_]+$");let xL=(()=>{class n{}return n.type="@@INIT",n})(),EL=(()=>{class n{constructor(t){this.addedStates=t}}return n.type="@@UPDATE_STATE",n})();new vt("NGXS_DEVELOPMENT_OPTIONS",{providedIn:"root",factory:()=>({warnOnUnhandledActions:!0})});let lb=(()=>{class n{constructor(t,i,r,o,s,a,c){this._injector=t,this._config=i,this._parentFactory=r,this._actions=o,this._actionResults=s,this._stateContextFactory=a,this._initialState=c,this._actionsSubscription=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=dL(()=>{const l=this;function d(f){const m=l.statePaths[f];return m?nX(m.split("."),l._config):null}return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(f){let m=d(f);return m||((...g)=>(m||(m=d(f)),m?m(...g):void 0))},getSelectorOptions:f=>Object.assign(Object.assign({},l._config.selectorOptions),f||{})}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}static _cloneDefaults(t){let i=t;return Array.isArray(t)?i=t.slice():function X2e(n){return"object"==typeof n&&null!==n||"function"==typeof n}(t)?i=Object.assign({},t):void 0===t&&(i={}),i}ngOnDestroy(){var t;null===(t=this._actionsSubscription)||void 0===t||t.unsubscribe()}add(t){const{newStates:i}=this.addToStatesMap(t);if(!i.length)return[];const r=function W2e(n){const e=t=>n.find(r=>r===t)[qu].name;return n.reduce((t,i)=>{const{name:r,children:o}=i[qu];return t[r]=(o||[]).map(e),t},{})}(i),o=function Y2e(n){const e=[],t={},i=(r,o=[])=>{Array.isArray(o)||(o=[]),o.push(r),t[r]=!0,n[r].forEach(s=>{t[s]||i(s,o.slice(0))}),e.indexOf(r)<0&&e.push(r)};return Object.keys(n).forEach(r=>i(r)),e.reverse()}(r),s=function q2e(n,e={}){const t=(i,r)=>{for(const o in i)if(i.hasOwnProperty(o)&&i[o].indexOf(r)>=0){const s=t(i,o);return null!==s?`${s}.${o}`:o}return null};for(const i in n)if(n.hasOwnProperty(i)){const r=t(n,i);e[i]=r?`${r}.${i}`:i}return e}(r),a=function $2e(n){return n.reduce((e,t)=>(e[t[qu].name]=t,e),{})}(i),c=[];for(const l of o){const d=a[l],h=s[l],f=d[qu];this.addRuntimeInfoToMeta(f,h);const m={name:l,path:h,isInitialised:!1,actions:f.actions,instance:this._injector.get(d),defaults:n._cloneDefaults(f.defaults)};this.hasBeenMountedAndBootstrapped(l,h)||c.push(m),this.states.push(m)}return c}addAndReturnDefaults(t){const r=this.add(t||[]);return{defaults:r.reduce((s,a)=>hL(s,a.path,a.defaults),{}),states:r}}connectActionHandlers(){if(this._parentFactory||null!==this._actionsSubscription)return;const t=new on;this._actionsSubscription=this._actions.pipe(Ai(i=>"DISPATCHED"===i.status),ts(i=>{t.next(i);const r=i.action;return this.invokeActions(t,r).pipe(Vt(()=>({action:r,status:"SUCCESSFUL"})),ab({action:r,status:"CANCELED"}),ac(o=>On({action:r,status:"ERRORED",error:o})))})).subscribe(i=>this._actionResults.next(i))}invokeActions(t,i){const r=dm(i),o=[];let s=!1;for(const a of this.states){const c=a.actions[r];if(c)for(const l of c){const d=this._stateContextFactory.createStateContext(a);try{let h=a.instance[l.fn](d,i);h instanceof Promise&&(h=io(h)),mf(h)?(h=h.pipe(ts(f=>f instanceof Promise?io(f):mf(f)?f:On(f)),ab({})),l.options.cancelUncompleted&&(h=h.pipe(Ii(t.pipe(K2e(i)))))):h=On({}).pipe(ol()),o.push(h)}catch(h){o.push(Wh(h))}s=!0}}return o.length||o.push(On({})),c0(o)}addToStatesMap(t){const i=[],r=this.statesByName;for(const o of t){const s=um(o).name;!r[s]&&(i.push(o),r[s]=o)}return{newStates:i}}addRuntimeInfoToMeta(t,i){this.statePaths[t.name]=i,t.path=i}hasBeenMountedAndBootstrapped(t,i){const r=void 0!==yw(this._initialState,i);return this.statesByName[t]&&r}}return n.\u0275fac=function(t){return new(t||n)(et(wi),et(zA),et(n,12),et(oX),et(cX),et(wL),et(zY,8))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac}),n})();function fX(n){const e=HA(n)||um(n);return e&&e.makeRootSelector||(()=>n)}let Vd=(()=>{class n{constructor(t,i,r,o,s,a){this._stateStream=t,this._internalStateOperations=i,this._config=r,this._internalExecutionStrategy=o,this._stateFactory=s,this._selectableStateStream=this._stateStream.pipe(GA(this._internalExecutionStrategy),ol({bufferSize:1,refCount:!0})),this.initStateStream(a)}dispatch(t){return this._internalStateOperations.getRootStateOperations().dispatch(t)}select(t){const i=this.getStoreBoundSelectorFn(t);return this._selectableStateStream.pipe(Vt(i),ac(r=>{const{suppressErrors:o}=this._config.selectorOptions;return r instanceof TypeError&&o?On(void 0):Wh(r)}),Va(),GA(this._internalExecutionStrategy))}selectOnce(t){return this.select(t).pipe(vr(1))}selectSnapshot(t){return this.getStoreBoundSelectorFn(t)(this._stateStream.getValue())}subscribe(t){return this._selectableStateStream.pipe(GA(this._internalExecutionStrategy)).subscribe(t)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(t){return this._internalStateOperations.getRootStateOperations().setState(t)}getStoreBoundSelectorFn(t){return fX(t)(this._stateFactory.getRuntimeSelectorContext())}initStateStream(t){const i=this._stateStream.value;if(!i||0===Object.keys(i).length){const s=Object.keys(this._config.defaultsState).length>0?Object.assign(Object.assign({},this._config.defaultsState),t):t;this._stateStream.next(s)}}}return n.\u0275fac=function(t){return new(t||n)(et(yL),et(vw),et(zA),et(iX),et(lb),et(zY,8))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$A=(()=>{class n{constructor(t,i){n.store=t,n.config=i}ngOnDestroy(){n.store=null,n.config=null}}return n.store=null,n.config=null,n.\u0275fac=function(t){return new(t||n)(et(Vd),et(zA))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pX=(()=>{class n{constructor(t,i,r,o,s){this._store=t,this._internalErrorReporter=i,this._internalStateOperations=r,this._stateContextFactory=o,this._bootstrapper=s,this._destroy$=new on}ngOnDestroy(){this._destroy$.next()}ngxsBootstrap(t,i){this._internalStateOperations.getRootStateOperations().dispatch(t).pipe(Ai(()=>!!i),fr(()=>this._invokeInitOnStates(i.states)),ts(()=>this._bootstrapper.appBootstrapped$),Ai(r=>!!r),ac(r=>(this._internalErrorReporter.reportErrorSafely(r),js)),Ii(this._destroy$)).subscribe(()=>this._invokeBootstrapOnStates(i.states))}_invokeInitOnStates(t){for(const i of t){const r=i.instance;r.ngxsOnChanges&&this._store.select(o=>yw(o,i.path)).pipe(ps(void 0),Pn((n,e)=>{let t,i=!1;n.subscribe(si(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))}),Ii(this._destroy$)).subscribe(([o,s])=>{const a=new U2e(o,s,!i.isInitialised);r.ngxsOnChanges(a)}),r.ngxsOnInit&&r.ngxsOnInit(this._getStateContext(i)),i.isInitialised=!0}}_invokeBootstrapOnStates(t){for(const i of t){const r=i.instance;r.ngxsAfterBootstrap&&r.ngxsAfterBootstrap(this._getStateContext(i))}}_getStateContext(t){return this._stateContextFactory.createStateContext(t)}}return n.\u0275fac=function(t){return new(t||n)(et(Vd),et(aX),et(vw),et(wL),et(VY))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yNe=(()=>{class n{constructor(t,i,r,o,s=[],a){const c=t.addAndReturnDefaults(s);i.setStateToTheCurrentWithNew(c),t.connectActionHandlers(),a.ngxsBootstrap(new xL,c)}}return n.\u0275fac=function(t){return new(t||n)(et(lb),et(vw),et(Vd),et($A),et(QY,8),et(pX))},n.\u0275mod=dn({type:n}),n.\u0275inj=cn({}),n})(),vNe=(()=>{class n{constructor(t,i,r,o=[],s){const a=n.flattenStates(o),c=r.addAndReturnDefaults(a);c.states.length&&(i.setStateToTheCurrentWithNew(c),s.ngxsBootstrap(new EL(c.defaults),c))}static flattenStates(t=[]){return t.reduce((i,r)=>i.concat(r),[])}}return n.\u0275fac=function(t){return new(t||n)(et(Vd),et(vw),et(lb),et(ZY,8),et(pX))},n.\u0275mod=dn({type:n}),n.\u0275inj=cn({}),n})(),wNe=(()=>{class n{static forRoot(t=[],i={}){return{ngModule:yNe,providers:[lb,vL,...t,...n.ngxsTokenProviders(t,i)]}}static forFeature(t=[]){return{ngModule:vNe,providers:[lb,vL,...t,{provide:ZY,multi:!0,useValue:t}]}}static ngxsTokenProviders(t,i){return[{provide:tX,useValue:i.executionStrategy},{provide:QY,useValue:t},{provide:JY,useValue:i},{provide:jv,useFactory:n.appBootstrapListenerFactory,multi:!0,deps:[VY]},{provide:GY,useExisting:wL},{provide:HY,useExisting:lb}]}static appBootstrapListenerFactory(t){return()=>t.bootstrap()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dn({type:n}),n.\u0275inj=cn({}),n})();function CL(n,e){return(t,i)=>{const r=_L(t.constructor);Array.isArray(n)||(n=[n]);for(const o of n){const s=o.type;r.actions[s]||(r.actions[s]=[]),r.actions[s].push({fn:i,options:e||{},type:s})}}}function zd(n){return e=>{const t=e,i=_L(t),r=Object.getPrototypeOf(t),o=function xNe(n,e){return Object.assign(Object.assign({},n[eX]||{}),e)}(r,n);(function ENe(n){const{meta:e,inheritedStateClass:t,optionsWithInheritance:i}=n,{children:r,defaults:o,name:s}=i,a="string"==typeof s?s:s&&s.getName()||null;if(t.hasOwnProperty(qu)){const c=t[qu]||{};e.actions=Object.assign(Object.assign({},e.actions),c.actions)}e.children=r,e.defaults=o,e.name=a})({meta:i,inheritedStateClass:r,optionsWithInheritance:o}),t[eX]=o}}const CNe=36;function qA(n,...e){return function(t,i){const r=i.toString(),o=`__${r}__selector`,s=function ANe(n,e,t=[]){return e=e||function TNe(n){const e=n.length-1;return n.charCodeAt(e)===CNe?n.slice(0,e):n}(n),"string"==typeof e?nX(t.length?[e,...t]:e.split("."),$A.config):e}(r,n,e);Object.defineProperties(t,{[o]:{writable:!0,enumerable:!1,configurable:!0},[r]:{enumerable:!0,configurable:!0,get(){return this[o]||(this[o]=function SNe(n){return $A.store||function j2e(){throw new Error("You have forgotten to import the NGXS module!")}(),$A.store.select(n)}(s))}}})}}const mX="NGXS_SELECTOR_OPTIONS_META",YA={getOptions:n=>n&&n[mX]||{},defineOptions:(n,e)=>{n&&(n[mX]=e)}};function ww(n,e,t){const i=function gNe(n,e){const t=e&&e.containerClass,r=dL(function(...s){const a=n.apply(t,s);return a instanceof Function?dL.apply(null,[a]):a});return Object.setPrototypeOf(r,n),r}(e,t),r=function MNe(n,e){const t=bL(n);t.originalFn=n;let i=()=>({});e&&(t.containerClass=e.containerClass,t.selectorName=e.selectorName||null,i=e.getSelectorOptions||i);const r=Object.assign({},t);return t.getSelectorOptions=()=>function INe(n,e){return Object.assign(Object.assign(Object.assign(Object.assign({},YA.getOptions(n.containerClass)||{}),YA.getOptions(n.originalFn)||{}),n.getSelectorOptions()||{}),e)}(r,i()),t}(e,t);return r.makeRootSelector=function mNe(n,e,t){return i=>{const{argumentSelectorFunctions:r,selectorOptions:o}=function _Ne(n,e,t=[]){const i=e.getSelectorOptions(),r=n.getSelectorOptions(i),s=function bNe(n=[],e,t){const i=[];return t&&(0===n.length||e.injectContainerState)&&um(t)&&i.push(t),n&&i.push(...n),i}(t,r,e.containerClass).map(a=>fX(a)(n));return{selectorOptions:r,argumentSelectorFunctions:s}}(i,n,e);return function(a){const c=r.map(l=>l(a));try{return t(...c)}catch(l){if(l instanceof TypeError&&o.suppressErrors)return;throw l}}}}(r,n,i),i}function db(n){return(e,t,i)=>{i||(i=Object.getOwnPropertyDescriptor(e,t));const r=i?.value,o=ww(n,r,{containerClass:e,selectorName:t.toString(),getSelectorOptions:()=>({})}),s={configurable:!0,get:()=>o};return s.originalFn=r,s}}class DNe{constructor(e){this.name=e,bL(this).makeRootSelector=i=>i.getStateGetter(this.name)}getName(){return this.name}toString(){return`StateToken[${this.name}]`}}function ONe(n,e){if(1&n&&(Xe(0,"li",4),Yt(1),ri(2,"json"),ot()),2&n){const t=e.$implicit;dt(),XC("",t[0],": ",ai(2,2,t[1]),"")}}function kNe(n,e){if(1&n&&(Xe(0,"div",1)(1,"div"),Yt(2),ot(),Xe(3,"ul",2),mn(4,ONe,3,4,"li",3),ot()()),2&n){const t=e.$implicit;dt(2),Lo(t[0]),dt(2),Rt("ngForOf",t[1])}}let PNe=(()=>{class n{get data(){return Object.entries(this.root).map(([r,o])=>[r,Object.entries(o)]).filter(([r,o])=>o.length>0)}constructor(t,i){this.clsName="ccf-store-debug",this.root={},this.subscriptions=new zt;const r=t.subscribe(o=>{this.root=o,i.markForCheck()});this.subscriptions.add(r)}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Vd),Ae(Mi))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-store-debug"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},decls:1,vars:1,consts:[["class","state",4,"ngFor","ngForOf"],[1,"state"],[1,"kvlist"],["class","kvpair",4,"ngFor","ngForOf"],[1,"kvpair"]],template:function(i,r){1&i&&mn(0,kNe,5,2,"div",0),2&i&&Rt("ngForOf",r.data)},dependencies:[rl,JH],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return n})(),gX=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(ud),Ae(kn))};static#t=this.\u0275dir=Zt({type:n})}return n})(),hm=(()=>{class n extends gX{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Wi(n)))(r||n)}})();static#t=this.\u0275dir=Zt({type:n,features:[mi]})}return n})();const $s=new vt(""),FNe={provide:$s,useExisting:di(()=>ub),multi:!0},BNe=new vt("");let ub=(()=>{class n extends gX{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function LNe(){const n=Bh()?Bh().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(ud),Ae(kn),Ae(BNe,8))};static#t=this.\u0275dir=Zt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Bt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[ei([FNe]),mi]})}return n})();function gf(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function bX(n){return null!=n&&"number"==typeof n.length}const os=new vt(""),_f=new vt(""),jNe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class fm{static min(e){return function yX(n){return e=>{if(gf(e.value)||gf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function vX(n){return e=>{if(gf(e.value)||gf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function wX(n){return gf(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function xX(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function EX(n){return gf(n.value)||jNe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function CX(n){return e=>gf(e.value)||!bX(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return SX(e)}static pattern(e){return function AX(n){if(!n)return KA;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(gf(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return OX(e)}static composeAsync(e){return kX(e)}}function SX(n){return e=>bX(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function KA(n){return null}function TX(n){return null!=n}function MX(n){return u_(n)?io(n):n}function IX(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function DX(n,e){return e.map(t=>t(n))}function RX(n){return n.map(e=>function UNe(n){return!n.validate}(e)?e:t=>e.validate(t))}function OX(n){if(!n)return null;const e=n.filter(TX);return 0==e.length?null:function(t){return IX(DX(t,e))}}function SL(n){return null!=n?OX(RX(n)):null}function kX(n){if(!n)return null;const e=n.filter(TX);return 0==e.length?null:function(t){return c0(DX(t,e).map(MX)).pipe(Vt(IX))}}function AL(n){return null!=n?kX(RX(n)):null}function PX(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function NX(n){return n._rawValidators}function FX(n){return n._rawAsyncValidators}function TL(n){return n?Array.isArray(n)?n:[n]:[]}function JA(n,e){return Array.isArray(n)?n.includes(e):n===e}function LX(n,e){const t=TL(e);return TL(n).forEach(r=>{JA(t,r)||t.push(r)}),t}function BX(n,e){return TL(e).filter(t=>!JA(n,t))}class jX{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=SL(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=AL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ha extends jX{get formDirective(){return null}get path(){return null}}class Hl extends jX{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class UX{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let QA=(()=>{class n extends UX{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Hl,2))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&bn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[mi]})}return n})(),VX=(()=>{class n extends UX{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Ha,10))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&bn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[mi]})}return n})();const xw="VALID",eT="INVALID",hb="PENDING",Ew="DISABLED";function DL(n){return(tT(n)?n.validators:n)||null}function RL(n,e){return(tT(e)?e.asyncValidators:n)||null}function tT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class OL{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===xw}get invalid(){return this.status===eT}get pending(){return this.status==hb}get disabled(){return this.status===Ew}get enabled(){return this.status!==Ew}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(LX(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(LX(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(BX(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(BX(e,this._rawAsyncValidators))}hasValidator(e){return JA(this._rawValidators,e)}hasAsyncValidator(e){return JA(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hb,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ew,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xw,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xw||this.status===hb)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ew:xw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hb,this._hasOwnPendingAsyncValidator=!0;const t=MX(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Qt,this.statusChanges=new Qt}_calculateStatus(){return this._allControlsDisabled()?Ew:this.errors?eT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hb)?hb:this._anyControlsHaveStatus(eT)?eT:xw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function GNe(n){return Array.isArray(n)?SL(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function WNe(n){return Array.isArray(n)?AL(n):n||null}(this._rawAsyncValidators)}}class kL extends OL{constructor(e,t,i){super(DL(t),RL(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function GX(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new wt(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function HX(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new wt(1e3,"");if(!i[t])throw new wt(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const pm=new vt("CallSetDisabledState",{providedIn:"root",factory:()=>Cw}),Cw="always";function Sw(n,e,t=Cw){PL(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function YNe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&WX(n,e)})}(n,e),function KNe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function XNe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&WX(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function qNe(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function iT(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),oT(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function rT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function PL(n,e){const t=NX(n);null!==e.validator?n.setValidators(PX(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=FX(n);null!==e.asyncValidator?n.setAsyncValidators(PX(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();rT(e._rawValidators,r),rT(e._rawAsyncValidators,r)}function oT(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=NX(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=FX(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return rT(e._rawValidators,i),rT(e._rawAsyncValidators,i),t}function WX(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function $X(n,e){PL(n,e)}function FL(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function qX(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function LL(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===ub?t=o:function ZNe(n){return Object.getPrototypeOf(n.constructor)===hm}(o)?i=o:r=o}),r||i||t||null}const tFe={provide:Ha,useExisting:di(()=>mm)},Aw=Promise.resolve();let mm=(()=>{class n extends Ha{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Qt,this.form=new kL({},SL(t),AL(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Aw.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Sw(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Aw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Aw.then(()=>{const i=this._findContainer(t.path),r=new kL({});$X(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Aw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Aw.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,qX(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(os,10),Ae(_f,10),Ae(pm,8))};static#t=this.\u0275dir=Zt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Bt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[mt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ei([tFe]),mi]})}return n})();function YX(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function XX(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const sT=class extends OL{constructor(e=null,t,i){super(DL(t),RL(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=XX(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){YX(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){YX(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){XX(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Tw=sT,rFe={provide:Hl,useExisting:di(()=>BL)},QX=Promise.resolve();let BL=(()=>{class n extends Hl{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new sT,this._registered=!1,this.name="",this.update=new Qt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=LL(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),FL(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Sw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){QX.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&vn(i);QX.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function nT(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Ha,9),Ae(os,10),Ae(_f,10),Ae($s,10),Ae(Mi,8),Ae(pm,8))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[mt.None,"disabled","isDisabled"],model:[mt.None,"ngModel","model"],options:[mt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ei([rFe]),mi,br]})}return n})(),ZX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const jL=new vt(""),lFe={provide:Hl,useExisting:di(()=>Mw)};let Mw=(()=>{class n extends Hl{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new Qt,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=LL(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&iT(i,this,!1),Sw(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}FL(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&iT(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static#t=this.\u0275fac=function(i){return new(i||n)(Ae(os,10),Ae(_f,10),Ae($s,10),Ae(jL,8),Ae(pm,8))};static#n=this.\u0275dir=Zt({type:n,selectors:[["","formControl",""]],inputs:{form:[mt.None,"formControl","form"],isDisabled:[mt.None,"disabled","isDisabled"],model:[mt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[ei([lFe]),mi,br]})}return n})();const dFe={provide:Ha,useExisting:di(()=>fb)};let fb=(()=>{class n extends Ha{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Qt,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(oT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Sw(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){iT(t.control||null,t,!1),function eFe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,qX(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(iT(i||null,t),(n=>n instanceof sT)(r)&&(Sw(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);$X(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function JNe(n,e){return oT(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){PL(this.form,this),this._oldForm&&oT(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(os,10),Ae(_f,10),Ae(pm,8))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Bt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[mt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ei([dFe]),mi,br]})}return n})();let gm=(()=>{class n{constructor(){this._validator=KA}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):KA,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,features:[br]})}return n})();const AFe={provide:os,useExisting:di(()=>WL),multi:!0};let WL=(()=>{class n extends gm{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function aK(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>SX(t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Wi(n)))(r||n)}})();static#t=this.\u0275dir=Zt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&fi("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[ei([AFe]),mi]})}return n})(),pK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({})}return n})(),$L=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:pm,useValue:t.callSetDisabledState??Cw}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[pK]})}return n})(),qL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:jL,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:pm,useValue:t.callSetDisabledState??Cw}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[pK]})}return n})();const Iw=At(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function _m(n){return new Ct(e=>{uo(n()).subscribe(e)})}function YL(n){return Vt(()=>n)}function mK(n,e){return e?t=>n0(e.pipe(vr(1),function DFe(){return Pn((n,e)=>{n.subscribe(si(e,Tt))})}()),t.pipe(mK(n))):ts((t,i)=>uo(n(t,i)).pipe(vr(1),YL(t)))}function XL(n,e=b_){const t=m0(n,e);return mK(()=>t)}const RFe=["panel"],OFe=["*"];function kFe(n,e){if(1&n){const t=Ki();Xe(0,"div",1,0),Bt("@panelAnimation.done",function(r){return fn(t),hn(In()._animationDone.next(r))}),zn(2),ot()}if(2&n){const t=e.id,i=In();Rt("id",i.id)("ngClass",i._classList)("@panelAnimation",i.isOpen?"visible":"hidden"),fi("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(t))}}const PFe=sl("panelAnimation",[jo("void, hidden",ar({opacity:0,transform:"scaleY(0.8)"})),Ds(":enter, hidden => visible",[ak([Is("0.03s linear",ar({opacity:1})),Is("0.12s cubic-bezier(0, 0, 0.2, 1)",ar({transform:"scaleY(1)"}))])]),Ds(":leave, visible => hidden",[Is("0.075s linear",ar({opacity:0}))])]);let NFe=0;class FFe{constructor(e,t){this.source=e,this.option=t}}const gK=new vt("mat-autocomplete-default-options",{providedIn:"root",factory:function LFe(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let BFe=(()=>{class n{get isOpen(){return this._isOpen&&this.showPanel}_setColor(t){this._color=t,this._setThemeClasses(this._classList)}set classList(t){this._classList=t&&t.length?function zue(n,e=/\s+/){const t=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(e);for(const r of i){const o=`${r}`.trim();o&&t.push(o)}}return t}(t).reduce((i,r)=>(i[r]=!0,i),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}constructor(t,i,r,o){this._changeDetectorRef=t,this._elementRef=i,this._defaults=r,this._activeOptionChanges=zt.EMPTY,this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._animationDone=new Qt,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new Qt,this.opened=new Qt,this.closed=new Qt,this.optionActivated=new Qt,this._classList={},this.id="mat-autocomplete-"+NFe++,this.inertGroups=o?.SAFARI||!1,this.autoActiveFirstOption=!!r.autoActiveFirstOption,this.autoSelectActiveOption=!!r.autoSelectActiveOption,this.requireSelection=!!r.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new o5(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const i=new FFe(this,t);this.optionSelected.emit(i)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}_setThemeClasses(t){t["mat-primary"]="primary"===this._color,t["mat-warn"]="warn"===this._color,t["mat-accent"]="accent"===this._color}_skipPredicate(){return!1}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Mi),Ae(kn),Ae(gK),Ae(ro))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-autocomplete"]],contentQueries:function(i,r,o){if(1&i&&(mr(o,s0,5),mr(o,vk,5)),2&i){let s;Dn(s=Rn())&&(r.options=s),Dn(s=Rn())&&(r.optionGroups=s)}},viewQuery:function(i,r){if(1&i&&(ki(tc,7),ki(RFe,5)),2&i){let o;Dn(o=Rn())&&(r.template=o.first),Dn(o=Rn())&&(r.panel=o.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[mt.None,"aria-label","ariaLabel"],ariaLabelledby:[mt.None,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[mt.HasDecoratorInputTransform,"autoActiveFirstOption","autoActiveFirstOption",vn],autoSelectActiveOption:[mt.HasDecoratorInputTransform,"autoSelectActiveOption","autoSelectActiveOption",vn],requireSelection:[mt.HasDecoratorInputTransform,"requireSelection","requireSelection",vn],panelWidth:"panelWidth",disableRipple:[mt.HasDecoratorInputTransform,"disableRipple","disableRipple",vn],classList:[mt.None,"class","classList"],hideSingleSelectionIndicator:[mt.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",vn]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[ei([{provide:yk,useExisting:n}]),Hr,Ui],ngContentSelectors:OFe,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"]],template:function(i,r){1&i&&(yr(),mn(0,kFe,3,5,"ng-template"))},dependencies:[xS],styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[PFe]},changeDetection:0})}return n})();const jFe={provide:$s,useExisting:di(()=>bK),multi:!0},_K=new vt("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const n=kt(ms);return()=>n.scrollStrategies.reposition()}});let bK=(()=>{class n{constructor(t,i,r,o,s,a,c,l,d,h,f){this._element=t,this._overlay=i,this._viewContainerRef=r,this._zone=o,this._changeDetectorRef=s,this._dir=c,this._formField=l,this._document=d,this._viewportRuler=h,this._defaults=f,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=zt.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new on,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=_m(()=>{const m=this.autocomplete?this.autocomplete.options:null;return m?m.changes.pipe(ps(m),Fr(()=>Us(...m.map(g=>g.onSelectionChange)))):this._zone.onStable.pipe(vr(1),Fr(()=>this.optionSelections))}),this._handlePanelKeydown=m=>{(27===m.keyCode&&!rc(m)||38===m.keyCode&&rc(m,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),m.stopPropagation(),m.preventDefault())},this._trackedModal=null,this._scrollStrategy=a}ngAfterViewInit(){const t=this._getWindow();typeof t<"u"&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();typeof t<"u"&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal)&&y_(this._trackedModal,"aria-owns",this.autocomplete.id)}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Us(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Ai(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Ai(()=>this._overlayAttached)):On()).pipe(Vt(t=>t instanceof S5?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Us(jp(this._document,"click"),jp(this._document,"auxclick"),jp(this._document,"touchend")).pipe(Ai(t=>{const i=Ru(t),r=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,o=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(i))&&(!o||!o.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const i=t.keyCode,r=rc(t);if(27===i&&!r&&t.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&13===i&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const o=this.autocomplete._keyManager.activeItem,s=38===i||40===i;9===i||s&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):s&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(s||this.autocomplete._keyManager.activeItem!==o)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let i=t.target,r=i.value;if("number"===i.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r){if(this._previousValue=r,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(r),r){if(this.panelOpen&&!this.autocomplete.requireSelection){const o=this.autocomplete.options?.find(s=>s.selected);o&&r!==this._getDisplayValue(o.value)&&o.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._document.activeElement===t.target){const o=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(o)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){return Us(this._zone.onStable.pipe(vr(1)),this.autocomplete.options.changes.pipe(fr(()=>this._positionStrategy.reapplyLastPosition()),XL(0))).pipe(Fr(()=>(this._zone.run(()=>{const r=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit())}),this.panelClosingActions)),vr(1)).subscribe(r=>this._setValueAndClose(r))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(t){const i=this.autocomplete;return i&&i.displayWith?i.displayWith(t):t}_assignOptionValue(t){const i=this._getDisplayValue(t);null==t&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(i??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){const i=this.autocomplete,r=t?t.source:this._pendingAutoselectedOption;r?(this._clearPreviousSelectedOption(r),this._assignOptionValue(r.value),this._onChange(r.value),i._emitSelectEvent(r),this._element.nativeElement.focus()):i.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),i._animationDone?i._animationDone.pipe(vr(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(t,i){this.autocomplete?.options?.forEach(r=>{r!==t&&r.selected&&r.deselect(i)})}_openPanelInternal(t=this._element.nativeElement.value){this._attachOverlay(t),this._floatLabel(),this._trackedModal&&PS(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(t){let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new S_(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})})),i&&!i.hasAttached()&&(i.attach(this._portal),this._valueOnAttach=t,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const r=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&r!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const t=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=t.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=t.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new g0({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let s;s="above"===this.position?o:"below"===this.position?i:[...i,...o],t.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;if(t.autoActiveFirstOption){let i=-1;for(let r=0;r<t.options.length;r++)if(!t.options.get(r).disabled){i=r;break}t._keyManager.setActiveItem(i)}else t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(t){const i=this.autocomplete,r=A5(t,i.options,i.optionGroups);if(0===t&&1===r)i._setScrollTop(0);else if(i.panel){const o=i.options.toArray()[t];if(o){const s=o._getHostElement(),a=T5(s.offsetTop,s.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(a)}}}_applyModalPanelOwnership(){const t=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const i=this.autocomplete.id;this._trackedModal&&y_(this._trackedModal,"aria-owns",i),PS(t,"aria-owns",i),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(y_(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn),Ae(ms),Ae(Ts),Ae(_n),Ae(Mi),Ae(_K),Ae(Fl,8),Ae(a0,9),Ae(ci,8),Ae(t1),Ae(gK,8))};static#t=this.\u0275dir=Zt({type:n,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(i,r){1&i&&Bt("focusin",function(){return r._handleFocus()})("blur",function(){return r._onTouched()})("input",function(s){return r._handleInput(s)})("keydown",function(s){return r._handleKeydown(s)})("click",function(){return r._handleClick()}),2&i&&fi("autocomplete",r.autocompleteAttribute)("role",r.autocompleteDisabled?null:"combobox")("aria-autocomplete",r.autocompleteDisabled?null:"list")("aria-activedescendant",r.panelOpen&&r.activeOption?r.activeOption.id:null)("aria-expanded",r.autocompleteDisabled?null:r.panelOpen.toString())("aria-controls",r.autocompleteDisabled||!r.panelOpen||null==r.autocomplete?null:r.autocomplete.id)("aria-haspopup",r.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[mt.None,"matAutocomplete","autocomplete"],position:[mt.None,"matAutocompletePosition","position"],connectedTo:[mt.None,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[mt.None,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[mt.HasDecoratorInputTransform,"matAutocompleteDisabled","autocompleteDisabled",vn]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[ei([jFe]),Hr,br]})}return n})();const yK=m_({passive:!0});let VFe=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return js;const i=Vh(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new on,s="cdk-text-field-autofilled",a=c=>{"cdk-text-field-autofill-start"!==c.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===c.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,yK),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,yK)}}),o}stopMonitoring(t){const i=Vh(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(et(ro),et(_n))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zFe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({})}return n})();const HFe=new vt("MAT_INPUT_VALUE_ACCESSOR"),GFe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let WFe=0,bm=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=yd(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(fm.required)??!1}set required(t){this._required=yd(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&z8().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=yd(t)}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,i,r,o,s,a,c,l,d,h){this._elementRef=t,this._platform=i,this.ngControl=r,this._autofillMonitor=l,this._formField=h,this._uid="mat-input-"+WFe++,this.focused=!1,this.stateChanges=new on,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(g=>z8().has(g)),this._iOSKeyupListener=g=>{const v=g.target;!v.value&&0===v.selectionStart&&0===v.selectionEnd&&(v.setSelectionRange(1,1),v.setSelectionRange(0,0))};const f=this._elementRef.nativeElement,m=f.nodeName.toLowerCase();this._inputValueAccessor=c||f,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&d.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new jS(a,r,s,o,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===m,this._isTextarea="textarea"===m,this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){GFe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn),Ae(ro),Ae(Hl,10),Ae(mm,8),Ae(fb,8),Ae(US),Ae(HFe,10),Ae(VFe),Ae(_n),Ae(a0,8))};static#t=this.\u0275dir=Zt({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&Bt("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(La("id",r.id)("disabled",r.disabled)("required",r.required),fi("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),bn("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[mt.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[ei([{provide:GS,useExisting:n}]),br]})}return n})(),pb=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[cr,Gh,Gh,zFe,cr]})}return n})();function vK(n,e){return n>=0&&n<e?n:n>=e?e:n+e<0?0:n+e}function qFe(n,e){if(1&n&&(Xe(0,"span"),Yt(1),ot()),2&n){const t=e.$implicit;(function Rl(n){kl(XV,Kie,n,!1)})(t.styles),Ei(t.classes),dt(),yo(" ",t.text,"\n")}}let YFe=(()=>{class n{constructor(){this.clsName="ccf-decorated-text",this.segments=[]}ngOnChanges(t){("text"in t||"decorations"in t)&&(this.segments=this.createSegments())}createSegments(){const{text:t}=this;if(!t)return[this.makeUndecoratedSegment(t)];const i=this.getNormalizedDecorations();if(0===i.length)return[this.makeUndecoratedSegment(t)];const r=this.createStackOps(i),o=[];let s=[],a=0;0===r[0].index&&(s=this.updateStack(s,r.shift()));for(const c of r)o.push(this.makeDecoratedSegment(t.slice(a,c.index),s)),a=c.index,s=this.updateStack(s,c);return a!==t.length&&o.push(this.makeDecoratedSegment(t.slice(a),s)),o}createStackOps(t){const i={},r=o=>i[o]??={index:o,added:[],removed:[]};for(const o of t)r(o.start).added.push(o),r(o.end).removed.push(o);return Object.entries(i).sort((o,s)=>+o[0]-+s[0]).map(o=>o[1])}updateStack(t,i){return t.filter(r=>!i.removed.includes(r)).concat(i.added)}getNormalizedDecorations(){const{decorations:t=[],text:{length:i}}=this;return t.map(r=>function $Fe(n,e){return{start:vK(n.start??0,e),end:vK(n.end??e,e),classes:n.classes??[],styles:n.styles??{}}}(r,i)).filter(r=>r.start<i&&r.start<r.end)}makeUndecoratedSegment(t){return{text:t,classes:[],styles:{}}}makeDecoratedSegment(t,i){return{text:t,classes:i.reduce((s,a)=>s.concat(a.classes),[]),styles:i.reduce((s,a)=>({...s,...a.styles}),{})}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-decorated-text"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},inputs:{text:"text",decorations:"decorations"},features:[br],decls:1,vars:1,consts:[[3,"class","style",4,"ngFor","ngForOf"]],template:function(i,r){1&i&&mn(0,qFe,2,5,"span",0),2&i&&Rt("ngForOf",r.segments)},dependencies:[rl],styles:["[_nghost-%COMP%]{display:flex}"],changeDetection:0})}return n})();const XFe=[[["","matPrefix",""]],[["","matSuffix",""]]],KFe=["[matPrefix]","[matSuffix]"];function JFe(n,e){if(1&n&&(Xe(0,"mat-option"),yn(1,"ccf-decorated-text",8),ot()),2&n){const t=e.$implicit;dt(),Rt("text",t.label)("decorations",t.decorations)}}const QFe=new vt("Maximum number of autocomplete options displayed",{providedIn:"root",factory:()=>10});class cT{get value(){return this.controller.value}set value(e){this.controller.setValue(e,{emitEvent:!1})}constructor(e){this.defaultMaxOptions=e,this.clsName="ccf-text-search",this.placeholder="Search...",this.optionSelected=new Qt,this.controller=new Tw,this.options=this.controller.valueChanges.pipe(ps(""),Va(),Fr(this.getOptions)),this.valueChange=this.controller.valueChanges}getOptions(e){var t=this;return D(function*(){const{autoCompleter:i,maxOptions:r=t.defaultMaxOptions}=t;return!i||r<1?[]:function IFe(n,e){const t="object"==typeof e;return new Promise((i,r)=>{let s,o=!1;n.subscribe({next:a=>{s=a,o=!0},error:r,complete:()=>{o?i(s):t?i(e.defaultValue):r(new Iw)}})})}(io(i(e,r)).pipe(vr(1),Vt(s=>s.length<=r?s:s.slice(0,r))))})()}optionDisplay(e){return e?.label??""}optionId(e,t){return t.id}static#e=this.\u0275fac=function(t){return new(t||cT)(Ae(QFe))};static#t=this.\u0275cmp=un({type:cT,selectors:[["ccf-text-search"]],hostVars:2,hostBindings:function(t,i){2&t&&Ei(i.clsName)},inputs:{placeholder:"placeholder",value:"value",maxOptions:"maxOptions",autoCompleter:"autoCompleter"},outputs:{valueChange:"valueChange",optionSelected:"optionSelected"},ngContentSelectors:KFe,decls:11,vars:8,consts:[["auto","matAutocomplete"],[1,"form"],["appearance","outline",1,"form-field"],["matPrefix",""],["matInput","","type","search",1,"input",3,"placeholder","formControl","matAutocomplete"],[1,"autocomplete",3,"optionSelected","displayWith"],[4,"ngFor","ngForOf","ngForTrackBy"],["matSuffix",""],[3,"text","decorations"]],template:function(t,i){if(1&t){const r=Ki();yr(XFe),Xe(0,"form",1)(1,"mat-form-field",2),Sv(2,3),zn(3),Av(),yn(4,"input",4),Xe(5,"mat-autocomplete",5,0),Bt("optionSelected",function(s){return fn(r),hn(i.optionSelected.emit(s.option.value))}),mn(7,JFe,2,2,"mat-option",6),ri(8,"async"),ot(),Sv(9,7),zn(10,1),Av(),ot()()}if(2&t){const r=Ms(6);dt(4),Rt("placeholder",i.placeholder)("formControl",i.controller)("matAutocomplete",r),dt(),Rt("displayWith",i.optionDisplay),dt(2),Rt("ngForOf",ai(8,6,i.options))("ngForTrackBy",i.optionId)}},dependencies:[rl,ZX,ub,QA,VX,mm,Mw,BFe,s0,bK,Hh,Ufe,Ck,bm,YFe,gd],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{margin-left:.5rem}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{margin:0}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper .mat-form-field-flex{align-items:center}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix{height:3rem;border:none}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-suffix{top:0;border:none}"],changeDetection:0})}Nt([kd.oI,ke("design:type",Function),ke("design:paramtypes",[String]),ke("design:returntype",Promise)],cT.prototype,"getOptions",null);var ZFe=S(1123);const lT=[{src:"app:skin",organ:"Skin",name:"Skin",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002097"},{src:"app:brain",organ:"Brain",name:"Brain",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000955"},{disabled:!0,src:"app:lymph-nodes",organ:"Lymph Node",name:"Lymph Node",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000029"},{src:"app:lymph-nodes",organ:"Lymph Node",name:"Lymph Node",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002509"},{disabled:!0,src:"app:eye",organ:"Eye",name:"Eye, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000970"},{src:"app:eye",organ:"Eye",name:"Eye, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004548"},{src:"app:eye",organ:"Eye",name:"Eye, R",side:"right",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004549"},{disabled:!0,src:"app:fallopian-tube-left",organ:"Fallopian Tube",name:"Fallopian Tube, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0003889"},{src:"app:fallopian-tube-left",organ:"Fallopian Tube",name:"Fallopian Tube, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001303"},{src:"app:fallopian-tube-right",organ:"Fallopian Tube",name:"Fallopian Tube, R",side:"right",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001302"},{src:"app:heart",organ:"Heart",name:"Heart",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000948"},{disabled:!0,src:"app:kidney-left",organ:"Kidney",name:"Kidney, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002113"},{src:"app:kidney-left",organ:"Kidney",name:"Kidney, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004538"},{src:"app:kidney-right",organ:"Kidney",name:"Kidney, R",side:"right",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004539"},{disabled:!0,src:"app:knee",organ:"Knee",name:"Knee, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001465"},{src:"app:knee",organ:"Knee",name:"Knee, L",side:"left",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma24978"},{src:"app:knee",organ:"Knee",name:"Knee, R",side:"right",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma24977"},{src:"app:liver",organ:"Liver",name:"Liver",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002107"},{disabled:!0,src:"app:lung",organ:"Lung",name:"Lungs",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002048"},{src:"app:lung",organ:"Lung",name:"Lungs",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001004"},{disabled:!0,src:"app:mammary-gland",organ:"Mammary Gland",name:"Mammary Gland, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001911"},{src:"app:mammary-gland",organ:"Mammary Gland",name:"Mammary Gland, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma57991"},{src:"app:mammary-gland",organ:"Mammary Gland",name:"Mammary Gland, R",side:"right",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma57987"},{disabled:!0,src:"app:ovary-left",organ:"Ovary",name:"Ovary, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0000992"},{src:"app:ovary-left",organ:"Ovary",name:"Ovary, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma7214"},{src:"app:ovary-right",organ:"Ovary",name:"Ovary, R",side:"right",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma7213"},{src:"app:larynx",organ:"Larynx",name:"Larynx",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001737"},{src:"app:main-bronchus",organ:"Main Bronchus",name:"Main Bronchus",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002182"},{disabled:!0,src:"app:palatine-tonsil",organ:"Palatine Tonsil",name:"Palatine Tonsil, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002373"},{src:"app:palatine-tonsil",organ:"Palatine Tonsil",name:"Palatine Tonsil, L",side:"left",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma54974"},{src:"app:palatine-tonsil",organ:"Palatine Tonsil",name:"Palatine Tonsil, R",side:"right",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma54973"},{src:"app:pancreas",organ:"Pancreas",name:"Pancreas",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001264"},{src:"app:pelvis-f",organ:"Pelvis",name:"Pelvis",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001270"},{src:"app:placenta",organ:"Placenta",name:"Placenta",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001987"},{src:"app:prostate",organ:"Prostate",name:"Prostate",hasSex:!1,sex:"male",id:"http://purl.obolibrary.org/obo/UBERON_0002367",disabled:!0},{src:"app:prostate",organ:"Prostate",name:"Prostate",hasSex:!1,sex:"male",id:"http://purl.obolibrary.org/obo/UBERON_0000079"},{src:"app:small-intestine",organ:"Small Intestine",name:"Small Intestine",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002108"},{src:"app:large-intestine",organ:"Large Intestine",name:"Large Intestine",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000059"},{src:"app:spinal-cord",organ:"Spinal Cord",name:"Spinal Cord",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002240"},{src:"app:spleen",organ:"Spleen",name:"Spleen",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002106"},{src:"app:thymus",organ:"Thymus",name:"Thymus",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002370"},{src:"app:trachea",organ:"Trachea",name:"Trachea",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0003126"},{disabled:!0,src:"app:ureter-left",organ:"Ureter",name:"Ureter, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000056"},{src:"app:ureter-left",organ:"Ureter",name:"Ureter, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001223"},{src:"app:ureter-right",organ:"Ureter",name:"Ureter, R",side:"right",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001222"},{src:"app:bladder",organ:"Urinary Bladder",name:"Urinary Bladder",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001255"},{src:"app:uterus",organ:"Uterus",name:"Uterus",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0000995"},{src:"app:vasculature-thick",organ:"Blood Vasculature",name:"Blood Vasculature",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004537"},{disabled:!0,src:"app:vasculature-thick",organ:"Blood Vasculature",name:"Blood Vasculature",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002049"}].sort((n,e)=>n.name.localeCompare(e.name)).filter(n=>!0!==n.disabled),tLe=["knob"],nLe=["valueIndicatorContainer"];function iLe(n,e){if(1&n&&(Xe(0,"div",2,1)(2,"div",5)(3,"span",6),Yt(4),ot()()()),2&n){const t=In();dt(4),Lo(t.valueIndicatorText)}}const rLe=["trackActive"],oLe=["*"];function sLe(n,e){if(1&n&&yn(0,"div"),2&n){const t=e.$implicit,i=e.$index,r=In(3);Ei(0===t?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),Nh("transform",r._calcTickMarkTransform(i))}}function aLe(n,e){1&n&&function rz(n,e,t,i,r,o,s,a,c,l,d,h,f){hd("NgControlFlow");const m=void 0!==c,g=Lt(),v=a?s.bind(g[Zi][Cr]):s,E=new bre(m,v);g[ui+n]=E,mn(n+1,e,t,i,r,o),m&&mn(n+2,c,l,d,h,f)}(0,sLe,1,4,"div",8,iz),2&n&&function oz(n){const e=z(null),t=Ko();try{const i=Lt(),r=i[an],o=i[t];if(void 0===o.liveCollection){const a=t+1,c=GR(i,a),l=WR(r,a);o.liveCollection=new yre(c,i,l)}else o.liveCollection.reset();const s=o.liveCollection;if(function mre(n,e,t){let i,r,o=0,s=n.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){const c=n.at(o),l=e[o],d=zR(o,c,o,l,t);if(0!==d){d<0&&n.updateValue(o,l),o++;continue}const h=n.at(s),f=e[a],m=zR(s,h,a,f,t);if(0!==m){m<0&&n.updateValue(s,f),s--,a--;continue}const g=t(o,c),v=t(s,h),E=t(o,l);if(Object.is(E,v)){const L=t(a,f);Object.is(L,g)?(n.swap(o,s),n.updateValue(s,f),a--,s--):n.move(s,o),n.updateValue(o,l),o++}else if(i??=new nz,r??=tz(n,o,s,t),HR(n,i,o,E))n.updateValue(o,l),o++,s++;else if(r.has(E))i.set(g,n.detach(o)),s--;else{const L=n.create(o,e[o]);n.attach(o,L),o++,s++}}for(;o<=a;)ez(n,i,t,o,e[o]),o++}else if(null!=e){const a=e[Symbol.iterator]();let c=a.next();for(;!c.done&&o<=s;){const l=n.at(o),d=c.value,h=zR(o,l,o,d,t);if(0!==h)h<0&&n.updateValue(o,d),o++,c=a.next();else{i??=new nz,r??=tz(n,o,s,t);const f=t(o,d);if(HR(n,i,o,f))n.updateValue(o,d),o++,s++,c=a.next();else if(r.has(f)){const m=t(o,l);i.set(m,n.detach(o)),s--}else n.attach(o,n.create(o,d)),o++,s++,c=a.next()}}for(;!c.done;)ez(n,i,t,n.length,c.value),c=a.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(a=>{n.destroy(a)})}(s,n,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){const a=Na(),c=0===s.length;if(Po(i,a,c)){const l=t+2,d=GR(i,l);if(c){const h=WR(r,l),f=Hg(d,h.tView.ssrId);sv(d,ov(i,h,void 0,{dehydratedView:f}),0,zg(h,f))}else eR(d,0)}}}finally{z(e)}}(In(2)._tickMarks)}function cLe(n,e){if(1&n&&(Xe(0,"div",6,1),mn(2,aLe,2,0),ot()),2&n){const t=In();dt(2),$i(2,t._cachedWidth?2:-1)}}function lLe(n,e){if(1&n&&yn(0,"mat-slider-visual-thumb",7),2&n){const t=In();Rt("discrete",t.discrete)("thumbPosition",1)("valueIndicatorText",t.startValueIndicatorText)}}var li=function(n){return n[n.START=1]="START",n[n.END=2]="END",n}(li||{}),mb=function(n){return n[n.ACTIVE=0]="ACTIVE",n[n.INACTIVE=1]="INACTIVE",n}(mb||{});const dT=new vt("_MatSlider"),wK=new vt("_MatSliderThumb"),xK=new vt("_MatSliderRangeThumb"),EK=new vt("_MatSliderVisualThumb");let dLe=(()=>{class n{constructor(t,i,r,o){this._cdr=t,this._ngZone=i,this._slider=o,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=kt(ro),this._onPointerMove=s=>{if(this._sliderInput._isFocused)return;const a=this._hostElement.getBoundingClientRect(),c=this._slider._isCursorOnSliderThumb(s,a);this._isHovered=c,c?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=s=>{0===s.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=r.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const t=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{t.addEventListener("pointermove",this._onPointerMove),t.addEventListener("pointerdown",this._onDragStart),t.addEventListener("pointerup",this._onDragEnd),t.addEventListener("pointerleave",this._onMouseLeave),t.addEventListener("focus",this._onFocus),t.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const t=this._sliderInputEl;t&&(t.removeEventListener("pointermove",this._onPointerMove),t.removeEventListener("pointerdown",this._onDragStart),t.removeEventListener("pointerup",this._onDragEnd),t.removeEventListener("pointerleave",this._onMouseLeave),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(t){return t?.state===oc.FADING_IN||t?.state===oc.VISIBLE}_showRipple(t,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===li.START?li.END:li.START)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||i))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})}_hideRipple(t){if(t?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===li.START?li.END:li.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Mi),Ae(_n),Ae(kn),Ae(dT))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(i,r){if(1&i&&(ki(sc,5),ki(tLe,5),ki(nLe,5)),2&i){let o;Dn(o=Rn())&&(r._ripple=o.first),Dn(o=Rn())&&(r._knob=o.first),Dn(o=Rn())&&(r._valueIndicatorContainer=o.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[ei([{provide:EK,useExisting:n}]),Ui],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(i,r){1&i&&(mn(0,iLe,5,1,"div",2),yn(1,"div",3,0)(3,"div",4)),2&i&&($i(0,r.discrete?0:-1),dt(3),Rt("matRippleDisabled",!0))},dependencies:[sc],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return n})(),CK=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=t;const i=this._getInput(li.END),r=this._getInput(li.START);i&&(i.disabled=this._disabled),r&&(r.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(t){this._discrete=t,this._updateValueIndicatorUIs()}get min(){return this._min}set min(t){const i=isNaN(t)?this._min:t;this._min!==i&&this._updateMin(i)}_updateMin(t){const i=this._min;this._min=t,this._isRange?this._updateMinRange({old:i,new:t}):this._updateMinNonRange(t),this._onMinMaxOrStepChange()}_updateMinRange(t){const i=this._getInput(li.END),r=this._getInput(li.START),o=i.value,s=r.value;r.min=t.new,i.min=Math.max(t.new,r.value),r.max=Math.min(i.max,i.value),r._updateWidthInactive(),i._updateWidthInactive(),t.new<t.old?this._onTranslateXChangeBySideEffect(i,r):this._onTranslateXChangeBySideEffect(r,i),o!==i.value&&this._onValueChange(i),s!==r.value&&this._onValueChange(r)}_updateMinNonRange(t){const i=this._getInput(li.END);if(i){const r=i.value;i.min=t,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(t){const i=isNaN(t)?this._max:t;this._max!==i&&this._updateMax(i)}_updateMax(t){const i=this._max;this._max=t,this._isRange?this._updateMaxRange({old:i,new:t}):this._updateMaxNonRange(t),this._onMinMaxOrStepChange()}_updateMaxRange(t){const i=this._getInput(li.END),r=this._getInput(li.START),o=i.value,s=r.value;i.max=t.new,r.max=Math.min(t.new,i.value),i.min=r.value,i._updateWidthInactive(),r._updateWidthInactive(),t.new>t.old?this._onTranslateXChangeBySideEffect(r,i):this._onTranslateXChangeBySideEffect(i,r),o!==i.value&&this._onValueChange(i),s!==r.value&&this._onValueChange(r)}_updateMaxNonRange(t){const i=this._getInput(li.END);if(i){const r=i.value;i.max=t,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(t){const i=isNaN(t)?this._step:t;this._step!==i&&this._updateStep(i)}_updateStep(t){this._step=t,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const t=this._getInput(li.END),i=this._getInput(li.START),r=t.value,o=i.value,s=i.value;t.min=this._min,i.max=this._max,t.step=this._step,i.step=this._step,this._platform.SAFARI&&(t.value=t.value,i.value=i.value),t.min=Math.max(this._min,i.value),i.max=Math.min(this._max,t.value),i._updateWidthInactive(),t._updateWidthInactive(),t.value<s?this._onTranslateXChangeBySideEffect(i,t):this._onTranslateXChangeBySideEffect(t,i),r!==t.value&&this._onValueChange(t),o!==i.value&&this._onValueChange(i)}_updateStepNonRange(){const t=this._getInput(li.END);if(t){const i=t.value;t.step=this._step,this._platform.SAFARI&&(t.value=t.value),t._updateThumbUIByValue(),i!==t.value&&this._onValueChange(t)}}constructor(t,i,r,o,s,a){this._ngZone=t,this._cdr=i,this._elementRef=r,this._dir=o,this._globalRippleOptions=s,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=c=>`${c}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=kt(ro),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===a,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const t=this._getInput(li.END),i=this._getInput(li.START);this._isRange=!!t&&!!i,this._cdr.detectChanges();const r=this._getThumb(li.END);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(t,i):this._initUINonRange(t),this._updateTrackUI(t),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(t){t.initProps(),t.initUI(),this._updateValueIndicatorUI(t),this._hasViewInitialized=!0,t._updateThumbUIByValue()}_initUIRange(t,i){t.initProps(),t.initUI(),i.initProps(),i.initUI(),t._updateMinMax(),i._updateMinMax(),t._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,t._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const t=this._getInput(li.END),i=this._getInput(li.START);t._setIsLeftThumb(),i._setIsLeftThumb(),t.translateX=t._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateWidthInactive(),i._updateWidthInactive(),t._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(li.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(li.START)._isActive||this._getThumb(li.END)._isActive}_getValue(t=li.END){const i=this._getInput(t);return i?i.value:this.min}_skipUpdate(){return!(!this._getInput(li.START)?._skipUIUpdate&&!this._getInput(li.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(t){const i=this._trackActive.nativeElement.style;i.left=t.left,i.right=t.right,i.transformOrigin=t.transformOrigin,i.transform=t.transform}_calcTickMarkTransform(t){return`translateX(${t*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(t){this._hasViewInitialized&&(this._updateThumbUI(t),this._updateTrackUI(t),this._updateOverlappingThumbUI(t))}_onTranslateXChangeBySideEffect(t,i){this._hasViewInitialized&&(t._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(t){this._hasViewInitialized&&(this._updateValueIndicatorUI(t),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const t=this._getInput(li.END),i=this._getInput(li.START);t._updateThumbUIByValue(),i._updateThumbUIByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateMinMax(),i._updateMinMax(),t._updateWidthInactive(),i._updateWidthInactive()}else{const t=this._getInput(li.END);t&&t._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const t=this._getInput(li.START),i=this._getInput(li.END);return!(!t||!i)&&i.translateX-t.translateX<20}_updateOverlappingThumbClassNames(t){const i=t.getSibling(),r=this._getThumb(t.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(t){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(t))}_updateThumbUI(t){this._skipUpdate()||(this._getThumb(t.thumbPosition===li.END?li.END:li.START)._hostElement.style.transform=`translateX(${t.translateX}px)`)}_updateValueIndicatorUI(t){if(this._skipUpdate())return;const i=this.displayWith(t.value);if(this._hasViewInitialized?t._valuetext=i:t._hostElement.setAttribute("aria-valuetext",i),this.discrete){t.thumbPosition===li.START?this.startValueIndicatorText=i:this.endValueIndicatorText=i;const r=this._getThumb(t.thumbPosition);i.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const t=this._getInput(li.END),i=this._getInput(li.START);t&&this._updateValueIndicatorUI(t),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const t=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/t)*t-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*r-6}_updateTrackUI(t){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(t):this._updateTrackUINonRange(t))}_updateTrackUIRange(t){const i=t.getSibling();if(!i||!this._cachedWidth)return;const r=Math.abs(i.translateX-t.translateX)/this._cachedWidth;this._setTrackActiveStyles(t._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-i.translateX+"px",transformOrigin:"right",transform:`scaleX(${r})`}:{left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(t){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-t.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${t.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const t=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(t):this._updateTickMarkUINonRange(t),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(t){const i=this._getValue();let r=Math.max(Math.floor((i-this.min)/t),0),o=Math.max(Math.floor((this.max-i)/t),0);this._isRtl?r++:o++,this._tickMarks=Array(r).fill(mb.ACTIVE).concat(Array(o).fill(mb.INACTIVE))}_updateTickMarkUIRange(t){const i=this._getValue(),r=this._getValue(li.START),o=Math.max(Math.floor((r-this.min)/t),0),s=Math.max(Math.floor((i-r)/t)+1,0),a=Math.max(Math.floor((this.max-i)/t),0);this._tickMarks=Array(o).fill(mb.INACTIVE).concat(Array(s).fill(mb.ACTIVE),Array(a).fill(mb.INACTIVE))}_getInput(t){return t===li.END&&this._input?this._input:this._inputs?.length?t===li.START?this._inputs.first:this._inputs.last:void 0}_getThumb(t){return t===li.END?this._thumbs?.last:this._thumbs?.first}_setTransition(t){this._hasAnimation=!this._platform.IOS&&t&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(t,i){const r=i.width/2,c=t.clientY-(i.y+r);return Math.pow(t.clientX-(i.x+r),2)+Math.pow(c,2)<Math.pow(r,2)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(_n),Ae(Mi),Ae(kn),Ae(Fl,8),Ae(o0,8),Ae(co,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-slider"]],contentQueries:function(i,r,o){if(1&i&&(mr(o,wK,5),mr(o,xK,4)),2&i){let s;Dn(s=Rn())&&(r._input=s.first),Dn(s=Rn())&&(r._inputs=s)}},viewQuery:function(i,r){if(1&i&&(ki(rLe,5),ki(EK,5)),2&i){let o;Dn(o=Rn())&&(r._trackActive=o.first),Dn(o=Rn())&&(r._thumbs=o)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(i,r){2&i&&(Ei("mat-"+(r.color||"primary")),bn("mdc-slider--range",r._isRange)("mdc-slider--disabled",r.disabled)("mdc-slider--discrete",r.discrete)("mdc-slider--tick-marks",r.showTickMarks)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:[mt.HasDecoratorInputTransform,"disabled","disabled",vn],discrete:[mt.HasDecoratorInputTransform,"discrete","discrete",vn],showTickMarks:[mt.HasDecoratorInputTransform,"showTickMarks","showTickMarks",vn],min:[mt.HasDecoratorInputTransform,"min","min",Bo],color:"color",disableRipple:[mt.HasDecoratorInputTransform,"disableRipple","disableRipple",vn],max:[mt.HasDecoratorInputTransform,"max","max",Bo],step:[mt.HasDecoratorInputTransform,"step","step",Bo],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[ei([{provide:dT,useExisting:n}]),Hr,Ui],ngContentSelectors:oLe,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(i,r){1&i&&(yr(),zn(0),Xe(1,"div",2),yn(2,"div",3),Xe(3,"div",4),yn(4,"div",5,0),ot(),mn(6,cLe,3,1,"div",6),ot(),mn(7,lLe,1,3,"mat-slider-visual-thumb",7),yn(8,"mat-slider-visual-thumb",7)),2&i&&(dt(6),$i(6,r.showTickMarks?6:-1),dt(),$i(7,r._isRange?7:-1),dt(),Rt("discrete",r.discrete)("thumbPosition",2)("valueIndicatorText",r.endValueIndicatorText))},dependencies:[dLe],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:50%;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:translateX(-50%);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:translateX(-50%);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color);border-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color);border-color:var(--mdc-slider-disabled-handle-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color)}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color);opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color);opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color)}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size);width:var(--mdc-slider-with-tick-marks-container-size)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking);font-size:var(--mdc-slider-label-label-text-size);font-family:var(--mdc-slider-label-label-text-font);font-weight:var(--mdc-slider-label-label-text-weight);line-height:var(--mdc-slider-label-label-text-line-height)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape);width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-style:solid;border-width:calc(var(--mdc-slider-handle-height) / 2) calc(var(--mdc-slider-handle-width) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color);border-color:var(--mdc-slider-hover-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color);border-color:var(--mdc-slider-focus-handle-color)}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color);border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator-container{transform:var(--mat-slider-value-indicator-container-transform)}.mat-mdc-slider .mdc-slider__value-indicator{width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mat-mdc-slider .mdc-slider__value-indicator::before{display:var(--mat-slider-value-indicator-caret-display)}.mat-mdc-slider .mdc-slider__value-indicator-text{width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slider .mdc-slider__value-indicator{word-break:normal}.mat-mdc-slider .mdc-slider__value-indicator-text{text-align:center}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();const hLe={provide:$s,useExisting:di(()=>uT),multi:!0};let uT=(()=>{class n{get value(){return Bo(this._hostElement.value,0)}set value(t){const i=(t=isNaN(t)?0:t)+"";this._hasSetInitialValue?this._isActive||this._setValue(i):this._initialValue=i}_setValue(t){this._hostElement.value=t,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(t){this._translateX=t}get min(){return Bo(this._hostElement.min,0)}set min(t){this._hostElement.min=t+"",this._cdr.detectChanges()}get max(){return Bo(this._hostElement.max,0)}set max(t){this._hostElement.max=t+"",this._cdr.detectChanges()}get step(){return Bo(this._hostElement.step,0)}set step(t){this._hostElement.step=t+"",this._cdr.detectChanges()}get disabled(){return vn(this._hostElement.disabled)}set disabled(t){this._hostElement.disabled=t,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(t){this._isFocused=t}constructor(t,i,r,o){this._ngZone=t,this._elementRef=i,this._cdr=r,this._slider=o,this.valueChange=new Qt,this.dragStart=new Qt,this.dragEnd=new Qt,this.thumbPosition=li.END,this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new on,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=kt(ro),this._hostElement=i.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(t){if(!this.disabled&&0===t.button){if(this._platform.IOS){const i=this._slider._isCursorOnSliderThumb(t,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=i,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(t){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(t)},0)}_fixValue(t){const i=t.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,o=0===this._slider.step?1:this._slider.step,s=Math.floor((this._slider.max-this._slider.min)/o),l=Math.round((this._slider._isRtl?1-i/r:i/r)*s)/s*(this._slider.max-this._slider.min)+this._slider.min,d=Math.round(l/o)*o;if(d===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation}));this.value=d,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})}_onPointerMove(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(t){const i=this._tickMarkOffset;return Math.max(Math.min(t,this._slider._cachedWidth-this._tickMarkOffset),i)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(t){return t.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)}_updateThumbUIByPointerEvent(t,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(i)}_updateThumbUI(t){this._slider._setTransition(!!t?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(t){(this._isControlInitialized||null!==t)&&(this.value=t)}registerOnChange(t){this._onChangeFn=t,this._isControlInitialized=!0}registerOnTouched(t){this._onTouchedFn=t}setDisabledState(t){this.disabled=t}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(_n),Ae(kn),Ae(Mi),Ae(dT))};static#t=this.\u0275dir=Zt({type:n,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(i,r){1&i&&Bt("change",function(){return r._onChange()})("input",function(){return r._onInput()})("blur",function(){return r._onBlur()})("focus",function(){return r._onFocus()}),2&i&&fi("aria-valuetext",r._valuetext)},inputs:{value:[mt.HasDecoratorInputTransform,"value","value",Bo]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[ei([hLe,{provide:wK,useExisting:n}]),Hr]})}return n})(),SK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[cr,Ll]})}return n})(),AK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,vo,SK,Ll]})}return n})();function mLe(n,e){}class hT{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let TK=(()=>{class n extends QS{constructor(t,i,r,o,s,a,c,l){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._platform=kt(ro),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=kt(Mi),this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const h=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),h},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=rk(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=rk();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=rk()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn),Ae(l5),Ae(ci,8),Ae(hT),Ae(_k),Ae(_n),Ae(r1),Ae(ku))};static#t=this.\u0275cmp=un({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&ki(A_,7),2&i){let o;Dn(o=Rn())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&fi("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[mi,Ui],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&mn(0,mLe,0,0,"ng-template",0)},dependencies:[A_],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class KL{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new on,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!rc(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const MK=new vt("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=kt(ms);return()=>n.scrollStrategies.block()}}),gLe=new vt("DialogData"),_Le=new vt("DefaultDialogConfig");let yLe=0,IK=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new on,this._afterOpenedAtThisLevel=new on,this._ariaHiddenElements=new Map,this.afterAllClosed=_m(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ps(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new hT,...i}).id=i.id||"cdk-dialog-"+yLe++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new KL(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(t,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){JL(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){JL(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),JL(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new g0({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:hT,useValue:r},{provide:KL,useValue:i},{provide:r1,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=TK;const c=new C_(a,r.viewContainerRef,wi.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,o){if(t instanceof tc){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new S_(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new C_(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:gLe,useValue:t.data},{provide:KL,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(Fl,null,{optional:!0}))&&a.push({provide:Fl,useValue:{value:t.direction,change:On()}}),wi.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)(et(ms),et(wi),et(_Le,8),et(n,12),et(_0),et(MK))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JL(n,e){let t=n.length;for(;t--;)e(n[t])}let vLe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({providers:[IK],imports:[b0,T_,_5,T_]})}return n})();function wLe(n,e){}class QL{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const ZL="mdc-dialog--open",DK="mdc-dialog--opening",RK="mdc-dialog--closing";let OK=(()=>{class n extends TK{constructor(t,i,r,o,s,a,c,l,d){super(t,i,r,o,s,a,c,d),this._animationMode=l,this._animationStateChanged=new Qt,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?PK(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?PK(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(kK,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(DK,ZL)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ZL),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(ZL),this._animationsEnabled?(this._hostElement.style.setProperty(kK,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(RK)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(DK,RK)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(t){const i=super.attachComponentPortal(t);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn),Ae(l5),Ae(ci,8),Ae(QL),Ae(_k),Ae(_n),Ae(r1),Ae(co,8),Ae(ku))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){2&i&&(La("id",r._config.id),fi("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),bn("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[mi,Ui],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"div",1),mn(2,wLe,0,0,"ng-template",2),ot()())},dependencies:[A_],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();const kK="--mat-dialog-transition-duration";function PK(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?MS(n.substring(0,n.length-2)):n.endsWith("s")?1e3*MS(n.substring(0,n.length-1)):"0"===n?0:null}var fT=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(fT||{});class gb{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new on,this._beforeClosed=new on,this._state=fT.OPEN,this.disableClose=t.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Ai(r=>"opened"===r.state),vr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Ai(r=>"closed"===r.state),vr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Us(this.backdropClick(),this.keydownEvents().pipe(Ai(r=>27===r.keyCode&&!this.disableClose&&!rc(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function NK(n,e,t){return n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ai(t=>"closing"===t.state),vr(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=fT.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=fT.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const eB=new vt("MatMdcDialogData"),CLe=new vt("mat-mdc-dialog-default-options"),FK=new vt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=kt(ms);return()=>n.scrollStrategies.block()}});let ALe=0,bf=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,s,a,c,l){this._overlay=t,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new on,this._afterOpenedAtThisLevel=new on,this.dialogConfigClass=QL,this.afterAllClosed=_m(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ps(void 0))),this._dialog=i.get(IK),this._dialogRefConstructor=gb,this._dialogContainerType=OK,this._dialogDataToken=eB}open(t,i){let r;(i={...this._defaultOptions||new QL,...i}).id=i.id||"mat-mdc-dialog-"+ALe++,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:hT,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,i,c),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static#e=this.\u0275fac=function(i){return new(i||n)(et(ms),et(wi),et(Dp,8),et(CLe,8),et(FK),et(n,12),et(_0),et(co,8))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TLe=0,LK=(()=>{class n{constructor(t,i,r){this._dialogRef=t,this._elementRef=i,this._dialog=r}ngOnInit(){this._dialogRef||(this._dialogRef=function BK(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(gb,8),Ae(kn),Ae(bf))};static#t=this.\u0275dir=Zt({type:n,standalone:!0})}return n})(),pT=(()=>{class n extends LK{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+TLe++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Wi(n)))(r||n)}})();static#t=this.\u0275dir=Zt({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){2&i&&La("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[mi]})}return n})(),mT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0})}return n})();let gT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({providers:[bf],imports:[vLe,b0,T_,cr,cr]})}return n})();class RLe{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new on,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let i of t)if(this.compareWith(e,i))return i;return e}return e}}let tB=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const UK=new vt("CdkAccordion");let OLe=0,kLe=(()=>{class n{get expanded(){return this._expanded}set expanded(t){this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=zt.EMPTY,this.closed=new Qt,this.opened=new Qt,this.destroyed=new Qt,this.expandedChange=new Qt,this.id="cdk-accordion-child-"+OLe++,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(UK,12),Ae(Mi),Ae(tB))};static#t=this.\u0275dir=Zt({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[mt.HasDecoratorInputTransform,"expanded","expanded",vn],disabled:[mt.HasDecoratorInputTransform,"disabled","disabled",vn]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[ei([{provide:UK,useValue:void 0}]),Hr]})}return n})(),PLe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({})}return n})();const NLe=["body"],FLe=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],LLe=["mat-expansion-panel-header","*","mat-action-row"];function BLe(n,e){}const jLe=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],ULe=["mat-panel-title","mat-panel-description","*"];function VLe(n,e){1&n&&(Xe(0,"span",1),Vn(),Xe(1,"svg",2),yn(2,"path",3),ot()()),2&n&&Rt("@indicatorRotate",In()._getExpandedState())}const VK=new vt("MAT_ACCORDION"),zK="225ms cubic-bezier(0.4,0.0,0.2,1)",HK={indicatorRotate:sl("indicatorRotate",[jo("collapsed, void",ar({transform:"rotate(0deg)"})),jo("expanded",ar({transform:"rotate(180deg)"})),Ds("expanded <=> collapsed, void => collapsed",Is(zK))]),bodyExpansion:sl("bodyExpansion",[jo("collapsed, void",ar({height:"0px",visibility:"hidden"})),jo("expanded",ar({height:"*",visibility:""})),Ds("expanded <=> collapsed, void => collapsed",Is(zK))])},GK=new vt("MAT_EXPANSION_PANEL");let zLe=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(tc),Ae(GK,8))};static#t=this.\u0275dir=Zt({type:n,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0})}return n})(),HLe=0;const WK=new vt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let _T=(()=>{class n extends kLe{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,i,r,o,s,a,c){super(t,i,r),this._viewContainerRef=o,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new Qt,this.afterCollapse=new Qt,this._inputChanges=new on,this._headerId="mat-expansion-panel-header-"+HLe++,this.accordion=t,this._document=s,this._animationsDisabled="NoopAnimations"===a,c&&(this.hideToggle=c.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(ps(null),Ai(()=>this.expanded&&!this._portal),vr(1)).subscribe(()=>{this._portal=new S_(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}_animationStarted(t){!$K(t)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(t){$K(t)||("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(VK,12),Ae(Mi),Ae(tB),Ae(Ts),Ae(ci),Ae(co,8),Ae(WK,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,o){if(1&i&&mr(o,zLe,5),2&i){let s;Dn(s=Rn())&&(r._lazyContent=s.first)}},viewQuery:function(i,r){if(1&i&&ki(NLe,5),2&i){let o;Dn(o=Rn())&&(r._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,r){2&i&&bn("mat-expanded",r.expanded)("_mat-animation-noopable",r._animationsDisabled)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[mt.HasDecoratorInputTransform,"hideToggle","hideToggle",vn],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[ei([{provide:VK,useValue:void 0},{provide:GK,useExisting:n}]),Hr,mi,br,Ui],ngContentSelectors:LLe,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){if(1&i){const o=Ki();yr(FLe),zn(0),Xe(1,"div",1,0),Bt("@bodyExpansion.start",function(a){return fn(o),hn(r._animationStarted(a))})("@bodyExpansion.done",function(a){return fn(o),hn(r._animationDone(a))}),Xe(3,"div",2),zn(4,1),mn(5,BLe,0,0,"ng-template",3),ot(),zn(6,2),ot()}2&i&&(dt(),Rt("@bodyExpansion",r._getExpandedState())("id",r.id),fi("aria-labelledby",r._headerId),dt(4),Rt("cdkPortalOutlet",r._portal))},dependencies:[A_],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[HK.bodyExpansion]},changeDetection:0})}return n})();function $K(n){return"void"===n.fromState}let nB=(()=>{class n{constructor(t,i,r,o,s,a,c){this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=a,this._parentChangeSubscription=zt.EMPTY,this.tabIndex=0;const l=t.accordion?t.accordion._stateChanges.pipe(Ai(d=>!(!d.hideToggle&&!d.togglePosition))):js;this.tabIndex=parseInt(c||"")||0,this._parentChangeSubscription=Us(t.opened,t.closed,l,t._inputChanges.pipe(Ai(d=>!!(d.hideToggle||d.disabled||d.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Ai(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:rc(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(_T,1),Ae(kn),Ae(ku),Ae(Mi),Ae(WK,8),Ae(co,8),ma("tabindex"))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,r){1&i&&Bt("click",function(){return r._toggle()})("keydown",function(s){return r._keydown(s)}),2&i&&(fi("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),Nh("height",r._getHeaderHeight()),bn("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[mt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:Bo(t)]},standalone:!0,features:[Hr,Ui],ngContentSelectors:ULe,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,r){1&i&&(yr(jLe),Xe(0,"span",0),zn(1),zn(2,1),zn(3,2),ot(),mn(4,VLe,3,1,"span",1)),2&i&&(bn("mat-content-hide-toggle",!r._showToggle()),dt(4),$i(4,r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color);display:inline-block;display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color);display:none;display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[HK.indicatorRotate]},changeDetection:0})}return n})(),qK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0})}return n})(),iB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[cr,PLe,T_]})}return n})();function YK(n,e,t){return t?YK(n,e).pipe(kS(t)):new Ct(i=>{const r=(...s)=>i.next(1===s.length?s[0]:s),o=n(r);return it(e)?()=>e(r,o):void 0})}const GLe=["youtubeContainer"];function WLe(n,e){if(1&n){const t=Ki();Xe(0,"youtube-player-placeholder",2),Bt("click",function(){return fn(t),hn(In()._load(!0))}),ot()}if(2&n){const t=In();Rt("videoId",t.videoId)("width",t.width)("height",t.height)("isLoading",t._isLoading)("buttonLabel",t.placeholderButtonLabel)("quality",t.placeholderImageQuality)}}let $Le=(()=>{class n{_getBackgroundImage(){let t;return t="low"===this.quality?`https://i.ytimg.com/vi/${this.videoId}/hqdefault.jpg`:"high"===this.quality?`https://i.ytimg.com/vi/${this.videoId}/maxresdefault.jpg`:`https://i.ytimg.com/vi_webp/${this.videoId}/sddefault.webp`,`url(${t})`}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["youtube-player-placeholder"]],hostAttrs:[1,"youtube-player-placeholder"],hostVars:8,hostBindings:function(i,r){2&i&&(Nh("background-image",r._getBackgroundImage())("width",r.width,"px")("height",r.height,"px"),bn("youtube-player-placeholder-loading",r.isLoading))},inputs:{videoId:"videoId",width:"width",height:"height",isLoading:"isLoading",buttonLabel:"buttonLabel",quality:"quality"},standalone:!0,features:[Ui],decls:4,vars:1,consts:[["type","button",1,"youtube-player-placeholder-button"],["height","100%","version","1.1","viewBox","0 0 68 48","focusable","false","aria-hidden","true"],["d","M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z","fill","#f00"],["d","M 45,24 27,14 27,34","fill","#fff"]],template:function(i,r){1&i&&(Xe(0,"button",0),Vn(),Xe(1,"svg",1),yn(2,"path",2)(3,"path",3),ot()()),2&i&&fi("aria-label",r.buttonLabel)},styles:[".youtube-player-placeholder{display:flex;align-items:center;justify-content:center;width:100%;overflow:hidden;cursor:pointer;background-color:#000;background-position:center center;background-size:cover;transition:box-shadow 300ms ease;box-shadow:inset 0 120px 90px -90px rgba(0,0,0,.8)}.youtube-player-placeholder-button{transition:opacity 300ms ease;-moz-appearance:none;-webkit-appearance:none;background:none;border:none;padding:0;display:flex}.youtube-player-placeholder-button svg{width:68px;height:48px}.youtube-player-placeholder-loading{box-shadow:none}.youtube-player-placeholder-loading .youtube-player-placeholder-button{opacity:0}"],encapsulation:2,changeDetection:0})}return n})();const qLe=new vt("YOUTUBE_PLAYER_CONFIG");function JK(n){return null==n?n:Bo(n,0)}let YLe=(()=>{class n{get height(){return this._height}set height(t){this._height=null==t||isNaN(t)?390:t}get width(){return this._width}set width(t){this._width=null==t||isNaN(t)?640:t}constructor(t,i){this._ngZone=t,this._destroyed=new on,this._playerChanges=new Ir(void 0),this._nonce=kt(up,{optional:!0}),this._changeDetectorRef=kt(Mi),this._isLoading=!1,this._hasPlaceholder=!0,this._height=390,this._width=640,this.disableCookies=!1,this.disablePlaceholder=!1,this.showBeforeIframeApiLoads=!1,this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange");const r=kt(qLe,{optional:!0});this.loadApi=r?.loadApi??!0,this.disablePlaceholder=!!r?.disablePlaceholder,this.placeholderButtonLabel=r?.placeholderButtonLabel||"Play video",this.placeholderImageQuality=r?.placeholderImageQuality||"standard",this._isBrowser=_d(i)}ngAfterViewInit(){this._conditionallyLoad()}ngOnChanges(t){this._shouldRecreatePlayer(t)?this._conditionallyLoad():this._player&&((t.width||t.height)&&this._setSize(),t.suggestedQuality&&this._setQuality(),(t.startSeconds||t.endSeconds||t.suggestedQuality)&&this._cuePlayer())}ngOnDestroy(){this._pendingPlayer?.destroy(),this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(t,i){this._player?this._player.seekTo(t,i):this._getPendingState().seek={seconds:t,allowSeekAhead:i}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(t){this._player?this._player.setVolume(t):this._getPendingState().volume=t}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(t){if(this._player)return this._player.setPlaybackRate(t);this._getPendingState().playbackRate=t}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_load(t){this._isBrowser&&(window.YT&&window.YT.Player?this._createPlayer(t):(this.loadApi&&(this._isLoading=!0,function XLe(n){if(rB)return;const t=document.createElement("script"),i=r=>{t.removeEventListener("load",i),t.removeEventListener("error",i),"error"===r.type&&(rB=!1)};t.addEventListener("load",i),t.addEventListener("error",i),t.src="https://www.youtube.com/iframe_api",t.async=!0,n&&(t.nonce=n),rB=!0,document.body.appendChild(t)}(this._nonce)),this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback?.(),this._ngZone.run(()=>this._createPlayer(t))}))}_conditionallyLoad(){this._shouldShowPlaceholder()?1===this.playerVars?.autoplay&&this._load(!0):this._load(!1)}_shouldShowPlaceholder(){return!this.disablePlaceholder&&(!this._isBrowser||this._hasPlaceholder&&!!this.videoId&&!this._player)}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_shouldRecreatePlayer(t){const i=t.videoId||t.playerVars||t.disableCookies||t.disablePlaceholder;return!!i&&!i.isFirstChange()}_createPlayer(t){if(this._player?.destroy(),this._pendingPlayer?.destroy(),typeof YT>"u"||!this.videoId&&!this.playerVars?.list)return;const i=this._ngZone.runOutsideAngular(()=>new YT.Player(this.youtubeContainer.nativeElement,{videoId:this.videoId,host:this.disableCookies?"https://www.youtube-nocookie.com":void 0,width:this.width,height:this.height,playerVars:t?{...this.playerVars||{},autoplay:1}:this.playerVars})),r=()=>{this._ngZone.run(()=>{this._isLoading=!1,this._hasPlaceholder=!1,this._player=i,this._pendingPlayer=void 0,i.removeEventListener("onReady",r),this._playerChanges.next(i),this._setSize(),this._setQuality(),this._pendingPlayerState&&(this._applyPendingPlayerState(i,this._pendingPlayerState),this._pendingPlayerState=void 0);const o=i.getPlayerState();(o===YT.PlayerState.UNSTARTED||o===YT.PlayerState.CUED||null==o)&&this._cuePlayer(),this._changeDetectorRef.markForCheck()})};this._pendingPlayer=i,i.addEventListener("onReady",r)}_applyPendingPlayerState(t,i){const{playbackState:r,playbackRate:o,volume:s,muted:a,seek:c}=i;switch(r){case YT.PlayerState.PLAYING:t.playVideo();break;case YT.PlayerState.PAUSED:t.pauseVideo();break;case YT.PlayerState.CUED:t.stopVideo()}null!=o&&t.setPlaybackRate(o),null!=s&&t.setVolume(s),null!=a&&(a?t.mute():t.unMute()),null!=c&&t.seekTo(c.seconds,c.allowSeekAhead)}_cuePlayer(){this._player&&this.videoId&&this._player.cueVideoById({videoId:this.videoId,startSeconds:this.startSeconds,endSeconds:this.endSeconds,suggestedQuality:this.suggestedQuality})}_setSize(){this._player?.setSize(this.width,this.height)}_setQuality(){this._player&&this.suggestedQuality&&this._player.setPlaybackQuality(this.suggestedQuality)}_getLazyEmitter(t){return this._playerChanges.pipe(Fr(i=>i?YK(r=>{i.addEventListener(t,r)},r=>{try{i?.removeEventListener?.(t,r)}catch{}}):On()),i=>new Ct(r=>i.subscribe({next:o=>this._ngZone.run(()=>r.next(o)),error:o=>r.error(o),complete:()=>r.complete()})),Ii(this._destroyed))}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(_n),Ae(Ls))};static#t=this.\u0275cmp=un({type:n,selectors:[["youtube-player"]],viewQuery:function(i,r){if(1&i&&ki(GLe,7),2&i){let o;Dn(o=Rn())&&(r.youtubeContainer=o.first)}},inputs:{videoId:"videoId",height:[mt.HasDecoratorInputTransform,"height","height",Bo],width:[mt.HasDecoratorInputTransform,"width","width",Bo],startSeconds:[mt.HasDecoratorInputTransform,"startSeconds","startSeconds",JK],endSeconds:[mt.HasDecoratorInputTransform,"endSeconds","endSeconds",JK],suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:[mt.HasDecoratorInputTransform,"disableCookies","disableCookies",vn],loadApi:[mt.HasDecoratorInputTransform,"loadApi","loadApi",vn],disablePlaceholder:[mt.HasDecoratorInputTransform,"disablePlaceholder","disablePlaceholder",vn],showBeforeIframeApiLoads:[mt.HasDecoratorInputTransform,"showBeforeIframeApiLoads","showBeforeIframeApiLoads",vn],placeholderButtonLabel:"placeholderButtonLabel",placeholderImageQuality:"placeholderImageQuality"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},standalone:!0,features:[Hr,br,Ui],decls:4,vars:3,consts:[["youtubeContainer",""],[3,"videoId","width","height","isLoading","buttonLabel","quality"],[3,"click","videoId","width","height","isLoading","buttonLabel","quality"]],template:function(i,r){1&i&&(mn(0,WLe,1,6,"youtube-player-placeholder",1),Xe(1,"div"),yn(2,"div",null,0),ot()),2&i&&($i(0,r._shouldShowPlaceholder()?0:-1),dt(),Nh("display",r._shouldShowPlaceholder()?"none":""))},dependencies:[$Le],encapsulation:2,changeDetection:0})}return n})(),rB=!1,QK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({})}return n})();function ZK(n=KLe){return Pn((e,t)=>{let i=!1;e.subscribe(si(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function KLe(){return new Iw}let ym={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function eJ(n){ym=n}const tJ=/[&<>"']/,JLe=new RegExp(tJ.source,"g"),nJ=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,QLe=new RegExp(nJ.source,"g"),ZLe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},iJ=n=>ZLe[n];function Bc(n,e){if(e){if(tJ.test(n))return n.replace(JLe,iJ)}else if(nJ.test(n))return n.replace(QLe,iJ);return n}const eBe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function tBe(n){return n.replace(eBe,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const nBe=/(^|[^\[])\^/g;function gr(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(i,r)=>(r=(r="object"==typeof r&&"source"in r?r.source:r).replace(nBe,"$1"),n=n.replace(i,r),t),getRegex:()=>new RegExp(n,e)};return t}function rJ(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const bT={exec:()=>null};function oJ(n,e){const i=n.replace(/\|/g,(o,s,a)=>{let c=!1,l=s;for(;--l>=0&&"\\"===a[l];)c=!c;return c?"|":" |"}).split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function yT(n,e,t){const i=n.length;if(0===i)return"";let r=0;for(;r<i;){const o=n.charAt(i-r-1);if(o!==e||t){if(o===e||!t)break;r++}else r++}return n.slice(0,i-r)}function sJ(n,e,t,i){const r=e.href,o=e.title?Bc(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){i.state.inLink=!0;const a={type:"link",raw:t,href:r,title:o,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,a}return{type:"image",raw:t,href:r,title:o,text:Bc(s)}}class vT{options;rules;lexer;constructor(e){this.options=e||ym}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:yT(i,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],r=function rBe(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const i=t[1];return e.split("\n").map(r=>{const o=r.match(/^\s+/);if(null===o)return r;const[s]=o;return s.length>=i.length?r.slice(i.length):r}).join("\n")}(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const r=yT(i,"#");(this.options.pedantic||!r||/ $/.test(r))&&(i=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const i=yT(t[0].replace(/^ *>[ \t]?/gm,""),"\n"),r=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(i);return this.lexer.state.top=r,{type:"blockquote",raw:t[0],tokens:o,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim();const r=i.length>1,o={type:"list",raw:"",ordered:r,start:r?+i.slice(0,-1):"",loose:!1,items:[]};i=r?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=r?i:"[*+-]");const s=new RegExp(`^( {0,3}${i})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",c="",l=!1;for(;e;){let d=!1;if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let h=t[2].split("\n",1)[0].replace(/^\t+/,L=>" ".repeat(3*L.length)),f=e.split("\n",1)[0],m=0;this.options.pedantic?(m=2,c=h.trimStart()):(m=t[2].search(/[^ ]/),m=m>4?1:m,c=h.slice(m),m+=t[1].length);let g=!1;if(!h&&/^ *$/.test(f)&&(a+=f+"\n",e=e.substring(f.length+1),d=!0),!d){const L=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),H=new RegExp(`^ {0,${Math.min(3,m-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),le=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:\`\`\`|~~~)`),se=new RegExp(`^ {0,${Math.min(3,m-1)}}#`);for(;e;){const Pe=e.split("\n",1)[0];if(f=Pe,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),le.test(f)||se.test(f)||L.test(f)||H.test(e))break;if(f.search(/[^ ]/)>=m||!f.trim())c+="\n"+f.slice(m);else{if(g||h.search(/[^ ]/)>=4||le.test(h)||se.test(h)||H.test(h))break;c+="\n"+f}!g&&!f.trim()&&(g=!0),a+=Pe+"\n",e=e.substring(Pe.length+1),h=f.slice(m)}}o.loose||(l?o.loose=!0:/\n *\n *$/.test(a)&&(l=!0));let E,v=null;this.options.gfm&&(v=/^\[[ xX]\] /.exec(c),v&&(E="[ ] "!==v[0],c=c.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:a,task:!!v,checked:E,loose:!1,text:c,tokens:[]}),o.raw+=a}o.items[o.items.length-1].raw=a.trimEnd(),o.items[o.items.length-1].text=c.trimEnd(),o.raw=o.raw.trimEnd();for(let d=0;d<o.items.length;d++)if(this.lexer.state.top=!1,o.items[d].tokens=this.lexer.blockTokens(o.items[d].text,[]),!o.loose){const h=o.items[d].tokens.filter(m=>"space"===m.type),f=h.length>0&&h.some(m=>/\n.*\n/.test(m.raw));o.loose=f}if(o.loose)for(let d=0;d<o.items.length;d++)o.items[d].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const i=t[1].toLowerCase().replace(/\s+/g," "),r=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:r,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(t){if(!/[:|]/.test(t[2]))return;const i={type:"table",raw:t[0],header:oJ(t[1]).map(r=>({text:r,tokens:[]})),align:t[2].replace(/^\||\| *$/g,"").split("|"),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(i.header.length===i.align.length){let o,s,a,c,r=i.align.length;for(o=0;o<r;o++){const l=i.align[o];l&&(i.align[o]=/^ *-+: *$/.test(l)?"right":/^ *:-+: *$/.test(l)?"center":/^ *:-+ *$/.test(l)?"left":null)}for(r=i.rows.length,o=0;o<r;o++)i.rows[o]=oJ(i.rows[o],i.header.length).map(l=>({text:l,tokens:[]}));for(r=i.header.length,s=0;s<r;s++)i.header[s].tokens=this.lexer.inline(i.header[s].text);for(r=i.rows.length,s=0;s<r;s++)for(c=i.rows[s],a=0;a<c.length;a++)c[a].tokens=this.lexer.inline(c[a].text);return i}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Bc(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const s=yT(i.slice(0,-1),"\\");if((i.length-s.length)%2==0)return}else{const s=function iBe(n,e){if(-1===n.indexOf(e[1]))return-1;let t=0;for(let i=0;i<n.length;i++)if("\\"===n[i])i++;else if(n[i]===e[0])t++;else if(n[i]===e[1]&&(t--,t<0))return i;return-1}(t[2],"()");if(s>-1){const c=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let r=t[2],o="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);s&&(r=s[1],o=s[3])}else o=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(r=this.options.pedantic&&!/>$/.test(i)?r.slice(1):r.slice(1,-1)),sJ(t,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let r=(i[2]||i[1]).replace(/\s+/g," ");if(r=t[r.toLowerCase()],!r){const o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return sJ(i,r,i[0],this.lexer)}}emStrong(e,t,i=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!(!r||r[3]&&i.match(/[\p{L}\p{N}]/u))&&(!r[1]&&!r[2]||!i||this.rules.inline.punctuation.exec(i))){const s=[...r[0]].length-1;let a,c,l=s,d=0;const h="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+s);null!=(r=h.exec(t));){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(c=[...a].length,r[3]||r[4]){l+=c;continue}if((r[5]||r[6])&&s%3&&!((s+c)%3)){d+=c;continue}if(l-=c,l>0)continue;c=Math.min(c,c+l+d);const f=[...r[0]][0].length,m=e.slice(0,s+r.index+f+c);if(Math.min(s,c)%2){const v=m.slice(1,-1);return{type:"em",raw:m,text:v,tokens:this.lexer.inlineTokens(v)}}const g=m.slice(2,-2);return{type:"strong",raw:m,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const r=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return r&&o&&(i=i.substring(1,i.length-1)),i=Bc(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let i,r;return"@"===t[2]?(i=Bc(t[1]),r="mailto:"+i):(i=Bc(t[1]),r=i),{type:"link",raw:t[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let i,r;if("@"===t[2])i=Bc(t[0]),r="mailto:"+i;else{let o;do{o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])[0]}while(o!==t[0]);i=Bc(t[0]),r="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let i;return i=this.lexer.state.inRawBlock?t[0]:Bc(t[0]),{type:"text",raw:t[0],text:i}}}}const $n={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:bT,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};$n.def=gr($n.def).replace("label",$n._label).replace("title",$n._title).getRegex(),$n.bullet=/(?:[*+-]|\d{1,9}[.)])/,$n.listItemStart=gr(/^( *)(bull) */).replace("bull",$n.bullet).getRegex(),$n.list=gr($n.list).replace(/bull/g,$n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+$n.def.source+")").getRegex(),$n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$n._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,$n.html=gr($n.html,"i").replace("comment",$n._comment).replace("tag",$n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),$n.lheading=gr($n.lheading).replace(/bull/g,$n.bullet).getRegex(),$n.paragraph=gr($n._paragraph).replace("hr",$n.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$n._tag).getRegex(),$n.blockquote=gr($n.blockquote).replace("paragraph",$n.paragraph).getRegex(),$n.normal={...$n},$n.gfm={...$n.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},$n.gfm.table=gr($n.gfm.table).replace("hr",$n.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$n._tag).getRegex(),$n.gfm.paragraph=gr($n._paragraph).replace("hr",$n.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",$n.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",$n._tag).getRegex(),$n.pedantic={...$n.normal,html:gr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",$n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:bT,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:gr($n.normal._paragraph).replace("hr",$n.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",$n.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const Sn={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:bT,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:bT,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};Sn.punctuation=gr(Sn.punctuation,"u").replace(/punctuation/g,Sn._punctuation).getRegex(),Sn.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Sn.anyPunctuation=/\\[punct]/g,Sn._escapes=/\\([punct])/g,Sn._comment=gr($n._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Sn.emStrong.lDelim=gr(Sn.emStrong.lDelim,"u").replace(/punct/g,Sn._punctuation).getRegex(),Sn.emStrong.rDelimAst=gr(Sn.emStrong.rDelimAst,"gu").replace(/punct/g,Sn._punctuation).getRegex(),Sn.emStrong.rDelimUnd=gr(Sn.emStrong.rDelimUnd,"gu").replace(/punct/g,Sn._punctuation).getRegex(),Sn.anyPunctuation=gr(Sn.anyPunctuation,"gu").replace(/punct/g,Sn._punctuation).getRegex(),Sn._escapes=gr(Sn._escapes,"gu").replace(/punct/g,Sn._punctuation).getRegex(),Sn._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Sn._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Sn.autolink=gr(Sn.autolink).replace("scheme",Sn._scheme).replace("email",Sn._email).getRegex(),Sn._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Sn.tag=gr(Sn.tag).replace("comment",Sn._comment).replace("attribute",Sn._attribute).getRegex(),Sn._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Sn._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Sn._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Sn.link=gr(Sn.link).replace("label",Sn._label).replace("href",Sn._href).replace("title",Sn._title).getRegex(),Sn.reflink=gr(Sn.reflink).replace("label",Sn._label).replace("ref",$n._label).getRegex(),Sn.nolink=gr(Sn.nolink).replace("ref",$n._label).getRegex(),Sn.reflinkSearch=gr(Sn.reflinkSearch,"g").replace("reflink",Sn.reflink).replace("nolink",Sn.nolink).getRegex(),Sn.normal={...Sn},Sn.pedantic={...Sn.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:gr(/^!?\[(label)\]\((.*?)\)/).replace("label",Sn._label).getRegex(),reflink:gr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Sn._label).getRegex()},Sn.gfm={...Sn.normal,escape:gr(Sn.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Sn.gfm.url=gr(Sn.gfm.url,"i").replace("email",Sn.gfm._extended_email).getRegex(),Sn.breaks={...Sn.gfm,br:gr(Sn.br).replace("{2,}","*").getRegex(),text:gr(Sn.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class Hd{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ym,this.options.tokenizer=this.options.tokenizer||new vT,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:$n.normal,inline:Sn.normal};this.options.pedantic?(t.block=$n.pedantic,t.inline=Sn.pedantic):this.options.gfm&&(t.block=$n.gfm,t.inline=this.options.breaks?Sn.breaks:Sn.gfm),this.tokenizer.rules=t}static get rules(){return{block:$n,inline:Sn}}static lex(e,t){return new Hd(t).lex(e)}static lexInline(e,t){return new Hd(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let i,r,o,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,c,l)=>c+"    ".repeat(l.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(i=a.call({lexer:this},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),1===i.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(i):(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title}):(r.raw+="\n"+i.raw,r.text+="\n"+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const c=e.slice(1);let l;this.options.extensions.startBlock.forEach(d=>{l=d.call({lexer:this},c),"number"==typeof l&&l>=0&&(a=Math.min(a,l))}),a<1/0&&a>=0&&(o=e.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){r=t[t.length-1],s&&"paragraph"===r.type?(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i),s=o.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i,r,o,a,c,l,s=e;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)d.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(l=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>!!(i=d.call({lexer:this},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&"text"===i.type&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),r=t[t.length-1],r&&"text"===i.type&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,s,l)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e))){e=e.substring(i.raw.length),t.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const h=e.slice(1);let f;this.options.extensions.startInline.forEach(m=>{f=m.call({lexer:this},h),"number"==typeof f&&f>=0&&(d=Math.min(d,f))}),d<1/0&&d>=0&&(o=e.substring(0,d+1))}if(i=this.tokenizer.inlineText(o)){e=e.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(l=i.raw.slice(-1)),c=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}return t}}class vm{options;constructor(e){this.options=e||ym}code(e,t,i){const r=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="language-'+Bc(r)+'">'+(i?e:Bc(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:Bc(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,i){return`<h${t}>${e}</h${t}>\n`}hr(){return"<hr>\n"}list(e,t,i){const r=t?"ol":"ul";return"<"+r+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e,t,i){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+e+`</${i}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,i){const r=rJ(e);if(null===r)return i;let o='<a href="'+(e=r)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+i+"</a>",o}image(e,t,i){const r=rJ(e);if(null===r)return i;let o=`<img src="${e=r}" alt="${i}"`;return t&&(o+=` title="${t}"`),o+=">",o}text(e){return e}}class sB{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}class Gd{options;renderer;textRenderer;constructor(e){this.options=e||ym,this.options.renderer=this.options.renderer||new vm,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new sB}static parse(e,t){return new Gd(t).parse(e)}static parseInline(e,t){return new Gd(t).parseInline(e)}parse(e,t=!0){let i="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const s=o,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==a||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){i+=a||"";continue}}switch(o.type){case"space":continue;case"hr":i+=this.renderer.hr();continue;case"heading":{const s=o;i+=this.renderer.heading(this.parseInline(s.tokens),s.depth,tBe(this.parseInline(s.tokens,this.textRenderer)));continue}case"code":i+=this.renderer.code(o.text,o.lang,!!o.escaped);continue;case"table":{const s=o;let a="",c="";for(let d=0;d<s.header.length;d++)c+=this.renderer.tablecell(this.parseInline(s.header[d].tokens),{header:!0,align:s.align[d]});a+=this.renderer.tablerow(c);let l="";for(let d=0;d<s.rows.length;d++){const h=s.rows[d];c="";for(let f=0;f<h.length;f++)c+=this.renderer.tablecell(this.parseInline(h[f].tokens),{header:!1,align:s.align[f]});l+=this.renderer.tablerow(c)}i+=this.renderer.table(a,l);continue}case"blockquote":{const a=this.parse(o.tokens);i+=this.renderer.blockquote(a);continue}case"list":{const s=o,a=s.ordered,c=s.start,l=s.loose;let d="";for(let h=0;h<s.items.length;h++){const f=s.items[h],m=f.checked,g=f.task;let v="";if(f.task){const E=this.renderer.checkbox(!!m);l?f.tokens.length>0&&"paragraph"===f.tokens[0].type?(f.tokens[0].text=E+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&"text"===f.tokens[0].tokens[0].type&&(f.tokens[0].tokens[0].text=E+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:E+" "}):v+=E+" "}v+=this.parse(f.tokens,l),d+=this.renderer.listitem(v,g,!!m)}i+=this.renderer.list(d,a,c);continue}case"html":i+=this.renderer.html(o.text,o.block);continue;case"paragraph":i+=this.renderer.paragraph(this.parseInline(o.tokens));continue;case"text":{let s=o,a=s.tokens?this.parseInline(s.tokens):s.text;for(;r+1<e.length&&"text"===e[r+1].type;)s=e[++r],a+="\n"+(s.tokens?this.parseInline(s.tokens):s.text);i+=t?this.renderer.paragraph(a):a;continue}default:{const s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return i}parseInline(e,t){t=t||this.renderer;let i="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const s=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){i+=s||"";continue}}switch(o.type){case"escape":case"text":i+=t.text(o.text);break;case"html":i+=t.html(o.text);break;case"link":i+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break;case"image":i+=t.image(o.href,o.title,o.text);break;case"strong":i+=t.strong(this.parseInline(o.tokens,t));break;case"em":i+=t.em(this.parseInline(o.tokens,t));break;case"codespan":i+=t.codespan(o.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(o.tokens,t));break;default:{const s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return i}}class wT{options;constructor(e){this.options=e||ym}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}const wm=new class oBe{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#e(Hd.lex,Gd.parse);parseInline=this.#e(Hd.lexInline,Gd.parseInline);Parser=Gd;Renderer=vm;TextRenderer=sB;Lexer=Hd;Tokenizer=vT;Hooks=wT;constructor(...e){this.use(...e)}walkTokens(e,t){let i=[];for(const r of e)switch(i=i.concat(t.call(this,r)),r.type){case"table":{const o=r;for(const s of o.header)i=i.concat(this.walkTokens(s.tokens,t));for(const s of o.rows)for(const a of s)i=i.concat(this.walkTokens(a.tokens,t));break}case"list":i=i.concat(this.walkTokens(r.items,t));break;default:{const o=r;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(s=>{i=i.concat(this.walkTokens(o[s],t))}):o.tokens&&(i=i.concat(this.walkTokens(o.tokens,t)))}}return i}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{const r={...i};if(r.async=this.defaults.async||r.async||!1,i.extensions&&(i.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const s=t.renderers[o.name];t.renderers[o.name]=s?function(...a){let c=o.renderer.apply(this,a);return!1===c&&(c=s.apply(this,a)),c}:o.renderer}if("tokenizer"in o){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");const s=t[o.level];s?s.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&("block"===o.level?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:"inline"===o.level&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),r.extensions=t),i.renderer){const o=this.defaults.renderer||new vm(this.defaults);for(const s in i.renderer){const a=i.renderer[s],l=o[s];o[s]=(...d)=>{let h=a.apply(o,d);return!1===h&&(h=l.apply(o,d)),h||""}}r.renderer=o}if(i.tokenizer){const o=this.defaults.tokenizer||new vT(this.defaults);for(const s in i.tokenizer){const a=i.tokenizer[s],l=o[s];o[s]=(...d)=>{let h=a.apply(o,d);return!1===h&&(h=l.apply(o,d)),h}}r.tokenizer=o}if(i.hooks){const o=this.defaults.hooks||new wT;for(const s in i.hooks){const a=i.hooks[s],l=o[s];o[s]=wT.passThroughHooks.has(s)?d=>{if(this.defaults.async)return Promise.resolve(a.call(o,d)).then(f=>l.call(o,f));const h=a.call(o,d);return l.call(o,h)}:(...d)=>{let h=a.apply(o,d);return!1===h&&(h=l.apply(o,d)),h}}r.hooks=o}if(i.walkTokens){const o=this.defaults.walkTokens,s=i.walkTokens;r.walkTokens=function(a){let c=[];return c.push(s.call(this,a)),o&&(c=c.concat(o.call(this,a))),c}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Hd.lex(e,t??this.defaults)}parser(e,t){return Gd.parse(e,t??this.defaults)}#e(e,t){return(i,r)=>{const o={...r},s={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const a=this.#t(!!s.silent,!!s.async);if(typeof i>"u"||null===i)return a(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof i)return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(i):i).then(c=>e(c,s)).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>t(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(a);try{s.hooks&&(i=s.hooks.preprocess(i));const c=e(i,s);s.walkTokens&&this.walkTokens(c,s.walkTokens);let l=t(c,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(c){return a(c)}}}#t(e,t){return i=>{if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const r="<p>An error occurred:</p><pre>"+Bc(i.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(i);throw i}}};function lr(n,e){return wm.parse(n,e)}lr.options=lr.setOptions=function(n){return wm.setOptions(n),eJ(lr.defaults=wm.defaults),lr},lr.getDefaults=function oB(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},lr.defaults=ym,lr.use=function(...n){return wm.use(...n),eJ(lr.defaults=wm.defaults),lr},lr.walkTokens=function(n,e){return wm.walkTokens(n,e)},lr.parseInline=wm.parseInline,lr.Parser=Gd,lr.parser=Gd.parse,lr.Renderer=vm,lr.TextRenderer=sB,lr.Lexer=Hd,lr.lexer=Hd.lex,lr.Tokenizer=vT,lr.Hooks=wT,lr.parse=lr;const sBe=["*"];let aJ=(()=>{class n{constructor(){this._buttonClick$=new on,this.copied$=this._buttonClick$.pipe(Fr(()=>Us(On(!0),m0(3e3).pipe(YL(!1)))),Va(),ol(1)),this.copiedText$=this.copied$.pipe(ps(!1),Vt(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["markdown-clipboard"]],standalone:!0,features:[Ui],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(i,r){1&i&&(Xe(0,"button",0),ri(1,"async"),Bt("click",function(){return r.onCopyToClipboardClick()}),Yt(2),ri(3,"async"),ot()),2&i&&(bn("copied",ai(1,3,r.copied$)),dt(2),Lo(ai(3,5,r.copiedText$)))},dependencies:[gd],encapsulation:2,changeDetection:0})}return n})();const lBe=new vt("CLIPBOARD_OPTIONS");var aB=function(n){return n.CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",n}(aB||{});const cJ=new vt("MARKED_EXTENSIONS"),uBe=new vt("MARKED_OPTIONS"),lJ=new vt("SECURITY_CONTEXT");let cB=(()=>{class n{get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}constructor(t,i,r,o,s,a,c){this.clipboardOptions=t,this.extensions=i,this.platform=o,this.securityContext=s,this.http=a,this.sanitizer=c,this.DEFAULT_MARKED_OPTIONS={renderer:new vm},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new on,this.reload$=this._reload$.asObservable(),this.options=r}parse(t,i=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:r,inline:o,emoji:s,mermaid:a,disableSanitizer:c}=i,l={...this.options,...i.markedOptions},d=l.renderer||this.renderer||new vm;this.extensions&&(this.renderer=this.extendsRendererForExtensions(d)),a&&(this.renderer=this.extendsRendererForMermaid(d));const h=this.trimIndentation(t),f=r?this.decodeHtml(h):h,m=s?this.parseEmoji(f):f,g=this.parseMarked(m,l,o);return(c?g:this.sanitizer.sanitize(this.securityContext,g))||""}render(t,i=this.DEFAULT_RENDER_OPTIONS,r){const{clipboard:o,clipboardOptions:s,katex:a,katexOptions:c,mermaid:l,mermaidOptions:d}=i;o&&this.renderClipboard(t,r,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...c}),l&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...d}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(Vt(i=>this.handleExtension(t,i)))}highlight(t){if(!_d(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const i=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(i,r=>r.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!_d(this.platform))return t;const i=document.createElement("textarea");return i.innerHTML=t,i.value}extendsRendererForExtensions(t){const i=t;return!0===i.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&lr.use(...this.extensions),i.\u0275NgxMarkdownRendererExtendedForExtensions=!0),t}extendsRendererForMermaid(t){const i=t;if(!0===i.\u0275NgxMarkdownRendererExtendedForMermaid)return t;const r=t.code;return t.code=function(o,s,a){return"mermaid"===s?`<div class="mermaid">${o}</div>`:r.call(this,o,s,a)},i.\u0275NgxMarkdownRendererExtendedForMermaid=!0,t}handleExtension(t,i){const r=t.lastIndexOf("://"),o=r>-1?t.substring(r+4):t,s=o.lastIndexOf("/"),a=s>-1?o.substring(s+1).split("?")[0]:"",c=a.lastIndexOf("."),l=c>-1?a.substring(c+1):"";return l&&"md"!==l?"```"+l+"\n"+i+"\n```":i}parseMarked(t,i,r=!1){if(i.renderer){const o={...i.renderer};delete o.\u0275NgxMarkdownRendererExtendedForExtensions,delete o.\u0275NgxMarkdownRendererExtendedForMermaid,delete i.renderer,lr.use({renderer:o})}return r?lr.parseInline(t,i):lr.parse(t,i)}parseEmoji(t){if(!_d(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,i){if(_d(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,i)}}renderClipboard(t,i,r){if(!_d(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!i)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:o,buttonTemplate:s}=r,a=t.querySelectorAll("pre");for(let c=0;c<a.length;c++){const l=a.item(c),d=document.createElement("div");d.style.position="relative",l.parentNode.insertBefore(d,l),d.appendChild(l);const h=document.createElement("div");let f,m;h.style.position="absolute",h.style.top=".5em",h.style.right=".5em",h.style.opacity="0",h.style.transition="opacity 250ms ease-out",d.insertAdjacentElement("beforeend",h),l.onmouseover=()=>h.style.opacity="1",l.onmouseout=()=>h.style.opacity="0",f=o?i.createComponent(o).hostView:s?i.createEmbeddedView(s):i.createComponent(aJ).hostView,f.rootNodes.forEach(g=>{g.onmouseover=()=>h.style.opacity="1",h.appendChild(g),m=new ClipboardJS(g,{text:()=>l.innerText})}),f.onDestroy(()=>m.destroy())}}renderMermaid(t,i=this.DEFAULT_MERMAID_OPTIONS){if(!_d(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const r=t.querySelectorAll(".mermaid");0!==r.length&&(mermaid.initialize(i),mermaid.run({nodes:r}))}trimIndentation(t){if(!t)return"";let i;return t.split("\n").map(r=>{let o=i;return r.length>0&&(o=isNaN(o)?r.search(/\S|$/):Math.min(r.search(/\S|$/),o)),isNaN(i)&&(i=o),o?r.substring(o):r}).join("\n")}static#e=this.\u0275fac=function(i){return new(i||n)(et(lBe,8),et(cJ,8),et(uBe,8),et(Ls),et(lJ),et(wd,8),et(Rp))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})(),dJ=(()=>{class n{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}constructor(t,i,r){this.element=t,this.markdownService=i,this.viewContainerRef=r,this.error=new Qt,this.load=new Qt,this.ready=new Qt,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new on}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(Ii(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,i=!1){var r=this;return D(function*(){const o={decodeHtml:i,inline:r.inline,emoji:r.emoji,mermaid:r.mermaid,disableSanitizer:r.disableSanitizer},s={clipboard:r.clipboard,clipboardOptions:{buttonComponent:r.clipboardButtonComponent,buttonTemplate:r.clipboardButtonTemplate},katex:r.katex,katexOptions:r.katexOptions,mermaid:r.mermaid,mermaidOptions:r.mermaidOptions},a=yield r.markdownService.parse(t,o);r.element.nativeElement.innerHTML=a,r.handlePlugins(),r.markdownService.render(r.element.nativeElement,s,r.viewContainerRef),r.ready.emit()})()}coerceBooleanProperty(t){return null!=t&&"false"!=`${String(t)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t).then(()=>{this.load.emit(t)})},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,aB.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,aB.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,i){const r=t.querySelectorAll("pre");for(let o=0;o<r.length;o++){const s=i instanceof Array?i:[i];r.item(o).classList.add(...s)}}setPluginOptions(t,i){const r=t.querySelectorAll("pre");for(let o=0;o<r.length;o++)Object.keys(i).forEach(s=>{const a=i[s];if(a){const c=this.toLispCase(s);r.item(o).setAttribute(c,a.toString())}})}toLispCase(t){const i=t.match(/([A-Z])/g);if(!i)return t;let r=t.toString();for(let o=0,s=i.length;o<s;o++)r=r.replace(new RegExp(i[o]),"-"+i[o].toLowerCase());return"-"===r.slice(0,1)&&(r=r.slice(1)),r}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn),Ae(cB),Ae(Ts))};static#t=this.\u0275cmp=un({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[br,Ui],ngContentSelectors:sBe,decls:1,vars:0,template:function(i,r){1&i&&(yr(),zn(0))},encapsulation:2})}return n})();function yBe(n){return[cB,n?.loader??[],n?.clipboardOptions??[],n?.markedOptions??[],{provide:cJ,useValue:n?.markedExtensions??[]},{provide:lJ,useValue:n?.sanitize??Jo.HTML}]}let vBe=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[yBe(t)]}}static forChild(){return{ngModule:n}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi]})}return n})();var uJ;!function(n){let e;var r;let t,i;(r=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",r.Loose="loose",r.Antiscript="antiscript",r.Sandbox="sandbox",function(r){r.Base="base",r.Forest="forest",r.Dark="dark",r.Default="default",r.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(r){r[r.Debug=1]="Debug",r[r.Info=2]="Info",r[r.Warn=3]="Warn",r[r.Error=4]="Error",r[r.Fatal=5]="Fatal"}(i=n.LogLevel||(n.LogLevel={}))}(uJ||(uJ={}));let wBe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,gT,vo,iB,QK,vBe.forRoot({})]})}return n})(),xBe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,wBe,vo,aG]})}return n})(),EBe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({})}return n})(),lB=(()=>{class n{get obj(){const t=this.findGlobalObject();return Object.defineProperties(this,{obj:{configurable:!1,writable:!1,value:t}}),t}has(t){const{obj:i}=this;return null!=i&&t in i}get(t,i){const{obj:r}=this;return(r&&r[t])??i}set(t,i){const{obj:r}=this;r&&(r[t]=i)}remove(t){const{obj:i}=this;i&&delete i[t]}findGlobalObject(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self;try{return new Function("return this;")()}catch{}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _b(n){return!0===n}function qs(n){return null===n||typeof n>"u"}function Aa(n){return!qs(n)}function dB(n){return!!n}function gJ(n){return qs(n)?n:JSON.parse(JSON.stringify(n))}function _J(n){return Aa(n)&&"object"==typeof n&&function uB(n){return"[object Object]"===Object.prototype.toString.call(n)}(n)}const XBe="NGXS_COMPUTED_OPTION",vJ="NGXS_DATA_META",hB="NGXS_META",wJ="NGXS_ARGUMENT_REGISTRY_META";let xJ=(()=>{class n{constructor(t){this.subscription=null,this.sequence$=new Ir(0),t&&(this.subscription=t.subscribe(()=>this.updateSequence()))}get sequenceValue(){return this.sequence$.getValue()}ngOnDestroy(){this.sequence$.next(0),this.subscription?.unsubscribe()}updateSequence(){this.sequence$.next(this.sequenceValue+1)}}return n.\u0275fac=function(t){return new(t||n)(et(Vd,8))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac}),n})();function Rw(n){return n[vJ]}let pl=(()=>{class n{constructor(t,i,r){n.store=t.get(Vd),n.ngZone=t.get(_n),n.factory=i,n.context=r,n.computed=t.get(xJ),n.injector=t}}return n.store=null,n.computed=null,n.context=null,n.factory=null,n.ngZone=null,n.injector=null,n.\u0275fac=function(t){return new(t||n)(et(wi),et(HY),et(GY))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac}),n})();class Ho{constructor(){Ho.statesCachedMeta.clear()}static createStateContext(e){return pl.context.createStateContext(e)}static ensureMappedState(e){if(qs(pl.factory)||qs(e))throw new Error("Metadata not created \n Maybe you forgot to import the NgxsDataPluginModule\n Also, you cannot use this.ctx.* until the application is fully rendered \n (use by default ngxsOnInit(ctx: StateContext), or ngxsAfterBootstrap(ctx: StateContext) !!!");return(Aa(e.name)?Ho.statesCachedMeta.get(e.name):null)||Ho.ensureMeta(e)}static getRepositoryByInstance(e){const i=Rw(Ho.getStateClassByInstance(e))??null;if(qs(i))throw new Error("You forgot add decorator @StateRepository or initialize state!\nExample: NgxsModule.forRoot([ .. ]), or NgxsModule.forFeature([ .. ])");return i}static getStateClassByInstance(e){return(e??{}).constructor}static clearMetaByInstance(e){const t=Ho.getRepositoryByInstance(e);t.stateMeta.actions={},t.operations={}}static createPayload(e,t){const i={},r=Array.from(e);for(const[o,s]of r.entries()){const a=t?.getPayloadTypeByIndex(o);Aa(a)&&(i[a]=s)}return Object.keys(i).length>0?i:null}static createAction(e,t,i){const r=Ho.createPayload(t,i),o=function ZBe(n){return class{constructor(t){if(t)for(const i of Object.keys(t))this[i]=t[i]}static get type(){return n}}}(e.type);return new o(r)}static ensureMeta(e){const t=Aa(e.name)?pl.factory.states?.find(i=>i.name===e.name):null;return Aa(t)&&Aa(e.name)&&Ho.statesCachedMeta.set(e.name,t),t}}Ho.statesCachedMeta=new Map,Ho.\u0275fac=function(e){return new(e||Ho)},Ho.\u0275prov=Ot({token:Ho,factory:Ho.\u0275fac}),new class e3e{constructor(){this.subject=new jh(1)}init(){this.subject.next()}onInit(e){this.subject.pipe(function Yu(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ai((r,o)=>n(r,o,i)):We,vr(1),t?ab(e):ZK(()=>new Iw))}()).subscribe(e)}reset(){this.subject.complete(),this.subject=new jh(1)}};class n3e extends Error{constructor(e){super(`Child states can only be added to an object. Cannot convert ${Aa(e?.constructor)?e.constructor.name:e} to PlainObject`)}}function EJ(n){return n.NGXS_OPTIONS_META??{name:""}}function CJ(n){const e=EJ(n),t=e.children??[],r=gJ(void 0===e.defaults?{}:e.defaults);if(t.length>0){if(_J(r))return function i3e(n,e){return e.reduce((t,i)=>{const r=EJ(i);if(function Dw(n){const e="string"==typeof n?n.trim():n;return[void 0,null,NaN,"",1/0].includes(e)}(r.name))throw new Error("State name not provided in class");return t[r.name.toString()]=CJ(i),t},n??{})}(r,t);throw new n3e(r)}return r}function SJ(){return`__${XBe}__`}function AJ(n){return n[SJ()]??null}function TJ(){return pl?.computed?.sequenceValue??0}function s3e(n){let e=!1;return mf(n)&&(e=!0),e}function fB(n){return n[wJ]}class a3e extends Error{constructor(e,t){super(`An argument with the name '${e}' already exists in the method '${t}'`)}}class c3e{constructor(){this.payloadMap=new Map,this.argumentMap=new Map}getPayloadTypeByIndex(e){return this.payloadMap.get(e)??null}getArgumentNameByIndex(e){return this.argumentMap.get(e)??null}createPayloadType(e,t,i){this.checkDuplicateName(e,t),this.payloadMap.set(i,e),this.payloadMap.set(e,e)}createArgumentName(e,t,i){this.checkDuplicateName(e,t),this.argumentMap.set(i,e),this.argumentMap.set(e,e)}checkDuplicateName(e,t){if(dB(this.argumentMap.has(e))||dB(this.payloadMap.has(e)))throw new a3e(e,t)}}function f3e(n){return{enumerable:!0,configurable:!0,get(){const e=Rw(n),t=Ho.ensureMappedState(e.stateMeta);return Ho.createStateContext(t)}}}function mB(n){if(!n)throw new Error("You forgot add decorator @StateRepository or initialize state!\nExample: NgxsModule.forRoot([ .. ]), or NgxsModule.forFeature([ .. ])");return{...n,getState:()=>n.getState(),setState(e){n.setState(e)},patchState(e){n.patchState(e)}}}const b3e={dataActionSubscribeRequired:!0},y3e=new vt("NGXS_DATA_CONFIG",{providedIn:"root",factory:()=>b3e});let v3e=(()=>{class n{constructor(t,i){this.accessor=t,this.injector=i}static forRoot(t=[]){return{ngModule:n,providers:[Ho,pl,xJ,...t]}}}return n.\u0275fac=function(t){return new(t||n)(et(Ho,2),et(pl,2))},n.\u0275mod=dn({type:n}),n.\u0275inj=cn({}),n})();function Yi(){return(n,e,t)=>{!function QBe(n,e){if(!function UBe(n,e){let t=n,i=!1;if(_J(t))for(;null!==t;){if(_b(t?.hasOwnProperty(e))){i=!!Object.getOwnPropertyDescriptor(t,e)?.get;break}t=Object.getPrototypeOf(t)}return i}(n,e?.toString()))throw new Error(`The method must be a getter for the computed decorator to work properly.\nExample: \n@Computed() get ${e.toString()}() { \n\t .. \n}`)}(n,e);const i=t.get;return t.get=function(...r){const o=function o3e(n){return qs(AJ(n))&&Object.defineProperties(n,{[SJ()]:{enumerable:!0,configurable:!0,value:new WeakMap}}),AJ(n)}(this),s=o?.get(i);if(_b(s?.isObservable))return s?.value;if(qs(s)||s.sequenceId!==TJ()){o.delete(i);const c=i.apply(this,r);return o.set(i,{value:c,sequenceId:TJ(),isObservable:s3e(c)}),c}return s?.value},t}}const w3e={cancelUncompleted:!0,insideZone:!1,subscribeRequired:!0};function ti(n={}){const e=function x3e(n){const e=pl?.injector?.get(y3e,void 0,Li.Optional),t={...w3e};return Aa(e)&&void 0!==e?.dataActionSubscribeRequired&&(t.subscribeRequired=e.dataActionSubscribeRequired),{...t,...n}}(n);return(t,i,r)=>{!function JBe(n,e){if(n.hasOwnProperty("prototype"))throw new Error("Cannot support static methods with @DataAction()");if(void 0===e)throw new Error("@DataAction() can only decorate a method implementation")}(t,r);const o=r.value,s=i.toString();return r.value=function(...a){const c=this;let l=null;const d=Ho.getRepositoryByInstance(c),h=d.operations;let f=h[s];const m=d.stateMeta,g=fB(o);if(qs(f)){const le=function _3e(n){return String(n).replace(/\/\/.*$/gm,"").replace(/\s+/g,"").replace(/\/\*[^*/]*\*\//g,"").split("){",1)?.[0]?.replace(/^[^(]*\(/,"").replace(/=[^,]+/g,"").split(",").filter(Boolean)??[]}(o),se=function t3e(n){const{statePath:e,argumentsNames:t,methodName:i,argumentRegistry:r}=n;let o="";for(let s=0;s<t.length;s++)Aa(r?.getArgumentNameByIndex(s))?o+=r?.getArgumentNameByIndex(s):Aa(r?.getPayloadTypeByIndex(s))?o+=r?.getPayloadTypeByIndex(s):o+=`$arg${s}`,s!==t.length-1&&(o+=", ");return`@${e.replace(/\./g,"/")}.${i}(${o})`}({statePath:m.path,methodName:s,argumentsNames:le,argumentRegistry:g});f=h[s]={type:se,options:{cancelUncompleted:e.cancelUncompleted??!1}},Aa(f)&&(m.actions[f.type]=[{type:f.type,options:f.options,fn:f.type}])}Ho.ensureMappedState(m).instance[f.type]=()=>(_b(e.insideZone)?pl.ngZone?.run(()=>{l=o.apply(c,a)}):l=o.apply(c,a),mf(l)&&_b(e.subscribeRequired)?On(null).pipe(Vt(()=>l)):l);const L=Ho.createAction(f,a,g),H=pl.store.dispatch(L);return mf(l)?function r3e(n,e){return c0([n,e]).pipe(Vt(t=>t.pop()))}(H,l):l},r}}function bs(n){return(e,t,i)=>{const r=n.trim();if(!r)throw new Error("Payload name should be initialized");(function l3e(n,e){const t=n[e];return qs(fB(t))&&Object.defineProperties(t,{[wJ]:{enumerable:!0,configurable:!0,value:new c3e}}),fB(t)})(e,t).createPayloadType(r,t,i)}}function Xu(){return n=>{const e=function g3e(n){if(function IBe(n){return!dB(n)}(n.hasOwnProperty(hB))){const e={name:null,actions:{},defaults:{},path:null,makeRootSelector:t=>t.getStateGetter(e.name),children:[]};Object.defineProperty(n,hB,{value:e})}return function m3e(n){return n?.[hB]}(n)}(n);if(qs(e.name))throw new Error("@StateRepository should be add before decorator @State");!function h3e(n,e){(function u3e(n){const e=Rw(n)??null;return(qs(e)||e?.stateClass!==n)&&function d3e(n){Object.defineProperty(n,vJ,{writable:!0,configurable:!0,enumerable:!0,value:{stateMeta:null,operations:{},stateClass:n}})}(n),Rw(n)}(n)).stateMeta=e}(n,e),function C3e(n,e,t){Object.defineProperties(n.prototype,{name:{enumerable:!0,configurable:!0,value:e.name},initialState:{enumerable:!0,configurable:!0,get:()=>gJ(t)},context:f3e(n)})}(n,e,CJ(n)),function p3e(n){const t=Rw(n)?.stateMeta?.name??null;if(Aa(t)){const i=`__${t}__selector`;Object.defineProperties(n.prototype,{[i]:{writable:!0,enumerable:!1,configurable:!0},state$:{enumerable:!0,configurable:!0,get(){if(Aa(this[i]))return this[i];if(qs(pl.store))throw new Error("Metadata not created \n Maybe you forgot to import the NgxsDataPluginModule\n Also, you cannot use this.ctx.* until the application is fully rendered \n (use by default ngxsOnInit(ctx: StateContext), or ngxsAfterBootstrap(ctx: StateContext) !!!");return this[i]=pl.store.select(n).pipe(Vt(r=>r),ol({refCount:!0,bufferSize:1})),this[i]}}})}}(n)}}var MJ=function(n){return n.ID="id",n}(MJ||{}),gB=function(n){return n.ASC="asc",n.DESC="desc",n}(gB||{});let _B=(()=>{class n{constructor(){this._dirty=!0,this.browserStorageEvents$=new on,this.isInitialised=!1,this.isBootstrapped=!1}get dirty(){return this._dirty}set dirty(t){this._dirty=t}ngxsOnChanges(t){this.dirty&&this.isBootstrapped&&(this.dirty=!1,this.ngxsDataDoCheck?.())}ngxsOnInit(){this.isInitialised=!0}ngxsAfterBootstrap(){this.isBootstrapped=!0,this.dirty&&(this.dirty=!1,this.ngxsDataDoCheck?.())}markAsDirtyAfterReset(){this.dirty=!0,this.ngxsDataAfterReset?.()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Ot({token:n,factory:n.\u0275fac}),n})(),A3e=(()=>{class n extends _B{get snapshot(){return this.getState()}get ctx(){return mB(this.context)}patchState(t){this.ctx.patchState(t)}setState(t){this.ctx.setState(t)}reset(){this.ctx.setState(this.initialState),this.markAsDirtyAfterReset()}getState(){return this.ctx.getState()}dispatch(t){return this.ctx.dispatch(t)}}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=Wi(n)))(i||n)}})(),n.\u0275prov=Ot({token:n,factory:n.\u0275fac}),Nt([Yi(),ke("design:type",Object),ke("design:paramtypes",[])],n.prototype,"snapshot",null),Nt([ti(),es(0,bs("patchValue")),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],n.prototype,"patchState",null),Nt([ti(),es(0,bs("stateValue")),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],n.prototype,"setState",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[]),ke("design:returntype",void 0)],n.prototype,"reset",null),n})(),T3e=(()=>{class n extends _B{constructor(){super(...arguments),this.primaryKey=MJ.ID,this.comparator=null}get snapshot(){return this.getState()}get ids(){return this.snapshot.ids}get entities(){return this.snapshot.entities}get entitiesArray(){const t=this.snapshot;return t.ids.map(i=>t.entities[i])}get ids$(){return this.state$.pipe(Vt(t=>t.ids))}get entities$(){return this.state$.pipe(Vt(t=>t.entities))}get entitiesArray$(){return this.state$.pipe(Vt(t=>t.ids.map(i=>t.entities[i])))}get ctx(){return mB(this.context)}reset(){this.setEntitiesState(this.initialState),this.markAsDirtyAfterReset()}addOne(t){this.addEntityOne(t)}addMany(t){this.addEntitiesMany(t)}setOne(t){this.setEntityOne(t)}setMany(t){this.setEntitiesMany(t)}setAll(t){this.setEntitiesAll(t)}updateOne(t){this.updateEntitiesMany([t])}updateMany(t){this.updateEntitiesMany(t)}upsertOne(t){this.upsertEntitiesMany([t])}upsertMany(t){this.upsertEntitiesMany(t)}removeOne(t){this.removeEntitiesMany([t])}removeMany(t){this.removeEntitiesMany(t)}removeByEntity(t){const i=this.selectId(t);this.removeEntitiesMany([i])}removeByEntities(t){const i=[];for(const r of t){const o=this.selectId(r);i.push(o)}this.removeEntitiesMany(i)}removeAll(){this.setAll([])}sort(t){this.comparator=t??this.comparator,qs(this.comparator)?console.warn("You must set the compare function before sorting."):this.setEntitiesState(this.getState())}patchState(t){this.ctx.patchState(t)}setComparator(t){return this.comparator=t,this}dispatch(t){return this.ctx.dispatch(t)}getState(){return this.ctx.getState()}selectId(t){return t?.[this.primaryKey]}selectOne(t){return this.snapshot.entities[t]??null}selectAll(){const t=this.getState();return t.ids.map(i=>t.entities[i])}addEntityOne(t){const i=this.getState(),r=this.selectIdValue(t);r in i.entities||this.setEntitiesState({...i,ids:[...i.ids,r],entities:{...i.entities,[r]:t}})}addEntitiesMany(t){const i=this.getState(),r={},o=[];for(const s of t){const a=this.selectIdValue(s);a in i.entities||a in r||(o.push(a),r[a]=s)}o.length>0&&this.setEntitiesState({...i,ids:[...i.ids,...o],entities:{...i.entities,...r}})}setEntitiesAll(t){const i=this.getState(),r={},o=[];for(const s of t){const a=this.selectIdValue(s);a in r||(o.push(a),r[a]=s)}this.setEntitiesState({...i,ids:o,entities:r})}setEntityOne(t){const i=this.getState(),r=this.selectIdValue(t);this.setEntitiesState(r in i.entities?{...i,entities:{...i.entities,[r]:t}}:{...i,ids:[...i.ids,r],entities:{...i.entities,[r]:t}})}setEntitiesMany(t){for(const i of t)this.setEntityOne(i)}updateEntitiesMany(t){const i=this.getState(),r=t.filter(a=>a.id in i.entities);if(0===r.length)return;const o=this.generateKeyMap(i),s={...i.entities};for(const a of r){const c=this.updateOrigin(s,a),l=this.selectIdValue(c);l!==a.id&&(delete o[a.id],delete s[a.id]),o[a.id]=l,s[l]=c}this.setEntitiesState({...i,ids:i.ids.map(a=>o[a]??a),entities:s})}upsertEntitiesMany(t){const i=this.getState(),r=[],o=[];for(const s of t){const a=this.selectIdValue(s);a in i.entities?r.push({id:a,changes:s}):o.push(s)}this.updateMany(r),this.addMany(o)}removeEntitiesMany(t){const i=this.getState(),r=this.generateKeyMap(i),o={...i.entities};for(const s of t)s in o&&(delete r[s],delete o[s]);this.setEntitiesState({...i,ids:i.ids.filter(s=>s in r),entities:o})}setEntitiesState(t){const i=this.sortKeysByComparator(t.ids,t.entities);this.ctx.patchState({...t,ids:i,entities:t.entities})}sortKeysByComparator(t,i){if(qs(this.comparator))return t;const r=t.slice(),o=this.comparator;return"function"==typeof o?r.sort((s,a)=>o(i[s],i[a])):this.sortByComparatorOptions(r,o,i)}sortByComparatorOptions(t,i,r){switch(i?.sortByOrder){case gB.ASC:return t.sort((o,s)=>function HBe(n,e,t){return e?.[n]>t?.[n]?1:e?.[n]<t?.[n]?-1:0}(i?.sortBy,r[o],r[s]));case gB.DESC:return t.sort((o,s)=>function GBe(n,e,t){return e?.[n]>t?.[n]?-1:e?.[n]<t?.[n]?1:0}(i?.sortBy,r[o],r[s]));default:return t}}generateKeyMap(t){return t.ids.reduce((i,r)=>(i[r]=r,i),{})}updateOrigin(t,i){return{...t[i.id],...i.changes}}selectIdValue(t){const i=this.selectId(t);return qs(i),i}}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=Wi(n)))(i||n)}})(),n.\u0275prov=Ot({token:n,factory:n.\u0275fac}),Nt([Yi(),ke("design:type",Object),ke("design:paramtypes",[])],n.prototype,"snapshot",null),Nt([Yi(),ke("design:type",Array),ke("design:paramtypes",[])],n.prototype,"ids",null),Nt([Yi(),ke("design:type",Object),ke("design:paramtypes",[])],n.prototype,"entities",null),Nt([Yi(),ke("design:type",Array),ke("design:paramtypes",[])],n.prototype,"entitiesArray",null),Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],n.prototype,"ids$",null),Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],n.prototype,"entities$",null),Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],n.prototype,"entitiesArray$",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[]),ke("design:returntype",void 0)],n.prototype,"reset",null),Nt([ti(),es(0,bs("entity")),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],n.prototype,"addOne",null),Nt([ti(),es(0,bs("entities")),ke("design:type",Function),ke("design:paramtypes",[Array]),ke("design:returntype",void 0)],n.prototype,"addMany",null),Nt([ti(),es(0,bs("entity")),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],n.prototype,"setOne",null),Nt([ti(),es(0,bs("entities")),ke("design:type",Function),ke("design:paramtypes",[Array]),ke("design:returntype",void 0)],n.prototype,"setMany",null),Nt([ti(),es(0,bs("entities")),ke("design:type",Function),ke("design:paramtypes",[Array]),ke("design:returntype",void 0)],n.prototype,"setAll",null),Nt([ti(),es(0,bs("update")),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],n.prototype,"updateOne",null),Nt([ti(),es(0,bs("updates")),ke("design:type",Function),ke("design:paramtypes",[Array]),ke("design:returntype",void 0)],n.prototype,"updateMany",null),Nt([ti(),es(0,bs("entity")),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],n.prototype,"upsertOne",null),Nt([ti(),es(0,bs("entities")),ke("design:type",Function),ke("design:paramtypes",[Array]),ke("design:returntype",void 0)],n.prototype,"upsertMany",null),Nt([ti(),es(0,bs("id")),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],n.prototype,"removeOne",null),Nt([ti(),es(0,bs("ids")),ke("design:type",Function),ke("design:paramtypes",[Array]),ke("design:returntype",void 0)],n.prototype,"removeMany",null),Nt([ti(),es(0,bs("entity")),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],n.prototype,"removeByEntity",null),Nt([ti(),es(0,bs("entities")),ke("design:type",Function),ke("design:paramtypes",[Array]),ke("design:returntype",void 0)],n.prototype,"removeByEntities",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[]),ke("design:returntype",void 0)],n.prototype,"removeAll",null),Nt([ti(),es(0,bs("comparator")),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],n.prototype,"sort",null),Nt([ti(),es(0,bs("patchValue")),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],n.prototype,"patchState",null),n})(),xm=(()=>{class n extends _B{get snapshot(){return this.getState()}get ctx(){return mB(this.context)}patchState(t){this.ctx.patchState(t)}setState(t){this.ctx.setState(t)}reset(){this.ctx.setState(this.initialState),this.markAsDirtyAfterReset()}getState(){return this.ctx.getState()}dispatch(t){return this.ctx.dispatch(t)}}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=Wi(n)))(i||n)}})(),n.\u0275prov=Ot({token:n,factory:n.\u0275fac}),Nt([Yi(),ke("design:type",Object),ke("design:paramtypes",[])],n.prototype,"snapshot",null),Nt([ti(),es(0,bs("patchValue")),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],n.prototype,"patchState",null),Nt([ti(),es(0,bs("stateValue")),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],n.prototype,"setState",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[]),ke("design:returntype",void 0)],n.prototype,"reset",null),n})();function bB(){return Ai(n=>null!=n)}function yB(...n){const e=n.length;if(0===e)throw new Error("list of properties cannot be empty.");return Vt(t=>{let i=t;for(let r=0;r<e;r++){const o=i?.[n[r]];if(!(typeof o<"u"))return;i=o}return i})}const M3e={};function vB(...n){const e=n[n.length-1];let t=n,i=M3e;return"object"==typeof e&&(i=e,t=t.slice(0,-1)),r=>r.pipe(yB(...t),Va(i.compare),ol(1))}let ss=class ux extends xm{constructor(){super(...arguments),this.optionCache=new Map}get config$(){return this.state$.pipe(bB(),ol(1))}setConfig(e){this.setState(e)}patchConfig(e){this.patchState(e)}getProperty(e){return this.config$.pipe(yB(...e),Va(),ol(1))}getOption(...e){const t=this.getPathKey(e);if(this.optionCache.has(t))return this.optionCache.get(t)??On();const i=this.config$.pipe(yB(...e),Va(),ol(1));return this.optionCache.set(t,i),i}getPathKey(e){return`${e.length}:${e.join(".")}`}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Wi(ux)))(i||ux)}})();static#t=this.\u0275prov=Ot({token:ux,factory:ux.\u0275fac})};Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],ss.prototype,"config$",null),ss=Nt([Xu(),zd({name:"globalConfig",defaults:null})],ss);const IJ="ALLOW_TELEMETRY",I3e=DJ();function DJ(){const n=localStorage.getItem(IJ);return null===n?void 0:"true"===n.toLowerCase()}let wB=class hx extends xm{setAllowTelemetry(e){const t=DJ();localStorage.setItem(IJ,e.toString()),this.ctx.patchState({allowTelemetry:e}),(void 0!==t||!1===e)&&location.reload()}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Wi(hx)))(i||hx)}})();static#t=this.\u0275prov=Ot({token:hx,factory:hx.\u0275fac})};Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Boolean]),ke("design:returntype",void 0)],wB.prototype,"setAllowTelemetry",null),wB=Nt([Xu(),zd({name:"tracking",defaults:{allowTelemetry:I3e}})],wB);const RJ={leading:!0,trailing:!1};function OJ(n,e=RJ){return Pn((t,i)=>{const{leading:r,trailing:o}=e;let s=!1,a=null,c=null,l=!1;const d=()=>{c?.unsubscribe(),c=null,o&&(m(),l&&i.complete())},h=()=>{c=null,l&&i.complete()},f=g=>c=uo(n(g)).subscribe(si(i,d,h)),m=()=>{if(s){s=!1;const g=a;a=null,i.next(g),!l&&f(g)}};t.subscribe(si(i,g=>{s=!0,a=g,(!c||c.closed)&&(r?m():f(g))},()=>{l=!0,(!(o&&s&&c)||c.closed)&&i.complete()}))})}function AT(n,e=b_,t=RJ){const i=m0(n,e);return OJ(()=>i,t)}function TT(){return Pn((n,e)=>{let t=null;n._refCount++;const i=si(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class xB extends Ct{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,gc(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new zt;const t=this.getSubject();e.add(this.source.subscribe(si(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=zt.EMPTY)}return e}refCount(){return TT()(this)}}Error;const VT=new vt("ngx-google-analytics-settings",{factory:()=>({trackingCode:"",enableTracing:!1})}),JB=new vt("ngx-window",{providedIn:"root",factory:()=>{const{defaultView:n}=kt(ci);if(!n)throw new Error("Window is not available");return n}}),WUe=new vt("ngx-data-layer",{providedIn:"root",factory:()=>function GUe(n){return n?n.dataLayer=n.dataLayer||[]:null}(kt(JB))}),RQ=new vt("ngx-gtag-fn",{providedIn:"root",factory:()=>function $Ue(n,e){return n?n.gtag=n.gtag||function(){e.push(arguments)}:null}(kt(JB),kt(WUe))});let Rs=(()=>{class n{constructor(t,i,r){this.settings=t,this._document=i,this._gtag=r}get document(){return this._document}throw(t){this.settings.enableTracing&&console&&console.error&&console.error(t)}toKeyValue(t){return t.size>0?Array.from(t).reduce((i,[r,o])=>Object.defineProperty(i,r,{value:o,enumerable:!0}),{}):void 0}gtag(...t){try{this._gtag(...t.filter(i=>void 0!==i))}catch(i){this.throw(i)}}event(t,i,r,o,s,a){try{const c=new Map;i&&c.set("event_category",i),r&&c.set("event_label",r),o&&c.set("value",o),void 0!==s&&c.set("interaction",s),a&&Object.entries(a).map(([d,h])=>c.set(d,h));const l=this.toKeyValue(c);l?this.gtag("event",t,l):this.gtag("event",t)}catch(c){this.throw(c)}}pageView(t,i,r,o){try{const s=new Map([["page_path",t]]);i&&s.set("page_title",i),(r||this.document)&&s.set("page_location",r||this.document.location.href),o&&Object.entries(o).map(([a,c])=>s.set(a,c)),this.gtag("config",this.settings.trackingCode,this.toKeyValue(s))}catch(s){this.throw(s)}}appView(t,i,r,o,s){try{const a=new Map([["screen_name",t],["app_name",i]]);r&&a.set("app_id",r),o&&a.set("app_version",o),s&&a.set("app_installer_id",s),this.gtag("event","screen_view",this.toKeyValue(a))}catch(a){this.throw(a)}}set(...t){try{this._gtag("set",...t)}catch(i){this.throw(i)}}exception(t,i){try{const r=new Map;t&&r.set("description",t),i&&r.set("fatal",i),this.toKeyValue(r)?this.gtag("event","exception",this.toKeyValue(r)):this.gtag("event","exception")}catch(r){this.throw(r)}}}return n.\u0275fac=function(t){return new(t||n)(et(VT),et(ci),et(RQ))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YUe={provide:uO,multi:!0,useFactory:function XUe(n,e,t){return D(function*(){if(!n.trackingCode)return void console.error("Empty tracking code for Google Analytics. Make sure to provide one when initializing NgxGoogleAnalyticsModule.");if(!e)return void console.error("Was not possible create or read gtag() fn. Make sure this module is running on a Browser w/ access to Window interface.");t||console.error("Was not possible to access Document interface. Make sure this module is running on a Browser w/ access do Document interface."),n.uri=n.uri||`https://www.googletagmanager.com/gtag/js?id=${n.trackingCode}`,n.initCommands=n?.initCommands??[],n.initCommands.find(o=>"config"===o.command)||n.initCommands.unshift({command:"config",values:[n.trackingCode]}),n.initCommands.find(o=>"js"===o.command)||n.initCommands.unshift({command:"js",values:[new Date]});for(const o of n.initCommands)e(o.command,...o.values);const i=t.createElement("script");i.async=!0,i.src=n.uri,n.nonce&&i.setAttribute("nonce",n.nonce),t.getElementsByTagName("head")[0].appendChild(i)})},deps:[VT,RQ,ci]};new vt("ngx-google-analytics-routing-settings",{factory:()=>({})});let kQ=(()=>{class n{static forRoot(t,i=[],r,o,s){return{ngModule:n,providers:[{provide:VT,useValue:{trackingCode:t,initCommands:i,uri:r,enableTracing:o,nonce:s}},YUe]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dn({type:n}),n.\u0275inj=cn({}),n})(),ZUe=(()=>{class n{constructor(t,i){t&&function QUe(n,e){jp(n,"mousemove").pipe(AT(1e3),Vt(r=>{const{clientWidth:o,clientHeight:s}=n,{clientX:a,clientY:c}=r;return[a,c,o,s].join("_")})).subscribe(r=>e.event("webpage","mousemove",r))}(t.body,i)}static#e=this.\u0275fac=function(i){return new(i||n)(et(ci),et(Rs))};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({})}return n})(),eVe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,Yh]})}return n})(),qw=(()=>{class n{constructor(){this.consent="not-set",this.consentChange=new jh(1),this.consentChange.next(this.consent)}ngOnDestroy(){this.consentChange.complete()}setConsent(t){this.consent!==t&&(this.consent=t,this.consentChange.next(t))}unsetConsent(){this.setConsent("not-set")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})(),tVe=(()=>{class n{constructor(t,i,{trackingCode:r}){this.window=i,this.subscriptions=new zt,this.token=r,this.subscriptions.add(t.consentChange.subscribe(o=>this.toggleGoogleAnalytics("rescinded"===o)))}ngOnDestroy(){this.subscriptions.unsubscribe()}toggleGoogleAnalytics(t){this.window&&(this.window[`ga-disable-${this.token}`]=t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(qw),et(JB),et(VT))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})();const nVe=new vt("Key under which consent is stored",{providedIn:"root",factory:()=>"ALLOW_TELEMETRY"}),PQ=[qw,tVe,(()=>{class n{constructor(t,i){this.key=i,this.subscriptions=new zt;try{this.storage=localStorage}catch{}t.setConsent(this.loadConsent()),this.subscriptions.add(t.consentChange.subscribe(r=>this.saveConsent(r)))}ngOnDestroy(){this.subscriptions.unsubscribe()}loadConsent(){const t=this.storage?.getItem?.(this.key);if(null==t)return"not-set";const i=t.trim().toLowerCase();switch(i){case"given":case"rescinded":return i;default:return"not-set"}}saveConsent(t){this.storage?.setItem?.(this.key,t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(qw),et(nVe))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})()];function iVe(n){return Object.entries(n).reduce((e,[t,i])=>(null!=i&&(e[t]=`${i}`),e),{})}let oVe=(()=>{class n{static forRoot(t){const{providers:i=[]}=kQ.forRoot(t.gaToken,function rVe(n){const{appName:e,projectName:t,developmentMode:i}=n;return[{command:"set",values:[iVe({appName:e,projectName:t,developmentMode:i})]}]}(t));return{ngModule:n,providers:i}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({providers:[...PQ,{provide:uO,multi:!0,useFactory:()=>()=>{},deps:PQ}],imports:[kQ]})}return n})();function sVe(n,e){if(1&n){const t=Ki();Xe(0,"button",1),Bt("click",function(){return fn(t),hn(In().submit(!0))}),Yt(1),ot()}if(2&n){const t=In();dt(),yo(" ","not-set"===t.allowTelemetry?"I understand":"Opt in","\n")}}function aVe(n,e){if(1&n){const t=Ki();Xe(0,"button",1),Bt("click",function(){return fn(t),hn(In().submit(!1))}),Yt(1,"Opt out"),ot()}}let cVe=(()=>{class n{get allowTelemetry(){return this.consentService.consent}constructor(t,i,r){this.consentService=i,this.data=r,this.clsName="ccf-tracking-popup",this.container=t.nativeElement}dismiss(){this.data.preClose()}submit(t){this.consentService.setConsent(t?"given":"rescinded"),this.dismiss()}showButton(t){const{allowTelemetry:i}=this;return"not-set"===i||("opt-in"===t?"rescinded"===i:"given"===i)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn),Ae(qw),Ae(Nk))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-tracking-popup"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},decls:4,vars:2,consts:[["mat-button","","color","basic",3,"click",4,"ngIf"],["mat-button","","color","basic",3,"click"]],template:function(i,r){1&i&&(Xe(0,"p"),Yt(1,"We log usage to improve this service."),ot(),mn(2,sVe,2,1,"button",0)(3,aVe,2,0,"button",0)),2&i&&(dt(2),Rt("ngIf",r.showButton("opt-in")),dt(),Rt("ngIf",r.showButton("opt-out")))},dependencies:[ic,E_],styles:["[_nghost-%COMP%]{display:flex;align-items:center;min-width:400px;color:#ffffffb3;background:#323232;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;z-index:9999}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{margin:24px}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{margin:1rem;min-width:6rem;background-color:#007cbe;display:flex;justify-content:center}"],changeDetection:0})}return n})();const dVe={connector:()=>new on};function fVe(n,e,t,i){t&&!it(t)&&(i=t);const r=it(t)?t:void 0;return o=>function hVe(n,e){const t=it(n)?n:()=>n;return it(e)?function uVe(n,e=dVe){const{connector:t}=e;return Pn((i,r)=>{const o=t();uo(n(function lVe(n){return new Ct(e=>n.subscribe(e))}(o))).subscribe(r),r.add(i.subscribe(o))})}(e,{connector:t}):i=>new xB(i,t)}(new jh(n,e,i),r)(o)}class pVe{}const gVe=(n,e)=>JSON.stringify(n)===JSON.stringify(e),_Ve=n=>n.map(e=>void 0!==e?JSON.parse(JSON.stringify(e)):e),Wl={storageStrategy:class mVe extends pVe{constructor(){super(...arguments),this.cachePairs=[]}add(e,t,i){this.cachePairs.push(e)}addMany(e){this.cachePairs=e}updateAtIndex(e,t){Object.assign(this.cachePairs[e],t)}update(e,t){Object.assign(this.cachePairs[e],t)}getAll(){return this.cachePairs}removeAtIndex(e){this.cachePairs.splice(e,1)}remove(e){this.cachePairs.splice(e,1)}removeAll(){this.cachePairs.length=0}},globalCacheKey:"CACHE_STORAGE",promiseImplementation:Promise},bVe=new on;function Uc(n={}){return function(e,t,i){const r=n.cacheKey||e.constructor.name+"#"+t,o=i.value;if(i&&i.value){let s=n.storageStrategy?new n.storageStrategy:new Wl.storageStrategy;const a=[];n.cacheModifier&&n.cacheModifier.subscribe(d=>s.addMany(d(s.getAll(r,this)),r,this)),Us(bVe.asObservable(),n.cacheBusterObserver?n.cacheBusterObserver:function cue(n){return n?function lue(n){return new Ct(e=>n.schedule(()=>e.complete()))}(n):js}()).subscribe(d=>{s.removeAll(r,this),a.length=0}),n.cacheResolver=n.cacheResolver||Wl.cacheResolver||gVe,n.cacheHasher=n.cacheHasher||Wl.cacheHasher||_Ve,i.value=function(...d){const h=s.getAll(r,this);let f=n.cacheHasher(d),m=h.find(v=>n.cacheResolver(v.parameters,f));const g=a.find(v=>n.cacheResolver(v.parameters,f));if((n.maxAge||Wl.maxAge)&&m&&m.created&&((new Date).getTime()-new Date(m.created).getTime()>(n.maxAge||Wl.maxAge)?(s.remove?s.remove(h.indexOf(m),m,r,this):s.removeAtIndex(h.indexOf(m),r,this),m=null):(n.slidingExpiration||Wl.slidingExpiration)&&(m.created=new Date,s.update?s.update(h.indexOf(m),m,r,this):s.updateAtIndex(h.indexOf(m),m,r,this))),m){const v=On(m.response);return n.async?v.pipe(XL(0)):v}if(g)return g.response;{const v=o.call(this,...d).pipe(Np(()=>{const E=a.find(L=>n.cacheResolver(L.parameters,f));a.splice(a.indexOf(E),1)}),fr(E=>{(!n.shouldCacheDecider||n.shouldCacheDecider(E))&&((!(n.maxCacheCount||Wl.maxCacheCount)||1===(n.maxCacheCount||Wl.maxCacheCount)||(n.maxCacheCount||Wl.maxCacheCount)&&(n.maxCacheCount||Wl.maxCacheCount)<h.length+1)&&(s.remove?s.remove(0,h[0],r,this):s.removeAtIndex(0,r,this)),s.add({parameters:f,response:E,created:n.maxAge||Wl.maxAge?new Date:null},r,this))}),fVe(1),TT());return a.push({parameters:f,response:v,created:new Date}),v}}}return i}}class yVe{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const vVe=new vt("basePath");class NQ{constructor(e={}){this.apiKeys=e.apiKeys,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.withCredentials=e.withCredentials,this.encoder=e.encoder,this.encodeParam=e.encodeParam?e.encodeParam:t=>this.defaultEncodeParam(t),this.credentials=e.credentials?e.credentials:{}}selectHeaderContentType(e){if(0===e.length)return;const t=e.find(i=>this.isJsonMime(i));return void 0===t?e[0]:t}selectHeaderAccept(e){if(0===e.length)return;const t=e.find(i=>this.isJsonMime(i));return void 0===t?e[0]:t}isJsonMime(e){const t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}lookupCredential(e){const t=this.credentials[e];return"function"==typeof t?t():t}defaultEncodeParam(e){const t="date-time"===e.dataFormat&&e.value instanceof Date?e.value.toISOString():e.value;return encodeURIComponent(String(t))}}let FQ=(()=>{class n{constructor(t,i,r){this.httpClient=t,this.basePath="https://apps.humanatlas.io/hra-api/v1",this.defaultHeaders=new Ic,this.configuration=new NQ,r&&(this.configuration=r),"string"!=typeof this.configuration.basePath&&("string"!=typeof i&&(i=this.basePath),this.configuration.basePath=i),this.encoder=this.configuration.encoder||new yVe}addToHttpParams(t,i,r){return this.addToHttpParamsRecursive(t,i,r)}addToHttpParamsRecursive(t,i,r){if(null==i)return t;if("object"==typeof i)if(Array.isArray(i))i.forEach(o=>t=this.addToHttpParamsRecursive(t,o,r));else if(i instanceof Date){if(null==r)throw Error("key may not be null if value is Date");t=t.append(r,i.toISOString().substr(0,10))}else Object.keys(i).forEach(o=>t=this.addToHttpParamsRecursive(t,i[o],null!=r?`${r}.${o}`:o));else{if(null==r)throw Error("key may not be null if value is not object or array");t=t.append(r,i)}return t}aggregateResults(t,i="body",r=!1,o){const s=t.age,a=t.ageRange,c=t.bmi,l=t.bmiRange,d=t.cache,h=t.ontologyTerms,f=t.cellTypeTerms,m=t.biomarkerTerms,g=t.consortiums,v=t.providers,E=t.sex,L=t.spatial,H=t.technologies,le=t.token;let se=new Lr({encoder:this.encoder});null!=s&&(se=this.addToHttpParams(se,s,"age")),null!=a&&(se=this.addToHttpParams(se,a,"age-range")),null!=c&&(se=this.addToHttpParams(se,c,"bmi")),null!=l&&(se=this.addToHttpParams(se,l,"bmi-range")),null!=d&&(se=this.addToHttpParams(se,d,"cache")),h&&h.forEach(tt=>{se=this.addToHttpParams(se,tt,"ontology-terms")}),f&&f.forEach(tt=>{se=this.addToHttpParams(se,tt,"cell-type-terms")}),m&&m.forEach(tt=>{se=this.addToHttpParams(se,tt,"biomarker-terms")}),g&&g.forEach(tt=>{se=this.addToHttpParams(se,tt,"consortiums")}),v&&v.forEach(tt=>{se=this.addToHttpParams(se,tt,"providers")}),null!=E&&(se=this.addToHttpParams(se,E,"sex")),L&&L.forEach(tt=>{se=this.addToHttpParams(se,tt,"spatial")}),H&&H.forEach(tt=>{se=this.addToHttpParams(se,tt,"technologies")}),null!=le&&(se=this.addToHttpParams(se,le,"token"));let Pe=this.defaultHeaders,$e=o&&o.httpHeaderAccept;void 0===$e&&($e=this.configuration.selectHeaderAccept(["application/json"])),void 0!==$e&&(Pe=Pe.set("Accept",$e));let ct=o&&o.context;void 0===ct&&(ct=new Vo);let pt="json";return $e&&(pt=$e.startsWith("text")?"text":this.configuration.isJsonMime($e)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/aggregate-results`,{context:ct,params:se,responseType:pt,withCredentials:this.configuration.withCredentials,headers:Pe,observe:i,reportProgress:r})}biomarkerTermOccurences(t,i="body",r=!1,o){const s=t.age,a=t.ageRange,c=t.bmi,l=t.bmiRange,d=t.cache,h=t.ontologyTerms,f=t.cellTypeTerms,m=t.biomarkerTerms,g=t.consortiums,v=t.providers,E=t.sex,L=t.spatial,H=t.technologies,le=t.token;let se=new Lr({encoder:this.encoder});null!=s&&(se=this.addToHttpParams(se,s,"age")),null!=a&&(se=this.addToHttpParams(se,a,"age-range")),null!=c&&(se=this.addToHttpParams(se,c,"bmi")),null!=l&&(se=this.addToHttpParams(se,l,"bmi-range")),null!=d&&(se=this.addToHttpParams(se,d,"cache")),h&&h.forEach(tt=>{se=this.addToHttpParams(se,tt,"ontology-terms")}),f&&f.forEach(tt=>{se=this.addToHttpParams(se,tt,"cell-type-terms")}),m&&m.forEach(tt=>{se=this.addToHttpParams(se,tt,"biomarker-terms")}),g&&g.forEach(tt=>{se=this.addToHttpParams(se,tt,"consortiums")}),v&&v.forEach(tt=>{se=this.addToHttpParams(se,tt,"providers")}),null!=E&&(se=this.addToHttpParams(se,E,"sex")),L&&L.forEach(tt=>{se=this.addToHttpParams(se,tt,"spatial")}),H&&H.forEach(tt=>{se=this.addToHttpParams(se,tt,"technologies")}),null!=le&&(se=this.addToHttpParams(se,le,"token"));let Pe=this.defaultHeaders,$e=o&&o.httpHeaderAccept;void 0===$e&&($e=this.configuration.selectHeaderAccept(["application/json"])),void 0!==$e&&(Pe=Pe.set("Accept",$e));let ct=o&&o.context;void 0===ct&&(ct=new Vo);let pt="json";return $e&&(pt=$e.startsWith("text")?"text":this.configuration.isJsonMime($e)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/biomarker-term-occurences`,{context:ct,params:se,responseType:pt,withCredentials:this.configuration.withCredentials,headers:Pe,observe:i,reportProgress:r})}biomarkerTreeModel(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new Lr({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Vo);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/biomarker-tree-model`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}cellTypeTermOccurences(t,i="body",r=!1,o){const s=t.age,a=t.ageRange,c=t.bmi,l=t.bmiRange,d=t.cache,h=t.ontologyTerms,f=t.cellTypeTerms,m=t.biomarkerTerms,g=t.consortiums,v=t.providers,E=t.sex,L=t.spatial,H=t.technologies,le=t.token;let se=new Lr({encoder:this.encoder});null!=s&&(se=this.addToHttpParams(se,s,"age")),null!=a&&(se=this.addToHttpParams(se,a,"age-range")),null!=c&&(se=this.addToHttpParams(se,c,"bmi")),null!=l&&(se=this.addToHttpParams(se,l,"bmi-range")),null!=d&&(se=this.addToHttpParams(se,d,"cache")),h&&h.forEach(tt=>{se=this.addToHttpParams(se,tt,"ontology-terms")}),f&&f.forEach(tt=>{se=this.addToHttpParams(se,tt,"cell-type-terms")}),m&&m.forEach(tt=>{se=this.addToHttpParams(se,tt,"biomarker-terms")}),g&&g.forEach(tt=>{se=this.addToHttpParams(se,tt,"consortiums")}),v&&v.forEach(tt=>{se=this.addToHttpParams(se,tt,"providers")}),null!=E&&(se=this.addToHttpParams(se,E,"sex")),L&&L.forEach(tt=>{se=this.addToHttpParams(se,tt,"spatial")}),H&&H.forEach(tt=>{se=this.addToHttpParams(se,tt,"technologies")}),null!=le&&(se=this.addToHttpParams(se,le,"token"));let Pe=this.defaultHeaders,$e=o&&o.httpHeaderAccept;void 0===$e&&($e=this.configuration.selectHeaderAccept(["application/json"])),void 0!==$e&&(Pe=Pe.set("Accept",$e));let ct=o&&o.context;void 0===ct&&(ct=new Vo);let pt="json";return $e&&(pt=$e.startsWith("text")?"text":this.configuration.isJsonMime($e)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/cell-type-term-occurences`,{context:ct,params:se,responseType:pt,withCredentials:this.configuration.withCredentials,headers:Pe,observe:i,reportProgress:r})}cellTypeTreeModel(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new Lr({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Vo);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/cell-type-tree-model`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}dbStatus(t,i="body",r=!1,o){const s=t.token;let a=new Lr({encoder:this.encoder});null!=s&&(a=this.addToHttpParams(a,s,"token"));let c=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(c=c.set("Accept",l));let d=o&&o.context;void 0===d&&(d=new Vo);let h="json";return l&&(h=l.startsWith("text")?"text":this.configuration.isJsonMime(l)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/db-status`,{context:d,params:a,responseType:h,withCredentials:this.configuration.withCredentials,headers:c,observe:i,reportProgress:r})}getSpatialPlacement(t,i="body",r=!1,o){const s=t.getSpatialPlacementRequest;if(null==s)throw new Error("Required parameter getSpatialPlacementRequest was null or undefined when calling getSpatialPlacement.");let a=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(a=a.set("Accept",c));let l=o&&o.context;void 0===l&&(l=new Vo);const h=this.configuration.selectHeaderContentType(["application/json"]);void 0!==h&&(a=a.set("Content-Type",h));let f="json";return c&&(f=c.startsWith("text")?"text":this.configuration.isJsonMime(c)?"json":"blob"),this.httpClient.post(`${this.configuration.basePath}/get-spatial-placement`,s,{context:l,responseType:f,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:r})}gtexRuiLocations(t,i="body",r=!1,o){const s=t.cache;let a=new Lr({encoder:this.encoder});null!=s&&(a=this.addToHttpParams(a,s,"cache"));let c=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(c=c.set("Accept",l));let d=o&&o.context;void 0===d&&(d=new Vo);let h="json";return l&&(h=l.startsWith("text")?"text":this.configuration.isJsonMime(l)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/gtex/rui_locations.jsonld`,{context:d,params:a,responseType:h,withCredentials:this.configuration.withCredentials,headers:c,observe:i,reportProgress:r})}hubmapRuiLocations(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new Lr({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Vo);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/hubmap/rui_locations.jsonld`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}ontologyTermOccurences(t,i="body",r=!1,o){const s=t.age,a=t.ageRange,c=t.bmi,l=t.bmiRange,d=t.cache,h=t.ontologyTerms,f=t.cellTypeTerms,m=t.biomarkerTerms,g=t.consortiums,v=t.providers,E=t.sex,L=t.spatial,H=t.technologies,le=t.token;let se=new Lr({encoder:this.encoder});null!=s&&(se=this.addToHttpParams(se,s,"age")),null!=a&&(se=this.addToHttpParams(se,a,"age-range")),null!=c&&(se=this.addToHttpParams(se,c,"bmi")),null!=l&&(se=this.addToHttpParams(se,l,"bmi-range")),null!=d&&(se=this.addToHttpParams(se,d,"cache")),h&&h.forEach(tt=>{se=this.addToHttpParams(se,tt,"ontology-terms")}),f&&f.forEach(tt=>{se=this.addToHttpParams(se,tt,"cell-type-terms")}),m&&m.forEach(tt=>{se=this.addToHttpParams(se,tt,"biomarker-terms")}),g&&g.forEach(tt=>{se=this.addToHttpParams(se,tt,"consortiums")}),v&&v.forEach(tt=>{se=this.addToHttpParams(se,tt,"providers")}),null!=E&&(se=this.addToHttpParams(se,E,"sex")),L&&L.forEach(tt=>{se=this.addToHttpParams(se,tt,"spatial")}),H&&H.forEach(tt=>{se=this.addToHttpParams(se,tt,"technologies")}),null!=le&&(se=this.addToHttpParams(se,le,"token"));let Pe=this.defaultHeaders,$e=o&&o.httpHeaderAccept;void 0===$e&&($e=this.configuration.selectHeaderAccept(["application/json"])),void 0!==$e&&(Pe=Pe.set("Accept",$e));let ct=o&&o.context;void 0===ct&&(ct=new Vo);let pt="json";return $e&&(pt=$e.startsWith("text")?"text":this.configuration.isJsonMime($e)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/ontology-term-occurences`,{context:ct,params:se,responseType:pt,withCredentials:this.configuration.withCredentials,headers:Pe,observe:i,reportProgress:r})}ontologyTreeModel(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new Lr({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Vo);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/ontology-tree-model`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}providerNames(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new Lr({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Vo);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/provider-names`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}referenceOrganScene(t,i="body",r=!1,o){const s=t.organIri;if(null==s)throw new Error("Required parameter organIri was null or undefined when calling referenceOrganScene.");const a=t.age,c=t.ageRange,l=t.bmi,d=t.bmiRange,h=t.cache,f=t.ontologyTerms,m=t.cellTypeTerms,g=t.biomarkerTerms,v=t.consortiums,E=t.providers,L=t.sex,H=t.spatial,le=t.technologies,se=t.token;let Pe=new Lr({encoder:this.encoder});null!=a&&(Pe=this.addToHttpParams(Pe,a,"age")),null!=c&&(Pe=this.addToHttpParams(Pe,c,"age-range")),null!=l&&(Pe=this.addToHttpParams(Pe,l,"bmi")),null!=d&&(Pe=this.addToHttpParams(Pe,d,"bmi-range")),null!=h&&(Pe=this.addToHttpParams(Pe,h,"cache")),f&&f.forEach(yt=>{Pe=this.addToHttpParams(Pe,yt,"ontology-terms")}),m&&m.forEach(yt=>{Pe=this.addToHttpParams(Pe,yt,"cell-type-terms")}),g&&g.forEach(yt=>{Pe=this.addToHttpParams(Pe,yt,"biomarker-terms")}),null!=s&&(Pe=this.addToHttpParams(Pe,s,"organ-iri")),v&&v.forEach(yt=>{Pe=this.addToHttpParams(Pe,yt,"consortiums")}),E&&E.forEach(yt=>{Pe=this.addToHttpParams(Pe,yt,"providers")}),null!=L&&(Pe=this.addToHttpParams(Pe,L,"sex")),H&&H.forEach(yt=>{Pe=this.addToHttpParams(Pe,yt,"spatial")}),le&&le.forEach(yt=>{Pe=this.addToHttpParams(Pe,yt,"technologies")}),null!=se&&(Pe=this.addToHttpParams(Pe,se,"token"));let $e=this.defaultHeaders,ct=o&&o.httpHeaderAccept;void 0===ct&&(ct=this.configuration.selectHeaderAccept(["application/json"])),void 0!==ct&&($e=$e.set("Accept",ct));let pt=o&&o.context;void 0===pt&&(pt=new Vo);let tt="json";return ct&&(tt=ct.startsWith("text")?"text":this.configuration.isJsonMime(ct)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/reference-organ-scene`,{context:pt,params:Pe,responseType:tt,withCredentials:this.configuration.withCredentials,headers:$e,observe:i,reportProgress:r})}referenceOrgans(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new Lr({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Vo);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/reference-organs`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}scene(t,i="body",r=!1,o){const s=t.age,a=t.ageRange,c=t.bmi,l=t.bmiRange,d=t.cache,h=t.ontologyTerms,f=t.cellTypeTerms,m=t.biomarkerTerms,g=t.consortiums,v=t.providers,E=t.sex,L=t.spatial,H=t.technologies,le=t.token;let se=new Lr({encoder:this.encoder});null!=s&&(se=this.addToHttpParams(se,s,"age")),null!=a&&(se=this.addToHttpParams(se,a,"age-range")),null!=c&&(se=this.addToHttpParams(se,c,"bmi")),null!=l&&(se=this.addToHttpParams(se,l,"bmi-range")),null!=d&&(se=this.addToHttpParams(se,d,"cache")),h&&h.forEach(tt=>{se=this.addToHttpParams(se,tt,"ontology-terms")}),f&&f.forEach(tt=>{se=this.addToHttpParams(se,tt,"cell-type-terms")}),m&&m.forEach(tt=>{se=this.addToHttpParams(se,tt,"biomarker-terms")}),g&&g.forEach(tt=>{se=this.addToHttpParams(se,tt,"consortiums")}),v&&v.forEach(tt=>{se=this.addToHttpParams(se,tt,"providers")}),null!=E&&(se=this.addToHttpParams(se,E,"sex")),L&&L.forEach(tt=>{se=this.addToHttpParams(se,tt,"spatial")}),H&&H.forEach(tt=>{se=this.addToHttpParams(se,tt,"technologies")}),null!=le&&(se=this.addToHttpParams(se,le,"token"));let Pe=this.defaultHeaders,$e=o&&o.httpHeaderAccept;void 0===$e&&($e=this.configuration.selectHeaderAccept(["application/json"])),void 0!==$e&&(Pe=Pe.set("Accept",$e));let ct=o&&o.context;void 0===ct&&(ct=new Vo);let pt="json";return $e&&(pt=$e.startsWith("text")?"text":this.configuration.isJsonMime($e)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/scene`,{context:ct,params:se,responseType:pt,withCredentials:this.configuration.withCredentials,headers:Pe,observe:i,reportProgress:r})}sennetRuiLocations(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new Lr({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Vo);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/sennet/rui_locations.jsonld`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}sparql(t,i="body",r=!1,o){const s=t.query;if(null==s)throw new Error("Required parameter query was null or undefined when calling sparql.");const a=t.token,c=t.format;let l=new Lr({encoder:this.encoder});null!=s&&(l=this.addToHttpParams(l,s,"query")),null!=a&&(l=this.addToHttpParams(l,a,"token")),null!=c&&(l=this.addToHttpParams(l,c,"format"));let d=this.defaultHeaders,h=o&&o.httpHeaderAccept;void 0===h&&(h=this.configuration.selectHeaderAccept(["application/json","text/csv"])),void 0!==h&&(d=d.set("Accept",h));let f=o&&o.context;void 0===f&&(f=new Vo);let m="json";return h&&(m=h.startsWith("text")?"text":this.configuration.isJsonMime(h)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/sparql`,{context:f,params:l,responseType:m,withCredentials:this.configuration.withCredentials,headers:d,observe:i,reportProgress:r})}sparqlPost(t,i="body",r=!1,o){const s=t.sparqlQueryRequest;if(null==s)throw new Error("Required parameter sparqlQueryRequest was null or undefined when calling sparqlPost.");const a=t.token,c=t.format;let l=new Lr({encoder:this.encoder});null!=a&&(l=this.addToHttpParams(l,a,"token")),null!=c&&(l=this.addToHttpParams(l,c,"format"));let d=this.defaultHeaders,h=o&&o.httpHeaderAccept;void 0===h&&(h=this.configuration.selectHeaderAccept(["application/json","text/csv"])),void 0!==h&&(d=d.set("Accept",h));let f=o&&o.context;void 0===f&&(f=new Vo);const g=this.configuration.selectHeaderContentType(["application/json","application/x-www-form-urlencoded"]);void 0!==g&&(d=d.set("Content-Type",g));let v="json";return h&&(v=h.startsWith("text")?"text":this.configuration.isJsonMime(h)?"json":"blob"),this.httpClient.post(`${this.configuration.basePath}/sparql`,s,{context:f,params:l,responseType:v,withCredentials:this.configuration.withCredentials,headers:d,observe:i,reportProgress:r})}technologyNames(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new Lr({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Vo);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/technology-names`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}tissueBlocks(t,i="body",r=!1,o){const s=t.age,a=t.ageRange,c=t.bmi,l=t.bmiRange,d=t.cache,h=t.ontologyTerms,f=t.cellTypeTerms,m=t.biomarkerTerms,g=t.consortiums,v=t.providers,E=t.sex,L=t.spatial,H=t.technologies,le=t.token;let se=new Lr({encoder:this.encoder});null!=s&&(se=this.addToHttpParams(se,s,"age")),null!=a&&(se=this.addToHttpParams(se,a,"age-range")),null!=c&&(se=this.addToHttpParams(se,c,"bmi")),null!=l&&(se=this.addToHttpParams(se,l,"bmi-range")),null!=d&&(se=this.addToHttpParams(se,d,"cache")),h&&h.forEach(tt=>{se=this.addToHttpParams(se,tt,"ontology-terms")}),f&&f.forEach(tt=>{se=this.addToHttpParams(se,tt,"cell-type-terms")}),m&&m.forEach(tt=>{se=this.addToHttpParams(se,tt,"biomarker-terms")}),g&&g.forEach(tt=>{se=this.addToHttpParams(se,tt,"consortiums")}),v&&v.forEach(tt=>{se=this.addToHttpParams(se,tt,"providers")}),null!=E&&(se=this.addToHttpParams(se,E,"sex")),L&&L.forEach(tt=>{se=this.addToHttpParams(se,tt,"spatial")}),H&&H.forEach(tt=>{se=this.addToHttpParams(se,tt,"technologies")}),null!=le&&(se=this.addToHttpParams(se,le,"token"));let Pe=this.defaultHeaders,$e=o&&o.httpHeaderAccept;void 0===$e&&($e=this.configuration.selectHeaderAccept(["application/json"])),void 0!==$e&&(Pe=Pe.set("Accept",$e));let ct=o&&o.context;void 0===ct&&(ct=new Vo);let pt="json";return $e&&(pt=$e.startsWith("text")?"text":this.configuration.isJsonMime($e)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/tissue-blocks`,{context:ct,params:se,responseType:pt,withCredentials:this.configuration.withCredentials,headers:Pe,observe:i,reportProgress:r})}}return n.\u0275fac=function(t){return new(t||n)(et(wd),et(vVe,8),et(NQ,8))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QB=new on,Mb={cacheBusterObserver:QB},Cm={cacheBusterObserver:QB,maxCacheCount:4};function LQ(n,e,t){return n?{min:n[0]>e?n[0]:void 0,max:n[1]<t?n[1]:void 0}:void 0}function wVe(n){return{age:LQ(n?.ageRange,1,110),bmi:LQ(n?.bmiRange,13,83),sex:n?.sex?.toLowerCase?.(),ontologyTerms:n?.ontologyTerms,cellTypeTerms:n?.cellTypeTerms,biomarkerTerms:n?.biomarkerTerms,consortiums:n?.consortiums,providers:n?.tmc,technologies:n?.technologies,spatial:n?.spatialSearches}}function BQ(n){return n.map(e=>({...e,transformMatrix:new jt(e.transformMatrix??[])}))}class Ys{constructor(e,t){this.api=e,this.globalConfig=t,t.getOption("hubmapToken").subscribe(QB)}getDatabaseStatus(){return this.doRequest(e=>this.api.dbStatus(e))}getProviderNames(){return this.doRequest(e=>this.api.providerNames(e))}getDatasetTechnologyNames(){return this.doRequest(e=>this.api.technologyNames(e))}getOntologyTreeModel(){return this.doRequest(e=>this.api.ontologyTreeModel(e),void 0,{},n=>n)}getCellTypeTreeModel(){return this.doRequest(e=>this.api.cellTypeTreeModel(e),void 0,{},n=>n)}getBiomarkerTreeModel(){return this.doRequest(e=>this.api.biomarkerTreeModel(e),void 0,{},n=>n)}getReferenceOrgans(){return this.doRequest(e=>this.api.referenceOrgans(e),void 0,{},n=>n)}getTissueBlockResults(e){return this.doRequest(t=>this.api.tissueBlocks(t),e,{},n=>n)}getAggregateResults(e){return this.doRequest(t=>this.api.aggregateResults(t),e)}getOntologyTermOccurences(e){return this.doRequest(t=>this.api.ontologyTermOccurences(t),e)}getCellTypeTermOccurences(e){return this.doRequest(t=>this.api.cellTypeTermOccurences(t),e)}getBiomarkerTermOccurences(e){return this.doRequest(t=>this.api.biomarkerTermOccurences(t),e)}getScene(e){return this.doRequest(t=>this.api.scene(t),e,{},BQ)}getReferenceOrganScene(e,t){return this.doRequest(i=>this.api.referenceOrganScene(i),t,{organIri:e},BQ)}doRequest(e,t,i,r){const{api:o,globalConfig:s}=this,a={...wVe(t),...i};return Uo([s.getOption("remoteApiEndpoint"),s.getOption("hubmapToken")]).pipe(vr(1),fr(([c,l])=>{o.configuration.basePath=c,l&&(a.token=l)}),Fr(()=>e(a)),Vt(c=>r?r(c):c))}static#e=this.\u0275fac=function(t){return new(t||Ys)(et(FQ),et(ss))};static#t=this.\u0275prov=Ot({token:Ys,factory:Ys.\u0275fac,providedIn:"root"})}function hc(n){return new Promise((e,t)=>{n.oncomplete=n.onsuccess=()=>e(n.result),n.onabort=n.onerror=()=>t(n.error)})}let ZB;function $l(){return ZB||(ZB=function xVe(n,e){const t=indexedDB.open(n);t.onupgradeneeded=()=>t.result.createObjectStore(e);const i=hc(t);return(r,o)=>i.then(s=>o(s.transaction(e,r).objectStore(e)))}("keyval-store","keyval")),ZB}function EVe(n,e=$l()){return e("readonly",t=>hc(t.get(n)))}function CVe(n,e=$l()){return e("readwrite",t=>(n.forEach(i=>t.put(i[1],i[0])),hc(t.transaction)))}function SVe(n,e=$l()){return e("readwrite",t=>(n.forEach(i=>t.delete(i)),hc(t.transaction)))}Nt([Uc(Mb),ke("design:type",Function),ke("design:paramtypes",[]),ke("design:returntype",Ct)],Ys.prototype,"getProviderNames",null),Nt([Uc(Mb),ke("design:type",Function),ke("design:paramtypes",[]),ke("design:returntype",Ct)],Ys.prototype,"getDatasetTechnologyNames",null),Nt([Uc(Mb),ke("design:type",Function),ke("design:paramtypes",[]),ke("design:returntype",Ct)],Ys.prototype,"getOntologyTreeModel",null),Nt([Uc(Mb),ke("design:type",Function),ke("design:paramtypes",[]),ke("design:returntype",Ct)],Ys.prototype,"getCellTypeTreeModel",null),Nt([Uc(Mb),ke("design:type",Function),ke("design:paramtypes",[]),ke("design:returntype",Ct)],Ys.prototype,"getBiomarkerTreeModel",null),Nt([Uc(Mb),ke("design:type",Function),ke("design:paramtypes",[]),ke("design:returntype",Ct)],Ys.prototype,"getReferenceOrgans",null),Nt([Uc(Cm),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",Ct)],Ys.prototype,"getTissueBlockResults",null),Nt([Uc(Cm),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",Ct)],Ys.prototype,"getAggregateResults",null),Nt([Uc(Cm),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",Ct)],Ys.prototype,"getOntologyTermOccurences",null),Nt([Uc(Cm),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",Ct)],Ys.prototype,"getCellTypeTermOccurences",null),Nt([Uc(Cm),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",Ct)],Ys.prototype,"getBiomarkerTermOccurences",null),Nt([Uc(Cm),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",Ct)],Ys.prototype,"getScene",null),Nt([Uc(Cm),ke("design:type",Function),ke("design:paramtypes",[String,Object]),ke("design:returntype",Ct)],Ys.prototype,"getReferenceOrganScene",null),S(7783);var AVe=S(4515),TVe=S.n(AVe);const Xw="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Kw="http://www.w3.org/2001/XMLSchema#",t3="http://www.w3.org/2000/10/swap/",Ta={xsd:{decimal:`${Kw}decimal`,boolean:`${Kw}boolean`,double:`${Kw}double`,integer:`${Kw}integer`,string:`${Kw}string`},rdf:{type:`${Xw}type`,nil:`${Xw}nil`,first:`${Xw}first`,rest:`${Xw}rest`,langString:`${Xw}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${t3}reify#forSome`,forAll:`${t3}reify#forAll`},log:{implies:`${t3}log#implies`}},{xsd:zT}=Ta,MVe=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,jQ={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},IVe=/[\x00-\x20<>\\"\{\}\|\^\`]/,DVe={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},RVe=/$0^/;class UQ{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,this._lineMode=!!(e=e||{}).lineMode){this._n3Mode=!1;for(const t in this)!(t in DVe)&&this[t]instanceof RegExp&&(this[t]=RVe)}else this._n3Mode=!1!==e.n3;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let i=this._input,r=i.length;for(;;){let a,c;for(;a=this._newline.exec(i);)this._comments&&(c=this._comment.exec(a[0]))&&o("comment",c[1],"",this._line,a[0].length),i=i.substr(a[0].length,i.length),r=i.length,this._line++;if(!a&&(a=this._whitespace.exec(i))&&(i=i.substr(a[0].length,i.length)),this._endOfFile.test(i))return t&&(this._comments&&(c=this._comment.exec(i))&&o("comment",c[1],"",this._line,i.length),i=null,o("eof","","",this._line,0)),this._input=i;const l=this._line,d=i[0];let h="",f="",m="",g=null,v=0,E=!1;switch(d){case"^":if(i.length<3)break;if("^"!==i[1]){this._n3Mode&&(v=1,h="^");break}if(this._previousMarker="^^",i=i.substr(2),"<"!==i[0]){E=!0;break}case"<":if(g=this._unescapedIri.exec(i))h="IRI",f=g[1];else if(g=this._iri.exec(i)){if(f=this._unescape(g[1]),null===f||IVe.test(f))return s(this);h="IRI"}else i.length>1&&"<"===i[1]?(h="<<",v=2):this._n3Mode&&i.length>1&&"="===i[1]&&(h="inverse",v=2,f=">");break;case">":i.length>1&&">"===i[1]&&(h=">>",v=2);break;case"_":((g=this._blank.exec(i))||t&&(g=this._blank.exec(`${i} `)))&&(h="blank",m="_",f=g[1]);break;case'"':if(g=this._simpleQuotedString.exec(i))f=g[1];else if(({value:f,matchLength:v}=this._parseLiteral(i)),null===f)return s(this);(null!==g||0!==v)&&(h="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(g=this._simpleApostropheString.exec(i))f=g[1];else if(({value:f,matchLength:v}=this._parseLiteral(i)),null===f)return s(this);(null!==g||0!==v)&&(h="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(g=this._variable.exec(i))&&(h="var",f=g[0]);break;case"@":"literal"===this._previousMarker&&(g=this._langcode.exec(i))?(h="langcode",f=g[1]):(g=this._keyword.exec(i))&&(h=g[0]);break;case".":if(1===i.length?t:i[1]<"0"||i[1]>"9"){h=".",v=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(g=this._number.exec(i)||t&&(g=this._number.exec(`${i} `)))&&(h="literal",f=g[0],m="string"==typeof g[1]?zT.double:"string"==typeof g[2]?zT.decimal:zT.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(g=this._sparqlKeyword.exec(i))?h=g[0].toUpperCase():E=!0;break;case"f":case"t":(g=this._boolean.exec(i))?(h="literal",f=g[0],m=zT.boolean):E=!0;break;case"a":(g=this._shortPredicates.exec(i))?(h="abbreviation",f="a"):E=!0;break;case"=":this._n3Mode&&i.length>1&&(h="abbreviation",">"!==i[1]?(v=1,f="="):(v=2,f=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(v=1,h=d);break;case"{":!this._lineMode&&i.length>=2&&("|"===i[1]?(h="{|",v=2):(h=d,v=1));break;case"|":i.length>=2&&"}"===i[1]&&(h="|}",v=2);break;default:E=!0}if(E&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(g=this._prefix.exec(i))?((g=this._prefixed.exec(i))||t&&(g=this._prefixed.exec(`${i} `)))&&(h="prefixed",m=g[1]||"",f=this._unescape(g[2])):(h="prefix",f=g[1]||"")),"^^"===this._previousMarker)switch(h){case"prefixed":h="type";break;case"IRI":h="typeIRI";break;default:h=""}if(!h)return t||!/^'''|^"""/.test(i)&&/\n|\r/.test(i)?s(this):this._input=i;const L=v||g[0].length,H=o(h,f,m,l,L);this.previousToken=H,this._previousMarker=h,i=i.substr(L,i.length)}function o(a,c,l,d,h){const f=i?r-i.length:r,g={type:a,value:c,prefix:l,line:d,start:f,end:f+h};return e(null,g),g}function s(a){e(a._syntaxError(/^\S*/.exec(i)[0]))}}_unescape(e){let t=!1;const i=e.replace(MVe,(r,o,s,a)=>{if("string"==typeof o)return String.fromCharCode(Number.parseInt(o,16));if("string"==typeof s){let c=Number.parseInt(s,16);return c<=65535?String.fromCharCode(Number.parseInt(s,16)):String.fromCharCode(55296+((c-=65536)>>10),56320+(1023&c))}return a in jQ?jQ[a]:(t=!0,"")});return t?null:i}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],i=t.length;let r=Math.max(this._literalClosingPos,i);for(;(r=e.indexOf(t,r))>0;){let o=0;for(;"\\"===e[r-o-1];)o++;if(o%2==0){const s=e.substring(i,r),a=s.split(/\r\n|\r|\n/).length-1,c=r+i;if(1===i&&0!==a||3===i&&this._lineMode)break;return this._line+=a,{value:this._unescape(s),matchLength:c}}r++}this._literalClosingPos=e.length-i+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const t=new Error(`Unexpected "${e}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}_readStartingBom(e){return e.startsWith("\ufeff")?e.substr(1):e}tokenize(e,t){if(this._line=1,"string"==typeof e){if(this._input=this._readStartingBom(e),"function"!=typeof t){const i=[];let r;if(this._tokenizeToEnd((o,s)=>o?r=o:i.push(s),!0),r)throw r;return i}TVe()(()=>this._tokenizeToEnd(t,!0))}else this._pendingBuffer=null,"function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",i=>{null!==this._input&&0!==i.length&&(this._pendingBuffer&&(i=Buffer.concat([this._pendingBuffer,i]),this._pendingBuffer=null),128&i[i.length-1]?this._pendingBuffer=i:(typeof this._input>"u"?this._input=this._readStartingBom("string"==typeof i?i:i.toString()):this._input+=i,this._tokenizeToEnd(t,!1)))}),e.on("end",()=>{"string"==typeof this._input&&this._tokenizeToEnd(t,!0)}),e.on("error",t)}}const{rdf:OVe,xsd:Sm}=Ta;let Jw,kVe=0;const n3={namedNode:function PVe(n){return new r3(n)},blankNode:function NVe(n){return new zQ(n||"n3-"+kVe++)},variable:function LVe(n){return new HQ(n)},literal:function FVe(n,e){if("string"==typeof e)return new Am(`"${n}"@${e.toLowerCase()}`);let t=e?e.value:"";return""===t&&("boolean"==typeof n?t=Sm.boolean:"number"==typeof n&&(Number.isFinite(n)?t=Number.isInteger(n)?Sm.integer:Sm.double:(t=Sm.double,Number.isNaN(n)||(n=n>0?"INF":"-INF")))),new Am(""===t||t===Sm.string?`"${n}"`:`"${n}"^^${t}`)},defaultGraph:function BVe(){return Jw},quad:WQ,triple:WQ},ml=n3;class ql{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof ql?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class r3 extends ql{get termType(){return"NamedNode"}}class Am extends ql{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new r3(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,i=t<e.length?e[t]:"";return"^"===i?e.substr(t+2):"@"!==i?Sm.string:OVe.langString}equals(e){return e instanceof Am?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class zQ extends ql{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class HQ extends ql{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}Jw=new class GQ extends ql{constructor(){return super(""),Jw||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};class o3 extends ql{constructor(e,t,i,r){super(""),this._subject=e,this._predicate=t,this._object=i,this._graph=r||Jw}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function WQ(n,e,t,i){return new o3(n,e,t,i)}let $Q=0;function a3(){}function qQ(n,e){const t=e.namedNode;n._namedNode=t,n._blankNode=e.blankNode,n._literal=e.literal,n._variable=e.variable,n._quad=e.quad,n.DEFAULTGRAPH=e.defaultGraph(),n.RDF_FIRST=t(Ta.rdf.first),n.RDF_REST=t(Ta.rdf.rest),n.RDF_NIL=t(Ta.rdf.nil),n.N3_FORALL=t(Ta.r.forAll),n.N3_FORSOME=t(Ta.r.forSome),n.ABBREVIATIONS={a:t(Ta.rdf.type),"=":t(Ta.owl.sameAs),">":t(Ta.log.implies)},n.QUANTIFIERS_GRAPH=t("urn:n3:quantifiers")}function jVe(n){return!!n&&"NamedNode"===n.termType}function UVe(n){return!!n&&"BlankNode"===n.termType}function VVe(n){return!!n&&"Literal"===n.termType}function zVe(n){return!!n&&"Variable"===n.termType}function Qw(n){return!!n&&"DefaultGraph"===n.termType}function HVe(n){return Qw(n.graph)}function GVe(n,e){return c3({"":n.value||n},e)("")}function c3(n,e){const t=Object.create(null);for(const r in n)i(r,n[r]);function i(r,o){if("string"==typeof o){const s=Object.create(null);t[r]=a=>s[a]||(s[a]=e.namedNode(o+a))}else if(!(r in t))throw new Error(`Unknown prefix: ${r}`);return t[r]}return e=e||ml,i}qQ(class s3{constructor(e){this._contextStack=[],this._graph=null,this._setBase((e=e||{}).baseIRI),e.factory&&qQ(this,e.factory);const t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",i=/turtle/.test(t),r=/trig/.test(t),o=/triple/.test(t),s=/quad/.test(t),a=this._n3Mode=/n3/.test(t),c=o||s;(this._supportsNamedGraphs=!(i||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(i||r||o||a),this._supportsRDFStar=""===t||/star|\*$/.test(t),c&&(this._resolveRelativeIRI=l=>null),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new UQ({lineMode:c,n3:a}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){$Q=0}_setBase(e){if(e){const t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}_saveContext(e,t,i,r,o){const s=this._n3Mode;this._contextStack.push({type:e,subject:i,predicate:r,object:o,graph:t,inverse:!!s&&this._inversePredicate,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,t){const i=this._contextStack.pop();if(!i||i.type!==e)return this._error(`Unexpected ${t.type}`,t);this._subject=i.subject,this._predicate=i.predicate,this._object=i.object,this._graph=i.graph,this._n3Mode&&(this._inversePredicate=i.inverse,this._prefixes._=i.blankPrefix,this._quantified=i.quantified)}_readInTopContext(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let i;switch(e.type){case"IRI":case"typeIRI":const r=this._resolveIRI(e.value);if(null===r)return this._error("Invalid IRI",e);i=this._namedNode(r);break;case"type":case"prefixed":const o=this._prefixes[e.prefix];if(void 0===o)return this._error(`Undefined prefix "${e.prefix}:"`,e);i=this._namedNode(o+e.value);break;case"blank":i=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":i=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!t&&this._n3Mode&&i.id in this._quantified&&(i=this._quantified[i.id]),i}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error(`Unexpected ${t}`,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return"{"!==e.type?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const t=null===this._predicate;return this._restoreContext("blank",e),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,i=null,r=this._readListItem;const o=this._subject,s=this._contextStack,a=s[s.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,i=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),r=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,i=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),0!==s.length&&"list"===s[s.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(r=this._readPredicate,this._subject===this.RDF_NIL)return r}else if(r=this._getContextEndReader(),this._object===this.RDF_NIL)return r;i=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,r=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),r=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===i&&(this._subject=i=this._blankNode()),null===o?null===a.predicate?a.subject=i:a.object=i:this._emit(o,this.RDF_REST,i,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,i,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(i,this.RDF_FIRST,t,this._graph)}return r}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const i=this._readEntity(e);if(void 0===i)return;t=this._literal(this._literalValue,i),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const i=this._completeLiteral(e);if(i)return this._object=i.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===i.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(i.token))}_readFormulaTail(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,i=this._graph;const r=this._subject,o=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,o&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",e);this._subject=this._quad(r,this._predicate,this._object,this.DEFAULTGRAPH),t=this._readPredicate;break;case"|}":if("Quad"!==this._subject.termType)return this._error("Unexpected asserted triple closing",e);this._subject=null,t=this._readPunctuation;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(i=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(null!==r){const s=this._predicate,a=this._object;o?this._emit(a,s,r,i):this._emit(r,s,a,i)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if("IRI"!==e.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){const t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const t=this._contextStack,i=t.length&&t[t.length-1];if(i&&"item"===i.type){const r=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,r,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,i;const r=this._blankNode();if(void 0!==(i=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=r):(t=this._object,this._object=r),this._emit(t,i,r,this._graph),this._readPath}_readBackwardPath(e){const t=this._blankNode();let i,r;if(void 0!==(i=this._readEntity(e)))return null===this._predicate?(r=this._subject,this._subject=t):(r=this._object,this._object=t),this._emit(t,i,r,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return">>"!==e.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(e))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(">>"!==e.type)return this._error(`Expected >> but got ${e.type}`,e);const t=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),null===this._subject?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,i,r){this._callback(null,this._quad(e,t,i,r||this.DEFAULTGRAPH))}_error(e,t){const i=new Error(`${e} on line ${t.line}.`);i.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(i),this._callback=a3}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const t=e.length;let i="",r=-1,o=-1,s=0,a="/";for(;r<t;){switch(a){case":":if(o<0&&"/"===e[++r]&&"/"===e[++r])for(;(o=r+1)<t&&"/"!==e[o];)r=o;break;case"?":case"#":r=t;break;case"/":if("."===e[r+1])switch(a=e[1+ ++r],a){case"/":i+=e.substring(s,r-1),s=r+1;break;case void 0:case"?":case"#":return i+e.substring(s,r)+e.substr(r+1);case".":if(a=e[1+ ++r],void 0===a||"/"===a||"?"===a||"#"===a){if(i+=e.substring(s,r-2),(s=i.lastIndexOf("/"))>=o&&(i=i.substr(0,s)),"/"!==a)return`${i}/${e.substr(r+1)}`;s=r+1}}}a=e[++r]}return i+e.substring(s)}parse(e,t,i){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${$Q++}_`,this._prefixCallback=i||a3,this._inversePredicate=!1,this._quantified=Object.create(null),!t){const r=[];let o;if(this._callback=(s,a)=>{s?o=s:a&&r.push(a)},this._lexer.tokenize(e).every(s=>this._readCallback=this._readCallback(s)),o)throw o;return r}this._callback=t,this._lexer.tokenize(e,(r,o)=>{null!==r?(this._callback(r),this._callback=a3):this._readCallback&&(this._readCallback=this._readCallback(o))})}}.prototype,ml),ml.defaultGraph();S(6947);function eZ(n,e,t,i,r){return n.readQuads(e,t,i,r)}Symbol,Symbol,S(2130),S(2756);var nZ=S(2475),KVe=S.n(nZ),tx=(S(689),S(7376)),JVe=S(1994);const wr=c3({base:"http://purl.org/ccf/latest/ccf.owl#",ccf:"http://purl.org/ccf/",fma:"http://purl.org/sig/ont/fma/fma",obo:"http://purl.obolibrary.org/obo/",uberon:"http://purl.obolibrary.org/obo/UBERON_",cl:"http://purl.obolibrary.org/obo/CL_",lmha:"http://purl.obolibrary.org/obo/LMHA_",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/"},ml),wn=(wr("rdf"),wr("rdf")("type"),wr("rdfs"),wr("rdfs")("label"),wr("rdfs")("comment"),wr("rdfs")("isDefinedBy"),wr("rdfs")("seeAlso"),wr("ccf")),Ku=(wr("ccf")("has_registration_location"),wr("rdfs")("label"),wr("rdfs")("comment"),wn("url"),wn("sex"),wn("age"),wn("bmi"),ml.literal("Male"),ml.literal("Female"),wn("consortium_name"),wn("tissue_provider_name"),wn("tissue_provider_uuid"),wn("comes_from"),wn("subdivided_into_sections"),wn("generates_dataset"),wn("sample_type"),ml.literal("Tissue Block"),ml.literal("Tissue Section"),ml.literal("Non-standard"),wn("section_count"),wn("section_size"),wn("section_size_unit"),wn("section_number"),wn("has_registration_location"),wn("has_ontology_term"),wn("has_cell_type_term"),wn("has_biomarker_term"),wn("technology"),wn("thumbnail"),{x:wn,base:wr("base"),ontologyNode:{label:wn("ccf_pref_label"),parent:wn("ccf_part_of"),children:wn("ccf_part_of"),rui_rank:wn("rui_rank"),synonymLabels:ml.namedNode("http://www.geneontology.org/formats/oboInOwl#hasExactSynonym")},asctb:{part_of:wn("ccf_part_of"),ct_is_a:wn("ccf_ct_isa"),located_in:wn("ccf_located_in"),characterizes:wn("ccf_characterizes"),bm_located_in:wn("ccf_bm_located_in")},spatial:{Female:wr("base")("VHFemale"),Male:wr("base")("VHMale"),BothSexes:wr("base")("VHBothSexes"),FemaleOrgans:wr("base")("VHFemaleOrgans"),MaleOrgans:wr("base")("VHMaleOrgans")},SpatialObjectReference:wn("spatial_object_reference"),SpatialEntity:wn("spatial_entity"),SpatialPlacement:wn("spatial_placement"),spatialObjectReference:{file:wn("file_url"),file_format:wn("file_format"),file_subpath:wn("file_subpath")},extractionSet:{label:wr("rdfs")("label"),rui_rank:wn("rui_rank")},spatialEntity:{label:wr("rdfs")("label"),description:wr("rdfs")("comment"),creator:wr("dcterms")("creator"),creator_first_name:wn("creator_first_name"),creator_last_name:wn("creator_last_name"),creator_middle_name:wn("creator_middle_name"),creator_orcid:wn("creator_orcid"),creation_date:wr("dcterms")("created"),updated_date:wn("updated_date"),ccf_annotations:wn("collides_with"),representation_of:wn("representation_of"),reference_organ:wn("has_reference_organ"),extraction_set_for:wn("extraction_set_for"),extraction_set:wn("has_extraction_set"),sex:wn("organ_owner_sex"),side:wn("organ_side"),rui_rank:wn("rui_rank"),slice_thickness:wn("slice_thickness"),slice_count:wn("slice_count"),x_dimension:wn("x_dimension"),y_dimension:wn("y_dimension"),z_dimension:wn("z_dimension"),dimension_units:wn("dimension_unit"),object:wn("has_object_reference")},spatialPlacement:{source:wn("placement_for"),target:wn("placement_relative_to"),placement_date:wr("dcterms")("created"),x_scaling:wn("x_scaling"),y_scaling:wn("y_scaling"),z_scaling:wn("z_scaling"),scaling_units:wn("scaling_unit"),x_rotation:wn("x_rotation"),y_rotation:wn("y_rotation"),z_rotation:wn("z_rotation"),w_rotation:wn("theta_rotation"),rotation_order:wn("rotation_order"),rotation_units:wn("rotation_unit"),x_translation:wn("x_translation"),y_translation:wn("y_translation"),z_translation:wn("z_translation"),translation_units:wn("translation_unit")}}),Ci={x:wr("uberon"),body:wr("uberon")("0013702")},ZVe={x:wr("cl"),cell:wr("cl")("0000000")},nx={x:wr("fma")},iZ=(wr("lmha"),{body:Ci.body,cell:ZVe.cell,respiratory_system:Ci.x("0001004"),colon:Ci.x("0001155"),left_lung:Ci.x("0002168"),right_lung:Ci.x("0002167"),left_bronchus:Ci.x("0002178"),right_bronchus:Ci.x("0002177"),kidney:Ci.x("0002113"),ureter:Ci.x("0000056"),eye:Ci.x("0000970"),fallopian_tube:Ci.x("0003889"),knee:Ci.x("0001465"),ovary:Ci.x("0000992"),trachea:Ci.x("0003126"),aorta:Ci.x("0000947"),blood:Ci.x("0000178"),bone_marrow:Ci.x("0002371"),male_reproductive_system:Ci.x("0000079"),lymph_node:Ci.x("0000029"),blood_vasculature:Ci.x("0004537"),brain:Ci.x("0000955"),eye_left:Ci.x("0004548"),eye_right:nx.x("54449"),fallopian_tube_left:Ci.x("0001303"),fallopian_tube_right:Ci.x("0001302"),heart:Ci.x("0000948"),kidney_left:Ci.x("0004538"),kidney_right:Ci.x("0004539"),knee_left:nx.x("24978"),knee_right:nx.x("24977"),large_intestine:Ci.x("0000059"),liver:Ci.x("0002107"),lungs:Ci.x("0002048"),mesenteric_lymph_node:Ci.x("0002509"),ovary_left:nx.x("7214"),ovary_right:nx.x("7213"),pancreas:Ci.x("0001264"),pelvis:Ci.x("0001270"),prostate_gland:Ci.x("0002367"),skin:Ci.x("0002097"),small_intestine:Ci.x("0002108"),spleen:Ci.x("0002106"),thymus:Ci.x("0002370"),ureter_left:Ci.x("0001223"),ureter_right:Ci.x("0001222"),urinary_bladder:Ci.x("0001255"),uterus:Ci.x("0000995")});function f3(n){const e={};return Object.entries(n).forEach(([t,i])=>{e[i.id]=t}),e}f3(Ku.spatialObjectReference),f3(Ku.spatialEntity),f3(Ku.spatialPlacement),KVe(),Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1}),Math,Math;const Qr={};function sze(n,{precision:e=Qr.precision||4}={}){return n=function oze(n){return Math.round(n/Qr.EPSILON)*Qr.EPSILON}(n),"".concat(parseFloat(n.toPrecision(e)))}function xf(n){return Array.isArray(n)||ArrayBuffer.isView(n)&&!(n instanceof DataView)}function rx(n,e,t){const i=Qr.EPSILON;t&&(Qr.EPSILON=t);try{if(n===e)return!0;if(xf(n)&&xf(e)){if(n.length!==e.length)return!1;for(let r=0;r<n.length;++r)if(!rx(n[r],e[r]))return!1;return!0}return n&&n.equals?n.equals(e):e&&e.equals?e.equals(n):!(!Number.isFinite(n)||!Number.isFinite(e))&&Math.abs(n-e)<=Qr.EPSILON*Math.max(1,Math.abs(n),Math.abs(e))}finally{Qr.EPSILON=i}}function Qu(n,e){if(!n)throw new Error("math.gl assertion ".concat(e))}Qr.EPSILON=1e-12,Qr.debug=!1,Qr.precision=4,Qr.printTypes=!1,Qr.printDegrees=!1,Qr.printRowMajor=!0;class oZ extends(function hze(n){function e(){var t=Reflect.construct(n,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return e.prototype=Object.create(n.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n,e}(Array)){get ELEMENTS(){return Qu(!1),0}clone(){return(new this.constructor).copy(this)}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}fromArray(e,t=0){for(let i=0;i<this.ELEMENTS;++i)this[i]=e[i+t];return this.check()}to(e){return e===this?this:xf(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toArray(e=[],t=0){for(let i=0;i<this.ELEMENTS;++i)e[t+i]=this[i];return e}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(Qr)}formatString(e){let t="";for(let i=0;i<this.ELEMENTS;++i)t+=(i>0?", ":"")+sze(this[i],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!rx(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,i){void 0===i&&(i=t,t=e,e=this);for(let r=0;r<this.ELEMENTS;++r){const o=e[r];this[r]=o+i*(t[r]-o)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e[i]),t[i]);return this.check()}add(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]+=t[i];return this.check()}subtract(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]-=t[i];return this.check()}scale(e){if(Array.isArray(e))return this.multiply(e);for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.scale(1/e)}clampScalar(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e),t);return this.check()}multiplyByScalar(e){return this.scale(e)}get elements(){return this}check(){if(Qr.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}}function Vc(n){if(!Number.isFinite(n))throw new Error("Invalid number ".concat(n));return n}const sZ={};function p3(n,e){sZ[n]||(sZ[n]=!0,console.warn("".concat(n," has been removed in version ").concat(e,", see upgrade guide for more information")))}class mze extends oZ{get ELEMENTS(){return Qu(!1),0}copy(e){return Qu(!1),this}get x(){return this[0]}set x(e){this[0]=Vc(e)}get y(){return this[1]}set y(e){this[1]=Vc(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let i=0;i<this.ELEMENTS;++i){const r=this[i]-e[i];t+=r*r}return Vc(t)}dot(e){let t=0;for(let i=0;i<this.ELEMENTS;++i)t+=this[i]*e[i];return Vc(t)}normalize(){const e=this.magnitude();if(0!==e)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]*=t[i];return this.check()}divide(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]/=t[i];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return Qu(e>=0&&e<this.ELEMENTS,"index is out of range"),Vc(this[e])}setComponent(e,t){return Qu(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}var ox=typeof Float32Array<"u"?Float32Array:Array;function aZ(n,e,t){var i=e[0],r=e[1],o=e[2];return n[0]=i*t[0]+r*t[3]+o*t[6],n[1]=i*t[1]+r*t[4]+o*t[7],n[2]=i*t[2]+r*t[5]+o*t[8],n}Math,Math,Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)}),function bze(){var n=new ox(3);ox!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0)}();const m3=[0,0,0],cZ={};class bi extends mze{static get ZERO(){return cZ.ZERO=cZ.ZERO||Object.freeze(new bi(0,0,0,0))}constructor(e=0,t=0,i=0){super(-0,-0,-0),1===arguments.length&&xf(e)?this.copy(e):(Qr.debug&&(Vc(e),Vc(t),Vc(i)),this[0]=e,this[1]=t,this[2]=i)}set(e,t,i){return this[0]=e,this[1]=t,this[2]=i,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return Qr.debug&&(Vc(e.x),Vc(e.y),Vc(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=Vc(e)}angle(e){return function Aze(n,e){var t=n[0],i=n[1],r=n[2],o=e[0],s=e[1],a=e[2],d=Math.sqrt(t*t+i*i+r*r)*Math.sqrt(o*o+s*s+a*a),h=d&&function yze(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}(n,e)/d;return Math.acos(Math.min(Math.max(h,-1),1))}(this,e)}cross(e){return function vze(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],c=t[2];n[0]=r*c-o*a,n[1]=o*s-i*c,n[2]=i*a-r*s}(this,this,e),this.check()}rotateX({radians:e,origin:t=m3}){return function Eze(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateY({radians:e,origin:t=m3}){return function Cze(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateZ({radians:e,origin:t=m3}){return function Sze(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return function wze(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o+t[15];n[0]=(t[0]*i+t[4]*r+t[8]*o+t[12])/(s=s||1),n[1]=(t[1]*i+t[5]*r+t[9]*o+t[13])/s,n[2]=(t[2]*i+t[6]*r+t[10]*o+t[14])/s}(this,this,e),this.check()}transformAsVector(e){return function Tze(n,e,t){const i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o||1;n[0]=(t[0]*i+t[4]*r+t[8]*o)/s,n[1]=(t[1]*i+t[5]*r+t[9]*o)/s,n[2]=(t[2]*i+t[6]*r+t[10]*o)/s}(this,this,e),this.check()}transformByMatrix3(e){return aZ(this,this,e),this.check()}transformByMatrix2(e){return function Mze(n,e,t){const i=e[0],r=e[1];n[0]=t[0]*i+t[2]*r,n[1]=t[1]*i+t[3]*r,n[2]=e[2]}(this,this,e),this.check()}transformByQuaternion(e){return function xze(n,e,t){var i=t[0],r=t[1],o=t[2],a=e[0],c=e[1],l=e[2],d=r*l-o*c,h=o*a-i*l,f=i*c-r*a,m=r*f-o*h,g=o*d-i*f,v=i*h-r*d,E=2*t[3];h*=E,f*=E,g*=2,v*=2,n[0]=a+(d*=E)+(m*=2),n[1]=c+h+g,n[2]=l+f+v}(this,this,e),this.check()}}new bi,new bi,new bi,new bi,new bi,new bi,new bi,new bi,new bi,new bi,new bi;const pZ=new bi,mZ=new bi;class g3{constructor(e=[0,0,1],t=0){this.normal=new bi,this.distance=-0,this.fromNormalDistance(e,t)}fromNormalDistance(e,t){return Qu(Number.isFinite(t)),this.normal.from(e).normalize(),this.distance=t,this}fromPointNormal(e,t){e=pZ.from(e),this.normal.from(t).normalize();const i=-this.normal.dot(e);return this.distance=i,this}fromCoefficients(e,t,i,r){return this.normal.set(e,t,i),Qu(rx(this.normal.len(),1)),this.distance=r,this}clone(e){return new g3(this.normal,this.distance)}equals(e){return rx(this.distance,e.distance)&&rx(this.normal,e.normal)}getPointDistance(e){return this.normal.dot(e)+this.distance}transform(e){const t=mZ.copy(this.normal).transformAsVector(e).normalize(),i=this.normal.scale(-this.distance).transform(e);return this.fromPointNormal(i,t)}projectPointOntoPlane(e,t=[0,0,0]){e=pZ.from(e);const i=this.getPointDistance(e),r=mZ.copy(this.normal).scale(i);return e.subtract(r).to(t)}}new bi([1,0,0]),new bi([0,1,0]),new bi([0,0,1]),new bi,new bi,new g3(new bi(1,0,0),0),new bi,new bi,new bi,new bi,new bi,new bi,new bi,new bi,new bi,new bi,new bi,new bi,new bi,new bi,new bi,new bi,new bi,Math;class Zze extends oZ{get ELEMENTS(){return Qu(!1),0}get RANK(){return Qu(!1),0}toString(){let e="[";if(Qr.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let i=0;i<this.RANK;++i)e+=" ".concat(this[i*this.RANK+t])}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=" ".concat(this[t])}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,i){return this[t*this.RANK+e]=Vc(i),this}getColumn(e,t=new Array(this.RANK).fill(-0)){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)t[r]=this[i+r];return t}setColumn(e,t){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)this[i+r]=t[r];return this}}function bZ(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],f=t[0],m=t[1],g=t[2],v=t[3],E=t[4],L=t[5],H=t[6],le=t[7],se=t[8];return n[0]=f*i+m*s+g*l,n[1]=f*r+m*a+g*d,n[2]=f*o+m*c+g*h,n[3]=v*i+E*s+L*l,n[4]=v*r+E*a+L*d,n[5]=v*o+E*c+L*h,n[6]=H*i+le*s+se*l,n[7]=H*r+le*a+se*d,n[8]=H*o+le*c+se*h,n}function yZ(n,e,t){var i=t[0],r=t[1];return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=r*e[3],n[4]=r*e[4],n[5]=r*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}!function s4e(){var n=new ox(2);ox!=Float32Array&&(n[0]=0,n[1]=0)}();const vZ=Object.freeze([1,0,0,0,1,0,0,0,1]),c4e=Object.freeze([0,0,0,0,0,0,0,0,0]),l4e=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),kb={};class Yl extends Zze{static get IDENTITY(){return kb.IDENTITY=kb.IDENTITY||Object.freeze(new Yl(vZ)),kb.IDENTITY}static get ZERO(){return kb.ZERO=kb.ZERO||Object.freeze(new Yl(c4e)),kb.ZERO}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return l4e}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}set(e,t,i,r,o,s,a,c,l){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this[4]=o,this[5]=s,this[6]=a,this[7]=c,this[8]=l,this.check()}setRowMajor(e,t,i,r,o,s,a,c,l){return this[0]=e,this[1]=r,this[2]=a,this[3]=t,this[4]=o,this[5]=c,this[6]=i,this[7]=s,this[8]=l,this.check()}determinant(){return function n4e(n){var r=n[3],o=n[4],s=n[5],a=n[6],c=n[7],l=n[8];return n[0]*(l*o-s*c)+n[1]*(-l*r+s*a)+n[2]*(c*r-o*a)}(this)}identity(){return this.copy(vZ)}fromQuaternion(e){return function o4e(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t+t,a=i+i,c=r+r,l=t*s,d=i*s,h=i*a,f=r*s,m=r*a,g=r*c,v=o*s,E=o*a,L=o*c;n[0]=1-h-g,n[3]=d-L,n[6]=f+E,n[1]=d+L,n[4]=1-l-g,n[7]=m-v,n[2]=f-E,n[5]=m+v,n[8]=1-l-h}(this,e),this.check()}transpose(){return function e4e(n,e){if(n===e){var t=e[1],i=e[2],r=e[5];n[1]=e[3],n[2]=e[6],n[3]=t,n[5]=e[7],n[6]=i,n[7]=r}else n[0]=e[0],n[1]=e[3],n[2]=e[6],n[3]=e[1],n[4]=e[4],n[5]=e[7],n[6]=e[2],n[7]=e[5],n[8]=e[8]}(this,this),this.check()}invert(){return function t4e(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],d=e[8],h=d*s-a*l,f=-d*o+a*c,m=l*o-s*c,g=t*h+i*f+r*m;g&&(n[0]=h*(g=1/g),n[1]=(-d*i+r*l)*g,n[2]=(a*i-r*s)*g,n[3]=f*g,n[4]=(d*t-r*c)*g,n[5]=(-a*t+r*o)*g,n[6]=m*g,n[7]=(-l*t+i*c)*g,n[8]=(s*t-i*o)*g)}(this,this),this.check()}multiplyLeft(e){return bZ(this,e,this),this.check()}multiplyRight(e){return bZ(this,this,e),this.check()}rotate(e){return function r4e(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],f=Math.sin(t),m=Math.cos(t);n[0]=m*i+f*s,n[1]=m*r+f*a,n[2]=m*o+f*c,n[3]=m*s-f*i,n[4]=m*a-f*r,n[5]=m*c-f*o,n[6]=l,n[7]=d,n[8]=h}(this,this,e),this.check()}scale(e){return Array.isArray(e)?yZ(this,this,e):yZ(this,this,[e,e,e]),this.check()}translate(e){return function i4e(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],f=t[0],m=t[1];n[0]=i,n[1]=r,n[2]=o,n[3]=s,n[4]=a,n[5]=c,n[6]=f*i+m*s+l,n[7]=f*r+m*a+d,n[8]=f*o+m*c+h}(this,this,e),this.check()}transform(e,t){switch(e.length){case 2:t=function a4e(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[3]*r+t[6],n[1]=t[1]*i+t[4]*r+t[7],n}(t||[-0,-0],e,this);break;case 3:t=aZ(t||[-0,-0,-0],e,this);break;case 4:t=function Ize(n,e,t){const i=e[0],r=e[1],o=e[2];return n[0]=t[0]*i+t[3]*r+t[6]*o,n[1]=t[1]*i+t[4]*r+t[7]*o,n[2]=t[2]*i+t[5]*r+t[8]*o,n[3]=e[3],n}(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return function pze(n,e,t=""){if(Qr.debug&&!function fze(n,e){if(n.length!==e)return!1;for(let t=0;t<n.length;++t)if(!Number.isFinite(n[t]))return!1;return!0}(n,e))throw new Error("math.gl: ".concat(t," some fields set to invalid numbers'"));return n}(t,e.length),t}transformVector(e,t){return p3("Matrix3.transformVector"),this.transform(e,t)}transformVector2(e,t){return p3("Matrix3.transformVector"),this.transform(e,t)}transformVector3(e,t){return p3("Matrix3.transformVector"),this.transform(e,t)}}function L4e(n,e,t){const i={"@id":e,"@type":"OntologyTreeNode",id:e,parent:"",children:[],synonymLabels:[],label:""},r={[Ku.ontologyNode.label.id]:"label",[t]:"parent",[Ku.ontologyNode.synonymLabels.id]:"synonymLabels"};for(const[o,s]of function*QVe(n,e,t){for(const[i,r]of Object.entries(t))for(const o of eZ(n,e,i,null,null)){const s="Literal"===o.object.termType?(0,JVe.fromRdf)(o.object):o.object.id;yield[r,s]}}(n,e,r))"synonymLabels"===o?i.synonymLabels.push(s):i[o]=s;return i.children=n.getSubjects(t,e,null).map(o=>o.id),i}function xZ(n,e,t,i){const r={root:e,nodes:{}},o=new Set;for(const a of eZ(n,null,i,null,null))o.add(a.subject.id),o.add(a.object.id);for(const a of o)r.nodes[a]=L4e(n,a,i);r.nodes[e]||(r.nodes[e]={"@id":e,"@type":"OntologyTreeNode",id:e,label:t,children:[],synonymLabels:[]});const s=n.getSubjects(i,e,null).map(a=>a.id).sort((a,c)=>r.nodes[a].label.localeCompare(r.nodes[c].label));return r.nodes[e].children=s,EZ(r),r}function EZ(n,e=void 0,t=new Set){const i=n.nodes[e??n.root];if(i){i.children=i.children.filter(r=>!t.has(r)),i.children.forEach(r=>t.add(r));for(const r of i.children)EZ(n,r,t),n.nodes[r]&&(n.nodes[r].parent=i["@id"])}}new Yl,new Yl,new Yl,new Yl,new Yl,new bi,new bi,new bi,new bi,new bi,new Yl,new Yl,new Yl,(0,tx.memoize)(function B4e(n){const e=xZ(n,iZ.body.id,"body",Ku.asctb.part_of.id);return e.nodes[iZ.body.id].children=["http://purl.obolibrary.org/obo/UBERON_0000955","http://purl.obolibrary.org/obo/UBERON_0000029","http://purl.obolibrary.org/obo/UBERON_0000970","http://purl.obolibrary.org/obo/UBERON_0003889","http://purl.obolibrary.org/obo/UBERON_0000948","http://purl.obolibrary.org/obo/UBERON_0002113","http://purl.obolibrary.org/obo/UBERON_0001465","http://purl.obolibrary.org/obo/UBERON_0001737","http://purl.obolibrary.org/obo/UBERON_0002107","http://purl.obolibrary.org/obo/UBERON_0002048","http://purl.obolibrary.org/obo/UBERON_0002182","http://purl.obolibrary.org/obo/UBERON_0001911","http://purl.obolibrary.org/obo/UBERON_0000992","http://purl.obolibrary.org/obo/UBERON_0002373","http://purl.obolibrary.org/obo/UBERON_0001264","http://purl.obolibrary.org/obo/UBERON_0001270","http://purl.obolibrary.org/obo/UBERON_0001987","http://purl.obolibrary.org/obo/UBERON_0002367","http://purl.obolibrary.org/obo/UBERON_0002097","http://purl.obolibrary.org/obo/UBERON_0002108","http://purl.obolibrary.org/obo/UBERON_0002240","http://purl.obolibrary.org/obo/UBERON_0000059","http://purl.obolibrary.org/obo/UBERON_0002106","http://purl.obolibrary.org/obo/UBERON_0002370","http://purl.obolibrary.org/obo/UBERON_0003126","http://purl.obolibrary.org/obo/UBERON_0000056","http://purl.obolibrary.org/obo/UBERON_0001255","http://purl.obolibrary.org/obo/UBERON_0000995","http://purl.obolibrary.org/obo/UBERON_0004537"].filter(t=>t in e.nodes),e},()=>"");const rHe=[204,204,204,255],Tm=[213,0,0,255],Mm=[29,204,101,255],Im=[41,121,255,255],sHe=[204,204,204,255],QT=[213,0,0,255],ZT=[29,204,101,255],eM=[41,121,255,255];class IZ extends Error{constructor(){super(...arguments),this.message="NgxsDispatchPluginModule is not imported"}}class fHe{constructor(){this.cancelUncompleted$=new on}cancelPreviousAction(){this.cancelUncompleted$.next()}}const R3="\u0275fac",DZ=Symbol("InjectorInstance"),RZ=Symbol("FactoryHasBeenDecorated");function OZ(n,e){const t=n[DZ];return t?t.get(e):null}const gHe={cancelUncompleted:!1};function kZ(n=gHe){return(e,t,i)=>{let r;const o=function pHe(n){return n?new fHe:null}(n.cancelUncompleted);function s(){null!==o&&o.cancelPreviousAction();const a=OZ(this,Vd)||function uHe(){throw new IZ}(),c=OZ(this,_n)||function hHe(){throw new IZ}(),l=r.apply(this,arguments);return c.runOutsideAngular(()=>function dHe(n,e,t){return u_(e)?function lHe(n,e){return e.then(t=>(n.dispatch(t),t))}(n,e):mf(e)?function cHe(n,e,t){return null!==t&&(e=e.pipe(Ii(t.cancelUncompleted$))),e.subscribe({next:i=>n.dispatch(i)}),e}(n,e,t):(n.dispatch(e),e)}(a,l,o))}"function"==typeof i?.value?(r=i.value,i.value=s):Object.defineProperty(e,t,{set:a=>r=a,get:()=>s}),function mHe(n){if(RZ in n.constructor.prototype)return;const e=n.constructor;"function"==typeof e[R3]&&function O3(n){const e=n[R3];if("function"!=typeof e)return;const t=n.\u0275prov||n.\u0275pipe||n.\u0275cmp||n.\u0275dir,i=()=>{const r=e();return r[DZ]=Ae(Gi),r};t&&(t.factory=i),Object.defineProperty(n,R3,{get:()=>i})}(e),n.constructor.prototype[RZ]=!0}(e)}}let PZ=(()=>{class n{static#e=this.type="[CallToAction] Learn More"}return n})(),NZ=(()=>{class n{static#e=this.type="[CallToAction] Open Dialog"}return n})(),FZ=(()=>{class n{static#e=this.type="[CallToAction] Close Dialog"}return n})(),k3=(()=>{class n{constructor(t){this.http=t,this.panelContent=new Ir({content:[],infoTitle:"",videoID:""})}updateData(t,i,r){this.http.get(t,{responseType:"text"}).subscribe(o=>{const s={content:this.parseMarkdown(o),infoTitle:r,videoID:i};this.panelContent.next(s)})}parseMarkdown(t){const i=[],r=t.split("# ");for(const o of r)if(o.length){const s=o.includes("\n\n")?"\n\n":"\r\n\r\n",a=o.split(s);i.push({title:a[0],content:a.splice(1).join(s)})}return i}static#e=this.\u0275fac=function(i){return new(i||n)(et(wd))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _He(n,e){if(1&n&&(Xe(0,"div",16),yn(1,"youtube-player",17),ot()),2&n){const t=In(3);dt(),YC("videoId",t.videoID)}}function bHe(n,e){if(1&n&&(Xe(0,"mat-expansion-panel",11)(1,"mat-expansion-panel-header")(2,"h2",12),Yt(3),ot()(),Xe(4,"div",13),yn(5,"markdown",14),mn(6,_He,2,1,"div",15),ot()()),2&n){const t=In(),i=t.$implicit,r=t.index;Rt("expanded",0===r),dt(3),Lo(i.title),dt(2),bn("first",0===r),Rt("data",i.content),dt(),Rt("ngIf",0===r)}}function yHe(n,e){if(1&n&&(Xe(0,"div",9),mn(1,bHe,7,6,"mat-expansion-panel",10),ot()),2&n){const t=e.$implicit;dt(),Rt("ngIf",t)}}let LZ=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i,this.documentationContents=i.content||[],this.infoTitle=i.title||"",this.videoID=i.videoID}ngOnInit(){const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.body.appendChild(t)}close(){document.getElementsByClassName("modal-animated")[0]?.classList.add("modal-animate-fade-out"),setTimeout(()=>{this.dialogRef.close()},250)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(gb),Ae(eB))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-info-dialog"]],decls:11,vars:2,consts:[[1,"about","wrapper"],[1,"container"],[1,"content"],[1,"header"],["mat-dialog-title","",1,"title"],[1,"close"],[1,"material-icons","close-icon",3,"click"],[1,"mat-typography","dialog-content"],["class","panel",4,"ngFor","ngForOf"],[1,"panel"],[3,"expanded",4,"ngIf"],[3,"expanded"],[1,"no-header-margin"],[1,"top-padding"],[1,"variable-binding",3,"data"],["class","video-player",4,"ngIf"],[1,"video-player"],[3,"videoId"]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),Yt(5),ot(),Xe(6,"div",5)(7,"mat-icon",6),Bt("click",function(){return r.close()}),Yt(8,"clear"),ot()()(),Xe(9,"mat-dialog-content",7),mn(10,yHe,2,1,"div",8),ot()()()()),2&i&&(dt(5),Lo(r.infoTitle),dt(5),Rt("ngForOf",r.documentationContents))},dependencies:[rl,ic,pT,mT,wa,_T,nB,YLe,dJ],styles:[".mat-dialog-container{padding:0}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1.5rem;text-align:left}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:3rem;margin-bottom:2.25rem;position:relative}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5rem;margin-bottom:1rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{cursor:pointer;height:3rem;width:3rem;line-height:3rem;text-align:center;transition:.6s}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;margin:0 auto;line-height:3rem;height:3rem;justify-self:center;display:flex}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem;margin-top:0;margin-bottom:.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]{margin-bottom:1.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]   .no-header-margin[_ngcontent-%COMP%]{font-weight:300;margin-bottom:0}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]   .top-padding[_ngcontent-%COMP%]{display:flex}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]   .top-padding[_ngcontent-%COMP%]   markdown[_ngcontent-%COMP%]     ul{margin-top:0;padding-left:1.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:50rem;min-height:10rem;padding:0 1.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding[_ngcontent-%COMP%]{font-weight:300;display:flex}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding.first[_ngcontent-%COMP%]{padding-right:1rem;width:73%}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding[_ngcontent-%COMP%]     ul{margin:0}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding[_ngcontent-%COMP%]     img{margin-left:1rem;float:right}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]{position:relative;width:50%}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]     iframe{width:100%;height:100%}"],changeDetection:0})}return n})();class gl{static#e=this.storage=(()=>{let e;try{e=window.localStorage;const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length?e:void 0}})();get length(){return gl.storage?.length??0}key(e){return gl.storage?.key(e)??null}getItem(e,t){return gl.storage?.getItem(e)??t??null}setItem(e,t){try{return gl.storage?.setItem(e,t),!0}catch{return!1}}removeItem(e){gl.storage?.removeItem(e)}clear(){gl.storage?.clear()}static#t=this.\u0275fac=function(t){return new(t||gl)};static#n=this.\u0275prov=Ot({token:gl,factory:gl.\u0275fac,providedIn:"root"})}var P3;const BZ="callToActionPopupShown";let Xl=class dM{static#e=P3=this;static ctaDatePassed(e,t=Date.now){return+t()>+new Date(e)}constructor(e,t,i,r,o){this.dialog=e,this.ga=t,this.storage=i,this.infoService=r,this.http=o}ngxsOnInit(e){const{expirationDate:t,popupShown:i}=e.getState(),r=this.storage.getItem(BZ,`${i}`),o=P3.ctaDatePassed(t);"true"!==r&&!o&&e.dispatch(new NZ)}getDialogData(){return this.http.get("assets/docs/SPATIAL_SEARCH_README.md",{responseType:"text"}).pipe(Vt(e=>this.infoService.parseMarkdown(e)))}launchLearnMore(e){this.dialog.open(LZ,{autoFocus:!1,panelClass:"modal-animated",width:"72rem",data:{title:"Spatial Search",content:e,videoID:"UfxMpzatowE"}})}learnMore(e){return this.dialog.closeAll(),this.ga.event("open_learn_more","call_to_action"),this.getDialogData().pipe(fr(t=>this.launchLearnMore(t)))}open(e){this.dialog.open(Qd,{autoFocus:!1,panelClass:"modal-animated",width:"30.75rem",height:"36.688rem"}),this.ga.event("open","call_to_action"),this.storage.setItem(BZ,"true"),e.patchState({popupShown:!0})}close(e){this.dialog.closeAll(),this.ga.event("close","call_to_action")}static#t=this.\u0275fac=function(t){return new(t||dM)(et(bf),et(Rs),et(gl),et(k3),et(wd))};static#n=this.\u0275prov=Ot({token:dM,factory:dM.\u0275fac})};Nt([CL(PZ),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",Ct)],Xl.prototype,"learnMore",null),Nt([CL(NZ),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],Xl.prototype,"open",null),Nt([CL(FZ),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],Xl.prototype,"close",null),Xl=P3=Nt([zd({name:"callToAction",defaults:{title:"New to the Exploration User Interface",message:"Spatial Search has arrived!",callToAction:"Learn More",imageUrl:"assets/images/spatial_search.gif",expirationDate:"Dec 1, 2022",popupShown:!1}}),ke("design:paramtypes",[bf,Rs,gl,k3,wd])],Xl);class Jd{static title(e){return e.title}static message(e){return e.message}static callToAction(e){return e.callToAction}static imageUrl(e){return e.imageUrl}static expirationDate(e){return e.expirationDate}static popupShown(e){return e.popupShown}}Nt([db([Xl]),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",String)],Jd,"title",null),Nt([db([Xl]),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",String)],Jd,"message",null),Nt([db([Xl]),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",String)],Jd,"callToAction",null),Nt([db([Xl]),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",String)],Jd,"imageUrl",null),Nt([db([Xl]),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",String)],Jd,"expirationDate",null),Nt([db([Xl]),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",Boolean)],Jd,"popupShown",null);let jZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-mdc-card-sm-image","mdc-card__media"],standalone:!0})}return n})(),FHe=(()=>{class n{constructor(){this.clsName="ccf-call-to-action",this.callToActionClicked=new Qt,this.closeClicked=new Qt}close(){this.closeClicked.emit()}onDialogButtonClick(){this.callToActionClicked.emit()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-call-to-action"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},inputs:{infoTitle:"infoTitle",imageUrl:"imageUrl",message:"message",callToAction:"callToAction"},outputs:{callToActionClicked:"callToActionClicked",closeClicked:"closeClicked"},decls:13,vars:4,consts:[[1,"rui-about","wrapper"],[1,"container"],[1,"content"],[1,"first-row"],["mat-dialog-title","",1,"title"],[1,"cta-mat-icon","material-icons","close-icon",3,"click"],["mat-card-sm-image","","alt","preview","layout-fill","",1,"cta-image",3,"src"],[1,"mat-typography","dialog-content"],[1,"message"],["mat-button","",1,"mat-button",3,"click","text"]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),Yt(5),ot(),Xe(6,"mat-icon",5),Bt("click",function(){return r.close()}),Yt(7,"clear"),ot()(),yn(8,"img",6),Xe(9,"mat-dialog-content",7)(10,"div",8),Yt(11),ot(),Xe(12,"a",9),Bt("click",function(){return r.onDialogButtonClick()}),ot()()()()()),2&i&&(dt(5),Lo(r.infoTitle),dt(3),Rt("src",r.imageUrl,Lg),dt(3),Lo(r.message),dt(),Rt("text",r.callToAction))},dependencies:[wa,pT,mT,jZ],styles:["[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:block;align-content:center;padding-left:1.6rem;padding-right:1.6rem;border-radius:.25rem}[_nghost-%COMP%]   .info-button-wrapper[_ngcontent-%COMP%]{border-radius:.25rem;padding:.6rem;transition:.6s}[_nghost-%COMP%]   .info-button-wrapper[_ngcontent-%COMP%]   .ccf-info-button[_ngcontent-%COMP%]{cursor:pointer;transition:color .6s;font-size:1.2rem;vertical-align:sub}[_nghost-%COMP%]   .first-row[_ngcontent-%COMP%]{display:flex;width:100%;line-height:.9rem}[_nghost-%COMP%]   .first-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-right:7rem;padding-left:.2rem;font-size:.875rem;padding-top:.75rem}[_nghost-%COMP%]   .first-row[_ngcontent-%COMP%]   .cta-mat-icon[_ngcontent-%COMP%]{height:30%;line-height:3.4rem}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]{padding:.5rem}[_nghost-%COMP%]   .cta-image[_ngcontent-%COMP%]{align-self:center;object-fit:cover;width:100%;border-radius:.25rem}[_nghost-%COMP%]   .mat-button[_ngcontent-%COMP%]{background-color:#444a65;font-size:.75rem;position:relative;margin-bottom:1rem;width:100%;height:2rem;color:#fff}"],changeDetection:0})}return n})();class Qd{constructor(){this.close=()=>new FZ,this.learnMore=()=>new PZ}static#e=this.\u0275fac=function(t){return new(t||Qd)};static#t=this.\u0275cmp=un({type:Qd,selectors:[["ccf-call-to-action-behavior"]],decls:5,vars:12,consts:[[3,"callToActionClicked","closeClicked","infoTitle","message","callToAction","imageUrl"]],template:function(t,i){if(1&t&&(Xe(0,"ccf-call-to-action",0),ri(1,"async"),ri(2,"async"),ri(3,"async"),ri(4,"async"),Bt("callToActionClicked",function(){return i.learnMore()})("closeClicked",function(){return i.close()}),ot()),2&t){let r,o,s,a;Rt("infoTitle",null!==(r=ai(1,4,i.title$))&&void 0!==r?r:"")("message",null!==(o=ai(2,6,i.message$))&&void 0!==o?o:"")("callToAction",null!==(s=ai(3,8,i.callToAction$))&&void 0!==s?s:"")("imageUrl",null!==(a=ai(4,10,i.imageUrl$))&&void 0!==a?a:"")}},dependencies:[FHe,gd],changeDetection:0})}Nt([qA(Jd.title),ke("design:type",Ct)],Qd.prototype,"title$",void 0),Nt([qA(Jd.message),ke("design:type",Ct)],Qd.prototype,"message$",void 0),Nt([qA(Jd.callToAction),ke("design:type",Ct)],Qd.prototype,"callToAction$",void 0),Nt([qA(Jd.imageUrl),ke("design:type",Ct)],Qd.prototype,"imageUrl$",void 0),Nt([kZ(),ke("design:type",Object)],Qd.prototype,"close",void 0),Nt([kZ(),ke("design:type",Object)],Qd.prototype,"learnMore",void 0);let LHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,vo]})}return n})(),BHe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,LHe]})}return n})();const jHe={initialConfig:{},parse:{},rename:{}};class UHe{constructor(e,t){this.configState=e,this.storedChanges={},this.options={...jHe,...t}}addChanges(e){this.storedChanges={...this.storedChanges,...e}}applyChanges(e,t={}){void 0===e&&(e=this.storedChanges,this.storedChanges={});const{configState:i,options:{initialConfig:r}}=this,s={...r,...i.snapshot,...t};for(const[a,c]of Object.entries(e))this.processChange(a,c,s);i.setConfig(s)}processChange(e,t,i){const{options:{parse:r,rename:o}}=this,s=o[e]??e,a=t.currentValue,c=r[e]??r[s];if(null==a)delete i[s];else if(c)try{i[s]=c(a)}catch(l){console.warn(`Failed to parse ${e} = ${a} (${typeof a})`,l.message)}else i[s]=a}}let VHe=(()=>{class n{constructor(t,i,r={}){this.configState=t,this.cdr=i,this.options=r,this.initialized=!1,this.configManager=new UHe(this.configState,this.options)}ngOnInit(){this._init=setTimeout(()=>this.initialize(),this.options.initialDelay??0)}ngOnDestroy(){this._init&&clearTimeout(this._init)}ngOnChanges(t){this.configManager.addChanges(t),this.initialized&&this.configManager.applyChanges()}initialize(){this._init=void 0,!this.initialized&&(this.configManager.applyChanges(),this.initialized=!0,this.cdr.markForCheck())}static#e=this.\u0275fac=function(i){Ac()};static#t=this.\u0275dir=Zt({type:n,features:[br]})}return n})();const UZ={boolean:n=>"false"!=`${n}`,json:n=>"string"==typeof n?JSON.parse(n):n,stringArray:n=>"string"==typeof n?Array.from(n).filter(e=>!"[], ".includes(e)):n,function:n=>{if("function"!=typeof n)throw new Error("Expected a javascript function");return n}},Zd_dbOptions={ccfOwlUrl:"https://ccf-ontology.hubmapconsortium.org/v2.1.0/ccf.owl",ccfContextUrl:"https://hubmapconsortium.github.io/ccf-ontology/ccf-context.jsonld",hubmapDataService:"search-api",hubmapPortalUrl:"https://portal.hubmapconsortium.org/",hubmapDataUrl:"",hubmapAssetsUrl:"https://assets.hubmapconsortium.org",hubmapToken:localStorage.getItem("HUBMAP_TOKEN")??""},Zd_customization={theme:"hubmap",header:!0,homeUrl:"https://portal.hubmapconsortium.org/",logoTooltip:"Human BioMolecular Atlas Project"},VZ=new vt("Default theme class");let N3=(()=>{class n{static initialize(t){const{injector:i,location:r}=t;i.get(n).initialize(r,i)}constructor(t){this.defaultTheme=this.theme=t??""}getTheme(){return this.theme}setTheme(t){t!==this.theme&&(this.applyThemeClass(this.theme,"remove"),this.applyThemeClass(t),this.theme=t)}resetTheme(){this.setTheme(this.defaultTheme)}initialize(t,i){this.element=t,this.injector=i,this.applyThemeClass(this.getTheme())}applyThemeClass(t,i="add"){const{element:r,injector:o}=this;if(!t||!r||!o)return;const s=o.get(ud,null);if(!s)return;const a=r.nativeElement,c=o.get(_0,null)?.getContainerElement(),l="add"===i?"addClass":"removeClass";s[l](a,t),c&&s[l](c,t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(VZ,8))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac})}return n})();function Ma(n,e){return Pn((t,i)=>{const r=new Set;t.subscribe(si(i,o=>{const s=n?n(o):o;r.has(s)||(r.add(s),i.next(o))})),e&&uo(e).subscribe(si(i,()=>r.clear(),Tt))})}var GHe=S(2578);const zZ={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let tM;const WHe=new Uint8Array(16);function $He(){if(!tM&&(tM=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!tM))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tM(WHe)}const Ks=[];for(let n=0;n<256;++n)Ks.push((n+256).toString(16).slice(1));const YHe=function qHe(n,e,t){if(zZ.randomUUID&&!e&&!n)return zZ.randomUUID();const i=(n=n||{}).random||(n.rng||$He)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){t=t||0;for(let r=0;r<16;++r)e[t+r]=i[r];return e}return function HZ(n,e=0){return Ks[n[e+0]]+Ks[n[e+1]]+Ks[n[e+2]]+Ks[n[e+3]]+"-"+Ks[n[e+4]]+Ks[n[e+5]]+"-"+Ks[n[e+6]]+Ks[n[e+7]]+"-"+Ks[n[e+8]]+Ks[n[e+9]]+"-"+Ks[n[e+10]]+Ks[n[e+11]]+Ks[n[e+12]]+Ks[n[e+13]]+Ks[n[e+14]]+Ks[n[e+15]]}(i)};let Dm=class uM extends xm{constructor(e,t){super(),this.globals=e,this.globalConfig=t}ngxsOnInit(){super.ngxsOnInit(),this.getSourceDB().subscribe(e=>{this.setState(e)})}getSourceDB(){return this.globalConfig.getOption("baseHref").pipe(Vt(e=>(e??"")+"assets/reference-organ-data.json"),Fr(e=>io(fetch(e)).pipe(Fr(t=>t.json()),ac(()=>js))))}normalizePlacement(e){const i=this.snapshot.placementPatches[e?.target];if(i){const r=function KHe(n,e){const t=e;let i;switch(t.translation_units){case"centimeter":i=.01;break;case"millimeter":i=.001;break;default:i=1}const r=[t.x_translation,t.y_translation,t.z_translation].map(a=>a*i),o=[t.x_rotation,t.y_rotation,t.z_rotation].map(ho),s=[t.x_scaling,t.y_scaling,t.z_scaling];return n.translate(r).rotateXYZ(o).scale(s)}(new jt(jt.IDENTITY),i),o={x:e.x_translation,y:e.y_translation,z:e.z_translation},[s,a,c]=r.transformAsPoint([o.x,o.y,o.z],[]),l={...e,target:i.target};return l.x_translation=s,l.y_translation=a,l.z_translation=c,l}return e}getReferenceOrganIri(e,t,i,r){const o=this.snapshot;"KIDNEY"!==e.toUpperCase()&&(i=""),r?.sex&&(t=r.sex);const s=[e,t,i||r?.side].join("|").toUpperCase(),a=Object.keys(o.organIRILookup).find(c=>c.toUpperCase().endsWith(s));return this.getLatestIri(a?o.organIRILookup[a]:void 0)}getOrganData(e){const t=this.getLatestIri(e),r=this.snapshot.organSpatialEntities[t];if(!r)return;const o=r.label??"",s=lT.find(a=>o.endsWith(a.organ)&&(!r.side||r.side.toLowerCase()===a.side));return s?{organ:s,sex:r.sex?.toLowerCase(),side:r.side?.toLowerCase()}:void 0}getLatestIri(e){if(!e)return"";const t=this.snapshot.placementPatches[e];return t?this.getLatestIri(t.target):e}static#e=this.\u0275fac=function(t){return new(t||uM)(et(lB),et(ss))};static#t=this.\u0275prov=Ot({token:uM,factory:uM.\u0275fac})};function GZ(n){const e=new jt(n.transformMatrix),t=e.transformAsPoint([-1,-1,-1],[]),i=e.transformAsPoint([1,1,1],[]);return new Tr({lowerBound:new be(...t.map((r,o)=>Math.min(r,i[o]))),upperBound:new be(...i.map((r,o)=>Math.max(r,t[o])))})}Dm=Nt([Xu(),zd({name:"reference",defaults:{organIRILookup:{},organSpatialEntities:{},anatomicalStructures:{},extractionSets:{},sceneNodeLookup:{},simpleSceneNodeLookup:{},placementPatches:{}}}),ke("design:paramtypes",[lB,ss])],Dm);let Ia=class hM extends xm{get nodes$(){return Uo([this.placementCube$,this.referenceOrganNodes$,this.previousRegistrationNodes$,this.nodeCollisions$,this.spatialKeyBoardAxis$]).pipe(Vt(([e,t,i,r,o])=>[...e,...i,...t,...o,...this.snapshot.showCollisions?r:[]]))}get rotatedNodes$(){return Uo([this.rotation$,this.nodes$]).pipe(Vt(([e,t])=>0===e?t:t.map(i=>({...i,transformMatrix:new jt(jt.IDENTITY).rotateY(ho(e)).multiplyRight(i.transformMatrix)}))))}get referenceOrganNodes$(){return Uo([this.model.anatomicalStructures$,this.model.extractionSites$,this.model.organIri$]).pipe(Vt(([e,t,i])=>{const r=this.getOrganSpatialEntity(i),o=i?function aHe(n,e=!1,t=!1){const i=n.x_dimension/1e3,r=n.y_dimension/1e3,o=n.z_dimension/1e3,s=.05*Math.max(i,r,o),a=.1*s,c=t?[i,r,o].map(l=>-.5*l):[0,0,0];return[{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginSphere","@type":"SpatialSceneNode",unpickable:!0,geometry:"sphere",transformMatrix:new jt(jt.IDENTITY).translate(c).scale(s),color:sHe},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginX","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new jt(jt.IDENTITY).translate(c).translate([i/2,0,0]).rotateZ(ho(-90)).scale([a,i,a]),color:QT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginXCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new jt(jt.IDENTITY).translate(c).translate([i,0,0]).rotateZ(ho(-90)).scale([s,3*s,s]),color:QT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginXALabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"A",transformMatrix:new jt(jt.IDENTITY).translate(c).translate([2*-s,0,0]).scale(s),color:QT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginXDLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"D",transformMatrix:new jt(jt.IDENTITY).translate(c).translate([i+2*s,0,0]).scale(s),color:QT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginY","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new jt(jt.IDENTITY).translate(c).translate([0,r/2,0]).scale([a,r,a]),color:ZT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginYCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new jt(jt.IDENTITY).translate(c).translate([0,r,0]).scale([s,3*s,s]),color:ZT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginYSLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"S",transformMatrix:new jt(jt.IDENTITY).translate(c).translate([1.5*s,1.5*s,0]).scale(s),color:ZT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginYWLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"W",transformMatrix:new jt(jt.IDENTITY).translate(c).translate([0,r+2*s,0]).scale(s),color:ZT},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZ","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new jt(jt.IDENTITY).translate(c).translate([0,0,o/2]).rotateX(ho(90)).scale([a,o,a]),color:eM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new jt(jt.IDENTITY).translate(c).translate([0,0,o]).rotateX(ho(90)).scale([s,3*s,s]),color:eM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZQLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"Q",transformMatrix:new jt(jt.IDENTITY).translate(c).translate([1.5*s,1.5*-s,0]).scale(s),color:eM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZELabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"E",transformMatrix:new jt(jt.IDENTITY).translate(c).translate([0,0,o+2*s]).scale(s),color:eM}].filter(l=>e&&"text"===l.geometry&&l.text||!l.text)}(r,!1,!0):[];return[...o,...this.createSceneNodes(i,[...e,...t])]}))}get referenceOrganSimpleNodes$(){return Uo([this.model.anatomicalStructures$,this.model.organIri$,this.referenceData.state$]).pipe(Vt(([e,t,i])=>e.map(r=>i.sceneNodeLookup[r.id]?[{...i.simpleSceneNodeLookup[r.id],opacity:(r.opacity??100)/100,color:[255,255,255,255]}]:(i.anatomicalStructures[t]||[]).filter(o=>o.representation_of===r.id).map(o=>({...i.simpleSceneNodeLookup[o["@id"]],opacity:(r.opacity??100)/100,color:[255,255,255,255]}))).reduce((r,o)=>r.concat(o),[])),Va(tx.isEqual))}get nodeCollisions$(){return Uo([this.referenceOrganSimpleNodes$,this.collisions$,this.placementCube$]).pipe(AT(10,void 0,{leading:!0,trailing:!0}),Vt(([e,t,i])=>void 0!==t?this.filterNodeCollisions(e,t):i.length>0?this.filterNodeBBox(e,i[0]):[]),bd())}get previousRegistrationNodes$(){return Uo([this.model.organIri$,this.model.showPrevious$,this.registration.previousRegistrations$]).pipe(Vt(([e="",t,i])=>t?this.getPreviousRegistrationNodes(e,i):[]))}get spatialKeyBoardAxis$(){return Uo([this.model.organIri$.pipe(Ai(t=>void 0!==t&&""!==t)),this.model.position$]).pipe(Vt(([t,i])=>{const r=this.getOrganSpatialEntity(t),o=this.model.snapshot.blockSize,s=this.model.snapshot.rotation;return r?function oHe(n,e){const t=n.x_dimension/1e3,i=n.y_dimension/1e3,r=n.z_dimension/1e3,o=.1*Math.max(t,i,r),s=Math.max(t,i,r),a=.05*s,c=2*s,l=4*a,d={radius:s/1e3/2,x:e.x_translation/1e3,y:e.y_translation/1e3,z:e.z_translation/1e3,rx:ho(e.x_rotation),ry:ho(e.y_rotation),rz:ho(e.z_rotation),sx:n.x_dimension/1e3,sy:n.y_dimension/1e3,sz:n.z_dimension/1e3};return[{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginSphere","@type":"SpatialSceneNode",unpickable:!0,geometry:"sphere",transformMatrix:new jt(jt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new jt(jt.IDENTITY).translate([-d.sx/2,-d.sy/2,-d.sz/2]).scale(o)),color:rHe},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginX","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new jt(jt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new jt(jt.IDENTITY).translate([0,-d.sy/2,-d.sz/2]).rotateZ(ho(-90)).scale([a,d.sx,a])),color:Tm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginY","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new jt(jt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new jt(jt.IDENTITY).translate([-d.sx/2,0,-d.sz/2]).scale([a,d.sy,a])),color:Mm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginZ","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new jt(jt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new jt(jt.IDENTITY).translate([-d.sx/2,-d.sy/2,0]).rotateX(ho(90)).scale([a,d.sz,a])),color:Im},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXD","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new jt(jt.IDENTITY).translate([d.x+d.radius+c/2,d.y,d.z]).rotateZ(ho(-90)).scale([a,c,a]),color:Tm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXDCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new jt(jt.IDENTITY).translate([d.x+d.radius+c,d.y,d.z]).rotateZ(ho(-90)).scale([l,3*l,l]),color:Tm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXDLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"D",transformMatrix:new jt(jt.IDENTITY).translate([d.x+d.radius+c+3*l,d.y,d.z]).scale(l),color:Tm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXA","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new jt(jt.IDENTITY).translate([d.x-d.radius-c/2,d.y,d.z]).rotateZ(ho(-90)).scale([a,c,a]),color:Tm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXACone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new jt(jt.IDENTITY).translate([d.x-d.radius-c,d.y,d.z]).rotateZ(ho(90)).scale([l,3*l,l]),color:Tm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXALabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"A",transformMatrix:new jt(jt.IDENTITY).translate([d.x-d.radius-c-3.5*l,d.y,d.z]).scale(l),color:Tm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYW","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new jt(jt.IDENTITY).translate([d.x,d.y+d.radius+c/2,d.z]).scale([a,c,a]),color:Mm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYWCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new jt(jt.IDENTITY).translate([d.x,d.y+d.radius+c,d.z]).scale([l,3*l,l]),color:Mm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYWLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"W",transformMatrix:new jt(jt.IDENTITY).translate([d.x,d.y+d.radius+c+3*l,d.z]).scale(l),color:Mm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYS","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new jt(jt.IDENTITY).translate([d.x,d.y-d.radius-c/2,d.z]).scale([a,c,a]),color:Mm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYSCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new jt(jt.IDENTITY).translate([d.x,d.y-d.radius-c,d.z]).rotateZ(ho(180)).scale([l,3*l,l]),color:Mm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYSLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"S",transformMatrix:new jt(jt.IDENTITY).translate([d.x,d.y-d.radius-c-3.5*l,d.z]).scale(l),color:Mm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZQ","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new jt(jt.IDENTITY).translate([d.x,d.y,d.z+d.radius+c/2]).rotateX(ho(90)).scale([a,c,a]),color:Im},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZQCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new jt(jt.IDENTITY).translate([d.x,d.y,d.z+d.radius+c]).rotateX(ho(90)).scale([l,3*l,l]),color:Im},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZQLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"Q",transformMatrix:new jt(jt.IDENTITY).translate([d.x,d.y,d.z+d.radius+c+3*l]).scale(l),color:Im},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZE","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new jt(jt.IDENTITY).translate([d.x,d.y,d.z-d.radius-c/2]).rotateX(ho(-90)).scale([a,c,a]),color:Im},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZECone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new jt(jt.IDENTITY).translate([d.x,d.y,d.z-d.radius-c]).rotateX(ho(-90)).scale([l,3*l,l]),color:Im},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZELabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"E",transformMatrix:new jt(jt.IDENTITY).translate([d.x,d.y,d.z-d.radius-c-3.5*l]).scale(l),color:Im}]}({x_dimension:o.x,y_dimension:o.y,z_dimension:o.z},{x_translation:i.x-r.x_dimension/2,y_translation:i.y-r.y_dimension/2,z_translation:i.z-r.z_dimension/2,x_rotation:s.x,y_rotation:s.y,z_rotation:s.z,x_scaling:1,y_scaling:1,z_scaling:1}):[]}))}get placementCube$(){return Uo([this.model.viewType$,this.model.blockSize$,this.model.rotation$,this.model.position$,this.model.organ$]).pipe(Vt(([e,t,i,r,o])=>""===o.src?[]:[this.placementCube]),Va(tx.isEqual))}get placementCube(){const{viewType:e,blockSize:t,rotation:i,position:r,organDimensions:o}=this.model.snapshot,s=[o.x,o.y,o.z].map(a=>-a/1e3/2);return{"@id":"#DraftPlacement","@type":"SpatialSceneNode",transformMatrix:new jt(jt.IDENTITY).translate([r.x,r.y,r.z].map((a,c)=>a/1e3+s[c])).rotateXYZ([i.x,i.y,i.z].map(ho)).scale([t.x,t.y,t.z].map(a=>a/1e3/2)),color:[255,255,0,200],tooltip:"Draft Placement",unpickable:"3d"===e}}get rotation$(){return this.model.viewSide$.pipe(Vt(e=>{let t=0;switch(e){case"left":t=-90;break;case"right":t=90;break;case"posterior":t=180}return t}))}get collisions$(){return _m(()=>this.registration.throttledJsonld$).pipe(w_(e=>this.getCollisions(e)),ps([]))}constructor(e,t,i){super(),this.injector=e,this.http=t,this.globalConfig=i,this.gizmo$=On([{"@id":"http://purl.org/ccf/latest/ccf.owl#VHMaleOrgans_VHM_Spleen_Colic_Surface","@type":"SpatialSceneNode",scenegraph:"https://hubmapconsortium.github.io/ccf-3d-reference-object-library/Assets/body4Mesh_1338.glb",transformMatrix:new jt(jt.IDENTITY).scale([2,2,2]).rotateY(ho(0)),tooltip:"Gizmo",unpickable:!0,_lighting:"pbr",zoomBasedOpacity:!1,color:[255,255,255,255],opacity:1}])}ngxsOnInit(){super.ngxsOnInit(),this.model=this.injector.get(xr),this.registration=this.injector.get(Eo),this.referenceData=this.injector.get(Dm)}createSceneNodes(e,t){const i=this.referenceData.snapshot;return t.filter(r=>r.visible&&r.opacity&&r.opacity>0).map(r=>i.sceneNodeLookup[r.id]?[{...i.sceneNodeLookup[r.id],opacity:(r.opacity??100)/100,color:[255,255,255,255]}]:(i.anatomicalStructures[e]||[]).filter(o=>o.representation_of===r.id).map(o=>({...i.sceneNodeLookup[o["@id"]],opacity:(r.opacity??100)/100,color:[255,255,255,255]}))).reduce((r,o)=>r.concat(o),[])}getOrganSpatialEntity(e){return this.referenceData.snapshot.organSpatialEntities[e]}getCollisions(e){return this.globalConfig.getOption("collisionsEndpoint").pipe(Fr((t="https://pfn8zf2gtu.us-east-2.awsapprunner.com/get-collisions")=>this.http.post(t,JSON.stringify(e),{headers:{"Content-Type":"application/json"}})),ac(()=>On(void 0)),vr(1))}filterNodeCollisions(e,t){const i=new Set(t.map(r=>r.id));return e.filter(r=>i.has(r["@id"]))}filterNodeBBox(e,t){const i=GZ(t);return e.filter(r=>i.overlaps(GZ(r)))}getPreviousRegistrationNodes(e,t){return t.map(r=>{const o=Array.isArray(r.placement)?r.placement[0]:r.placement;if(o.target===e){const s=this.model.snapshot.organDimensions,a=[s.x,s.y,s.z].map(c=>-c/1e3/2);return{"@id":r["@id"],"@type":"SpatialSceneNode",transformMatrix:new jt(jt.IDENTITY).translate([o.x_translation,o.y_translation,o.z_translation].map((c,l)=>c/1e3+a[l])).rotateXYZ([o.x_rotation,o.y_rotation,o.z_rotation].map(ho)).scale([r.x_dimension,r.y_dimension,r.z_dimension].map(c=>c/1e3/2)),color:[25,118,210,200],tooltip:r.label,unpickable:!0}}}).filter(r=>void 0!==r)}static#e=this.\u0275fac=function(t){return new(t||hM)(et(wi),et(wd),et(ss))};static#t=this.\u0275prov=Ot({token:hM,factory:hM.\u0275fac})};Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],Ia.prototype,"nodes$",null),Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],Ia.prototype,"rotatedNodes$",null),Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],Ia.prototype,"referenceOrganNodes$",null),Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],Ia.prototype,"referenceOrganSimpleNodes$",null),Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],Ia.prototype,"nodeCollisions$",null),Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],Ia.prototype,"previousRegistrationNodes$",null),Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],Ia.prototype,"spatialKeyBoardAxis$",null),Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],Ia.prototype,"placementCube$",null),Nt([Yi(),ke("design:type",Object),ke("design:paramtypes",[])],Ia.prototype,"placementCube",null),Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],Ia.prototype,"rotation$",null),Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],Ia.prototype,"collisions$",null),Ia=Nt([Xu(),zd({name:"scene",defaults:{showCollisions:!1}}),ke("design:paramtypes",[wi,wd,ss])],Ia);let eu=class fM extends T3e{get tags$(){return Uo([this.entities$,this.scene.nodeCollisions$]).pipe(Vt(([e,t])=>{const i=[],r=new Set,o=new Set;Object.entries(e).forEach(([s,a])=>{"removed"===a.type?o.add(s):(r.add(s),i.push(a))});for(const s of t){const a=s.representation_of;a&&!o.has(a)&&!r.has(a)&&(r.add(a),i.push({id:a,label:s.tooltip,type:"assigned"}))}return i}))}get latestTags(){return this._latestTags}constructor(e){super(),this.injector=e,this._latestTags=[]}ngxsOnInit(){super.ngxsOnInit(),this.model=this.injector.get(xr),this.scene=this.injector.get(Ia),this.page=this.injector.get(oo),this.tags$.subscribe(e=>{this._latestTags=e}),this.entities$.subscribe(()=>this.page.setHasChanges())}addTags(e){for(const t of e)this.addTagRaw(t)}addTag(e){this.addTagRaw(e)}removeTag(e){this.snapshot.entities[e.id]?this.updateEntitiesMany([{id:e.id,changes:{type:"removed"}}]):this.addEntityOne({...e,type:"removed"})}searchExternal(e,t){const i=this.model.snapshot.anatomicalStructures.filter(r=>-1!==r.name.toLowerCase().indexOf(e.toLowerCase()));return[{totalCount:i.length,results:i.map(r=>({id:r.id,label:r.name,type:"added"})).slice(0,t)}]}addTagRaw(e){this.snapshot.entities[e.id]?this.updateEntitiesMany([{id:e.id,changes:{type:"added"}}]):this.addEntityOne({...e,type:"added"})}static#e=this.\u0275fac=function(t){return new(t||fM)(et(wi))};static#t=this.\u0275prov=Ot({token:fM,factory:fM.\u0275fac})};Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],eu.prototype,"tags$",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Array]),ke("design:returntype",void 0)],eu.prototype,"addTags",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],eu.prototype,"addTag",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],eu.prototype,"removeTag",null),Nt([kd.oI,ke("design:type",Function),ke("design:paramtypes",[String,Number]),ke("design:returntype",Object)],eu.prototype,"searchExternal",null),eu=Nt([Xu(),zd({name:"tags",defaults:{...function XHe(n){return n??{ids:[],entities:{}}}()}}),ke("design:paramtypes",[wi])],eu);let Eo=class pM extends xm{get metadata$(){return Uo([this.page.state$,this.model.state$,this.tags.tags$]).pipe(Vt(([e,t,i])=>this.buildMetadata(e,t,i)))}get jsonld$(){return Uo([this.page.state$,this.model.state$,this.tags.tags$]).pipe(Vt(([e,t,i])=>this.buildJsonLd(e,t,i)))}get throttledJsonld$(){return Uo([this.page.state$,this.model.state$,this.tags.tags$]).pipe(AT(100,void 0,{leading:!0,trailing:!0}),Va(tx.isEqual),Vt(([e,t,i])=>this.buildJsonLd(e,t,i)))}get valid$(){return Uo([this.page.state$,this.model.state$]).pipe(Vt(()=>this.isValid))}get previousRegistrations$(){const{globalConfig:e,state$:t}=this;return Uo([t.pipe(Vt(o=>o?.registrations)),e.getOption("fetchPreviousRegistrations").pipe(Fr(o=>o?.()??[[]]),ps([]))]).pipe(Vt(([o,s])=>[...o,...s]))}get currentIdentifier(){return YHe()}get currentDate(){return(new Date).toISOString().split("T")[0]}constructor(e,t){super(),this.injector=e,this.globalConfig=t,this.displayErrors$=this.state$.pipe(Vt(i=>i?.displayErrors))}ngxsOnInit(){super.ngxsOnInit(),this.page=this.injector.get(oo),this.model=this.injector.get(xr),this.tags=this.injector.get(eu),this.refData=this.injector.get(Dm),this.refData.state$.subscribe(()=>{this.globalConfig.config$.pipe(vr(1),fr(({useDownload:e,register:t,organOptions:i})=>{this.ctx.patchState({useRegistrationCallback:!(e||!t)}),this.page.setOrcidId(),this.model.setOrganDefaults(),this.setOrganSelection(i)})).subscribe(),this.globalConfig.getOption("editRegistration").pipe(bB(),fr(e=>{this.editRegistration(e)})).subscribe()})}editRegistration(e){var t=this;return D(function*(){t.ctx.patchState({initialRegistration:e});const i=t.refData.normalizePlacement(Array.isArray(e.placement)?e.placement[0]:e.placement),r=t.refData.getOrganData(i.target);t.page.setUserName({firstName:e.creator_first_name,middleName:e.creator_middle_name,lastName:e.creator_last_name});const o=t.page.uriToOrcid(e.creator_orcid);t.page.setOrcidId(o),r&&(t.model.setOrgan(r.organ),r.sex&&t.model.setSex(r.sex),r.side&&t.model.setSide(r.side)),t.model.setBlockSize({x:e.x_dimension,y:e.y_dimension,z:e.z_dimension}),t.model.setRotation({x:i.x_rotation,y:i.y_rotation,z:i.z_rotation}),t.model.setSlicesConfig({thickness:e.slice_thickness||NaN,numSlices:e.slice_count||NaN}),t.model.setPosition({x:i.x_translation,y:i.y_translation,z:i.z_translation});const s=new Set(e.ccf_annotations);t.tags.addTags(t.model.snapshot.anatomicalStructures.filter(a=>s.has(a.id)).map(a=>({id:a.id,label:a.name,type:"added"}))),t.page.registrationStarted()})()}setUseRegistrationCallback(e){this.ctx.patchState({useRegistrationCallback:e})}setDisplayErrors(e){this.ctx.patchState({displayErrors:e})}addRegistration(e){this.ctx.setState(lm({registrations:R2e(e)})),this.page.registrationStarted()}setOrganSelection(e=[]){this.page.patchState({organOptions:this.organListOptions(e)})}isDataValid(e,t){return[e.user.firstName,e.user.lastName,e.orcidValid,t.organ.src,t.organ.name,t.organ.organ].every(r=>!!r)}get isValid(){return this.isDataValid(this.page.snapshot,this.model.snapshot)}register(e){if(this.page.registrationStarted(),!this.isValid)return;const{globalConfig:{snapshot:{register:t}},page:i,model:r,snapshot:o}=this,s=this.buildJsonLd(i.snapshot,r.snapshot,this.tags.latestTags),a=JSON.stringify(s,void 0,2);if(e??(void 0===e&&o.useRegistrationCallback))t?.(a);else{const c=new Blob([a],{type:"application/json",endings:"native"});(0,GHe.saveAs)(c,"registration-data.json")}this.setDisplayErrors(!1),this.page.clearHasChanges(),this.addRegistration(s)}setToInitialRegistration(){const{page:e}=this,t={...this.snapshot.initialRegistration,creator_first_name:e.snapshot.user.firstName,creator_last_name:e.snapshot.user.lastName,creator_middle_name:e.snapshot.user.middleName,creator_orcid:e.snapshot.user.orcidId};this.editRegistration(t)}buildMetadata(e,t,i){const r=[];return e.registrationCallbackSet||r.push({label:"First Name",value:e.user.firstName},{label:"Last Name",value:e.user.lastName}),r.push({label:"Reference Organ Name",value:t.organ.name},{label:"Tissue Block Dimensions (mm)",value:this.xyzTripletToString(t.blockSize)},{label:"Tissue Block Position (mm)",value:this.xyzTripletToString(t.position)},{label:"Tissue Block Rotation",value:this.xyzTripletToString(t.rotation)},{label:"Anatomical Structure Tags",value:i.map(o=>o.label).join(", ")},{label:"Time Stamp",value:this.currentDate},{label:"Alignment ID",value:this.currentIdentifier}),r}buildJsonLd(e,t,i){return{"@context":"https://hubmapconsortium.github.io/ccf-ontology/ccf-context.jsonld","@id":`http://purl.org/ccf/1.5/${this.currentIdentifier}`,"@type":"SpatialEntity",label:t.label||void 0,creator:`${e.user.firstName} ${e.user.middleName?e.user.middleName+" ":""}${e.user.lastName}`,creator_first_name:e.user.firstName,creator_last_name:e.user.lastName,creator_middle_name:e.user.middleName,creator_orcid:e.user.orcidId,creation_date:this.currentDate,ccf_annotations:i.map(r=>r.id),slice_thickness:t.slicesConfig?.thickness||void 0,slice_count:t.slicesConfig?.numSlices||void 0,x_dimension:+t.blockSize.x.toFixed(3),y_dimension:+t.blockSize.y.toFixed(3),z_dimension:+t.blockSize.z.toFixed(3),dimension_units:"millimeter",placement:{"@context":"https://hubmapconsortium.github.io/ccf-ontology/ccf-context.jsonld","@id":`http://purl.org/ccf/1.5/${this.currentIdentifier}_placement`,"@type":"SpatialPlacement",target:t.organIri,placement_date:this.currentDate,x_scaling:1,y_scaling:1,z_scaling:1,scaling_units:"ratio",x_rotation:+t.rotation.x.toFixed(3),y_rotation:+t.rotation.y.toFixed(3),z_rotation:+t.rotation.z.toFixed(3),rotation_order:"XYZ",rotation_units:"degree",x_translation:+t.position.x.toFixed(3),y_translation:+t.position.y.toFixed(3),z_translation:+t.position.z.toFixed(3),translation_units:"millimeter"}}}xyzTripletToString(e){return`${Math.round(e.x)}, ${Math.round(e.y)}, ${Math.round(e.z)}`}organListOptions(e){return e&&e.length>0?F3.filter(t=>!!t.id&&e.includes(t.id)):F3}static#e=this.\u0275fac=function(t){return new(t||pM)(et(wi),et(ss))};static#t=this.\u0275prov=Ot({token:pM,factory:pM.\u0275fac})};Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],Eo.prototype,"metadata$",null),Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],Eo.prototype,"jsonld$",null),Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],Eo.prototype,"throttledJsonld$",null),Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],Eo.prototype,"valid$",null),Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],Eo.prototype,"previousRegistrations$",null),Nt([Yi(),ke("design:type",String),ke("design:paramtypes",[])],Eo.prototype,"currentIdentifier",null),Nt([Yi(),ke("design:type",String),ke("design:paramtypes",[])],Eo.prototype,"currentDate",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Boolean]),ke("design:returntype",void 0)],Eo.prototype,"setUseRegistrationCallback",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Boolean]),ke("design:returntype",void 0)],Eo.prototype,"setDisplayErrors",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],Eo.prototype,"addRegistration",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Array]),ke("design:returntype",void 0)],Eo.prototype,"setOrganSelection",null),Nt([Yi(),ke("design:type",Boolean),ke("design:paramtypes",[])],Eo.prototype,"isValid",null),Eo=Nt([Xu(),zd({name:"registration",defaults:{useRegistrationCallback:!1,displayErrors:!1,registrations:[]}}),ke("design:paramtypes",[wi,ss])],Eo);let oo=class mM extends xm{get skipConfirmation$(){return this.state$.pipe(vB("skipConfirmation"))}get globalSkipConfirmation$(){return this.globalConfig.getOption("skipUnsavedChangesConfirmation").pipe(Vt(e=>e??false),Va())}get hasChanges$(){return this.state$.pipe(vB("hasChanges"))}constructor(e,t){super(),this.globalConfig=e,this.reg=t,this.user$=this.state$.pipe(Vt(i=>i?.user)),this.registrationStarted$=this.state$.pipe(vB("registrationStarted")),this.useCancelRegistrationCallback$=this.state$.pipe(Vt(i=>i?.useCancelRegistrationCallback)),this.registrationCallbackSet$=this.state$.pipe(Vt(i=>i?.registrationCallbackSet)),this.organOptions$=this.state$.pipe(Vt(i=>i?.organOptions)),this.orcidValid$=this.state$.pipe(Vt(i=>i?.orcidValid))}ngxsOnInit(){super.ngxsOnInit(),Uo([this.reg.state$,this.globalConfig.config$]).pipe(fr(([e,t])=>{this.setState(lm({registrationCallbackSet:!!e.useRegistrationCallback&&!!t.register,useCancelRegistrationCallback:!!t.cancelRegistration,user:D2e(!!t.user,t.user??{firstName:"",lastName:""}),registrationStarted:!!(t.user??e.initialRegistration)||void 0}))})).subscribe(),this.initSkipConfirmationListeners()}cancelRegistration(){const{globalConfig:{snapshot:{cancelRegistration:e}},snapshot:{useCancelRegistrationCallback:t,skipConfirmation:i}}=this;t&&(i||confirm("Changes you made may not be saved."))&&e?.()}setUseCancelRegistrationCallback(e){this.ctx.patchState({useCancelRegistrationCallback:e})}setUserName(e){this.ctx.setState(lm({user:lm({firstName:e.firstName,lastName:e.lastName,middleName:""!==e.middleName?e.middleName:void 0})}))}setOrcidId(e){this.ctx.setState(lm({user:lm({orcidId:e?this.orcidToUri(e):void 0})})),this.ctx.patchState({orcidValid:!e||this.isOrcidValid()})}registrationStarted(){this.ctx.setState(lm({registrationStarted:!0}))}setHasChanges(){const{snapshot:{registrationStarted:e,hasChanges:t}}=this;e&&!t&&this.ctx.patchState({hasChanges:!0})}clearHasChanges(){this.ctx.patchState({hasChanges:!1})}initSkipConfirmationListeners(){const e=i=>this.patchState({skipConfirmation:i});this.globalSkipConfirmation$.pipe(Ai(i=>i)).subscribe(e),this.hasChanges$.pipe(function HHe(...n){const e=ek(n);return Pn((t,i)=>{const r=n.length,o=new Array(r);let s=n.map(()=>!1),a=!1;for(let c=0;c<r;c++)uo(n[c]).subscribe(si(i,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(We))&&(s=null))},Tt));t.subscribe(si(i,c=>{if(a){const l=[c,...o];i.next(e?e(...l):l)}}))})}(this.globalSkipConfirmation$),Vt(([i,r])=>r||!i),Va()).subscribe(e);const t=i=>(i.preventDefault(),i.returnValue="Changes you made may not be saved.",i.returnValue);this.skipConfirmation$.subscribe(i=>{i?removeEventListener("beforeunload",t):addEventListener("beforeunload",t)})}isOrcidValid(){const e=this.uriToOrcid(this.snapshot.user.orcidId);return!(e&&!e.match("^[a-zA-Z0-9]{4}(-[a-zA-Z0-9]{4}){3}$"))}uriToOrcid(e){return e?e.split("/").slice(-1)[0]:""}orcidToUri(e){return"https://orcid.org/"+e.replace(/-/g,"").replace(/(.{1,4})/g,"$1-").slice(0,-1)}static#e=this.\u0275fac=function(t){return new(t||mM)(et(ss),et(Eo))};static#t=this.\u0275prov=Ot({token:mM,factory:mM.\u0275fac})};Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],oo.prototype,"skipConfirmation$",null),Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],oo.prototype,"globalSkipConfirmation$",null),Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],oo.prototype,"hasChanges$",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Boolean]),ke("design:returntype",void 0)],oo.prototype,"setUseCancelRegistrationCallback",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],oo.prototype,"setUserName",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[String]),ke("design:returntype",void 0)],oo.prototype,"setOrcidId",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[]),ke("design:returntype",void 0)],oo.prototype,"registrationStarted",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[]),ke("design:returntype",void 0)],oo.prototype,"setHasChanges",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[]),ke("design:returntype",void 0)],oo.prototype,"clearHasChanges",null),oo=Nt([Xu(),zd({name:"page",defaults:{user:{firstName:"",lastName:""},registrationStarted:!1,useCancelRegistrationCallback:!1,registrationCallbackSet:!1,skipConfirmation:!0,hasChanges:!1,organOptions:[],orcidValid:!1}}),ke("design:paramtypes",[ss,Eo])],oo);const F3=lT;let xr=class gM extends xm{get modelChanged$(){const e=["viewType","viewSide","showPrevious"],t=Object.keys(this.initialState).filter(i=>!e.includes(i));return this.state$.pipe(AT(0,void 0,{leading:!1,trailing:!0}),Va((i,r)=>{for(const o of t)if(i[o]!==r[o])return!1;return!0}),Vt(()=>{}))}constructor(e,t,i){super(),this.ga=e,this.injector=t,this.globalConfig=i,this.id$=this.state$.pipe(Vt(r=>r?.id),Ma()),this.blockSize$=this.state$.pipe(Vt(r=>r?.blockSize),Ma()),this.rotation$=this.state$.pipe(Vt(r=>r?.rotation),Ma()),this.position$=this.state$.pipe(Vt(r=>r?.position),Ma()),this.slicesConfig$=this.state$.pipe(Vt(r=>r?.slicesConfig),Ma()),this.viewType$=this.state$.pipe(Vt(r=>r?.viewType),Ma()),this.viewSide$=this.state$.pipe(Vt(r=>r?.viewSide),Ma()),this.organ$=this.state$.pipe(Vt(r=>r?.organ),Ma()),this.organIri$=this.state$.pipe(Vt(r=>r?.organIri),Ma()),this.organDimensions$=this.state$.pipe(Vt(r=>r?.organDimensions),Ma()),this.sex$=this.state$.pipe(Vt(r=>r?.sex),Ma()),this.side$=this.state$.pipe(Vt(r=>r?.side),Ma()),this.showPrevious$=this.state$.pipe(Vt(r=>r?.showPrevious),Ma()),this.extractionSites$=this.state$.pipe(Vt(r=>r?.extractionSites),Ma()),this.anatomicalStructures$=this.state$.pipe(Vt(r=>r?.anatomicalStructures),Ma()),this.extractionSets$=this.state$.pipe(Vt(r=>r?.extractionSets),Ma())}ngxsOnInit(){super.ngxsOnInit(),this.referenceData=this.injector.get(Dm),this.page=this.injector.get(oo),this.referenceData.state$.subscribe(()=>this.onReferenceDataChange())}idMatches(e,t){return lT.find(i=>!(!e||i.id!==e||i.side&&i.side!==t))}nameMatches(e,t){return lT.find(i=>i.side?i.organ.toLowerCase()===e&&i.side===t:i.organ.toLowerCase()===e)}setBlockSize(e){this.ctx.patchState({blockSize:e})}setRotation(e){this.ctx.patchState({rotation:e})}setPosition(e){this.ga.event("placement",`${this.snapshot.organ?.name}_placement`,`${e.x.toFixed(1)}_${e.y.toFixed(1)}_${e.z.toFixed(1)}`),this.ctx.patchState({position:e})}setSlicesConfig(e){this.ctx.patchState({slicesConfig:e})}setViewType(e){this.ctx.patchState({viewType:e})}setViewSide(e){this.ctx.patchState({viewSide:e})}get defaultPosition(){const e=this.snapshot.organDimensions;return{x:e.x+2*this.snapshot.blockSize.x,y:e.y/2,z:e.z/2}}setOrgan(e){e&&(this.ga.event("organ_select","organ",e.name),this.ctx.patchState({organ:e}),this.ctx.patchState(e.side?{side:e.side}:{side:void 0}),this.onOrganIriChange())}setOrganDefaults(){this.ctx.patchState({position:this.defaultPosition,rotation:{x:0,y:0,z:0}})}setSex(e){this.ctx.patchState({sex:e}),this.onOrganIriChange()}setSide(e){this.ctx.patchState({side:e}),this.onOrganIriChange()}setShowPrevious(e){this.ctx.patchState({showPrevious:e})}setExtractionSites(e){this.ctx.patchState({extractionSites:e})}setAnatomicalStructures(e){this.ctx.patchState({anatomicalStructures:e})}setExtractionSets(e){this.ctx.patchState({extractionSets:e})}toggleRegistrationBlocksVisibility(e,t){if(this.setShowPrevious(e),e){const i=t.map(r=>({...r,opacity:Math.min(20,r.opacity??20)}));this.setAnatomicalStructures(i)}else this.setAnatomicalStructures(t)}onOrganIriChange(){const e=this.referenceData.getReferenceOrganIri(this.snapshot.organ?.organ||"",this.snapshot.sex,this.snapshot.side,this.snapshot.organ),t={x:100,y:100,z:100};if(this.snapshot.organ?.sex&&this.ctx.patchState({sex:this.snapshot.organ?.sex}),e){const i=this.referenceData.snapshot,r={};for(const a of i.anatomicalStructures[e]||[]){const c=a.representation_of??a["@id"];r[c]||(r[c]={id:a.representation_of??a["@id"],name:a.label??"",visible:!0,opacity:20,tooltip:a.comment})}this.ctx.patchState({anatomicalStructures:[{id:"all",name:"all anatomical structures",opacity:20,visible:!0},...Object.values(r)]});const o=(i.extractionSets[e]||[]).map(a=>({name:a.label,sites:[{id:"all",name:"all landmarks",visible:!0,opacity:0}].concat((0,tx.sortBy)(a.extractionSites.map(c=>({id:c["@id"],name:c.label??"",visible:!0,opacity:0,tooltip:c.comment})),"name"))}));this.ctx.patchState({extractionSets:o}),this.ctx.patchState({extractionSites:o.length>0?o[0].sites:[]});const s=i.organSpatialEntities[e];t.x=s.x_dimension,t.y=s.y_dimension,t.z=s.z_dimension}this.ctx.patchState({organIri:e,organDimensions:t})}onReferenceDataChange(){this.globalConfig.getOption("organ").pipe(bB(),XL(0),Fr(e=>this.onOrganChange(e))).subscribe(),this.modelChanged$.pipe(function zHe(n){return Pn((e,t)=>{let i=!1;const r=si(t,()=>{r?.unsubscribe(),i=!0},Tt);uo(n).subscribe(r),e.subscribe(si(t,o=>i&&t.next(o)))})}(this.page.registrationStarted$.pipe(Ai(e=>e)))).subscribe(()=>this.page.setHasChanges())}onOrganChange(e){let t,i;if("string"==typeof e){const r=this.referenceData.getOrganData(e);i=r?.sex?.toLowerCase(),t=r?.organ}else{const r=e.name.toLowerCase(),o=e.side,s=e.ontologyId;i=e.sex?.toLowerCase(),t=this.idMatches(s,o),t||(t=this.nameMatches(r,o))}return t?(this.ctx.patchState({organ:t,sex:i,side:t?.side?.toLowerCase()}),this.referenceData.state$.pipe(fr(()=>this.onOrganIriChange()))):js}static#e=this.\u0275fac=function(t){return new(t||gM)(et(Rs),et(wi),et(ss))};static#t=this.\u0275prov=Ot({token:gM,factory:gM.\u0275fac})};Nt([Yi(),ke("design:type",Ct),ke("design:paramtypes",[])],xr.prototype,"modelChanged$",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],xr.prototype,"setBlockSize",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],xr.prototype,"setRotation",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],xr.prototype,"setPosition",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],xr.prototype,"setSlicesConfig",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[String]),ke("design:returntype",void 0)],xr.prototype,"setViewType",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[String]),ke("design:returntype",void 0)],xr.prototype,"setViewSide",null),Nt([Yi(),ke("design:type",Object),ke("design:paramtypes",[])],xr.prototype,"defaultPosition",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",void 0)],xr.prototype,"setOrgan",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[]),ke("design:returntype",void 0)],xr.prototype,"setOrganDefaults",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[String]),ke("design:returntype",void 0)],xr.prototype,"setSex",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[String]),ke("design:returntype",void 0)],xr.prototype,"setSide",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Boolean]),ke("design:returntype",void 0)],xr.prototype,"setShowPrevious",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Array]),ke("design:returntype",void 0)],xr.prototype,"setExtractionSites",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Array]),ke("design:returntype",void 0)],xr.prototype,"setAnatomicalStructures",null),Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Array]),ke("design:returntype",void 0)],xr.prototype,"setExtractionSets",null),xr=Nt([Xu(),zd({name:"model",defaults:{id:"",label:"",organ:{src:"",name:""},organIri:"",organDimensions:{x:90,y:90,z:90},sex:"male",blockSize:{x:10,y:10,z:10},rotation:{x:0,y:0,z:0},position:{x:0,y:0,z:0},slicesConfig:{thickness:NaN,numSlices:NaN},viewType:"register",viewSide:"anterior",showPrevious:!1,extractionSites:[],anatomicalStructures:[],extractionSets:[]}}),ke("design:paramtypes",[Rs,wi,ss])],xr);const WZ={isolated:!0},$Z=new vt("Message service configuration",{providedIn:"root",factory:()=>WZ});let e8e=(()=>{class n{static#e=this.counter=0;constructor(t,i,r){this.source=t,this.channel=i,this.messages=r}sendMessage(t){this.channel.next({id:this.nextMessageId(),source:this.source,payload:t})}getMessages(){return this.messages.pipe(Ai(t=>t.source!==this.source))}getMessagesFromSource(t){return this.getMessages().pipe(Ai(i=>i.source===t))}getMessagesFromSources(t){return this.getMessages().pipe(Ai(i=>t.includes(i.source)))}nextMessageId(){const t=n.counter;return n.counter++,t}}return n})();const dx=(()=>{class n{constructor(t,i){this.config=t,this.parent=i,this.channel=new on,this.messages=t.isolated||!i?this.channel.asObservable():io([this.channel,i.messages.pipe(SG(()=>!this.channel.closed))]).pipe(Yv())}ngOnDestroy(){this.channel.complete()}connect(t){return new e8e(t,this.channel,this.messages)}static#e=this.\u0275fac=function(i){return new(i||n)(et($Z),et(n,12))};static#t=this.\u0275prov=Ot({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),t8e=["*"];let nM=(()=>{class n{constructor(t,i){this.className="ccf-drawer-content",this.animationsEnabled=!1,this.leftMargin=0,this.rightMargin=0,this.faded=!1,this.drawers=[],this.subscriptions=new zt;const r=t.connect(this).getMessages();this.subscriptions.add(r.subscribe(o=>{this.handleMessage(o)&&i.markForCheck()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}handleMessage(t){switch(t.payload.type){case"drawer-containers-changed":return this.drawers=t.payload.drawers,this.updateFaded(),!0;case"drawer-initialized":return this.animationsEnabled=!0,!0;case"drawer-toggled":{const i=t.source.position,{opened:r,width:o,margin:s}=t.payload;return this.updateMargin(i,r,o,s),this.updateFaded(),!0}default:return!1}}updateMargin(t,i,r,o){const s=i?r+o:o;"start"===t?this.leftMargin=s:this.rightMargin=s}updateFaded(){const[t,i]=this.drawers;this.faded=!!(t?.opened&&t?.expanded||i?.opened&&i?.expanded)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(dx),Ae(Mi))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-drawer-content"]],hostVars:9,hostBindings:function(i,r){2&i&&(Tv("@fadeInOut",r.faded),Ei(r.className),Nh("margin-left",r.leftMargin,"px")("margin-right",r.rightMargin,"px"),bn("cff-drawer-content-animations",r.animationsEnabled))},ngContentSelectors:t8e,decls:1,vars:0,template:function(i,r){1&i&&(yr(),zn(0))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;z-index:2;overflow:auto}.cff-drawer-content-animations[_nghost-%COMP%]{transition-duration:.5s;transition-timing-function:ease-in-out;transition-property:margin-left,margin-right}"],data:{animation:[sl("fadeInOut",[jo("false",ar({opacity:1})),jo("true",ar({opacity:0})),Ds("false <=> true",Is("1s"))])]},changeDetection:0})}return n})();const n8e=["*"],L3={params:{width:0,margin:0,margin2:0}};class i8e{constructor(){this.initialized=!1,this.deferred=new Promise(e=>{this.resolve=e})}set(){this.initialized=!0,this.resolve()}wait(){var e=this;return D(function*(){return e.deferred})()}valueOf(){return this.initialized}}let B3=(()=>{class n{get classEnd(){return"end"===this.position}get position(){return this._position}set position(t){this._position=t||"start"}get opened(){return this._opened}set opened(t){this.toggle(yd(t))}get expanded(){return this._expanded}set expanded(t){this.toggleExpanded(yd(t))}get expandedStateObj(){return{value:this.expandedState2,params:{width:this.width,margin:this.measuredMargin,margin2:this.margin2}}}get measuredWidth(){if(this._measuredWidth>0)return this._measuredWidth;const t=this.element.nativeElement;if(!t)return 0;const i=t.getBoundingClientRect(),r=i.right-i.left;return 0===r?0:(this._measuredWidth=r,r)}get measuredMargin(){if(this._measuredMargin>0)return this._measuredMargin;const t=this.element.nativeElement;if(!t)return 0;const o=globalThis.getComputedStyle(t).getPropertyValue("start"===this.position?"margin-right":"margin-left"),s=Number(o.slice(0,-2));return this._measuredMargin=s,s}constructor(t,i,r){this.element=r,this.className="ccf-drawer",this._position="start",this._opened=!1,this._expanded=!1,this.openedChange=new Qt(!0),this.expandedChange=new Qt(!0),this.stateChange=new Qt(!0),this.openedState="closed",this.expandedState="closed",this.expandedState2="collapsed",this._measuredWidth=0,this.width=0,this._measuredMargin=0,this.margin2=0,this.initialized=new i8e,this.subscriptions=new zt,this.channel=t.connect(this),this.subscriptions.add(this.channel.getMessages().subscribe(o=>{this.handleMessage(o)&&i.markForCheck()}))}ngAfterViewInit(){this.initialized.set(),setTimeout(()=>this.channel.sendMessage({type:"drawer-initialized"}))}ngOnDestroy(){this.subscriptions.unsubscribe()}open(){this.toggle(!0)}close(){this.toggle(!1)}toggle(t=!this.opened){this.opened!==t&&(t?this.openedState=this.initialized.valueOf()?"open":"open-instant":(this.openedState="closed",this.expandedState="closed",this.expandedState2="collapsed",this._expanded=!1),this._opened=t,this.sendToggle())}openExpanded(){this.toggleExpanded(!0)}closeExpanded(){this.toggleExpanded(!1)}toggleExpanded(t=!this.expanded){this.expanded!==t&&(t?this.expandedState=this.initialized.valueOf()?"open":"open-instant":(this.expandedState="closed",this.expandedState2="collapsed"),this._expanded=t,this.sendToggle())}closeOpenDone(){this.openedChange.emit(this.opened)}expandCollapseDone(){this.expandedChange.emit(this.expanded)}sendToggle(){var t=this;return D(function*(){yield t.initialized.wait(),t.channel.sendMessage({type:"drawer-toggled",opened:t.opened,expanded:t.expanded,width:t.measuredWidth,margin:t.measuredMargin}),t.stateChange.emit()})()}handleMessage(t){return"drawer-toggled"===t.payload.type&&(this.syncExpanded(t.source),!0)}syncExpanded(t){(this.expanded||t.expanded)&&(this.expanded&&t.expanded?this.expandedState2=t.expandedState2="half":this.expanded?t.opened?(this.expandedState2="extended",this.width=t.measuredWidth+t.measuredMargin):(this.expandedState2="full",this.margin2=t.measuredMargin):this.opened?(t.expandedState2="extended",t.width=this.measuredWidth+this.measuredMargin):(t.expandedState2="full",t.margin2=this.measuredMargin))}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(dx),Ae(Mi),Ae(kn))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-drawer"]],hostVars:10,hostBindings:function(i,r){1&i&&qC("@openClose.done",function(){return r.closeOpenDone()})("@expandCollapse.done",function(){return r.expandCollapseDone()}),2&i&&(Tv("@openClose",r.openedState)("@expandCollapse",r.expandedStateObj),Ei(r.className),bn("ccf-drawer-end",r.classEnd)("ccf-drawer-opened",r.opened)("ccf-drawer-expanded",r.expanded))},inputs:{position:"position",opened:"opened",expanded:"expanded"},outputs:{openedChange:"openedChange",expandedChange:"expandedChange",stateChange:"stateChange"},exportAs:["ccfDrawer"],ngContentSelectors:n8e,decls:2,vars:0,consts:[[1,"cff-drawer-inner-container"]],template:function(i,r){1&i&&(yr(),Xe(0,"div",0),zn(1),ot())},styles:["[_nghost-%COMP%]{display:block;position:absolute;top:0;bottom:0;z-index:2;outline:0;transform:translate3d(-100%,0,0)}.ccf-drawer-end[_nghost-%COMP%]{right:0;transform:translate3d(100%,0,0)}[_nghost-%COMP%]   .cff-drawer-inner-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch;scrollbar-width:thin}"],data:{animation:[sl("openClose",[jo("open, open-instant",ar({transform:"none"})),jo("closed",ar({})),Ds("closed => open-instant",Is(0)),Ds("closed <=> open, open-instant => closed",Is(".5s ease-in-out"))]),sl("expandCollapse",[jo("collapsed",ar({})),jo("half",ar({width:"calc(50% - {{ margin }}px)"}),L3),jo("extended",ar({width:"calc(100% - {{ width }}px - {{ margin }}px)"}),L3),jo("full",ar({width:"calc(100% - {{ margin }}px - {{ margin2 }}px)"}),L3),Ds("* <=> *",Is(".5s ease-in-out"))])]},changeDetection:0})}return n})();const r8e=[[["ccf-drawer"]],[["ccf-drawer-content"]],"*"],o8e=["ccf-drawer","ccf-drawer-content","*"];function s8e(n,e){1&n&&(Xe(0,"ccf-drawer-content"),zn(1,2),ot())}function qZ(n){throw new Error(`Multiple drawers in position ${n}`)}let a8e=(()=>{class n{get content(){return this.content1.first??this.content2.first}get hasWrappedContent(){return 0!==this.content1.length}constructor(t,i){this.cdr=i,this.className="ccf-drawer-container",this.subscriptions=new zt,this.channel=t.connect(this),this.subscriptions.add(this.channel.getMessages().subscribe(r=>{this.handleMessage(r)&&i.markForCheck()}))}ngAfterViewInit(){this.drawers.changes.pipe(ps(null)).subscribe(()=>{const t=this.validateDrawers();this.channel.sendMessage({type:"drawer-containers-changed",drawers:t}),this.cdr.markForCheck()}),this.content1.changes.pipe(ps(null)).subscribe(()=>{this.channel.sendMessage({type:"content-container-changed",content:this.content}),this.cdr.markForCheck()})}ngOnDestroy(){this.subscriptions.unsubscribe()}handleMessage(t){return!0}validateDrawers(){const t=this.drawers.toArray(),i=t.filter(o=>"start"===o.position),r=t.filter(o=>"end"===o.position);return i.length>1&&qZ("start"),r.length>1&&qZ("end"),[i[0],r[0]]}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(dx),Ae(Mi))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(mr(o,B3,5),mr(o,nM,5)),2&i){let s;Dn(s=Rn())&&(r.drawers=s),Dn(s=Rn())&&(r.content1=s)}},viewQuery:function(i,r){if(1&i&&ki(nM,5),2&i){let o;Dn(o=Rn())&&(r.content2=o)}},hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.className)},exportAs:["ccfDrawerContainer"],features:[ei([dx])],ngContentSelectors:o8e,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(i,r){1&i&&(yr(r8e),zn(0),zn(1,1),mn(2,s8e,2,0,"ccf-drawer-content",0)),2&i&&(dt(2),Rt("ngIf",!r.hasWrappedContent))},dependencies:[ic,nM],styles:["[_nghost-%COMP%]{display:block;position:relative;z-index:1;overflow:hidden;-webkit-overflow-scrolling:touch}"],changeDetection:0})}return n})(),c8e=(()=>{class n{get classEnd(){return"end"===this.position}get icon(){let t="arrow_right",i="arrow_left";return"end"===this.position&&([t,i]=[i,t]),this.opened?i:t}constructor(t,i,r){this.drawer=t,this.cdr=r,this.className="ccf-drawer-toggle-button",this.position="start",this.opened=!1,this.subscriptions=new zt;const o=i.connect(this);this.subscriptions.add(o.getMessagesFromSource(t).subscribe(s=>{this.handleMessage(s)&&r.markForCheck()}))}ngAfterViewInit(){setTimeout(()=>{this.position=this.drawer.position,this.cdr.markForCheck()})}ngOnDestroy(){this.subscriptions.unsubscribe()}handleMessage(t){return"drawer-toggled"===t.payload.type&&(this.opened=t.payload.opened,!0)}toggle(){const t=this.drawer,{opened:i,expanded:r}=t;i?r?t.closeExpanded():t.close():t.open()}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(B3),Ae(dx),Ae(Mi))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-drawer-toggle-button"]],hostVars:4,hostBindings:function(i,r){2&i&&(Ei(r.className),bn("ccf-drawer-toggle-button-end",r.classEnd))},decls:4,vars:4,consts:[["aria-hidden","false","aria-label","Close side drawer",1,"expand-collapse-icon",3,"click"]],template:function(i,r){1&i&&(Xe(0,"mat-icon",0),Bt("click",function(){return r.toggle()}),Yt(1," arrow_right\n"),ot(),Xe(2,"mat-icon",0),Bt("click",function(){return r.toggle()}),Yt(3," arrow_left\n"),ot()),2&i&&(bn("hidden","arrow_left"===r.icon),dt(2),bn("hidden","arrow_right"===r.icon))},dependencies:[wa],styles:["[_nghost-%COMP%]{position:absolute;top:calc(50% - 2.0625rem);right:-1.0625rem;width:1.0625rem;height:3rem;border-radius:0rem .25rem .25rem 0rem;cursor:pointer;transition:.25s}.ccf-drawer-toggle-button-end[_nghost-%COMP%]{right:unset;left:calc(-1rem - 1px);border-radius:.25rem 0rem 0rem .25rem}[_nghost-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]{position:absolute;right:0rem;transition:.6s;padding-left:.15rem}[_nghost-%COMP%]   .expand-collapse-icon.hidden[_ngcontent-%COMP%]{opacity:0}.ccf-drawer-toggle-button-end[_nghost-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]{right:unset;left:-.25rem}.mat-icon[_ngcontent-%COMP%]{right:.3rem;top:.675rem;padding-top:.05rem}"],changeDetection:0})}return n})();const l8e=["tooltip"],XZ=new vt("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const n=kt(ms);return()=>n.scrollStrategies.reposition({scrollThrottle:20})}}),u8e={provide:XZ,deps:[ms],useFactory:function d8e(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},f8e=new vt("mat-tooltip-default-options",{providedIn:"root",factory:function h8e(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),KZ="tooltip-panel",JZ=m_({passive:!0});let Kl=(()=>{class n{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=yd(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=yd(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=MS(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=MS(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,i,r,o,s,a,c,l,d,h,f,m){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=c,this._focusMonitor=l,this._dir=h,this._defaultOptions=f,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=b8e,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new on,this._scrollStrategy=d,this._document=m,f&&(this._showDelay=f.showDelay,this._hideDelay=f.hideDelay,f.position&&(this.position=f.position),f.positionAtOrigin&&(this.positionAtOrigin=f.positionAtOrigin),f.touchGestures&&(this.touchGestures=f.touchGestures)),h.change.pipe(Ii(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ii(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,JZ)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new C_(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Ii(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&o._origin instanceof kn)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Ii(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${KZ}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ii(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ii(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ii(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!rc(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(vr(1),Ii(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:o}=t;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const c=`${this._cssClassPrefix}-${KZ}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(i=t),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const i=t.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,JZ)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(ms),Ae(kn),Ae(EG),Ae(Ts),Ae(_n),Ae(ro),Ae(Che),Ae(ku),Ae(XZ),Ae(Fl),Ae(f8e,8),Ae(ci))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&bn("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[mt.None,"matTooltipPosition","position"],positionAtOrigin:[mt.None,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[mt.None,"matTooltipDisabled","disabled"],showDelay:[mt.None,"matTooltipShowDelay","showDelay"],hideDelay:[mt.None,"matTooltipHideDelay","hideDelay"],touchGestures:[mt.None,"matTooltipTouchGestures","touchGestures"],message:[mt.None,"matTooltip","message"],tooltipClass:[mt.None,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return n})(),b8e=(()=>{class n{constructor(t,i,r){this._changeDetectorRef=t,this._elementRef=i,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new on,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===r}show(t){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(t?o:r),i.classList.add(t?r:o),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Mi),Ae(kn),Ae(co,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&ki(l8e,7),2&i){let o;Dn(o=Rn())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,r){1&i&&Bt("mouseleave",function(s){return r._handleMouseLeave(s)}),2&i&&Nh("zoom",r.isVisible()?1:null)},standalone:!0,features:[Ui],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,r){if(1&i){const o=Ki();Xe(0,"div",1,0),Bt("animationend",function(a){return fn(o),hn(r._handleAnimationEnd(a))}),Xe(2,"div",2),Yt(3),ot()()}2&i&&(bn("mdc-tooltip--multiline",r._isMultiline),Rt("ngClass",r.tooltipClass),dt(3),Lo(r.message))},dependencies:[xS],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return n})(),_l=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({providers:[u8e],imports:[_5,Vi,b0,cr,cr,n1]})}return n})();function y8e(n,e){1&n&&$R(0)}function v8e(n,e){if(1&n){const t=Ki();Xe(0,"div",4),Bt("click",function(){return fn(t),hn(In().page.cancelRegistration())}),Xe(1,"mat-icon",5),Yt(2,"chevron_left"),ot(),Xe(3,"span",6),Yt(4,"BACK"),ot()()}}function w8e(n,e){if(1&n&&(Xe(0,"a",7),yn(1,"div",8),ot()),2&n){const t=In();Rt("href",t.homeUrl,Lg)("matTooltip",t.logoTooltip)}}let x8e=(()=>{class n{constructor(t){this.page=t,this.clsName="ccf-header"}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(oo))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-header"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},inputs:{homeUrl:"homeUrl",logoTooltip:"logoTooltip"},decls:7,vars:5,consts:[["backButton",""],["logo",""],[4,"ngIf","ngIfThen","ngIfElse"],[1,"filler"],["rel","noreferrer noopener",1,"link","home",3,"click"],[1,"icon","backbutton"],[1,"text"],["rel","noreferrer noopener","matTooltipPosition","right",1,"link","portal",3,"href","matTooltip"],["aria-hidden","false","aria-label","Reset tool",1,"logo"]],template:function(i,r){if(1&i&&(mn(0,y8e,1,0,"ng-container",2),ri(1,"async"),mn(2,v8e,5,0,"ng-template",null,0,Fv)(4,w8e,2,2,"ng-template",null,1,Fv),yn(6,"div",3)),2&i){const o=Ms(3),s=Ms(5);Rt("ngIf",ai(1,3,r.page.useCancelRegistrationCallback$))("ngIfThen",o)("ngIfElse",s)}},dependencies:[ic,wa,Kl,gd],styles:["[_nghost-%COMP%]{display:flex;align-items:center;min-height:4rem;padding:0 1.5rem;border-bottom-width:1px;border-bottom-style:solid}[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{padding:.25rem 0;height:2rem;display:flex;align-items:center;font-weight:lighter;font-size:1.5rem}[_nghost-%COMP%]   .link[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;text-decoration:none;padding:.25rem 0}[_nghost-%COMP%]   .home[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:color .6s}[_nghost-%COMP%]   .home[_ngcontent-%COMP%]   .backbutton[_ngcontent-%COMP%]{font-size:2.25rem;width:2.25rem;height:2.25rem}[_nghost-%COMP%]   .portal[_ngcontent-%COMP%]{height:100%;width:25rem;align-items:center;display:flex}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{width:100%;height:50%;background-repeat:no-repeat;background-size:contain}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1;margin:0}"],changeDetection:0})}return n})();function QZ(n,e){return Va((t,i)=>e?e(t[n],i[n]):t[n]===i[n])}const E8e=["input"],C8e=["formField"],S8e=["*"];let ZZ=0;class eee{constructor(e,t){this.source=e,this.value=t}}const A8e={provide:$s,useExisting:di(()=>j3),multi:!0},tee=new vt("MatRadioGroup"),T8e=new vt("mat-radio-default-options",{providedIn:"root",factory:function M8e(){return{color:"accent"}}});let j3=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=t,this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+ZZ++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new Qt}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new eee(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Mi))};static#t=this.\u0275dir=Zt({type:n,selectors:[["mat-radio-group"]],contentQueries:function(i,r,o){if(1&i&&mr(o,iM,5),2&i){let s;Dn(s=Rn())&&(r._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[mt.HasDecoratorInputTransform,"disabled","disabled",vn],required:[mt.HasDecoratorInputTransform,"required","required",vn]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[ei([A8e,{provide:tee,useExisting:n}]),Hr]})}return n})(),iM=(()=>{class n{get checked(){return this._checked}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(t)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=t}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a,c,l){this._elementRef=i,this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=s,this._providerOverride=c,this._uniqueId="mat-radio-"+ ++ZZ,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new Qt,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===a,l&&(this.tabIndex=Bo(l,0))}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,i)=>{t!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new eee(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let i;if(i=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(tee,8),Ae(kn),Ae(Mi),Ae(ku),Ae(tB),Ae(co,8),Ae(T8e,8),ma("tabindex"))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-radio-button"]],viewQuery:function(i,r){if(1&i&&(ki(E8e,5),ki(C8e,7,kn)),2&i){let o;Dn(o=Rn())&&(r._inputElement=o.first),Dn(o=Rn())&&(r._rippleTrigger=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(i,r){1&i&&Bt("focus",function(){return r._inputElement.nativeElement.focus()}),2&i&&(fi("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),bn("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[mt.None,"aria-label","ariaLabel"],ariaLabelledby:[mt.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[mt.None,"aria-describedby","ariaDescribedby"],disableRipple:[mt.HasDecoratorInputTransform,"disableRipple","disableRipple",vn],tabIndex:[mt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:Bo(t)],checked:[mt.HasDecoratorInputTransform,"checked","checked",vn],value:"value",labelPosition:"labelPosition",disabled:[mt.HasDecoratorInputTransform,"disabled","disabled",vn],required:[mt.HasDecoratorInputTransform,"required","required",vn],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[Hr,Ui],ngContentSelectors:S8e,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,r){if(1&i){const o=Ki();yr(),Xe(0,"div",2,0)(2,"div",3)(3,"div",4),Bt("click",function(a){return fn(o),hn(r._onTouchTargetClick(a))}),ot(),Xe(4,"input",5,1),Bt("change",function(a){return fn(o),hn(r._onInputInteraction(a))}),ot(),Xe(6,"div",6),yn(7,"div",7)(8,"div",8),ot(),Xe(9,"div",9),yn(10,"div",10),ot()(),Xe(11,"label",11),zn(12),ot()()}2&i&&(Rt("labelPosition",r.labelPosition),dt(2),bn("mdc-radio--disabled",r.disabled),dt(2),Rt("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),fi("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),dt(5),Rt("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),dt(2),Rt("for",r.inputId))},dependencies:[sc,Ek],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return n})(),nee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[cr,Vi,Ll,iM,cr]})}return n})();const I8e=["switch"],D8e=["*"];function R8e(n,e){1&n&&(Xe(0,"div",10),Vn(),Xe(1,"svg",12),yn(2,"path",13),ot(),Xe(3,"svg",14),yn(4,"path",15),ot()())}const O8e=new vt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),k8e={provide:$s,useExisting:di(()=>U3),multi:!0};class iee{constructor(e,t){this.source=e,this.checked=t}}let P8e=0,U3=(()=>{class n{_createChangeEvent(t){return new iee(this,t)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a){this._elementRef=t,this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=s,this._onChange=c=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new Qt,this.toggleChange=new Qt,this.tabIndex=parseInt(o)||0,this.color=s.color||"accent",this._noopAnimations="NoopAnimations"===a,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++P8e,this.hideIcon=s.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(t){t.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}validate(t){return this.required&&!0!==t.value?{required:!0}:null}registerOnValidatorChange(t){this._validatorOnChange=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new iee(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn),Ae(ku),Ae(Mi),ma("tabindex"),Ae(O8e),Ae(co,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(1&i&&ki(I8e,5),2&i){let o;Dn(o=Rn())&&(r._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,r){2&i&&(La("id",r.id),fi("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),Ei(r.color?"mat-"+r.color:""),bn("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[mt.None,"aria-label","ariaLabel"],ariaLabelledby:[mt.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[mt.None,"aria-describedby","ariaDescribedby"],required:[mt.HasDecoratorInputTransform,"required","required",vn],color:"color",disabled:[mt.HasDecoratorInputTransform,"disabled","disabled",vn],disableRipple:[mt.HasDecoratorInputTransform,"disableRipple","disableRipple",vn],tabIndex:[mt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:Bo(t)],checked:[mt.HasDecoratorInputTransform,"checked","checked",vn],hideIcon:[mt.HasDecoratorInputTransform,"hideIcon","hideIcon",vn]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[ei([k8e,{provide:os,useExisting:n,multi:!0}]),Hr,br,Ui],ngContentSelectors:D8e,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(1&i){const o=Ki();yr(),Xe(0,"div",1)(1,"button",2,0),Bt("click",function(){return fn(o),hn(r._handleClick())}),yn(3,"div",3),Xe(4,"div",4)(5,"div",5)(6,"div",6),yn(7,"div",7),ot(),Xe(8,"div",8),yn(9,"div",9),ot(),mn(10,R8e,5,0,"div",10),ot()()(),Xe(11,"label",11),Bt("click",function(a){return fn(o),hn(a.stopPropagation())}),zn(12),ot()()}if(2&i){const o=Ms(2);Rt("labelPosition",r.labelPosition),dt(),bn("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),Rt("tabIndex",r.disabled?-1:r.tabIndex)("disabled",r.disabled),fi("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),dt(8),Rt("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),dt(),$i(10,r.hideIcon?-1:10),dt(),Rt("for",r.buttonId),fi("id",r._labelId)}},dependencies:[sc,Ek],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mdc-switch__handle{transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch__track::after,.mdc-switch__track::before{border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.mdc-switch--selected .mdc-switch__track::after,.mdc-switch--selected .mdc-switch__track::before{border-width:var(--mat-switch-selected-track-outline-width)}.mdc-switch--disabled .mdc-switch__track::after,.mdc-switch--disabled .mdc-switch__track::before{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}'],encapsulation:2,changeDetection:0})}return n})(),L8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[U3,cr,cr]})}return n})(),B8e=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-labeled-slide-toggle",this.labels=["Left","Right"],this.value="Left",this.disabled=!1,this.valueChange=new Qt}get left(){const{value:t,labels:i}=this;return t!==i[1]}updateToggle(t){this.value=t?this.labels[0]:this.labels[1],this.ga.event("slide_toggle_toggled","slide_toggle",this.value),this.valueChange.emit(this.value)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Rs))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-labeled-slide-toggle"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},inputs:{labels:"labels",value:"value",disabled:"disabled"},outputs:{valueChange:"valueChange"},decls:6,vars:12,consts:[["toggle",""],[1,"slide-label",3,"click"],["hideIcon","",1,"slider",3,"change","disabled","checked"]],template:function(i,r){if(1&i){const o=Ki();Xe(0,"span",1),Bt("click",function(){fn(o);const a=Ms(3);return r.left||a.toggle(),hn(r.updateToggle(!0))}),Yt(1),ot(),Xe(2,"mat-slide-toggle",2,0),Bt("change",function(a){return fn(o),hn(r.updateToggle(!a.checked))}),ot(),Xe(4,"span",1),Bt("click",function(){fn(o);const a=Ms(3);return r.left&&a.toggle(),hn(r.updateToggle(!1))}),Yt(5),ot()}2&i&&(bn("disabled",r.disabled)("highlighted",r.left),dt(),yo(" ",r.labels[0],"\n"),dt(),Rt("disabled",r.disabled)("checked",!r.left),dt(2),bn("disabled",r.disabled)("highlighted",!r.left),dt(),yo(" ",r.labels[1],"\n"))},dependencies:[U3],styles:["[_nghost-%COMP%]   .slide-label[_ngcontent-%COMP%]{margin:0 1rem;transition:color .6s;cursor:pointer}[_nghost-%COMP%]   .disabled[_ngcontent-%COMP%]{opacity:30%;cursor:not-allowed}"],changeDetection:0})}return n})();const j8e=["label"],U8e=["options"],V8e=()=>["Register","3D\xa0Preview"];let z8e=(()=>{class n{set useDropdownMenu(t){this.isDropdownActive=t,this.isDropdownHidden=!0}get labelEl(){return this.labelRef.nativeElement}get optionsEl(){return this.optionsRef.nativeElement}constructor(t){this.ga=t,this.clsName="ccf-stage-nav",this.side="anterior",this.view3D=!1,this.sideChange=new Qt,this.view3DChange=new Qt,this.isDropdownActive=!1,this.isDropdownHidden=!0}handleClick(t){const{isDropdownHidden:i,labelEl:r,optionsEl:o}=this;r.contains(t)?this.isDropdownHidden=!i:o.contains(t)||(this.isDropdownHidden=!0)}updateSide(t){this.ga.event("side_update","stage_nav",t),"3D"===t?this.updateView(!0):(this.updateView(!1),this.side=t,this.sideChange.emit(this.side))}updateView(t){this.view3D=t,this.ga.event("view_update","stage_nav",t?"3D":"Register"),this.view3DChange.emit(this.view3D)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Rs))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-stage-nav"]],viewQuery:function(i,r){if(1&i&&(ki(j8e,7),ki(U8e,7)),2&i){let o;Dn(o=Rn())&&(r.labelRef=o.first),Dn(o=Rn())&&(r.optionsRef=o.first)}},hostVars:2,hostBindings:function(i,r){1&i&&Bt("click",function(s){return r.handleClick(s.target)},0,Sh),2&i&&Ei(r.clsName)},inputs:{useDropdownMenu:"useDropdownMenu",side:"side",view3D:"view3D"},outputs:{sideChange:"sideChange",view3DChange:"view3DChange"},decls:18,vars:10,consts:[["label",""],["options",""],[1,"dropdown-label"],[1,"stage-options"],[1,"input-group",3,"change","value"],["value","left",1,"nav-input"],["value","right",1,"nav-input"],["value","anterior","checked","",1,"nav-input"],["value","posterior",1,"nav-input"],["matTooltip","Change view.",1,"view-slider",3,"valueChange","labels","value"]],template:function(i,r){if(1&i){const o=Ki();Xe(0,"div",2,0)(2,"mat-label"),Yt(3,"Options"),ot(),Xe(4,"mat-icon"),Yt(5,"arrow_drop_down"),ot()(),Xe(6,"div",3,1)(8,"mat-radio-group",4),Bt("change",function(a){return fn(o),hn(r.updateSide(a.value))}),Xe(9,"mat-radio-button",5),Yt(10,"Left"),ot(),Xe(11,"mat-radio-button",6),Yt(12,"Right"),ot(),Xe(13,"mat-radio-button",7),Yt(14,"Anterior"),ot(),Xe(15,"mat-radio-button",8),Yt(16,"Posterior"),ot()(),Xe(17,"ccf-labeled-slide-toggle",9),Bt("valueChange",function(a){return fn(o),hn(r.updateView("Register"!==a))}),ot()()}2&i&&(bn("dropdown",r.isDropdownActive),dt(6),bn("dropdowncontainer",r.isDropdownActive)("hidden",r.isDropdownActive&&r.isDropdownHidden),dt(2),Rt("value",r.side),dt(9),Rt("labels",Tp(9,V8e))("value",r.view3D?"3D\xa0Preview":"Register"))},dependencies:[j3,iM,zh,wa,B8e,Kl],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap}[_nghost-%COMP%]   .dropdown-label[_ngcontent-%COMP%]{display:none;align-items:center}[_nghost-%COMP%]   .dropdown-label[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .dropdown-label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:1.5rem}[_nghost-%COMP%]   .dropdown-label.dropdown[_ngcontent-%COMP%]{display:flex;cursor:pointer;align-items:start}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .nav-input[_ngcontent-%COMP%]{margin-right:1rem;margin-bottom:1.5rem}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]     .mdc-label{font-size:1.25rem}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]{white-space:nowrap;display:flex}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]     .slider{display:flex}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]     .slide-label{font-size:1.25rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:.25rem;position:absolute;top:3.5rem;z-index:11;transition:opacity .25s}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{margin-top:.5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{margin-bottom:.5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin-left:.875rem;margin-right:0;display:flex;flex-wrap:wrap}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .nav-input[_ngcontent-%COMP%]{display:flex;margin:0;margin-right:.875rem;height:2.5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .nav-input[_ngcontent-%COMP%]     .mdc-label{padding-left:0}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;margin:0 .5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{visibility:visible;border-top:2px solid}[_nghost-%COMP%]   .stage-options.hidden[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transition:visibility .25s,opacity .25s}[_nghost-%COMP%]   .stage-options.hidden[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0})}return n})();function H8e(n,e){if(1&n&&(Xe(0,"mat-icon",8),Yt(1),ot()),2&n){const t=e.$implicit;bn("active",In().currentKey===t.key),dt(),yo("",t.direction," ")}}function G8e(n,e){1&n&&(Xe(0,"div",9),Yt(1,"SHIFT"),ot())}let W8e=(()=>{class n{constructor(){this.className="ccf-spatial-search-keyboard-ui",this.keyClicked=new Qt,this.keyHovered=new Qt,this.keyMap=[{key:"w",direction:"north"},{key:"s",direction:"south"},{key:"a",direction:"west"},{key:"d",direction:"east"},{key:"e",direction:"north_east"},{key:"q",direction:"south_west"}]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-spatial-search-keyboard-ui"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.className)},inputs:{currentKey:"currentKey",shiftPressed:"shiftPressed"},outputs:{keyClicked:"keyClicked",keyHovered:"keyHovered"},decls:18,vars:14,consts:[[1,"direction-arrow"],["class","arrow",3,"active",4,"ngFor","ngForOf"],[1,"keys"],[1,"keyrow"],[1,"key","blue",3,"mousedown","mouseover","mouseout"],[1,"key","green",3,"mousedown","mouseover","mouseout"],[1,"key","red",3,"mousedown","mouseover","mouseout"],["class","shift",4,"ngIf"],[1,"arrow"],[1,"shift"]],template:function(i,r){1&i&&(Xe(0,"div",0),mn(1,H8e,2,3,"mat-icon",1),ot(),Xe(2,"div",2)(3,"div",3)(4,"div",4),Bt("mousedown",function(){return r.keyClicked.emit("q")})("mouseover",function(){return r.keyHovered.emit("q")})("mouseout",function(){return r.keyHovered.emit()}),Yt(5," Q "),ot(),Xe(6,"div",5),Bt("mousedown",function(){return r.keyClicked.emit("w")})("mouseover",function(){return r.keyHovered.emit("w")})("mouseout",function(){return r.keyHovered.emit()}),Yt(7," W "),ot(),Xe(8,"div",4),Bt("mousedown",function(){return r.keyClicked.emit("e")})("mouseover",function(){return r.keyHovered.emit("e")})("mouseout",function(){return r.keyHovered.emit()}),Yt(9," E "),ot()(),Xe(10,"div",3)(11,"div",6),Bt("mousedown",function(){return r.keyClicked.emit("a")})("mouseover",function(){return r.keyHovered.emit("a")})("mouseout",function(){return r.keyHovered.emit()}),Yt(12," A "),ot(),Xe(13,"div",5),Bt("mousedown",function(){return r.keyClicked.emit("s")})("mouseover",function(){return r.keyHovered.emit("s")})("mouseout",function(){return r.keyHovered.emit()}),Yt(14," S "),ot(),Xe(15,"div",6),Bt("mousedown",function(){return r.keyClicked.emit("d")})("mouseover",function(){return r.keyHovered.emit("d")})("mouseout",function(){return r.keyHovered.emit()}),Yt(16," D "),ot()(),mn(17,G8e,2,0,"div",7),ot()),2&i&&(dt(),Rt("ngForOf",r.keyMap),dt(3),bn("highlighted","q"===r.currentKey),dt(2),bn("highlighted","w"===r.currentKey),dt(2),bn("highlighted","e"===r.currentKey),dt(3),bn("highlighted","a"===r.currentKey),dt(2),bn("highlighted","s"===r.currentKey),dt(2),bn("highlighted","d"===r.currentKey),dt(2),Rt("ngIf",r.shiftPressed))},dependencies:[rl,ic,wa],styles:["[_nghost-%COMP%]   .direction-arrow[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,.5fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;margin-bottom:1rem;width:7rem}[_nghost-%COMP%]   .direction-arrow[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{grid-area:1/3/2/4;opacity:0;transition:.5s}[_nghost-%COMP%]   .direction-arrow[_ngcontent-%COMP%]   .arrow.active[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:0;gap:.5rem;width:7rem;height:7rem;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]   .keyrow[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:0;gap:.5rem}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]   .keyrow[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:.25rem;width:2rem;height:2rem;border:2px solid;border-radius:.5rem;cursor:pointer}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]   .shift[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:.25rem;width:7rem;height:2rem;border:2px solid;border-radius:.5rem}"],changeDetection:0})}return n})(),$8e=(()=>{class n{constructor(){this.className="ccf-spatial-search-keyboard-ui-behavior",this.delta=1,this.shiftDelta=2,this.disablePositionChange=!1,this.changePosition=new Qt,this.shiftPressed=!1}updatePosition(t){if(this.currentDelta=this.shiftPressed?this.shiftDelta:this.delta,"Shift"===t)this.shiftPressed=!0;else{switch(this.currentKey=t.toLowerCase(),this.currentKey){case"q":this.position={...this.position,z:this.position.z+this.currentDelta};break;case"e":this.position={...this.position,z:this.position.z-this.currentDelta};break;case"w":this.position={...this.position,y:this.position.y+this.currentDelta};break;case"s":this.position={...this.position,y:this.position.y-this.currentDelta};break;case"a":this.position={...this.position,x:this.position.x-this.currentDelta};break;case"d":this.position={...this.position,x:this.position.x+this.currentDelta}}this.changePosition.emit(this.position)}}handleKey(t){this.disablePositionChange||(t.preventDefault(),this.updatePosition(t.key))}keyUp(t){"Shift"===t.key?this.shiftPressed=!1:this.currentKey=void 0}keyClick(t){this.updatePosition(t)}keyHover(t){this.currentKey=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-spatial-search-keyboard-ui-behavior"]],hostVars:2,hostBindings:function(i,r){1&i&&Bt("keydown",function(s){return r.handleKey(s)},0,Sh)("keyup",function(s){return r.keyUp(s)},!1,Sh),2&i&&Ei(r.className)},inputs:{delta:"delta",shiftDelta:"shiftDelta",position:"position",disablePositionChange:"disablePositionChange"},outputs:{changePosition:"changePosition"},decls:1,vars:2,consts:[[3,"keyClicked","keyHovered","currentKey","shiftPressed"]],template:function(i,r){1&i&&(Xe(0,"ccf-spatial-search-keyboard-ui",0),Bt("keyClicked",function(s){return r.keyClick(s)})("keyHovered",function(s){return r.keyHover(s)}),ot()),2&i&&Rt("currentKey",r.currentKey)("shiftPressed",r.shiftPressed)},dependencies:[W8e],encapsulation:2,changeDetection:0})}return n})();const ree=()=>[];function q8e(n,e){if(1&n){const t=Ki();Xe(0,"ccf-body-ui",17),ri(1,"async"),ri(2,"async"),ri(3,"async"),Bt("rotationChange",function(r){fn(t),In();const o=Ms(13);return o.rotation=r[0],hn(o.rotationX=r[1])}),ot()}if(2&n){let t,i;const r=In();Rt("scene",null!==(t=ai(1,5,r.scene.nodes$))&&void 0!==t?t:Tp(11,ree))("rotation",null!==(i=ai(2,7,r.scene.rotation$))&&void 0!==i?i:0)("bounds",ai(3,9,r.bounds$))("zoom",11.5)("interactive",!0)}}function Y8e(n,e){if(1&n){const t=Ki();Xe(0,"ccf-body-ui",18),ri(1,"async"),ri(2,"async"),Bt("nodeDrag",function(r){return fn(t),hn(In().handleNodeDrag(r))}),ot()}if(2&n){let t;const i=In();Rt("scene",null!==(t=ai(1,4,i.scene.rotatedNodes$))&&void 0!==t?t:Tp(8,ree))("interactive",!1)("bounds",ai(2,6,i.bounds$))("zoom",11.5)}}function X8e(n,e){if(1&n&&(yn(0,"ccf-spatial-search-keyboard-ui-behavior",19),ri(1,"async")),2&n){const t=In();Rt("delta",1)("shiftDelta",2)("position",ai(1,4,t.position$))("disablePositionChange",t.disablePositionChange)}}function K8e(n,e){1&n&&yn(0,"ccf-store-debug",20)}function J8e(n,e){if(1&n){const t=Ki();Xe(0,"div",21)(1,"button",22),Bt("click",function(){fn(t);const r=In();return hn(r.debugMode=!r.debugMode)}),Yt(2,"State"),ot(),Xe(3,"button",23),Bt("click",function(){return fn(t),hn(In().registration.setUseRegistrationCallback(!0))}),Yt(4,"Use callback"),ot(),Xe(5,"button",23),Bt("click",function(){return fn(t),hn(In().registration.setUseRegistrationCallback(!1))}),Yt(6,"Use download"),ot()()}}let Q8e=(()=>{class n{constructor(t,i,r,o,s,a){this.model=t,this.page=i,this.registration=r,this.scene=o,this.rootRef=s,this.cdr=a,this.clsName="ccf-content",this.disablePositionChange=!1,this.position$=this.model.position$.pipe(Vt(c=>({x:Math.floor(c.x),y:Math.floor(c.y),z:Math.floor(c.z)}))),this.is3DView$=this.model.viewType$.pipe(Vt(c=>"3d"===c)),this.bounds$=this.model.organDimensions$.pipe(Vt(c=>({x:Math.max(c.x,this.model.defaultPosition.x+40)/1e3,y:Math.max(c.y,this.model.defaultPosition.y+40)/1e3,z:Math.max(c.z,this.model.defaultPosition.z+40)/1e3})),QZ("x"),QZ("y")),this.isNarrowView=!1,this.debugMode=!1,this.showDebugButtons=!1}ngOnInit(){this.sensor=new ZFe.ResizeSensor(this.rootRef.nativeElement,({width:t})=>{const i=t<440;this.isNarrowView!==i&&(this.isNarrowView=i,this.cdr.markForCheck())})}ngOnDestroy(){this.sensor.detach()}setViewType(t){this.model.setViewType(t?"3d":"register")}resetStage(){this.registration.snapshot.initialRegistration?this.registration.setToInitialRegistration():this.model.setOrganDefaults(),this.model.setViewSide("anterior"),this.model.setViewType("register")}handleNodeDrag(t){if("#DraftPlacement"===t.node["@id"]&&t.info.coordinate){const[i,r]=t.info.coordinate.map(d=>1e3*d),{position:o,viewSide:s,organDimensions:a}=this.model.snapshot,c=[a.x,a.y,a.z].map(d=>d/2);let l=o;switch(s){case"anterior":l={x:i+c[0],y:r+c[1],z:o.z};break;case"posterior":l={x:-i+c[0],y:r+c[1],z:o.z};break;case"left":l={x:o.x,y:r+c[1],z:-i+c[2]};break;case"right":l={x:o.x,y:r+c[1],z:i+c[2]}}this.model.setPosition(l)}}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(xr),Ae(oo),Ae(Eo),Ae(Ia),Ae(kn),Ae(Mi))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-content"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},inputs:{disablePositionChange:"disablePositionChange"},decls:31,vars:37,consts:[["gizmo",""],[1,"top-bar"],[3,"view3DChange","sideChange","useDropdownMenu","view3D","side"],["matRipple","","matRippleColor","rgba(204, 204, 204, 0.25)",1,"icon","reset",3,"click","matRippleCentered","matRippleUnbounded"],[1,"main-content"],["class","body-ui","camera","perspective",3,"scene","rotation","bounds","zoom","interactive","rotationChange",4,"ngIf"],["class","body-ui","camera","orthographic",3,"scene","interactive","bounds","zoom","nodeDrag",4,"ngIf"],[1,"gizmo-area"],[1,"gizmo",3,"scene","rotation","interactive","zoom"],[3,"delta","shiftDelta","position","disablePositionChange",4,"ngIf"],[1,"position-display"],[1,"position"],[1,"x"],[1,"y"],[1,"z"],["class","debug",4,"ngIf"],["style","\n    position: absolute;\n    bottom: 1rem;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    width: 7rem;\n  ",4,"ngIf"],["camera","perspective",1,"body-ui",3,"rotationChange","scene","rotation","bounds","zoom","interactive"],["camera","orthographic",1,"body-ui",3,"nodeDrag","scene","interactive","bounds","zoom"],[3,"delta","shiftDelta","position","disablePositionChange"],[1,"debug"],[2,"position","absolute","bottom","1rem","display","flex","flex-direction","row","justify-content","space-between","width","7rem"],[2,"width","3rem","font-size","0.7rem",3,"click"],[3,"click"]],template:function(i,r){if(1&i){const o=Ki();Xe(0,"div",1)(1,"ccf-stage-nav",2),ri(2,"async"),ri(3,"async"),Bt("view3DChange",function(a){return fn(o),hn(r.setViewType(a))})("sideChange",function(a){return fn(o),hn(r.model.setViewSide(a))}),ot(),Xe(4,"mat-icon",3),Bt("click",function(){return fn(o),hn(r.resetStage())}),Yt(5,"refresh"),ot()(),Xe(6,"div",4),mn(7,q8e,4,12,"ccf-body-ui",5),ri(8,"async"),mn(9,Y8e,3,9,"ccf-body-ui",6),ri(10,"async"),Xe(11,"div",7),yn(12,"ccf-body-ui",8,0),ri(14,"async"),ri(15,"async"),mn(16,X8e,2,6,"ccf-spatial-search-keyboard-ui-behavior",9),ri(17,"async"),Xe(18,"div",10)(19,"div",11)(20,"div",12),Yt(21),ri(22,"async"),ot(),Xe(23,"div",13),Yt(24),ri(25,"async"),ot(),Xe(26,"div",14),Yt(27),ri(28,"async"),ot()()()()(),mn(29,K8e,1,0,"ccf-store-debug",15)(30,J8e,7,0,"div",16)}if(2&i){let o,s,a,c,l;dt(),Rt("useDropdownMenu",r.isNarrowView)("view3D",null!==(o=ai(2,17,r.is3DView$))&&void 0!==o&&o)("side",ai(3,19,r.model.viewSide$)),dt(3),Rt("matRippleCentered",!0)("matRippleUnbounded",!0),dt(3),Rt("ngIf","3d"===ai(8,21,r.model.viewType$)),dt(2),Rt("ngIf","register"===ai(10,23,r.model.viewType$)),dt(3),Rt("scene",ai(14,25,r.scene.gizmo$))("rotation",null!==(s=ai(15,27,r.scene.rotation$))&&void 0!==s?s:0)("interactive",!1)("zoom",9.5),dt(4),Rt("ngIf",ai(17,29,r.page.registrationStarted$)),dt(5),yo("X: ",null==(a=ai(22,31,r.position$))?null:a.x,""),dt(3),yo("Y: ",null==(c=ai(25,33,r.position$))?null:c.y,""),dt(3),yo("Z: ",null==(l=ai(28,35,r.position$))?null:l.z,""),dt(2),Rt("ngIf",r.showDebugButtons&&r.debugMode),dt(),Rt("ngIf",r.showDebugButtons)}},dependencies:[ic,z8e,wa,PNe,sc,$8e,E2e,gd],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;padding:.5rem;overflow:hidden}[_nghost-%COMP%]   .top-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .top-bar[_ngcontent-%COMP%]   .reset[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s;font-size:2rem;height:2rem;width:2rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .minimap-scene[_ngcontent-%COMP%]{margin:1.5rem;width:12.75rem;height:11rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .minimap-scene[_ngcontent-%COMP%]     .body-ui{background-color:#232f3a}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   ccf-spatial-search-keyboard-ui-behavior[_ngcontent-%COMP%]{margin:1.5rem;display:flex;justify-content:center}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   ccf-xyz-position[_ngcontent-%COMP%]{margin:1.5rem;padding-left:5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]{display:flex;height:calc(100% - 1rem)}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .body-ui[_ngcontent-%COMP%]{flex:auto;transition:opacity 1s}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]{width:7rem;margin-top:1.5rem;margin-left:1.5rem;z-index:10;right:1.5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]   .position-display[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1.5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]   .gizmo[_ngcontent-%COMP%]{height:5.5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]   .gizmo[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{opacity:0;z-index:0}[_nghost-%COMP%]   .ccf-store-debug[_ngcontent-%COMP%]{color:#fff;position:absolute;top:.5rem;max-width:55rem}"],changeDetection:0})}return n})(),oee=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=yd(t)}get inset(){return this._inset}set inset(t){this._inset=yd(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){2&i&&(fi("aria-orientation",r.vertical?"vertical":"horizontal"),bn("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[Ui],decls:0,vars:0,template:function(i,r){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return n})(),V3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[cr,cr]})}return n})();const Z8e=["trigger"],e5e=["panel"],t5e=[[["mat-select-trigger"]],"*"],n5e=["mat-select-trigger","*"];function i5e(n,e){if(1&n&&(Xe(0,"span",4),Yt(1),ot()),2&n){const t=In();dt(),Lo(t.placeholder)}}function r5e(n,e){1&n&&zn(0)}function o5e(n,e){if(1&n&&(Xe(0,"span",11),Yt(1),ot()),2&n){const t=In(2);dt(),Lo(t.triggerValue)}}function s5e(n,e){if(1&n&&(Xe(0,"span",10),mn(1,r5e,1,0)(2,o5e,2,1),ot()),2&n){const t=In();dt(),$i(1,t.customTrigger?1:2)}}function a5e(n,e){if(1&n){const t=Ki();Xe(0,"div",12,1),Bt("@transformPanel.done",function(r){return fn(t),hn(In()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return fn(t),hn(In()._handleKeydown(r))}),zn(2,1),ot()}if(2&n){const t=In();(function ZV(n,e,t){kl(Oa,pd,Qg(Lt(),n,e,t),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),Rt("ngClass",t.panelClass)("@transformPanel","showing"),fi("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const c5e={transformPanelWrap:sl("transformPanelWrap",[Ds("* => void",lk("@transformPanel",[ck()],{optional:!0}))]),transformPanel:sl("transformPanel",[jo("void",ar({opacity:0,transform:"scale(1, 0.8)"})),Ds("void => showing",Is("120ms cubic-bezier(0, 0, 0.2, 1)",ar({opacity:1,transform:"scale(1, 1)"}))),Ds("* => void",Is("100ms linear",ar({opacity:0})))])};let see=0;const aee=new vt("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=kt(ms);return()=>n.scrollStrategies.reposition()}}),d5e=new vt("MAT_SELECT_CONFIG"),u5e={provide:aee,deps:[ms],useFactory:function l5e(n){return()=>n.scrollStrategies.reposition()}},h5e=new vt("MatSelectTrigger");class f5e{constructor(e,t){this.source=e,this.value=t}}let cee=(()=>{class n{_scrollOptionIntoView(t){const i=this.options.toArray()[t];if(i){const r=this.panel.nativeElement,o=A5(t,this.options,this.optionGroups),s=i._getHostElement();r.scrollTop=0===t&&1===o?0:T5(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new f5e(this,t)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(fm.required)??!1}set required(t){this._required=t,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=t}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,i,r,o,s,a,c,l,d,h,f,m,g,v){this._viewportRuler=t,this._changeDetectorRef=i,this._elementRef=s,this._dir=a,this._parentFormField=d,this.ngControl=h,this._liveAnnouncer=g,this._defaultOptions=v,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(E,L)=>E===L,this._uid="mat-select-"+see++,this._triggerAriaLabelledBy=null,this._destroy=new on,this.stateChanges=new on,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+see++,this._panelDoneAnimatingStream=new on,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new on,this.optionSelectionChanges=_m(()=>{const E=this.options;return E?E.changes.pipe(ps(E),Fr(()=>Us(...E.map(L=>L.onSelectionChange)))):this._initialized.pipe(Fr(()=>this.optionSelectionChanges))}),this.openedChange=new Qt,this._openedStream=this.openedChange.pipe(Ai(E=>E),Vt(()=>{})),this._closedStream=this.openedChange.pipe(Ai(E=>!E),Vt(()=>{})),this.selectionChange=new Qt,this.valueChange=new Qt,this._trackedModal=null,this._skipPredicate=E=>!this.panelOpen&&E.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=v?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=v.typeaheadDebounceInterval),this._errorStateTracker=new jS(o,h,l,c,this.stateChanges),this._scrollStrategyFactory=m,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(f)||0,this.id=this.id}ngOnInit(){this._selectionModel=new RLe(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Va(),Ii(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Ii(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Ii(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(ps(null),Ii(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const i=`${this.id}-panel`;this._trackedModal&&y_(this._trackedModal,"aria-owns",i),PS(t,"aria-owns",i),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(y_(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,s=this._keyManager;if(!s.isTyping()&&o&&!rc(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;s.onKeydown(t);const c=this.selected;c&&a!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,o=40===r||38===r,s=i.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(s||13!==r&&32!==r||!i.activeItem||rc(t))if(!s&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const a=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(a?c.select():c.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(t),this._multiple&&o&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(vr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_getOverlayWidth(t){return"auto"===this.panelWidth?(t instanceof kk?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new o5(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Us(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ii(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Us(...this.options.map(i=>i._stateChanges)).pipe(Ii(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){t=i;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(t1),Ae(Mi),Ae(_n),Ae(US),Ae(kn),Ae(Fl,8),Ae(mm,8),Ae(fb,8),Ae(a0,8),Ae(Hl,10),ma("tabindex"),Ae(aee),Ae(f5),Ae(d5e,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(1&i&&(mr(o,h5e,5),mr(o,s0,5),mr(o,vk,5)),2&i){let s;Dn(s=Rn())&&(r.customTrigger=s.first),Dn(s=Rn())&&(r.options=s),Dn(s=Rn())&&(r.optionGroups=s)}},viewQuery:function(i,r){if(1&i&&(ki(Z8e,5),ki(e5e,5),ki(NG,5)),2&i){let o;Dn(o=Rn())&&(r.trigger=o.first),Dn(o=Rn())&&(r.panel=o.first),Dn(o=Rn())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&Bt("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(fi("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),bn("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[mt.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[mt.HasDecoratorInputTransform,"disabled","disabled",vn],disableRipple:[mt.HasDecoratorInputTransform,"disableRipple","disableRipple",vn],tabIndex:[mt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:Bo(t)],hideSingleSelectionIndicator:[mt.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",vn],placeholder:"placeholder",required:[mt.HasDecoratorInputTransform,"required","required",vn],multiple:[mt.HasDecoratorInputTransform,"multiple","multiple",vn],disableOptionCentering:[mt.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",vn],compareWith:"compareWith",value:"value",ariaLabel:[mt.None,"aria-label","ariaLabel"],ariaLabelledby:[mt.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[mt.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",Bo],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[ei([{provide:GS,useExisting:n},{provide:yk,useExisting:n}]),Hr,br,Ui],ngContentSelectors:n5e,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(1&i){const o=Ki();yr(t5e),Xe(0,"div",2,0),Bt("click",function(){return fn(o),hn(r.open())}),Xe(3,"div",3),mn(4,i5e,2,1,"span",4)(5,s5e,3,1),ot(),Xe(6,"div",5)(7,"div",6),Vn(),Xe(8,"svg",7),yn(9,"path",8),ot()()()(),mn(10,a5e,3,9,"ng-template",9),Bt("backdropClick",function(){return fn(o),hn(r.close())})("attach",function(){return fn(o),hn(r._onAttached())})("detach",function(){return fn(o),hn(r.close())})}if(2&i){const o=Ms(1);dt(3),fi("id",r._valueId),dt(),$i(4,r.empty?4:5),dt(6),Rt("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[kk,NG,xS],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[c5e.transformPanel]},changeDetection:0})}return n})(),z3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({providers:[u5e],imports:[Vi,b0,M5,cr,n1,Gh,M5,cr]})}return n})();function p5e(n,e){if(1&n&&(Xe(0,"mat-option",5),Yt(1),ot()),2&n){const t=e.$implicit;Rt("value",t),dt(),XC(" ",t.name," (",t.sites.length,") ")}}function m5e(n,e){if(1&n){const t=Ki();Xe(0,"mat-form-field",1)(1,"mat-label",2),Yt(2,"Landmark Set"),ot(),Xe(3,"mat-select",3),Bt("selectionChange",function(r){return fn(t),hn(In().extractionSetChanged(r.value))}),mn(4,p5e,2,3,"mat-option",4),ot()()}if(2&n){const t=In();dt(3),Rt("value",t.sets[0]),dt(),Rt("ngForOf",t.sets)}}let g5e=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-extraction-set-dropdown",this.setChange=new Qt}extractionSetChanged(t){this.selected=t,this.ga.event("selected_extraction_set_change","extraction_set_dropdown",t.name),this.setChange.emit(t)}isMultiple(){return this.sets.length>1}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Rs))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-extraction-set-dropdown"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},inputs:{sets:"sets"},outputs:{setChange:"setChange"},decls:1,vars:1,consts:[["class","dropdown-form-field","appearance","fill",4,"ngIf"],["appearance","fill",1,"dropdown-form-field"],[1,"extraction-dropdown-label"],["disableOptionCentering","true","panelClass","extraction-set-panel",3,"selectionChange","value"],["class","extraction-set-options",3,"value",4,"ngFor","ngForOf"],[1,"extraction-set-options",3,"value"]],template:function(i,r){1&i&&mn(0,m5e,5,2,"mat-form-field",0),2&i&&Rt("ngIf",r.isMultiple())},dependencies:[rl,ic,Hh,zh,cee,s0],styles:[".extraction-set-panel{position:absolute!important;box-shadow:0 0 .3rem .1rem #9e9e9e!important;top:-3.5rem}  .extraction-set-panel .extraction-set-options{height:2.5rem;min-height:inherit}[_nghost-%COMP%]     .mat-mdc-form-field{width:10.5rem}[_nghost-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper{padding:0}  .cdk-overlay-pane{min-width:0rem!important}"],changeDetection:0})}return n})(),_5e=(()=>{class n{constructor(){this.clsName="ccf-opacity-slider",this.opacity=20,this.visible=!0,this.opacityChange=new Qt,this.visibilityToggle=new Qt,this.opacityReset=new Qt,this.sliderChanged=new Qt}ngOnInit(){this.prevOpacity=this.visible?0:20}reset(){this.prevOpacity=20}toggleVisibility(){const t=this.opacity;this.opacity=this.prevOpacity,this.prevOpacity=t,this.visibilityToggle.emit(),this.opacityChange.emit(this.opacity)}resetOpacity(){this.prevOpacity=0,this.opacityReset.emit()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-opacity-slider"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},inputs:{opacity:"opacity",visible:"visible"},outputs:{opacityChange:"opacityChange",visibilityToggle:"visibilityToggle",opacityReset:"opacityReset",sliderChanged:"sliderChanged"},decls:12,vars:18,consts:[["slider",""],[1,"slider-box"],[1,"slider-and-label"],[1,"slider",3,"step","min","max","disableRipple"],["matSliderThumb","",1,"opacity-slider",3,"input","value"],[1,"opacity-value"],[1,"icons"],["matRipple","","svgIcon","app:visibility_off",1,"visibility","icon","invisible",3,"click","matRippleCentered","matRippleUnbounded"],["matRipple","","svgIcon","app:visibility_on",1,"visibility","icon","visible",3,"click","matRippleCentered","matRippleUnbounded"],["matRipple","",1,"icon","reset",3,"click","matRippleCentered","matRippleUnbounded"]],template:function(i,r){if(1&i){const o=Ki();Xe(0,"div",1)(1,"div",2)(2,"mat-slider",3)(3,"input",4,0),Bt("input",function(){fn(o);const a=Ms(4);return hn(r.opacityChange.emit(+a.value))}),ot()(),Xe(5,"span",5),Yt(6),ot()(),Xe(7,"div",6)(8,"mat-icon",7),Bt("click",function(){return fn(o),hn(r.toggleVisibility())}),ot(),Xe(9,"mat-icon",8),Bt("click",function(){return fn(o),hn(r.toggleVisibility())}),ot(),Xe(10,"mat-icon",9),Bt("click",function(){return fn(o),hn(r.resetOpacity())}),Yt(11,"refresh"),ot()()()}2&i&&(dt(2),bn("disabled",!r.visible),Rt("step",1)("min",0)("max",100)("disableRipple",!0),dt(),Rt("value",r.opacity),dt(3),yo("",r.opacity,"%"),dt(2),bn("hidden",r.opacity>0),Rt("matRippleCentered",!0)("matRippleUnbounded",!0),dt(),bn("hidden",0===r.opacity),Rt("matRippleCentered",!0)("matRippleUnbounded",!0),dt(),Rt("matRippleCentered",!0)("matRippleUnbounded",!0))},dependencies:[wa,CK,uT,sc],styles:["[_nghost-%COMP%]{height:2.25rem;display:flex;align-items:center;justify-content:space-between;border-radius:.1875rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:space-between;height:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]{width:60%;display:flex;align-items:center;height:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   mat-slider.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]     mat-slider-visual-thumb{transition:none}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]     .mat-ripple{display:none}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   .opacity-value[_ngcontent-%COMP%]{width:1.5rem;margin-left:.5rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;cursor:pointer!important}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .reset[_ngcontent-%COMP%]{margin-right:1rem;padding:.25rem;cursor:pointer;transition:.6s;border-radius:.25rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .visibility[_ngcontent-%COMP%]{transition:.6s;cursor:pointer;padding:.25rem;border-radius:.25rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .visibility.hidden[_ngcontent-%COMP%]{display:none}"],changeDetection:0})}return n})();function b5e(n,e){if(1&n){const t=Ki();Xe(0,"mat-icon",2),Bt("click",function(){return fn(t),hn(In().setAllOpacity(20))}),Yt(1,"refresh"),ot()}2&n&&Rt("matRippleCentered",!0)("matRippleUnbounded",!0)}function y5e(n,e){if(1&n){const t=Ki();Xe(0,"div",3),Bt("mouseenter",function(){const r=fn(t).$implicit;return hn(In().mouseOver(r))})("mouseleave",function(){return fn(t),hn(In().mouseOut())}),yn(1,"mat-icon",4),Xe(2,"div",5),Yt(3),ot(),Xe(4,"div",6)(5,"ccf-opacity-slider",7),Bt("opacityChange",function(r){return fn(t),hn(In().updateOpacity(r))})("opacityReset",function(){return fn(t),hn(In().resetItem())})("visibilityToggle",function(){const r=fn(t).$implicit;return hn(In().toggleVisibility(r))}),ot()()()}if(2&n){let t;const i=e.$implicit,r=In();bn("selected",!!r.selection&&r.getId(0,r.selection)===r.getId(0,i)),dt(),bn("fade",!i.visible),dt(),bn("hidden",i.id===(null==r.selection?null:r.selection.id)),YC("title",i.name),dt(),Lo(i.name),dt(),bn("visible",i.id===(null==r.selection?null:r.selection.id))("hidden",i.id!==(null==r.selection?null:r.selection.id)),dt(),Rt("opacity",r.selection&&null!==(t=null==r.selection?null:r.selection.opacity)&&void 0!==t?t:20)}}let v5e=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-visibility-menu",this.hover=new Qt,this.itemsChange=new Qt}toggleVisibility(t){t={...t,visible:!t.visible},this.selection&&t.id===this.selection.id&&(this.selection={...this.selection,visible:t.visible}),this.ga.event("visibility_toggled","visibility_menu",""+t.id,+t.visible),this.updateOpacity(t.opacity)}mouseOver(t){this.selection=t===this.selection?void 0:t,this.hover.emit(t)}mouseOut(){this.selection=void 0,this.hover.emit(void 0)}updateOpacity(t){if(!this.selection)return;const i={...this.selection,opacity:t};this.selection=i,"all"===i.id?this.setAllOpacity(i.opacity):(this.items=this.items.map(r=>r.id===i.id?i:r),this.ga.event("opacity_update","visibility_menu",""+i.id,i.opacity)),this.itemsChange.emit(this.items)}resetItem(){if(this.selection){const t={...this.selection,opacity:20,visible:!0};this.selection=t,"all"===this.selection.id?this.setAllOpacity(t.opacity):(this.items=this.items.map(i=>i.id===t.id?t:i),this.ga.event("item_reset","visibility_menu",""+t.id)),this.itemsChange.emit(this.items)}}setAllOpacity(t){this.items=this.items.map(i=>({...i,opacity:t,visible:!0})),this.ga.event("all_items_opacity_update","visibility_menu",void 0,t),this.itemsChange.emit(this.items)}getId(t,i){return i.id}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Rs))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-visibility-menu"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},inputs:{items:"items",selection:"selection"},outputs:{hover:"hover",itemsChange:"itemsChange"},decls:2,vars:3,consts:[["class","icon reset","matRipple","",3,"matRippleCentered","matRippleUnbounded","click",4,"ngIf"],["class","item-entry",3,"selected","mouseenter","mouseleave",4,"ngFor","ngForOf","ngForTrackBy"],["matRipple","",1,"icon","reset",3,"click","matRippleCentered","matRippleUnbounded"],[1,"item-entry",3,"mouseenter","mouseleave"],["svgIcon","app:opacity",1,"opacity-icon"],[1,"item-name",3,"title"],[1,"slider"],[3,"opacityChange","opacityReset","visibilityToggle","opacity"]],template:function(i,r){1&i&&mn(0,b5e,2,2,"mat-icon",0)(1,y5e,6,13,"div",1),2&i&&(Rt("ngIf",r.items.length),dt(),Rt("ngForOf",r.items)("ngForTrackBy",r.getId))},dependencies:[rl,ic,wa,sc,_5e],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;margin-right:0;margin-left:0;max-height:40vh;overflow-y:auto;scrollbar-width:thin}[_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{border-radius:.25rem}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s;position:absolute;top:3rem}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]{display:flex;height:2.25rem;align-items:center;flex-shrink:0;position:relative}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .opacity[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .opacity-icon[_ngcontent-%COMP%]{z-index:1;transition:.6s}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .opacity-icon[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-left:.5rem;opacity:1;transition-duration:.4s;transition-timing-function:ease-in-out;transition-property:opacity;max-width:calc(100% - 2.5rem)}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .item-name.hidden[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{width:calc(100% - 2rem);transition-duration:.3s;transition-timing-function:ease-in-out;transition-property:opacity;left:2rem;position:absolute;opacity:1}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .slider.hidden[_ngcontent-%COMP%]{opacity:0;transition-duration:.1s;transition-timing-function:ease-in-out;transition-property:opacity}"],changeDetection:0})}return n})();const w5e=()=>[];function x5e(n,e){if(1&n){const t=Ki();Xe(0,"div",6)(1,"ccf-extraction-set-dropdown",12,0),ri(3,"async"),Bt("setChange",function(r){return fn(t),hn(In().model.setExtractionSites(r.sites))}),ot(),Xe(4,"ccf-visibility-menu",13),ri(5,"async"),Bt("itemsChange",function(r){return fn(t),hn(In().model.setExtractionSites(r))})("hover",function(r){return fn(t),hn(In().updateExtractionSiteTooltip(r))}),ot()()}if(2&n){const t=In();dt(),Rt("sets",ai(3,2,t.model.extractionSets$)),dt(3),Rt("items",ai(5,4,t.model.extractionSites$))}}function E5e(n,e){if(1&n&&(Xe(0,"div",14),Yt(1),ot()),2&n){const t=In();dt(),yo(" ",t.extractionSiteTooltip," ")}}let C5e=(()=>{class n{constructor(t,i,r){this.page=t,this.model=i,this.registration=r,this.clsName="ccf-left-sidebar",this.modalClosed=!1,this.organSelected$=this.model.organ$.pipe(Vt(o=>void 0!==o)),this.extractionSiteTooltip=""}updateExtractionSiteTooltip(t){this.extractionSiteTooltip=t?.tooltip?t.tooltip:""}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(oo),Ae(xr),Ae(Eo))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-left-sidebar"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},inputs:{modalClosed:"modalClosed"},decls:19,vars:14,consts:[["dropdown",""],[1,"scroll-wrapper"],[1,"container"],[1,"anatomical-structures-menu",3,"expanded"],[1,"expansion-header"],["matTooltip","Use opacity icons to change visibility of anatomical structures",1,"expansion-title"],[1,"expansion-content"],[3,"itemsChange","items"],[1,"extraction-menu",3,"expanded"],["matTooltip","Some organs have predefined landmarks to guide manual tissue registration--you can turn these on/off.",1,"expansion-title"],["class","expansion-content",4,"ngIf"],["class","extraction-site-tooltip mat-elevation-z8",4,"ngIf"],[3,"setChange","sets"],[3,"itemsChange","hover","items"],[1,"extraction-site-tooltip","mat-elevation-z8"]],template:function(i,r){if(1&i&&(Xe(0,"div",1)(1,"div",2)(2,"mat-expansion-panel",3),ri(3,"async"),Xe(4,"mat-expansion-panel-header",4)(5,"mat-panel-title",5),Yt(6,"Anatomical Structures"),ot()(),Xe(7,"div",6)(8,"ccf-visibility-menu",7),ri(9,"async"),Bt("itemsChange",function(s){return r.model.setAnatomicalStructures(s)}),ot()()(),yn(10,"mat-divider"),Xe(11,"mat-expansion-panel",8),ri(12,"async"),Xe(13,"mat-expansion-panel-header",4)(14,"mat-panel-title",9),Yt(15,"Landmarks"),ot()(),mn(16,x5e,6,6,"div",10),ri(17,"async"),ot(),mn(18,E5e,2,1,"div",11),ot()()),2&i){let o;dt(2),Rt("expanded",ai(3,5,r.organSelected$)),dt(6),Rt("items",null!==(o=ai(9,7,r.model.anatomicalStructures$))&&void 0!==o?o:Tp(13,w5e)),dt(3),Rt("expanded",ai(12,9,r.organSelected$)),dt(5),Rt("ngIf",ai(17,11,r.organSelected$)),dt(2),Rt("ngIf",r.extractionSiteTooltip.length>0)}},dependencies:[ic,_T,nB,qK,Kl,oee,g5e,v5e,gd],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - 2.5rem);margin-top:1rem;margin-bottom:1.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]{overflow-y:scroll;height:100%;margin-right:.375rem;scrollbar-width:thin}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:.75rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:1.5rem;margin-right:.375rem;min-height:100%}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{border-top-width:3px}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .ccf-organ-selector[_ngcontent-%COMP%]{margin-top:1.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]{display:flex;height:3rem;align-items:center}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]   .slider-label[_ngcontent-%COMP%]{font-weight:600}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .expansion-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]     .expansion-header, [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]     .expansion-header{-webkit-user-select:none;-moz-user-select:none;padding:0;font-weight:700;height:3rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]     .expansion-header .mat-expansion-indicator, [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]     .expansion-header .mat-expansion-indicator{display:flex;align-items:center;justify-content:center;height:24px;width:24px}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%], [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%]{margin-bottom:.75rem;text-align:center;margin-top:1.75rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%]   .expansion-placeholder[_ngcontent-%COMP%], [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%]   .expansion-placeholder[_ngcontent-%COMP%]{width:100%;font-size:.9rem;font-weight:400}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-site-tooltip[_ngcontent-%COMP%]{position:absolute;top:4rem;left:27rem;width:21rem;padding:1rem;border-radius:.5rem;border:1px solid;z-index:2}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})();const lee={x:10,y:10,z:10};let S5e=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-block-size-input",this.blockSize=lee,this.blockSizeChange=new Qt}updateBlockSizes(t,i){this.blockSize={...this.blockSize,[i]:+t.target.value},this.ga.event("block_size_change","block_size_input",i,this.blockSize[i]),this.blockSizeChange.emit(this.blockSize)}refreshBlockSize(){this.blockSize=lee,this.ga.event("block_size_reset","block_size_input"),this.blockSizeChange.emit(this.blockSize)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Rs))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-block-size-input"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},inputs:{blockSize:"blockSize"},outputs:{blockSizeChange:"blockSizeChange"},decls:19,vars:5,consts:[["matTooltip","Set the tissue block width, height and depth (dimensions)",1,"header"],[1,"text","title"],[1,"filler"],["matRipple","",1,"icon","refresh",3,"click","matRippleCentered","matRippleUnbounded"],[1,"size-inputs"],[1,"field"],[1,"text","form-input-label"],["matInput","","type","number","placeholder","","matTooltip","Enter tissue block width.",1,"input",3,"keyup","value"],["matInput","","type","number","placeholder","","matTooltip","Enter tissue block height.",1,"input",3,"keyup","value"],["matInput","","type","number","placeholder","","matTooltip","Enter tissue block depth.",1,"input",3,"keyup","value"]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"span",1),Yt(2,"Tissue Block Dimensions (mm)"),ot(),yn(3,"div",2),Xe(4,"mat-icon",3),Bt("click",function(){return r.refreshBlockSize()}),Yt(5,"refresh"),ot()(),Xe(6,"div",4)(7,"mat-form-field",5)(8,"mat-label",6),Yt(9,"Width (X)"),ot(),Xe(10,"input",7),Bt("keyup",function(s){return r.updateBlockSizes(s,"x")}),ot()(),Xe(11,"mat-form-field",5)(12,"mat-label",6),Yt(13,"Height (Y)"),ot(),Xe(14,"input",8),Bt("keyup",function(s){return r.updateBlockSizes(s,"y")}),ot()(),Xe(15,"mat-form-field",5)(16,"mat-label",6),Yt(17,"Depth (Z)"),ot(),Xe(18,"input",9),Bt("keyup",function(s){return r.updateBlockSizes(s,"z")}),ot()()()),2&i&&(dt(4),Rt("matRippleCentered",!0)("matRippleUnbounded",!0),dt(6),Rt("value",r.blockSize.x),dt(4),Rt("value",r.blockSize.y),dt(4),Rt("value",r.blockSize.z))},dependencies:[bm,Hh,zh,wa,sc,Kl],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;height:1.5rem;padding:.5rem 0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:20rem;margin:0 auto}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:4.5rem}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]:not(:last-child){padding-right:.75rem}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-infix{padding-bottom:0;min-height:inherit}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-icon-suffix{padding:1rem 0 0px .25rem}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})();function A5e(n,e){if(1&n&&(Xe(0,"div",11)(1,"div",12),Yt(2),ot(),Xe(3,"div",13),Yt(4),ot()()),2&n){const t=e.$implicit;dt(2),Lo(t.label),dt(2),Lo(t.value)}}let T5e=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i,this.clsName="ccf-review-modal",this.metaData=i.metaData,this.registrationCallbackSet=i.registrationCallbackSet}close(){document.getElementsByClassName("modal-animated")[0]?.classList.add("modal-animate-fade-out"),setTimeout(()=>{this.dialogRef.close()},250)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(gb),Ae(eB))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-review-modal"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},decls:14,vars:2,consts:[[1,"ccf-about","wrapper"],[1,"container"],[1,"close"],[1,"material-icons","close-icon",3,"click"],[1,"content"],["mat-dialog-title","",1,"title"],[1,"mat-typography"],[1,"display-fields"],["class","field",4,"ngFor","ngForOf"],[1,"footer"],["mat-button","",1,"download-button",3,"click"],[1,"field"],[1,"label"],[1,"data"]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),Bt("click",function(){return r.close()}),Yt(4,"clear"),ot()(),Xe(5,"div",4)(6,"h2",5),Yt(7,"Registration Review"),ot(),Xe(8,"mat-dialog-content",6)(9,"div",7),mn(10,A5e,5,2,"div",8),ot()(),Xe(11,"div",9)(12,"button",10),Bt("click",function(){return r.dialogRef.close(!0)}),Yt(13),ot()()()()()),2&i&&(dt(10),Rt("ngForOf",r.metaData),dt(3),yo(" ",r.registrationCallbackSet?"REGISTER":"DOWNLOAD REGISTRATION DATA"," "))},dependencies:[rl,pT,mT,wa,E_],styles:["[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{float:right;margin-top:1rem;margin-right:1rem;cursor:pointer}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:2rem;background-color:#fff}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;margin-bottom:0;font-weight:500}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]{justify-content:space-around;display:flex;font-weight:500;font-size:1rem}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem;width:100%}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:1rem}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{width:50%;text-align:left;padding-left:1rem}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding-top:1.5rem;display:flex;justify-content:space-around}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]{padding:0 1rem;transition:.6s}"],changeDetection:0})}return n})(),M5e=(()=>{class n{constructor(t,i,r){this.dialog=t,this.ga=i,this.page=r,this.clsName="ccf-review-button",this.registrationCallbackSet=!0,this.metaData=[],this.displayErrors=!0,this.userValid=!1,this.registerData=new Qt,this.enterErrorMode=new Qt,this.registrationIsValid=!1}ngOnChanges(){const t=this.metaDataLookup("Reference Organ Name"),i=this.metaDataLookup("Tissue Block Dimensions (mm)"),r=this.metaDataLookup("Tissue Block Position (mm)"),o=this.metaDataLookup("Anatomical Structure Tags");this.registrationIsValid=this.userValid&&[t,i,r,o].every(s=>""!==s)}get disabled(){return!this.registrationIsValid}metaDataLookup(t){return this.metaData.find(i=>i.label===t)?.value}registerButtonClick(t){return t&&t.preventDefault(),this.enterErrorMode.emit(),this.registrationIsValid&&(this.ga.event("review_start","review_button"),this.launchReviewModal()),!1}launchReviewModal(){this.page.patchState({registrationStarted:!1}),this.dialog.open(T5e,{panelClass:"modal-animated",width:"60rem",data:{registrationCallbackSet:this.registrationCallbackSet,metaData:this.metaData}}).afterClosed().subscribe(i=>{this.page.registrationStarted(),i&&(this.ga.event("register","review_button"),this.registerData.emit())})}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(bf),Ae(Rs),Ae(oo))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-review-button"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},inputs:{registrationCallbackSet:"registrationCallbackSet",metaData:"metaData",displayErrors:"displayErrors",userValid:"userValid"},outputs:{registerData:"registerData",enterErrorMode:"enterErrorMode"},features:[br],decls:2,vars:4,consts:[["mat-button","",1,"review-button",3,"click","matTooltip"]],template:function(i,r){1&i&&(Xe(0,"button",0),Bt("click",function(s){return r.registerButtonClick(s)}),Yt(1),ot()),2&i&&(bn("disabled",r.disabled),Rt("matTooltip",r.disabled?"Required: Enter valid user info, select an organ and position tissue block inside organ.":"Review registration and submit/download."),dt(),yo(" ",r.registrationCallbackSet?"Review and Register":"Review and Download","\n"))},dependencies:[E_,Kl],styles:[".review-button[_ngcontent-%COMP%]{width:100%;height:2.25rem;transition:.6s;font-weight:500}.review-button.disabled[_ngcontent-%COMP%]{cursor:not-allowed}"],changeDetection:0})}return n})();const I5e={x:0,y:0,z:0};let D5e=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-rotation-slider",this.rotation=I5e,this.rotationChange=new Qt}changeRotation(t,i){const r=+t>180?180:+t<-180?-180:+t;this.rotation={...this.rotation,[i]:+r},this.ga.event("rotation_update","rotation_slider",i,+r),this.rotationChange.emit(this.rotation)}resetRotation(t){this.rotation={...this.rotation,[t]:0},this.ga.event("rotation_reset","rotation_slider"),this.rotationChange.emit(this.rotation)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Rs))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-rotation-slider"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},inputs:{rotation:"rotation"},outputs:{rotationChange:"rotationChange"},decls:34,vars:20,consts:[["sliderX",""],["sliderY",""],["sliderZ",""],[1,"header"],["matTooltip","Use sliders below to rotate tissue block for registration",1,"text","title"],[1,"filler"],[1,"refresh-button-container"],["matRipple","",1,"icon","reset",3,"click","matRippleCentered","matRippleUnbounded"],[1,"slider-box","red"],[1,"text","label"],[1,"slider-container"],["disableRipple","","discrete","",1,"slider",3,"max","min"],["matSliderThumb","",1,"slider-x",3,"input","value"],["matInput","","type","number",1,"input",3,"change","value","min","max"],[1,"slider-box","green"],["matSliderThumb","",1,"slider-y",3,"input","value"],[1,"slider-box","blue"],["matSliderThumb","",1,"slider-z",3,"input","value"]],template:function(i,r){if(1&i){const o=Ki();Xe(0,"div",3)(1,"span",4),Yt(2,"Tissue Block Rotation"),ot(),yn(3,"div",5),Xe(4,"div",6)(5,"mat-icon",7),Bt("click",function(){return fn(o),r.resetRotation("x"),r.resetRotation("y"),hn(r.resetRotation("z"))}),Yt(6,"refresh"),ot()()(),Xe(7,"div",8)(8,"span",9),Yt(9,"X"),ot(),Xe(10,"div",10)(11,"mat-slider",11)(12,"input",12,0),Bt("input",function(){fn(o);const a=Ms(13);return hn(r.changeRotation(a.value,"x"))}),ot()()(),Xe(14,"mat-form-field")(15,"input",13),Bt("change",function(a){return fn(o),hn(r.changeRotation(a.target.value,"x"))}),ot()()(),Xe(16,"div",14)(17,"span",9),Yt(18,"Y"),ot(),Xe(19,"div",10)(20,"mat-slider",11)(21,"input",15,1),Bt("input",function(){fn(o);const a=Ms(22);return hn(r.changeRotation(a.value,"y"))}),ot()()(),Xe(23,"mat-form-field")(24,"input",13),Bt("change",function(a){return fn(o),hn(r.changeRotation(a.target.value,"y"))}),ot()()(),Xe(25,"div",16)(26,"span",9),Yt(27,"Z"),ot(),Xe(28,"div",10)(29,"mat-slider",11)(30,"input",17,2),Bt("input",function(){fn(o);const a=Ms(31);return hn(r.changeRotation(a.value,"z"))}),ot()()(),Xe(32,"mat-form-field")(33,"input",13),Bt("change",function(a){return fn(o),hn(r.changeRotation(a.target.value,"z"))}),ot()()()}2&i&&(dt(5),Rt("matRippleCentered",!0)("matRippleUnbounded",!0),dt(6),Rt("max",180)("min",-180),dt(),Rt("value",r.rotation.x),dt(3),Rt("value",r.rotation.x)("min",-180)("max",180),dt(5),Rt("max",180)("min",-180),dt(),Rt("value",r.rotation.y),dt(3),Rt("value",r.rotation.y)("min",-180)("max",180),dt(5),Rt("max",180)("min",-180),dt(),Rt("value",r.rotation.z),dt(3),Rt("value",r.rotation.z)("min",-180)("max",180))},dependencies:[wa,CK,uT,sc,Kl,bm,Hh],styles:["[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:1.5rem;padding:.5rem 0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;padding:.5rem 0}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .refresh-button-container[_ngcontent-%COMP%]{display:flex;height:1rem;justify-content:flex-end}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:4rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{height:100%;width:5rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]{width:100%;padding-left:.5rem;padding-right:2rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]     mat-slider-visual-thumb{transition:none}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})(),R5e=(()=>{class n{constructor(t){this.el=t}onInputChange(t){const i=this.el.nativeElement.value;this.el.nativeElement.value=i.replace(/[^0-9]*/g,""),i!==this.el.nativeElement.value&&t.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn))};static#t=this.\u0275dir=Zt({type:n,selectors:[["input","ccfNumbersOnly",""]],hostBindings:function(i,r){1&i&&Bt("input",function(s){return r.onInputChange(s)})}})}return n})();const dee={thickness:NaN,numSlices:NaN};let O5e=(()=>{class n{get hasThicknessValue(){return!isNaN(this.slicesConfig.thickness)}constructor(t){this.ga=t,this.clsName="ccf-slices-input",this.slicesConfig=dee,this.slicesConfigChange=new Qt}updateSlicesData(t,i){const{value:r}=t.target;this.slicesConfig={...this.slicesConfig,[i]:""!==r?+r:NaN},this.ga.event("slice_config_update","slice_input",i,this.slicesConfig[i]),this.slicesConfigChange.emit(this.slicesConfig)}refreshSlices(){this.slicesConfig=dee,this.ga.event("slice_config_reset","slice_input"),this.slicesConfigChange.emit(this.slicesConfig)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Rs))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-slices-input"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},inputs:{slicesConfig:"slicesConfig"},outputs:{slicesConfigChange:"slicesConfigChange"},decls:17,vars:6,consts:[[1,"header"],["matTooltip","Add thickness of tissue sections and the total number of sections",1,"text","title"],[1,"filler"],["matRipple","",1,"icon","refresh",3,"click","matRippleCentered","matRippleUnbounded"],[1,"slices-inputs"],[1,"field"],[1,"text","form-input-label"],["matInput","","ccfNumbersOnly","","type","number","matTooltip","Enter thickness of tissue sections",1,"input",3,"keyup","value"],["matSuffix","",1,"suffix"],["matInput","","ccfNumbersOnly","","type","number","matTooltip","Enter total number of sections",1,"input",3,"keyup","value"]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"span",1),Yt(2,"Tissue Sections"),ot(),yn(3,"div",2),Xe(4,"mat-icon",3),Bt("click",function(){return r.refreshSlices()}),Yt(5," refresh "),ot()(),Xe(6,"div",4)(7,"mat-form-field",5)(8,"mat-label",6),Yt(9,"Thickness"),ot(),Xe(10,"input",7),Bt("keyup",function(s){return r.updateSlicesData(s,"thickness")}),ot(),Xe(11,"div",8),Yt(12,"\u03bcm"),ot()(),Xe(13,"mat-form-field",5)(14,"mat-label",6),Yt(15,"# Sections"),ot(),Xe(16,"input",9),Bt("keyup",function(s){return r.updateSlicesData(s,"numSlices")}),ot()()()),2&i&&(dt(4),Rt("matRippleCentered",!0)("matRippleUnbounded",!0),dt(6),Rt("value",r.slicesConfig.thickness),dt(),bn("show",r.hasThicknessValue),dt(5),Rt("value",r.slicesConfig.numSlices))},dependencies:[bm,Hh,zh,Ck,wa,sc,Kl,R5e],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.5rem}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;height:1.5rem;padding:.5rem 0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:20rem;margin:0 auto}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:9rem}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]:not(:last-child){padding-right:.75rem}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field.mat-focused[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%], [_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .suffix.show[_ngcontent-%COMP%]{display:initial}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-infix{padding-bottom:0;min-height:inherit}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-icon-suffix{padding:1.5rem 0 0}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})();const uee=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],hee=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function k5e(n,e){1&n&&(Xe(0,"span",3),zn(1,1),ot())}function P5e(n,e){1&n&&(Xe(0,"span",6),zn(1,2),ot())}function N5e(n,e){1&n&&(Xe(0,"span",3),zn(1,1),Xe(2,"span",8),Vn(),Xe(3,"svg",9),yn(4,"path",10),ot()()())}function F5e(n,e){1&n&&(Xe(0,"span",6),zn(1,2),ot())}const H3=["*"],rM=new vt("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),G3=new vt("MatChipAvatar"),W3=new vt("MatChipTrailingIcon"),$3=new vt("MatChipRemove"),oM=new vt("MatChip");let Fb=(()=>{class n{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(t){this._disabled=t}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(t,i){this._elementRef=t,this._parentChip=i,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,"BUTTON"===t.nativeElement.nodeName&&t.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(t){!this.disabled&&this.isInteractive&&this._isPrimary&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn),Ae(oM))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(i,r){1&i&&Bt("click",function(s){return r._handleClick(s)})("keydown",function(s){return r._handleKeydown(s)}),2&i&&(fi("tabindex",r._getTabindex())("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),bn("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--presentational",!r.isInteractive)("mdc-evolution-chip__action--trailing",!r._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[mt.HasDecoratorInputTransform,"disabled","disabled",vn],tabIndex:[mt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?-1:Bo(t)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[Hr]})}return n})(),mee=(()=>{class n extends Fb{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(t){this.disabled||(t.stopPropagation(),t.preventDefault(),this._parentChip.remove())}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!this.disabled&&(t.stopPropagation(),t.preventDefault(),this._parentChip.remove())}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Wi(n)))(r||n)}})();static#t=this.\u0275dir=Zt({type:n,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(i,r){2&i&&fi("aria-hidden",null)},standalone:!0,features:[ei([{provide:$3,useExisting:n}]),mi]})}return n})(),Y5e=0,Rm=(()=>{class n{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(t){this._value=t}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}constructor(t,i,r,o,s,a,c,l){this._changeDetectorRef=t,this._elementRef=i,this._ngZone=r,this._focusMonitor=o,this._globalRippleOptions=c,this._onFocus=new on,this._onBlur=new on,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+Y5e++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.tabIndex=-1,this.removed=new Qt,this.destroyed=new Qt,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=kt(O5),this._document=s,this._animationsDisabled="NoopAnimations"===a,null!=l&&(this.tabIndex=parseInt(l)??-1),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const t=this._elementRef.nativeElement;this._isBasicChip=t.hasAttribute(this.basicChipAttrName)||t.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=Us(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(t){(8===t.keyCode||46===t.keyCode)&&(t.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(t){return this._getActions().find(i=>{const r=i._elementRef.nativeElement;return r===t||r.contains(t)})}_getActions(){const t=[];return this.primaryAction&&t.push(this.primaryAction),this.removeIcon&&t.push(this.removeIcon),this.trailingIcon&&t.push(this.trailingIcon),t}_handlePrimaryActionInteraction(){}_getTabIndex(){return this.role?this.disabled?-1:this.tabIndex:null}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const i=null!==t;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe(vr(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Mi),Ae(kn),Ae(_n),Ae(ku),Ae(ci),Ae(co,8),Ae(o0,8),ma("tabindex"))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(i,r,o){if(1&i&&(mr(o,G3,5),mr(o,W3,5),mr(o,$3,5),mr(o,G3,5),mr(o,W3,5),mr(o,$3,5)),2&i){let s;Dn(s=Rn())&&(r.leadingIcon=s.first),Dn(s=Rn())&&(r.trailingIcon=s.first),Dn(s=Rn())&&(r.removeIcon=s.first),Dn(s=Rn())&&(r._allLeadingIcons=s),Dn(s=Rn())&&(r._allTrailingIcons=s),Dn(s=Rn())&&(r._allRemoveIcons=s)}},viewQuery:function(i,r){if(1&i&&ki(Fb,5),2&i){let o;Dn(o=Rn())&&(r.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:32,hostBindings:function(i,r){1&i&&Bt("keydown",function(s){return r._handleKeydown(s)}),2&i&&(La("id",r.id),fi("role",r.role)("tabindex",r._getTabIndex())("aria-label",r.ariaLabel),Ei("mat-"+(r.color||"primary")),bn("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[mt.None,"aria-label","ariaLabel"],ariaDescription:[mt.None,"aria-description","ariaDescription"],value:"value",color:"color",removable:[mt.HasDecoratorInputTransform,"removable","removable",vn],highlighted:[mt.HasDecoratorInputTransform,"highlighted","highlighted",vn],disableRipple:[mt.HasDecoratorInputTransform,"disableRipple","disableRipple",vn],disabled:[mt.HasDecoratorInputTransform,"disabled","disabled",vn],tabIndex:[mt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?void 0:Bo(t)]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[ei([{provide:oM,useExisting:n}]),Hr,Ui],ngContentSelectors:hee,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){1&i&&(yr(uee),yn(0,"span",0),Xe(1,"span",1)(2,"span",2),mn(3,k5e,2,0,"span",3),Xe(4,"span",4),zn(5),yn(6,"span",5),ot()()(),mn(7,P5e,2,0,"span",6)),2&i&&(dt(2),Rt("isInteractive",!1),dt(),$i(3,r.leadingIcon?3:-1),dt(4),$i(7,r._hasTrailingIcon()?7:-1))},dependencies:[Fb],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary:before{border-color:var(--mdc-chip-outline-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational).mdc-ripple-upgraded--background-focused:before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus:before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary:before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-outline-width)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::after{background-color:var(--mdc-chip-hover-state-layer-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:hover .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-surface--hover .mdc-evolution-chip__ripple::before{opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::after{background-color:var(--mdc-chip-selected-hover-state-layer-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:hover .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary.mdc-ripple-surface--hover .mdc-evolution-chip__ripple::before{opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-selected:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),gee=(()=>{class n extends Rm{constructor(){super(...arguments),this._defaultOptions=kt(rM,{optional:!0}),this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListHideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._selectable=!0,this._selected=!1,this.basicChipAttrName="mat-basic-chip-option",this.selectionChange=new Qt}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=t,this._changeDetectorRef.markForCheck()}get selected(){return this._selected}set selected(t){this._setSelectedState(t,!1,!0)}get ariaSelected(){return this.selectable?this.selected.toString():null}ngOnInit(){super.ngOnInit(),this.role="presentation"}select(){this._setSelectedState(!0,!1,!0)}deselect(){this._setSelectedState(!1,!1,!0)}selectViaInteraction(){this._setSelectedState(!0,!0,!0)}toggleSelected(t=!1){return this._setSelectedState(!this.selected,t,!0),this.selected}_handlePrimaryActionInteraction(){this.disabled||(this.focus(),this.selectable&&this.toggleSelected(!0))}_hasLeadingGraphic(){return!!this.leadingIcon||!this._chipListHideSingleSelectionIndicator||this._chipListMultiple}_setSelectedState(t,i,r){t!==this.selected&&(this._selected=t,r&&this.selectionChange.emit({source:this,isUserInput:i,selected:this.selected}),this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Wi(n)))(r||n)}})();static#t=this.\u0275cmp=un({type:n,selectors:[["mat-basic-chip-option"],["","mat-basic-chip-option",""],["mat-chip-option"],["","mat-chip-option",""]],hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-option"],hostVars:37,hostBindings:function(i,r){2&i&&(La("id",r.id),fi("tabindex",null)("aria-label",null)("aria-description",null)("role",r.role),bn("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--filter",!r._isBasicChip)("mdc-evolution-chip--selectable",!r._isBasicChip)("mat-mdc-chip-selected",r.selected)("mat-mdc-chip-multiple",r._chipListMultiple)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-chip-with-avatar",r.leadingIcon)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--selected",r.selected)("mdc-evolution-chip--selecting",!r._animationsDisabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-primary-graphic",r._hasLeadingGraphic())("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon()))},inputs:{selectable:[mt.HasDecoratorInputTransform,"selectable","selectable",vn],selected:[mt.HasDecoratorInputTransform,"selected","selected",vn]},outputs:{selectionChange:"selectionChange"},standalone:!0,features:[ei([{provide:Rm,useExisting:n},{provide:oM,useExisting:n}]),Hr,mi,Ui],ngContentSelectors:hee,decls:10,vars:9,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","","role","option",3,"tabIndex","_allowFocusWhenDisabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],[1,"mdc-evolution-chip__checkmark"],["viewBox","-2 -3 30 30","focusable","false","aria-hidden","true",1,"mdc-evolution-chip__checkmark-svg"],["fill","none","stroke","currentColor","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-evolution-chip__checkmark-path"]],template:function(i,r){1&i&&(yr(uee),yn(0,"span",0),Xe(1,"span",1)(2,"button",2),mn(3,N5e,5,0,"span",3),Xe(4,"span",4),zn(5),yn(6,"span",5),ot()()(),mn(7,F5e,2,0,"span",6),Xe(8,"span",7),Yt(9),ot()),2&i&&(dt(2),Rt("tabIndex",r.tabIndex)("_allowFocusWhenDisabled",!0),fi("aria-selected",r.ariaSelected)("aria-label",r.ariaLabel)("aria-describedby",r._ariaDescriptionId),dt(),$i(3,r._hasLeadingGraphic()?3:-1),dt(4),$i(7,r._hasTrailingIcon()?7:-1),dt(),Rt("id",r._ariaDescriptionId),dt(),Lo(r.ariaDescription))},dependencies:[Fb],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary:before{border-color:var(--mdc-chip-outline-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational).mdc-ripple-upgraded--background-focused:before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus:before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary:before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-outline-width)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::after{background-color:var(--mdc-chip-hover-state-layer-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:hover .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-surface--hover .mdc-evolution-chip__ripple::before{opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::after{background-color:var(--mdc-chip-selected-hover-state-layer-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:hover .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary.mdc-ripple-surface--hover .mdc-evolution-chip__ripple::before{opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-selected:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),q3=(()=>{class n{get chipFocusChanges(){return this._getChipStream(t=>t._onFocus)}get chipDestroyedChanges(){return this._getChipStream(t=>t.destroyed)}get chipRemovedChanges(){return this._getChipStream(t=>t.removed)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(t){this._explicitRole=t}get focused(){return this._hasFocusedChip()}constructor(t,i,r){this._elementRef=t,this._changeDetectorRef=i,this._dir=r,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new on,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new vh}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(t=>t._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(t=>{t.disabled=this._disabled,t._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(t){this._originatesFromChip(t)&&this._keyManager.onKeydown(t)}_isValidIndex(t){return t>=0&&t<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const t=this.tabIndex;this.tabIndex=-1,setTimeout(()=>this.tabIndex=t)}}_getChipStream(t){return this._chips.changes.pipe(ps(null),Fr(()=>Us(...this._chips.map(t))))}_originatesFromChip(t){let i=t.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-mdc-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(ps(this._chips)).subscribe(t=>{const i=[];t.forEach(r=>r._getActions().forEach(o=>i.push(o))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new She(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(t=>this._skipPredicate(t)),this.chipFocusChanges.pipe(Ii(this._destroyed)).subscribe(({chip:t})=>{const i=t._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(Ii(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t))}_skipPredicate(t){return!t.isInteractive||t.disabled}_trackChipSetChanges(){this._chips.changes.pipe(ps(null),Ii(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(Ii(this._destroyed)).subscribe(t=>{const r=this._chips.toArray().indexOf(t.chip);this._isValidIndex(r)&&t.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const t=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[t];i.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn),Ae(Mi),Ae(Fl,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-chip-set"]],contentQueries:function(i,r,o){if(1&i&&mr(o,Rm,5),2&i){let s;Dn(s=Rn())&&(r._chips=s)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(i,r){1&i&&Bt("keydown",function(s){return r._handleKeydown(s)}),2&i&&fi("role",r.role)},inputs:{disabled:[mt.HasDecoratorInputTransform,"disabled","disabled",vn],role:"role",tabIndex:[mt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:Bo(t)]},standalone:!0,features:[Hr,Ui],ngContentSelectors:H3,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(yr(),Xe(0,"div",0),zn(1),ot())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})();class X5e{constructor(e,t){this.source=e,this.value=t}}const K5e={provide:$s,useExisting:di(()=>Y3),multi:!0};let Y3=(()=>{class n extends q3{constructor(){super(...arguments),this._onTouched=()=>{},this._onChange=()=>{},this._defaultRole="listbox",this._defaultOptions=kt(rM,{optional:!0}),this._multiple=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.compareWith=(t,i)=>t===i,this.required=!1,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this.change=new Qt,this._chips=void 0}get multiple(){return this._multiple}set multiple(t){this._multiple=t,this._syncListboxProperties()}get selected(){const t=this._chips.toArray().filter(i=>i.selected);return this.multiple?t:t[0]}get selectable(){return this._selectable}set selectable(t){this._selectable=t,this._syncListboxProperties()}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncListboxProperties()}get chipSelectionChanges(){return this._getChipStream(t=>t.selectionChange)}get chipBlurChanges(){return this._getChipStream(t=>t._onBlur)}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}ngAfterContentInit(){void 0!==this._pendingInitialValue&&Promise.resolve().then(()=>{this._setSelectionByValue(this._pendingInitialValue,!1),this._pendingInitialValue=void 0}),this._chips.changes.pipe(ps(null),Ii(this._destroyed)).subscribe(()=>{this._syncListboxProperties()}),this.chipBlurChanges.pipe(Ii(this._destroyed)).subscribe(()=>this._blur()),this.chipSelectionChanges.pipe(Ii(this._destroyed)).subscribe(t=>{this.multiple||this._chips.forEach(i=>{i!==t.source&&i._setSelectedState(!1,!1,!1)}),t.isUserInput&&this._propagateChanges()})}focus(){if(this.disabled)return;const t=this._getFirstSelectedChip();t&&!t.disabled?t.focus():this._chips.length>0?this._keyManager.setFirstItemActive():this._elementRef.nativeElement.focus()}writeValue(t){this._chips?this._setSelectionByValue(t,!1):null!=t&&(this._pendingInitialValue=t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_setSelectionByValue(t,i=!0){this._clearSelection(),Array.isArray(t)?t.forEach(r=>this._selectValue(r,i)):this._selectValue(t,i)}_blur(){this.disabled||setTimeout(()=>{this.focused||this._markAsTouched()})}_keydown(t){9===t.keyCode&&super._allowFocusEscape()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck()}_propagateChanges(){let t=null;t=Array.isArray(this.selected)?this.selected.map(i=>i.value):this.selected?this.selected.value:void 0,this._value=t,this.change.emit(new X5e(this,t)),this._onChange(t),this._changeDetectorRef.markForCheck()}_clearSelection(t){this._chips.forEach(i=>{i!==t&&i.deselect()})}_selectValue(t,i){const r=this._chips.find(o=>null!=o.value&&this.compareWith(o.value,t));return r&&(i?r.selectViaInteraction():r.select()),r}_syncListboxProperties(){this._chips&&Promise.resolve().then(()=>{this._chips.forEach(t=>{t._chipListMultiple=this.multiple,t.chipListSelectable=this._selectable,t._chipListHideSingleSelectionIndicator=this.hideSingleSelectionIndicator,t._changeDetectorRef.markForCheck()})})}_getFirstSelectedChip(){return Array.isArray(this.selected)?this.selected.length?this.selected[0]:void 0:this.selected}_skipPredicate(t){return!t.isInteractive}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=Wi(n)))(r||n)}})();static#t=this.\u0275cmp=un({type:n,selectors:[["mat-chip-listbox"]],contentQueries:function(i,r,o){if(1&i&&mr(o,gee,5),2&i){let s;Dn(s=Rn())&&(r._chips=s)}},hostAttrs:[1,"mdc-evolution-chip-set","mat-mdc-chip-listbox"],hostVars:11,hostBindings:function(i,r){1&i&&Bt("focus",function(){return r.focus()})("blur",function(){return r._blur()})("keydown",function(s){return r._keydown(s)}),2&i&&(La("tabIndex",r.disabled||r.empty?-1:r.tabIndex),fi("role",r.role)("aria-describedby",r._ariaDescribedby||null)("aria-required",r.role?r.required:null)("aria-disabled",r.disabled.toString())("aria-multiselectable",r.multiple)("aria-orientation",r.ariaOrientation),bn("mat-mdc-chip-list-disabled",r.disabled)("mat-mdc-chip-list-required",r.required))},inputs:{multiple:[mt.HasDecoratorInputTransform,"multiple","multiple",vn],ariaOrientation:[mt.None,"aria-orientation","ariaOrientation"],selectable:[mt.HasDecoratorInputTransform,"selectable","selectable",vn],compareWith:"compareWith",required:[mt.HasDecoratorInputTransform,"required","required",vn],hideSingleSelectionIndicator:[mt.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",vn],value:"value"},outputs:{change:"change"},standalone:!0,features:[ei([K5e]),Hr,mi,Ui],ngContentSelectors:H3,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(yr(),Xe(0,"div",0),zn(1),ot())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})(),bee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({providers:[US,{provide:rM,useValue:{separatorKeyCodes:[13]}}],imports:[cr,Ll,cr]})}return n})();function eGe(n,e){if(1&n){const t=Ki();Xe(0,"mat-chip",2),Bt("removed",function(){const r=fn(t).$implicit;return hn(In().removeTag(r))}),Yt(1),Xe(2,"mat-icon",3),Yt(3,"cancel"),ot()()}if(2&n){const t=e.$implicit;Ei(In().tagClasses(t)),dt(),yo(" ",t.label," ")}}let tGe=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-tag-list",this.tagRemoved=new Qt,this.tagsChange=new Qt}tagId(t,i){return i.id}tagClasses(t){return"added"===t.type?["added"]:["assigned"]}removeTag(t){this.tags=this.tags.filter(i=>i!==t),this.ga.event("tag_removed","tag_list",t.label),this.tagRemoved.emit(t),this.tagsChange.emit(this.tags)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Rs))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-tag-list"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},inputs:{tags:"tags"},outputs:{tagRemoved:"tagRemoved",tagsChange:"tagsChange"},decls:2,vars:2,consts:[["selectable","false"],["removable","","disableRipple","",3,"class","removed",4,"ngFor","ngForOf","ngForTrackBy"],["removable","","disableRipple","",3,"removed"],["matChipRemove","",1,"icon","remove"]],template:function(i,r){1&i&&(Xe(0,"mat-chip-listbox",0),mn(1,eGe,4,3,"mat-chip",1),ot()),2&i&&(dt(),Rt("ngForOf",r.tags)("ngForTrackBy",r.tagId))},dependencies:[rl,Rm,Y3,mee,wa],styles:["[_nghost-%COMP%]{display:block;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]     .mdc-evolution-chip-set__chips{margin:0!important}[_nghost-%COMP%]     .mdc-evolution-chip-set__chips .mdc-evolution-chip__text-label{font-size:14px}"],changeDetection:0})}return n})();const iGe=["input"],rGe=["label"],oGe=["*"],sGe=new vt("mat-checkbox-default-options",{providedIn:"root",factory:yee});function yee(){return{color:"accent",clickAction:"check-indeterminate"}}var Da=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}(Da||{});const aGe={provide:$s,useExisting:di(()=>X3),multi:!0};class cGe{}let lGe=0;const vee=yee();let X3=(()=>{class n{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const i=new cGe;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._animationMode=s,this._options=a,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Qt,this.indeterminateChange=new Qt,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=Da.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||vee,this.color=this._options.color||vee.color,this.tabIndex=parseInt(o)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++lGe}ngOnChanges(t){t.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const i=t!=this._indeterminate;this._indeterminate=t,i&&(this._transitionCheckState(this._indeterminate?Da.Indeterminate:this.checked?Da.Checked:Da.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}validate(t){return this.required&&!0!==t.value?{required:!0}:null}registerOnValidatorChange(t){this._validatorChangeFn=t}_transitionCheckState(t){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==t&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Da.Checked:Da.Unchecked),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if("NoopAnimations"===this._animationMode)return"";switch(t){case Da.Init:if(i===Da.Checked)return this._animationClasses.uncheckedToChecked;if(i==Da.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Da.Unchecked:return i===Da.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Da.Checked:return i===Da.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Da.Indeterminate:return i===Da.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(kn),Ae(Mi),Ae(_n),ma("tabindex"),Ae(co,8),Ae(sGe,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-checkbox"]],viewQuery:function(i,r){if(1&i&&(ki(iGe,5),ki(rGe,5),ki(sc,5)),2&i){let o;Dn(o=Rn())&&(r._inputElement=o.first),Dn(o=Rn())&&(r._labelElement=o.first),Dn(o=Rn())&&(r.ripple=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(i,r){2&i&&(La("id",r.id),fi("tabindex",null)("aria-label",null)("aria-labelledby",null),Ei(r.color?"mat-"+r.color:"mat-accent"),bn("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{ariaLabel:[mt.None,"aria-label","ariaLabel"],ariaLabelledby:[mt.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[mt.None,"aria-describedby","ariaDescribedby"],id:"id",required:[mt.HasDecoratorInputTransform,"required","required",vn],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[mt.HasDecoratorInputTransform,"disableRipple","disableRipple",vn],tabIndex:[mt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?void 0:Bo(t)],color:"color",checked:[mt.HasDecoratorInputTransform,"checked","checked",vn],disabled:[mt.HasDecoratorInputTransform,"disabled","disabled",vn],indeterminate:[mt.HasDecoratorInputTransform,"indeterminate","indeterminate",vn]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[ei([aGe,{provide:os,useExisting:n,multi:!0}]),Hr,br,Ui],ngContentSelectors:oGe,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(i,r){if(1&i){const o=Ki();yr(),Xe(0,"div",3),Bt("click",function(a){return fn(o),hn(r._preventBubblingFromLabel(a))}),Xe(1,"div",4,0)(3,"div",5),Bt("click",function(){return fn(o),hn(r._onTouchTargetClick())}),ot(),Xe(4,"input",6,1),Bt("blur",function(){return fn(o),hn(r._onBlur())})("click",function(){return fn(o),hn(r._onInputClick())})("change",function(a){return fn(o),hn(r._onInteractionEvent(a))}),ot(),yn(6,"div",7),Xe(7,"div",8),Vn(),Xe(8,"svg",9),yn(9,"path",10),ot(),function lg(){!function yu(){ii.lFrame.currentNamespace=null}()}(),yn(10,"div",11),ot(),yn(11,"div",12),ot(),Xe(12,"label",13,2),zn(14),ot()()}if(2&i){const o=Ms(2);Rt("labelPosition",r.labelPosition),dt(4),bn("mdc-checkbox--selected",r.checked),Rt("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.disabled?-1:r.tabIndex),fi("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("name",r.name)("value",r.value),dt(7),Rt("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),dt(),Rt("for",r.inputId)}},dependencies:[sc,Ek],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),hGe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[X3,cr,cr]})}return n})();const fGe=["closeSearch"];function pGe(n,e){if(1&n){const t=Ki();Xe(0,"div",12)(1,"mat-checkbox",13),QR("ngModelChange",function(r){const o=fn(t).$implicit,s=In(2);return function l4(n,e){const t=WU(n);return t&&n.set(e),t}(s.checkedResults[o.id],r)||(s.checkedResults[o.id]=r),hn(r)}),Yt(2),ot()()}if(2&n){const t=e.$implicit,i=In(2);dt(),JR("ngModel",i.checkedResults[t.id]),dt(),yo(" ",t.label," ")}}function mGe(n,e){if(1&n&&(Xe(0,"div",9),mn(1,pGe,3,2,"div",10),Xe(2,"div",11),Yt(3),ri(4,"i18nPlural"),ot()()),2&n){const t=In();dt(),Rt("ngForOf",t.searchResults.results)("ngForTrackBy",t.tagId),dt(2),yo(" ",_4(4,3,t.searchResults.totalCount,t.countMapping)," ")}}const wee=5,aM={totalCount:0,results:[]};class Lb{constructor(e,t,i){this.el=e,this.ga=t,this.clsName="ccf-tag-search",this.placeholder="Add Anatomical Structures ...",this.added=new Qt,this.countMapping={"=1":"1 result",other:"# results"},this.searchControl=new Tw,this.searchResults=aM,this.checkedResults={},this.resultsVisible=!1,this.destroy$=new on,this.searchControl.valueChanges.pipe(Ii(this.destroy$),OJ(()=>function nGe(n=0,e=b_){return n<0&&(n=0),m0(n,n,e)}(this.searchThrottle??100),{leading:!0,trailing:!0}),Fr(this.executeSearch)).subscribe(r=>{this.searchResults=r,this.checkedResults=this.getUpdatedCheckedResults(r),i.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}tagId(e,t){return t.id}hasCheckedTags(){return Object.values(this.checkedResults).some(e=>e)}addTags(){const{searchControl:e,searchResults:t,checkedResults:i}=this,r=t.results.filter(o=>i[o.id]);r.length>0&&(e.reset(),this.searchResults=aM,this.checkedResults={},this.ga.event("tags_added","tag_search",r.map(o=>o.label).join(",")),this.added.emit(r))}openResults(){this.resultsVisible||(this.resultsVisible=!0)}closeResults(e){const{closeSearch:t}=this;this.resultsVisible&&e.target instanceof Node&&(!this.el.nativeElement.contains(e.target)||t.nativeElement.contains(e.target))&&(this.resultsVisible=!1)}executeSearch(e){const{search:t,searchLimit:i=wee}=this;return e&&t?io(t(e,i)).pipe(ac(()=>[aM]),Vt(this.truncateResults)):[aM]}truncateResults(e){const{searchLimit:t=wee}=this,i=e.results;return i.length>t?{...e,results:i.slice(0,t)}:e}getUpdatedCheckedResults(e){const t=this.checkedResults;return e.results.reduce((i,{id:r})=>(i[r]=t[r]??!1,i),{})}static#e=this.\u0275fac=function(t){return new(t||Lb)(Ae(kn),Ae(Rs),Ae(Mi))};static#t=this.\u0275cmp=un({type:Lb,selectors:[["ccf-tag-search"]],viewQuery:function(t,i){if(1&t&&ki(fGe,5,kn),2&t){let r;Dn(r=Rn())&&(i.closeSearch=r.first)}},hostVars:2,hostBindings:function(t,i){1&t&&Bt("click",function(){return i.openResults()})("focusin",function(){return i.openResults()})("click",function(o){return i.closeResults(o)},!1,bp)("focusin",function(o){return i.closeResults(o)},!1,bp),2&t&&Ei(i.clsName)},inputs:{placeholder:"placeholder",search:"search",searchLimit:"searchLimit",searchThrottle:"searchThrottle"},outputs:{added:"added"},decls:10,vars:8,consts:[["search",""],["closeSearch",""],[1,"spacer"],["appearance","outline","subscriptSizing","dynamic",1,"overlay"],[1,"search-box"],["matInput","","type","search",3,"placeholder","formControl"],["matSuffix","",1,"add-button",3,"click","disabled"],[1,"icon"],["class","results",4,"ngIf"],[1,"results"],["class","item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"count"],[1,"item"],["labelPosition","after",3,"ngModelChange","ngModel"]],template:function(t,i){if(1&t){const r=Ki();yn(0,"div",2),Xe(1,"mat-form-field",3)(2,"div",4),yn(3,"input",5,0),Xe(5,"button",6,1),Bt("click",function(){fn(r);const s=Ms(4);return i.addTags(),hn(s.focus())}),Xe(7,"mat-icon",7),Yt(8,"add"),ot()()(),mn(9,mGe,5,6,"div",8),ot()}2&t&&(dt(),bn("expanded",i.resultsVisible),dt(2),Rt("placeholder",i.placeholder)("formControl",i.searchControl),dt(2),bn("active",i.hasCheckedTags()),Rt("disabled",!i.hasCheckedTags()),dt(4),Rt("ngIf",i.resultsVisible))},dependencies:[rl,ic,ub,QA,BL,Mw,X3,Hh,Ck,wa,bm,KH],styles:["[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]   .spacer[_ngcontent-%COMP%]{height:3.5rem}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;z-index:10}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;height:3rem}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{border-radius:.25rem;border:none;display:flex;justify-content:center;align-items:center;cursor:pointer;height:100%}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]{margin-top:.5rem}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.75rem;text-align:end}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{min-height:inherit;padding:0}"],changeDetection:0})}Nt([kd.oI,ke("design:type",Function),ke("design:paramtypes",[String]),ke("design:returntype",Object)],Lb.prototype,"executeSearch",null),Nt([kd.oI,ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",Object)],Lb.prototype,"truncateResults",null);let _Ge=(()=>{class n{constructor(t,i){this.dialog=t,this.infoButtonService=i,this.infoTitle="",this.subscriptions=new zt,this.subscriptions.add(i.panelContent.subscribe(r=>{r.content.length&&this.launchInfoDialog(r)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}launchInfoDialog(t){0===this.dialog.openDialogs.length&&this.dialog.open(LZ,{autoFocus:!1,panelClass:"modal-animated",width:"72rem",data:{title:t.infoTitle,content:t.content,videoID:t.videoID}})}onDialogButtonClick(){this.infoButtonService.updateData(this.documentationUrl,this.videoID,this.infoTitle)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(bf),Ae(k3))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-info-button"]],inputs:{infoTitle:"infoTitle",videoID:"videoID",documentationUrl:"documentationUrl"},decls:3,vars:0,consts:[[1,"info-button-wrapper"],["aria-hidden","false","aria-label","Page information",1,"ccf-info-button",3,"click"]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"mat-icon",1),Bt("click",function(){return r.onDialogButtonClick()}),Yt(2," info "),ot()())},dependencies:[wa],styles:[".info-button-wrapper[_ngcontent-%COMP%]{border-radius:.25rem;padding:.65rem;transition:.6s}.info-button-wrapper[_ngcontent-%COMP%]   .ccf-info-button[_ngcontent-%COMP%]{cursor:pointer;transition:color .6s;font-size:1.5rem;vertical-align:sub}"],changeDetection:0})}return n})(),bGe=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this.firstNameValidator.setValue(t?.firstName||""),this.lastNameValidator.setValue(t?.lastName||""),this.middleNameValidator.setValue(t?.middleName||"")}constructor(t){this.ga=t,this.clsName="ccf-name-input",this.firstNameValidator=new Tw("",[fm.required]),this.lastNameValidator=new Tw("",[fm.required]),this.middleNameValidator=new Tw("",[fm.required]),this._name={firstName:"",middleName:"",lastName:""},this.nameChange=new Qt}updateName(t,i){this.name={...this.name,[i]:t.target.value},this.ga.event("name_updated","name_input",i),this.nameChange.emit(this.name)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Rs))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-name-input"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},inputs:{name:"name"},outputs:{nameChange:"nameChange"},decls:12,vars:3,consts:[["subscriptSizing","dynamic",1,"field"],[1,"text","form-input-label"],["matInput","","matTooltip","Add your first name.","required","","title","",1,"input",3,"input","value"],["matInput","","matTooltip","Add your middle name.",1,"input",3,"input","value"],["matInput","","matTooltip","Add your last name.","required","","title","",1,"input",3,"input","value"]],template:function(i,r){1&i&&(Xe(0,"mat-form-field",0)(1,"mat-label",1),Yt(2,"First Name "),ot(),Xe(3,"input",2),Bt("input",function(s){return r.updateName(s,"firstName")}),ot()(),Xe(4,"mat-form-field",0)(5,"mat-label",1),Yt(6,"Middle Name "),ot(),Xe(7,"input",3),Bt("input",function(s){return r.updateName(s,"middleName")}),ot()(),Xe(8,"mat-form-field",0)(9,"mat-label",1),Yt(10,"Last Name "),ot(),Xe(11,"input",4),Bt("input",function(s){return r.updateName(s,"lastName")}),ot()()),2&i&&(dt(3),Rt("value",r.firstNameValidator.value),dt(4),Rt("value",r.middleNameValidator.value),dt(4),Rt("value",r.lastNameValidator.value))},dependencies:[bm,Hh,zh,Kl],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   .field[_ngcontent-%COMP%]:not(:last-child){padding-right:.75rem}[_nghost-%COMP%]   .field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:left;width:100%;font-size:1rem}[_nghost-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}"],changeDetection:0})}return n})();const yGe=["fileInput"];let vGe=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-json-file-reader",this.label="Upload",this.parsedJson=new Qt}triggerFileInput(){this.fileInput.nativeElement.click()}handleFile(t){const i=t.target;if(!i.files)return;const r=i.files[0],o=new FileReader;o.onload=()=>{const s=JSON.parse(o.result);this.ga.event("json_file_load_end","json_file_reader"),this.parsedJson.emit(s)},this.ga.event("json_file_load_start","json_file_reader"),o.readAsText(r)}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(Rs))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-json-file-reader"]],viewQuery:function(i,r){if(1&i&&ki(yGe,5),2&i){let o;Dn(o=Rn())&&(r.fileInput=o.first)}},hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},inputs:{label:"label"},outputs:{parsedJson:"parsedJson"},decls:4,vars:1,consts:[["fileInput",""],["mat-button","",1,"upload-button",3,"click"],["type","file","accept","application/JSON","name","fileInput","id","fileInput",2,"display","none",3,"change"]],template:function(i,r){if(1&i){const o=Ki();Xe(0,"button",1),Bt("click",function(){return fn(o),hn(r.triggerFileInput())}),Yt(1),ot(),Xe(2,"input",2,0),Bt("change",function(a){return fn(o),hn(r.handleFile(a))}),ot()}2&i&&(dt(),Lo(r.label))},dependencies:[E_],styles:["[_nghost-%COMP%]   .upload-button[_ngcontent-%COMP%]{width:100%;height:2.25rem;transition:.6s;cursor:pointer;font-weight:500}"],changeDetection:0})}return n})();function wGe(n,e){if(1&n&&(Xe(0,"mat-error"),Yt(1),ot()),2&n){const t=In();dt(),Lo(t.getErrorMessage())}}function xGe(n,e){1&n&&(Xe(0,"div",8),Yt(1,"Organs"),ot())}function EGe(n,e){if(1&n&&(Xe(0,"mat-option",19),Yt(1),ot()),2&n){const t=e.$implicit;Rt("value",t),dt(),yo(" ",t.name," ")}}let xee=(()=>{class n{constructor(t,i,r){this.model=t,this.registration=i,this.page=r,this.registrationSelected=new Qt,this.orcidControl=new sT("",[fm.pattern("^[a-zA-Z0-9]{4}(-[a-zA-Z0-9]{4}){3}$")]),r.user$.subscribe(o=>{this.checkNameValid(o),this.orcId=r.uriToOrcid(o.orcidId)}),i.state$.subscribe(o=>{this.uploadText=o.initialRegistration?"File(s) uploaded":"No file(s) uploaded"})}getErrorMessage(){return this.orcidControl.hasError("pattern")?"Not a valid ORCID":""}updateOrcid(t){this.page.setOrcidId(t)}handleRegistrationUpload(t){this.registrationSelected.emit(),this.registration.editRegistration(t)}checkNameValid(t){this.nameValid=t.firstName.length>0&&t.lastName.length>0}setSexFromLabel(t){this.model.setSex(t.toLowerCase())}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(xr),Ae(Eo),Ae(oo))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-registration-metadata"]],outputs:{registrationSelected:"registrationSelected"},decls:38,vars:19,consts:[[1,"author-section"],[1,"section-title"],[3,"nameChange","name"],[1,"orcid-input"],["matInput","","matTooltip","Add ORCID id.","maxlength","19",1,"input",3,"input","value","formControl"],[4,"ngIf"],[1,"donor-section"],[1,"sex-toggle"],[1,"label"],[1,"radio-group",3,"change","value"],["value","male",1,"radio"],["value","female",1,"radio"],[1,"organ-selector"],["appearance","fill","subscriptSizing","dynamic",1,"form-field"],["class","label",4,"ngIf"],["disableOptionCentering","true","panelClass","organ-select","hideSingleSelectionIndicator","true",3,"selectionChange","value"],["class","organ-select-option",3,"value",4,"ngFor","ngForOf"],[1,"upload-registration"],["label","Upload","matTooltip","Upload a preexisting registration",3,"parsedJson"],[1,"organ-select-option",3,"value"]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"h2",1),Yt(2,"Author Data"),ot(),Xe(3,"ccf-name-input",2),ri(4,"async"),Bt("nameChange",function(s){return r.page.setUserName(s),r.checkNameValid(s)}),ot(),Xe(5,"mat-form-field",3)(6,"mat-label"),Yt(7,"ORCID identifier (optional)"),ot(),Xe(8,"input",4),Bt("input",function(s){return r.updateOrcid(s.target.value)}),ot(),mn(9,wGe,2,1,"mat-error",5),ot()(),Xe(10,"div",6)(11,"h2",1),Yt(12,"Donor Data"),ot(),Xe(13,"div",7)(14,"div",8),Yt(15,"Donor Sex:"),ot(),Xe(16,"mat-radio-group",9),ri(17,"async"),Bt("change",function(s){return r.setSexFromLabel(s.value)}),Xe(18,"mat-radio-button",10),Yt(19,"Male"),ot(),Xe(20,"mat-radio-button",11),Yt(21,"Female"),ot()()(),Xe(22,"div",12)(23,"div",8),Yt(24,"Select an organ:"),ot(),Xe(25,"mat-form-field",13),mn(26,xGe,2,0,"div",14),ri(27,"async"),Xe(28,"mat-select",15),ri(29,"async"),Bt("selectionChange",function(s){return r.model.setOrgan(s.value),r.model.setOrganDefaults()}),mn(30,EGe,2,2,"mat-option",16),ri(31,"async"),ot()()(),Xe(32,"div",17)(33,"div",8),Yt(34,"Upload previous registration data (optional):"),ot(),Xe(35,"ccf-json-file-reader",18),Bt("parsedJson",function(s){return r.handleRegistrationUpload(s)}),ot(),Xe(36,"div"),Yt(37),ot()()()),2&i&&(dt(3),Rt("name",ai(4,9,r.page.user$)),dt(5),Rt("value",r.orcId)("formControl",r.orcidControl),dt(),Rt("ngIf",r.orcidControl.invalid),dt(7),Rt("value",ai(17,11,r.model.sex$)),dt(10),Rt("ngIf",void 0===ai(27,13,r.model.organ$)),dt(2),Rt("value",ai(29,15,r.model.organ$)),dt(2),Rt("ngForOf",ai(31,17,r.page.organOptions$)),dt(7),Lo(r.uploadText))},dependencies:[rl,ic,bm,Hh,zh,Bfe,ub,QA,WL,Mw,Kl,bGe,j3,iM,cee,s0,vGe,gd],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:2rem}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:400;line-height:1.5rem;margin:0;padding-bottom:1.5rem}[_nghost-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;line-height:1.5rem}[_nghost-%COMP%]     .mat-mdc-form-field-infix{padding-bottom:0!important;min-height:inherit}[_nghost-%COMP%]     .mdc-text-field{padding:0;padding-bottom:.3rem!important}[_nghost-%COMP%]   .author-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .author-section[_ngcontent-%COMP%]   .orcid-input[_ngcontent-%COMP%]{width:100%;font-size:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .sex-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:1.5rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .sex-toggle[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding-right:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .sex-toggle[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;gap:3rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .organ-selector[_ngcontent-%COMP%]{padding-bottom:1.5rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .organ-selector[_ngcontent-%COMP%]     .mat-mdc-select-value{font-size:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .upload-registration[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .upload-registration[_ngcontent-%COMP%]   ccf-json-file-reader[_ngcontent-%COMP%]     button{width:10rem;height:2rem;padding:.25rem 1rem;border-radius:.125rem}[_nghost-%COMP%]     .mdc-line-ripple:before, [_nghost-%COMP%]   .mdc-line-ripple[_ngcontent-%COMP%]:after{border-bottom-width:.125rem!important}"],changeDetection:0})}return n})();const Eee=()=>[];function CGe(n,e){if(1&n){const t=Ki();Xe(0,"ccf-tag-list",23),ri(1,"async"),Bt("tagRemoved",function(r){return fn(t),hn(In().astags.removeTag(r))}),ot()}if(2&n){let t;Rt("tags",null!==(t=ai(1,1,In().astags.tags$))&&void 0!==t?t:Tp(3,Eee))}}function SGe(n,e){}let AGe=(()=>{class n{constructor(t,i,r,o){this.model=t,this.registration=i,this.page=r,this.astags=o,this.clsName="ccf-right-sidebar",this.modalClosed=!1,this.registrationExpanded=new Qt}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(xr),Ae(Eo),Ae(oo),Ae(eu))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-right-sidebar"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},inputs:{modalClosed:"modalClosed"},outputs:{registrationExpanded:"registrationExpanded"},decls:44,vars:29,consts:[["tagListPlaceholder",""],[1,"info-button-container"],["videoID","j4f9_xdBrK0","infoTitle","CCF Registration User Interface","documentationUrl","assets/docs/README.md"],[1,"scroll-wrapper"],[1,"container"],[1,"registration-metadata-panel",3,"opened","closed"],[1,"header"],["matTooltip",""],[1,"tissue-block-controls-panel",3,"expanded"],[3,"blockSizeChange","blockSize"],[3,"slicesConfigChange","slicesConfig"],[3,"rotationChange","rotation"],[1,"tags-container",3,"expanded"],["matTooltip","Review tags generated via collision detection. Add or delete tags as needed."],[3,"added","search"],["class","tag-list",3,"tags","tagRemoved",4,"ngIf","ngIfElse"],[1,"legend"],[1,"dot","assigned"],[1,"text","assigned"],[1,"dot","added"],[1,"text","added"],[1,"filler"],[1,"review-button",3,"registerData","enterErrorMode","registrationCallbackSet","displayErrors","userValid","metaData"],[1,"tag-list",3,"tagRemoved","tags"]],template:function(i,r){if(1&i){const o=Ki();Xe(0,"div",1),yn(1,"ccf-info-button",2),ot(),Xe(2,"div",3)(3,"div",4)(4,"mat-expansion-panel",5),Bt("opened",function(){return fn(o),hn(r.registrationExpanded.emit(!0))})("closed",function(){return fn(o),hn(r.registrationExpanded.emit(!1))}),Xe(5,"mat-expansion-panel-header",6)(6,"mat-panel-title",7),Yt(7,"Registration Metadata"),ot()(),yn(8,"ccf-registration-metadata"),ot(),yn(9,"mat-divider"),Xe(10,"mat-expansion-panel",8)(11,"mat-expansion-panel-header",6)(12,"mat-panel-title",7),Yt(13,"Tissue Block Controls"),ot()(),Xe(14,"ccf-block-size-input",9),ri(15,"async"),Bt("blockSizeChange",function(a){return fn(o),hn(r.model.setBlockSize(a))}),ot(),Xe(16,"ccf-slices-input",10),ri(17,"async"),Bt("slicesConfigChange",function(a){return fn(o),hn(r.model.setSlicesConfig(a))}),ot(),Xe(18,"ccf-rotation-slider",11),ri(19,"async"),Bt("rotationChange",function(a){return fn(o),hn(r.model.setRotation(a))}),ot()(),yn(20,"mat-divider"),Xe(21,"mat-expansion-panel",12)(22,"mat-expansion-panel-header",6)(23,"mat-panel-title",13),Yt(24,"Anatomical Structure Tags"),ot()(),Xe(25,"ccf-tag-search",14),Bt("added",function(a){return fn(o),hn(r.astags.addTags(a))}),ot(),mn(26,CGe,2,4,"ccf-tag-list",15),ri(27,"async"),mn(28,SGe,0,0,"ng-template",null,0,Fv),Xe(30,"div",16),yn(31,"span",17),Xe(32,"span",18),Yt(33,"Assigned"),ot(),yn(34,"span",19),Xe(35,"span",20),Yt(36,"Added"),ot()()(),yn(37,"mat-divider")(38,"div",21),Xe(39,"ccf-review-button",22),ri(40,"async"),ri(41,"async"),ri(42,"async"),ri(43,"async"),Bt("registerData",function(){return fn(o),hn(r.registration.register())})("enterErrorMode",function(){return fn(o),hn(r.registration.setDisplayErrors(!r.registration.isValid))}),ot()()()}if(2&i){let o,s,a,c,l;const d=Ms(29);dt(10),Rt("expanded",!0),dt(4),Rt("blockSize",ai(15,12,r.model.blockSize$)),dt(2),Rt("slicesConfig",ai(17,14,r.model.slicesConfig$)),dt(2),Rt("rotation",ai(19,16,r.model.rotation$)),dt(3),Rt("expanded",!0),dt(4),Rt("search",r.astags.searchExternal),dt(),Rt("ngIf",null==(o=ai(27,18,r.model.organ$))?null:o.name)("ngIfElse",d),dt(13),Rt("registrationCallbackSet",null!==(s=ai(40,20,r.page.registrationCallbackSet$))&&void 0!==s&&s)("displayErrors",null!==(a=ai(41,22,r.registration.displayErrors$))&&void 0!==a&&a)("userValid",null!==(c=ai(42,24,r.registration.valid$))&&void 0!==c&&c)("metaData",null!==(l=ai(43,26,r.registration.metadata$))&&void 0!==l?l:Tp(28,Eee))}},dependencies:[ic,_T,nB,qK,oee,Kl,S5e,M5e,D5e,O5e,tGe,Lb,_Ge,xee,gd],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - 2.5rem);margin-top:1rem;margin-bottom:1.5rem}[_nghost-%COMP%]   .info-button-container[_ngcontent-%COMP%]{height:3.75rem;display:flex;justify-content:flex-end}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]{overflow-y:scroll;height:calc(100% - 6rem);scrollbar-width:thin}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:.75rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%;margin:0 1.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .review-button[_ngcontent-%COMP%]{position:absolute;bottom:1.5rem;z-index:999;width:calc(100% - 3.5rem)}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{border-top-width:3px}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 .5rem 0 0;font-weight:700;-webkit-user-select:none;-moz-user-select:none;font-size:1rem;height:3rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding-left:0;padding-right:0}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding-left:0;padding-right:0}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:3rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .icon.add[_ngcontent-%COMP%]{position:absolute;width:3.625rem;height:3.625rem;font-size:3.625rem;top:-1.9375rem;right:-1.1875rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .tag-list[_ngcontent-%COMP%]{max-height:32rem;margin-left:-1rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .tag-list-placeholder[_ngcontent-%COMP%]{display:flex;height:4rem;align-items:center;justify-content:center;font-weight:400}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:1.5rem;align-items:center;font-size:.9rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;border-radius:50%}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .dot.assigned[_ngcontent-%COMP%]{margin-left:.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .dot.added[_ngcontent-%COMP%]{margin-left:1rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})(),TGe=(()=>{class n{constructor(t,i,r,o){this.page=t,this.model=i,this.dialogRef=r,this.clsName="ccf-registration-content",this.sexByLabel$=this.model.sex$.pipe(Vt(s=>"female"===s?"Female":"Male")),this.organList=F3,this.registrationSelected=!1,t.user$.subscribe(s=>{this.checkNameValid(s),this.orcidValid=t.isOrcidValid(),o.markForCheck()}),i.organ$.subscribe(s=>{this.organSelected=""!==s.src,o.markForCheck()}),this.sexByLabel$.subscribe(s=>{this.setSexFromLabel(s),o.markForCheck()}),r.disableClose=!0,this.page.organOptions$.subscribe(s=>{this.organList=s,o.markForCheck()})}setSexFromLabel(t){this.currentSex=t,this.sexSelected=!0}checkNameValid(t){this.nameValid=t.firstName.length>0&&t.lastName.length>0}organSelect(t){this.currentOrgan=t,this.organSelected=!0}registerButtonClick(t){t&&t.preventDefault(),this.organSelected&&this.nameValid&&this.closeDialog()}handleRegistrationSelect(){this.registrationSelected=!0}closeDialog(){this.model.setSex("Female"===this.currentSex?"female":"male"),this.model.setOrgan(this.currentOrgan),this.registrationSelected||this.model.setOrganDefaults(),this.dialogRef.close(!0),this.page.registrationStarted()}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(oo),Ae(xr),Ae(gb),Ae(Mi))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-registration-content"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},decls:6,vars:3,consts:[[1,"modal"],[1,"title"],[3,"registrationSelected"],["mat-button","",1,"registration-button",3,"click","matTooltip"]],template:function(i,r){1&i&&(Xe(0,"div",0)(1,"div",1),Yt(2,"Start Registration"),ot(),Xe(3,"ccf-registration-metadata",2),Bt("registrationSelected",function(){return r.handleRegistrationSelect()}),ot(),Xe(4,"button",3),Bt("click",function(s){return r.registerButtonClick(s)}),Yt(5," Continue "),ot()()),2&i&&(dt(4),bn("disabled",!r.organSelected||!r.nameValid||!r.orcidValid),Rt("matTooltip",r.organSelected&&r.nameValid?"":"Required: Enter first and last name, and select an organ"))},dependencies:[Kl,xee,E_],styles:[".modal[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;max-width:47rem;display:flex;flex-direction:column;gap:2rem}.modal[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.modal[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]{display:flex;height:3rem;align-items:center}.modal[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]   .slider-label[_ngcontent-%COMP%]{font-weight:600}.modal[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]{font-weight:600;height:3rem;line-height:3rem}.modal[_ngcontent-%COMP%]   .selector-container[_ngcontent-%COMP%]{margin:0 auto}.modal[_ngcontent-%COMP%]   .registration-button[_ngcontent-%COMP%]{transition:.6s;display:flex;width:10rem;height:2rem;padding:.25rem 1rem;justify-content:center;align-items:center;border-radius:.125rem;box-shadow:0 2px 6px #00000029;cursor:pointer}.modal[_ngcontent-%COMP%]   .registration-button.disabled[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0})}return n})(),MGe=(()=>{class n{constructor(t,i,r,o,s){this.dialog=t,this.page=i,this.model=r,this.referenceData=o,this.globalConfig=s,this.clsName="ccf-registration-modal",this.dialogOpen=!1}ngOnInit(){Uo([this.page.state$,this.model.state$,this.referenceData.state$,this.globalConfig.state$]).pipe(fr(([t,i,r,o])=>{this.dialogOpen||o.editRegistration||0!==Object.keys(r.organIRILookup).length&&(""!==t.user.firstName&&""!==t.user.lastName&&""!==i.organ.src||(this.dialogOpen=!0,this.openDialog()))})).subscribe()}openDialog(){this.dialog.open(TGe,{autoFocus:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(bf),Ae(oo),Ae(xr),Ae(Dm),Ae(ss))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-registration-modal"]],hostVars:2,hostBindings:function(i,r){2&i&&Ei(r.clsName)},decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})(),IGe=(()=>{class n{get isLightTheme(){return this.theming.getTheme().endsWith("light")}constructor(t,i,r,o,s,a,c,l,d){this.model=t,this.page=i,this.consentService=r,this.snackbar=o,this.theming=s,this.globalConfig=l,this.registrationStarted=!1,this.disablePositionChange=!1,this.registrationExpanded=!1,this.theme$=this.globalConfig.getOption("theme"),this.themeMode$=new jh(1),this.header$=this.globalConfig.getOption("header"),this.homeUrl$=this.globalConfig.getOption("homeUrl"),this.logoTooltip$=this.globalConfig.getOption("logoTooltip"),this.subscriptions=new zt,s.initialize(a,c),this.subscriptions.add(i.registrationStarted$.subscribe(h=>{this.registrationStarted=h})),this.theme$.subscribe(h=>{this.theme=h??"light"}),this.globalConfig.getOption("homeUrl").subscribe(h=>{this.homeUrl=h??""}),this.globalConfig.getOption("logoTooltip").subscribe(h=>{this.logoTooltip=h??""}),Uo([this.theme$,this.themeMode$]).subscribe(([h,f])=>{this.theming.setTheme(`${h}-theme-${f}`),d.markForCheck()})}ngOnInit(){const t=this.snackbar.openFromComponent(cVe,{data:{preClose:()=>{t.dismiss()}},duration:"not-set"===this.consentService.consent?1/0:3e3});this.themeMode$.next("light"),this.theming.setTheme(`${this.theme}-theme-light`)}toggleScheme(){this.themeMode$.next(this.isLightTheme?"dark":"light")}registrationToggle(t){this.registrationExpanded=t,this.registrationExpanded||(this.disablePositionChange=!1)}handleKey(t){const i=this.model.snapshot.position;if(this.disablePositionChange||!this.registrationStarted)return;t.preventDefault();const r=t.repeat?1:.5;let o=i;switch(t.key){case"q":o={...i,z:i.z+r};break;case"e":o={...i,z:i.z-r};break;case"w":o={...i,y:i.y+r};break;case"s":o={...i,y:i.y-r};break;case"a":o={...i,x:i.x-r};break;case"d":o={...i,x:i.x+r}}this.model.setPosition(o)}handleClick(t){const i=["mat-mdc-input-element","form-input-label"];for(const r of i)if("string"==typeof t.className&&t.className.includes(r))return void(this.disablePositionChange=!0);this.disablePositionChange=!1}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(xr),Ae(oo),Ae(qw),Ae(VG),Ae(N3),Ae(kn),Ae(wi),Ae(ss),Ae(Mi))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-root"]],hostBindings:function(i,r){1&i&&Bt("keydown",function(s){return r.handleKey(s)},0,Sh)("mousedown",function(s){return r.handleClick(s.target)},!1,Sh)},decls:14,vars:13,consts:[[3,"logoTooltip","homeUrl"],["opened",""],[3,"modalClosed"],["position","end","opened",""],[3,"registrationExpanded","modalClosed"],[1,"stage-content",3,"disablePositionChange"]],template:function(i,r){if(1&i&&(yn(0,"ccf-registration-modal")(1,"ccf-header",0),ri(2,"async"),ri(3,"async"),ri(4,"async"),Xe(5,"ccf-drawer-container")(6,"ccf-drawer",1),yn(7,"ccf-left-sidebar",2)(8,"ccf-drawer-toggle-button"),ot(),Xe(9,"ccf-drawer",3)(10,"ccf-right-sidebar",4),Bt("registrationExpanded",function(s){return r.registrationToggle(s)}),ot(),yn(11,"ccf-drawer-toggle-button"),ot(),Xe(12,"ccf-drawer-content"),yn(13,"ccf-content",5),ot()()),2&i){let o,s;dt(),bn("header-hidden",!1===ai(2,7,r.header$)),Rt("logoTooltip",null!==(o=ai(3,9,r.logoTooltip$))&&void 0!==o?o:"")("homeUrl",null!==(s=ai(4,11,r.homeUrl$))&&void 0!==s?s:""),dt(6),Rt("modalClosed",r.registrationStarted),dt(3),Rt("modalClosed",r.registrationStarted),dt(3),Rt("disablePositionChange",r.disablePositionChange)}},dependencies:[a8e,nM,B3,c8e,x8e,Q8e,C5e,AGe,MGe,gd],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:hidden;font-size:1rem;color:#000}[_nghost-%COMP%]   .header-hidden[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer[_ngcontent-%COMP%]{width:25.5rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]{position:relative;z-index:1}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]{top:0rem;display:flex;flex-direction:column;position:relative;height:5.688rem;transition:all .5s ease-in-out}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer.expanded[_ngcontent-%COMP%]{height:15rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   ccf-organ-selector[_ngcontent-%COMP%]{height:100%;padding-top:.5rem;transition:all .5s}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   ccf-organ-selector.closed[_ngcontent-%COMP%]{padding-top:0}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;height:0;z-index:2}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{cursor:pointer;transition:.6s}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]{width:3rem;height:1.2rem;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:#fff;border-bottom-left-radius:.2rem;border-bottom-right-radius:.2rem;transition:.6s}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]:hover{background-color:#ececec}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer.closed[_ngcontent-%COMP%]{height:3rem;top:-2.9rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .stage-content[_ngcontent-%COMP%]{border-radius:.5rem;height:calc(100% - 2.5rem)}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .expanded-stage[_ngcontent-%COMP%]{height:calc(100% - 1.5rem);padding-bottom:1rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .retracted-stage[_ngcontent-%COMP%]{height:calc(100% - 16.688rem)}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-content[_ngcontent-%COMP%]{position:absolute;transition-duration:.5s;transition-timing-function:ease-in-out;transition-property:all;bottom:1.5rem;z-index:1}  .mdc-snackbar__surface{box-shadow:none!important}"],changeDetection:0})}return n})();function DGe(n,e){1&n&&yn(0,"ccf-root")}function RGe(n){try{return UZ.json(n)}catch{return""+n}}let OGe=(()=>{class n extends VHe{constructor(t,i){super(t,i,{initialConfig:{...Zd_dbOptions,...globalThis.ruiConfig,...Zd_customization},parse:{useDownload:UZ.boolean,user:UZ.json,organ:RGe,editRegistration:UZ.json,register:UZ.function,cancelRegistration:UZ.function,fetchPreviousRegistrations:UZ.function,skipUnsavedChangesConfirmation:UZ.boolean,header:UZ.boolean,organOptions:UZ.stringArray}})}static#e=this.\u0275fac=function(i){return new(i||n)(Ae(ss),Ae(Mi))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-root-wc"]],inputs:{baseHref:"baseHref",useDownload:"useDownload",user:"user",organ:"organ",editRegistration:"editRegistration",register:"register",cancelRegistration:"cancelRegistration",fetchPreviousRegistrations:"fetchPreviousRegistrations",skipUnsavedChangesConfirmation:"skipUnsavedChangesConfirmation",theme:"theme",header:"header",homeUrl:"homeUrl",logoTooltip:"logoTooltip",organOptions:"organOptions",collisionsEndpoint:"collisionsEndpoint"},features:[mi],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(i,r){1&i&&mn(0,DGe,1,0,"ccf-root",0),2&i&&Rt("ngIf",r.initialized)},dependencies:[ic,IGe],encapsulation:2,changeDetection:0})}return n})();const kGe=new vt("Global configuration object");function PGe(n){return n.get("ruiConfig",{user:{firstName:"",lastName:""}})}let NGe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({providers:[{provide:kGe,useFactory:PGe,deps:[lB]}]})}return n})(),FGe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({providers:[{provide:jv,useValue:N3.initialize,multi:!0},N3]})}return n})();const cM=(n,e)=>((n,e)=>new Array(e+1).join("0"))(0,e-n.toString().length)+n;class jGe{constructor(e,t,i){this.action=e,this.store=t,this.logWriter=i}dispatched(e){const t=dm(this.action),i=function BGe(n){return cM(n.getHours(),2)+":"+cM(n.getMinutes(),2)+":"+cM(n.getSeconds(),2)+"."+cM(n.getMilliseconds(),3)}(new Date);this.logWriter.startGroup(`action ${t} @ ${i}`),this._hasPayload(this.action)&&this.logWriter.logGrey("payload",Object.assign({},this.action)),this.logWriter.logGrey("prev state",e)}completed(e){this.logWriter.logGreen("next state",e),this.logWriter.endGroup()}errored(e){this.logWriter.logRedish("next state after error",this.store.snapshot()),this.logWriter.logRedish("error",e),this.logWriter.endGroup()}_hasPayload(e){return this._getNonEmptyProperties(e).length>0}_getNonEmptyProperties(e){return Object.keys(e).map(r=>e[r]).filter(r=>void 0!==r)}}class UGe{constructor(e){this.options=e,this.options=this.options||{},this.logger=e.logger||console}startGroup(e){const t=this.options.collapsed?this.logger.groupCollapsed:this.logger.group;try{t.call(this.logger,e)}catch{console.log(e)}}endGroup(){try{this.logger.groupEnd()}catch{this.logger.log("\u2014\u2014 log end \u2014\u2014")}}logGrey(e,t){this.log(e,"color: #9E9E9E; font-weight: bold",t)}logGreen(e,t){this.log(e,"color: #4CAF50; font-weight: bold",t)}logRedish(e,t){this.log(e,"color: #FD8182; font-weight: bold",t)}log(e,t,i){this.isIE()?this.logger.log(e,i):this.logger.log("%c "+e,t,i)}isIE(){const e=typeof window<"u"&&window.navigator.userAgent?window.navigator.userAgent:"";let t=!1;const i=e.indexOf("MSIE "),r=e.indexOf("Trident/");return(i>-1||r>-1)&&(t=!0),t}}const Cee=new vt("NGXS_LOGGER_PLUGIN_OPTIONS");let VGe=(()=>{class n{constructor(t,i){this._options=t,this._injector=i}handle(t,i,r){if(this._options.disabled||!this._options.filter(i,t))return r(t,i);this._logWriter=this._logWriter||new UGe(this._options),this._store=this._store||this._injector.get(Vd);const o=new jGe(i,this._store,this._logWriter);return o.dispatched(t),r(t,i).pipe(fr(s=>{o.completed(s)}),ac(s=>{throw o.errored(s),s}))}}return n.\u0275fac=function(t){return new(t||n)(et(Cee),et(wi))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac}),n})();const See=new vt("LOGGER_USER_OPTIONS");function zGe(n){return Object.assign(Object.assign({},{logger:console,collapsed:!1,disabled:!1,filter:()=>!0}),n)}let HGe=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:mL,useClass:VGe,multi:!0},{provide:See,useValue:t},{provide:Cee,useFactory:zGe,deps:[See]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dn({type:n}),n.\u0275inj=cn({}),n})();const K3=new vt(""),Tee=new vt(""),J3="@@STATE";function GGe(n){return Object.assign({key:[J3],storage:0,serialize:JSON.stringify,deserialize:JSON.parse,beforeSerialize:e=>e,afterDeserialize:e=>e},n)}function WGe(n,e){return Hv(e)?null:0===n.storage?localStorage:1===n.storage?sessionStorage:null}function Mee(n,e){return e&&e.namespace?`${e.namespace}:${n}`:n}function Iee(n){return null!=n&&!!n.engine}const Dee="NGXS_OPTIONS_META",Ree=new vt("");function YGe(n,e){const i=(Array.isArray(e.key)?e.key:[e.key]).map(r=>{const o=function $Ge(n){return Iee(n)&&(n=n.key),n.hasOwnProperty(Dee)&&(n=n[Dee].name),n instanceof DNe?n.getName():n}(r);return{key:o,engine:Iee(r)?n.get(r.engine):n.get(Tee)}});return Object.assign(Object.assign({},e),{keysWithEngines:i})}let XGe=(()=>{class n{constructor(t,i){this._options=t,this._platformId=i,this._keysWithEngines=this._options.keysWithEngines,this._usesDefaultStateKey=1===this._keysWithEngines.length&&this._keysWithEngines[0].key===J3}handle(t,i,r){var o;if(Hv(this._platformId))return r(t,i);const s=function O2e(n){const e=dm(n);return function(t){return e===dm(t)}}(i),a=s(xL),c=s(EL),l=a||c;let d=!1;if(l){const h=c&&i.addedStates;for(const{key:f,engine:m}of this._keysWithEngines){if(!this._usesDefaultStateKey&&h){const E=f.indexOf(KGe),L=E>-1?f.slice(0,E):f;if(!h.hasOwnProperty(L))continue}const g=Mee(f,this._options);let v=m.getItem(g);if("undefined"!==v&&null!=v){try{const E=this._options.deserialize(v);v=this._options.afterDeserialize(E,f)}catch{v={}}null===(o=this._options.migrations)||void 0===o||o.forEach(E=>{E.version===yw(v,E.versionKey||"version")&&(!E.key&&this._usesDefaultStateKey||E.key===f)&&(v=E.migrate(v),d=!0)}),this._usesDefaultStateKey?(v&&h&&Object.keys(h).length>0&&(v=Object.keys(h).reduce((E,L)=>(v.hasOwnProperty(L)&&(E[L]=v[L]),E),{})),t=Object.assign(Object.assign({},t),v)):t=hL(t,f,v)}}}return r(t,i).pipe(fr(h=>{if(!l||d)for(const{key:f,engine:m}of this._keysWithEngines){let g=h;const v=Mee(f,this._options);f!==J3&&(g=yw(h,f));try{const E=this._options.beforeSerialize(g,f);m.setItem(v,this._options.serialize(E))}catch(E){}}}))}}return n.\u0275fac=function(t){return new(t||n)(et(Ree),et(Ls))},n.\u0275prov=Ot({token:n,factory:n.\u0275fac}),n})();const KGe=".",kee=new vt("");let QGe=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:mL,useClass:XGe,multi:!0},{provide:kee,useValue:t},{provide:K3,useFactory:GGe,deps:[kee]},{provide:Tee,useFactory:WGe,deps:[K3,Ls]},{provide:Ree,useFactory:YGe,deps:[wi,K3]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dn({type:n}),n.\u0275inj=cn({}),n})();new vt("",{providedIn:"root",factory:()=>_d(kt(Ls))?localStorage:null}),new vt("",{providedIn:"root",factory:()=>_d(kt(Ls))?sessionStorage:null});const Nee=[{name:"bladder",namespace:"app",url:"assets/icons/organ-icons/organ-icon-bladder.svg"},{name:"blood",namespace:"app",url:"assets/icons/organ-icons/organ-icon-blood.svg"},{name:"bone-marrow",namespace:"app",url:"assets/icons/organ-icons/organ-icon-bone-marrow.svg"},{name:"brain",namespace:"app",url:"assets/icons/organ-icons/organ-icon-brain.svg"},{name:"mammary-gland",namespace:"app",url:"assets/icons/organ-icons/organ-icon-breast.svg"},{name:"main-bronchus",namespace:"app",url:"assets/icons/organ-icons/organ-icon-extrapulmonary-bronchus.svg"},{name:"eye",namespace:"app",url:"assets/icons/organ-icons/organ-icon-eye.svg"},{name:"fallopian-tube-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-fallopian-tube-left.svg"},{name:"fallopian-tube-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-fallopian-tube-right.svg"},{name:"heart",namespace:"app",url:"assets/icons/organ-icons/organ-icon-heart.svg"},{name:"kidney-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-kidney-left.svg"},{name:"kidney-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-kidney-right.svg"},{name:"kidneys",namespace:"app",url:"assets/icons/organ-icons/organ-icon-kidneys.svg"},{name:"knee",namespace:"app",url:"assets/icons/organ-icons/organ-icon-knee.svg"},{name:"large-intestine",namespace:"app",url:"assets/icons/organ-icons/organ-icon-large-intestine.svg"},{name:"larynx",namespace:"app",url:"assets/icons/organ-icons/organ-icon-larynx.svg"},{name:"liver",namespace:"app",url:"assets/icons/organ-icons/organ-icon-liver.svg"},{name:"lung-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-lung-left.svg"},{name:"lung-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-lung-right.svg"},{name:"lung",namespace:"app",url:"assets/icons/organ-icons/organ-icon-lungs.svg"},{name:"lymph-nodes",namespace:"app",url:"assets/icons/organ-icons/organ-icon-lymph-nodes.svg"},{name:"neurons",namespace:"app",url:"assets/icons/organ-icons/organ-icon-neurons.svg"},{name:"ovaries",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ovaries.svg"},{name:"ovary-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ovary-left.svg"},{name:"ovary-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ovary-right.svg"},{name:"palatine-tonsil",namespace:"app",url:"assets/icons/organ-icons/organ-icon-palatine-tonsil.svg"},{name:"pancreas",namespace:"app",url:"assets/icons/organ-icons/organ-icon-pancreas.svg"},{name:"pelvis-f",namespace:"app",url:"assets/icons/organ-icons/organ-icon-pelvis.svg"},{name:"placenta",namespace:"app",url:"assets/icons/organ-icons/organ-icon-placenta.svg"},{name:"prostate",namespace:"app",url:"assets/icons/organ-icons/organ-icon-prostate.svg"},{name:"skin",namespace:"app",url:"assets/icons/organ-icons/organ-icon-skin.svg"},{name:"small-intestine",namespace:"app",url:"assets/icons/organ-icons/organ-icon-small-intestine.svg"},{name:"spinal-cord",namespace:"app",url:"assets/icons/organ-icons/organ-icon-spinal-cord.svg"},{name:"spleen",namespace:"app",url:"assets/icons/organ-icons/organ-icon-spleen.svg"},{name:"stomach",namespace:"app",url:"assets/icons/organ-icons/organ-icon-stomach.svg"},{name:"thymus",namespace:"app",url:"assets/icons/organ-icons/organ-icon-thymus.svg"},{name:"trachea",namespace:"app",url:"assets/icons/organ-icons/organ-icon-trachea.svg"},{name:"ureter-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ureter-left.svg"},{name:"ureter-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ureter-right.svg"},{name:"uterus",namespace:"app",url:"assets/icons/organ-icons/organ-icon-uterus.svg"},{name:"vasculature-thick",namespace:"app",url:"assets/icons/organ-icons/organ-icon-vasculature-thick.svg"},{name:"vasculature-thin",namespace:"app",url:"assets/icons/organ-icons/organ-icon-vasculature-thin.svg"},{name:"opacity",namespace:"app",url:"assets/icons/opacity-24px.svg"},{name:"visibility_on",namespace:"app",url:"assets/icons/visibility-on-24px.svg"},{name:"visibility_off",namespace:"app",url:"assets/icons/visibility-off-24px.svg"},{name:"visibility_off_cube",namespace:"app",url:"assets/icons/ico-cube.svg"}];let lM=class _M extends A3e{constructor(e,t,i){super(),this.registry=e,this.sanitizer=t,this.globalConfig=i}ngxsOnInit(){Nee.filter(e=>void 0!==e.html).map(e=>({...e,html:this.sanitizer.bypassSecurityTrustHtml(e.html??"")})).forEach(e=>this.registerIconImpl(e)),this.registry?.addSvgIconResolver((e,t)=>{const i=Nee.find(o=>(o.name??"")===e&&(o.namespace??"")===t);return void 0===i?.url?null:this.sanitizer.bypassSecurityTrustResourceUrl((this.globalConfig.snapshot.baseHref??"")+i.url)})}registerIcon(e){return this.registerIconImpl(e)}registerIconImpl(e){if(!this.registry||!e.url&&!e.html)return!1;const t=this.registry,r=t[this.getMethodName(e)],o=this.getArguments(e);if(!r)return!1;try{return r.apply(t,o),!0}catch{return!1}}getMethodName({name:e,namespace:t,url:i}){const r=["addSvgIcon"];return e||r.push("Set"),i||r.push("Literal"),t&&r.push("InNamespace"),r.join("")}getArguments({name:e,namespace:t,url:i,html:r}){return[t,e,i??r].filter(s=>!!s)}static#e=this.\u0275fac=function(t){return new(t||_M)(et(f0,8),et(Rp),et(ss))};static#t=this.\u0275prov=Ot({token:_M,factory:_M.\u0275fac})};Nt([ti(),ke("design:type",Function),ke("design:paramtypes",[Object]),ke("design:returntype",Boolean)],lM.prototype,"registerIcon",null),lM=Nt([Xu(),zd({name:"iconRegistry"}),ke("design:paramtypes",[Object,Rp,ss])],lM);const ZGe=[ss,lM,oo,xr,eu,Dm,Eo,Ia];let e6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[v3e.forRoot(),wNe.forRoot(ZGe,{developmentMode:!1}),QGe.forRoot({key:["registration.registrations"]}),HGe.forRoot({disabled:true})]})}return n})(),t6e=(()=>{class n{constructor(t){if(t)throw new Error("The core module should only be imported once in the root module")}static#e=this.\u0275fac=function(i){return new(i||n)(et(n,12))};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[aG,oVe.forRoot({gaToken:"G-ERNVZ1Q4KE",appName:"rui"}),ZUe,NGe,e6e,FGe]})}return n})(),n6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,L8e]})}return n})(),i6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,nee,z3,vo,V3,n6e,_l]})}return n})(),r6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,QK,vo,gT]})}return n})(),o6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,vo,r6e]})}return n})(),s6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,i6e,vo,C2e,o6e,Ll,BHe,v_e]})}return n})(),a6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,vo,_l]})}return n})(),c6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,z3]})}return n})(),Fee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,pb,$L,qL,_l]})}return n})(),l6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,vo,Ll,AK]})}return n})(),Lee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,vo,bee]})}return n})(),d6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,iB,vo,_l,V3,Fee,Lee,c6e,AK,l6e,Lee]})}return n})(),u6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,Yh]})}return n})(),Bee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,pb,$L,qL,_l,Fee,nee,Gh,z3,Yh,_l,u6e]})}return n})(),h6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,_l,Bee,Yh]})}return n})(),f6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,gT,vo,h6e]})}return n})(),p6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,pb,vo,Ll,_l,Gh]})}return n})(),m6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,vo,SK,Ll,_l,pb,Gh]})}return n})(),g6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,pb,vo,Ll,_l,EBe,Gh]})}return n})(),_6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,bee,vo]})}return n})(),b6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,$L,qL,Yh,hGe,Gh,vo,pb]})}return n})(),y6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,gT,vo,Yh]})}return n})(),v6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,y6e,Yh,_l]})}return n})(),w6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({imports:[Vi,iB,V3,vo,aP,_l,p6e,v6e,m6e,g6e,_6e,b6e,xBe,Bee]})}return n})(),x6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({providers:[{provide:$Z,useValue:WZ}],imports:[$O,aP,vo]})}return n})(),E6e=(()=>{class n{constructor(t){this.injector=t}ngDoBootstrap(){const t=function Due(n,e){const t=function Eue(n,e){return e.get(Ih).resolveComponentFactory(n).inputs}(n,e.injector),i=e.strategyFactory||new Tue(n,e.injector),r=function xue(n){const e={};return n.forEach(({propName:t,templateName:i,transform:r})=>{e[function _ue(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(i)]=[t,r]}),e}(t);class o extends Iue{static#e=this.observedAttributes=Object.keys(r);get ngElementStrategy(){if(!this._ngElementStrategy){const a=this._ngElementStrategy=i.create(this.injector||e.injector);t.forEach(({propName:c,transform:l})=>{if(!this.hasOwnProperty(c))return;const d=this[c];delete this[c],a.setInputValue(c,d,l)})}return this._ngElementStrategy}constructor(a){super(),this.injector=a}attributeChangedCallback(a,c,l,d){const[h,f]=r[a];this.ngElementStrategy.setInputValue(h,l,f)}connectedCallback(){let a=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a=!0),this.ngElementStrategy.connect(this),a||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a=>{const c=new CustomEvent(a.name,{detail:a.value});this.dispatchEvent(c)})}}return t.forEach(({propName:s,transform:a})=>{Object.defineProperty(o.prototype,s,{get(){return this.ngElementStrategy.getInputValue(s)},set(c){this.ngElementStrategy.setInputValue(s,c,a)},configurable:!0,enumerable:!0})}),o}(OGe,{injector:this.injector});customElements.define("ccf-rui",t)}static#e=this.\u0275fac=function(i){return new(i||n)(et(wi))};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=cn({providers:[{provide:VZ,useValue:"hubmap-theme-light"},{provide:z5,useValue:{floatLabel:!0}}],imports:[$O,aP,t6e,vo,x6e,a6e,s6e,d6e,w6e,f6e,eVe,Rme]})}return n})();Ide().bootstrapModule(E6e).catch(n=>console.error(n))},5064:Ue=>{Ue.exports=function(S,Z){var A=Z.length;if(0!==A){var Y=S.length;S.length+=A;for(var G=0;G<A;G++)S[Y+G]=Z[G]}}},9465:Ue=>{"use strict";const{AbortController:ge,AbortSignal:S}=typeof self<"u"?self:typeof window<"u"?window:void 0;Ue.exports=ge,Ue.exports.AbortSignal=S,Ue.exports.default=ge},3981:(Ue,ge)=>{"use strict";ge.byteLength=function x(w){var F=_(w),$=F[1];return 3*(F[0]+$)/4-$},ge.toByteArray=function W(w){var F,y,oe=_(w),$=oe[0],z=oe[1],ee=new A(function N(w,F,oe){return 3*(F+oe)/4-oe}(0,$,z)),q=0,B=z>0?$-4:$;for(y=0;y<B;y+=4)F=Z[w.charCodeAt(y)]<<18|Z[w.charCodeAt(y+1)]<<12|Z[w.charCodeAt(y+2)]<<6|Z[w.charCodeAt(y+3)],ee[q++]=F>>16&255,ee[q++]=F>>8&255,ee[q++]=255&F;return 2===z&&(F=Z[w.charCodeAt(y)]<<2|Z[w.charCodeAt(y+1)]>>4,ee[q++]=255&F),1===z&&(F=Z[w.charCodeAt(y)]<<10|Z[w.charCodeAt(y+1)]<<4|Z[w.charCodeAt(y+2)]>>2,ee[q++]=F>>8&255,ee[q++]=255&F),ee},ge.fromByteArray=function re(w){for(var F,oe=w.length,$=oe%3,z=[],q=0,B=oe-$;q<B;q+=16383)z.push(D(w,q,q+16383>B?B:q+16383));return 1===$?z.push(S[(F=w[oe-1])>>2]+S[F<<4&63]+"=="):2===$&&z.push(S[(F=(w[oe-2]<<8)+w[oe-1])>>10]+S[F>>4&63]+S[F<<2&63]+"="),z.join("")};for(var S=[],Z=[],A=typeof Uint8Array<"u"?Uint8Array:Array,Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",G=0;G<64;++G)S[G]=Y[G],Z[Y.charCodeAt(G)]=G;function _(w){var F=w.length;if(F%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var oe=w.indexOf("=");return-1===oe&&(oe=F),[oe,oe===F?0:4-oe%4]}function R(w){return S[w>>18&63]+S[w>>12&63]+S[w>>6&63]+S[63&w]}function D(w,F,oe){for(var z=[],ee=F;ee<oe;ee+=3)z.push(R((w[ee]<<16&16711680)+(w[ee+1]<<8&65280)+(255&w[ee+2])));return z.join("")}Z[45]=62,Z[95]=63},6887:(Ue,ge)=>{"use strict";var Z=function(Y){return Y.typeOfFunction="function",Y.boolTrue=!0,Y}(Z||{});ge.oI=function A(Y,G,X){if(!X||typeof X.value!==Z.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+G+"> is not a method!");return{configurable:Z.boolTrue,get:function(){var _=X.value.bind(this);return Object.defineProperty(this,G,{value:_,configurable:Z.boolTrue,writable:Z.boolTrue}),_}}}},3838:(Ue,ge,S)=>{"use strict";var Z=S(3981),A=S(2020);ge.Buffer=_,ge.SlowBuffer=function $(U){return+U!=U&&(U=0),_.alloc(+U)},ge.INSPECT_MAX_BYTES=50;var Y=2147483647;function X(U){if(U>Y)throw new RangeError('The value "'+U+'" is invalid for option "size"');var I=new Uint8Array(U);return I.__proto__=_.prototype,I}function _(U,I,k){if("number"==typeof U){if("string"==typeof I)throw new TypeError('The "string" argument must be of type string. Received type number');return R(U)}return x(U,I,k)}function x(U,I,k){if("string"==typeof U)return function D(U,I){if(("string"!=typeof I||""===I)&&(I="utf8"),!_.isEncoding(I))throw new TypeError("Unknown encoding: "+I);var k=0|z(U,I),he=X(k),qe=he.write(U,I);return qe!==k&&(he=he.slice(0,qe)),he}(U,I);if(ArrayBuffer.isView(U))return re(U);if(null==U)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(de(U,ArrayBuffer)||U&&de(U.buffer,ArrayBuffer))return function w(U,I,k){if(I<0||U.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<I+(k||0))throw new RangeError('"length" is outside of buffer bounds');var he;return(he=void 0===I&&void 0===k?new Uint8Array(U):void 0===k?new Uint8Array(U,I):new Uint8Array(U,I,k)).__proto__=_.prototype,he}(U,I,k);if("number"==typeof U)throw new TypeError('The "value" argument must not be of type number. Received type number');var he=U.valueOf&&U.valueOf();if(null!=he&&he!==U)return _.from(he,I,k);var qe=function F(U){if(_.isBuffer(U)){var I=0|oe(U.length),k=X(I);return 0===k.length||U.copy(k,0,0,I),k}return void 0!==U.length?"number"!=typeof U.length||te(U.length)?X(0):re(U):"Buffer"===U.type&&Array.isArray(U.data)?re(U.data):void 0}(U);if(qe)return qe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof U[Symbol.toPrimitive])return _.from(U[Symbol.toPrimitive]("string"),I,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function N(U){if("number"!=typeof U)throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function R(U){return N(U),X(U<0?0:0|oe(U))}function re(U){for(var I=U.length<0?0:0|oe(U.length),k=X(I),he=0;he<I;he+=1)k[he]=255&U[he];return k}function oe(U){if(U>=Y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Y.toString(16)+" bytes");return 0|U}function z(U,I){if(_.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||de(U,ArrayBuffer))return U.byteLength;if("string"!=typeof U)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);var k=U.length,he=arguments.length>2&&!0===arguments[2];if(!he&&0===k)return 0;for(var qe=!1;;)switch(I){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return C(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*k;case"hex":return k>>>1;case"base64":return He(U).length;default:if(qe)return he?-1:C(U).length;I=(""+I).toLowerCase(),qe=!0}}function ee(U,I,k){var he=!1;if((void 0===I||I<0)&&(I=0),I>this.length||((void 0===k||k>this.length)&&(k=this.length),k<=0)||(k>>>=0)<=(I>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return je(this,I,k);case"utf8":case"utf-8":return Oe(this,I,k);case"ascii":return Ze(this,I,k);case"latin1":case"binary":return Te(this,I,k);case"base64":return xe(this,I,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ce(this,I,k);default:if(he)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),he=!0}}function q(U,I,k){var he=U[I];U[I]=U[k],U[k]=he}function B(U,I,k,he,qe){if(0===U.length)return-1;if("string"==typeof k?(he=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),te(k=+k)&&(k=qe?0:U.length-1),k<0&&(k=U.length+k),k>=U.length){if(qe)return-1;k=U.length-1}else if(k<0){if(!qe)return-1;k=0}if("string"==typeof I&&(I=_.from(I,he)),_.isBuffer(I))return 0===I.length?-1:y(U,I,k,he,qe);if("number"==typeof I)return I&=255,"function"==typeof Uint8Array.prototype.indexOf?qe?Uint8Array.prototype.indexOf.call(U,I,k):Uint8Array.prototype.lastIndexOf.call(U,I,k):y(U,[I],k,he,qe);throw new TypeError("val must be string, number or Buffer")}function y(U,I,k,he,qe){var Wt,Ee=1,Ve=U.length,it=I.length;if(void 0!==he&&("ucs2"===(he=String(he).toLowerCase())||"ucs-2"===he||"utf16le"===he||"utf-16le"===he)){if(U.length<2||I.length<2)return-1;Ee=2,Ve/=2,it/=2,k/=2}function At(V,ne){return 1===Ee?V[ne]:V.readUInt16BE(ne*Ee)}if(qe){var It=-1;for(Wt=k;Wt<Ve;Wt++)if(At(U,Wt)===At(I,-1===It?0:Wt-It)){if(-1===It&&(It=Wt),Wt-It+1===it)return It*Ee}else-1!==It&&(Wt-=Wt-It),It=-1}else for(k+it>Ve&&(k=Ve-it),Wt=k;Wt>=0;Wt--){for(var zt=!0,pe=0;pe<it;pe++)if(At(U,Wt+pe)!==At(I,pe)){zt=!1;break}if(zt)return Wt}return-1}function M(U,I,k,he){k=Number(k)||0;var qe=U.length-k;he?(he=Number(he))>qe&&(he=qe):he=qe;var Ee=I.length;he>Ee/2&&(he=Ee/2);for(var Ve=0;Ve<he;++Ve){var it=parseInt(I.substr(2*Ve,2),16);if(te(it))return Ve;U[k+Ve]=it}return Ve}function T(U,I,k,he){return Je(C(I,U.length-k),U,k,he)}function ce(U,I,k,he){return Je(function ie(U){for(var I=[],k=0;k<U.length;++k)I.push(255&U.charCodeAt(k));return I}(I),U,k,he)}function j(U,I,k,he){return ce(U,I,k,he)}function Ie(U,I,k,he){return Je(He(I),U,k,he)}function ae(U,I,k,he){return Je(function J(U,I){for(var k,he,Ee=[],Ve=0;Ve<U.length&&!((I-=2)<0);++Ve)he=(k=U.charCodeAt(Ve))>>8,Ee.push(k%256),Ee.push(he);return Ee}(I,U.length-k),U,k,he)}function xe(U,I,k){return Z.fromByteArray(0===I&&k===U.length?U:U.slice(I,k))}function Oe(U,I,k){k=Math.min(U.length,k);for(var he=[],qe=I;qe<k;){var At,Wt,It,zt,Ee=U[qe],Ve=null,it=Ee>239?4:Ee>223?3:Ee>191?2:1;if(qe+it<=k)switch(it){case 1:Ee<128&&(Ve=Ee);break;case 2:128==(192&(At=U[qe+1]))&&(zt=(31&Ee)<<6|63&At)>127&&(Ve=zt);break;case 3:Wt=U[qe+2],128==(192&(At=U[qe+1]))&&128==(192&Wt)&&(zt=(15&Ee)<<12|(63&At)<<6|63&Wt)>2047&&(zt<55296||zt>57343)&&(Ve=zt);break;case 4:Wt=U[qe+2],It=U[qe+3],128==(192&(At=U[qe+1]))&&128==(192&Wt)&&128==(192&It)&&(zt=(15&Ee)<<18|(63&At)<<12|(63&Wt)<<6|63&It)>65535&&zt<1114112&&(Ve=zt)}null===Ve?(Ve=65533,it=1):Ve>65535&&(he.push((Ve-=65536)>>>10&1023|55296),Ve=56320|1023&Ve),he.push(Ve),qe+=it}return function nt(U){var I=U.length;if(I<=ze)return String.fromCharCode.apply(String,U);for(var k="",he=0;he<I;)k+=String.fromCharCode.apply(String,U.slice(he,he+=ze));return k}(he)}ge.kMaxLength=Y,!(_.TYPED_ARRAY_SUPPORT=function G(){try{var U=new Uint8Array(1);return U.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===U.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(_.prototype,"parent",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.buffer}}),Object.defineProperty(_.prototype,"offset",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&_[Symbol.species]===_&&Object.defineProperty(_,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),_.poolSize=8192,_.from=function(U,I,k){return x(U,I,k)},_.prototype.__proto__=Uint8Array.prototype,_.__proto__=Uint8Array,_.alloc=function(U,I,k){return function W(U,I,k){return N(U),U<=0?X(U):void 0!==I?"string"==typeof k?X(U).fill(I,k):X(U).fill(I):X(U)}(U,I,k)},_.allocUnsafe=function(U){return R(U)},_.allocUnsafeSlow=function(U){return R(U)},_.isBuffer=function(I){return null!=I&&!0===I._isBuffer&&I!==_.prototype},_.compare=function(I,k){if(de(I,Uint8Array)&&(I=_.from(I,I.offset,I.byteLength)),de(k,Uint8Array)&&(k=_.from(k,k.offset,k.byteLength)),!_.isBuffer(I)||!_.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===k)return 0;for(var he=I.length,qe=k.length,Ee=0,Ve=Math.min(he,qe);Ee<Ve;++Ee)if(I[Ee]!==k[Ee]){he=I[Ee],qe=k[Ee];break}return he<qe?-1:qe<he?1:0},_.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(I,k){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(0===I.length)return _.alloc(0);var he;if(void 0===k)for(k=0,he=0;he<I.length;++he)k+=I[he].length;var qe=_.allocUnsafe(k),Ee=0;for(he=0;he<I.length;++he){var Ve=I[he];if(de(Ve,Uint8Array)&&(Ve=_.from(Ve)),!_.isBuffer(Ve))throw new TypeError('"list" argument must be an Array of Buffers');Ve.copy(qe,Ee),Ee+=Ve.length}return qe},_.byteLength=z,_.prototype._isBuffer=!0,_.prototype.swap16=function(){var I=this.length;if(I%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var k=0;k<I;k+=2)q(this,k,k+1);return this},_.prototype.swap32=function(){var I=this.length;if(I%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var k=0;k<I;k+=4)q(this,k,k+3),q(this,k+1,k+2);return this},_.prototype.swap64=function(){var I=this.length;if(I%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var k=0;k<I;k+=8)q(this,k,k+7),q(this,k+1,k+6),q(this,k+2,k+5),q(this,k+3,k+4);return this},_.prototype.toLocaleString=_.prototype.toString=function(){var I=this.length;return 0===I?"":0===arguments.length?Oe(this,0,I):ee.apply(this,arguments)},_.prototype.equals=function(I){if(!_.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I||0===_.compare(this,I)},_.prototype.inspect=function(){var I="",k=ge.INSPECT_MAX_BYTES;return I=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(I+=" ... "),"<Buffer "+I+">"},_.prototype.compare=function(I,k,he,qe,Ee){if(de(I,Uint8Array)&&(I=_.from(I,I.offset,I.byteLength)),!_.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(void 0===k&&(k=0),void 0===he&&(he=I?I.length:0),void 0===qe&&(qe=0),void 0===Ee&&(Ee=this.length),k<0||he>I.length||qe<0||Ee>this.length)throw new RangeError("out of range index");if(qe>=Ee&&k>=he)return 0;if(qe>=Ee)return-1;if(k>=he)return 1;if(this===I)return 0;for(var Ve=(Ee>>>=0)-(qe>>>=0),it=(he>>>=0)-(k>>>=0),At=Math.min(Ve,it),Wt=this.slice(qe,Ee),It=I.slice(k,he),zt=0;zt<At;++zt)if(Wt[zt]!==It[zt]){Ve=Wt[zt],it=It[zt];break}return Ve<it?-1:it<Ve?1:0},_.prototype.includes=function(I,k,he){return-1!==this.indexOf(I,k,he)},_.prototype.indexOf=function(I,k,he){return B(this,I,k,he,!0)},_.prototype.lastIndexOf=function(I,k,he){return B(this,I,k,he,!1)},_.prototype.write=function(I,k,he,qe){if(void 0===k)qe="utf8",he=this.length,k=0;else if(void 0===he&&"string"==typeof k)qe=k,he=this.length,k=0;else{if(!isFinite(k))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");k>>>=0,isFinite(he)?(he>>>=0,void 0===qe&&(qe="utf8")):(qe=he,he=void 0)}var Ee=this.length-k;if((void 0===he||he>Ee)&&(he=Ee),I.length>0&&(he<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");qe||(qe="utf8");for(var Ve=!1;;)switch(qe){case"hex":return M(this,I,k,he);case"utf8":case"utf-8":return T(this,I,k,he);case"ascii":return ce(this,I,k,he);case"latin1":case"binary":return j(this,I,k,he);case"base64":return Ie(this,I,k,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,I,k,he);default:if(Ve)throw new TypeError("Unknown encoding: "+qe);qe=(""+qe).toLowerCase(),Ve=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ze=4096;function Ze(U,I,k){var he="";k=Math.min(U.length,k);for(var qe=I;qe<k;++qe)he+=String.fromCharCode(127&U[qe]);return he}function Te(U,I,k){var he="";k=Math.min(U.length,k);for(var qe=I;qe<k;++qe)he+=String.fromCharCode(U[qe]);return he}function je(U,I,k){var he=U.length;(!I||I<0)&&(I=0),(!k||k<0||k>he)&&(k=he);for(var qe="",Ee=I;Ee<k;++Ee)qe+=O(U[Ee]);return qe}function Ce(U,I,k){for(var he=U.slice(I,k),qe="",Ee=0;Ee<he.length;Ee+=2)qe+=String.fromCharCode(he[Ee]+256*he[Ee+1]);return qe}function Be(U,I,k){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+I>k)throw new RangeError("Trying to access beyond buffer length")}function ue(U,I,k,he,qe,Ee){if(!_.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>qe||I<Ee)throw new RangeError('"value" argument is out of bounds');if(k+he>U.length)throw new RangeError("Index out of range")}function Se(U,I,k,he,qe,Ee){if(k+he>U.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function at(U,I,k,he,qe){return I=+I,k>>>=0,qe||Se(U,0,k,4),A.write(U,I,k,he,23,4),k+4}function bt(U,I,k,he,qe){return I=+I,k>>>=0,qe||Se(U,0,k,8),A.write(U,I,k,he,52,8),k+8}_.prototype.slice=function(I,k){var he=this.length;(I=~~I)<0?(I+=he)<0&&(I=0):I>he&&(I=he),(k=void 0===k?he:~~k)<0?(k+=he)<0&&(k=0):k>he&&(k=he),k<I&&(k=I);var qe=this.subarray(I,k);return qe.__proto__=_.prototype,qe},_.prototype.readUIntLE=function(I,k,he){I>>>=0,k>>>=0,he||Be(I,k,this.length);for(var qe=this[I],Ee=1,Ve=0;++Ve<k&&(Ee*=256);)qe+=this[I+Ve]*Ee;return qe},_.prototype.readUIntBE=function(I,k,he){I>>>=0,k>>>=0,he||Be(I,k,this.length);for(var qe=this[I+--k],Ee=1;k>0&&(Ee*=256);)qe+=this[I+--k]*Ee;return qe},_.prototype.readUInt8=function(I,k){return I>>>=0,k||Be(I,1,this.length),this[I]},_.prototype.readUInt16LE=function(I,k){return I>>>=0,k||Be(I,2,this.length),this[I]|this[I+1]<<8},_.prototype.readUInt16BE=function(I,k){return I>>>=0,k||Be(I,2,this.length),this[I]<<8|this[I+1]},_.prototype.readUInt32LE=function(I,k){return I>>>=0,k||Be(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+16777216*this[I+3]},_.prototype.readUInt32BE=function(I,k){return I>>>=0,k||Be(I,4,this.length),16777216*this[I]+(this[I+1]<<16|this[I+2]<<8|this[I+3])},_.prototype.readIntLE=function(I,k,he){I>>>=0,k>>>=0,he||Be(I,k,this.length);for(var qe=this[I],Ee=1,Ve=0;++Ve<k&&(Ee*=256);)qe+=this[I+Ve]*Ee;return qe>=(Ee*=128)&&(qe-=Math.pow(2,8*k)),qe},_.prototype.readIntBE=function(I,k,he){I>>>=0,k>>>=0,he||Be(I,k,this.length);for(var qe=k,Ee=1,Ve=this[I+--qe];qe>0&&(Ee*=256);)Ve+=this[I+--qe]*Ee;return Ve>=(Ee*=128)&&(Ve-=Math.pow(2,8*k)),Ve},_.prototype.readInt8=function(I,k){return I>>>=0,k||Be(I,1,this.length),128&this[I]?-1*(255-this[I]+1):this[I]},_.prototype.readInt16LE=function(I,k){I>>>=0,k||Be(I,2,this.length);var he=this[I]|this[I+1]<<8;return 32768&he?4294901760|he:he},_.prototype.readInt16BE=function(I,k){I>>>=0,k||Be(I,2,this.length);var he=this[I+1]|this[I]<<8;return 32768&he?4294901760|he:he},_.prototype.readInt32LE=function(I,k){return I>>>=0,k||Be(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},_.prototype.readInt32BE=function(I,k){return I>>>=0,k||Be(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},_.prototype.readFloatLE=function(I,k){return I>>>=0,k||Be(I,4,this.length),A.read(this,I,!0,23,4)},_.prototype.readFloatBE=function(I,k){return I>>>=0,k||Be(I,4,this.length),A.read(this,I,!1,23,4)},_.prototype.readDoubleLE=function(I,k){return I>>>=0,k||Be(I,8,this.length),A.read(this,I,!0,52,8)},_.prototype.readDoubleBE=function(I,k){return I>>>=0,k||Be(I,8,this.length),A.read(this,I,!1,52,8)},_.prototype.writeUIntLE=function(I,k,he,qe){I=+I,k>>>=0,he>>>=0,qe||ue(this,I,k,he,Math.pow(2,8*he)-1,0);var Ve=1,it=0;for(this[k]=255&I;++it<he&&(Ve*=256);)this[k+it]=I/Ve&255;return k+he},_.prototype.writeUIntBE=function(I,k,he,qe){I=+I,k>>>=0,he>>>=0,qe||ue(this,I,k,he,Math.pow(2,8*he)-1,0);var Ve=he-1,it=1;for(this[k+Ve]=255&I;--Ve>=0&&(it*=256);)this[k+Ve]=I/it&255;return k+he},_.prototype.writeUInt8=function(I,k,he){return I=+I,k>>>=0,he||ue(this,I,k,1,255,0),this[k]=255&I,k+1},_.prototype.writeUInt16LE=function(I,k,he){return I=+I,k>>>=0,he||ue(this,I,k,2,65535,0),this[k]=255&I,this[k+1]=I>>>8,k+2},_.prototype.writeUInt16BE=function(I,k,he){return I=+I,k>>>=0,he||ue(this,I,k,2,65535,0),this[k]=I>>>8,this[k+1]=255&I,k+2},_.prototype.writeUInt32LE=function(I,k,he){return I=+I,k>>>=0,he||ue(this,I,k,4,4294967295,0),this[k+3]=I>>>24,this[k+2]=I>>>16,this[k+1]=I>>>8,this[k]=255&I,k+4},_.prototype.writeUInt32BE=function(I,k,he){return I=+I,k>>>=0,he||ue(this,I,k,4,4294967295,0),this[k]=I>>>24,this[k+1]=I>>>16,this[k+2]=I>>>8,this[k+3]=255&I,k+4},_.prototype.writeIntLE=function(I,k,he,qe){if(I=+I,k>>>=0,!qe){var Ee=Math.pow(2,8*he-1);ue(this,I,k,he,Ee-1,-Ee)}var Ve=0,it=1,At=0;for(this[k]=255&I;++Ve<he&&(it*=256);)I<0&&0===At&&0!==this[k+Ve-1]&&(At=1),this[k+Ve]=(I/it|0)-At&255;return k+he},_.prototype.writeIntBE=function(I,k,he,qe){if(I=+I,k>>>=0,!qe){var Ee=Math.pow(2,8*he-1);ue(this,I,k,he,Ee-1,-Ee)}var Ve=he-1,it=1,At=0;for(this[k+Ve]=255&I;--Ve>=0&&(it*=256);)I<0&&0===At&&0!==this[k+Ve+1]&&(At=1),this[k+Ve]=(I/it|0)-At&255;return k+he},_.prototype.writeInt8=function(I,k,he){return I=+I,k>>>=0,he||ue(this,I,k,1,127,-128),I<0&&(I=255+I+1),this[k]=255&I,k+1},_.prototype.writeInt16LE=function(I,k,he){return I=+I,k>>>=0,he||ue(this,I,k,2,32767,-32768),this[k]=255&I,this[k+1]=I>>>8,k+2},_.prototype.writeInt16BE=function(I,k,he){return I=+I,k>>>=0,he||ue(this,I,k,2,32767,-32768),this[k]=I>>>8,this[k+1]=255&I,k+2},_.prototype.writeInt32LE=function(I,k,he){return I=+I,k>>>=0,he||ue(this,I,k,4,2147483647,-2147483648),this[k]=255&I,this[k+1]=I>>>8,this[k+2]=I>>>16,this[k+3]=I>>>24,k+4},_.prototype.writeInt32BE=function(I,k,he){return I=+I,k>>>=0,he||ue(this,I,k,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[k]=I>>>24,this[k+1]=I>>>16,this[k+2]=I>>>8,this[k+3]=255&I,k+4},_.prototype.writeFloatLE=function(I,k,he){return at(this,I,k,!0,he)},_.prototype.writeFloatBE=function(I,k,he){return at(this,I,k,!1,he)},_.prototype.writeDoubleLE=function(I,k,he){return bt(this,I,k,!0,he)},_.prototype.writeDoubleBE=function(I,k,he){return bt(this,I,k,!1,he)},_.prototype.copy=function(I,k,he,qe){if(!_.isBuffer(I))throw new TypeError("argument should be a Buffer");if(he||(he=0),!qe&&0!==qe&&(qe=this.length),k>=I.length&&(k=I.length),k||(k=0),qe>0&&qe<he&&(qe=he),qe===he||0===I.length||0===this.length)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(he<0||he>=this.length)throw new RangeError("Index out of range");if(qe<0)throw new RangeError("sourceEnd out of bounds");qe>this.length&&(qe=this.length),I.length-k<qe-he&&(qe=I.length-k+he);var Ee=qe-he;if(this===I&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(k,he,qe);else if(this===I&&he<k&&k<qe)for(var Ve=Ee-1;Ve>=0;--Ve)I[Ve+k]=this[Ve+he];else Uint8Array.prototype.set.call(I,this.subarray(he,qe),k);return Ee},_.prototype.fill=function(I,k,he,qe){if("string"==typeof I){if("string"==typeof k?(qe=k,k=0,he=this.length):"string"==typeof he&&(qe=he,he=this.length),void 0!==qe&&"string"!=typeof qe)throw new TypeError("encoding must be a string");if("string"==typeof qe&&!_.isEncoding(qe))throw new TypeError("Unknown encoding: "+qe);if(1===I.length){var Ee=I.charCodeAt(0);("utf8"===qe&&Ee<128||"latin1"===qe)&&(I=Ee)}}else"number"==typeof I&&(I&=255);if(k<0||this.length<k||this.length<he)throw new RangeError("Out of range index");if(he<=k)return this;var Ve;if(k>>>=0,he=void 0===he?this.length:he>>>0,I||(I=0),"number"==typeof I)for(Ve=k;Ve<he;++Ve)this[Ve]=I;else{var it=_.isBuffer(I)?I:_.from(I,qe),At=it.length;if(0===At)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(Ve=0;Ve<he-k;++Ve)this[Ve+k]=it[Ve%At]}return this};var Ke=/[^+/0-9A-Za-z-_]/g;function O(U){return U<16?"0"+U.toString(16):U.toString(16)}function C(U,I){I=I||1/0;for(var k,he=U.length,qe=null,Ee=[],Ve=0;Ve<he;++Ve){if((k=U.charCodeAt(Ve))>55295&&k<57344){if(!qe){if(k>56319){(I-=3)>-1&&Ee.push(239,191,189);continue}if(Ve+1===he){(I-=3)>-1&&Ee.push(239,191,189);continue}qe=k;continue}if(k<56320){(I-=3)>-1&&Ee.push(239,191,189),qe=k;continue}k=65536+(qe-55296<<10|k-56320)}else qe&&(I-=3)>-1&&Ee.push(239,191,189);if(qe=null,k<128){if((I-=1)<0)break;Ee.push(k)}else if(k<2048){if((I-=2)<0)break;Ee.push(k>>6|192,63&k|128)}else if(k<65536){if((I-=3)<0)break;Ee.push(k>>12|224,k>>6&63|128,63&k|128)}else{if(!(k<1114112))throw new Error("Invalid code point");if((I-=4)<0)break;Ee.push(k>>18|240,k>>12&63|128,k>>6&63|128,63&k|128)}}return Ee}function He(U){return Z.toByteArray(function fe(U){if((U=(U=U.split("=")[0]).trim().replace(Ke,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U}(U))}function Je(U,I,k,he){for(var qe=0;qe<he&&!(qe+k>=I.length||qe>=U.length);++qe)I[qe+k]=U[qe];return qe}function de(U,I){return U instanceof I||null!=U&&null!=U.constructor&&null!=U.constructor.name&&U.constructor.name===I.name}function te(U){return U!=U}},1123:(Ue,ge,S)=>{Ue.exports={ResizeSensor:S(4718),ElementQueries:S(7240)}},7240:function(Ue,ge,S){"use strict";var Z,A,Y;typeof window<"u"&&window,A=[S(4718)],void 0!==(Y="function"==typeof(Z=function(G){var X=function(){var x,N={},W=[];function R(j){j||(j=document.documentElement);var Ie=window.getComputedStyle(j,null).fontSize;return parseFloat(Ie)||16}function re(j,Ie){var ae=Ie.split(/\d/),xe=ae[ae.length-1];switch(Ie=parseFloat(Ie),xe){case"px":default:return Ie;case"em":return Ie*R(j);case"rem":return Ie*R();case"vw":return Ie*document.documentElement.clientWidth/100;case"vh":return Ie*document.documentElement.clientHeight/100;case"vmin":case"vmax":var Oe=document.documentElement.clientWidth/100,ze=document.documentElement.clientHeight/100;return Ie*(0,Math["vmin"===xe?"min":"max"])(Oe,ze)}}function w(j,Ie){this.element=j;var ae,xe,Oe,ze,nt,Ze,Te,je,Ce=["min-width","min-height","max-width","max-height"];this.call=function(){for(ae in Oe=function D(j){if(!j.getBoundingClientRect)return{width:j.offsetWidth,height:j.offsetHeight};var Ie=j.getBoundingClientRect();return{width:Math.round(Ie.width),height:Math.round(Ie.height)}}(this.element),Ze={},N[Ie])N[Ie].hasOwnProperty(ae)&&(ze=re(this.element,(xe=N[Ie][ae]).value),nt="width"===xe.property?Oe.width:Oe.height,Te="","min"===xe.mode&&nt>=ze&&(Te+=xe.value),"max"===xe.mode&&nt<=ze&&(Te+=xe.value),Ze[je=xe.mode+"-"+xe.property]||(Ze[je]=""),Te&&-1===(" "+Ze[je]+" ").indexOf(" "+Te+" ")&&(Ze[je]+=" "+Te));for(var Be in Ce)Ce.hasOwnProperty(Be)&&(Ze[Ce[Be]]?this.element.setAttribute(Ce[Be],Ze[Ce[Be]].substr(1)):this.element.removeAttribute(Ce[Be]))}}function F(j,Ie){j.elementQueriesSetupInformation||(j.elementQueriesSetupInformation=new w(j,Ie)),j.elementQueriesSensor||(j.elementQueriesSensor=new G(j,function(){j.elementQueriesSetupInformation.call()}))}function oe(j,Ie,ae,xe){if(typeof N[j]>"u"){N[j]=[];var Oe=W.length;x.innerHTML+="\n"+j+" {animation: 0.1s element-queries;}",x.innerHTML+="\n"+j+" > .resize-sensor {min-width: "+Oe+"px;}",W.push(j)}N[j].push({mode:Ie,property:ae,value:xe})}function $(j){var Ie;if(document.querySelectorAll&&(Ie=j?j.querySelectorAll.bind(j):document.querySelectorAll.bind(document)),!Ie&&typeof $$<"u"&&(Ie=$$),!Ie&&typeof jQuery<"u"&&(Ie=jQuery),!Ie)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return Ie}function ee(j){var Ie=[],ae=[],xe=[],Oe=0,ze=-1,nt=[];for(var Ze in j.children)if(j.children.hasOwnProperty(Ze)&&j.children[Ze].tagName&&"img"===j.children[Ze].tagName.toLowerCase()){Ie.push(j.children[Ze]);var Te=j.children[Ze].getAttribute("min-width")||j.children[Ze].getAttribute("data-min-width"),je=j.children[Ze].getAttribute("data-src")||j.children[Ze].getAttribute("url");xe.push(je),ae.push({minWidth:Te}),Te?j.children[Ze].style.display="none":(Oe=Ie.length-1,j.children[Ze].style.display="block")}function Be(){var Se,ue=!1;for(Se in Ie)Ie.hasOwnProperty(Se)&&ae[Se].minWidth&&j.offsetWidth>ae[Se].minWidth&&(ue=Se);if(ue||(ue=Oe),ze!==ue)if(nt[ue])Ie[ze].style.display="none",Ie[ue].style.display="block",ze=ue;else{var at=new Image;at.onload=function(){Ie[ue].src=xe[ue],Ie[ze].style.display="none",Ie[ue].style.display="block",nt[ue]=!0,ze=ue},at.src=xe[ue]}else Ie[ue].src=xe[ue]}ze=Oe,j.resizeSensorInstance=new G(j,Be),Be()}var B=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,y=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function M(j){var Ie,ae,xe,Oe;for(j=j.replace(/'/g,'"');null!==(Ie=B.exec(j));)for(ae=Ie[1]+Ie[3],xe=Ie[2];null!==(Oe=y.exec(xe));)oe(ae,Oe[1],Oe[2],Oe[3])}function T(j){var Ie="";if(j)if("string"==typeof j)(-1!==(j=j.toLowerCase()).indexOf("min-width")||-1!==j.indexOf("max-width"))&&M(j);else for(var ae=0,xe=j.length;ae<xe;ae++)1===j[ae].type?(-1!==(Ie=j[ae].selectorText||j[ae].cssText).indexOf("min-height")||-1!==Ie.indexOf("max-height")||-1!==Ie.indexOf("min-width")||-1!==Ie.indexOf("max-width"))&&M(Ie):4===j[ae].type?T(j[ae].cssRules||j[ae].rules):3===j[ae].type&&j[ae].styleSheet.hasOwnProperty("cssRules")&&T(j[ae].styleSheet.cssRules)}var ce=!1;this.init=function(){var j="animationstart";typeof document.documentElement.style.webkitAnimationName<"u"?j="webkitAnimationStart":typeof document.documentElement.style.MozAnimationName<"u"?j="mozanimationstart":typeof document.documentElement.style.OAnimationName<"u"&&(j="oanimationstart"),document.body.addEventListener(j,function(xe){var Oe=xe.target,ze=Oe&&window.getComputedStyle(Oe,null),nt=ze&&ze.getPropertyValue("animation-name");if(nt&&-1!==nt.indexOf("element-queries")){Oe.elementQueriesSensor=new G(Oe,function(){Oe.elementQueriesSetupInformation&&Oe.elementQueriesSetupInformation.call()});var je=window.getComputedStyle(Oe.resizeSensor,null).getPropertyValue("min-width");je=parseInt(je.replace("px","")),F(xe.target,W[je])}}),ce||((x=document.createElement("style")).type="text/css",x.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",x.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(x),ce=!0);for(var Ie=0,ae=document.styleSheets.length;Ie<ae;Ie++)try{document.styleSheets[Ie].href&&0===document.styleSheets[Ie].href.indexOf("file://")&&console.warn("CssElementQueries: unable to parse local css files, "+document.styleSheets[Ie].href),T(document.styleSheets[Ie].cssRules||document.styleSheets[Ie].rules||document.styleSheets[Ie].cssText)}catch{}!function q(){for(var Ie=$()("[data-responsive-image],[responsive-image]"),ae=0,xe=Ie.length;ae<xe;ae++)ee(Ie[ae])}()},this.findElementQueriesElements=function(j){!function z(j){var Ie=$(j);for(var ae in N)if(N.hasOwnProperty(ae))for(var xe=Ie(ae,j),Oe=0,ze=xe.length;Oe<ze;Oe++)F(xe[Oe],ae)}(j)},this.update=function(){this.init()}};X.update=function(){X.instance.update()},X.detach=function(x){x.elementQueriesSetupInformation?(x.elementQueriesSensor.detach(),delete x.elementQueriesSetupInformation,delete x.elementQueriesSensor):x.resizeSensorInstance&&(x.resizeSensorInstance.detach(),delete x.resizeSensorInstance)},X.init=function(){X.instance||(X.instance=new X),X.instance.init()};return X.findElementQueriesElements=function(x){X.instance.findElementQueriesElements(x)},X.listen=function(){!function(x){if(document.addEventListener)document.addEventListener("DOMContentLoaded",x,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var N=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(x(),clearInterval(N))},10);else window.onload=x}(X.init)},X})?Z.apply(ge,A):Z)&&(Ue.exports=Y)},4718:function(Ue,ge,S){"use strict";var Z,A;typeof window<"u"&&window,void 0!==(A="function"==typeof(Z=function(){if(typeof window>"u")return null;var Y=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")(),G=Y.requestAnimationFrame||Y.mozRequestAnimationFrame||Y.webkitRequestAnimationFrame||function(D){return Y.setTimeout(D,20)},X=Y.cancelAnimationFrame||Y.mozCancelAnimationFrame||Y.webkitCancelAnimationFrame||function(D){Y.clearTimeout(D)};function _(D,re){var w=Object.prototype.toString.call(D),F="[object Array]"===w||"[object NodeList]"===w||"[object HTMLCollection]"===w||"[object Object]"===w||typeof jQuery<"u"&&D instanceof jQuery||typeof Elements<"u"&&D instanceof Elements,oe=0,$=D.length;if(F)for(;oe<$;oe++)re(D[oe]);else re(D)}function x(D){if(!D.getBoundingClientRect)return{width:D.offsetWidth,height:D.offsetHeight};var re=D.getBoundingClientRect();return{width:Math.round(re.width),height:Math.round(re.height)}}function N(D,re){Object.keys(re).forEach(function(w){D.style[w]=re[w]})}var W=function(D,re){var w=0;function F(){var z,ee,$=[];this.add=function(q){$.push(q)},this.call=function(q){for(z=0,ee=$.length;z<ee;z++)$[z].call(this,q)},this.remove=function(q){var B=[];for(z=0,ee=$.length;z<ee;z++)$[z]!==q&&B.push($[z]);$=B},this.length=function(){return $.length}}function oe($,z){if($){if($.resizedAttached)return void $.resizedAttached.add(z);$.resizedAttached=new F,$.resizedAttached.add(z),$.resizeSensor=document.createElement("div"),$.resizeSensor.dir="ltr",$.resizeSensor.className="resize-sensor";var ee={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},q={position:"absolute",left:"0px",top:"0px",transition:"0s"};N($.resizeSensor,ee);var B=document.createElement("div");B.className="resize-sensor-expand",N(B,ee);var y=document.createElement("div");N(y,q),B.appendChild(y);var M=document.createElement("div");M.className="resize-sensor-shrink",N(M,ee);var T=document.createElement("div");N(T,q),N(T,{width:"200%",height:"200%"}),M.appendChild(T),$.resizeSensor.appendChild(B),$.resizeSensor.appendChild(M),$.appendChild($.resizeSensor);var ce=window.getComputedStyle($),j=ce?ce.getPropertyValue("position"):null;"absolute"!==j&&"relative"!==j&&"fixed"!==j&&"sticky"!==j&&($.style.position="relative");var Ie=!1,ae=0,xe=x($),Oe=0,ze=0,nt=!0;w=0;var Te=function(){if(nt){if(0===$.offsetWidth&&0===$.offsetHeight)return void(w||(w=G(function(){w=0,Te()})));nt=!1}var ue,Se;Se=$.offsetHeight,y.style.width=(ue=$.offsetWidth)+10+"px",y.style.height=Se+10+"px",B.scrollLeft=ue+10,B.scrollTop=Se+10,M.scrollLeft=ue+10,M.scrollTop=Se+10};$.resizeSensor.resetSensor=Te;var je=function(){ae=0,Ie&&(Oe=xe.width,ze=xe.height,$.resizedAttached&&$.resizedAttached.call(xe))},Ce=function(){xe=x($),(Ie=xe.width!==Oe||xe.height!==ze)&&!ae&&(ae=G(je)),Te()},Be=function(ue,Se,at){ue.attachEvent?ue.attachEvent("on"+Se,at):ue.addEventListener(Se,at)};Be(B,"scroll",Ce),Be(M,"scroll",Ce),w=G(function(){w=0,Te()})}}_(D,function($){oe($,re)}),this.detach=function($){w||(X(w),w=0),W.detach(D,$)},this.reset=function(){D.resizeSensor.resetSensor()}};if(W.reset=function(D){_(D,function(re){re.resizeSensor.resetSensor()})},W.detach=function(D,re){_(D,function(w){w&&(w.resizedAttached&&"function"==typeof re&&(w.resizedAttached.remove(re),w.resizedAttached.length())||w.resizeSensor&&(w.contains(w.resizeSensor)&&w.removeChild(w.resizeSensor),delete w.resizeSensor,delete w.resizedAttached))})},typeof MutationObserver<"u"){var R=new MutationObserver(function(D){for(var re in D)if(D.hasOwnProperty(re))for(var w=D[re].addedNodes,F=0;F<w.length;F++)w[F].resizeSensor&&W.reset(w[F])});document.addEventListener("DOMContentLoaded",function(D){R.observe(document.body,{childList:!0,subtree:!0})})}return W})?Z.call(ge,S,ge,Ue):Z)&&(Ue.exports=A)},4356:Ue=>{"use strict";var Z,ge="object"==typeof Reflect?Reflect:null,S=ge&&"function"==typeof ge.apply?ge.apply:function(B,y,M){return Function.prototype.apply.call(B,y,M)};Z=ge&&"function"==typeof ge.ownKeys?ge.ownKeys:Object.getOwnPropertySymbols?function(B){return Object.getOwnPropertyNames(B).concat(Object.getOwnPropertySymbols(B))}:function(B){return Object.getOwnPropertyNames(B)};var Y=Number.isNaN||function(B){return B!=B};function G(){G.init.call(this)}Ue.exports=G,Ue.exports.once=function $(q,B){return new Promise(function(y,M){function T(j){q.removeListener(B,ce),M(j)}function ce(){"function"==typeof q.removeListener&&q.removeListener("error",T),y([].slice.call(arguments))}ee(q,B,ce,{once:!0}),"error"!==B&&function z(q,B,y){"function"==typeof q.on&&ee(q,"error",B,y)}(q,T,{once:!0})})},G.EventEmitter=G,G.prototype._events=void 0,G.prototype._eventsCount=0,G.prototype._maxListeners=void 0;var X=10;function _(q){if("function"!=typeof q)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof q)}function x(q){return void 0===q._maxListeners?G.defaultMaxListeners:q._maxListeners}function N(q,B,y,M){var T,ce,j;if(_(y),void 0===(ce=q._events)?(ce=q._events=Object.create(null),q._eventsCount=0):(void 0!==ce.newListener&&(q.emit("newListener",B,y.listener?y.listener:y),ce=q._events),j=ce[B]),void 0===j)j=ce[B]=y,++q._eventsCount;else if("function"==typeof j?j=ce[B]=M?[y,j]:[j,y]:M?j.unshift(y):j.push(y),(T=x(q))>0&&j.length>T&&!j.warned){j.warned=!0;var Ie=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(B)+" listeners added. Use emitter.setMaxListeners() to increase limit");Ie.name="MaxListenersExceededWarning",Ie.emitter=q,Ie.type=B,Ie.count=j.length,function A(q){console&&console.warn&&console.warn(q)}(Ie)}return q}function W(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function R(q,B,y){var M={fired:!1,wrapFn:void 0,target:q,type:B,listener:y},T=W.bind(M);return T.listener=y,M.wrapFn=T,T}function D(q,B,y){var M=q._events;if(void 0===M)return[];var T=M[B];return void 0===T?[]:"function"==typeof T?y?[T.listener||T]:[T]:y?function oe(q){for(var B=new Array(q.length),y=0;y<B.length;++y)B[y]=q[y].listener||q[y];return B}(T):w(T,T.length)}function re(q){var B=this._events;if(void 0!==B){var y=B[q];if("function"==typeof y)return 1;if(void 0!==y)return y.length}return 0}function w(q,B){for(var y=new Array(B),M=0;M<B;++M)y[M]=q[M];return y}function ee(q,B,y,M){if("function"==typeof q.on)M.once?q.once(B,y):q.on(B,y);else{if("function"!=typeof q.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof q);q.addEventListener(B,function T(ce){M.once&&q.removeEventListener(B,T),y(ce)})}}Object.defineProperty(G,"defaultMaxListeners",{enumerable:!0,get:function(){return X},set:function(q){if("number"!=typeof q||q<0||Y(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+q+".");X=q}}),G.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},G.prototype.setMaxListeners=function(B){if("number"!=typeof B||B<0||Y(B))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+B+".");return this._maxListeners=B,this},G.prototype.getMaxListeners=function(){return x(this)},G.prototype.emit=function(B){for(var y=[],M=1;M<arguments.length;M++)y.push(arguments[M]);var T="error"===B,ce=this._events;if(void 0!==ce)T=T&&void 0===ce.error;else if(!T)return!1;if(T){var j;if(y.length>0&&(j=y[0]),j instanceof Error)throw j;var Ie=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw Ie.context=j,Ie}var ae=ce[B];if(void 0===ae)return!1;if("function"==typeof ae)S(ae,this,y);else{var xe=ae.length,Oe=w(ae,xe);for(M=0;M<xe;++M)S(Oe[M],this,y)}return!0},G.prototype.on=G.prototype.addListener=function(B,y){return N(this,B,y,!1)},G.prototype.prependListener=function(B,y){return N(this,B,y,!0)},G.prototype.once=function(B,y){return _(y),this.on(B,R(this,B,y)),this},G.prototype.prependOnceListener=function(B,y){return _(y),this.prependListener(B,R(this,B,y)),this},G.prototype.off=G.prototype.removeListener=function(B,y){var M,T,ce,j,Ie;if(_(y),void 0===(T=this._events))return this;if(void 0===(M=T[B]))return this;if(M===y||M.listener===y)0==--this._eventsCount?this._events=Object.create(null):(delete T[B],T.removeListener&&this.emit("removeListener",B,M.listener||y));else if("function"!=typeof M){for(ce=-1,j=M.length-1;j>=0;j--)if(M[j]===y||M[j].listener===y){Ie=M[j].listener,ce=j;break}if(ce<0)return this;0===ce?M.shift():function F(q,B){for(;B+1<q.length;B++)q[B]=q[B+1];q.pop()}(M,ce),1===M.length&&(T[B]=M[0]),void 0!==T.removeListener&&this.emit("removeListener",B,Ie||y)}return this},G.prototype.removeAllListeners=function(B){var y,M,T;if(void 0===(M=this._events))return this;if(void 0===M.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==M[B]&&(0==--this._eventsCount?this._events=Object.create(null):delete M[B]),this;if(0===arguments.length){var j,ce=Object.keys(M);for(T=0;T<ce.length;++T)"removeListener"!==(j=ce[T])&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(y=M[B]))this.removeListener(B,y);else if(void 0!==y)for(T=y.length-1;T>=0;T--)this.removeListener(B,y[T]);return this},G.prototype.listeners=function(B){return D(this,B,!0)},G.prototype.rawListeners=function(B){return D(this,B,!1)},G.listenerCount=function(q,B){return"function"==typeof q.listenerCount?q.listenerCount(B):re.call(q,B)},G.prototype.listenerCount=re,G.prototype.eventNames=function(){return this._eventsCount>0?Z(this._events):[]}},2578:function(Ue,ge){var S,A;void 0!==(A="function"==typeof(S=function(){"use strict";function G(R,D,re){var w=new XMLHttpRequest;w.open("GET",R),w.responseType="blob",w.onload=function(){W(w.response,D,re)},w.onerror=function(){console.error("could not download file")},w.send()}function X(R){var D=new XMLHttpRequest;D.open("HEAD",R,!1);try{D.send()}catch{}return 200<=D.status&&299>=D.status}function _(R){try{R.dispatchEvent(new MouseEvent("click"))}catch{var D=document.createEvent("MouseEvents");D.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),R.dispatchEvent(D)}}var x="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,N=x.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),W=x.saveAs||("object"!=typeof window||window!==x?function(){}:"download"in HTMLAnchorElement.prototype&&!N?function(R,D,re){var w=x.URL||x.webkitURL,F=document.createElement("a");F.download=D=D||R.name||"download",F.rel="noopener","string"==typeof R?(F.href=R,F.origin===location.origin?_(F):X(F.href)?G(R,D,re):_(F,F.target="_blank")):(F.href=w.createObjectURL(R),setTimeout(function(){w.revokeObjectURL(F.href)},4e4),setTimeout(function(){_(F)},0))}:"msSaveOrOpenBlob"in navigator?function(R,D,re){if(D=D||R.name||"download","string"!=typeof R)navigator.msSaveOrOpenBlob(function Y(R,D){return typeof D>"u"?D={autoBom:!1}:"object"!=typeof D&&(console.warn("Deprecated: Expected third argument to be a object"),D={autoBom:!D}),D.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(R.type)?new Blob(["\ufeff",R],{type:R.type}):R}(R,re),D);else if(X(R))G(R,D,re);else{var w=document.createElement("a");w.href=R,w.target="_blank",setTimeout(function(){_(w)})}}:function(R,D,re,w){if((w=w||open("","_blank"))&&(w.document.title=w.document.body.innerText="downloading..."),"string"==typeof R)return G(R,D,re);var F="application/octet-stream"===R.type,oe=/constructor/i.test(x.HTMLElement)||x.safari,$=/CriOS\/[\d]+/.test(navigator.userAgent);if(($||F&&oe||N)&&typeof FileReader<"u"){var z=new FileReader;z.onloadend=function(){var B=z.result;B=$?B:B.replace(/^data:[^;]*;/,"data:attachment/file;"),w?w.location.href=B:location=B,w=null},z.readAsDataURL(R)}else{var ee=x.URL||x.webkitURL,q=ee.createObjectURL(R);w?w.location=q:location.href=q,w=null,setTimeout(function(){ee.revokeObjectURL(q)},4e4)}});x.saveAs=W.saveAs=W,Ue.exports=W})?S.apply(ge,[]):S)&&(Ue.exports=A)},689:(Ue,ge,S)=>{var Z=S(9791),A=S(2963),Y=S(5064);function G(D,re,w){if(!Z(D))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<3)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 3.");if(!D.hasNode(re))throw new Error('graphology-shortest-path: the "'+re+'" source node does not exist in the given graph.');if(!D.hasNode(w))throw new Error('graphology-shortest-path: the "'+w+'" target node does not exist in the given graph.');if((re=""+re)==(w=""+w))return[re];var F=D.inboundNeighbors.bind(D),oe=D.outboundNeighbors.bind(D),$={},z={};$[re]=null,z[w]=null;var B,y,M,T,ce,j,Ie,ae,ee=[re],q=[w],xe=!1;e:for(;ee.length&&q.length;)if(ee.length<=q.length){for(B=ee,ee=[],ce=0,Ie=B.length;ce<Ie;ce++)for(j=0,ae=(M=oe(y=B[ce])).length;j<ae;j++)if((T=M[j])in $||(ee.push(T),$[T]=y),T in z){xe=!0;break e}}else for(B=q,q=[],ce=0,Ie=B.length;ce<Ie;ce++)for(y=B[ce],M=F(y),j=0,ae=M.length;j<ae;j++)if(T=M[j],T in z||(q.push(T),z[T]=y),T in $){xe=!0;break e}if(!xe)return null;for(var Oe=[];T;)Oe.unshift(T),T=$[T];for(T=z[Oe[Oe.length-1]];T;)Oe.push(T),T=z[T];return Oe.length?Oe:null}function X(D,re){if(!Z(D))throw new Error("graphology-shortest-path: invalid graphology instance.");if(arguments.length<2)throw new Error("graphology-shortest-path: invalid number of arguments. Expecting at least 2.");if(!D.hasNode(re))throw new Error('graphology-shortest-path: the "'+re+'" source node does not exist in the given graph.');var oe,$,z,ee,q,B,w={},F={};for(w[re=""+re]=!0,F[re]=[re];Object.keys(w).length;)for(z in oe=w,w={},oe)for(q=0,B=($=D.outboundNeighbors(z)).length;q<B;q++)F[ee=$[q]]||(F[ee]=F[z].concat(ee),w[ee]=!0);return F}function _(D,re,w){if(!Z(re))throw new Error("graphology-shortest-path: invalid graphology instance.");if(!re.hasNode(w))throw new Error('graphology-shortest-path: the "'+w+'" source node does not exist in the given graph.');w=""+w;var F=new Set,oe={},$=0;oe[w]=0;for(var ee,q,B,z=[w];0!==z.length;){var y=[];for(ee=0,q=z.length;ee<q;ee++)!F.has(B=z[ee])&&(F.add(B),Y(y,re[D](B)),oe[B]=$);$++,z=y}return oe}var x=_.bind(null,"outboundNeighbors"),N=_.bind(null,"neighbors");function W(D,re,w){return arguments.length<3?X(D,re):G(D,re,w)}W.bidirectional=G,W.singleSource=X,W.singleSourceLength=x,W.undirectedSingleSourceLength=N,W.brandes=function R(D,re){re=""+re;var z,ee,q,B,y,M,T,ce,j,w=[],F={},oe={},$=D.nodes();for(M=0,ce=$.length;M<ce;M++)F[B=$[M]]=[],oe[B]=0;var Ie={};oe[re]=1,Ie[re]=0;for(var ae=A.of(re);ae.size;)for(B=ae.dequeue(),w.push(B),z=Ie[B],ee=oe[B],T=0,j=(q=D.outboundNeighbors(B)).length;T<j;T++)(y=q[T])in Ie||(ae.enqueue(y),Ie[y]=z+1),Ie[y]===z+1&&(oe[y]+=ee,F[y].push(B));return[w,F,oe]},Ue.exports=W},9791:Ue=>{Ue.exports=function(S){return null!==S&&"object"==typeof S&&"function"==typeof S.addUndirectedEdgeWithKey&&"function"==typeof S.dropNode&&"boolean"==typeof S.multi}},2475:function(Ue){Ue.exports=function(){"use strict";function ge(_e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Me){return typeof Me}:function(Me){return Me&&"function"==typeof Symbol&&Me.constructor===Symbol&&Me!==Symbol.prototype?"symbol":typeof Me})(_e)}function S(_e,Me){_e.prototype=Object.create(Me.prototype),_e.prototype.constructor=_e,A(_e,Me)}function Z(_e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(Me){return Me.__proto__||Object.getPrototypeOf(Me)})(_e)}function A(_e,Me){return(A=Object.setPrototypeOf||function(ye,P){return ye.__proto__=P,ye})(_e,Me)}function G(_e,Me,ye){return(G=function Y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(P,Q,me){var Ne=[null];Ne.push.apply(Ne,Q);var Ye=new(Function.bind.apply(P,Ne));return me&&A(Ye,me.prototype),Ye}).apply(null,arguments)}function X(_e){var Me="function"==typeof Map?new Map:void 0;return(X=function(ye){if(null===ye||-1===Function.toString.call(ye).indexOf("[native code]"))return ye;if("function"!=typeof ye)throw new TypeError("Super expression must either be null or a function");if(void 0!==Me){if(Me.has(ye))return Me.get(ye);Me.set(ye,Q)}function Q(){return G(ye,arguments,Z(this).constructor)}return Q.prototype=Object.create(ye.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),A(Q,ye)})(_e)}function _(_e){if(void 0===_e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}var x=function(){for(var _e=arguments[0],Me=1,ye=arguments.length;Me<ye;Me++)if(arguments[Me])for(var P in arguments[Me])_e[P]=arguments[Me][P];return _e};function N(_e,Me,ye,P){var Q=_e._nodes.get(Me),me=null;return Q?me="mixed"===P?Q.out&&Q.out[ye]||Q.undirected&&Q.undirected[ye]:"directed"===P?Q.out&&Q.out[ye]:Q.undirected&&Q.undirected[ye]:me}function R(_e){return"object"===ge(_e)&&null!==_e&&_e.constructor===Object}function D(_e){var Me;for(Me in _e)return!1;return!0}function re(_e,Me,ye){Object.defineProperty(_e,Me,{enumerable:!1,configurable:!1,writable:!0,value:ye})}function w(_e,Me,ye){var P={enumerable:!0,configurable:!0};"function"==typeof ye?P.get=ye:(P.value=ye,P.writable=!1),Object.defineProperty(_e,Me,P)}function F(_e){return!(!R(_e)||_e.attributes&&!Array.isArray(_e.attributes))}"function"==typeof Object.assign&&(x=Object.assign);var oe,$={exports:{}},z="object"==typeof Reflect?Reflect:null,ee=z&&"function"==typeof z.apply?z.apply:function(_e,Me,ye){return Function.prototype.apply.call(_e,Me,ye)};oe=z&&"function"==typeof z.ownKeys?z.ownKeys:Object.getOwnPropertySymbols?function(_e){return Object.getOwnPropertyNames(_e).concat(Object.getOwnPropertySymbols(_e))}:function(_e){return Object.getOwnPropertyNames(_e)};var q=Number.isNaN||function(_e){return _e!=_e};function B(){B.init.call(this)}$.exports=B,$.exports.once=function(_e,Me){return new Promise(function(ye,P){function Q(Ne){_e.removeListener(Me,me),P(Ne)}function me(){"function"==typeof _e.removeListener&&_e.removeListener("error",Q),ye([].slice.call(arguments))}var Ne;ze(_e,Me,me,{once:!0}),"error"!==Me&&("function"==typeof(Ne=_e).on&&ze(Ne,"error",Q,{once:!0}))})},B.EventEmitter=B,B.prototype._events=void 0,B.prototype._eventsCount=0,B.prototype._maxListeners=void 0;var y=10;function M(_e){if("function"!=typeof _e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _e)}function T(_e){return void 0===_e._maxListeners?B.defaultMaxListeners:_e._maxListeners}function ce(_e,Me,ye,P){var Q,me,Ne;if(M(ye),void 0===(me=_e._events)?(me=_e._events=Object.create(null),_e._eventsCount=0):(void 0!==me.newListener&&(_e.emit("newListener",Me,ye.listener?ye.listener:ye),me=_e._events),Ne=me[Me]),void 0===Ne)Ne=me[Me]=ye,++_e._eventsCount;else if("function"==typeof Ne?Ne=me[Me]=P?[ye,Ne]:[Ne,ye]:P?Ne.unshift(ye):Ne.push(ye),(Q=T(_e))>0&&Ne.length>Q&&!Ne.warned){Ne.warned=!0;var ht=new Error("Possible EventEmitter memory leak detected. "+Ne.length+" "+String(Me)+" listeners added. Use emitter.setMaxListeners() to increase limit");ht.name="MaxListenersExceededWarning",ht.emitter=_e,ht.type=Me,ht.count=Ne.length,console&&console.warn&&console.warn(ht)}return _e}function j(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ie(_e,Me,ye){var P={fired:!1,wrapFn:void 0,target:_e,type:Me,listener:ye},Q=j.bind(P);return Q.listener=ye,P.wrapFn=Q,Q}function ae(_e,Me,ye){var P=_e._events;if(void 0===P)return[];var Q=P[Me];return void 0===Q?[]:"function"==typeof Q?ye?[Q.listener||Q]:[Q]:ye?function(me){for(var Ne=new Array(me.length),Ye=0;Ye<Ne.length;++Ye)Ne[Ye]=me[Ye].listener||me[Ye];return Ne}(Q):Oe(Q,Q.length)}function xe(_e){var Me=this._events;if(void 0!==Me){var ye=Me[_e];if("function"==typeof ye)return 1;if(void 0!==ye)return ye.length}return 0}function Oe(_e,Me){for(var ye=new Array(Me),P=0;P<Me;++P)ye[P]=_e[P];return ye}function ze(_e,Me,ye,P){if("function"==typeof _e.on)P.once?_e.once(Me,ye):_e.on(Me,ye);else{if("function"!=typeof _e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof _e);_e.addEventListener(Me,function Q(me){P.once&&_e.removeEventListener(Me,Q),ye(me)})}}function nt(_e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:_e}),this.done=!1}Object.defineProperty(B,"defaultMaxListeners",{enumerable:!0,get:function(){return y},set:function(_e){if("number"!=typeof _e||_e<0||q(_e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_e+".");y=_e}}),B.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},B.prototype.setMaxListeners=function(_e){if("number"!=typeof _e||_e<0||q(_e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_e+".");return this._maxListeners=_e,this},B.prototype.getMaxListeners=function(){return T(this)},B.prototype.emit=function(_e){for(var Me=[],ye=1;ye<arguments.length;ye++)Me.push(arguments[ye]);var P="error"===_e,Q=this._events;if(void 0!==Q)P=P&&void 0===Q.error;else if(!P)return!1;if(P){var me;if(Me.length>0&&(me=Me[0]),me instanceof Error)throw me;var Ne=new Error("Unhandled error."+(me?" ("+me.message+")":""));throw Ne.context=me,Ne}var Ye=Q[_e];if(void 0===Ye)return!1;if("function"==typeof Ye)ee(Ye,this,Me);else{var ht=Ye.length,Ft=Oe(Ye,ht);for(ye=0;ye<ht;++ye)ee(Ft[ye],this,Me)}return!0},B.prototype.addListener=function(_e,Me){return ce(this,_e,Me,!1)},B.prototype.on=B.prototype.addListener,B.prototype.prependListener=function(_e,Me){return ce(this,_e,Me,!0)},B.prototype.once=function(_e,Me){return M(Me),this.on(_e,Ie(this,_e,Me)),this},B.prototype.prependOnceListener=function(_e,Me){return M(Me),this.prependListener(_e,Ie(this,_e,Me)),this},B.prototype.removeListener=function(_e,Me){var ye,P,Q,me,Ne;if(M(Me),void 0===(P=this._events))return this;if(void 0===(ye=P[_e]))return this;if(ye===Me||ye.listener===Me)0==--this._eventsCount?this._events=Object.create(null):(delete P[_e],P.removeListener&&this.emit("removeListener",_e,ye.listener||Me));else if("function"!=typeof ye){for(Q=-1,me=ye.length-1;me>=0;me--)if(ye[me]===Me||ye[me].listener===Me){Ne=ye[me].listener,Q=me;break}if(Q<0)return this;0===Q?ye.shift():function(Ye,ht){for(;ht+1<Ye.length;ht++)Ye[ht]=Ye[ht+1];Ye.pop()}(ye,Q),1===ye.length&&(P[_e]=ye[0]),void 0!==P.removeListener&&this.emit("removeListener",_e,Ne||Me)}return this},B.prototype.off=B.prototype.removeListener,B.prototype.removeAllListeners=function(_e){var Me,ye,P;if(void 0===(ye=this._events))return this;if(void 0===ye.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==ye[_e]&&(0==--this._eventsCount?this._events=Object.create(null):delete ye[_e]),this;if(0===arguments.length){var Q,me=Object.keys(ye);for(P=0;P<me.length;++P)"removeListener"!==(Q=me[P])&&this.removeAllListeners(Q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(Me=ye[_e]))this.removeListener(_e,Me);else if(void 0!==Me)for(P=Me.length-1;P>=0;P--)this.removeListener(_e,Me[P]);return this},B.prototype.listeners=function(_e){return ae(this,_e,!0)},B.prototype.rawListeners=function(_e){return ae(this,_e,!1)},B.listenerCount=function(_e,Me){return"function"==typeof _e.listenerCount?_e.listenerCount(Me):xe.call(_e,Me)},B.prototype.listenerCount=xe,B.prototype.eventNames=function(){return this._eventsCount>0?oe(this._events):[]},nt.prototype.next=function(){if(this.done)return{done:!0};var _e=this._next();return _e.done&&(this.done=!0),_e},typeof Symbol<"u"&&(nt.prototype[Symbol.iterator]=function(){return this}),nt.of=function(){var _e=arguments,Me=_e.length,ye=0;return new nt(function(){return ye>=Me?{done:!0}:{done:!1,value:_e[ye++]}})},nt.empty=function(){var _e=new nt(null);return _e.done=!0,_e},nt.is=function(_e){return _e instanceof nt||"object"==typeof _e&&null!==_e&&"function"==typeof _e.next};var Ze=nt,Te=function(_e,Me){for(var ye,P=arguments.length>1?Me:1/0,Q=P!==1/0?new Array(P):[],me=0;;){if(me===P)return Q;if((ye=_e.next()).done)return me!==Me?Q.slice(0,me):Q;Q[me++]=ye.value}},je=function(_e){function Me(ye,P){var Q;return(Q=_e.call(this)||this).name="GraphError",Q.message=ye||"",Q.data=P||{},Q}return S(Me,_e),Me}(X(Error)),Ce=function(_e){function Me(ye,P){var Q;return(Q=_e.call(this,ye,P)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(_(Q),Me.prototype.constructor),Q}return S(Me,_e),Me}(je),Be=function(_e){function Me(ye,P){var Q;return(Q=_e.call(this,ye,P)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(_(Q),Me.prototype.constructor),Q}return S(Me,_e),Me}(je),ue=function(_e){function Me(ye,P){var Q;return(Q=_e.call(this,ye,P)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(_(Q),Me.prototype.constructor),Q}return S(Me,_e),Me}(je);function Se(_e,Me){this.key=_e,this.attributes=Me,this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.directedSelfLoops=0,this.undirectedSelfLoops=0,this.in={},this.out={},this.undirected={}}function at(_e,Me){this.key=_e,this.attributes=Me,this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}}function bt(_e,Me){this.key=_e,this.attributes=Me,this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}}function Ke(_e,Me,ye,P,Q,me){this.key=Me,this.attributes=me,this.undirected=_e,this.source=P,this.target=Q,this.generatedKey=ye}function fe(_e,Me,ye,P,Q,me,Ne){var Ye,ht,Ft="out",qt="in";if(Me&&(Ft=qt="undirected"),_e.multi){if(void 0===(ht=(Ye=me[Ft])[Q])&&(Ye[Q]=ht=new Set),ht.add(ye),P===Q&&Me)return;void 0===(Ye=Ne[qt])[P]&&(Ye[P]=ht)}else{if(me[Ft][Q]=ye,P===Q&&Me)return;Ne[qt][P]=ye}}at.prototype.upgradeToMixed=function(){this.undirectedDegree=0,this.undirectedSelfLoops=0,this.undirected={}},bt.prototype.upgradeToMixed=function(){this.inDegree=0,this.outDegree=0,this.directedSelfLoops=0,this.in={},this.out={}};var C=[{name:function(_e){return"get".concat(_e,"Attribute")},attacher:function(_e,Me,ye){_e.prototype[Me]=function(P,Q){var me;if("mixed"!==this.type&&"mixed"!==ye&&ye!==this.type)throw new ue("Graph.".concat(Me,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ue("Graph.".concat(Me,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Ne=""+P,Ye=""+Q;if(Q=arguments[2],!(me=N(this,Ne,Ye,ye)))throw new Be("Graph.".concat(Me,': could not find an edge for the given path ("').concat(Ne,'" - "').concat(Ye,'").'))}else if(!(me=this._edges.get(P=""+P)))throw new Be("Graph.".concat(Me,': could not find the "').concat(P,'" edge in the graph.'));if("mixed"!==ye&&me.undirected!==("undirected"===ye))throw new Be("Graph.".concat(Me,': could not find the "').concat(P,'" ').concat(ye," edge in the graph."));return me.attributes[Q]}}},{name:function(_e){return"get".concat(_e,"Attributes")},attacher:function(_e,Me,ye){_e.prototype[Me]=function(P){var Q;if("mixed"!==this.type&&"mixed"!==ye&&ye!==this.type)throw new ue("Graph.".concat(Me,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new ue("Graph.".concat(Me,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var me=""+P,Ne=""+arguments[1];if(!(Q=N(this,me,Ne,ye)))throw new Be("Graph.".concat(Me,': could not find an edge for the given path ("').concat(me,'" - "').concat(Ne,'").'))}else if(!(Q=this._edges.get(P=""+P)))throw new Be("Graph.".concat(Me,': could not find the "').concat(P,'" edge in the graph.'));if("mixed"!==ye&&Q.undirected!==("undirected"===ye))throw new Be("Graph.".concat(Me,': could not find the "').concat(P,'" ').concat(ye," edge in the graph."));return Q.attributes}}},{name:function(_e){return"has".concat(_e,"Attribute")},attacher:function(_e,Me,ye){_e.prototype[Me]=function(P,Q){var me;if("mixed"!==this.type&&"mixed"!==ye&&ye!==this.type)throw new ue("Graph.".concat(Me,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ue("Graph.".concat(Me,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Ne=""+P,Ye=""+Q;if(Q=arguments[2],!(me=N(this,Ne,Ye,ye)))throw new Be("Graph.".concat(Me,': could not find an edge for the given path ("').concat(Ne,'" - "').concat(Ye,'").'))}else if(!(me=this._edges.get(P=""+P)))throw new Be("Graph.".concat(Me,': could not find the "').concat(P,'" edge in the graph.'));if("mixed"!==ye&&me.undirected!==("undirected"===ye))throw new Be("Graph.".concat(Me,': could not find the "').concat(P,'" ').concat(ye," edge in the graph."));return me.attributes.hasOwnProperty(Q)}}},{name:function(_e){return"set".concat(_e,"Attribute")},attacher:function(_e,Me,ye){_e.prototype[Me]=function(P,Q,me){var Ne;if("mixed"!==this.type&&"mixed"!==ye&&ye!==this.type)throw new ue("Graph.".concat(Me,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new ue("Graph.".concat(Me,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Ye=""+P,ht=""+Q;if(Q=arguments[2],me=arguments[3],!(Ne=N(this,Ye,ht,ye)))throw new Be("Graph.".concat(Me,': could not find an edge for the given path ("').concat(Ye,'" - "').concat(ht,'").'))}else if(!(Ne=this._edges.get(P=""+P)))throw new Be("Graph.".concat(Me,': could not find the "').concat(P,'" edge in the graph.'));if("mixed"!==ye&&Ne.undirected!==("undirected"===ye))throw new Be("Graph.".concat(Me,': could not find the "').concat(P,'" ').concat(ye," edge in the graph."));return Ne.attributes[Q]=me,this.emit("edgeAttributesUpdated",{key:Ne.key,type:"set",attributes:Ne.attributes,name:Q}),this}}},{name:function(_e){return"update".concat(_e,"Attribute")},attacher:function(_e,Me,ye){_e.prototype[Me]=function(P,Q,me){var Ne;if("mixed"!==this.type&&"mixed"!==ye&&ye!==this.type)throw new ue("Graph.".concat(Me,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new ue("Graph.".concat(Me,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Ye=""+P,ht=""+Q;if(Q=arguments[2],me=arguments[3],!(Ne=N(this,Ye,ht,ye)))throw new Be("Graph.".concat(Me,': could not find an edge for the given path ("').concat(Ye,'" - "').concat(ht,'").'))}else if(!(Ne=this._edges.get(P=""+P)))throw new Be("Graph.".concat(Me,': could not find the "').concat(P,'" edge in the graph.'));if("function"!=typeof me)throw new Ce("Graph.".concat(Me,": updater should be a function."));if("mixed"!==ye&&Ne.undirected!==("undirected"===ye))throw new Be("Graph.".concat(Me,': could not find the "').concat(P,'" ').concat(ye," edge in the graph."));return Ne.attributes[Q]=me(Ne.attributes[Q]),this.emit("edgeAttributesUpdated",{key:Ne.key,type:"set",attributes:Ne.attributes,name:Q}),this}}},{name:function(_e){return"remove".concat(_e,"Attribute")},attacher:function(_e,Me,ye){_e.prototype[Me]=function(P,Q){var me;if("mixed"!==this.type&&"mixed"!==ye&&ye!==this.type)throw new ue("Graph.".concat(Me,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ue("Graph.".concat(Me,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Ne=""+P,Ye=""+Q;if(Q=arguments[2],!(me=N(this,Ne,Ye,ye)))throw new Be("Graph.".concat(Me,': could not find an edge for the given path ("').concat(Ne,'" - "').concat(Ye,'").'))}else if(!(me=this._edges.get(P=""+P)))throw new Be("Graph.".concat(Me,': could not find the "').concat(P,'" edge in the graph.'));if("mixed"!==ye&&me.undirected!==("undirected"===ye))throw new Be("Graph.".concat(Me,': could not find the "').concat(P,'" ').concat(ye," edge in the graph."));return delete me.attributes[Q],this.emit("edgeAttributesUpdated",{key:me.key,type:"remove",attributes:me.attributes,name:Q}),this}}},{name:function(_e){return"replace".concat(_e,"Attributes")},attacher:function(_e,Me,ye){_e.prototype[Me]=function(P,Q){var me;if("mixed"!==this.type&&"mixed"!==ye&&ye!==this.type)throw new ue("Graph.".concat(Me,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ue("Graph.".concat(Me,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Ne=""+P,Ye=""+Q;if(Q=arguments[2],!(me=N(this,Ne,Ye,ye)))throw new Be("Graph.".concat(Me,': could not find an edge for the given path ("').concat(Ne,'" - "').concat(Ye,'").'))}else if(!(me=this._edges.get(P=""+P)))throw new Be("Graph.".concat(Me,': could not find the "').concat(P,'" edge in the graph.'));if(!R(Q))throw new Ce("Graph.".concat(Me,": provided attributes are not a plain object."));if("mixed"!==ye&&me.undirected!==("undirected"===ye))throw new Be("Graph.".concat(Me,': could not find the "').concat(P,'" ').concat(ye," edge in the graph."));return me.attributes=Q,this.emit("edgeAttributesUpdated",{key:me.key,type:"replace",attributes:me.attributes}),this}}},{name:function(_e){return"merge".concat(_e,"Attributes")},attacher:function(_e,Me,ye){_e.prototype[Me]=function(P,Q){var me;if("mixed"!==this.type&&"mixed"!==ye&&ye!==this.type)throw new ue("Graph.".concat(Me,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new ue("Graph.".concat(Me,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var Ne=""+P,Ye=""+Q;if(Q=arguments[2],!(me=N(this,Ne,Ye,ye)))throw new Be("Graph.".concat(Me,': could not find an edge for the given path ("').concat(Ne,'" - "').concat(Ye,'").'))}else if(!(me=this._edges.get(P=""+P)))throw new Be("Graph.".concat(Me,': could not find the "').concat(P,'" edge in the graph.'));if(!R(Q))throw new Ce("Graph.".concat(Me,": provided attributes are not a plain object."));if("mixed"!==ye&&me.undirected!==("undirected"===ye))throw new Be("Graph.".concat(Me,': could not find the "').concat(P,'" ').concat(ye," edge in the graph."));return x(me.attributes,Q),this.emit("edgeAttributesUpdated",{key:me.key,type:"merge",attributes:me.attributes,data:Q}),this}}}],ie=Ze,J=function(){var _e,Me=arguments,ye=-1;return new ie(function P(){if(!_e){if(++ye>=Me.length)return{done:!0};_e=Me[ye]}var Q=_e.next();return Q.done?(_e=null,P()):Q})},He=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function Je(_e,Me){for(var ye in Me)_e.push(Me[ye].key)}function de(_e,Me){for(var ye in Me)Me[ye].forEach(function(P){return _e.push(P.key)})}function te(_e,Me,ye){for(var P in _e)if(P!==ye){var Q=_e[P];Me(Q.key,Q.attributes,Q.source.key,Q.target.key,Q.source.attributes,Q.target.attributes,Q.undirected,Q.generatedKey)}}function U(_e,Me,ye){for(var P in _e)P!==ye&&_e[P].forEach(function(Q){return Me(Q.key,Q.attributes,Q.source.key,Q.target.key,Q.source.attributes,Q.target.attributes,Q.undirected,Q.generatedKey)})}function I(_e,Me,ye){for(var P in _e)if(P!==ye){var Q=_e[P];if(Me(Q.key,Q.attributes,Q.source.key,Q.target.key,Q.source.attributes,Q.target.attributes,Q.undirected,Q.generatedKey))return!0}return!1}function k(_e,Me,ye){var P,Q,me,Ne,Ye;for(var ht in _e)if(ht!==ye)for(P=_e[ht].values();!0!==(Q=P.next()).done;)if(Ne=(me=Q.value).source,Me(me.key,me.attributes,Ne.key,(Ye=me.target).key,Ne.attributes,Ye.attributes,me.undirected,me.generatedKey))return!0;return!1}function he(_e,Me){var ye=Object.keys(_e),P=ye.length,Q=null,me=0;return new Ze(function Ne(){var Ye;if(Q){var ht=Q.next();if(ht.done)return Q=null,me++,Ne();Ye=ht.value}else{if(me>=P)return{done:!0};var Ft=ye[me];if(Ft===Me)return me++,Ne();if((Ye=_e[Ft])instanceof Set)return Q=Ye.values(),Ne();me++}return{done:!1,value:[Ye.key,Ye.attributes,Ye.source.key,Ye.target.key,Ye.source.attributes,Ye.target.attributes]}})}function qe(_e,Me,ye){var P=Me[ye];P&&_e.push(P.key)}function Ee(_e,Me,ye){var P=Me[ye];P&&P.forEach(function(Q){return _e.push(Q.key)})}function Ve(_e,Me,ye){var P=_e[Me];if(P){var Q=P.source,me=P.target;ye(P.key,P.attributes,Q.key,me.key,Q.attributes,me.attributes,P.undirected,P.generatedKey)}}function it(_e,Me,ye){var P=_e[Me];P&&P.forEach(function(Q){return ye(Q.key,Q.attributes,Q.source.key,Q.target.key,Q.source.attributes,Q.target.attributes,Q.undirected,Q.generatedKey)})}function At(_e,Me,ye){var P=_e[Me];if(P){var Q=P.source,me=P.target;return ye(P.key,P.attributes,Q.key,me.key,Q.attributes,me.attributes,P.undirected,P.generatedKey)}}function Wt(_e,Me,ye){var P=_e[Me];if(P){for(var Q,me,Ne=P.values();!0!==(Q=Ne.next()).done;)if(ye((me=Q.value).key,me.attributes,me.source.key,me.target.key,me.source.attributes,me.target.attributes,me.undirected,me.generatedKey))return!0;return!1}}function It(_e,Me){var ye=_e[Me];if(ye instanceof Set){var P=ye.values();return new Ze(function(){var Q=P.next();if(Q.done)return Q;var me=Q.value;return{done:!1,value:[me.key,me.attributes,me.source.key,me.target.key,me.source.attributes,me.target.attributes]}})}return Ze.of([ye.key,ye.attributes,ye.source.key,ye.target.key,ye.source.attributes,ye.target.attributes])}var Gn=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function dr(_e,Me){if(void 0!==Me)for(var ye in Me)_e.add(ye)}function jr(_e,Me,ye){for(var P in Me){var Q=Me[P];Q instanceof Set&&(Q=Q.values().next().value);var me=Q.source,Ye=me===_e?Q.target:me;ye(Ye.key,Ye.attributes)}}function ys(_e,Me,ye,P){for(var Q in ye){var me=ye[Q];me instanceof Set&&(me=me.values().next().value);var Ne=me.source,ht=Ne===Me?me.target:Ne;_e.has(ht.key)||(_e.add(ht.key),P(ht.key,ht.attributes))}}function Zs(_e,Me,ye){for(var P in Me){var Q=Me[P];Q instanceof Set&&(Q=Q.values().next().value);var me=Q.source,Ye=me===_e?Q.target:me;if(ye(Ye.key,Ye.attributes))return!0}return!1}function Er(_e,Me,ye,P){for(var Q in ye){var me=ye[Q];me instanceof Set&&(me=me.values().next().value);var Ne=me.source,ht=Ne===Me?me.target:Ne;if(!_e.has(ht.key)&&(_e.add(ht.key),P(ht.key,ht.attributes)))return!0}return!1}function fo(_e,Me){var ye=Object.keys(Me),P=ye.length,Q=0;return new Ze(function(){if(Q>=P)return{done:!0};var me=Me[ye[Q++]];me instanceof Set&&(me=me.values().next().value);var Ne=me.source,ht=Ne===_e?me.target:Ne;return{done:!1,value:[ht.key,ht.attributes]}})}function ea(_e,Me,ye){var P=Object.keys(ye),Q=P.length,me=0;return new Ze(function Ne(){if(me>=Q)return{done:!0};var Ye=ye[P[me++]];Ye instanceof Set&&(Ye=Ye.values().next().value);var ht=Ye.source,qt=ht===Me?Ye.target:ht;return _e.has(qt.key)?Ne():(_e.add(qt.key),{done:!1,value:[qt.key,qt.attributes]})})}function We(_e,Me,ye){for(var P,Q,me,Ne,Ye,ht,Ft,qt=Me._nodes.values(),nn=Me.type;!0!==(P=qt.next()).done;){if(Q=P.value,"undirected"!==nn)for(me in Ne=Q.out)if(ht=(Ye=Ne[me]).target,Ft=ye(Q.key,ht.key,Q.attributes,ht.attributes,Ye.key,Ye.attributes,Ye.undirected,Ye.generatedKey),_e&&Ft)return;if("directed"!==nn)for(me in Ne=Q.undirected)if((ht=(Ye=Ne[me]).target).key!==me&&(ht=Ye.source),Ft=ye(Q.key,ht.key,Q.attributes,ht.attributes,Ye.key,Ye.attributes,Ye.undirected,Ye.generatedKey),_e&&Ft)return}}function Qe(_e,Me,ye){for(var P,Q,me,Ne,Ye,ht,Ft,qt,nn,En=Me._nodes.values(),Wn=Me.type;!0!==(P=En.next()).done;){if(Q=P.value,"undirected"!==Wn)for(me in ht=Q.out)for(Ne=ht[me].values();!0!==(Ye=Ne.next()).done;)if(qt=(Ft=Ye.value).target,nn=ye(Q.key,qt.key,Q.attributes,qt.attributes,Ft.key,Ft.attributes,Ft.undirected,Ft.generatedKey),_e&&nn)return;if("directed"!==Wn)for(me in ht=Q.undirected)for(Ne=ht[me].values();!0!==(Ye=Ne.next()).done;)if((qt=(Ft=Ye.value).target).key!==me&&(qt=Ft.source),nn=ye(Q.key,qt.key,Q.attributes,qt.attributes,Ft.key,Ft.attributes,Ft.undirected,Ft.generatedKey),_e&&nn)return}}function sn(_e,Me){var ye={key:_e};return D(Me.attributes)||(ye.attributes=x({},Me.attributes)),ye}function Ct(_e,Me){var ye={source:Me.source.key,target:Me.target.key};return Me.generatedKey||(ye.key=_e),D(Me.attributes)||(ye.attributes=x({},Me.attributes)),Me.undirected&&(ye.undirected=!0),ye}var Go=new Set(["directed","undirected","mixed"]),Wc=new Set(["domain","_events","_eventsCount","_maxListeners"]),on={allowSelfLoops:!0,edgeKeyGenerator:null,multi:!1,type:"mixed"};function mc(_e,Me,ye){var P=new _e.NodeDataClass(Me,ye);return _e._nodes.set(Me,P),_e.emit("nodeAdded",{key:Me,attributes:ye}),P}function Ir(_e,Me,ye,P,Q,me,Ne,Ye){if(!P&&"undirected"===_e.type)throw new ue("Graph.".concat(Me,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(P&&"directed"===_e.type)throw new ue("Graph.".concat(Me,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(Ye&&!R(Ye))throw new Ce("Graph.".concat(Me,': invalid attributes. Expecting an object but got "').concat(Ye,'"'));if(me=""+me,Ne=""+Ne,Ye=Ye||{},!_e.allowSelfLoops&&me===Ne)throw new ue("Graph.".concat(Me,': source & target are the same ("').concat(me,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var ht=_e._nodes.get(me),Ft=_e._nodes.get(Ne);if(!ht)throw new Be("Graph.".concat(Me,': source node "').concat(me,'" not found.'));if(!Ft)throw new Be("Graph.".concat(Me,': target node "').concat(Ne,'" not found.'));var qt={key:null,undirected:P,source:me,target:Ne,attributes:Ye};if(ye&&(Q=_e._edgeKeyGenerator(qt)),_e._edges.has(Q=""+Q))throw new ue("Graph.".concat(Me,': the "').concat(Q,'" edge already exists in the graph.'));if(!_e.multi&&(P?void 0!==ht.undirected[Ne]:void 0!==ht.out[Ne]))throw new ue("Graph.".concat(Me,': an edge linking "').concat(me,'" to "').concat(Ne,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var nn=new Ke(P,Q,ye,ht,Ft,Ye);return _e._edges.set(Q,nn),me===Ne?P?(ht.undirectedSelfLoops++,_e._undirectedSelfLoopCount++):(ht.directedSelfLoops++,_e._directedSelfLoopCount++):P?(ht.undirectedDegree++,Ft.undirectedDegree++):(ht.outDegree++,Ft.inDegree++),fe(_e,P,nn,me,Ne,ht,Ft),P?_e._undirectedSize++:_e._directedSize++,qt.key=Q,_e.emit("edgeAdded",qt),Q}function gc(_e,Me,ye,P,Q,me,Ne,Ye,ht){if(!P&&"undirected"===_e.type)throw new ue("Graph.".concat(Me,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(P&&"directed"===_e.type)throw new ue("Graph.".concat(Me,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(Ye)if(ht){if("function"!=typeof Ye)throw new Ce("Graph.".concat(Me,': invalid updater function. Expecting a function but got "').concat(Ye,'"'))}else if(!R(Ye))throw new Ce("Graph.".concat(Me,': invalid attributes. Expecting an object but got "').concat(Ye,'"'));var Ft;if(me=""+me,Ne=""+Ne,ht&&(Ft=Ye,Ye=void 0),!_e.allowSelfLoops&&me===Ne)throw new ue("Graph.".concat(Me,': source & target are the same ("').concat(me,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var qt,nn,En=_e._nodes.get(me),Wn=_e._nodes.get(Ne);if(!ye&&(qt=_e._edges.get(Q))){if(qt.source.key!==me||qt.target.key!==Ne||P&&(qt.source.key!==Ne||qt.target.key!==me))throw new ue("Graph.".concat(Me,': inconsistency detected when attempting to merge the "').concat(Q,'" edge with "').concat(me,'" source & "').concat(Ne,'" target vs. ("').concat(qt.source.key,'", "').concat(qt.target.key,'").'));nn=qt}if(nn||_e.multi||!En||(nn=P?En.undirected[Ne]:En.out[Ne]),nn)return(ht?Ft:Ye)?(ht?(nn.attributes=Ft(nn.attributes),_e.emit("edgeAttributesUpdated",{type:"replace",key:nn.key,attributes:nn.attributes})):(x(nn.attributes,Ye),_e.emit("edgeAttributesUpdated",{type:"merge",key:nn.key,attributes:nn.attributes,data:Ye})),nn.key):nn.key;Ye=Ye||{},ht&&Ft&&(Ye=Ft(Ye));var Ao={key:null,undirected:P,source:me,target:Ne,attributes:Ye};if(ye&&(Q=_e._edgeKeyGenerator(Ao)),_e._edges.has(Q=""+Q))throw new ue("Graph.".concat(Me,': the "').concat(Q,'" edge already exists in the graph.'));return En||(En=mc(_e,me,{}),me===Ne&&(Wn=En)),Wn||(Wn=mc(_e,Ne,{})),qt=new Ke(P,Q,ye,En,Wn,Ye),_e._edges.set(Q,qt),me===Ne?P?(En.undirectedSelfLoops++,_e._undirectedSelfLoopCount++):(En.directedSelfLoops++,_e._directedSelfLoopCount++):P?(En.undirectedDegree++,Wn.undirectedDegree++):(En.outDegree++,Wn.inDegree++),fe(_e,P,qt,me,Ne,En,Wn),P?_e._undirectedSize++:_e._directedSize++,Ao.key=Q,_e.emit("edgeAdded",Ao),Q}var _e,Pn=function(_e){function Me(P){var Q;if(Q=_e.call(this)||this,(P=x({},on,P)).edgeKeyGenerator&&"function"!=typeof P.edgeKeyGenerator)throw new Ce("Graph.constructor: invalid 'edgeKeyGenerator' option. Expecting a function but got \"".concat(P.edgeKeyGenerator,'".'));if("boolean"!=typeof P.multi)throw new Ce("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(P.multi,'".'));if(!Go.has(P.type))throw new Ce('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(P.type,'".'));if("boolean"!=typeof P.allowSelfLoops)throw new Ce("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(P.allowSelfLoops,'".'));var me,Ne="mixed"===P.type?Se:"directed"===P.type?at:bt;return re(_(Q),"NodeDataClass",Ne),re(_(Q),"_attributes",{}),re(_(Q),"_nodes",new Map),re(_(Q),"_edges",new Map),re(_(Q),"_directedSize",0),re(_(Q),"_undirectedSize",0),re(_(Q),"_directedSelfLoopCount",0),re(_(Q),"_undirectedSelfLoopCount",0),re(_(Q),"_edgeKeyGenerator",P.edgeKeyGenerator||(me=0,function(){return me++})),re(_(Q),"_options",P),Wc.forEach(function(Ye){return re(_(Q),Ye,Q[Ye])}),w(_(Q),"order",function(){return Q._nodes.size}),w(_(Q),"size",function(){return Q._edges.size}),w(_(Q),"directedSize",function(){return Q._directedSize}),w(_(Q),"undirectedSize",function(){return Q._undirectedSize}),w(_(Q),"selfLoopCount",function(){return Q._directedSelfLoopCount+Q._undirectedSelfLoopCount}),w(_(Q),"directedSelfLoopCount",function(){return Q._directedSelfLoopCount}),w(_(Q),"undirectedSelfLoopCount",function(){return Q._undirectedSelfLoopCount}),w(_(Q),"multi",Q._options.multi),w(_(Q),"type",Q._options.type),w(_(Q),"allowSelfLoops",Q._options.allowSelfLoops),w(_(Q),"implementation",function(){return"graphology"}),Q}S(Me,_e);var ye=Me.prototype;return ye.hasNode=function(P){return this._nodes.has(""+P)},ye.hasDirectedEdge=function(P,Q){if("undirected"===this.type)return!1;if(1===arguments.length){var Ne=this._edges.get(""+P);return!!Ne&&!Ne.undirected}if(2===arguments.length){Q=""+Q;var Ye=this._nodes.get(P=""+P);if(!Ye)return!1;var ht=Ye.out[Q];return!(!ht||this.multi&&!ht.size)}throw new Ce("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},ye.hasUndirectedEdge=function(P,Q){if("directed"===this.type)return!1;if(1===arguments.length){var Ne=this._edges.get(""+P);return!!Ne&&Ne.undirected}if(2===arguments.length){Q=""+Q;var Ye=this._nodes.get(P=""+P);if(!Ye)return!1;var ht=Ye.undirected[Q];return!(!ht||this.multi&&!ht.size)}throw new Ce("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},ye.hasEdge=function(P,Q){if(1===arguments.length)return this._edges.has(""+P);if(2===arguments.length){Q=""+Q;var Ne=this._nodes.get(P=""+P);if(!Ne)return!1;var Ye=void 0!==Ne.out&&Ne.out[Q];return Ye||(Ye=void 0!==Ne.undirected&&Ne.undirected[Q]),!(!Ye||this.multi&&!Ye.size)}throw new Ce("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},ye.directedEdge=function(P,Q){if("undirected"!==this.type){if(P=""+P,Q=""+Q,this.multi)throw new ue("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var me=this._nodes.get(P);if(!me)throw new Be('Graph.directedEdge: could not find the "'.concat(P,'" source node in the graph.'));if(!this._nodes.has(Q))throw new Be('Graph.directedEdge: could not find the "'.concat(Q,'" target node in the graph.'));var Ne=me.out&&me.out[Q]||void 0;return Ne?Ne.key:void 0}},ye.undirectedEdge=function(P,Q){if("directed"!==this.type){if(P=""+P,Q=""+Q,this.multi)throw new ue("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var me=this._nodes.get(P);if(!me)throw new Be('Graph.undirectedEdge: could not find the "'.concat(P,'" source node in the graph.'));if(!this._nodes.has(Q))throw new Be('Graph.undirectedEdge: could not find the "'.concat(Q,'" target node in the graph.'));var Ne=me.undirected&&me.undirected[Q]||void 0;return Ne?Ne.key:void 0}},ye.edge=function(P,Q){if(this.multi)throw new ue("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");Q=""+Q;var me=this._nodes.get(P=""+P);if(!me)throw new Be('Graph.edge: could not find the "'.concat(P,'" source node in the graph.'));if(!this._nodes.has(Q))throw new Be('Graph.edge: could not find the "'.concat(Q,'" target node in the graph.'));var Ne=me.out&&me.out[Q]||me.undirected&&me.undirected[Q]||void 0;if(Ne)return Ne.key},ye.inDegree=function(P){var Q=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof Q)throw new Ce('Graph.inDegree: Expecting a boolean but got "'.concat(Q,'" for the second parameter (allowing self-loops to be counted).'));var me=this._nodes.get(P=""+P);if(!me)throw new Be('Graph.inDegree: could not find the "'.concat(P,'" node in the graph.'));return"undirected"===this.type?0:me.inDegree+(Q?me.directedSelfLoops:0)},ye.outDegree=function(P){var Q=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof Q)throw new Ce('Graph.outDegree: Expecting a boolean but got "'.concat(Q,'" for the second parameter (allowing self-loops to be counted).'));var me=this._nodes.get(P=""+P);if(!me)throw new Be('Graph.outDegree: could not find the "'.concat(P,'" node in the graph.'));return"undirected"===this.type?0:me.outDegree+(Q?me.directedSelfLoops:0)},ye.directedDegree=function(P){var Q=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof Q)throw new Ce('Graph.directedDegree: Expecting a boolean but got "'.concat(Q,'" for the second parameter (allowing self-loops to be counted).'));var me=this._nodes.get(P=""+P);if(!me)throw new Be('Graph.directedDegree: could not find the "'.concat(P,'" node in the graph.'));if("undirected"===this.type)return 0;var Ne=Q?me.directedSelfLoops:0;return me.inDegree+Ne+(me.outDegree+Ne)},ye.undirectedDegree=function(P){var Q=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof Q)throw new Ce('Graph.undirectedDegree: Expecting a boolean but got "'.concat(Q,'" for the second parameter (allowing self-loops to be counted).'));var me=this._nodes.get(P=""+P);if(!me)throw new Be('Graph.undirectedDegree: could not find the "'.concat(P,'" node in the graph.'));return"directed"===this.type?0:me.undirectedDegree+2*(Q?me.undirectedSelfLoops:0)},ye.degree=function(P){var Q=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("boolean"!=typeof Q)throw new Ce('Graph.degree: Expecting a boolean but got "'.concat(Q,'" for the second parameter (allowing self-loops to be counted).'));var me=this._nodes.get(P=""+P);if(!me)throw new Be('Graph.degree: could not find the "'.concat(P,'" node in the graph.'));var Ne=0,Ye=0;return"directed"!==this.type&&(Q&&(Ye=me.undirectedSelfLoops),Ne+=me.undirectedDegree+2*Ye),"undirected"!==this.type&&(Q&&(Ye=me.directedSelfLoops),Ne+=me.inDegree+me.outDegree+2*Ye),Ne},ye.source=function(P){var Q=this._edges.get(P=""+P);if(!Q)throw new Be('Graph.source: could not find the "'.concat(P,'" edge in the graph.'));return Q.source.key},ye.target=function(P){var Q=this._edges.get(P=""+P);if(!Q)throw new Be('Graph.target: could not find the "'.concat(P,'" edge in the graph.'));return Q.target.key},ye.extremities=function(P){var Q=this._edges.get(P=""+P);if(!Q)throw new Be('Graph.extremities: could not find the "'.concat(P,'" edge in the graph.'));return[Q.source.key,Q.target.key]},ye.opposite=function(P,Q){P=""+P;var me=this._edges.get(Q=""+Q);if(!me)throw new Be('Graph.opposite: could not find the "'.concat(Q,'" edge in the graph.'));var Ne=me.source.key,Ye=me.target.key;if(P!==Ne&&P!==Ye)throw new Be('Graph.opposite: the "'.concat(P,'" node is not attached to the "').concat(Q,'" edge (').concat(Ne,", ").concat(Ye,")."));return P===Ne?Ye:Ne},ye.hasExtremity=function(P,Q){Q=""+Q;var me=this._edges.get(P=""+P);if(!me)throw new Be('Graph.hasExtremity: could not find the "'.concat(P,'" edge in the graph.'));return me.source.key===Q||me.target.key===Q},ye.isUndirected=function(P){var Q=this._edges.get(P=""+P);if(!Q)throw new Be('Graph.isUndirected: could not find the "'.concat(P,'" edge in the graph.'));return Q.undirected},ye.isDirected=function(P){var Q=this._edges.get(P=""+P);if(!Q)throw new Be('Graph.isDirected: could not find the "'.concat(P,'" edge in the graph.'));return!Q.undirected},ye.isSelfLoop=function(P){var Q=this._edges.get(P=""+P);if(!Q)throw new Be('Graph.isSelfLoop: could not find the "'.concat(P,'" edge in the graph.'));return Q.source===Q.target},ye.hasGeneratedKey=function(P){var Q=this._edges.get(P=""+P);if(!Q)throw new Be('Graph.hasGeneratedKey: could not find the "'.concat(P,'" edge in the graph.'));return Q.generatedKey},ye.addNode=function(P,Q){return function(me,Ne,Ye){if(Ye&&!R(Ye))throw new Ce('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(Ye,'"'));if(Ye=Ye||{},me._nodes.has(Ne=""+Ne))throw new ue('Graph.addNode: the "'.concat(Ne,'" node already exist in the graph.'));var ht=new me.NodeDataClass(Ne,Ye);return me._nodes.set(Ne,ht),me.emit("nodeAdded",{key:Ne,attributes:Ye}),ht}(this,P,Q).key},ye.mergeNode=function(P,Q){if(Q&&!R(Q))throw new Ce('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(Q,'"'));Q=Q||{};var me=this._nodes.get(P=""+P);return me?(Q&&(x(me.attributes,Q),this.emit("nodeAttributesUpdated",{type:"merge",key:P,attributes:me.attributes,data:Q})),P):(me=new this.NodeDataClass(P,Q),this._nodes.set(P,me),this.emit("nodeAdded",{key:P,attributes:Q}),P)},ye.updateNode=function(P,Q){if(Q&&"function"!=typeof Q)throw new Ce('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(Q,'"'));var me=this._nodes.get(P=""+P);if(me)return Q&&(me.attributes=Q(me.attributes),this.emit("nodeAttributesUpdated",{type:"replace",key:P,attributes:me.attributes})),P;var Ye=Q?Q({}):{};return me=new this.NodeDataClass(P,Ye),this._nodes.set(P,me),this.emit("nodeAdded",{key:P,attributes:Ye}),P},ye.dropNode=function(P){var Q=this,me=this._nodes.get(P=""+P);if(!me)throw new Be('Graph.dropNode: could not find the "'.concat(P,'" node in the graph.'));this.forEachEdge(P,function(Ne){Q.dropEdge(Ne)}),this._nodes.delete(P),this.emit("nodeDropped",{key:P,attributes:me.attributes})},ye.dropEdge=function(P){var Q;if(arguments.length>1){var me=""+arguments[0],Ne=""+arguments[1];if(!(Q=N(this,me,Ne,this.type)))throw new Be('Graph.dropEdge: could not find the "'.concat(me,'" -> "').concat(Ne,'" edge in the graph.'))}else if(!(Q=this._edges.get(P=""+P)))throw new Be('Graph.dropEdge: could not find the "'.concat(P,'" edge in the graph.'));this._edges.delete(Q.key);var ht=Q.source,Ft=Q.target,qt=Q.attributes,nn=Q.undirected;return ht===Ft?nn?(ht.undirectedSelfLoops--,this._undirectedSelfLoopCount--):(ht.directedSelfLoops--,this._directedSelfLoopCount--):nn?(ht.undirectedDegree--,Ft.undirectedDegree--):(ht.outDegree--,Ft.inDegree--),function O(_e,Me,ye){var P=_e.multi,Q=ye.source,me=ye.target,Ne=Q.key,Ye=me.key,ht=Q[Me?"undirected":"out"],Ft=Me?"undirected":"in";if(Ye in ht)if(P){var qt=ht[Ye];1===qt.size?(delete ht[Ye],delete me[Ft][Ne]):qt.delete(ye)}else delete ht[Ye];P||delete me[Ft][Ne]}(this,nn,Q),nn?this._undirectedSize--:this._directedSize--,this.emit("edgeDropped",{key:P,attributes:qt,source:ht.key,target:Ft.key,undirected:nn}),this},ye.clear=function(){this._edges.clear(),this._nodes.clear(),this.emit("cleared")},ye.clearEdges=function(){this._edges.clear(),this.clearIndex(),this.emit("edgesCleared")},ye.getAttribute=function(P){return this._attributes[P]},ye.getAttributes=function(){return this._attributes},ye.hasAttribute=function(P){return this._attributes.hasOwnProperty(P)},ye.setAttribute=function(P,Q){return this._attributes[P]=Q,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:P}),this},ye.updateAttribute=function(P,Q){if("function"!=typeof Q)throw new Ce("Graph.updateAttribute: updater should be a function.");return this._attributes[P]=Q(this._attributes[P]),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:P}),this},ye.removeAttribute=function(P){return delete this._attributes[P],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:P}),this},ye.replaceAttributes=function(P){if(!R(P))throw new Ce("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=P,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},ye.mergeAttributes=function(P){if(!R(P))throw new Ce("Graph.mergeAttributes: provided attributes are not a plain object.");return x(this._attributes,P),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:P}),this},ye.getNodeAttribute=function(P,Q){var me=this._nodes.get(P=""+P);if(!me)throw new Be('Graph.getNodeAttribute: could not find the "'.concat(P,'" node in the graph.'));return me.attributes[Q]},ye.getNodeAttributes=function(P){var Q=this._nodes.get(P=""+P);if(!Q)throw new Be('Graph.getNodeAttributes: could not find the "'.concat(P,'" node in the graph.'));return Q.attributes},ye.hasNodeAttribute=function(P,Q){var me=this._nodes.get(P=""+P);if(!me)throw new Be('Graph.hasNodeAttribute: could not find the "'.concat(P,'" node in the graph.'));return me.attributes.hasOwnProperty(Q)},ye.setNodeAttribute=function(P,Q,me){var Ne=this._nodes.get(P=""+P);if(!Ne)throw new Be('Graph.setNodeAttribute: could not find the "'.concat(P,'" node in the graph.'));if(arguments.length<3)throw new Ce("Graph.setNodeAttribute: not enough arguments. Either you forgot to pass the attribute's name or value, or you meant to use #.replaceNodeAttributes / #.mergeNodeAttributes instead.");return Ne.attributes[Q]=me,this.emit("nodeAttributesUpdated",{key:P,type:"set",attributes:Ne.attributes,name:Q}),this},ye.updateNodeAttribute=function(P,Q,me){var Ne=this._nodes.get(P=""+P);if(!Ne)throw new Be('Graph.updateNodeAttribute: could not find the "'.concat(P,'" node in the graph.'));if(arguments.length<3)throw new Ce("Graph.updateNodeAttribute: not enough arguments. Either you forgot to pass the attribute's name or updater, or you meant to use #.replaceNodeAttributes / #.mergeNodeAttributes instead.");if("function"!=typeof me)throw new Ce("Graph.updateAttribute: updater should be a function.");var Ye=Ne.attributes,ht=me(Ye[Q]);return Ye[Q]=ht,this.emit("nodeAttributesUpdated",{key:P,type:"set",attributes:Ne.attributes,name:Q}),this},ye.removeNodeAttribute=function(P,Q){var me=this._nodes.get(P=""+P);if(!me)throw new Be('Graph.hasNodeAttribute: could not find the "'.concat(P,'" node in the graph.'));return delete me.attributes[Q],this.emit("nodeAttributesUpdated",{key:P,type:"remove",attributes:me.attributes,name:Q}),this},ye.replaceNodeAttributes=function(P,Q){var me=this._nodes.get(P=""+P);if(!me)throw new Be('Graph.replaceNodeAttributes: could not find the "'.concat(P,'" node in the graph.'));if(!R(Q))throw new Ce("Graph.replaceNodeAttributes: provided attributes are not a plain object.");return me.attributes=Q,this.emit("nodeAttributesUpdated",{key:P,type:"replace",attributes:me.attributes}),this},ye.mergeNodeAttributes=function(P,Q){var me=this._nodes.get(P=""+P);if(!me)throw new Be('Graph.mergeNodeAttributes: could not find the "'.concat(P,'" node in the graph.'));if(!R(Q))throw new Ce("Graph.mergeNodeAttributes: provided attributes are not a plain object.");return x(me.attributes,Q),this.emit("nodeAttributesUpdated",{key:P,type:"merge",attributes:me.attributes,data:Q}),this},ye.updateEachNodeAttributes=function(P,Q){if("function"!=typeof P)throw new Ce("Graph.updateEachNodeAttributes: expecting an updater function.");if(Q&&!F(Q))throw new Ce("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var me,Ne,Ye=this._nodes.values();!0!==(me=Ye.next()).done;)(Ne=me.value).attributes=P(Ne.key,Ne.attributes);this.emit("eachNodeAttributesUpdated",{hints:Q||null})},ye.updateEachEdgeAttributes=function(P,Q){if("function"!=typeof P)throw new Ce("Graph.updateEachEdgeAttributes: expecting an updater function.");if(Q&&!F(Q))throw new Ce("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var me,Ne,Ye=this._edges.values();!0!==(me=Ye.next()).done;)(Ne=me.value).attributes=P(Ne.key,Ne.attributes);this.emit("eachEdgeAttributesUpdated",{hints:Q||null})},ye.forEach=function(P){if("function"!=typeof P)throw new Ce("Graph.forEach: expecting a callback.");this.multi?Qe(!1,this,P):We(!1,this,P)},ye.forEachUntil=function(P){if("function"!=typeof P)throw new Ce("Graph.forEach: expecting a callback.");this.multi?Qe(!0,this,P):We(!0,this,P)},ye.adjacency=function(){return this.multi?(ht=(P=this)._nodes.values(),Ft=P.type,qt="outer",nn=null,new Ze(function En(){var Wn;if("outer"===qt)return!0===(Wn=ht.next()).done?Wn:(Q=Wn.value,qt="directed",En());if("directed"===qt)return"undirected"===Ft?(qt="undirected",En()):(Ne=Q.out,me=Object.keys(Q.out),Ye=0,qt="inner-directed",En());if("undirected"===qt){if("directed"===Ft)return qt="outer",En();Ne=Q.undirected,me=Object.keys(Q.undirected),Ye=0,qt="inner-undirected"}if(!nn&&Ye>=me.length)return qt="inner-undirected"===qt?"outer":"undirected",En();if(!nn){var ni=me[Ye++];return nn=Ne[ni].values(),En()}if((Wn=nn.next()).done)return nn=null,En();var Ao=Wn.value,ta=Ao.target;return"inner-undirected"===qt&&ta.key===Q.key&&(ta=Ao.source),{done:!1,value:[Q.key,ta.key,Q.attributes,ta.attributes,Ao.key,Ao.attributes]}})):(Fi=(En=this)._nodes.values(),_c=En.type,Di="outer",new Ze(function as(){var tu;if("outer"===Di)return!0===(tu=Fi.next()).done?tu:(Wn=tu.value,Di="directed",as());if("directed"===Di)return"undirected"===_c?(Di="undirected",as()):(Ao=Wn.out,ni=Object.keys(Wn.out),ta=0,Di="inner-directed",as());if("undirected"===Di){if("directed"===_c)return Di="outer",as();Ao=Wn.undirected,ni=Object.keys(Wn.undirected),ta=0,Di="inner-undirected"}if(ta>=ni.length)return Di="inner-undirected"===Di?"outer":"undirected",as();var nu=ni[ta++],di=Ao[nu],Un=di.target;return"inner-undirected"===Di&&Un.key===Wn.key&&(Un=di.source),{done:!1,value:[Wn.key,Un.key,Wn.attributes,Un.attributes,di.key,di.attributes]}}));var En,Wn,ni,Ao,ta,Fi,_c,Di,P,Q,me,Ne,Ye,ht,Ft,qt,nn},ye.nodes=function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):Te(this._nodes.keys(),this._nodes.size)},ye.forEachNode=function(P){if("function"!=typeof P)throw new Ce("Graph.forEachNode: expecting a callback.");this._nodes.forEach(function(Q,me){P(me,Q.attributes)})},ye.forEachNodeUntil=function(P){if("function"!=typeof P)throw new Ce("Graph.forEachNode: expecting a callback.");for(var Q,me,Ne=this._nodes.values();!0!==(Q=Ne.next())&&!P((me=Q.value).key,me.attributes););},ye.nodeEntries=function(){var P=this._nodes.values();return new Ze(function(){var Q=P.next();if(Q.done)return Q;var me=Q.value;return{value:[me.key,me.attributes],done:!1}})},ye.exportNode=function(P){var Q=this._nodes.get(P=""+P);if(!Q)throw new Be('Graph.exportNode: could not find the "'.concat(P,'" node in the graph.'));return sn(P,Q)},ye.exportEdge=function(P){var Q=this._edges.get(P=""+P);if(!Q)throw new Be('Graph.exportEdge: could not find the "'.concat(P,'" edge in the graph.'));return Ct(P,Q)},ye.export=function(){var P=new Array(this._nodes.size),Q=0;this._nodes.forEach(function(Ne,Ye){P[Q++]=sn(Ye,Ne)});var me=new Array(this._edges.size);return Q=0,this._edges.forEach(function(Ne,Ye){me[Q++]=Ct(Ye,Ne)}),{attributes:this.getAttributes(),nodes:P,edges:me,options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops}}},ye.importNode=function(P){var Q=arguments.length>1&&void 0!==arguments[1]&&arguments[1],me=function Tn(_e){return R(_e)?"key"in _e?!("attributes"in _e)||R(_e.attributes)&&null!==_e.attributes?null:"invalid-attributes":"no-key":"not-object"}(P);if(me){if("not-object"===me)throw new Ce('Graph.importNode: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if("no-key"===me)throw new Ce("Graph.importNode: no key provided.");if("invalid-attributes"===me)throw new Ce("Graph.importNode: invalid attributes. Attributes should be a plain object, null or omitted.")}var Ne=P.key,Ye=P.attributes,ht=void 0===Ye?{}:Ye;return Q?this.mergeNode(Ne,ht):this.addNode(Ne,ht),this},ye.importEdge=function(P){var Q=arguments.length>1&&void 0!==arguments[1]&&arguments[1],me=function Ur(_e){return R(_e)?"source"in _e?"target"in _e?!("attributes"in _e)||R(_e.attributes)&&null!==_e.attributes?"undirected"in _e&&"boolean"!=typeof _e.undirected?"invalid-undirected":null:"invalid-attributes":"no-target":"no-source":"not-object"}(P);if(me){if("not-object"===me)throw new Ce('Graph.importEdge: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if("no-source"===me)throw new Ce("Graph.importEdge: missing souce.");if("no-target"===me)throw new Ce("Graph.importEdge: missing target.");if("invalid-attributes"===me)throw new Ce("Graph.importEdge: invalid attributes. Attributes should be a plain object, null or omitted.");if("invalid-undirected"===me)throw new Ce("Graph.importEdge: invalid undirected. Undirected should be boolean or omitted.")}var Ne=P.source,Ye=P.target,ht=P.attributes,Ft=void 0===ht?{}:ht,qt=P.undirected,nn=void 0!==qt&&qt;return"key"in P?(Q?nn?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:nn?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,P.key,Ne,Ye,Ft):(Q?nn?this.mergeUndirectedEdge:this.mergeDirectedEdge:nn?this.addUndirectedEdge:this.addDirectedEdge).call(this,Ne,Ye,Ft),this},ye.import=function(P){var Q,me,Ne,Ye=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(function W(_e){return null!==_e&&"object"===ge(_e)&&"function"==typeof _e.addUndirectedEdgeWithKey&&"function"==typeof _e.dropNode}(P))return this.import(P.export(),Ye),this;if(!R(P))throw new Ce("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(P.attributes){if(!R(P.attributes))throw new Ce("Graph.import: invalid attributes. Expecting a plain object.");Ye?this.mergeAttributes(P.attributes):this.replaceAttributes(P.attributes)}if(P.nodes){if(Ne=P.nodes,!Array.isArray(Ne))throw new Ce("Graph.import: invalid nodes. Expecting an array.");for(Q=0,me=Ne.length;Q<me;Q++)this.importNode(Ne[Q],Ye)}if(P.edges){if(Ne=P.edges,!Array.isArray(Ne))throw new Ce("Graph.import: invalid edges. Expecting an array.");for(Q=0,me=Ne.length;Q<me;Q++)this.importEdge(Ne[Q],Ye)}return this},ye.nullCopy=function(P){return new Me(x({},this._options,P))},ye.emptyCopy=function(P){var Q=this.nullCopy(P);return this._nodes.forEach(function(me,Ne){var Ye=x({},me.attributes);me=new Q.NodeDataClass(Ne,Ye),Q._nodes.set(Ne,me)}),Q},ye.copy=function(){var P=new Me(this._options);return P.import(this),P},ye.upgradeToMixed=function(){return"mixed"===this.type||(this._nodes.forEach(function(P){return P.upgradeToMixed()}),this._options.type="mixed",w(this,"type",this._options.type),re(this,"NodeDataClass",Se)),this},ye.upgradeToMulti=function(){return this.multi||(this._options.multi=!0,w(this,"multi",!0),(P=this)._nodes.forEach(function(Q,me){if(Q.out)for(var Ne in Q.out){var Ye=new Set;Ye.add(Q.out[Ne]),Q.out[Ne]=Ye,P._nodes.get(Ne).in[me]=Ye}if(Q.undirected)for(var ht in Q.undirected)if(!(ht>me)){var Ft=new Set;Ft.add(Q.undirected[ht]),Q.undirected[ht]=Ft,P._nodes.get(ht).undirected[me]=Ft}})),this;var P},ye.clearIndex=function(){return this._nodes.forEach(function(P){void 0!==P.in&&(P.in={},P.out={}),void 0!==P.undirected&&(P.undirected={})}),this},ye.toJSON=function(){return this.export()},ye.toString=function(){return"[object Graph]"},ye.inspect=function(){var P=this,Q={};this._nodes.forEach(function(Ft,qt){Q[qt]=Ft.attributes});var me={},Ne={};this._edges.forEach(function(Ft,qt){var nn=Ft.undirected?"--":"->",En="",Wn="(".concat(Ft.source.key,")").concat(nn,"(").concat(Ft.target.key,")");Ft.generatedKey?P.multi&&(void 0===Ne[Wn]?Ne[Wn]=0:Ne[Wn]++,En+="".concat(Ne[Wn],". ")):En+="[".concat(qt,"]: "),me[En+=Wn]=Ft.attributes});var Ye={};for(var ht in this)this.hasOwnProperty(ht)&&!Wc.has(ht)&&"function"!=typeof this[ht]&&(Ye[ht]=this[ht]);return Ye.attributes=this._attributes,Ye.nodes=Q,Ye.edges=me,re(Ye,"constructor",this.constructor),Ye},Me}($.exports.EventEmitter);typeof Symbol<"u"&&(Pn.prototype[Symbol.for("nodejs.util.inspect.custom")]=Pn.prototype.inspect),[{name:function(_e){return"".concat(_e,"Edge")},generateKey:!0},{name:function(_e){return"".concat(_e,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(_e){return"".concat(_e,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(_e){return"".concat(_e,"EdgeWithKey")}},{name:function(_e){return"".concat(_e,"DirectedEdgeWithKey")},type:"directed"},{name:function(_e){return"".concat(_e,"UndirectedEdgeWithKey")},type:"undirected"}].forEach(function(_e){["add","merge","update"].forEach(function(Me){var ye=_e.name(Me),P="add"===Me?Ir:gc;Pn.prototype[ye]=_e.generateKey?function(Q,me,Ne){return P(this,ye,!0,"undirected"===(_e.type||this.type),null,Q,me,Ne,"update"===Me)}:function(Q,me,Ne,Ye){return P(this,ye,!1,"undirected"===(_e.type||this.type),Q,me,Ne,Ye,"update"===Me)}})}),typeof Symbol<"u"&&(Pn.prototype[Symbol.iterator]=Pn.prototype.adjacency),_e=Pn,C.forEach(function(Me){var ye=Me.name,P=Me.attacher;P(_e,ye("Edge"),"mixed"),P(_e,ye("DirectedEdge"),"directed"),P(_e,ye("UndirectedEdge"),"undirected")}),function(_e){He.forEach(function(Me){var P,Q,me,Ne;me=(P=Me).type,Ne=P.direction,_e.prototype[Q=P.name]=function(Ye,ht){if("mixed"!==me&&"mixed"!==this.type&&me!==this.type)return[];if(!arguments.length)return function zt(_e,Me){if(0===_e.size)return[];if("mixed"===Me||Me===_e.type)return"function"==typeof Array.from?Array.from(_e._edges.keys()):Te(_e._edges.keys(),_e._edges.size);for(var ye,P,me=new Array("undirected"===Me?_e.undirectedSize:_e.directedSize),Ne="undirected"===Me,Ye=_e._edges.values(),ht=0;!0!==(ye=Ye.next()).done;)(P=ye.value).undirected===Ne&&(me[ht++]=P.key);return me}(this,me);if(1===arguments.length){var Ft=this._nodes.get(Ye=""+Ye);if(void 0===Ft)throw new Be("Graph.".concat(Q,': could not find the "').concat(Ye,'" node in the graph.'));return function Fe(_e,Me,ye,P){var Q=[],me=_e?de:Je;return"undirected"!==Me&&("out"!==ye&&me(Q,P.in),"in"!==ye&&me(Q,P.out),!ye&&P.directedSelfLoops>0&&Q.splice(Q.lastIndexOf(P.key),1)),"directed"!==Me&&me(Q,P.undirected),Q}(this.multi,"mixed"===me?this.type:me,Ne,Ft)}if(2===arguments.length){ht=""+ht;var qt=this._nodes.get(Ye=""+Ye);if(!qt)throw new Be("Graph.".concat(Q,':  could not find the "').concat(Ye,'" source node in the graph.'));if(!this._nodes.has(ht))throw new Be("Graph.".concat(Q,':  could not find the "').concat(ht,'" target node in the graph.'));return function An(_e,Me,ye,P,Q){var me=Me?Ee:qe,Ne=[];return"undirected"!==_e&&(void 0!==P.in&&"out"!==ye&&me(Ne,P.in,Q),void 0!==P.out&&"in"!==ye&&me(Ne,P.out,Q),!ye&&P.directedSelfLoops>0&&Ne.splice(Ne.lastIndexOf(P.key),1)),"directed"!==_e&&void 0!==P.undirected&&me(Ne,P.undirected,Q),Ne}(me,this.multi,Ne,qt,ht)}throw new Ce("Graph.".concat(Q,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))},function(ye,P){var Q=P.name,me=P.type,Ne=P.direction,Ye="forEach"+Q[0].toUpperCase()+Q.slice(1,-1);ye.prototype[Ye]=function(ht,Ft,qt){if("mixed"===me||"mixed"===this.type||me===this.type){if(1===arguments.length)return function pe(_e,Me,ye){if(0!==_e.size)for(var P,Q,me="mixed"!==Me&&Me!==_e.type,Ne="undirected"===Me,Ye=_e._edges.values();!0!==(P=Ye.next()).done;)if(Q=P.value,!me||Q.undirected===Ne){var nn=Q.source,En=Q.target;ye(Q.key,Q.attributes,nn.key,En.key,nn.attributes,En.attributes,Q.undirected,Q.generatedKey)}}(this,me,qt=ht);if(2===arguments.length){qt=Ft;var nn=this._nodes.get(ht=""+ht);if(void 0===nn)throw new Be("Graph.".concat(Ye,': could not find the "').concat(ht,'" node in the graph.'));return function st(_e,Me,ye,P,Q){var me=_e?U:te;"undirected"!==Me&&("out"!==ye&&me(P.in,Q),"in"!==ye&&me(P.out,Q,ye?null:P.key)),"directed"!==Me&&me(P.undirected,Q)}(this.multi,"mixed"===me?this.type:me,Ne,nn,qt)}if(3===arguments.length){Ft=""+Ft;var En=this._nodes.get(ht=""+ht);if(!En)throw new Be("Graph.".concat(Ye,':  could not find the "').concat(ht,'" source node in the graph.'));if(!this._nodes.has(Ft))throw new Be("Graph.".concat(Ye,':  could not find the "').concat(Ft,'" target node in the graph.'));return function oi(_e,Me,ye,P,Q,me){var Ne=Me?it:Ve;"undirected"!==_e&&(void 0!==P.in&&"out"!==ye&&Ne(P.in,Q,me),P.key!==Q&&void 0!==P.out&&"in"!==ye&&Ne(P.out,Q,me)),"directed"!==_e&&void 0!==P.undirected&&Ne(P.undirected,Q,me)}(me,this.multi,Ne,En,Ft,qt)}throw new Ce("Graph.".concat(Ye,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}}}(_e,Me),function(ye,P){var Q=P.name,me=P.type,Ne=P.direction,Ye="forEach"+Q[0].toUpperCase()+Q.slice(1,-1)+"Until";ye.prototype[Ye]=function(ht,Ft,qt){if("mixed"===me||"mixed"===this.type||me===this.type){if(1===arguments.length)return function V(_e,Me,ye){if(0!==_e.size)for(var P,Q,me="mixed"!==Me&&Me!==_e.type,Ne="undirected"===Me,Ye=_e._edges.values();!0!==(P=Ye.next()).done;)if(Q=P.value,!me||Q.undirected===Ne){var nn=Q.source,En=Q.target;if(ye(Q.key,Q.attributes,nn.key,En.key,nn.attributes,En.attributes,Q.undirected,Q.generatedKey))break}}(this,me,qt=ht);if(2===arguments.length){qt=Ft;var nn=this._nodes.get(ht=""+ht);if(void 0===nn)throw new Be("Graph.".concat(Ye,': could not find the "').concat(ht,'" node in the graph.'));return function ft(_e,Me,ye,P,Q){var me=_e?k:I;"undirected"!==Me&&("out"!==ye&&me(P.in,Q)||"in"!==ye&&me(P.out,Q,ye?null:P.key))||"directed"===Me||me(P.undirected,Q)}(this.multi,"mixed"===me?this.type:me,Ne,nn,qt)}if(3===arguments.length){Ft=""+Ft;var En=this._nodes.get(ht=""+ht);if(!En)throw new Be("Graph.".concat(Ye,':  could not find the "').concat(ht,'" source node in the graph.'));if(!this._nodes.has(Ft))throw new Be("Graph.".concat(Ye,':  could not find the "').concat(Ft,'" target node in the graph.'));return function gi(_e,Me,ye,P,Q,me){var Ne=Me?Wt:At;"undirected"!==_e&&(void 0!==P.in&&"out"!==ye&&Ne(P.in,Q,me)||P.key!==Q&&void 0!==P.out&&"in"!==ye&&Ne(P.out,Q,me,ye?null:P.key))||"directed"===_e||void 0===P.undirected||Ne(P.undirected,Q,me)}(me,this.multi,Ne,En,Ft,qt)}throw new Ce("Graph.".concat(Ye,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}}}(_e,Me),function(ye,P){var me=P.type,Ne=P.direction,Ye=P.name.slice(0,-1)+"Entries";ye.prototype[Ye]=function(ht,Ft){if("mixed"!==me&&"mixed"!==this.type&&me!==this.type)return Ze.empty();if(!arguments.length)return function ne(_e,Me){if(0===_e.size)return Ze.empty();var ye="mixed"!==Me&&Me!==_e.type,P="undirected"===Me,Q=_e._edges.values();return new Ze(function(){for(var me,Ne;;){if((me=Q.next()).done)return me;if(Ne=me.value,!ye||Ne.undirected===P)break}return{value:[Ne.key,Ne.attributes,Ne.source.key,Ne.target.key,Ne.source.attributes,Ne.target.attributes],done:!1}})}(this,me);if(1===arguments.length){var qt=this._nodes.get(ht=""+ht);if(!qt)throw new Be("Graph.".concat(Ye,': could not find the "').concat(ht,'" node in the graph.'));return function Tt(_e,Me,ye){var P=Ze.empty();return"undirected"!==_e&&("out"!==Me&&void 0!==ye.in&&(P=J(P,he(ye.in))),"in"!==Me&&void 0!==ye.out&&(P=J(P,he(ye.out,Me?null:ye.key)))),"directed"!==_e&&void 0!==ye.undirected&&(P=J(P,he(ye.undirected))),P}(me,Ne,qt)}if(2===arguments.length){Ft=""+Ft;var nn=this._nodes.get(ht=""+ht);if(!nn)throw new Be("Graph.".concat(Ye,':  could not find the "').concat(ht,'" source node in the graph.'));if(!this._nodes.has(Ft))throw new Be("Graph.".concat(Ye,':  could not find the "').concat(Ft,'" target node in the graph.'));return function qn(_e,Me,ye,P){var Q=Ze.empty();return"undirected"!==_e&&(void 0!==ye.in&&"out"!==Me&&P in ye.in&&(Q=J(Q,It(ye.in,P))),void 0!==ye.out&&"in"!==Me&&P in ye.out&&(Q=J(Q,It(ye.out,P)))),"directed"!==_e&&void 0!==ye.undirected&&P in ye.undirected&&(Q=J(Q,It(ye.undirected,P))),Q}(me,Ne,nn,Ft)}throw new Ce("Graph.".concat(Ye,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(_e,Me)})}(Pn),function(_e){Gn.forEach(function(Me){var P,Q,me,Ne;me=(P=Me).type,Ne=P.direction,_e.prototype[Q=P.name]=function(Ye){if("mixed"!==me&&"mixed"!==this.type&&me!==this.type)return[];if(2===arguments.length){var ht=""+arguments[0],Ft=""+arguments[1];if(!this._nodes.has(ht))throw new Be("Graph.".concat(Q,': could not find the "').concat(ht,'" node in the graph.'));if(!this._nodes.has(Ft))throw new Be("Graph.".concat(Q,': could not find the "').concat(Ft,'" node in the graph.'));return function Jl(_e,Me,ye,P,Q){var me=_e._nodes.get(P);if("undirected"!==Me){if("out"!==ye&&void 0!==me.in)for(var Ne in me.in)if(Ne===Q)return!0;if("in"!==ye&&void 0!==me.out)for(var Ye in me.out)if(Ye===Q)return!0}if("directed"!==Me&&void 0!==me.undirected)for(var ht in me.undirected)if(ht===Q)return!0;return!1}(this,me,Ne,ht,Ft)}if(1===arguments.length){var qt=this._nodes.get(Ye=""+Ye);if(void 0===qt)throw new Be("Graph.".concat(Q,': could not find the "').concat(Ye,'" node in the graph.'));return function Ga(_e,Me,ye){if("mixed"!==_e){if("undirected"===_e)return Object.keys(ye.undirected);if("string"==typeof Me)return Object.keys(ye[Me])}var P=new Set;return"undirected"!==_e&&("out"!==Me&&dr(P,ye.in),"in"!==Me&&dr(P,ye.out)),"directed"!==_e&&dr(P,ye.undirected),Te(P.values(),P.size)}("mixed"===me?this.type:me,Ne,qt)}throw new Ce("Graph.".concat(Q,": invalid number of arguments (expecting 1 or 2 and got ").concat(arguments.length,")."))},function Hc(_e,Me){var ye=Me.name,P=Me.type,Q=Me.direction,me="forEach"+ye[0].toUpperCase()+ye.slice(1,-1);_e.prototype[me]=function(Ne,Ye){if("mixed"===P||"mixed"===this.type||P===this.type){var ht=this._nodes.get(Ne=""+Ne);if(void 0===ht)throw new Be("Graph.".concat(me,': could not find the "').concat(Ne,'" node in the graph.'));!function(Ft,qt,nn,En){if("mixed"!==Ft){if("undirected"===Ft)return jr(nn,nn.undirected,En);if("string"==typeof qt)return jr(nn,nn[qt],En)}var Wn=new Set;"undirected"!==Ft&&("out"!==qt&&ys(Wn,nn,nn.in,En),"in"!==qt&&ys(Wn,nn,nn.out,En)),"directed"!==Ft&&ys(Wn,nn,nn.undirected,En)}("mixed"===P?this.type:P,Q,ht,Ye)}}}(_e,Me),function bl(_e,Me){var ye=Me.name,P=Me.type,Q=Me.direction,me="forEach"+ye[0].toUpperCase()+ye.slice(1,-1)+"Until";_e.prototype[me]=function(Ne,Ye){if("mixed"===P||"mixed"===this.type||P===this.type){var ht=this._nodes.get(Ne=""+Ne);if(void 0===ht)throw new Be("Graph.".concat(me,': could not find the "').concat(Ne,'" node in the graph.'));!function(Ft,qt,nn,En){if("mixed"!==Ft){if("undirected"===Ft)return Zs(nn,nn.undirected,En);if("string"==typeof qt)return Zs(nn,nn[qt],En)}var Wn=new Set;"undirected"!==Ft&&("out"!==qt&&Er(Wn,nn,nn.in,En)||"in"!==qt&&Er(Wn,nn,nn.out,En))||"directed"===Ft||Er(Wn,nn,nn.undirected,En)}("mixed"===P?this.type:P,Q,ht,Ye)}}}(_e,Me),function Gc(_e,Me){var P=Me.type,Q=Me.direction,me=Me.name.slice(0,-1)+"Entries";_e.prototype[me]=function(Ne){if("mixed"!==P&&"mixed"!==this.type&&P!==this.type)return Ze.empty();var Ye=this._nodes.get(Ne=""+Ne);if(void 0===Ye)throw new Be("Graph.".concat(me,': could not find the "').concat(Ne,'" node in the graph.'));return function(ht,Ft,qt){if("mixed"!==ht){if("undirected"===ht)return fo(qt,qt.undirected);if("string"==typeof Ft)return fo(qt,qt[Ft])}var nn=Ze.empty(),En=new Set;return"undirected"!==ht&&("out"!==Ft&&(nn=J(nn,ea(En,qt,qt.in))),"in"!==Ft&&(nn=J(nn,ea(En,qt,qt.out)))),"directed"!==ht&&(nn=J(nn,ea(En,qt,qt.undirected))),nn}("mixed"===P?this.type:P,Q,Ye)}}(_e,Me)})}(Pn);var si=function(_e){function Me(ye){var P=x({type:"directed"},ye);if("multi"in P&&!1!==P.multi)throw new Ce("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==P.type)throw new Ce('DirectedGraph.from: inconsistent "'+P.type+'" type in given options!');return _e.call(this,P)||this}return S(Me,_e),Me}(Pn),vs=function(_e){function Me(ye){var P=x({type:"undirected"},ye);if("multi"in P&&!1!==P.multi)throw new Ce("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==P.type)throw new Ce('UndirectedGraph.from: inconsistent "'+P.type+'" type in given options!');return _e.call(this,P)||this}return S(Me,_e),Me}(Pn),Vt=function(_e){function Me(ye){var P=x({multi:!0},ye);if("multi"in P&&!0!==P.multi)throw new Ce("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return _e.call(this,P)||this}return S(Me,_e),Me}(Pn),Os=function(_e){function Me(ye){var P=x({type:"directed",multi:!0},ye);if("multi"in P&&!0!==P.multi)throw new Ce("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==P.type)throw new Ce('MultiDirectedGraph.from: inconsistent "'+P.type+'" type in given options!');return _e.call(this,P)||this}return S(Me,_e),Me}(Pn),Wo=function(_e){function Me(ye){var P=x({type:"undirected",multi:!0},ye);if("multi"in P&&!0!==P.multi)throw new Ce("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==P.type)throw new Ce('MultiUndirectedGraph.from: inconsistent "'+P.type+'" type in given options!');return _e.call(this,P)||this}return S(Me,_e),Me}(Pn);function wt(_e){_e.from=function(Me,ye){var P=x({},Me.options,ye),Q=new _e(P);return Q.import(Me),Q}}return wt(Pn),wt(si),wt(vs),wt(Vt),wt(Os),wt(Wo),Pn.Graph=Pn,Pn.DirectedGraph=si,Pn.UndirectedGraph=vs,Pn.MultiGraph=Vt,Pn.MultiDirectedGraph=Os,Pn.MultiUndirectedGraph=Wo,Pn.InvalidArgumentsGraphError=Ce,Pn.NotFoundGraphError=Be,Pn.UsageGraphError=ue,Pn}()},4511:(Ue,ge,S)=>{var Z;!function(A,Y,G,X){"use strict";var $,_=["","webkit","Moz","MS","ms","o"],x=Y.createElement("div"),N="function",W=Math.round,R=Math.abs,D=Date.now;function re(De,Ge,lt){return setTimeout(B(De,lt),Ge)}function w(De,Ge,lt){return!!Array.isArray(De)&&(F(De,lt[Ge],lt),!0)}function F(De,Ge,lt){var St;if(De)if(De.forEach)De.forEach(Ge,lt);else if(De.length!==X)for(St=0;St<De.length;)Ge.call(lt,De[St],St,De),St++;else for(St in De)De.hasOwnProperty(St)&&Ge.call(lt,De[St],St,De)}function oe(De,Ge,lt){var St="DEPRECATED METHOD: "+Ge+"\n"+lt+" AT \n";return function(){var en=new Error("get-stack-trace"),Cn=en&&en.stack?en.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Si=A.console&&(A.console.warn||A.console.log);return Si&&Si.call(A.console,St,Cn),De.apply(this,arguments)}}$="function"!=typeof Object.assign?function(Ge){if(Ge===X||null===Ge)throw new TypeError("Cannot convert undefined or null to object");for(var lt=Object(Ge),St=1;St<arguments.length;St++){var en=arguments[St];if(en!==X&&null!==en)for(var Cn in en)en.hasOwnProperty(Cn)&&(lt[Cn]=en[Cn])}return lt}:Object.assign;var z=oe(function(Ge,lt,St){for(var en=Object.keys(lt),Cn=0;Cn<en.length;)(!St||St&&Ge[en[Cn]]===X)&&(Ge[en[Cn]]=lt[en[Cn]]),Cn++;return Ge},"extend","Use `assign`."),ee=oe(function(Ge,lt){return z(Ge,lt,!0)},"merge","Use `assign`.");function q(De,Ge,lt){var en,St=Ge.prototype;(en=De.prototype=Object.create(St)).constructor=De,en._super=St,lt&&$(en,lt)}function B(De,Ge){return function(){return De.apply(Ge,arguments)}}function y(De,Ge){return typeof De==N?De.apply(Ge&&Ge[0]||X,Ge):De}function M(De,Ge){return De===X?Ge:De}function T(De,Ge,lt){F(ae(Ge),function(St){De.addEventListener(St,lt,!1)})}function ce(De,Ge,lt){F(ae(Ge),function(St){De.removeEventListener(St,lt,!1)})}function j(De,Ge){for(;De;){if(De==Ge)return!0;De=De.parentNode}return!1}function Ie(De,Ge){return De.indexOf(Ge)>-1}function ae(De){return De.trim().split(/\s+/g)}function xe(De,Ge,lt){if(De.indexOf&&!lt)return De.indexOf(Ge);for(var St=0;St<De.length;){if(lt&&De[St][lt]==Ge||!lt&&De[St]===Ge)return St;St++}return-1}function Oe(De){return Array.prototype.slice.call(De,0)}function ze(De,Ge,lt){for(var St=[],en=[],Cn=0;Cn<De.length;){var Si=Ge?De[Cn][Ge]:De[Cn];xe(en,Si)<0&&St.push(De[Cn]),en[Cn]=Si,Cn++}return lt&&(St=Ge?St.sort(function(mo,ws){return mo[Ge]>ws[Ge]}):St.sort()),St}function nt(De,Ge){for(var lt,St,en=Ge[0].toUpperCase()+Ge.slice(1),Cn=0;Cn<_.length;){if((St=(lt=_[Cn])?lt+en:Ge)in De)return St;Cn++}return X}var Ze=1;function je(De){var Ge=De.ownerDocument||De;return Ge.defaultView||Ge.parentWindow||A}var Be="ontouchstart"in A,ue=nt(A,"PointerEvent")!==X,Se=Be&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),at="touch",Ke="mouse",O=25,C=1,J=4,He=8,Je=1,de=2,te=4,U=8,I=16,k=de|te,he=U|I,qe=k|he,Ee=["x","y"],Ve=["clientX","clientY"];function it(De,Ge){var lt=this;this.manager=De,this.callback=Ge,this.element=De.element,this.target=De.options.inputTarget,this.domHandler=function(St){y(De.options.enable,[De])&&lt.handler(St)},this.init()}function Wt(De,Ge,lt){var St=lt.pointers.length,en=lt.changedPointers.length,Cn=Ge&C&&St-en==0,Si=Ge&(J|He)&&St-en==0;lt.isFirst=!!Cn,lt.isFinal=!!Si,Cn&&(De.session={}),lt.eventType=Ge,function It(De,Ge){var lt=De.session,St=Ge.pointers,en=St.length;lt.firstInput||(lt.firstInput=V(Ge)),en>1&&!lt.firstMultiple?lt.firstMultiple=V(Ge):1===en&&(lt.firstMultiple=!1);var Cn=lt.firstInput,Si=lt.firstMultiple,po=Si?Si.center:Cn.center,mo=Ge.center=ne(St);Ge.timeStamp=D(),Ge.deltaTime=Ge.timeStamp-Cn.timeStamp,Ge.angle=Tt(po,mo),Ge.distance=ft(po,mo),function zt(De,Ge){var lt=Ge.center,St=De.offsetDelta||{},en=De.prevDelta||{},Cn=De.prevInput||{};(Ge.eventType===C||Cn.eventType===J)&&(en=De.prevDelta={x:Cn.deltaX||0,y:Cn.deltaY||0},St=De.offsetDelta={x:lt.x,y:lt.y}),Ge.deltaX=en.x+(lt.x-St.x),Ge.deltaY=en.y+(lt.y-St.y)}(lt,Ge),Ge.offsetDirection=st(Ge.deltaX,Ge.deltaY);var ws=Fe(Ge.deltaTime,Ge.deltaX,Ge.deltaY);Ge.overallVelocityX=ws.x,Ge.overallVelocityY=ws.y,Ge.overallVelocity=R(ws.x)>R(ws.y)?ws.x:ws.y,Ge.scale=Si?function oi(De,Ge){return ft(Ge[0],Ge[1],Ve)/ft(De[0],De[1],Ve)}(Si.pointers,St):1,Ge.rotation=Si?function An(De,Ge){return Tt(Ge[1],Ge[0],Ve)+Tt(De[1],De[0],Ve)}(Si.pointers,St):0,Ge.maxPointers=lt.prevInput?Ge.pointers.length>lt.prevInput.maxPointers?Ge.pointers.length:lt.prevInput.maxPointers:Ge.pointers.length,function pe(De,Ge){var en,Cn,Si,po,lt=De.lastInterval||Ge,St=Ge.timeStamp-lt.timeStamp;if(Ge.eventType!=He&&(St>O||lt.velocity===X)){var mo=Ge.deltaX-lt.deltaX,ws=Ge.deltaY-lt.deltaY,Wa=Fe(St,mo,ws);Cn=Wa.x,Si=Wa.y,en=R(Wa.x)>R(Wa.y)?Wa.x:Wa.y,po=st(mo,ws),De.lastInterval=Ge}else en=lt.velocity,Cn=lt.velocityX,Si=lt.velocityY,po=lt.direction;Ge.velocity=en,Ge.velocityX=Cn,Ge.velocityY=Si,Ge.direction=po}(lt,Ge);var Wa=De.element;j(Ge.srcEvent.target,Wa)&&(Wa=Ge.srcEvent.target),Ge.target=Wa}(De,lt),De.emit("hammer.input",lt),De.recognize(lt),De.session.prevInput=lt}function V(De){for(var Ge=[],lt=0;lt<De.pointers.length;)Ge[lt]={clientX:W(De.pointers[lt].clientX),clientY:W(De.pointers[lt].clientY)},lt++;return{timeStamp:D(),pointers:Ge,center:ne(Ge),deltaX:De.deltaX,deltaY:De.deltaY}}function ne(De){var Ge=De.length;if(1===Ge)return{x:W(De[0].clientX),y:W(De[0].clientY)};for(var lt=0,St=0,en=0;en<Ge;)lt+=De[en].clientX,St+=De[en].clientY,en++;return{x:W(lt/Ge),y:W(St/Ge)}}function Fe(De,Ge,lt){return{x:Ge/De||0,y:lt/De||0}}function st(De,Ge){return De===Ge?Je:R(De)>=R(Ge)?De<0?de:te:Ge<0?U:I}function ft(De,Ge,lt){lt||(lt=Ee);var St=Ge[lt[0]]-De[lt[0]],en=Ge[lt[1]]-De[lt[1]];return Math.sqrt(St*St+en*en)}function Tt(De,Ge,lt){return lt||(lt=Ee),180*Math.atan2(Ge[lt[1]]-De[lt[1]],Ge[lt[0]]-De[lt[0]])/Math.PI}it.prototype={handler:function(){},init:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(je(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&ce(this.element,this.evEl,this.domHandler),this.evTarget&&ce(this.target,this.evTarget,this.domHandler),this.evWin&&ce(je(this.element),this.evWin,this.domHandler)}};var gi={mousedown:C,mousemove:2,mouseup:J},qn="mousedown",Gn="mousemove mouseup";function dr(){this.evEl=qn,this.evWin=Gn,this.pressed=!1,it.apply(this,arguments)}q(dr,it,{handler:function(Ge){var lt=gi[Ge.type];lt&C&&0===Ge.button&&(this.pressed=!0),2&lt&&1!==Ge.which&&(lt=J),this.pressed&&(lt&J&&(this.pressed=!1),this.callback(this.manager,lt,{pointers:[Ge],changedPointers:[Ge],pointerType:Ke,srcEvent:Ge}))}});var Ga={pointerdown:C,pointermove:2,pointerup:J,pointercancel:He,pointerout:He},jr={2:at,3:"pen",4:Ke,5:"kinect"},ys="pointerdown",Zs="pointermove pointerup pointercancel";function Er(){this.evEl=ys,this.evWin=Zs,it.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}A.MSPointerEvent&&!A.PointerEvent&&(ys="MSPointerDown",Zs="MSPointerMove MSPointerUp MSPointerCancel"),q(Er,it,{handler:function(Ge){var lt=this.store,St=!1,en=Ge.type.toLowerCase().replace("ms",""),Cn=Ga[en],Si=jr[Ge.pointerType]||Ge.pointerType,po=Si==at,mo=xe(lt,Ge.pointerId,"pointerId");Cn&C&&(0===Ge.button||po)?mo<0&&(lt.push(Ge),mo=lt.length-1):Cn&(J|He)&&(St=!0),!(mo<0)&&(lt[mo]=Ge,this.callback(this.manager,Cn,{pointers:lt,changedPointers:[Ge],pointerType:Si,srcEvent:Ge}),St&&lt.splice(mo,1))}});var fo={touchstart:C,touchmove:2,touchend:J,touchcancel:He};function Hc(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,it.apply(this,arguments)}function bl(De,Ge){var lt=Oe(De.touches),St=Oe(De.changedTouches);return Ge&(J|He)&&(lt=ze(lt.concat(St),"identifier",!0)),[lt,St]}q(Hc,it,{handler:function(Ge){var lt=fo[Ge.type];if(lt===C&&(this.started=!0),this.started){var St=bl.call(this,Ge,lt);lt&(J|He)&&St[0].length-St[1].length==0&&(this.started=!1),this.callback(this.manager,lt,{pointers:St[0],changedPointers:St[1],pointerType:at,srcEvent:Ge})}}});var Gc={touchstart:C,touchmove:2,touchend:J,touchcancel:He},We="touchstart touchmove touchend touchcancel";function Qe(){this.evTarget=We,this.targetIds={},it.apply(this,arguments)}function sn(De,Ge){var lt=Oe(De.touches),St=this.targetIds;if(Ge&(2|C)&&1===lt.length)return St[lt[0].identifier]=!0,[lt,lt];var en,Cn,Si=Oe(De.changedTouches),po=[],mo=this.target;if(Cn=lt.filter(function(ws){return j(ws.target,mo)}),Ge===C)for(en=0;en<Cn.length;)St[Cn[en].identifier]=!0,en++;for(en=0;en<Si.length;)St[Si[en].identifier]&&po.push(Si[en]),Ge&(J|He)&&delete St[Si[en].identifier],en++;return po.length?[ze(Cn.concat(po),"identifier",!0),po]:void 0}q(Qe,it,{handler:function(Ge){var lt=Gc[Ge.type],St=sn.call(this,Ge,lt);St&&this.callback(this.manager,lt,{pointers:St[0],changedPointers:St[1],pointerType:at,srcEvent:Ge})}});var Ct=2500;function Ur(){it.apply(this,arguments);var De=B(this.handler,this);this.touch=new Qe(this.manager,De),this.mouse=new dr(this.manager,De),this.primaryTouch=null,this.lastTouches=[]}function Go(De,Ge){De&C?(this.primaryTouch=Ge.changedPointers[0].identifier,Wc.call(this,Ge)):De&(J|He)&&Wc.call(this,Ge)}function Wc(De){var Ge=De.changedPointers[0];if(Ge.identifier===this.primaryTouch){var lt={x:Ge.clientX,y:Ge.clientY};this.lastTouches.push(lt);var St=this.lastTouches;setTimeout(function(){var Cn=St.indexOf(lt);Cn>-1&&St.splice(Cn,1)},Ct)}}function on(De){for(var Ge=De.srcEvent.clientX,lt=De.srcEvent.clientY,St=0;St<this.lastTouches.length;St++){var en=this.lastTouches[St],Cn=Math.abs(Ge-en.x),Si=Math.abs(lt-en.y);if(Cn<=25&&Si<=25)return!0}return!1}q(Ur,it,{handler:function(Ge,lt,St){var Cn=St.pointerType==Ke;if(!(Cn&&St.sourceCapabilities&&St.sourceCapabilities.firesTouchEvents)){if(St.pointerType==at)Go.call(this,lt,St);else if(Cn&&on.call(this,St))return;this.callback(Ge,lt,St)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var mc=nt(x.style,"touchAction"),Ir=mc!==X,gc="compute",si="manipulation",vs="none",Vt="pan-x",Os="pan-y",Wo=function Me(){if(!Ir)return!1;var De={},Ge=A.CSS&&A.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(lt){De[lt]=!Ge||A.CSS.supports("touch-action",lt)}),De}();function wt(De,Ge){this.manager=De,this.set(Ge)}wt.prototype={set:function(De){De==gc&&(De=this.compute()),Ir&&this.manager.element.style&&Wo[De]&&(this.manager.element.style[mc]=De),this.actions=De.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var De=[];return F(this.manager.recognizers,function(Ge){y(Ge.options.enable,[Ge])&&(De=De.concat(Ge.getTouchAction()))}),function _e(De){if(Ie(De,vs))return vs;var Ge=Ie(De,Vt),lt=Ie(De,Os);return Ge&&lt?vs:Ge||lt?Ge?Vt:Os:Ie(De,si)?si:"auto"}(De.join(" "))},preventDefaults:function(De){var Ge=De.srcEvent,lt=De.offsetDirection;if(!this.manager.session.prevented){var St=this.actions,en=Ie(St,vs)&&!Wo[vs],Cn=Ie(St,Os)&&!Wo[Os],Si=Ie(St,Vt)&&!Wo[Vt];if(en&&1===De.pointers.length&&De.distance<2&&De.deltaTime<250)return;return Si&&Cn||!(en||Cn&&lt&k||Si&&lt&he)?void 0:this.preventSrc(Ge)}Ge.preventDefault()},preventSrc:function(De){this.manager.session.prevented=!0,De.preventDefault()}};var ye=1;function Ft(De){this.options=$({},this.defaults,De||{}),this.id=function Te(){return Ze++}(),this.manager=null,this.options.enable=M(this.options.enable,!0),this.state=ye,this.simultaneous={},this.requireFail=[]}function qt(De){return 16&De?"cancel":8&De?"end":4&De?"move":2&De?"start":""}function nn(De){return De==I?"down":De==U?"up":De==de?"left":De==te?"right":""}function En(De,Ge){var lt=Ge.manager;return lt?lt.get(De):De}function Wn(){Ft.apply(this,arguments)}function ni(){Wn.apply(this,arguments),this.pX=null,this.pY=null}function Ao(){Wn.apply(this,arguments)}function ta(){Ft.apply(this,arguments),this._timer=null,this._input=null}function Fi(){Wn.apply(this,arguments)}function _c(){Wn.apply(this,arguments)}function Di(){Ft.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function as(De,Ge){return(Ge=Ge||{}).recognizers=M(Ge.recognizers,as.defaults.preset),new di(De,Ge)}function di(De,Ge){this.options=$({},as.defaults,Ge||{}),this.options.inputTarget=this.options.inputTarget||De,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=De,this.input=function At(De){return new(De.options.inputClass||(ue?Er:Se?Qe:Be?Ur:dr))(De,Wt)}(this),this.touchAction=new wt(this,this.options.touchAction),Un(this,!0),F(this.options.recognizers,function(lt){var St=this.add(new lt[0](lt[1]));lt[2]&&St.recognizeWith(lt[2]),lt[3]&&St.requireFailure(lt[3])},this)}function Un(De,Ge){var St,lt=De.element;lt.style&&(F(De.options.cssProps,function(en,Cn){St=nt(lt.style,Cn),Ge?(De.oldCssProps[St]=lt.style[St],lt.style[St]=en):lt.style[St]=De.oldCssProps[St]||""}),Ge||(De.oldCssProps={}))}Ft.prototype={defaults:{},set:function(De){return $(this.options,De),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(De){if(w(De,"recognizeWith",this))return this;var Ge=this.simultaneous;return Ge[(De=En(De,this)).id]||(Ge[De.id]=De,De.recognizeWith(this)),this},dropRecognizeWith:function(De){return w(De,"dropRecognizeWith",this)||(De=En(De,this),delete this.simultaneous[De.id]),this},requireFailure:function(De){if(w(De,"requireFailure",this))return this;var Ge=this.requireFail;return-1===xe(Ge,De=En(De,this))&&(Ge.push(De),De.requireFailure(this)),this},dropRequireFailure:function(De){if(w(De,"dropRequireFailure",this))return this;De=En(De,this);var Ge=xe(this.requireFail,De);return Ge>-1&&this.requireFail.splice(Ge,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(De){return!!this.simultaneous[De.id]},emit:function(De){var Ge=this,lt=this.state;function St(en){Ge.manager.emit(en,De)}lt<8&&St(Ge.options.event+qt(lt)),St(Ge.options.event),De.additionalEvent&&St(De.additionalEvent),lt>=8&&St(Ge.options.event+qt(lt))},tryEmit:function(De){if(this.canEmit())return this.emit(De);this.state=32},canEmit:function(){for(var De=0;De<this.requireFail.length;){if(!(this.requireFail[De].state&(32|ye)))return!1;De++}return!0},recognize:function(De){var Ge=$({},De);if(!y(this.options.enable,[this,Ge]))return this.reset(),void(this.state=32);56&this.state&&(this.state=ye),this.state=this.process(Ge),30&this.state&&this.tryEmit(Ge)},process:function(De){},getTouchAction:function(){},reset:function(){}},q(Wn,Ft,{defaults:{pointers:1},attrTest:function(De){var Ge=this.options.pointers;return 0===Ge||De.pointers.length===Ge},process:function(De){var Ge=this.state,lt=De.eventType,St=6&Ge,en=this.attrTest(De);return St&&(lt&He||!en)?16|Ge:St||en?lt&J?8|Ge:2&Ge?4|Ge:2:32}}),q(ni,Wn,{defaults:{event:"pan",threshold:10,pointers:1,direction:qe},getTouchAction:function(){var De=this.options.direction,Ge=[];return De&k&&Ge.push(Os),De&he&&Ge.push(Vt),Ge},directionTest:function(De){var Ge=this.options,lt=!0,St=De.distance,en=De.direction,Cn=De.deltaX,Si=De.deltaY;return en&Ge.direction||(Ge.direction&k?(en=0===Cn?Je:Cn<0?de:te,lt=Cn!=this.pX,St=Math.abs(De.deltaX)):(en=0===Si?Je:Si<0?U:I,lt=Si!=this.pY,St=Math.abs(De.deltaY))),De.direction=en,lt&&St>Ge.threshold&&en&Ge.direction},attrTest:function(De){return Wn.prototype.attrTest.call(this,De)&&(2&this.state||!(2&this.state)&&this.directionTest(De))},emit:function(De){this.pX=De.deltaX,this.pY=De.deltaY;var Ge=nn(De.direction);Ge&&(De.additionalEvent=this.options.event+Ge),this._super.emit.call(this,De)}}),q(Ao,Wn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[vs]},attrTest:function(De){return this._super.attrTest.call(this,De)&&(Math.abs(De.scale-1)>this.options.threshold||2&this.state)},emit:function(De){1!==De.scale&&(De.additionalEvent=this.options.event+(De.scale<1?"in":"out")),this._super.emit.call(this,De)}}),q(ta,Ft,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(De){var Ge=this.options,lt=De.pointers.length===Ge.pointers,St=De.distance<Ge.threshold,en=De.deltaTime>Ge.time;if(this._input=De,!St||!lt||De.eventType&(J|He)&&!en)this.reset();else if(De.eventType&C)this.reset(),this._timer=re(function(){this.state=8,this.tryEmit()},Ge.time,this);else if(De.eventType&J)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(De){8===this.state&&(De&&De.eventType&J?this.manager.emit(this.options.event+"up",De):(this._input.timeStamp=D(),this.manager.emit(this.options.event,this._input)))}}),q(Fi,Wn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[vs]},attrTest:function(De){return this._super.attrTest.call(this,De)&&(Math.abs(De.rotation)>this.options.threshold||2&this.state)}}),q(_c,Wn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:k|he,pointers:1},getTouchAction:function(){return ni.prototype.getTouchAction.call(this)},attrTest:function(De){var lt,Ge=this.options.direction;return Ge&(k|he)?lt=De.overallVelocity:Ge&k?lt=De.overallVelocityX:Ge&he&&(lt=De.overallVelocityY),this._super.attrTest.call(this,De)&&Ge&De.offsetDirection&&De.distance>this.options.threshold&&De.maxPointers==this.options.pointers&&R(lt)>this.options.velocity&&De.eventType&J},emit:function(De){var Ge=nn(De.offsetDirection);Ge&&this.manager.emit(this.options.event+Ge,De),this.manager.emit(this.options.event,De)}}),q(Di,Ft,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[si]},process:function(De){var Ge=this.options,lt=De.pointers.length===Ge.pointers,St=De.distance<Ge.threshold,en=De.deltaTime<Ge.time;if(this.reset(),De.eventType&C&&0===this.count)return this.failTimeout();if(St&&en&&lt){if(De.eventType!=J)return this.failTimeout();var Cn=!this.pTime||De.timeStamp-this.pTime<Ge.interval,Si=!this.pCenter||ft(this.pCenter,De.center)<Ge.posThreshold;if(this.pTime=De.timeStamp,this.pCenter=De.center,Si&&Cn?this.count+=1:this.count=1,this._input=De,0==this.count%Ge.taps)return this.hasRequireFailures()?(this._timer=re(function(){this.state=8,this.tryEmit()},Ge.interval,this),2):8}return 32},failTimeout:function(){return this._timer=re(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),as.VERSION="2.0.7",as.defaults={domEvents:!1,touchAction:gc,enable:!0,inputTarget:null,inputClass:null,preset:[[Fi,{enable:!1}],[Ao,{enable:!1},["rotate"]],[_c,{direction:k}],[ni,{direction:k},["swipe"]],[Di],[Di,{event:"doubletap",taps:2},["tap"]],[ta]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},di.prototype={set:function(De){return $(this.options,De),De.touchAction&&this.touchAction.update(),De.inputTarget&&(this.input.destroy(),this.input.target=De.inputTarget,this.input.init()),this},stop:function(De){this.session.stopped=De?2:1},recognize:function(De){var Ge=this.session;if(!Ge.stopped){this.touchAction.preventDefaults(De);var lt,St=this.recognizers,en=Ge.curRecognizer;(!en||en&&8&en.state)&&(en=Ge.curRecognizer=null);for(var Cn=0;Cn<St.length;)lt=St[Cn],2===Ge.stopped||en&&lt!=en&&!lt.canRecognizeWith(en)?lt.reset():lt.recognize(De),!en&&14&lt.state&&(en=Ge.curRecognizer=lt),Cn++}},get:function(De){if(De instanceof Ft)return De;for(var Ge=this.recognizers,lt=0;lt<Ge.length;lt++)if(Ge[lt].options.event==De)return Ge[lt];return null},add:function(De){if(w(De,"add",this))return this;var Ge=this.get(De.options.event);return Ge&&this.remove(Ge),this.recognizers.push(De),De.manager=this,this.touchAction.update(),De},remove:function(De){if(w(De,"remove",this))return this;if(De=this.get(De)){var Ge=this.recognizers,lt=xe(Ge,De);-1!==lt&&(Ge.splice(lt,1),this.touchAction.update())}return this},on:function(De,Ge){if(De!==X&&Ge!==X){var lt=this.handlers;return F(ae(De),function(St){lt[St]=lt[St]||[],lt[St].push(Ge)}),this}},off:function(De,Ge){if(De!==X){var lt=this.handlers;return F(ae(De),function(St){Ge?lt[St]&&lt[St].splice(xe(lt[St],Ge),1):delete lt[St]}),this}},emit:function(De,Ge){this.options.domEvents&&function iu(De,Ge){var lt=Y.createEvent("Event");lt.initEvent(De,!0,!0),lt.gesture=Ge,Ge.target.dispatchEvent(lt)}(De,Ge);var lt=this.handlers[De]&&this.handlers[De].slice();if(lt&&lt.length){Ge.type=De,Ge.preventDefault=function(){Ge.srcEvent.preventDefault()};for(var St=0;St<lt.length;)lt[St](Ge),St++}},destroy:function(){this.element&&Un(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},$(as,{INPUT_START:C,INPUT_MOVE:2,INPUT_END:J,INPUT_CANCEL:He,STATE_POSSIBLE:ye,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:Je,DIRECTION_LEFT:de,DIRECTION_RIGHT:te,DIRECTION_UP:U,DIRECTION_DOWN:I,DIRECTION_HORIZONTAL:k,DIRECTION_VERTICAL:he,DIRECTION_ALL:qe,Manager:di,Input:it,TouchAction:wt,TouchInput:Qe,MouseInput:dr,PointerEventInput:Er,TouchMouseInput:Ur,SingleTouchInput:Hc,Recognizer:Ft,AttrRecognizer:Wn,Tap:Di,Pan:ni,Swipe:_c,Pinch:Ao,Rotate:Fi,Press:ta,on:T,off:ce,each:F,merge:ee,extend:z,assign:$,inherit:q,bindFn:B,prefixed:nt}),(typeof A<"u"?A:typeof self<"u"?self:{}).Hammer=as,(Z=function(){return as}.call(ge,S,ge,Ue))!==X&&(Ue.exports=Z)}(window,document)},2020:(Ue,ge)=>{ge.read=function(S,Z,A,Y,G){var X,_,x=8*G-Y-1,N=(1<<x)-1,W=N>>1,R=-7,D=A?G-1:0,re=A?-1:1,w=S[Z+D];for(D+=re,X=w&(1<<-R)-1,w>>=-R,R+=x;R>0;X=256*X+S[Z+D],D+=re,R-=8);for(_=X&(1<<-R)-1,X>>=-R,R+=Y;R>0;_=256*_+S[Z+D],D+=re,R-=8);if(0===X)X=1-W;else{if(X===N)return _?NaN:1/0*(w?-1:1);_+=Math.pow(2,Y),X-=W}return(w?-1:1)*_*Math.pow(2,X-Y)},ge.write=function(S,Z,A,Y,G,X){var _,x,N,W=8*X-G-1,R=(1<<W)-1,D=R>>1,re=23===G?Math.pow(2,-24)-Math.pow(2,-77):0,w=Y?0:X-1,F=Y?1:-1,oe=Z<0||0===Z&&1/Z<0?1:0;for(Z=Math.abs(Z),isNaN(Z)||Z===1/0?(x=isNaN(Z)?1:0,_=R):(_=Math.floor(Math.log(Z)/Math.LN2),Z*(N=Math.pow(2,-_))<1&&(_--,N*=2),(Z+=_+D>=1?re/N:re*Math.pow(2,1-D))*N>=2&&(_++,N/=2),_+D>=R?(x=0,_=R):_+D>=1?(x=(Z*N-1)*Math.pow(2,G),_+=D):(x=Z*Math.pow(2,D-1)*Math.pow(2,G),_=0));G>=8;S[A+w]=255&x,w+=F,x/=256,G-=8);for(_=_<<G|x,W+=G;W>0;S[A+w]=255&_,w+=F,_/=256,W-=8);S[A+w-F]|=128*oe}},1993:Ue=>{Ue.exports="function"==typeof Object.create?function(S,Z){Z&&(S.super_=Z,S.prototype=Object.create(Z.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}))}:function(S,Z){if(Z){S.super_=Z;var A=function(){};A.prototype=Z.prototype,S.prototype=new A,S.prototype.constructor=S}}},7839:(Ue,ge,S)=>{"use strict";var Z=S(9293).default;const{isArray:A,isObject:Y,isString:G}=S(2831),{asArray:X}=S(9420),{prependBase:_}=S(2051),x=S(262),N=S(6181);function R(re){throw new x("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:re})}function D({context:re,base:w}){if(!re)return;const F=re["@context"];if(G(F))re["@context"]=_(w,F);else if(A(F))for(let oe=0;oe<F.length;++oe){const $=F[oe];G($)?F[oe]=_(w,$):Y($)&&D({context:{"@context":$},base:w})}else if(Y(F))for(const oe in F)D({context:F[oe],base:w})}Ue.exports=class{constructor({sharedCache:w}){this.perOpCache=new Map,this.sharedCache=w}resolve({activeCtx:w,context:F,documentLoader:oe,base:$,cycles:z=new Set}){var ee=this;return Z(function*(){F&&Y(F)&&F["@context"]&&(F=F["@context"]),F=X(F);const q=[];for(const B of F){if(G(B)){let T=ee._get(B);T||(T=yield ee._resolveRemoteContext({activeCtx:w,url:B,documentLoader:oe,base:$,cycles:z})),A(T)?q.push(...T):q.push(T);continue}if(null===B){q.push(new N({document:null}));continue}Y(B)||R(F);const y=JSON.stringify(B);let M=ee._get(y);M||(M=new N({document:B}),ee._cacheResolvedContext({key:y,resolved:M,tag:"static"})),q.push(M)}return q})()}_get(w){let F=this.perOpCache.get(w);if(!F){const oe=this.sharedCache.get(w);oe&&(F=oe.get("static"),F&&this.perOpCache.set(w,F))}return F}_cacheResolvedContext({key:w,resolved:F,tag:oe}){if(this.perOpCache.set(w,F),void 0!==oe){let $=this.sharedCache.get(w);$||($=new Map,this.sharedCache.set(w,$)),$.set(oe,F)}return F}_resolveRemoteContext({activeCtx:w,url:F,documentLoader:oe,base:$,cycles:z}){var ee=this;return Z(function*(){F=_($,F);const{context:q,remoteDoc:B}=yield ee._fetchContext({activeCtx:w,url:F,documentLoader:oe,cycles:z});D({context:q,base:$=B.documentUrl||F});const y=yield ee.resolve({activeCtx:w,context:q,documentLoader:oe,base:$,cycles:z});return ee._cacheResolvedContext({key:F,resolved:y,tag:B.tag}),y})()}_fetchContext({activeCtx:w,url:F,documentLoader:oe,cycles:$}){return Z(function*(){if($.size>10)throw new x("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===w.processingMode?"loading remote context failed":"context overflow",max:10});if($.has(F))throw new x("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===w.processingMode?"recursive context inclusion":"context overflow",url:F});let z,ee;$.add(F);try{ee=yield oe(F),z=ee.document||null,G(z)&&(z=JSON.parse(z))}catch(q){throw new x("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:F,cause:q})}if(!Y(z))throw new x("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:F});return z="@context"in z?{"@context":z["@context"]}:{"@context":{}},ee.contextUrl&&(A(z["@context"])||(z["@context"]=[z["@context"]]),z["@context"].push(ee.contextUrl)),{context:z,remoteDoc:ee}})()}}},262:Ue=>{"use strict";Ue.exports=class extends Error{constructor(S="An unspecified JSON-LD error occurred.",Z="jsonld.Error",A={}){super(S),this.name=Z,this.message=S,this.details=A}}},1328:Ue=>{"use strict";Ue.exports=ge=>{class S{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(S,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(S.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:S}),S.compact=function(Z,A){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):ge.compact(Z,A)},S.expand=function(Z){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):ge.expand(Z)},S.flatten=function(Z){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):ge.flatten(Z)},S}},5426:(Ue,ge,S)=>{"use strict";Ue.exports=S(1224).NQuads},4808:(Ue,ge,S)=>{"use strict";var Z=S(9293).default;Ue.exports=class{constructor(){this._requests={}}wrapLoader(Y){const G=this;return G._loader=Y,function(){return G.add.apply(G,arguments)}}add(Y){var G=this;return Z(function*(){let X=G._requests[Y];if(X)return Promise.resolve(X);X=G._requests[Y]=G._loader(Y);try{return yield X}finally{delete G._requests[Y]}})()}}},6181:(Ue,ge,S)=>{"use strict";const Z=S(3052);Ue.exports=class{constructor({document:G}){this.document=G,this.cache=new Z({max:10})}getProcessed(G){return this.cache.get(G)}setProcessed(G,X){this.cache.set(G,X)}}},3763:(Ue,ge,S)=>{"use strict";var Z=S(9293).default;const A=S(262),{isArray:Y,isObject:G,isString:X,isUndefined:_}=S(2831),{isList:x,isValue:N,isGraph:W,isSimpleGraph:R,isSubjectReference:D}=S(4209),{expandIri:re,getContextValue:w,isKeyword:F,process:oe,processingMode:$}=S(429),{removeBase:z,prependBase:ee}=S(2051),{REGEX_KEYWORD:q,addValue:B,asArray:y,compareShortestLeast:M}=S(9420),T={};function j(Ie,ae,xe){if("@nest"!==re(Ie,ae,{vocab:!0},xe))throw new A("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}Ue.exports=T,T.compact=function(){var Ie=Z(function*({activeCtx:ae,activeProperty:xe=null,element:Oe,options:ze={}}){if(Y(Oe)){let Ze=[];for(let Te=0;Te<Oe.length;++Te){const je=yield T.compact({activeCtx:ae,activeProperty:xe,element:Oe[Te],options:ze});null!==je&&Ze.push(je)}return ze.compactArrays&&1===Ze.length&&0===(w(ae,xe,"@container")||[]).length&&(Ze=Ze[0]),Ze}const nt=w(ae,xe,"@context");if(_(nt)||(ae=yield oe({activeCtx:ae,localCtx:nt,propagate:!0,overrideProtected:!0,options:ze})),G(Oe)){if(ze.link&&"@id"in Oe&&ze.link.hasOwnProperty(Oe["@id"])){const at=ze.link[Oe["@id"]];for(let bt=0;bt<at.length;++bt)if(at[bt].expanded===Oe)return at[bt].compacted}if(N(Oe)||D(Oe)){const at=T.compactValue({activeCtx:ae,activeProperty:xe,value:Oe,options:ze});return ze.link&&D(Oe)&&(ze.link.hasOwnProperty(Oe["@id"])||(ze.link[Oe["@id"]]=[]),ze.link[Oe["@id"]].push({expanded:Oe,compacted:at})),at}if(x(Oe)&&(w(ae,xe,"@container")||[]).includes("@list"))return T.compact({activeCtx:ae,activeProperty:xe,element:Oe["@list"],options:ze});const Ze="@reverse"===xe,Te={},je=ae;!N(Oe)&&!D(Oe)&&(ae=ae.revertToPreviousContext());const Ce=w(je,xe,"@context");_(Ce)||(ae=yield oe({activeCtx:ae,localCtx:Ce,propagate:!0,overrideProtected:!0,options:ze})),ze.link&&"@id"in Oe&&(ze.link.hasOwnProperty(Oe["@id"])||(ze.link[Oe["@id"]]=[]),ze.link[Oe["@id"]].push({expanded:Oe,compacted:Te}));let Be=Oe["@type"]||[];Be.length>1&&(Be=Array.from(Be).sort());const ue=ae;for(const at of Be){const bt=T.compactIri({activeCtx:ue,iri:at,relativeTo:{vocab:!0}}),Ke=w(je,bt,"@context");_(Ke)||(ae=yield oe({activeCtx:ae,localCtx:Ke,options:ze,propagate:!1}))}const Se=Object.keys(Oe).sort();for(const at of Se){const bt=Oe[at];if("@id"!==at)if("@type"!==at)if("@reverse"!==at)if("@preserve"!==at)if("@index"!==at)if("@graph"!==at&&"@list"!==at&&"@included"!==at&&F(at)){const Ke=T.compactIri({activeCtx:ae,iri:at,relativeTo:{vocab:!0}});B(Te,Ke,bt)}else{if(!Y(bt))throw new A("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===bt.length){const Ke=T.compactIri({activeCtx:ae,iri:at,value:bt,relativeTo:{vocab:!0},reverse:Ze}),fe=ae.mappings.has(Ke)?ae.mappings.get(Ke)["@nest"]:null;let O=Te;fe&&(j(ae,fe,ze),G(Te[fe])||(Te[fe]={}),O=Te[fe]),B(O,Ke,bt,{propertyIsArray:!0})}for(const Ke of bt){const fe=T.compactIri({activeCtx:ae,iri:at,value:Ke,relativeTo:{vocab:!0},reverse:Ze}),O=ae.mappings.has(fe)?ae.mappings.get(fe)["@nest"]:null;let C=Te;O&&(j(ae,O,ze),G(Te[O])||(Te[O]={}),C=Te[O]);const ie=w(ae,fe,"@container")||[],J=W(Ke),He=x(Ke);let Je;He?Je=Ke["@list"]:J&&(Je=Ke["@graph"]);let de=yield T.compact({activeCtx:ae,activeProperty:fe,element:He||J?Je:Ke,options:ze});if(He){if(Y(de)||(de=[de]),ie.includes("@list")){B(C,fe,de,{valueIsArray:!0,allowDuplicate:!0});continue}de={[T.compactIri({activeCtx:ae,iri:"@list",relativeTo:{vocab:!0}})]:de},"@index"in Ke&&(de[T.compactIri({activeCtx:ae,iri:"@index",relativeTo:{vocab:!0}})]=Ke["@index"])}if(J)if(ie.includes("@graph")&&(ie.includes("@id")||ie.includes("@index")&&R(Ke))){let te;C.hasOwnProperty(fe)?te=C[fe]:C[fe]=te={};const U=(ie.includes("@id")?Ke["@id"]:Ke["@index"])||T.compactIri({activeCtx:ae,iri:"@none",relativeTo:{vocab:!0}});B(te,U,de,{propertyIsArray:!ze.compactArrays||ie.includes("@set")})}else ie.includes("@graph")&&R(Ke)?(Y(de)&&de.length>1&&(de={"@included":de}),B(C,fe,de,{propertyIsArray:!ze.compactArrays||ie.includes("@set")})):(Y(de)&&1===de.length&&ze.compactArrays&&(de=de[0]),de={[T.compactIri({activeCtx:ae,iri:"@graph",relativeTo:{vocab:!0}})]:de},"@id"in Ke&&(de[T.compactIri({activeCtx:ae,iri:"@id",relativeTo:{vocab:!0}})]=Ke["@id"]),"@index"in Ke&&(de[T.compactIri({activeCtx:ae,iri:"@index",relativeTo:{vocab:!0}})]=Ke["@index"]),B(C,fe,de,{propertyIsArray:!ze.compactArrays||ie.includes("@set")}));else if(ie.includes("@language")||ie.includes("@index")||ie.includes("@id")||ie.includes("@type")){let te,U;if(C.hasOwnProperty(fe)?te=C[fe]:C[fe]=te={},ie.includes("@language"))N(de)&&(de=de["@value"]),U=Ke["@language"];else if(ie.includes("@index")){const I=w(ae,fe,"@index")||"@index",k=T.compactIri({activeCtx:ae,iri:I,relativeTo:{vocab:!0}});if("@index"===I)U=Ke["@index"],delete de[k];else{let he;if([U,...he]=y(de[I]||[]),X(U))switch(he.length){case 0:delete de[I];break;case 1:de[I]=he[0];break;default:de[I]=he}else U=null}}else if(ie.includes("@id")){const I=T.compactIri({activeCtx:ae,iri:"@id",relativeTo:{vocab:!0}});U=de[I],delete de[I]}else if(ie.includes("@type")){const I=T.compactIri({activeCtx:ae,iri:"@type",relativeTo:{vocab:!0}});let k;switch([U,...k]=y(de[I]||[]),k.length){case 0:delete de[I];break;case 1:de[I]=k[0];break;default:de[I]=k}1===Object.keys(de).length&&"@id"in Ke&&(de=yield T.compact({activeCtx:ae,activeProperty:fe,element:{"@id":Ke["@id"]},options:ze}))}U||(U=T.compactIri({activeCtx:ae,iri:"@none",relativeTo:{vocab:!0}})),B(te,U,de,{propertyIsArray:ie.includes("@set")})}else{const te=!ze.compactArrays||ie.includes("@set")||ie.includes("@list")||Y(de)&&0===de.length||"@list"===at||"@graph"===at;B(C,fe,de,{propertyIsArray:te})}}}else{if((w(ae,xe,"@container")||[]).includes("@index"))continue;const fe=T.compactIri({activeCtx:ae,iri:at,relativeTo:{vocab:!0}});B(Te,fe,bt)}else{const Ke=yield T.compact({activeCtx:ae,activeProperty:xe,element:bt,options:ze});Y(Ke)&&0===Ke.length||B(Te,at,Ke)}else{const Ke=yield T.compact({activeCtx:ae,activeProperty:"@reverse",element:bt,options:ze});for(const fe in Ke)if(ae.mappings.has(fe)&&ae.mappings.get(fe).reverse){const O=Ke[fe],ie=(w(ae,fe,"@container")||[]).includes("@set")||!ze.compactArrays;B(Te,fe,O,{propertyIsArray:ie}),delete Ke[fe]}if(Object.keys(Ke).length>0){const fe=T.compactIri({activeCtx:ae,iri:at,relativeTo:{vocab:!0}});B(Te,fe,Ke)}}else{let Ke=y(bt).map(J=>T.compactIri({activeCtx:je,iri:J,relativeTo:{vocab:!0}}));1===Ke.length&&(Ke=Ke[0]);const fe=T.compactIri({activeCtx:ae,iri:"@type",relativeTo:{vocab:!0}}),ie=(w(ae,fe,"@container")||[]).includes("@set")&&$(ae,1.1)||Y(Ke)&&0===bt.length;B(Te,fe,Ke,{propertyIsArray:ie})}else{let Ke=y(bt).map(O=>T.compactIri({activeCtx:ae,iri:O,relativeTo:{vocab:!1},base:ze.base}));1===Ke.length&&(Ke=Ke[0]),Te[T.compactIri({activeCtx:ae,iri:"@id",relativeTo:{vocab:!0}})]=Ke}}return Te}return Oe});return function(ae){return Ie.apply(this,arguments)}}(),T.compactIri=({activeCtx:Ie,iri:ae,value:xe=null,relativeTo:Oe={vocab:!1},reverse:ze=!1,base:nt=null})=>{if(null===ae)return ae;Ie.isPropertyTermScoped&&Ie.previousContext&&(Ie=Ie.previousContext);const Ze=Ie.getInverse();if(F(ae)&&ae in Ze&&"@none"in Ze[ae]&&"@type"in Ze[ae]["@none"]&&"@none"in Ze[ae]["@none"]["@type"])return Ze[ae]["@none"]["@type"]["@none"];if(Oe.vocab&&ae in Ze){const ue=Ie["@language"]||"@none",Se=[];G(xe)&&"@index"in xe&&!("@graph"in xe)&&Se.push("@index","@index@set"),G(xe)&&"@preserve"in xe&&(xe=xe["@preserve"][0]),W(xe)?("@index"in xe&&Se.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in xe&&Se.push("@graph@id","@graph@id@set"),Se.push("@graph","@graph@set","@set"),"@index"in xe||Se.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in xe||Se.push("@graph@id","@graph@id@set")):G(xe)&&!N(xe)&&Se.push("@id","@id@set","@type","@set@type");let at="@language",bt="@null";if(ze)at="@type",bt="@reverse",Se.push("@set");else if(x(xe)){"@index"in xe||Se.push("@list");const fe=xe["@list"];if(0===fe.length)at="@any",bt="@none";else{let O=0===fe.length?ue:null,C=null;for(let ie=0;ie<fe.length;++ie){const J=fe[ie];let He="@none",Je="@none";if(N(J)?"@direction"in J?He=`${(J["@language"]||"").toLowerCase()}_${J["@direction"]}`:"@language"in J?He=J["@language"].toLowerCase():"@type"in J?Je=J["@type"]:He="@null":Je="@id",null===O?O=He:He!==O&&N(J)&&(O="@none"),null===C?C=Je:Je!==C&&(C="@none"),"@none"===O&&"@none"===C)break}O=O||"@none",C=C||"@none","@none"!==C?(at="@type",bt=C):bt=O}}else{if(N(xe))if("@language"in xe&&!("@index"in xe)){Se.push("@language","@language@set"),bt=xe["@language"];const fe=xe["@direction"];fe&&(bt=`${bt}_${fe}`)}else"@direction"in xe&&!("@index"in xe)?bt=`_${xe["@direction"]}`:"@type"in xe&&(at="@type",bt=xe["@type"]);else at="@type",bt="@id";Se.push("@set")}Se.push("@none"),G(xe)&&!("@index"in xe)&&Se.push("@index","@index@set"),N(xe)&&1===Object.keys(xe).length&&Se.push("@language","@language@set");const Ke=function ce(Ie,ae,xe,Oe,ze,nt){null===nt&&(nt="@null");const Ze=[];if(("@id"===nt||"@reverse"===nt)&&G(xe)&&"@id"in xe){"@reverse"===nt&&Ze.push("@reverse");const je=T.compactIri({activeCtx:Ie,iri:xe["@id"],relativeTo:{vocab:!0}});Ie.mappings.has(je)&&Ie.mappings.get(je)&&Ie.mappings.get(je)["@id"]===xe["@id"]?Ze.push.apply(Ze,["@vocab","@id"]):Ze.push.apply(Ze,["@id","@vocab"])}else{Ze.push(nt);const je=Ze.find(Ce=>Ce.includes("_"));je&&Ze.push(je.replace(/^[^_]+_/,"_"))}Ze.push("@none");const Te=Ie.inverse[ae];for(const je of Oe){if(!(je in Te))continue;const Ce=Te[je][ze];for(const Be of Ze)if(Be in Ce)return Ce[Be]}return null}(Ie,ae,xe,Se,at,bt);if(null!==Ke)return Ke}if(Oe.vocab&&"@vocab"in Ie){const ue=Ie["@vocab"];if(0===ae.indexOf(ue)&&ae!==ue){const Se=ae.substr(ue.length);if(!Ie.mappings.has(Se))return Se}}let Te=null;const je=[];let Ce=Ie.fastCurieMap;const Be=ae.length-1;for(let ue=0;ue<Be&&ae[ue]in Ce;++ue)Ce=Ce[ae[ue]],""in Ce&&je.push(Ce[""][0]);for(let ue=je.length-1;ue>=0;--ue){const Se=je[ue],at=Se.terms;for(const bt of at){const Ke=bt+":"+ae.substr(Se.iri.length);Ie.mappings.get(bt)._prefix&&(!Ie.mappings.has(Ke)||null===xe&&Ie.mappings.get(Ke)["@id"]===ae)&&(null===Te||M(Ke,Te)<0)&&(Te=Ke)}}if(null!==Te)return Te;for(const[ue,Se]of Ie.mappings)if(Se&&Se._prefix&&ae.startsWith(ue+":"))throw new A(`Absolute IRI "${ae}" confused with prefix "${ue}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:Ie});if(!Oe.vocab){if("@base"in Ie){if(Ie["@base"]){const ue=z(ee(nt,Ie["@base"]),ae);return q.test(ue)?`./${ue}`:ue}return ae}return z(nt,ae)}return ae},T.compactValue=({activeCtx:Ie,activeProperty:ae,value:xe,options:Oe})=>{if(N(xe)){const Te=w(Ie,ae,"@type"),je=w(Ie,ae,"@language"),Ce=w(Ie,ae,"@direction"),Be=w(Ie,ae,"@container")||[],ue="@index"in xe&&!Be.includes("@index");if(!ue&&"@none"!==Te&&(xe["@type"]===Te||"@language"in xe&&xe["@language"]===je&&"@direction"in xe&&xe["@direction"]===Ce||"@language"in xe&&xe["@language"]===je||"@direction"in xe&&xe["@direction"]===Ce))return xe["@value"];const Se=Object.keys(xe).length,at=1===Se||2===Se&&"@index"in xe&&!ue,bt="@language"in Ie,Ke=X(xe["@value"]),fe=Ie.mappings.has(ae)&&null===Ie.mappings.get(ae)["@language"];if(at&&"@none"!==Te&&(!bt||!Ke||fe))return xe["@value"];const O={};return ue&&(O[T.compactIri({activeCtx:Ie,iri:"@index",relativeTo:{vocab:!0}})]=xe["@index"]),"@type"in xe?O[T.compactIri({activeCtx:Ie,iri:"@type",relativeTo:{vocab:!0}})]=T.compactIri({activeCtx:Ie,iri:xe["@type"],relativeTo:{vocab:!0}}):"@language"in xe&&(O[T.compactIri({activeCtx:Ie,iri:"@language",relativeTo:{vocab:!0}})]=xe["@language"]),"@direction"in xe&&(O[T.compactIri({activeCtx:Ie,iri:"@direction",relativeTo:{vocab:!0}})]=xe["@direction"]),O[T.compactIri({activeCtx:Ie,iri:"@value",relativeTo:{vocab:!0}})]=xe["@value"],O}const ze=re(Ie,ae,{vocab:!0},Oe),nt=w(Ie,ae,"@type"),Ze=T.compactIri({activeCtx:Ie,iri:xe["@id"],relativeTo:{vocab:"@vocab"===nt},base:Oe.base});return"@id"===nt||"@vocab"===nt||"@graph"===ze?Ze:{[T.compactIri({activeCtx:Ie,iri:"@id",relativeTo:{vocab:!0}})]:Ze}}},5315:Ue=>{"use strict";const ge="http://www.w3.org/1999/02/22-rdf-syntax-ns#",S="http://www.w3.org/2001/XMLSchema#";Ue.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:ge,RDF_LIST:ge+"List",RDF_FIRST:ge+"first",RDF_REST:ge+"rest",RDF_NIL:ge+"nil",RDF_TYPE:ge+"type",RDF_PLAIN_LITERAL:ge+"PlainLiteral",RDF_XML_LITERAL:ge+"XMLLiteral",RDF_JSON_LITERAL:ge+"JSON",RDF_OBJECT:ge+"object",RDF_LANGSTRING:ge+"langString",XSD:S,XSD_BOOLEAN:S+"boolean",XSD_DOUBLE:S+"double",XSD_INTEGER:S+"integer",XSD_STRING:S+"string"}},429:(Ue,ge,S)=>{"use strict";var Z=S(9293).default;const A=S(9420),Y=S(262),{isArray:G,isObject:X,isString:_,isUndefined:x}=S(2831),{isAbsolute:N,isRelative:W,prependBase:R}=S(2051),{handleEvent:D}=S(2585),{REGEX_BCP47:re,REGEX_KEYWORD:w,asArray:F,compareShortestLeast:oe}=S(9420),$=new Map,ee={};function q(y,M,T,ce,j,Ie){if(null===M||!_(M)||ee.isKeyword(M))return M;if(M.match(w))return null;if(ce&&ce.hasOwnProperty(M)&&!0!==j.get(M)&&ee.createTermDefinition({activeCtx:y,localCtx:ce,term:M,defined:j,options:Ie}),(T=T||{}).vocab){const xe=y.mappings.get(M);if(null===xe)return null;if(X(xe)&&"@id"in xe)return xe["@id"]}const ae=M.indexOf(":");if(ae>0){const xe=M.substr(0,ae),Oe=M.substr(ae+1);if("_"===xe||0===Oe.indexOf("//"))return M;ce&&ce.hasOwnProperty(xe)&&ee.createTermDefinition({activeCtx:y,localCtx:ce,term:xe,defined:j,options:Ie});const ze=y.mappings.get(xe);if(ze&&ze._prefix)return ze["@id"]+Oe;if(N(M))return M}if(T.vocab&&"@vocab"in y)M=y["@vocab"]+M;else if(T.base){let xe,Oe;"@base"in y?y["@base"]?(Oe=R(Ie.base,y["@base"]),xe=R(Oe,M)):(Oe=y["@base"],xe=M):(Oe=Ie.base,xe=R(Ie.base,M)),M=xe}return M}function B(y,M){if(!y||"object"!=typeof y||!M||"object"!=typeof M)return y===M;const T=Array.isArray(y);if(T!==Array.isArray(M))return!1;if(T){if(y.length!==M.length)return!1;for(let Ie=0;Ie<y.length;++Ie)if(!B(y[Ie],M[Ie]))return!1;return!0}const ce=Object.keys(y),j=Object.keys(M);if(ce.length!==j.length)return!1;for(const Ie in y){let ae=y[Ie],xe=M[Ie];if("@container"===Ie&&Array.isArray(ae)&&Array.isArray(xe)&&(ae=ae.slice().sort(),xe=xe.slice().sort()),!B(ae,xe))return!1}return!0}Ue.exports=ee,ee.process=function(){var y=Z(function*({activeCtx:M,localCtx:T,options:ce,propagate:j=!0,overrideProtected:Ie=!1,cycles:ae=new Set}){if(X(T)&&"@context"in T&&G(T["@context"])&&(T=T["@context"]),0===F(T).length)return M;const Oe=[],ze=[({event:je,next:Ce})=>{Oe.push(je),Ce()}];ce.eventHandler&&ze.push(ce.eventHandler);const nt=ce;ce={...ce,eventHandler:ze};const Ze=yield ce.contextResolver.resolve({activeCtx:M,context:T,documentLoader:ce.documentLoader,base:ce.base});X(Ze[0].document)&&"boolean"==typeof Ze[0].document["@propagate"]&&(j=Ze[0].document["@propagate"]);let Te=M;!j&&!Te.previousContext&&(Te=Te.clone(),Te.previousContext=M);for(const je of Ze){let{document:Ce}=je;if(M=Te,null===Ce){if(!Ie&&0!==Object.keys(M.protected).length)throw new Y("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});Te=M=ee.getInitialContext(ce).clone();continue}const Be=je.getProcessed(M);if(Be){if(nt.eventHandler)for(const Se of Be.events)D({event:Se,options:nt});Te=M=Be.context;continue}if(X(Ce)&&"@context"in Ce&&(Ce=Ce["@context"]),!X(Ce))throw new Y("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:Ce});Te=Te.clone();const ue=new Map;if("@version"in Ce){if(1.1!==Ce["@version"])throw new Y("Unsupported JSON-LD version: "+Ce["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:Ce});if(M.processingMode&&"json-ld-1.0"===M.processingMode)throw new Y("@version: "+Ce["@version"]+" not compatible with "+M.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:Ce});Te.processingMode="json-ld-1.1",Te["@version"]=Ce["@version"],ue.set("@version",!0)}if(Te.processingMode=Te.processingMode||M.processingMode,"@base"in Ce){let Se=Ce["@base"];if(null!==Se&&!N(Se)){if(!W(Se))throw new Y('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:Ce});Se=R(Te["@base"],Se)}Te["@base"]=Se,ue.set("@base",!0)}if("@vocab"in Ce){const Se=Ce["@vocab"];if(null===Se)delete Te["@vocab"];else{if(!_(Se))throw new Y('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:Ce});if(!N(Se)&&ee.processingMode(Te,1))throw new Y('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:Ce});{const at=q(Te,Se,{vocab:!0,base:!0},void 0,void 0,ce);N(at)||ce.eventHandler&&D({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:at}},options:ce}),Te["@vocab"]=at}}ue.set("@vocab",!0)}if("@language"in Ce){const Se=Ce["@language"];if(null===Se)delete Te["@language"];else{if(!_(Se))throw new Y('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:Ce});Se.match(re)||ce.eventHandler&&D({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Se}},options:ce}),Te["@language"]=Se.toLowerCase()}ue.set("@language",!0)}if("@direction"in Ce){const Se=Ce["@direction"];if("json-ld-1.0"===M.processingMode)throw new Y("Invalid JSON-LD syntax; @direction not compatible with "+M.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:Ce});if(null===Se)delete Te["@direction"];else{if("ltr"!==Se&&"rtl"!==Se)throw new Y('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:Ce});Te["@direction"]=Se}ue.set("@direction",!0)}if("@propagate"in Ce){const Se=Ce["@propagate"];if("json-ld-1.0"===M.processingMode)throw new Y("Invalid JSON-LD syntax; @propagate not compatible with "+M.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:Ce});if("boolean"!=typeof Se)throw new Y("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:T});ue.set("@propagate",!0)}if("@import"in Ce){const Se=Ce["@import"];if("json-ld-1.0"===M.processingMode)throw new Y("Invalid JSON-LD syntax; @import not compatible with "+M.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:Ce});if(!_(Se))throw new Y("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:T});const at=yield ce.contextResolver.resolve({activeCtx:M,context:Se,documentLoader:ce.documentLoader,base:ce.base});if(1!==at.length)throw new Y("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:T});const bt=at[0].getProcessed(M);if(bt)Ce=bt;else{const Ke=at[0].document;if("@import"in Ke)throw new Y("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:T});for(const fe in Ke)Ce.hasOwnProperty(fe)||(Ce[fe]=Ke[fe]);at[0].setProcessed(M,Ce)}ue.set("@import",!0)}ue.set("@protected",Ce["@protected"]||!1);for(const Se in Ce)if(ee.createTermDefinition({activeCtx:Te,localCtx:Ce,term:Se,defined:ue,options:ce,overrideProtected:Ie}),X(Ce[Se])&&"@context"in Ce[Se]){const at=Ce[Se]["@context"];let bt=!0;if(_(at)){const Ke=R(ce.base,at);ae.has(Ke)?bt=!1:ae.add(Ke)}if(bt)try{yield ee.process({activeCtx:Te.clone(),localCtx:Ce[Se]["@context"],overrideProtected:!0,options:ce,cycles:ae})}catch{throw new Y("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:Ce[Se]["@context"],term:Se})}}je.setProcessed(M,{context:Te,events:Oe})}return Te});return function(M){return y.apply(this,arguments)}}(),ee.createTermDefinition=({activeCtx:y,localCtx:M,term:T,defined:ce,options:j,overrideProtected:Ie=!1})=>{if(ce.has(T)){if(ce.get(T))return;throw new Y("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:M,term:T})}let ae;if(ce.set(T,!1),M.hasOwnProperty(T)&&(ae=M[T]),"@type"===T&&X(ae)&&"@set"===(ae["@container"]||"@set")&&ee.processingMode(y,1.1)){const je=["@container","@id","@protected"],Ce=Object.keys(ae);if(0===Ce.length||Ce.some(Be=>!je.includes(Be)))throw new Y("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:M,term:T})}else{if(ee.isKeyword(T))throw new Y("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:M,term:T});if(T.match(w))return void(j.eventHandler&&D({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:T}},options:j}));if(""===T)throw new Y("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:M})}const xe=y.mappings.get(T);y.mappings.has(T)&&y.mappings.delete(T);let Oe=!1;if((_(ae)||null===ae)&&(Oe=!0,ae={"@id":ae}),!X(ae))throw new Y("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:M});const ze={};y.mappings.set(T,ze),ze.reverse=!1;const nt=["@container","@id","@language","@reverse","@type"];ee.processingMode(y,1.1)&&nt.push("@context","@direction","@index","@nest","@prefix","@protected");for(const je in ae)if(!nt.includes(je))throw new Y("Invalid JSON-LD syntax; a term definition must not contain "+je,"jsonld.SyntaxError",{code:"invalid term definition",context:M});const Ze=T.indexOf(":");if(ze._termHasColon=Ze>0,"@reverse"in ae){if("@id"in ae)throw new Y("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:M});if("@nest"in ae)throw new Y("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:M});const je=ae["@reverse"];if(!_(je))throw new Y("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:M});if(je.match(w))return j.eventHandler&&D({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:je}},options:j}),void(xe?y.mappings.set(T,xe):y.mappings.delete(T));const Ce=q(y,je,{vocab:!0,base:!1},M,ce,j);if(!N(Ce))throw new Y("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:M});ze["@id"]=Ce,ze.reverse=!0}else if("@id"in ae){let je=ae["@id"];if(je&&!_(je))throw new Y("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:M});if(null===je)ze["@id"]=null;else{if(!ee.isKeyword(je)&&je.match(w))return j.eventHandler&&D({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:je}},options:j}),void(xe?y.mappings.set(T,xe):y.mappings.delete(T));if(je!==T){if(je=q(y,je,{vocab:!0,base:!1},M,ce,j),!N(je)&&!ee.isKeyword(je))throw new Y("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:M});if(T.match(/(?::[^:])|\//)&&q(y,T,{vocab:!0,base:!1},M,new Map(ce).set(T,!0),j)!==je)throw new Y("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:M});ze["@id"]=je,ze._prefix=Oe&&!ze._termHasColon&&null!==je.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in ze))if(ze._termHasColon){const je=T.substr(0,Ze);if(M.hasOwnProperty(je)&&ee.createTermDefinition({activeCtx:y,localCtx:M,term:je,defined:ce,options:j}),y.mappings.has(je)){const Ce=T.substr(Ze+1);ze["@id"]=y.mappings.get(je)["@id"]+Ce}else ze["@id"]=T}else if("@type"===T)ze["@id"]=T;else{if(!("@vocab"in y))throw new Y("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:M,term:T});ze["@id"]=y["@vocab"]+T}if((!0===ae["@protected"]||!0===ce.get("@protected")&&!1!==ae["@protected"])&&(y.protected[T]=!0,ze.protected=!0),ce.set(T,!0),"@type"in ae){let je=ae["@type"];if(!_(je))throw new Y("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:M});if("@json"===je||"@none"===je){if(ee.processingMode(y,1))throw new Y(`Invalid JSON-LD syntax; an @context @type value must not be "${je}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:M})}else if("@id"!==je&&"@vocab"!==je){if(je=q(y,je,{vocab:!0,base:!1},M,ce,j),!N(je))throw new Y("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:M});if(0===je.indexOf("_:"))throw new Y("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:M})}ze["@type"]=je}if("@container"in ae){const je=_(ae["@container"])?[ae["@container"]]:ae["@container"]||[],Ce=["@list","@set","@index","@language"];let Be=!0;const ue=je.includes("@set");if(ee.processingMode(y,1.1)){if(Ce.push("@graph","@id","@type"),je.includes("@list")){if(1!==je.length)throw new Y("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:M})}else if(je.includes("@graph")){if(je.some(Se=>"@graph"!==Se&&"@id"!==Se&&"@index"!==Se&&"@set"!==Se))throw new Y("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:M})}else Be&=je.length<=(ue?2:1);if(je.includes("@type")&&(ze["@type"]=ze["@type"]||"@id",!["@id","@vocab"].includes(ze["@type"])))throw new Y("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:M})}else Be&=!G(ae["@container"]),Be&=je.length<=1;if(Be&=je.every(Se=>Ce.includes(Se)),Be&=!(ue&&je.includes("@list")),!Be)throw new Y("Invalid JSON-LD syntax; @context @container value must be one of the following: "+Ce.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:M});if(ze.reverse&&!je.every(Se=>["@index","@set"].includes(Se)))throw new Y("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:M});ze["@container"]=je}if("@index"in ae){if(!("@container"in ae)||!ze["@container"].includes("@index"))throw new Y(`Invalid JSON-LD syntax; @index without @index in @container: "${ae["@index"]}" on term "${T}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:M});if(!_(ae["@index"])||0===ae["@index"].indexOf("@"))throw new Y(`Invalid JSON-LD syntax; @index must expand to an IRI: "${ae["@index"]}" on term "${T}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:M});ze["@index"]=ae["@index"]}if("@context"in ae&&(ze["@context"]=ae["@context"]),"@language"in ae&&!("@type"in ae)){let je=ae["@language"];if(null!==je&&!_(je))throw new Y("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:M});null!==je&&(je=je.toLowerCase()),ze["@language"]=je}if("@prefix"in ae){if(T.match(/:|\//))throw new Y("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:M});if(ee.isKeyword(ze["@id"]))throw new Y("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:M});if("boolean"!=typeof ae["@prefix"])throw new Y("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:M});ze._prefix=!0===ae["@prefix"]}if("@direction"in ae){const je=ae["@direction"];if(null!==je&&"ltr"!==je&&"rtl"!==je)throw new Y('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:M});ze["@direction"]=je}if("@nest"in ae){const je=ae["@nest"];if(!_(je)||"@nest"!==je&&0===je.indexOf("@"))throw new Y("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:M});ze["@nest"]=je}const Te=ze["@id"];if("@context"===Te||"@preserve"===Te)throw new Y("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:M});if(xe&&xe.protected&&!Ie&&(y.protected[T]=!0,ze.protected=!0,!B(xe,ze)))throw new Y("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:M,term:T})},ee.expandIri=(y,M,T,ce)=>q(y,M,T,void 0,void 0,ce),ee.getInitialContext=y=>{const M=JSON.stringify({processingMode:y.processingMode}),T=$.get(M);if(T)return T;const ce={processingMode:y.processingMode,mappings:new Map,inverse:null,getInverse:function j(){const ze=this;if(ze.inverse)return ze.inverse;const nt=ze.inverse={},Ze=ze.fastCurieMap={},Te={},je=(ze["@language"]||"@none").toLowerCase(),Ce=ze["@direction"],Be=ze.mappings,ue=[...Be.keys()].sort(oe);for(const Se of ue){const at=Be.get(Se);if(null===at)continue;let bt=at["@container"]||"@none";if(bt=[].concat(bt).sort().join(""),null===at["@id"])continue;const Ke=F(at["@id"]);for(const fe of Ke){let O=nt[fe];const C=ee.isKeyword(fe);if(O)!C&&!at._termHasColon&&Te[fe].push(Se);else if(nt[fe]=O={},!C&&!at._termHasColon){Te[fe]=[Se];const ie={iri:fe,terms:Te[fe]};fe[0]in Ze?Ze[fe[0]].push(ie):Ze[fe[0]]=[ie]}if(O[bt]||(O[bt]={"@language":{},"@type":{},"@any":{}}),O=O[bt],ae(Se,O["@any"],"@none"),at.reverse)ae(Se,O["@type"],"@reverse");else if("@none"===at["@type"])ae(Se,O["@any"],"@none"),ae(Se,O["@language"],"@none"),ae(Se,O["@type"],"@none");else if("@type"in at)ae(Se,O["@type"],at["@type"]);else if("@language"in at&&"@direction"in at){const ie=at["@language"],J=at["@direction"];ae(Se,O["@language"],ie&&J?`${ie}_${J}`.toLowerCase():ie?ie.toLowerCase():J?`_${J}`:"@null")}else"@language"in at?ae(Se,O["@language"],(at["@language"]||"@null").toLowerCase()):"@direction"in at?ae(Se,O["@language"],at["@direction"]?`_${at["@direction"]}`:"@none"):Ce?(ae(Se,O["@language"],`_${Ce}`),ae(Se,O["@language"],"@none"),ae(Se,O["@type"],"@none")):(ae(Se,O["@language"],je),ae(Se,O["@language"],"@none"),ae(Se,O["@type"],"@none"))}}for(const Se in Ze)Ie(Ze,Se,1);return nt},clone:function xe(){const ze={};return ze.mappings=A.clone(this.mappings),ze.clone=this.clone,ze.inverse=null,ze.getInverse=this.getInverse,ze.protected=A.clone(this.protected),this.previousContext&&(ze.previousContext=this.previousContext.clone()),ze.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(ze["@base"]=this["@base"]),"@language"in this&&(ze["@language"]=this["@language"]),"@vocab"in this&&(ze["@vocab"]=this["@vocab"]),ze},revertToPreviousContext:function Oe(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===$.size&&$.clear(),$.set(M,ce),ce;function Ie(ze,nt,Ze){const Te=ze[nt],je=ze[nt]={};let Ce,Be;for(const ue of Te)Ce=ue.iri,Be=Ze>=Ce.length?"":Ce[Ze],Be in je?je[Be].push(ue):je[Be]=[ue];for(const ue in je)""!==ue&&Ie(je,ue,Ze+1)}function ae(ze,nt,Ze){nt.hasOwnProperty(Ze)||(nt[Ze]=ze)}},ee.getContextValue=(y,M,T)=>{if(null===M)return"@context"===T?void 0:null;if(y.mappings.has(M)){const ce=y.mappings.get(M);if(x(T))return ce;if(ce.hasOwnProperty(T))return ce[T]}return"@language"===T&&T in y||"@direction"===T&&T in y?y[T]:"@context"!==T?null:void 0},ee.processingMode=(y,M)=>M.toString()>="1.1"?!y.processingMode||y.processingMode>="json-ld-"+M.toString():"json-ld-1.0"===y.processingMode,ee.isKeyword=y=>{if(!_(y)||"@"!==y[0])return!1;switch(y){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},3120:(Ue,ge,S)=>{"use strict";var Z=S(9293).default;const{parseLinkHeader:A,buildHeaders:Y}=S(9420),{LINK_HEADER_CONTEXT:G}=S(5315),X=S(262),_=S(4808),{prependBase:x}=S(2051),N=/(^|(\r\n))link:/i;Ue.exports=({secure:R,headers:D={},xhr:re}={headers:{}})=>{return D=Y(D),(new _).wrapLoader(F);function F($){return oe.apply(this,arguments)}function oe(){return oe=Z(function*($){if(0!==$.indexOf("http:")&&0!==$.indexOf("https:"))throw new X('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:$});if(R&&0!==$.indexOf("https"))throw new X('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:$});let z;try{z=yield function W(R,D,re){const w=new(R=R||XMLHttpRequest);return new Promise((F,oe)=>{w.onload=()=>F(w),w.onerror=$=>oe($),w.open("GET",D,!0);for(const $ in re)w.setRequestHeader($,re[$]);w.send()})}(re,$,D)}catch(M){throw new X("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:$,cause:M})}if(z.status>=400)throw new X("URL could not be dereferenced: "+z.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:$,httpStatusCode:z.status});let ee={contextUrl:null,documentUrl:$,document:z.response},q=null;const B=z.getResponseHeader("Content-Type");let y;if(N.test(z.getAllResponseHeaders())&&(y=z.getResponseHeader("Link")),y&&"application/ld+json"!==B){const M=A(y),T=M[G];if(Array.isArray(T))throw new X("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:$});T&&(ee.contextUrl=T.target),q=M.alternate,q&&"application/ld+json"==q.type&&!(B||"").match(/^application\/(\w*\+)?json$/)&&(ee=yield F(x($,q.target)))}return ee}),oe.apply(this,arguments)}}},2585:(Ue,ge,S)=>{"use strict";const Z=S(262),{isArray:A}=S(2831),{asArray:Y}=S(9420),G={};function X({event:x,handlers:N}){let W=!0;for(let R=0;W&&R<N.length;++R){W=!1;const D=N[R];if(A(D))W=X({event:x,handlers:D});else if("function"==typeof D)D({event:x,next:()=>{W=!0}});else{if("object"!=typeof D)throw new Z("Invalid event handler.","jsonld.InvalidEventHandler",{event:x});x.code in D?D[x.code]({event:x,next:()=>{W=!0}}):W=!0}}return W}Ue.exports=G,G.defaultEventHandler=null,G.setupEventHandler=({options:x={}})=>{const N=[].concat(x.safe?G.safeEventHandler:[],x.eventHandler?Y(x.eventHandler):[],G.defaultEventHandler?G.defaultEventHandler:[]);return 0===N.length?null:N},G.handleEvent=({event:x,options:N})=>{X({event:x,handlers:N.eventHandler})};const _=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);G.safeEventHandler=function({event:N,next:W}){if("warning"===N.level&&_.has(N.code))throw new Z("Safe mode validation error.","jsonld.ValidationError",{event:N});W()},G.logEventHandler=function({event:N,next:W}){console.log(`EVENT: ${N.message}`,{event:N}),W()},G.logWarningEventHandler=function({event:N,next:W}){"warning"===N.level&&console.warn(`WARNING: ${N.message}`,{event:N}),W()},G.unhandledEventHandler=function({event:N}){throw new Z("No handler for event.","jsonld.UnhandledEvent",{event:N})},G.setDefaultEventHandler=function({eventHandler:x}={}){G.defaultEventHandler=x?Y(x):null}},7336:(Ue,ge,S)=>{"use strict";var Z=S(9293).default;const A=S(262),{isArray:Y,isObject:G,isEmptyObject:X,isString:_,isUndefined:x}=S(2831),{isList:N,isValue:W,isGraph:R,isSubject:D}=S(4209),{expandIri:re,getContextValue:w,isKeyword:F,process:oe,processingMode:$}=S(429),{isAbsolute:z}=S(2051),{REGEX_BCP47:ee,REGEX_KEYWORD:q,addValue:B,asArray:y,getValues:M,validateTypeValue:T}=S(9420),{handleEvent:ce}=S(2585),j={};function Ie({value:Te,count:je,options:Ce}){if(0===je||"@value"in Te||"@list"in Te||1===je&&"@id"in Te){if(Ce.eventHandler){let Be,ue;0===je?(Be="empty object",ue="Dropping empty object."):"@value"in Te?(Be="object with only @value",ue="Dropping object with only @value."):"@list"in Te?(Be="object with only @list",ue="Dropping object with only @list."):1===je&&"@id"in Te&&(Be="object with only @id",ue="Dropping object with only @id."),ce({event:{type:["JsonLdEvent"],code:Be,level:"warning",message:ue,details:{value:Te}},options:Ce})}return null}return Te}function ae(Te){return xe.apply(this,arguments)}function xe(){return(xe=Z(function*({activeCtx:Te,activeProperty:je,expandedActiveProperty:Ce,element:Be,expandedParent:ue,options:Se={},insideList:at,typeKey:bt,typeScopedContext:Ke}){const fe=Object.keys(Be).sort(),O=[];let C;const ie=Be[bt]&&"@json"===re(Te,Y(Be[bt])?Be[bt][0]:Be[bt],{vocab:!0},{...Se,typeExpansion:!0});for(const J of fe){let Je,He=Be[J];if("@context"===J)continue;const de=re(Te,J,{vocab:!0},Se);if(null===de||!z(de)&&!F(de)){Se.eventHandler&&ce({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:J,expandedProperty:de}},options:Se});continue}if(F(de)){if("@reverse"===Ce)throw new A("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:He});if(de in ue&&"@included"!==de&&"@type"!==de)throw new A("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:de})}if("@id"===de){if(!_(He)){if(!Se.isFrame)throw new A('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:He});if(G(He)){if(!X(He))throw new A('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:He})}else{if(!Y(He))throw new A('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:He});if(!He.every(k=>_(k)))throw new A('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:He})}}B(ue,"@id",y(He).map(k=>{if(_(k)){const he=re(Te,k,{base:!0},Se);return Se.eventHandler&&(null===he?ce(null===k?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:k}},options:Se}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:k}},options:Se}):z(he)||ce({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:k,expandedId:he}},options:Se})),he}return k}),{propertyIsArray:Se.isFrame});continue}if("@type"===de){G(He)&&(He=Object.fromEntries(Object.entries(He).map(([k,he])=>[re(Ke,k,{vocab:!0}),y(he).map(qe=>re(Ke,qe,{base:!0,vocab:!0},{...Se,typeExpansion:!0}))]))),T(He,Se.isFrame),B(ue,"@type",y(He).map(k=>{if(_(k)){const he=re(Ke,k,{base:!0,vocab:!0},{...Se,typeExpansion:!0});return"@json"!==he&&!z(he)&&Se.eventHandler&&ce({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:k}},options:Se}),he}return k}),{propertyIsArray:!!Se.isFrame});continue}if("@included"===de&&$(Te,1.1)){const k=y(yield j.expand({activeCtx:Te,activeProperty:je,element:He,options:Se}));if(!k.every(he=>D(he)))throw new A("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:He});B(ue,"@included",k,{propertyIsArray:!0});continue}if("@graph"===de&&!G(He)&&!Y(He))throw new A('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:He});if("@value"===de){C=He,ie&&$(Te,1.1)?ue["@value"]=He:B(ue,"@value",He,{propertyIsArray:Se.isFrame});continue}if("@language"===de){if(null===He)continue;if(!_(He)&&!Se.isFrame)throw new A('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:He});He=y(He).map(k=>_(k)?k.toLowerCase():k);for(const k of He)_(k)&&!k.match(ee)&&Se.eventHandler&&ce({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:k}},options:Se});B(ue,"@language",He,{propertyIsArray:Se.isFrame});continue}if("@direction"===de){if(!_(He)&&!Se.isFrame)throw new A('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:He});He=y(He);for(const k of He)if(_(k)&&"ltr"!==k&&"rtl"!==k)throw new A('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:He});B(ue,"@direction",He,{propertyIsArray:Se.isFrame});continue}if("@index"===de){if(!_(He))throw new A('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:He});B(ue,"@index",He);continue}if("@reverse"===de){if(!G(He))throw new A('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:He});if(Je=yield j.expand({activeCtx:Te,activeProperty:"@reverse",element:He,options:Se}),"@reverse"in Je)for(const he in Je["@reverse"])B(ue,he,Je["@reverse"][he],{propertyIsArray:!0});let k=ue["@reverse"]||null;for(const he in Je){if("@reverse"===he)continue;null===k&&(k=ue["@reverse"]={}),B(k,he,[],{propertyIsArray:!0});const qe=Je[he];for(let Ee=0;Ee<qe.length;++Ee){const Ve=qe[Ee];if(W(Ve)||N(Ve))throw new A('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:Je});B(k,he,Ve,{propertyIsArray:!0})}}continue}if("@nest"===de){O.push(J);continue}let te=Te;const U=w(Te,J,"@context");x(U)||(te=yield oe({activeCtx:Te,localCtx:U,propagate:!0,overrideProtected:!0,options:Se}));const I=w(Te,J,"@container")||[];if(I.includes("@language")&&G(He))Je=ze(te,He,w(te,J,"@direction"),Se);else if(I.includes("@index")&&G(He)){const k=I.includes("@graph"),he=w(te,J,"@index")||"@index",qe="@index"!==he&&re(Te,he,{vocab:!0},Se);Je=yield nt({activeCtx:te,options:Se,activeProperty:J,value:He,asGraph:k,indexKey:he,propertyIndex:qe})}else if(I.includes("@id")&&G(He)){const k=I.includes("@graph");Je=yield nt({activeCtx:te,options:Se,activeProperty:J,value:He,asGraph:k,indexKey:"@id"})}else if(I.includes("@type")&&G(He))Je=yield nt({activeCtx:te.revertToPreviousContext(),options:Se,activeProperty:J,value:He,asGraph:!1,indexKey:"@type"});else{const k="@list"===de;if(k||"@set"===de){let he=je;k&&"@graph"===Ce&&(he=null),Je=yield j.expand({activeCtx:te,activeProperty:he,element:He,options:Se,insideList:k})}else Je="@json"===w(Te,J,"@type")?{"@type":"@json","@value":He}:yield j.expand({activeCtx:te,activeProperty:J,element:He,options:Se,insideList:!1})}if(null!==Je||"@value"===de){if("@list"!==de&&!N(Je)&&I.includes("@list")&&(Je={"@list":y(Je)}),I.includes("@graph")&&!I.some(k=>"@id"===k||"@index"===k)){if(Je=y(Je),Se.isFrame||(Je=Je.filter(k=>null!==Ie({value:k,count:Object.keys(k).length,options:Se}))),0===Je.length)continue;Je=Je.map(k=>({"@graph":y(k)}))}if(te.mappings.has(J)&&te.mappings.get(J).reverse){const k=ue["@reverse"]=ue["@reverse"]||{};Je=y(Je);for(let he=0;he<Je.length;++he){const qe=Je[he];if(W(qe)||N(qe))throw new A('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:Je});B(k,de,qe,{propertyIsArray:!0})}continue}B(ue,de,Je,{propertyIsArray:!0})}}if("@value"in ue&&("@json"!==ue["@type"]||!$(Te,1.1))&&(G(C)||Y(C))&&!Se.isFrame)throw new A('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:C});for(const J of O){const He=Y(Be[J])?Be[J]:[Be[J]];for(const Je of He){if(!G(Je)||Object.keys(Je).some(de=>"@value"===re(Te,de,{vocab:!0},Se)))throw new A("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:Je});yield ae({activeCtx:Te,activeProperty:je,expandedActiveProperty:Ce,element:Je,expandedParent:ue,options:Se,insideList:at,typeScopedContext:Ke,typeKey:bt})}}})).apply(this,arguments)}function Oe({activeCtx:Te,activeProperty:je,value:Ce,options:Be}){if(null==Ce)return null;const ue=re(Te,je,{vocab:!0},Be);if("@id"===ue)return re(Te,Ce,{base:!0},Be);if("@type"===ue)return re(Te,Ce,{vocab:!0,base:!0},{...Be,typeExpansion:!0});const Se=w(Te,je,"@type");if(("@id"===Se||"@graph"===ue)&&_(Ce)){const bt=re(Te,Ce,{base:!0},Be);return null===bt&&Ce.match(q)&&Be.eventHandler&&ce({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:je}},options:Be}),{"@id":bt}}if("@vocab"===Se&&_(Ce))return{"@id":re(Te,Ce,{vocab:!0,base:!0},Be)};if(F(ue))return Ce;const at={};if(Se&&!["@id","@vocab","@none"].includes(Se))at["@type"]=Se;else if(_(Ce)){const bt=w(Te,je,"@language");null!==bt&&(at["@language"]=bt);const Ke=w(Te,je,"@direction");null!==Ke&&(at["@direction"]=Ke)}return["boolean","number","string"].includes(typeof Ce)||(Ce=Ce.toString()),at["@value"]=Ce,at}function ze(Te,je,Ce,Be){const ue=[],Se=Object.keys(je).sort();for(const at of Se){const bt=re(Te,at,{vocab:!0},Be);let Ke=je[at];Y(Ke)||(Ke=[Ke]);for(const fe of Ke){if(null===fe)continue;if(!_(fe))throw new A("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:je});const O={"@value":fe};"@none"!==bt&&(at.match(ee)||Be.eventHandler&&ce({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:at}},options:Be}),O["@language"]=at.toLowerCase()),Ce&&(O["@direction"]=Ce),ue.push(O)}}return ue}function nt(Te){return Ze.apply(this,arguments)}function Ze(){return(Ze=Z(function*({activeCtx:Te,options:je,activeProperty:Ce,value:Be,asGraph:ue,indexKey:Se,propertyIndex:at}){const bt=[],Ke=Object.keys(Be).sort(),fe="@type"===Se;for(let O of Ke){if(fe){const J=w(Te,O,"@context");x(J)||(Te=yield oe({activeCtx:Te,localCtx:J,propagate:!1,options:je}))}let ie,C=Be[O];Y(C)||(C=[C]),C=yield j.expand({activeCtx:Te,activeProperty:Ce,element:C,options:je,insideList:!1,insideIndex:!0}),ie=at?"@none"===O?"@none":Oe({activeCtx:Te,activeProperty:Se,value:O,options:je}):re(Te,O,{vocab:!0},je),"@id"===Se?O=re(Te,O,{base:!0},je):fe&&(O=ie);for(let J of C){if(ue&&!R(J)&&(J={"@graph":[J]}),"@type"===Se)"@none"===ie||(J["@type"]=J["@type"]?[O].concat(J["@type"]):[O]);else{if(W(J)&&!["@language","@type","@index"].includes(Se))throw new A(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${Se}".`,"jsonld.SyntaxError",{code:"invalid value object",value:J});at?"@none"!==ie&&B(J,at,ie,{propertyIsArray:!0,prependValue:!0}):"@none"!==ie&&!(Se in J)&&(J[Se]=O)}bt.push(J)}}return bt})).apply(this,arguments)}Ue.exports=j,j.expand=function(){var Te=Z(function*({activeCtx:je,activeProperty:Ce=null,element:Be,options:ue={},insideList:Se=!1,insideIndex:at=!1,typeScopedContext:bt=null}){if(null==Be)return null;if("@default"===Ce&&(ue=Object.assign({},ue,{isFrame:!1})),!Y(Be)&&!G(Be))return Se||null!==Ce&&"@graph"!==re(je,Ce,{vocab:!0},ue)?Oe({activeCtx:je,activeProperty:Ce,value:Be,options:ue}):(ue.eventHandler&&ce({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:Be}},options:ue}),null);if(Y(Be)){let Je=[];const de=w(je,Ce,"@container")||[];Se=Se||de.includes("@list");for(let te=0;te<Be.length;++te){let U=yield j.expand({activeCtx:je,activeProperty:Ce,element:Be[te],options:ue,insideIndex:at,typeScopedContext:bt});Se&&Y(U)&&(U={"@list":U}),null!==U&&(Y(U)?Je=Je.concat(U):Je.push(U))}return Je}const Ke=re(je,Ce,{vocab:!0},ue),fe=w(je,Ce,"@context");bt=bt||(je.previousContext?je:null);let O=Object.keys(Be).sort(),C=!at;if(C&&bt&&O.length<=2&&!O.includes("@context"))for(const Je of O){const de=re(bt,Je,{vocab:!0},ue);if("@value"===de){C=!1,je=bt;break}if("@id"===de&&1===O.length){C=!1;break}}C&&(je=je.revertToPreviousContext()),x(fe)||(je=yield oe({activeCtx:je,localCtx:fe,propagate:!0,overrideProtected:!0,options:ue})),"@context"in Be&&(je=yield oe({activeCtx:je,localCtx:Be["@context"],options:ue})),bt=je;let ie=null;for(const Je of O)if("@type"===re(je,Je,{vocab:!0},ue)){ie=ie||Je;const te=Be[Je],U=Array.isArray(te)?te.length>1?te.slice().sort():te:[te];for(const I of U){const k=w(bt,I,"@context");x(k)||(je=yield oe({activeCtx:je,localCtx:k,options:ue,propagate:!1}))}}let J={};yield ae({activeCtx:je,activeProperty:Ce,expandedActiveProperty:Ke,element:Be,expandedParent:J,options:ue,insideList:Se,typeKey:ie,typeScopedContext:bt}),O=Object.keys(J);let He=O.length;if("@value"in J){if("@type"in J&&("@language"in J||"@direction"in J))throw new A('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:J});let Je=He-1;if("@type"in J&&(Je-=1),"@index"in J&&(Je-=1),"@language"in J&&(Je-=1),"@direction"in J&&(Je-=1),0!==Je)throw new A('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:J});const de=null===J["@value"]?[]:y(J["@value"]),te=M(J,"@type");if(!$(je,1.1)||!te.includes("@json")||1!==te.length)if(0===de.length)ue.eventHandler&&ce({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:J}},options:ue}),J=null;else{if(!de.every(U=>_(U)||X(U))&&"@language"in J)throw new A("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:J});if(!te.every(U=>z(U)&&!(_(U)&&0===U.indexOf("_:"))||X(U)))throw new A('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:J})}}else if("@type"in J&&!Y(J["@type"]))J["@type"]=[J["@type"]];else if("@set"in J||"@list"in J){if(He>1&&(2!==He||!("@index"in J)))throw new A('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:J});"@set"in J&&(J=J["@set"],O=Object.keys(J),He=O.length)}else 1===He&&"@language"in J&&(ue.eventHandler&&ce({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:J}},options:ue}),J=null);return G(J)&&!ue.keepFreeFloatingNodes&&!Se&&(null===Ce||"@graph"===Ke||(w(je,Ce,"@container")||[]).includes("@graph"))&&(J=Ie({value:J,count:He,options:ue})),J});return function(je){return Te.apply(this,arguments)}}()},9392:(Ue,ge,S)=>{"use strict";const{isSubjectReference:Z}=S(4209),{createMergedNodeMap:A}=S(5096),Y={};Ue.exports=Y,Y.flatten=G=>{const X=A(G),_=[],x=Object.keys(X).sort();for(let N=0;N<x.length;++N){const W=X[x[N]];Z(W)||_.push(W)}return _}},7031:(Ue,ge,S)=>{"use strict";const{isKeyword:Z}=S(429),A=S(4209),Y=S(2831),G=S(9420),X=S(2051),_=S(262),{createNodeMap:x,mergeNodeMapGraphs:N}=S(5096),W={};function R(y){const M={};for(const T in y)void 0!==y[T]&&(M["@"+T]=[y[T]]);return[M]}function D(y,M,T){for(let ce=T.length-1;ce>=0;--ce){const j=T[ce];if(j.graph===M&&j.subject["@id"]===y["@id"])return!0}return!1}function re(y,M,T){const ce="@"+T;let j=ce in y?y[ce][0]:M[T];if("embed"===T)if(!0===j)j="@once";else if(!1===j)j="@never";else if("@always"!==j&&"@never"!==j&&"@link"!==j&&"@first"!==j&&"@last"!==j&&"@once"!==j)throw new _("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:y});return j}function w(y){if(!Y.isArray(y)||1!==y.length||!Y.isObject(y[0]))throw new _("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:y});if("@id"in y[0])for(const M of G.asArray(y[0]["@id"]))if(!Y.isObject(M)&&!X.isAbsolute(M)||Y.isString(M)&&0===M.indexOf("_:"))throw new _("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:y});if("@type"in y[0])for(const M of G.asArray(y[0]["@type"]))if(!Y.isObject(M)&&!X.isAbsolute(M)&&"@json"!==M||Y.isString(M)&&0===M.indexOf("_:"))throw new _("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:y})}function oe(y,M,T,ce){let j=!0,Ie=!1;for(const ae in T){let xe=!1;const Oe=G.getValues(M,ae),ze=0===G.getValues(T,ae).length;if("@id"===ae){if(Y.isEmptyObject(T["@id"][0]||{})?xe=!0:T["@id"].length>=0&&(xe=T["@id"].includes(Oe[0])),!ce.requireAll)return xe}else if("@type"===ae){if(j=!1,ze){if(Oe.length>0)return!1;xe=!0}else if(1===T["@type"].length&&Y.isEmptyObject(T["@type"][0]))xe=Oe.length>0;else for(const nt of T["@type"])xe=!(!Y.isObject(nt)||!("@default"in nt))||xe||Oe.some(Ze=>Ze===nt);if(!ce.requireAll)return xe}else{if(Z(ae))continue;{const nt=G.getValues(T,ae)[0];let Ze=!1;if(nt&&(w([nt]),Ze="@default"in nt),j=!1,0===Oe.length&&Ze)continue;if(Oe.length>0&&ze)return!1;if(void 0===nt){if(Oe.length>0)return!1;xe=!0}else if(A.isList(nt)){const Te=nt["@list"][0];if(A.isList(Oe[0])){const je=Oe[0]["@list"];A.isValue(Te)?xe=je.some(Ce=>B(Te,Ce)):(A.isSubject(Te)||A.isSubjectReference(Te))&&(xe=je.some(Ce=>q(y,Te,Ce,ce)))}}else xe=A.isValue(nt)?Oe.some(Te=>B(nt,Te)):A.isSubjectReference(nt)?Oe.some(Te=>q(y,nt,Te,ce)):!!Y.isObject(nt)&&Oe.length>0}}if(!xe&&ce.requireAll)return!1;Ie=Ie||xe}return j||Ie}function $(y,M){const T=y.uniqueEmbeds[y.graph],ce=T[M],j=ce.parent,Ie=ce.property,ae={"@id":M};if(Y.isArray(j)){for(let Oe=0;Oe<j.length;++Oe)if(G.compareValues(j[Oe],ae)){j[Oe]=ae;break}}else{const Oe=Y.isArray(j[Ie]);G.removeValue(j,Ie,ae,{propertyIsArray:Oe}),G.addValue(j,Ie,ae,{propertyIsArray:Oe})}const xe=Oe=>{const ze=Object.keys(T);for(const nt of ze)nt in T&&Y.isObject(T[nt].parent)&&T[nt].parent["@id"]===Oe&&(delete T[nt],xe(nt))};xe(M)}function z(y,M){if(Y.isArray(y))return y.map(T=>z(T,M));if(Y.isObject(y)){if("@preserve"in y)return y["@preserve"][0];if(A.isValue(y))return y;if(A.isList(y))return y["@list"]=z(y["@list"],M),y;if("@id"in y){const T=y["@id"];if(M.link.hasOwnProperty(T)){const ce=M.link[T].indexOf(y);if(-1!==ce)return M.link[T][ce];M.link[T].push(y)}else M.link[T]=[y]}for(const T in y)"@id"===T&&M.bnodesToClear.includes(y[T])?delete y["@id"]:y[T]=z(y[T],M)}return y}function ee(y,M,T){Y.isObject(y)?G.addValue(y,M,T,{propertyIsArray:!0}):y.push(T)}function q(y,M,T,ce){if(!("@id"in T))return!1;const j=y.subjects[T["@id"]];return j&&oe(y,j,M,ce)}function B(y,M){const T=M["@value"],ce=M["@type"],j=M["@language"],Ie=y["@value"]?Y.isArray(y["@value"])?y["@value"]:[y["@value"]]:[],ae=y["@type"]?Y.isArray(y["@type"])?y["@type"]:[y["@type"]]:[],xe=y["@language"]?Y.isArray(y["@language"])?y["@language"]:[y["@language"]]:[];return 0===Ie.length&&0===ae.length&&0===xe.length||!(!Ie.includes(T)&&!Y.isEmptyObject(Ie[0])||!(!ce&&0===ae.length||ae.includes(ce)||ce&&Y.isEmptyObject(ae[0]))||!(!j&&0===xe.length||xe.includes(j)||j&&Y.isEmptyObject(xe[0])))}Ue.exports=W,W.frameMergedOrDefault=(y,M,T)=>{const ce={options:T,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},j=new G.IdentifierIssuer("_:b");x(y,ce.graphMap,"@default",j),T.merged&&(ce.graphMap["@merged"]=N(ce.graphMap),ce.graph="@merged"),ce.subjects=ce.graphMap[ce.graph];const Ie=[];return W.frame(ce,Object.keys(ce.subjects).sort(),M,Ie),T.pruneBlankNodeIdentifiers&&(T.bnodesToClear=Object.keys(ce.bnodeMap).filter(ae=>1===ce.bnodeMap[ae].length)),T.link={},z(Ie,T)},W.frame=(y,M,T,ce,j=null)=>{w(T);const Ie=y.options,ae={embed:re(T=T[0],Ie,"embed"),explicit:re(T,Ie,"explicit"),requireAll:re(T,Ie,"requireAll")};y.link.hasOwnProperty(y.graph)||(y.link[y.graph]={});const xe=y.link[y.graph],Oe=function F(y,M,T,ce){const j={};for(const Ie of M){const ae=y.graphMap[y.graph][Ie];oe(y,ae,T,ce)&&(j[Ie]=ae)}return j}(y,M,T,ae),ze=Object.keys(Oe).sort();for(const nt of ze){const Ze=Oe[nt];if(null===j?y.uniqueEmbeds={[y.graph]:{}}:y.uniqueEmbeds[y.graph]=y.uniqueEmbeds[y.graph]||{},"@link"===ae.embed&&nt in xe){ee(ce,j,xe[nt]);continue}const Te={"@id":nt};if(0===nt.indexOf("_:")&&G.addValue(y.bnodeMap,nt,Te,{propertyIsArray:!0}),xe[nt]=Te,("@first"===ae.embed||"@last"===ae.embed)&&y.is11)throw new _("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:T});if(y.embedded||!y.uniqueEmbeds[y.graph].hasOwnProperty(nt)){if(y.embedded&&("@never"===ae.embed||D(Ze,y.graph,y.subjectStack))){ee(ce,j,Te);continue}if(y.embedded&&("@first"==ae.embed||"@once"==ae.embed)&&y.uniqueEmbeds[y.graph].hasOwnProperty(nt)){ee(ce,j,Te);continue}if("@last"===ae.embed&&nt in y.uniqueEmbeds[y.graph]&&$(y,nt),y.uniqueEmbeds[y.graph][nt]={parent:ce,property:j},y.subjectStack.push({subject:Ze,graph:y.graph}),nt in y.graphMap){let je=!1,Ce=null;"@graph"in T?(Ce=T["@graph"][0],je=!("@merged"===nt||"@default"===nt),Y.isObject(Ce)||(Ce={})):(je="@merged"!==y.graph,Ce={}),je&&W.frame({...y,graph:nt,embedded:!1},Object.keys(y.graphMap[nt]).sort(),[Ce],Te,"@graph")}"@included"in T&&W.frame({...y,embedded:!1},M,T["@included"],Te,"@included");for(const je of Object.keys(Ze).sort())if(Z(je)){if(Te[je]=G.clone(Ze[je]),"@type"===je)for(const Ce of Ze["@type"])0===Ce.indexOf("_:")&&G.addValue(y.bnodeMap,Ce,Te,{propertyIsArray:!0})}else if(!ae.explicit||je in T)for(const Ce of Ze[je]){const Be=je in T?T[je]:R(ae);if(A.isList(Ce)){const ue=T[je]&&T[je][0]&&T[je][0]["@list"]?T[je][0]["@list"]:R(ae),Se={"@list":[]};ee(Te,je,Se);const at=Ce["@list"];for(const bt of at)A.isSubjectReference(bt)?W.frame({...y,embedded:!0},[bt["@id"]],ue,Se,"@list"):ee(Se,"@list",G.clone(bt))}else A.isSubjectReference(Ce)?W.frame({...y,embedded:!0},[Ce["@id"]],Be,Te,je):B(Be[0],Ce)&&ee(Te,je,G.clone(Ce))}for(const je of Object.keys(T).sort()){if("@type"===je){if(!Y.isObject(T[je][0])||!("@default"in T[je][0]))continue}else if(Z(je))continue;const Ce=T[je][0]||{};if(!re(Ce,Ie,"omitDefault")&&!(je in Te)){let ue="@null";"@default"in Ce&&(ue=G.clone(Ce["@default"])),Y.isArray(ue)||(ue=[ue]),Te[je]=[{"@preserve":ue}]}}for(const je of Object.keys(T["@reverse"]||{}).sort()){const Ce=T["@reverse"][je];for(const Be of Object.keys(y.subjects))G.getValues(y.subjects[Be],je).some(Se=>Se["@id"]===nt)&&(Te["@reverse"]=Te["@reverse"]||{},G.addValue(Te["@reverse"],je,[],{propertyIsArray:!0}),W.frame({...y,embedded:!0},[Be],Ce,Te["@reverse"][je],j))}ee(ce,j,Te),y.subjectStack.pop()}}},W.cleanupNull=(y,M)=>{if(Y.isArray(y))return y.map(ce=>W.cleanupNull(ce,M)).filter(ce=>ce);if("@null"===y)return null;if(Y.isObject(y)){if("@id"in y){const T=y["@id"];if(M.link.hasOwnProperty(T)){const ce=M.link[T].indexOf(y);if(-1!==ce)return M.link[T][ce];M.link[T].push(y)}else M.link[T]=[y]}for(const T in y)y[T]=W.cleanupNull(y[T],M)}return y}},4814:(Ue,ge,S)=>{"use strict";var Z=S(9293).default;const A=S(262),Y=S(4209),G=S(2831),{REGEX_BCP47:X,addValue:_}=S(9420),{handleEvent:x}=S(2585),{RDF_LIST:N,RDF_FIRST:W,RDF_REST:R,RDF_NIL:D,RDF_TYPE:re,RDF_JSON_LITERAL:w,XSD_BOOLEAN:F,XSD_DOUBLE:oe,XSD_INTEGER:$,XSD_STRING:z}=S(5315),ee={};function q(B,y,M,T){if(B.termType.endsWith("Node"))return{"@id":B.value};const ce={"@value":B.value};if(B.language)B.language.match(X)||T.eventHandler&&x({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:B.language}},options:T}),ce["@language"]=B.language;else{let j=B.datatype.value;if(j||(j=z),j===w){j="@json";try{ce["@value"]=JSON.parse(ce["@value"])}catch(Ie){throw new A("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:ce["@value"],cause:Ie})}}if(y){if(j===F)"true"===ce["@value"]?ce["@value"]=!0:"false"===ce["@value"]&&(ce["@value"]=!1);else if(G.isNumeric(ce["@value"]))if(j===$){const Ie=parseInt(ce["@value"],10);Ie.toFixed(0)===ce["@value"]&&(ce["@value"]=Ie)}else j===oe&&(ce["@value"]=parseFloat(ce["@value"]));[F,$,oe,z].includes(j)||(ce["@type"]=j)}else if("i18n-datatype"===M&&j.startsWith("https://www.w3.org/ns/i18n#")){const[,Ie,ae]=j.split(/[#_]/);Ie.length>0&&(ce["@language"]=Ie,Ie.match(X)||T.eventHandler&&x({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Ie}},options:T})),ce["@direction"]=ae}else j!==z&&(ce["@type"]=j)}return ce}Ue.exports=ee,ee.fromRDF=function(){var B=Z(function*(y,M){const{useRdfType:T=!1,useNativeTypes:ce=!1,rdfDirection:j=null}=M,Ie={},ae={"@default":Ie},xe={};if(j){if("compound-literal"===j)throw new A("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:j});if("i18n-datatype"!==j)throw new A("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:j})}for(const nt of y){const Ze="DefaultGraph"===nt.graph.termType?"@default":nt.graph.value;Ze in ae||(ae[Ze]={}),"@default"!==Ze&&!(Ze in Ie)&&(Ie[Ze]={"@id":Ze});const Te=ae[Ze],je=nt.subject.value,Ce=nt.predicate.value,Be=nt.object;je in Te||(Te[je]={"@id":je});const ue=Te[je],Se=Be.termType.endsWith("Node");if(Se&&!(Be.value in Te)&&(Te[Be.value]={"@id":Be.value}),Ce===re&&!T&&Se){_(ue,"@type",Be.value,{propertyIsArray:!0});continue}const at=q(Be,ce,j,M);if(_(ue,Ce,at,{propertyIsArray:!0}),Se)if(Be.value===D){const bt=Te[Be.value];"usages"in bt||(bt.usages=[]),bt.usages.push({node:ue,property:Ce,value:at})}else xe[Be.value]=!(Be.value in xe)&&{node:ue,property:Ce,value:at}}for(const nt in ae){const Ze=ae[nt];if(!(D in Ze))continue;const Te=Ze[D];if(Te.usages){for(let je of Te.usages){let Ce=je.node,Be=je.property,ue=je.value;const Se=[],at=[];let bt=Object.keys(Ce).length;for(;Be===R&&G.isObject(xe[Ce["@id"]])&&G.isArray(Ce[W])&&1===Ce[W].length&&G.isArray(Ce[R])&&1===Ce[R].length&&(3===bt||4===bt&&G.isArray(Ce["@type"])&&1===Ce["@type"].length&&Ce["@type"][0]===N)&&(Se.push(Ce[W][0]),at.push(Ce["@id"]),je=xe[Ce["@id"]],Ce=je.node,Be=je.property,ue=je.value,bt=Object.keys(Ce).length,Y.isBlankNode(Ce)););delete ue["@id"],ue["@list"]=Se.reverse();for(const Ke of at)delete Ze[Ke]}delete Te.usages}}const Oe=[],ze=Object.keys(Ie).sort();for(const nt of ze){const Ze=Ie[nt];if(nt in ae){const Te=Ze["@graph"]=[],je=ae[nt],Ce=Object.keys(je).sort();for(const Be of Ce){const ue=je[Be];Y.isSubjectReference(ue)||Te.push(ue)}}Y.isSubjectReference(Ze)||Oe.push(Ze)}return Oe});return function(y,M){return B.apply(this,arguments)}}()},4209:(Ue,ge,S)=>{"use strict";const Z=S(2831),A={};Ue.exports=A,A.isSubject=Y=>!(!Z.isObject(Y)||"@value"in Y||"@set"in Y||"@list"in Y)&&(Object.keys(Y).length>1||!("@id"in Y)),A.isSubjectReference=Y=>Z.isObject(Y)&&1===Object.keys(Y).length&&"@id"in Y,A.isValue=Y=>Z.isObject(Y)&&"@value"in Y,A.isList=Y=>Z.isObject(Y)&&"@list"in Y,A.isGraph=Y=>Z.isObject(Y)&&"@graph"in Y&&1===Object.keys(Y).filter(G=>"@id"!==G&&"@index"!==G).length,A.isSimpleGraph=Y=>A.isGraph(Y)&&!("@id"in Y),A.isBlankNode=Y=>{if(Z.isObject(Y)){if("@id"in Y){const G=Y["@id"];return!Z.isString(G)||0===G.indexOf("_:")}return 0===Object.keys(Y).length||!("@value"in Y||"@set"in Y||"@list"in Y)}return!1}},2130:(Ue,ge,S)=>{var Z=S(9293).default;const A=S(1224),Y=S(8666),G=S(9420),X=S(7839),_=G.IdentifierIssuer,x=S(262),N=S(3052),W=S(5426),{expand:R}=S(7336),{flatten:D}=S(9392),{fromRDF:re}=S(4814),{toRDF:w}=S(6397),{frameMergedOrDefault:F,cleanupNull:oe}=S(7031),{isArray:$,isObject:z,isString:ee}=S(2831),{isSubjectReference:q}=S(4209),{expandIri:B,getInitialContext:y,process:M,processingMode:T}=S(429),{compact:ce,compactIri:j}=S(3763),{createNodeMap:Ie,createMergedNodeMap:ae,mergeNodeMaps:xe}=S(5096),{logEventHandler:Oe,logWarningEventHandler:ze,safeEventHandler:nt,setDefaultEventHandler:Ze,setupEventHandler:Te,strictEventHandler:je,unhandledEventHandler:Ce}=S(2585),Be=function(Se){const at={},Ke=new N({max:100});function fe(O,{documentLoader:C=Se.documentLoader,...ie}){if(O&&"compactionMap"in O)throw new x('"compactionMap" not supported.',"jsonld.OptionsError");if(O&&"expansionMap"in O)throw new x('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:C},ie,O,{eventHandler:Te({options:O})})}return Se.compact=function(){var O=Z(function*(C,ie,J){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===ie)throw new x("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===C)return null;let He;(J=fe(J,{base:ee(C)?C:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new _("_:b"),contextResolver:new X({sharedCache:Ke})})).link&&(J.skipExpansion=!0),J.compactToRelative||delete J.base,He=J.skipExpansion?C:yield Se.expand(C,J);const Je=yield Se.processContext(y(J),ie,J);let de=yield ce({activeCtx:Je,element:He,options:J});J.compactArrays&&!J.graph&&$(de)?1===de.length?de=de[0]:0===de.length&&(de={}):J.graph&&z(de)&&(de=[de]),z(ie)&&"@context"in ie&&(ie=ie["@context"]),ie=G.clone(ie),$(ie)||(ie=[ie]);const te=ie;ie=[];for(let I=0;I<te.length;++I)(!z(te[I])||Object.keys(te[I]).length>0)&&ie.push(te[I]);const U=ie.length>0;if(1===ie.length&&(ie=ie[0]),$(de)){const I=j({activeCtx:Je,iri:"@graph",relativeTo:{vocab:!0}}),k=de;de={},U&&(de["@context"]=ie),de[I]=k}else if(z(de)&&U){const I=de;de={"@context":ie};for(const k in I)de[k]=I[k]}return de});return function(C,ie,J){return O.apply(this,arguments)}}(),Se.expand=function(){var O=Z(function*(C,ie){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");const J={},He=[];if("expandContext"in(ie=fe(ie,{keepFreeFloatingNodes:!1,contextResolver:new X({sharedCache:Ke})}))){const U=G.clone(ie.expandContext);J.expandContext=z(U)&&"@context"in U?U:{"@context":U},He.push(J.expandContext)}let Je;if(ee(C)){const U=yield Se.get(C,ie);Je=U.documentUrl,J.input=U.document,U.contextUrl&&(J.remoteContext={"@context":U.contextUrl},He.push(J.remoteContext))}else J.input=G.clone(C);"base"in ie||(ie.base=Je||"");let de=y(ie);for(const U of He)de=yield M({activeCtx:de,localCtx:U,options:ie});let te=yield R({activeCtx:de,element:J.input,options:ie});return z(te)&&"@graph"in te&&1===Object.keys(te).length?te=te["@graph"]:null===te&&(te=[]),$(te)||(te=[te]),te});return function(C,ie){return O.apply(this,arguments)}}(),Se.flatten=function(){var O=Z(function*(C,ie,J){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");ie="function"==typeof ie?null:ie||null,J=fe(J,{base:ee(C)?C:"",contextResolver:new X({sharedCache:Ke})});const He=yield Se.expand(C,J),Je=D(He);return null===ie?Je:(J.graph=!0,J.skipExpansion=!0,yield Se.compact(Je,ie,J))});return function(C,ie,J){return O.apply(this,arguments)}}(),Se.frame=function(){var O=Z(function*(C,ie,J){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(J=fe(J,{base:ee(C)?C:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new X({sharedCache:Ke})}),ee(ie)){const qe=yield Se.get(ie,J);if(ie=qe.document,qe.contextUrl){let Ee=ie["@context"];Ee?$(Ee)?Ee.push(qe.contextUrl):Ee=[Ee,qe.contextUrl]:Ee=qe.contextUrl,ie["@context"]=Ee}}const He=ie&&ie["@context"]||{},Je=yield Se.processContext(y(J),He,J);J.hasOwnProperty("omitGraph")||(J.omitGraph=T(Je,1.1)),J.hasOwnProperty("pruneBlankNodeIdentifiers")||(J.pruneBlankNodeIdentifiers=T(Je,1.1));const de=yield Se.expand(C,J),te={...J};te.isFrame=!0,te.keepFreeFloatingNodes=!0;const U=yield Se.expand(ie,te),I=Object.keys(ie).map(qe=>B(Je,qe,{vocab:!0}));te.merged=!I.includes("@graph"),te.is11=T(Je,1.1);const k=F(de,U,te);te.graph=!J.omitGraph,te.skipExpansion=!0,te.link={},te.framing=!0;let he=yield Se.compact(k,He,te);return te.link={},he=oe(he,te),he});return function(C,ie,J){return O.apply(this,arguments)}}(),Se.link=function(){var O=Z(function*(C,ie,J){const He={};return ie&&(He["@context"]=ie),He["@embed"]="@link",Se.frame(C,He,J)});return function(C,ie,J){return O.apply(this,arguments)}}(),Se.normalize=Se.canonize=function(){var O=Z(function*(C,ie){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(ie=fe(ie,{base:ee(C)?C:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new X({sharedCache:Ke})}))){if("application/n-quads"!==ie.inputFormat&&"application/nquads"!==ie.inputFormat)throw new x("Unknown canonicalization input format.","jsonld.CanonizeError");const Je=W.parse(C);return A.canonize(Je,ie)}const J={...ie};delete J.format,J.produceGeneralizedRdf=!1;const He=yield Se.toRDF(C,J);return A.canonize(He,ie)});return function(C,ie){return O.apply(this,arguments)}}(),Se.fromRDF=function(){var O=Z(function*(C,ie){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");ie=fe(ie,{format:ee(C)?"application/n-quads":void 0});const{format:J}=ie;let{rdfParser:He}=ie;if(J){if(He=He||at[J],!He)throw new x("Unknown input format.","jsonld.UnknownFormat",{format:J})}else He=()=>C;const Je=yield He(C);return re(Je,ie)});return function(C,ie){return O.apply(this,arguments)}}(),Se.toRDF=function(){var O=Z(function*(C,ie){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let J;J=(ie=fe(ie,{base:ee(C)?C:"",skipExpansion:!1,contextResolver:new X({sharedCache:Ke})})).skipExpansion?C:yield Se.expand(C,ie);const He=w(J,ie);if(ie.format){if("application/n-quads"===ie.format||"application/nquads"===ie.format)return W.serialize(He);throw new x("Unknown output format.","jsonld.UnknownFormat",{format:ie.format})}return He});return function(C,ie){return O.apply(this,arguments)}}(),Se.createNodeMap=function(){var O=Z(function*(C,ie){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");ie=fe(ie,{base:ee(C)?C:"",contextResolver:new X({sharedCache:Ke})});const J=yield Se.expand(C,ie);return ae(J,ie)});return function(C,ie){return O.apply(this,arguments)}}(),Se.merge=function(){var O=Z(function*(C,ie,J){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!$(C))throw new TypeError('Could not merge, "docs" must be an array.');ie="function"==typeof ie?null:ie||null,J=fe(J,{contextResolver:new X({sharedCache:Ke})});const He=yield Promise.all(C.map(qe=>{const Ee={...J};return Se.expand(qe,Ee)}));let Je=!0;"mergeNodes"in J&&(Je=J.mergeNodes);const de=J.issuer||new _("_:b"),te={"@default":{}};for(let qe=0;qe<He.length;++qe){const Ee=G.relabelBlankNodes(He[qe],{issuer:new _("_:b"+qe+"-")}),Ve=Je||0===qe?te:{"@default":{}};if(Ie(Ee,Ve,"@default",de),Ve!==te)for(const it in Ve){const At=Ve[it];if(!(it in te)){te[it]=At;continue}const Wt=te[it];for(const It in At)It in Wt||(Wt[It]=At[It])}}const U=xe(te),I=[],k=Object.keys(U).sort();for(let qe=0;qe<k.length;++qe){const Ee=U[k[qe]];q(Ee)||I.push(Ee)}return null===ie?I:(J.graph=!0,J.skipExpansion=!0,yield Se.compact(I,ie,J))});return function(C,ie,J){return O.apply(this,arguments)}}(),Object.defineProperty(Se,"documentLoader",{get:()=>Se._documentLoader,set:O=>Se._documentLoader=O}),Se.documentLoader=function(){var O=Z(function*(C){throw new x("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:C})});return function(C){return O.apply(this,arguments)}}(),Se.get=function(){var O=Z(function*(C,ie){let J;J="function"==typeof ie.documentLoader?ie.documentLoader:Se.documentLoader;const He=yield J(C);try{if(!He.document)throw new x("No remote document found at the given URL.","jsonld.NullRemoteDocument");ee(He.document)&&(He.document=JSON.parse(He.document))}catch(Je){throw new x("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:Je,remoteDoc:He})}return He});return function(C,ie){return O.apply(this,arguments)}}(),Se.processContext=function(){var O=Z(function*(C,ie,J){return J=fe(J,{base:"",contextResolver:new X({sharedCache:Ke})}),null===ie?y(J):(ie=G.clone(ie),z(ie)&&"@context"in ie||(ie={"@context":ie}),M({activeCtx:C,localCtx:ie,options:J}))});return function(C,ie,J){return O.apply(this,arguments)}}(),Se.getContextValue=S(429).getContextValue,Se.documentLoaders={},Se.useDocumentLoader=function(O){if(!(O in Se.documentLoaders))throw new x('Unknown document loader type: "'+O+'"',"jsonld.UnknownDocumentLoader",{type:O});Se.documentLoader=Se.documentLoaders[O].apply(Se,Array.prototype.slice.call(arguments,1))},Se.registerRDFParser=function(O,C){at[O]=C},Se.unregisterRDFParser=function(O){delete at[O]},Se.registerRDFParser("application/n-quads",W.parse),Se.registerRDFParser("application/nquads",W.parse),Se.url=S(2051),Se.logEventHandler=Oe,Se.logWarningEventHandler=ze,Se.safeEventHandler=nt,Se.setDefaultEventHandler=Ze,Se.strictEventHandler=je,Se.unhandledEventHandler=Ce,Se.util=G,Object.assign(Se,G),Se.promises=Se,Se.RequestQueue=S(4808),Se.JsonLdProcessor=S(1328)(Se),Y.setupGlobals(Se),Y.setupDocumentLoaders(Se),Se},ue=function(){return Be(function(){return ue()})};Be(ue),Ue.exports=ue},5096:(Ue,ge,S)=>{"use strict";const{isKeyword:Z}=S(429),A=S(4209),Y=S(2831),G=S(9420),X=S(262),_={};Ue.exports=_,_.createMergedNodeMap=(x,N)=>{const W=(N=N||{}).issuer||new G.IdentifierIssuer("_:b"),R={"@default":{}};return _.createNodeMap(x,R,"@default",W),_.mergeNodeMaps(R)},_.createNodeMap=(x,N,W,R,D,re)=>{if(Y.isArray(x)){for(const $ of x)_.createNodeMap($,N,W,R,void 0,re);return}if(!Y.isObject(x))return void(re&&re.push(x));if(A.isValue(x)){if("@type"in x){let $=x["@type"];0===$.indexOf("_:")&&(x["@type"]=$=R.getId($))}return void(re&&re.push(x))}if(re&&A.isList(x)){const $=[];return _.createNodeMap(x["@list"],N,W,R,D,$),void re.push({"@list":$})}if("@type"in x){const $=x["@type"];for(const z of $)0===z.indexOf("_:")&&R.getId(z)}Y.isUndefined(D)&&(D=A.isBlankNode(x)?R.getId(x["@id"]):x["@id"]),re&&re.push({"@id":D});const w=N[W],F=w[D]=w[D]||{};F["@id"]=D;const oe=Object.keys(x).sort();for(let $ of oe){if("@id"===$)continue;if("@reverse"===$){const ee={"@id":D},q=x["@reverse"];for(const B in q){const y=q[B];for(const M of y){let T=M["@id"];A.isBlankNode(M)&&(T=R.getId(T)),_.createNodeMap(M,N,W,R,T),G.addValue(w[T],B,ee,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===$){D in N||(N[D]={}),_.createNodeMap(x[$],N,D,R);continue}if("@included"===$){_.createNodeMap(x[$],N,W,R);continue}if("@type"!==$&&Z($)){if("@index"===$&&$ in F&&(x[$]!==F[$]||x[$]["@id"]!==F[$]["@id"]))throw new X("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:F});F[$]=x[$];continue}const z=x[$];if(0===$.indexOf("_:")&&($=R.getId($)),0!==z.length)for(let ee of z)if("@type"===$&&(ee=0===ee.indexOf("_:")?R.getId(ee):ee),A.isSubject(ee)||A.isSubjectReference(ee)){if("@id"in ee&&!ee["@id"])continue;const q=A.isBlankNode(ee)?R.getId(ee["@id"]):ee["@id"];G.addValue(F,$,{"@id":q},{propertyIsArray:!0,allowDuplicate:!1}),_.createNodeMap(ee,N,W,R,q)}else if(A.isValue(ee))G.addValue(F,$,ee,{propertyIsArray:!0,allowDuplicate:!1});else if(A.isList(ee)){const q=[];_.createNodeMap(ee["@list"],N,W,R,D,q),ee={"@list":q},G.addValue(F,$,ee,{propertyIsArray:!0,allowDuplicate:!1})}else _.createNodeMap(ee,N,W,R,D),G.addValue(F,$,ee,{propertyIsArray:!0,allowDuplicate:!1});else G.addValue(F,$,[],{propertyIsArray:!0})}},_.mergeNodeMapGraphs=x=>{const N={};for(const W of Object.keys(x).sort())for(const R of Object.keys(x[W]).sort()){const D=x[W][R];R in N||(N[R]={"@id":R});const re=N[R];for(const w of Object.keys(D).sort())if(Z(w)&&"@type"!==w)re[w]=G.clone(D[w]);else for(const F of D[w])G.addValue(re,w,G.clone(F),{propertyIsArray:!0,allowDuplicate:!1})}return N},_.mergeNodeMaps=x=>{const N=x["@default"],W=Object.keys(x).sort();for(const R of W){if("@default"===R)continue;const D=x[R];let re=N[R];re?"@graph"in re||(re["@graph"]=[]):N[R]=re={"@id":R,"@graph":[]};const w=re["@graph"];for(const F of Object.keys(D).sort()){const oe=D[F];A.isSubjectReference(oe)||w.push(oe)}}return N}},8666:(Ue,ge,S)=>{"use strict";const Z=S(3120),A={};Ue.exports=A,A.setupDocumentLoaders=function(Y){typeof XMLHttpRequest<"u"&&(Y.documentLoaders.xhr=Z,Y.useDocumentLoader("xhr"))},A.setupGlobals=function(Y){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:Y.JsonLdProcessor})}},6397:(Ue,ge,S)=>{"use strict";const{createNodeMap:Z}=S(5096),{isKeyword:A}=S(429),Y=S(4209),G=S(3988),X=S(262),_=S(2831),x=S(9420),{handleEvent:N}=S(2585),{RDF_FIRST:W,RDF_REST:R,RDF_NIL:D,RDF_TYPE:re,RDF_JSON_LITERAL:w,RDF_LANGSTRING:F,XSD_BOOLEAN:oe,XSD_DOUBLE:$,XSD_INTEGER:z,XSD_STRING:ee}=S(5315),{isAbsolute:q}=S(2051),B={};function y(ce,j,Ie,ae,xe){const Oe=Object.keys(j).sort();for(const ze of Oe){const nt=j[ze],Ze=Object.keys(nt).sort();for(let Te of Ze){const je=nt[Te];if("@type"===Te)Te=re;else if(A(Te))continue;for(const Ce of je){const Be={termType:ze.startsWith("_:")?"BlankNode":"NamedNode",value:ze};if(!q(ze)){xe.eventHandler&&N({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:ze}},options:xe});continue}const ue={termType:Te.startsWith("_:")?"BlankNode":"NamedNode",value:Te};if(!q(Te)){xe.eventHandler&&N({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:Te}},options:xe});continue}if("BlankNode"===ue.termType&&!xe.produceGeneralizedRdf){xe.eventHandler&&N({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:ae.getOldIds().find(at=>ae.getId(at)===Te)}},options:xe});continue}const Se=T(Ce,ae,ce,Ie,xe.rdfDirection,xe);Se&&ce.push({subject:Be,predicate:ue,object:Se,graph:Ie})}}}}function T(ce,j,Ie,ae,xe,Oe){const ze={};if(Y.isValue(ce)){ze.termType="Literal",ze.value=void 0,ze.datatype={termType:"NamedNode"};let nt=ce["@value"];const Ze=ce["@type"]||null;if("@json"===Ze)ze.value=G(nt),ze.datatype.value=w;else if(_.isBoolean(nt))ze.value=nt.toString(),ze.datatype.value=Ze||oe;else if(_.isDouble(nt)||Ze===$)_.isDouble(nt)||(nt=parseFloat(nt)),ze.value=nt.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),ze.datatype.value=Ze||$;else if(_.isNumber(nt))ze.value=nt.toFixed(0),ze.datatype.value=Ze||z;else if("@direction"in ce&&"i18n-datatype"===xe){const Te=(ce["@language"]||"").toLowerCase();ze.datatype.value=`https://www.w3.org/ns/i18n#${Te}_${ce["@direction"]}`,ze.value=nt}else{if("@direction"in ce&&"compound-literal"===xe)throw new X("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:xe});if("@direction"in ce&&xe)throw new X("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:xe});"@language"in ce?("@direction"in ce&&!xe&&Oe.eventHandler&&N({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:ze.value}},options:Oe}),ze.value=nt,ze.datatype.value=Ze||F,ze.language=ce["@language"]):("@direction"in ce&&!xe&&Oe.eventHandler&&N({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:ze.value}},options:Oe}),ze.value=nt,ze.datatype.value=Ze||ee)}}else if(Y.isList(ce)){const nt=function M(ce,j,Ie,ae,xe,Oe){const ze={termType:"NamedNode",value:W},nt={termType:"NamedNode",value:R},Ze={termType:"NamedNode",value:D},Te=ce.pop(),je=Te?{termType:"BlankNode",value:j.getId()}:Ze;let Ce=je;for(const Be of ce){const ue=T(Be,j,Ie,ae,xe,Oe),Se={termType:"BlankNode",value:j.getId()};Ie.push({subject:Ce,predicate:ze,object:ue,graph:ae}),Ie.push({subject:Ce,predicate:nt,object:Se,graph:ae}),Ce=Se}if(Te){const Be=T(Te,j,Ie,ae,xe,Oe);Ie.push({subject:Ce,predicate:ze,object:Be,graph:ae}),Ie.push({subject:Ce,predicate:nt,object:Ze,graph:ae})}return je}(ce["@list"],j,Ie,ae,xe,Oe);ze.termType=nt.termType,ze.value=nt.value}else{const nt=_.isObject(ce)?ce["@id"]:ce;ze.termType=nt.startsWith("_:")?"BlankNode":"NamedNode",ze.value=nt}return"NamedNode"!==ze.termType||q(ze.value)?ze:(Oe.eventHandler&&N({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:ze.value}},options:Oe}),null)}Ue.exports=B,B.toRDF=(ce,j)=>{const Ie=new x.IdentifierIssuer("_:b"),ae={"@default":{}};Z(ce,ae,"@default",Ie);const xe=[],Oe=Object.keys(ae).sort();for(const ze of Oe){let nt;if("@default"===ze)nt={termType:"DefaultGraph",value:""};else{if(!q(ze)){j.eventHandler&&N({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:ze}},options:j});continue}nt=ze.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},nt.value=ze}y(xe,ae[ze],nt,Ie,j)}return xe}},2831:Ue=>{"use strict";const ge={};Ue.exports=ge,ge.isArray=Array.isArray,ge.isBoolean=S=>"boolean"==typeof S||"[object Boolean]"===Object.prototype.toString.call(S),ge.isDouble=S=>ge.isNumber(S)&&(-1!==String(S).indexOf(".")||Math.abs(S)>=1e21),ge.isEmptyObject=S=>ge.isObject(S)&&0===Object.keys(S).length,ge.isNumber=S=>"number"==typeof S||"[object Number]"===Object.prototype.toString.call(S),ge.isNumeric=S=>!isNaN(parseFloat(S))&&isFinite(S),ge.isObject=S=>"[object Object]"===Object.prototype.toString.call(S),ge.isString=S=>"string"==typeof S||"[object String]"===Object.prototype.toString.call(S),ge.isUndefined=S=>typeof S>"u"},2051:(Ue,ge,S)=>{"use strict";const Z=S(2831),A={};Ue.exports=A,A.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},A.parse=(G,X)=>{const _={},x=A.parsers[X||"full"],N=x.regex.exec(G);let W=x.keys.length;for(;W--;)_[x.keys[W]]=void 0===N[W]?null:N[W];return("https"===_.scheme&&"443"===_.port||"http"===_.scheme&&"80"===_.port)&&(_.href=_.href.replace(":"+_.port,""),_.authority=_.authority.replace(":"+_.port,""),_.port=null),_.normalizedPath=A.removeDotSegments(_.path),_},A.prependBase=(G,X)=>{if(null===G||A.isAbsolute(X))return X;(!G||Z.isString(G))&&(G=A.parse(G||""));const _=A.parse(X),x={protocol:G.protocol||""};if(null!==_.authority)x.authority=_.authority,x.path=_.path,x.query=_.query;else if(x.authority=G.authority,""===_.path)x.path=G.path,x.query=null!==_.query?_.query:G.query;else{if(0===_.path.indexOf("/"))x.path=_.path;else{let W=G.path;W=W.substr(0,W.lastIndexOf("/")+1),(W.length>0||G.authority)&&"/"!==W.substr(-1)&&(W+="/"),W+=_.path,x.path=W}x.query=_.query}""!==_.path&&(x.path=A.removeDotSegments(x.path));let N=x.protocol;return null!==x.authority&&(N+="//"+x.authority),N+=x.path,null!==x.query&&(N+="?"+x.query),null!==_.fragment&&(N+="#"+_.fragment),""===N&&(N="./"),N},A.removeBase=(G,X)=>{if(null===G)return X;(!G||Z.isString(G))&&(G=A.parse(G||""));let _="";if(""!==G.href?_+=(G.protocol||"")+"//"+(G.authority||""):X.indexOf("//")&&(_+="//"),0!==X.indexOf(_))return X;const x=A.parse(X.substr(_.length)),N=G.normalizedPath.split("/"),W=x.normalizedPath.split("/"),R=x.fragment||x.query?0:1;for(;N.length>0&&W.length>R&&N[0]===W[0];)N.shift(),W.shift();let D="";if(N.length>0){N.pop();for(let re=0;re<N.length;++re)D+="../"}return D+=W.join("/"),null!==x.query&&(D+="?"+x.query),null!==x.fragment&&(D+="#"+x.fragment),""===D&&(D="./"),D},A.removeDotSegments=G=>{if(0===G.length)return"";const X=G.split("/"),_=[];for(;X.length>0;){const x=X.shift(),N=0===X.length;"."!==x?".."!==x?_.push(x):(_.pop(),N&&_.push("")):N&&_.push("")}return"/"===G[0]&&_.length>0&&""!==_[0]&&_.unshift(""),1===_.length&&""===_[0]?"/":_.join("/")};const Y=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;A.isAbsolute=G=>Z.isString(G)&&Y.test(G),A.isRelative=G=>Z.isString(G)},9420:(Ue,ge,S)=>{"use strict";const Z=S(4209),A=S(2831),Y=S(1224).IdentifierIssuer,G=S(262),_=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,x=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,N=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,R_headers_accept="application/ld+json, application/json",D={};function re(w,F){if(A.isArray(F))for(let oe=0;oe<F.length;++oe)F[oe]=re(w,F[oe]);else if(Z.isList(F))F["@list"]=re(w,F["@list"]);else if(A.isObject(F)){Z.isBlankNode(F)&&(F["@id"]=w.getId(F["@id"]));const oe=Object.keys(F).sort();for(let $=0;$<oe.length;++$){const z=oe[$];"@id"!==z&&(F[z]=re(w,F[z]))}}return F}Ue.exports=D,D.IdentifierIssuer=Y,D.REGEX_BCP47=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,D.REGEX_KEYWORD=/^@[a-zA-Z]+$/,D.clone=function(w){if(w&&"object"==typeof w){let F;if(A.isArray(w)){F=[];for(let oe=0;oe<w.length;++oe)F[oe]=D.clone(w[oe])}else if(w instanceof Map){F=new Map;for(const[oe,$]of w)F.set(oe,D.clone($))}else if(w instanceof Set){F=new Set;for(const oe of w)F.add(D.clone(oe))}else if(A.isObject(w)){F={};for(const oe in w)F[oe]=D.clone(w[oe])}else F=w.toString();return F}return w},D.asArray=function(w){return Array.isArray(w)?w:[w]},D.buildHeaders=(w={})=>{if(Object.keys(w).some(oe=>"accept"===oe.toLowerCase()))throw new RangeError('Accept header may not be specified; only "'+R_headers_accept+'" is supported.');return Object.assign({Accept:R_headers_accept},w)},D.parseLinkHeader=w=>{const F={},oe=w.match(_);for(let $=0;$<oe.length;++$){let z=oe[$].match(x);if(!z)continue;const ee={target:z[1]},q=z[2];for(;z=N.exec(q);)ee[z[1]]=void 0===z[2]?z[3]:z[2];const B=ee.rel||"";Array.isArray(F[B])?F[B].push(ee):F[B]=F.hasOwnProperty(B)?[F[B],ee]:ee}return F},D.validateTypeValue=(w,F)=>{if(!(A.isString(w)||A.isArray(w)&&w.every(oe=>A.isString(oe)))){if(F&&A.isObject(w))switch(Object.keys(w).length){case 0:return;case 1:if("@default"in w&&D.asArray(w["@default"]).every(oe=>A.isString(oe)))return}throw new G('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:w})}},D.hasProperty=(w,F)=>{if(w.hasOwnProperty(F)){const oe=w[F];return!A.isArray(oe)||oe.length>0}return!1},D.hasValue=(w,F,oe)=>{if(D.hasProperty(w,F)){let $=w[F];const z=Z.isList($);if(A.isArray($)||z){z&&($=$["@list"]);for(let ee=0;ee<$.length;++ee)if(D.compareValues(oe,$[ee]))return!0}else if(!A.isArray(oe))return D.compareValues(oe,$)}return!1},D.addValue=(w,F,oe,$)=>{if("propertyIsArray"in($=$||{})||($.propertyIsArray=!1),"valueIsArray"in $||($.valueIsArray=!1),"allowDuplicate"in $||($.allowDuplicate=!0),"prependValue"in $||($.prependValue=!1),$.valueIsArray)w[F]=oe;else if(A.isArray(oe)){0===oe.length&&$.propertyIsArray&&!w.hasOwnProperty(F)&&(w[F]=[]),$.prependValue&&(oe=oe.concat(w[F]),w[F]=[]);for(let z=0;z<oe.length;++z)D.addValue(w,F,oe[z],$)}else if(w.hasOwnProperty(F)){const z=!$.allowDuplicate&&D.hasValue(w,F,oe);!A.isArray(w[F])&&(!z||$.propertyIsArray)&&(w[F]=[w[F]]),z||($.prependValue?w[F].unshift(oe):w[F].push(oe))}else w[F]=$.propertyIsArray?[oe]:oe},D.getValues=(w,F)=>[].concat(w[F]||[]),D.removeProperty=(w,F)=>{delete w[F]},D.removeValue=(w,F,oe,$)=>{"propertyIsArray"in($=$||{})||($.propertyIsArray=!1);const z=D.getValues(w,F).filter(ee=>!D.compareValues(ee,oe));0===z.length?D.removeProperty(w,F):w[F]=1!==z.length||$.propertyIsArray?z:z[0]},D.relabelBlankNodes=(w,F)=>re((F=F||{}).issuer||new Y("_:b"),w),D.compareValues=(w,F)=>!!(w===F||Z.isValue(w)&&Z.isValue(F)&&w["@value"]===F["@value"]&&w["@type"]===F["@type"]&&w["@language"]===F["@language"]&&w["@index"]===F["@index"])||!!(A.isObject(w)&&"@id"in w&&A.isObject(F)&&"@id"in F)&&w["@id"]===F["@id"],D.compareShortestLeast=(w,F)=>w.length<F.length?-1:F.length<w.length?1:w===F?0:w<F?-1:1},3988:Ue=>{"use strict";Ue.exports=function ge(S){return null===S||"object"!=typeof S||null!=S.toJSON?JSON.stringify(S):Array.isArray(S)?"["+S.reduce((Z,A,Y)=>Z+(0===Y?"":",")+ge(void 0===A||"symbol"==typeof A?null:A),"")+"]":"{"+Object.keys(S).sort().reduce((Z,A,Y)=>void 0===S[A]||"symbol"==typeof S[A]?Z:Z+(0===Z.length?"":",")+ge(A)+":"+ge(S[A]),"")+"}"}},3052:(Ue,ge,S)=>{"use strict";const Z=S(3748),A=Symbol("max"),Y=Symbol("length"),G=Symbol("lengthCalculator"),X=Symbol("allowStale"),_=Symbol("maxAge"),x=Symbol("dispose"),N=Symbol("noDisposeOnSet"),W=Symbol("lruList"),R=Symbol("cache"),D=Symbol("updateAgeOnGet"),re=()=>1,F=(B,y,M)=>{const T=B[R].get(y);if(T){const ce=T.value;if(oe(B,ce)){if(z(B,T),!B[X])return}else M&&(B[D]&&(T.value.now=Date.now()),B[W].unshiftNode(T));return ce.value}},oe=(B,y)=>{if(!y||!y.maxAge&&!B[_])return!1;const M=Date.now()-y.now;return y.maxAge?M>y.maxAge:B[_]&&M>B[_]},$=B=>{if(B[Y]>B[A])for(let y=B[W].tail;B[Y]>B[A]&&null!==y;){const M=y.prev;z(B,y),y=M}},z=(B,y)=>{if(y){const M=y.value;B[x]&&B[x](M.key,M.value),B[Y]-=M.length,B[R].delete(M.key),B[W].removeNode(y)}};class ee{constructor(y,M,T,ce,j){this.key=y,this.value=M,this.length=T,this.now=ce,this.maxAge=j||0}}const q=(B,y,M,T)=>{let ce=M.value;oe(B,ce)&&(z(B,M),B[X]||(ce=void 0)),ce&&y.call(T,ce.value,ce.key,B)};Ue.exports=class w{constructor(y){if("number"==typeof y&&(y={max:y}),y||(y={}),y.max&&("number"!=typeof y.max||y.max<0))throw new TypeError("max must be a non-negative number");this[A]=y.max||1/0;const T=y.length||re;if(this[G]="function"!=typeof T?re:T,this[X]=y.stale||!1,y.maxAge&&"number"!=typeof y.maxAge)throw new TypeError("maxAge must be a number");this[_]=y.maxAge||0,this[x]=y.dispose,this[N]=y.noDisposeOnSet||!1,this[D]=y.updateAgeOnGet||!1,this.reset()}set max(y){if("number"!=typeof y||y<0)throw new TypeError("max must be a non-negative number");this[A]=y||1/0,$(this)}get max(){return this[A]}set allowStale(y){this[X]=!!y}get allowStale(){return this[X]}set maxAge(y){if("number"!=typeof y)throw new TypeError("maxAge must be a non-negative number");this[_]=y,$(this)}get maxAge(){return this[_]}set lengthCalculator(y){"function"!=typeof y&&(y=re),y!==this[G]&&(this[G]=y,this[Y]=0,this[W].forEach(M=>{M.length=this[G](M.value,M.key),this[Y]+=M.length})),$(this)}get lengthCalculator(){return this[G]}get length(){return this[Y]}get itemCount(){return this[W].length}rforEach(y,M){M=M||this;for(let T=this[W].tail;null!==T;){const ce=T.prev;q(this,y,T,M),T=ce}}forEach(y,M){M=M||this;for(let T=this[W].head;null!==T;){const ce=T.next;q(this,y,T,M),T=ce}}keys(){return this[W].toArray().map(y=>y.key)}values(){return this[W].toArray().map(y=>y.value)}reset(){this[x]&&this[W]&&this[W].length&&this[W].forEach(y=>this[x](y.key,y.value)),this[R]=new Map,this[W]=new Z,this[Y]=0}dump(){return this[W].map(y=>!oe(this,y)&&{k:y.key,v:y.value,e:y.now+(y.maxAge||0)}).toArray().filter(y=>y)}dumpLru(){return this[W]}set(y,M,T){if((T=T||this[_])&&"number"!=typeof T)throw new TypeError("maxAge must be a number");const ce=T?Date.now():0,j=this[G](M,y);if(this[R].has(y)){if(j>this[A])return z(this,this[R].get(y)),!1;const xe=this[R].get(y).value;return this[x]&&(this[N]||this[x](y,xe.value)),xe.now=ce,xe.maxAge=T,xe.value=M,this[Y]+=j-xe.length,xe.length=j,this.get(y),$(this),!0}const Ie=new ee(y,M,j,ce,T);return Ie.length>this[A]?(this[x]&&this[x](y,M),!1):(this[Y]+=Ie.length,this[W].unshift(Ie),this[R].set(y,this[W].head),$(this),!0)}has(y){if(!this[R].has(y))return!1;const M=this[R].get(y).value;return!oe(this,M)}get(y){return F(this,y,!0)}peek(y){return F(this,y,!1)}pop(){const y=this[W].tail;return y?(z(this,y),y.value):null}del(y){z(this,this[R].get(y))}load(y){this.reset();const M=Date.now();for(let T=y.length-1;T>=0;T--){const ce=y[T],j=ce.e||0;if(0===j)this.set(ce.k,ce.v);else{const Ie=j-M;Ie>0&&this.set(ce.k,ce.v,Ie)}}}prune(){this[R].forEach((y,M)=>F(this,M,!1))}}},7376:function(Ue,ge,S){var Z;Ue=S.nmd(Ue),function(){var A,_="Expected a function",N="__lodash_hash_undefined__",R="__lodash_placeholder__",y=32,T=128,Te=1/0,je=9007199254740991,ue=4294967295,bt=[["ary",T],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",y],["partialRight",64],["rearg",256]],Ke="[object Arguments]",fe="[object Array]",C="[object Boolean]",ie="[object Date]",He="[object Error]",Je="[object Function]",de="[object GeneratorFunction]",te="[object Map]",U="[object Number]",k="[object Object]",he="[object Promise]",Ee="[object RegExp]",Ve="[object Set]",it="[object String]",At="[object Symbol]",It="[object WeakMap]",pe="[object ArrayBuffer]",V="[object DataView]",ne="[object Float32Array]",Fe="[object Float64Array]",st="[object Int8Array]",ft="[object Int16Array]",Tt="[object Int32Array]",An="[object Uint8Array]",oi="[object Uint8ClampedArray]",gi="[object Uint16Array]",qn="[object Uint32Array]",Gn=/\b__p \+= '';/g,dr=/\b(__p \+=) '' \+/g,Ga=/(__e\(.*?\)|\b__t\)) \+\n'';/g,jr=/&(?:amp|lt|gt|quot|#39);/g,ys=/[&<>"']/g,Zs=RegExp(jr.source),Er=RegExp(ys.source),fo=/<%-([\s\S]+?)%>/g,ea=/<%([\s\S]+?)%>/g,Jl=/<%=([\s\S]+?)%>/g,Hc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bl=/^\w*$/,Gc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,We=/[\\^$.*+?()[\]{}|]/g,Qe=RegExp(We.source),sn=/^\s+/,Ct=/\s/,Tn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ur=/\{\n\/\* \[wrapped with (.+)\] \*/,Go=/,? & /,Wc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,on=/[()=,{}\[\]\/\s]/,mc=/\\(\\)?/g,Ir=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gc=/\w*$/,Pn=/^[-+]0x[0-9a-f]+$/i,si=/^0b[01]+$/i,vs=/^\[object .+?Constructor\]$/,Vt=/^0o[0-7]+$/i,Os=/^(?:0|[1-9]\d*)$/,Wo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,_e=/['\n\r\u2028\u2029\\]/g,Me="\\ud800-\\udfff",me="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ne="\\u2700-\\u27bf",Ye="a-z\\xdf-\\xf6\\xf8-\\xff",En="A-Z\\xc0-\\xd6\\xd8-\\xde",Wn="\\ufe0e\\ufe0f",ni="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ta="["+Me+"]",Fi="["+ni+"]",_c="["+me+"]",Di="\\d+",as="["+Ne+"]",tu="["+Ye+"]",nu="[^"+Me+ni+Di+Ne+Ye+En+"]",di="\\ud83c[\\udffb-\\udfff]",iu="[^"+Me+"]",cs="(?:\\ud83c[\\udde6-\\uddff]){2}",De="[\\ud800-\\udbff][\\udc00-\\udfff]",Ge="["+En+"]",St="(?:"+tu+"|"+nu+")",en="(?:"+Ge+"|"+nu+")",Cn="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Si="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",po="(?:"+_c+"|"+di+")?",mo="["+Wn+"]?",na=mo+po+"(?:\\u200d(?:"+[iu,cs,De].join("|")+")"+mo+po+")*",Jn="(?:"+[as,cs,De].join("|")+")"+na,Z3="(?:"+[iu+_c+"?",_c,cs,De,ta].join("|")+")",ej=RegExp("['\u2019]","g"),tj=RegExp(_c,"g"),fx=RegExp(di+"(?="+di+")|"+Z3+na,"g"),nj=RegExp([Ge+"?"+tu+"+"+Cn+"(?="+[Fi,Ge,"$"].join("|")+")",en+"+"+Si+"(?="+[Fi,Ge+St,"$"].join("|")+")",Ge+"?"+St+"+"+Cn,Ge+"+"+Si,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Di,Jn].join("|"),"g"),Ot=RegExp("[\\u200d"+Me+me+Wn+"]"),ij=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,cn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Om=-1,Dr={};Dr[ne]=Dr[Fe]=Dr[st]=Dr[ft]=Dr[Tt]=Dr[An]=Dr[oi]=Dr[gi]=Dr[qn]=!0,Dr[Ke]=Dr[fe]=Dr[pe]=Dr[C]=Dr[V]=Dr[ie]=Dr[He]=Dr[Je]=Dr[te]=Dr[U]=Dr[k]=Dr[Ee]=Dr[Ve]=Dr[it]=Dr[It]=!1;var _r={};_r[Ke]=_r[fe]=_r[pe]=_r[V]=_r[C]=_r[ie]=_r[ne]=_r[Fe]=_r[st]=_r[ft]=_r[Tt]=_r[te]=_r[U]=_r[k]=_r[Ee]=_r[Ve]=_r[it]=_r[At]=_r[An]=_r[oi]=_r[gi]=_r[qn]=!0,_r[He]=_r[Je]=_r[It]=!1;var Vb={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},px=parseFloat,vM=parseInt,vt="object"==typeof global&&global&&global.Object===Object&&global,zb="object"==typeof self&&self&&self.Object===Object&&self,To=vt||zb||Function("return this")(),Hb=ge&&!ge.nodeType&&ge,ru=Hb&&Ue&&!Ue.nodeType&&Ue,mx=ru&&ru.exports===Hb,Sf=mx&&vt.process,bc=function(){try{return ru&&ru.require&&ru.require("util").types||Sf&&Sf.binding&&Sf.binding("util")}catch{}}(),wM=bc&&bc.isArrayBuffer,xM=bc&&bc.isDate,EM=bc&&bc.isMap,Nm=bc&&bc.isRegExp,eh=bc&&bc.isSet,Fm=bc&&bc.isTypedArray;function ks(gt,Ut,Mt){switch(Mt.length){case 0:return gt.call(Ut);case 1:return gt.call(Ut,Mt[0]);case 2:return gt.call(Ut,Mt[0],Mt[1]);case 3:return gt.call(Ut,Mt[0],Mt[1],Mt[2])}return gt.apply(Ut,Mt)}function gx(gt,Ut,Mt,tn){for(var Qn=-1,Gi=null==gt?0:gt.length;++Qn<Gi;){var so=gt[Qn];Ut(tn,so,Mt(so),gt)}return tn}function go(gt,Ut){for(var Mt=-1,tn=null==gt?0:gt.length;++Mt<tn&&!1!==Ut(gt[Mt],Mt,gt););return gt}function Af(gt,Ut){for(var Mt=null==gt?0:gt.length;Mt--&&!1!==Ut(gt[Mt],Mt,gt););return gt}function Gb(gt,Ut){for(var Mt=-1,tn=null==gt?0:gt.length;++Mt<tn;)if(!Ut(gt[Mt],Mt,gt))return!1;return!0}function Yn(gt,Ut){for(var Mt=-1,tn=null==gt?0:gt.length,Qn=0,Gi=[];++Mt<tn;){var so=gt[Mt];Ut(so,Mt,gt)&&(Gi[Qn++]=so)}return Gi}function Hi(gt,Ut){return!(null==gt||!gt.length)&&If(gt,Ut,0)>-1}function _x(gt,Ut,Mt){for(var tn=-1,Qn=null==gt?0:gt.length;++tn<Qn;)if(Mt(Ut,gt[tn]))return!0;return!1}function Vr(gt,Ut){for(var Mt=-1,tn=null==gt?0:gt.length,Qn=Array(tn);++Mt<tn;)Qn[Mt]=Ut(gt[Mt],Mt,gt);return Qn}function Ql(gt,Ut){for(var Mt=-1,tn=Ut.length,Qn=gt.length;++Mt<tn;)gt[Qn+Mt]=Ut[Mt];return gt}function bx(gt,Ut,Mt,tn){var Qn=-1,Gi=null==gt?0:gt.length;for(tn&&Gi&&(Mt=gt[++Qn]);++Qn<Gi;)Mt=Ut(Mt,gt[Qn],Qn,gt);return Mt}function CM(gt,Ut,Mt,tn){var Qn=null==gt?0:gt.length;for(tn&&Qn&&(Mt=gt[--Qn]);Qn--;)Mt=Ut(Mt,gt[Qn],Qn,gt);return Mt}function Tf(gt,Ut){for(var Mt=-1,tn=null==gt?0:gt.length;++Mt<tn;)if(Ut(gt[Mt],Mt,gt))return!0;return!1}var Li=nh("length");function Ps(gt,Ut,Mt){var tn;return Mt(gt,function(Qn,Gi,so){if(Ut(Qn,Gi,so))return tn=Gi,!1}),tn}function Mf(gt,Ut,Mt,tn){for(var Qn=gt.length,Gi=Mt+(tn?1:-1);tn?Gi--:++Gi<Qn;)if(Ut(gt[Gi],Gi,gt))return Gi;return-1}function If(gt,Ut,Mt){return Ut==Ut?function ah(gt,Ut,Mt){for(var tn=Mt-1,Qn=gt.length;++tn<Qn;)if(gt[tn]===Ut)return tn;return-1}(gt,Ut,Mt):Mf(gt,th,Mt)}function rj(gt,Ut,Mt,tn){for(var Qn=Mt-1,Gi=gt.length;++Qn<Gi;)if(tn(gt[Qn],Ut))return Qn;return-1}function th(gt){return gt!=gt}function Lm(gt,Ut){var Mt=null==gt?0:gt.length;return Mt?Bm(gt,Ut)/Mt:NaN}function nh(gt){return function(Ut){return null==Ut?A:Ut[gt]}}function $b(gt){return function(Ut){return null==gt?A:gt[Ut]}}function vx(gt,Ut,Mt,tn,Qn){return Qn(gt,function(Gi,so,ir){Mt=tn?(tn=!1,Gi):Ut(Mt,Gi,so,ir)}),Mt}function Bm(gt,Ut){for(var Mt,tn=-1,Qn=gt.length;++tn<Qn;){var Gi=Ut(gt[tn]);Gi!==A&&(Mt=Mt===A?Gi:Mt+Gi)}return Mt}function Zl(gt,Ut){for(var Mt=-1,tn=Array(gt);++Mt<gt;)tn[Mt]=Ut(Mt);return tn}function yl(gt){return gt&&gt.slice(0,Um(gt)+1).replace(sn,"")}function Ra(gt){return function(Ut){return gt(Ut)}}function et(gt,Ut){return Vr(Ut,function(Mt){return gt[Mt]})}function ih(gt,Ut){return gt.has(Ut)}function kt(gt,Ut){for(var Mt=-1,tn=gt.length;++Mt<tn&&If(Ut,gt[Mt],0)>-1;);return Mt}function Df(gt,Ut){for(var Mt=gt.length;Mt--&&If(Ut,gt[Mt],0)>-1;);return Mt}var Rf=$b({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),TM=$b({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function MM(gt){return"\\"+Vb[gt]}function rh(gt){return Ot.test(gt)}function sh(gt){var Ut=-1,Mt=Array(gt.size);return gt.forEach(function(tn,Qn){Mt[++Ut]=[Qn,tn]}),Mt}function wx(gt,Ut){return function(Mt){return gt(Ut(Mt))}}function ia(gt,Ut){for(var Mt=-1,tn=gt.length,Qn=0,Gi=[];++Mt<tn;){var so=gt[Mt];(so===Ut||so===R)&&(gt[Mt]=R,Gi[Qn++]=Mt)}return Gi}function jm(gt){var Ut=-1,Mt=Array(gt.size);return gt.forEach(function(tn){Mt[++Ut]=tn}),Mt}function vl(gt){return rh(gt)?function Ex(gt){for(var Ut=fx.lastIndex=0;fx.test(gt);)++Ut;return Ut}(gt):Li(gt)}function oa(gt){return rh(gt)?function sj(gt){return gt.match(fx)||[]}(gt):function Wb(gt){return gt.split("")}(gt)}function Um(gt){for(var Ut=gt.length;Ut--&&Ct.test(gt.charAt(Ut)););return Ut}var oj=$b({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),wl=function gt(Ut){var u,Mt=(Ut=null==Ut?To:wl.defaults(To.Object(),Ut,wl.pick(To,cn))).Array,tn=Ut.Date,Qn=Ut.Error,Gi=Ut.Function,so=Ut.Math,ir=Ut.Object,ch=Ut.RegExp,yc=Ut.String,mt=Ut.TypeError,Vm=Mt.prototype,ou=ir.prototype,Of=Ut["__core-js_shared__"],ed=Gi.prototype.toString,rr=ou.hasOwnProperty,Cx=0,Sx=(u=/[^.]+$/.exec(Of&&Of.keys&&Of.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",lh=ou.toString,RM=ed.call(ir),OM=To._,vc=ch("^"+ed.call(rr).replace(We,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zm=mx?Ut.Buffer:A,xl=Ut.Symbol,Hm=Ut.Uint8Array,Ax=zm?zm.allocUnsafe:A,Gm=wx(ir.getPrototypeOf,ir),Tx=ir.create,Kb=ou.propertyIsEnumerable,Wm=Vm.splice,Mx=xl?xl.isConcatSpreadable:A,kf=xl?xl.iterator:A,un=xl?xl.toStringTag:A,$m=function(){try{var u=yu(ir,"defineProperty");return u({},"",{}),u}catch{}}(),kM=Ut.clearTimeout!==To.clearTimeout&&Ut.clearTimeout,dn=tn&&tn.now!==To.Date.now&&tn.now,Ix=Ut.setTimeout!==To.setTimeout&&Ut.setTimeout,Zt=so.ceil,Mo=so.floor,yi=ir.getOwnPropertySymbols,Io=zm?zm.isBuffer:A,$o=Ut.isFinite,td=Vm.join,xs=wx(ir.keys,ir),_o=so.max,ls=so.min,qm=tn.now,PM=Ut.parseInt,Dx=so.random,Pf=Vm.reverse,Jb=yu(Ut,"DataView"),su=yu(Ut,"Map"),Ym=yu(Ut,"Promise"),El=yu(Ut,"Set"),Xm=yu(Ut,"WeakMap"),au=yu(ir,"create"),Km=Xm&&new Xm,nd={},Rx=vu(Jb),Ox=vu(su),cu=vu(Ym),NM=vu(El),Qb=vu(Xm),lu=xl?xl.prototype:A,Nf=lu?lu.valueOf:A,Jm=lu?lu.toString:A;function Re(u){if(lo(u)&&!hi(u)&&!(u instanceof Bi)){if(u instanceof sa)return u;if(rr.call(u,"__wrapped__"))return Cy(u)}return new sa(u)}var qo=function(){function u(){}return function(p){if(!to(p))return{};if(Tx)return Tx(p);u.prototype=p;var b=new u;return u.prototype=A,b}}();function Cl(){}function sa(u,p){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=A}function Bi(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function du(u){var p=-1,b=null==u?0:u.length;for(this.clear();++p<b;){var K=u[p];this.set(K[0],K[1])}}function $a(u){var p=-1,b=null==u?0:u.length;for(this.clear();++p<b;){var K=u[p];this.set(K[0],K[1])}}function Al(u){var p=-1,b=null==u?0:u.length;for(this.clear();++p<b;){var K=u[p];this.set(K[0],K[1])}}function uu(u){var p=-1,b=null==u?0:u.length;for(this.__data__=new Al;++p<b;)this.add(u[p])}function aa(u){var p=this.__data__=new $a(u);this.size=p.size}function ds(u,p){var b=hi(u),K=!b&&Ml(u),we=!b&&!K&&Il(u),Le=!b&&!K&&!we&&Sc(u),rt=b||K||we||Le,ut=rt?Zl(u.length,yc):[],_t=ut.length;for(var Ht in u)(p||rr.call(u,Ht))&&(!rt||!("length"==Ht||we&&("offset"==Ht||"parent"==Ht)||Le&&("buffer"==Ht||"byteLength"==Ht||"byteOffset"==Ht)||fa(Ht,_t)))&&ut.push(Ht);return ut}function ca(u){var p=u.length;return p?u[Hf(0,p-1)]:A}function hh(u,p){return np(ha(u),qa(p,0,u.length))}function Cr(u){return np(ha(u))}function Ro(u,p,b){(b!==A&&!ba(u[p],b)||b===A&&!(p in u))&&Zi(u,p,b)}function Ns(u,p,b){var K=u[p];(!rr.call(u,p)||!ba(K,b)||b===A&&!(p in u))&&Zi(u,p,b)}function Xn(u,p){for(var b=u.length;b--;)if(ba(u[b][0],p))return b;return-1}function Lf(u,p,b,K){return la(u,function(we,Le,rt){p(K,we,b(we),rt)}),K}function ty(u,p){return u&&Yc(p,us(p),u)}function Zi(u,p,b){"__proto__"==p&&$m?$m(u,p,{configurable:!0,enumerable:!0,value:b,writable:!0}):u[p]=b}function hu(u,p){for(var b=-1,K=p.length,we=Mt(K),Le=null==u;++b<K;)we[b]=Le?A:Eu(u,p[b]);return we}function qa(u,p,b){return u==u&&(b!==A&&(u=u<=b?u:b),p!==A&&(u=u>=p?u:p)),u}function bo(u,p,b,K,we,Le){var rt,ut=1&p,_t=2&p,Ht=4&p;if(b&&(rt=we?b(u,K,we,Le):b(u)),rt!==A)return rt;if(!to(u))return u;var $t=hi(u);if($t){if(rt=function hg(u){var p=u.length,b=new u.constructor(p);return p&&"string"==typeof u[0]&&rr.call(u,"index")&&(b.index=u.index,b.input=u.input),b}(u),!ut)return ha(u,rt)}else{var Kt=kr(u),pn=Kt==Je||Kt==de;if(Il(u))return ly(u,ut);if(Kt==k||Kt==Ke||pn&&!we){if(rt=_t||pn?{}:fg(u),!ut)return _t?function Ri(u,p){return Yc(u,mh(u),p)}(u,function fh(u,p){return u&&Yc(p,As(p),u)}(rt,u)):function Lt(u,p){return Yc(u,dg(u),p)}(u,ty(rt,u))}else{if(!_r[Kt])return we?u:{};rt=function eE(u,p,b){var K=u.constructor;switch(p){case pe:return $x(u);case C:case ie:return new K(+u);case V:return function rI(u,p){var b=p?$x(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.byteLength)}(u,b);case ne:case Fe:case st:case ft:case Tt:case An:case oi:case gi:case qn:return dy(u,b);case te:return new K;case U:case it:return new K(u);case Ee:return function oI(u){var p=new u.constructor(u.source,gc.exec(u));return p.lastIndex=u.lastIndex,p}(u);case Ve:return new K;case At:return function sI(u){return Nf?ir(Nf.call(u)):{}}(u)}}(u,Kt,ut)}}Le||(Le=new aa);var Ln=Le.get(u);if(Ln)return Ln;Le.set(u,rt),zy(u)?u.forEach(function(Zn){rt.add(bo(Zn,p,b,Zn,u,Le))}):Eh(u)&&u.forEach(function(Zn,Oi){rt.set(Oi,bo(Zn,p,b,Oi,u,Le))});var xi=$t?A:(Ht?_t?by:Kf:_t?As:us)(u);return go(xi||u,function(Zn,Oi){xi&&(Zn=u[Oi=Zn]),Ns(rt,Oi,bo(Zn,p,b,Oi,u,Le))}),rt}function ny(u,p,b){var K=b.length;if(null==u)return!K;for(u=ir(u);K--;){var we=b[K],rt=u[we];if(rt===A&&!(we in u)||!(0,p[we])(rt))return!1}return!0}function Tl(u,p,b){if("function"!=typeof u)throw new mt(_);return pa(function(){u.apply(A,b)},p)}function id(u,p,b,K){var we=-1,Le=Hi,rt=!0,ut=u.length,_t=[],Ht=p.length;if(!ut)return _t;b&&(p=Vr(p,Ra(b))),K?(Le=_x,rt=!1):p.length>=200&&(Le=ih,rt=!1,p=new uu(p));e:for(;++we<ut;){var $t=u[we],Kt=null==b?$t:b($t);if($t=K||0!==$t?$t:0,rt&&Kt==Kt){for(var pn=Ht;pn--;)if(p[pn]===Kt)continue e;_t.push($t)}else Le(p,Kt,K)||_t.push($t)}return _t}Re.templateSettings={escape:fo,evaluate:ea,interpolate:Jl,variable:"",imports:{_:Re}},(Re.prototype=Cl.prototype).constructor=Re,(sa.prototype=qo(Cl.prototype)).constructor=sa,(Bi.prototype=qo(Cl.prototype)).constructor=Bi,du.prototype.clear=function LM(){this.__data__=au?au(null):{},this.size=0},du.prototype.delete=function BM(u){var p=this.has(u)&&delete this.__data__[u];return this.size-=p?1:0,p},du.prototype.get=function Zb(u){var p=this.__data__;if(au){var b=p[u];return b===N?A:b}return rr.call(p,u)?p[u]:A},du.prototype.has=function Sl(u){var p=this.__data__;return au?p[u]!==A:rr.call(p,u)},du.prototype.set=function Px(u,p){var b=this.__data__;return this.size+=this.has(u)?0:1,b[u]=au&&p===A?N:p,this},$a.prototype.clear=function uh(){this.__data__=[],this.size=0},$a.prototype.delete=function jM(u){var p=this.__data__,b=Xn(p,u);return!(b<0||(b==p.length-1?p.pop():Wm.call(p,b,1),--this.size,0))},$a.prototype.get=function UM(u){var p=this.__data__,b=Xn(p,u);return b<0?A:p[b][1]},$a.prototype.has=function Do(u){return Xn(this.__data__,u)>-1},$a.prototype.set=function Nx(u,p){var b=this.__data__,K=Xn(b,u);return K<0?(++this.size,b.push([u,p])):b[K][1]=p,this},Al.prototype.clear=function Ff(){this.size=0,this.__data__={hash:new du,map:new(su||$a),string:new du}},Al.prototype.delete=function VM(u){var p=cg(this,u).delete(u);return this.size-=p?1:0,p},Al.prototype.get=function zM(u){return cg(this,u).get(u)},Al.prototype.has=function HM(u){return cg(this,u).has(u)},Al.prototype.set=function GM(u,p){var b=cg(this,u),K=b.size;return b.set(u,p),this.size+=b.size==K?0:1,this},uu.prototype.add=uu.prototype.push=function WM(u){return this.__data__.set(u,N),this},uu.prototype.has=function ey(u){return this.__data__.has(u)},aa.prototype.clear=function zr(){this.__data__=new $a,this.size=0},aa.prototype.delete=function an(u){var p=this.__data__,b=p.delete(u);return this.size=p.size,b},aa.prototype.get=function Hn(u){return this.__data__.get(u)},aa.prototype.has=function ao(u){return this.__data__.has(u)},aa.prototype.set=function wc(u,p){var b=this.__data__;if(b instanceof $a){var K=b.__data__;if(!su||K.length<199)return K.push([u,p]),this.size=++b.size,this;b=this.__data__=new Al(K)}return b.set(u,p),this.size=b.size,this};var la=or(Rr),ui=or(Yo,!0);function iy(u,p){var b=!0;return la(u,function(K,we,Le){return b=!!p(K,we,Le)}),b}function rd(u,p,b){for(var K=-1,we=u.length;++K<we;){var Le=u[K],rt=p(Le);if(null!=rt&&(ut===A?rt==rt&&!Bs(rt):b(rt,ut)))var ut=rt,_t=Le}return _t}function jf(u,p){var b=[];return la(u,function(K,we,Le){p(K,we,Le)&&b.push(K)}),b}function eo(u,p,b,K,we){var Le=-1,rt=u.length;for(b||(b=hI),we||(we=[]);++Le<rt;){var ut=u[Le];p>0&&b(ut)?p>1?eo(ut,p-1,b,K,we):Ql(we,ut):K||(we[we.length]=ut)}return we}var Xr=uy(),Qm=uy(!0);function Rr(u,p){return u&&Xr(u,p,us)}function Yo(u,p){return u&&Qm(u,p,us)}function ph(u,p){return Yn(p,function(b){return Qc(u[b])})}function ka(u,p){for(var b=0,K=(p=Ec(p,u)).length;null!=u&&b<K;)u=u[Ja(p[b++])];return b&&b==K?u:A}function Uf(u,p,b){var K=p(u);return hi(u)?K:Ql(K,b(u))}function Or(u){return null==u?u===A?"[object Undefined]":"[object Null]":un&&un in ir(u)?function Zx(u){var p=rr.call(u,un),b=u[un];try{u[un]=A;var K=!0}catch{}var we=lh.call(u);return K&&(p?u[un]=b:delete u[un]),we}(u):function xy(u){return lh.call(u)}(u)}function Vf(u,p){return u>p}function $M(u,p){return null!=u&&rr.call(u,p)}function qM(u,p){return null!=u&&p in ir(u)}function Zm(u,p,b){for(var K=b?_x:Hi,we=u[0].length,Le=u.length,rt=Le,ut=Mt(Le),_t=1/0,Ht=[];rt--;){var $t=u[rt];rt&&p&&($t=Vr($t,Ra(p))),_t=ls($t.length,_t),ut[rt]=!b&&(p||we>=120&&$t.length>=120)?new uu(rt&&$t):A}$t=u[0];var Kt=-1,pn=ut[0];e:for(;++Kt<we&&Ht.length<_t;){var Ln=$t[Kt],Kn=p?p(Ln):Ln;if(Ln=b||0!==Ln?Ln:0,!(pn?ih(pn,Kn):K(Ht,Kn,b))){for(rt=Le;--rt;){var xi=ut[rt];if(!(xi?ih(xi,Kn):K(u[rt],Kn,b)))continue e}pn&&pn.push(Kn),Ht.push(Ln)}}return Ht}function fu(u,p,b){var K=null==(u=_I(u,p=Ec(p,u)))?u:u[Ja(Qa(p))];return null==K?A:ks(K,u,b)}function XM(u){return lo(u)&&Or(u)==Ke}function eg(u,p,b,K,we){return u===p||(null==u||null==p||!lo(u)&&!lo(p)?u!=u&&p!=p:function lj(u,p,b,K,we,Le){var rt=hi(u),ut=hi(p),_t=rt?fe:kr(u),Ht=ut?fe:kr(p),$t=(_t=_t==Ke?k:_t)==k,Kt=(Ht=Ht==Ke?k:Ht)==k,pn=_t==Ht;if(pn&&Il(u)){if(!Il(p))return!1;rt=!0,$t=!1}if(pn&&!$t)return Le||(Le=new aa),rt||Sc(u)?_y(u,p,b,K,we,Le):function Jx(u,p,b,K,we,Le,rt){switch(b){case V:if(u.byteLength!=p.byteLength||u.byteOffset!=p.byteOffset)return!1;u=u.buffer,p=p.buffer;case pe:return!(u.byteLength!=p.byteLength||!Le(new Hm(u),new Hm(p)));case C:case ie:case U:return ba(+u,+p);case He:return u.name==p.name&&u.message==p.message;case Ee:case it:return u==p+"";case te:var ut=sh;case Ve:if(ut||(ut=jm),u.size!=p.size&&!(1&K))return!1;var Ht=rt.get(u);if(Ht)return Ht==p;K|=2,rt.set(u,p);var $t=_y(ut(u),ut(p),K,we,Le,rt);return rt.delete(u),$t;case At:if(Nf)return Nf.call(u)==Nf.call(p)}return!1}(u,p,_t,b,K,we,Le);if(!(1&b)){var Ln=$t&&rr.call(u,"__wrapped__"),Kn=Kt&&rr.call(p,"__wrapped__");if(Ln||Kn){var xi=Ln?u.value():u,Zn=Kn?p.value():p;return Le||(Le=new aa),we(xi,Zn,b,K,Le)}}return!!pn&&(Le||(Le=new aa),function Qx(u,p,b,K,we,Le){var rt=1&b,ut=Kf(u),_t=ut.length;if(_t!=Kf(p).length&&!rt)return!1;for(var Kt=_t;Kt--;){var pn=ut[Kt];if(!(rt?pn in p:rr.call(p,pn)))return!1}var Ln=Le.get(u),Kn=Le.get(p);if(Ln&&Kn)return Ln==p&&Kn==u;var xi=!0;Le.set(u,p),Le.set(p,u);for(var Zn=rt;++Kt<_t;){var Oi=u[pn=ut[Kt]],ji=p[pn];if(K)var va=rt?K(ji,Oi,pn,p,u,Le):K(Oi,ji,pn,u,p,Le);if(!(va===A?Oi===ji||we(Oi,ji,b,K,Le):va)){xi=!1;break}Zn||(Zn="constructor"==pn)}if(xi&&!Zn){var jn=u.constructor,dt=p.constructor;jn!=dt&&"constructor"in u&&"constructor"in p&&!("function"==typeof jn&&jn instanceof jn&&"function"==typeof dt&&dt instanceof dt)&&(xi=!1)}return Le.delete(u),Le.delete(p),xi}(u,p,b,K,we,Le))}(u,p,b,K,eg,we))}function Fx(u,p,b,K){var we=b.length,Le=we,rt=!K;if(null==u)return!Le;for(u=ir(u);we--;){var ut=b[we];if(rt&&ut[2]?ut[1]!==u[ut[0]]:!(ut[0]in u))return!1}for(;++we<Le;){var _t=(ut=b[we])[0],Ht=u[_t],$t=ut[1];if(rt&&ut[2]){if(Ht===A&&!(_t in u))return!1}else{var Kt=new aa;if(K)var pn=K(Ht,$t,_t,u,p,Kt);if(!(pn===A?eg($t,Ht,3,K,Kt):pn))return!1}}return!0}function KM(u){return!(!to(u)||function fI(u){return!!Sx&&Sx in u}(u))&&(Qc(u)?vc:vs).test(vu(u))}function JM(u){return"function"==typeof u?u:null==u?Sr:"object"==typeof u?hi(u)?eI(u[0],u[1]):ZM(u):uC(u)}function tg(u){if(!pg(u))return xs(u);var p=[];for(var b in ir(u))rr.call(u,b)&&"constructor"!=b&&p.push(b);return p}function Bx(u,p){return u<p}function QM(u,p){var b=-1,K=Ss(u)?Mt(u.length):[];return la(u,function(we,Le,rt){K[++b]=p(we,Le,rt)}),K}function ZM(u){var p=lg(u);return 1==p.length&&p[0][2]?mg(p[0][0],p[0][1]):function(b){return b===u||Fx(b,u,p)}}function eI(u,p){return yy(u)&&mI(p)?mg(Ja(u),p):function(b){var K=Eu(b,u);return K===A&&K===p?Ng(b,u):eg(p,K,3)}}function zf(u,p,b,K,we){u!==p&&Xr(p,function(Le,rt){if(we||(we=new aa),to(Le))!function jx(u,p,b,K,we,Le,rt){var ut=gg(u,b),_t=gg(p,b),Ht=rt.get(_t);if(Ht)Ro(u,b,Ht);else{var $t=Le?Le(ut,_t,b+"",u,p,rt):A,Kt=$t===A;if(Kt){var pn=hi(_t),Ln=!pn&&Il(_t),Kn=!pn&&!Ln&&Sc(_t);$t=_t,pn||Ln||Kn?hi(ut)?$t=ut:Pr(ut)?$t=ha(ut):Ln?(Kt=!1,$t=ly(_t,!0)):Kn?(Kt=!1,$t=dy(_t,!0)):$t=[]:ad(_t)||Ml(_t)?($t=ut,Ml(ut)?$t=HE(ut):(!to(ut)||Qc(ut))&&($t=fg(_t))):Kt=!1}Kt&&(rt.set(_t,$t),we($t,_t,K,Le,rt),rt.delete(_t)),Ro(u,b,$t)}}(u,p,rt,b,zf,K,we);else{var ut=K?K(gg(u,rt),Le,rt+"",u,p,we):A;ut===A&&(ut=Le),Ro(u,rt,ut)}},As)}function br(u,p){var b=u.length;if(b)return fa(p+=p<0?b:0,b)?u[p]:A}function oy(u,p,b){p=p.length?Vr(p,function(Le){return hi(Le)?function(rt){return ka(rt,1===Le.length?Le[0]:Le)}:Le}):[Sr];var K=-1;return p=Vr(p,Ra(Vn())),function SM(gt,Ut){var Mt=gt.length;for(gt.sort(Ut);Mt--;)gt[Mt]=gt[Mt].value;return gt}(QM(u,function(Le,rt,ut){return{criteria:Vr(p,function(Ht){return Ht(Le)}),index:++K,value:Le}}),function(Le,rt){return function aI(u,p,b){for(var K=-1,we=u.criteria,Le=p.criteria,rt=we.length,ut=b.length;++K<rt;){var _t=_u(we[K],Le[K]);if(_t)return K>=ut?_t:_t*("desc"==b[K]?-1:1)}return u.index-p.index}(Le,rt,b)})}function Ux(u,p,b){for(var K=-1,we=p.length,Le={};++K<we;){var rt=p[K],ut=ka(u,rt);b(ut,rt)&&Gf(Le,Ec(rt,u),ut)}return Le}function ng(u,p,b,K){var we=K?rj:If,Le=-1,rt=p.length,ut=u;for(u===p&&(p=ha(p)),b&&(ut=Vr(u,Ra(b)));++Le<rt;)for(var _t=0,Ht=p[Le],$t=b?b(Ht):Ht;(_t=we(ut,$t,_t,K))>-1;)ut!==u&&Wm.call(ut,_t,1),Wm.call(u,_t,1);return u}function zx(u,p){for(var b=u?p.length:0,K=b-1;b--;){var we=p[b];if(b==K||we!==Le){var Le=we;fa(we)?Wm.call(u,we,1):ay(u,we)}}return u}function Hf(u,p){return u+Mo(Dx()*(p-u+1))}function Ya(u,p){var b="";if(!u||p<1||p>je)return b;do{p%2&&(b+=u),(p=Mo(p/2))&&(u+=u)}while(p);return b}function vi(u,p){return Ey(ep(u,p,Sr),u+"")}function Hx(u){return ca(Ch(u))}function Gx(u,p){var b=Ch(u);return np(b,qa(p,0,b.length))}function Gf(u,p,b,K){if(!to(u))return u;for(var we=-1,Le=(p=Ec(p,u)).length,rt=Le-1,ut=u;null!=ut&&++we<Le;){var _t=Ja(p[we]),Ht=b;if("__proto__"===_t||"constructor"===_t||"prototype"===_t)return u;if(we!=rt){var $t=ut[_t];(Ht=K?K($t,_t,ut):A)===A&&(Ht=to($t)?$t:fa(p[we+1])?[]:{})}Ns(ut,_t,Ht),ut=ut[_t]}return u}var iI=Km?function(u,p){return Km.set(u,p),u}:Sr,pr=$m?function(u,p){return $m(u,"toString",{configurable:!0,enumerable:!1,value:bp(p),writable:!0})}:Sr;function sy(u){return np(Ch(u))}function Es(u,p,b){var K=-1,we=u.length;p<0&&(p=-p>we?0:we+p),(b=b>we?we:b)<0&&(b+=we),we=p>b?0:b-p>>>0,p>>>=0;for(var Le=Mt(we);++K<we;)Le[K]=u[K+p];return Le}function Fs(u,p){var b;return la(u,function(K,we,Le){return!(b=p(K,we,Le))}),!!b}function ig(u,p,b){var K=0,we=null==u?K:u.length;if("number"==typeof p&&p==p&&we<=2147483647){for(;K<we;){var Le=K+we>>>1,rt=u[Le];null!==rt&&!Bs(rt)&&(b?rt<=p:rt<p)?K=Le+1:we=Le}return we}return pu(u,p,Sr,b)}function pu(u,p,b,K){var we=0,Le=null==u?0:u.length;if(0===Le)return 0;for(var rt=(p=b(p))!=p,ut=null===p,_t=Bs(p),Ht=p===A;we<Le;){var $t=Mo((we+Le)/2),Kt=b(u[$t]),pn=Kt!==A,Ln=null===Kt,Kn=Kt==Kt,xi=Bs(Kt);if(rt)var Zn=K||Kn;else Zn=Ht?Kn&&(K||pn):ut?Kn&&pn&&(K||!Ln):_t?Kn&&pn&&!Ln&&(K||!xi):!Ln&&!xi&&(K?Kt<=p:Kt<p);Zn?we=$t+1:Le=$t}return ls(Le,4294967294)}function mu(u,p){for(var b=-1,K=u.length,we=0,Le=[];++b<K;){var rt=u[b],ut=p?p(rt):rt;if(!b||!ba(ut,_t)){var _t=ut;Le[we++]=0===rt?0:rt}}return Le}function da(u){return"number"==typeof u?u:Bs(u)?NaN:+u}function Pa(u){if("string"==typeof u)return u;if(hi(u))return Vr(u,Pa)+"";if(Bs(u))return Jm?Jm.call(u):"";var p=u+"";return"0"==p&&1/u==-Te?"-0":p}function qc(u,p,b){var K=-1,we=Hi,Le=u.length,rt=!0,ut=[],_t=ut;if(b)rt=!1,we=_x;else if(Le>=200){var Ht=p?null:py(u);if(Ht)return jm(Ht);rt=!1,we=ih,_t=new uu}else _t=p?[]:ut;e:for(;++K<Le;){var $t=u[K],Kt=p?p($t):$t;if($t=b||0!==$t?$t:0,rt&&Kt==Kt){for(var pn=_t.length;pn--;)if(_t[pn]===Kt)continue e;p&&_t.push(Kt),ut.push($t)}else we(_t,Kt,b)||(_t!==ut&&_t.push(Kt),ut.push($t))}return ut}function ay(u,p){return null==(u=_I(u,p=Ec(p,u)))||delete u[Ja(Qa(p))]}function xc(u,p,b,K){return Gf(u,p,b(ka(u,p)),K)}function Wf(u,p,b,K){for(var we=u.length,Le=K?we:-1;(K?Le--:++Le<we)&&p(u[Le],Le,u););return b?Es(u,K?0:Le,K?Le+1:we):Es(u,K?Le+1:0,K?we:Le)}function Wx(u,p){var b=u;return b instanceof Bi&&(b=b.value()),bx(p,function(K,we){return we.func.apply(we.thisArg,Ql([K],we.args))},b)}function rg(u,p,b){var K=u.length;if(K<2)return K?qc(u[0]):[];for(var we=-1,Le=Mt(K);++we<K;)for(var rt=u[we],ut=-1;++ut<K;)ut!=we&&(Le[we]=id(Le[we]||rt,u[ut],p,b));return qc(eo(Le,1),p,b)}function og(u,p,b){for(var K=-1,we=u.length,Le=p.length,rt={};++K<we;)b(rt,u[K],K<Le?p[K]:A);return rt}function $f(u){return Pr(u)?u:[]}function gu(u){return"function"==typeof u?u:Sr}function Ec(u,p){return hi(u)?u:yy(u,p)?[u]:ip(sr(u))}var cy=vi;function ua(u,p,b){var K=u.length;return b=b===A?K:b,!p&&b>=K?u:Es(u,p,b)}var ii=kM||function(u){return To.clearTimeout(u)};function ly(u,p){if(p)return u.slice();var b=u.length,K=Ax?Ax(b):new u.constructor(b);return u.copy(K),K}function $x(u){var p=new u.constructor(u.byteLength);return new Hm(p).set(new Hm(u)),p}function dy(u,p){var b=p?$x(u.buffer):u.buffer;return new u.constructor(b,u.byteOffset,u.length)}function _u(u,p){if(u!==p){var b=u!==A,K=null===u,we=u==u,Le=Bs(u),rt=p!==A,ut=null===p,_t=p==p,Ht=Bs(p);if(!ut&&!Ht&&!Le&&u>p||Le&&rt&&_t&&!ut&&!Ht||K&&rt&&_t||!b&&_t||!we)return 1;if(!K&&!Le&&!Ht&&u<p||Ht&&b&&we&&!K&&!Le||ut&&b&&we||!rt&&we||!_t)return-1}return 0}function qx(u,p,b,K){for(var we=-1,Le=u.length,rt=b.length,ut=-1,_t=p.length,Ht=_o(Le-rt,0),$t=Mt(_t+Ht),Kt=!K;++ut<_t;)$t[ut]=p[ut];for(;++we<rt;)(Kt||we<Le)&&($t[b[we]]=u[we]);for(;Ht--;)$t[ut++]=u[we++];return $t}function Yx(u,p,b,K){for(var we=-1,Le=u.length,rt=-1,ut=b.length,_t=-1,Ht=p.length,$t=_o(Le-ut,0),Kt=Mt($t+Ht),pn=!K;++we<$t;)Kt[we]=u[we];for(var Ln=we;++_t<Ht;)Kt[Ln+_t]=p[_t];for(;++rt<ut;)(pn||we<Le)&&(Kt[Ln+b[rt]]=u[we++]);return Kt}function ha(u,p){var b=-1,K=u.length;for(p||(p=Mt(K));++b<K;)p[b]=u[b];return p}function Yc(u,p,b,K){var we=!b;b||(b={});for(var Le=-1,rt=p.length;++Le<rt;){var ut=p[Le],_t=K?K(b[ut],u[ut],ut,b,u):A;_t===A&&(_t=u[ut]),we?Zi(b,ut,_t):Ns(b,ut,_t)}return b}function fn(u,p){return function(b,K){var we=hi(b)?gx:Lf,Le=p?p():{};return we(b,u,Vn(K,2),Le)}}function hn(u){return vi(function(p,b){var K=-1,we=b.length,Le=we>1?b[we-1]:A,rt=we>2?b[2]:A;for(Le=u.length>3&&"function"==typeof Le?(we--,Le):A,rt&&Oo(b[0],b[1],rt)&&(Le=we<3?A:Le,we=1),p=ir(p);++K<we;){var ut=b[K];ut&&u(p,ut,K,Le)}return p})}function or(u,p){return function(b,K){if(null==b)return b;if(!Ss(b))return u(b,K);for(var we=b.length,Le=p?we:-1,rt=ir(b);(p?Le--:++Le<we)&&!1!==K(rt[Le],Le,rt););return b}}function uy(u){return function(p,b,K){for(var we=-1,Le=ir(p),rt=K(p),ut=rt.length;ut--;){var _t=rt[u?ut:++we];if(!1===b(Le[_t],_t,Le))break}return p}}function Cc(u){return function(p){var b=rh(p=sr(p))?oa(p):A,K=b?b[0]:p.charAt(0),we=b?ua(b,1).join(""):p.slice(1);return K[u]()+we}}function od(u){return function(p){return bx(gp(nC(p).replace(ej,"")),u,"")}}function bu(u){return function(){var p=arguments;switch(p.length){case 0:return new u;case 1:return new u(p[0]);case 2:return new u(p[0],p[1]);case 3:return new u(p[0],p[1],p[2]);case 4:return new u(p[0],p[1],p[2],p[3]);case 5:return new u(p[0],p[1],p[2],p[3],p[4]);case 6:return new u(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new u(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var b=qo(u.prototype),K=u.apply(b,p);return to(K)?K:b}}function lI(u){return function(p,b,K){var we=ir(p);if(!Ss(p)){var Le=Vn(b,3);p=us(p),b=function(ut){return Le(we[ut],ut,we)}}var rt=u(p,b,K);return rt>-1?we[Le?p[rt]:rt]:A}}function hy(u){return Kc(function(p){var b=p.length,K=b,we=sa.prototype.thru;for(u&&p.reverse();K--;){var Le=p[K];if("function"!=typeof Le)throw new mt(_);if(we&&!rt&&"wrapper"==Jc(Le))var rt=new sa([],!0)}for(K=rt?K:b;++K<b;){var ut=Jc(Le=p[K]),_t="wrapper"==ut?Ko(Le):A;rt=_t&&wy(_t[0])&&424==_t[1]&&!_t[4].length&&1==_t[9]?rt[Jc(_t[0])].apply(rt,_t[3]):1==Le.length&&wy(Le)?rt[ut]():rt.thru(Le)}return function(){var Ht=arguments,$t=Ht[0];if(rt&&1==Ht.length&&hi($t))return rt.plant($t).value();for(var Kt=0,pn=b?p[Kt].apply(this,Ht):$t;++Kt<b;)pn=p[Kt].call(this,pn);return pn}})}function Xo(u,p,b,K,we,Le,rt,ut,_t,Ht){var $t=p&T,Kt=1&p,pn=2&p,Ln=24&p,Kn=512&p,xi=pn?A:bu(u);return function Zn(){for(var Oi=arguments.length,ji=Mt(Oi),va=Oi;va--;)ji[va]=arguments[va];if(Ln)var jn=er(Zn),dt=function qb(gt,Ut){for(var Mt=gt.length,tn=0;Mt--;)gt[Mt]===Ut&&++tn;return tn}(ji,jn);if(K&&(ji=qx(ji,K,we,Ln)),Le&&(ji=Yx(ji,Le,rt,Ln)),Oi-=dt,Ln&&Oi<Ht){var no=ia(ji,jn);return Xx(u,p,Xo,Zn.placeholder,b,ji,no,ut,_t,Ht-Oi)}var Ae=Kt?b:this,Ac=pn?Ae[u]:u;return Oi=ji.length,ut?ji=function nE(u,p){for(var b=u.length,K=ls(p.length,b),we=ha(u);K--;){var Le=p[K];u[K]=fa(Le,b)?we[Le]:A}return u}(ji,ut):Kn&&Oi>1&&ji.reverse(),$t&&_t<Oi&&(ji.length=_t),this&&this!==To&&this instanceof Zn&&(Ac=xi||bu(Ac)),Ac.apply(Ae,ji)}}function Xc(u,p){return function(b,K){return function YM(u,p,b,K){return Rr(u,function(we,Le,rt){p(K,b(we),Le,rt)}),K}(b,u,p(K),{})}}function Yf(u,p){return function(b,K){var we;if(b===A&&K===A)return p;if(b!==A&&(we=b),K!==A){if(we===A)return K;"string"==typeof b||"string"==typeof K?(b=Pa(b),K=Pa(K)):(b=da(b),K=da(K)),we=u(b,K)}return we}}function Na(u){return Kc(function(p){return p=Vr(p,Ra(Vn())),vi(function(b){var K=this;return u(p,function(we){return ks(we,K,b)})})})}function Xa(u,p){var b=(p=p===A?" ":Pa(p)).length;if(b<2)return b?Ya(p,u):p;var K=Ya(p,Zt(u/vl(p)));return rh(p)?ua(oa(K),0,u).join(""):K.slice(0,u)}function fy(u){return function(p,b,K){return K&&"number"!=typeof K&&Oo(p,b,K)&&(b=K=A),p=Zc(p),b===A?(b=p,p=0):b=Zc(b),function nI(u,p,b,K){for(var we=-1,Le=_o(Zt((p-u)/(b||1)),0),rt=Mt(Le);Le--;)rt[K?Le:++we]=u,u+=b;return rt}(p,b,K=K===A?p<b?1:-1:Zc(K),u)}}function sg(u){return function(p,b){return"string"==typeof p&&"string"==typeof b||(p=Za(p),b=Za(b)),u(p,b)}}function Xx(u,p,b,K,we,Le,rt,ut,_t,Ht){var $t=8&p;p|=$t?y:64,4&(p&=~($t?64:y))||(p&=-4);var xi=[u,p,we,$t?Le:A,$t?rt:A,$t?A:Le,$t?A:rt,ut,_t,Ht],Zn=b.apply(A,xi);return wy(u)&&iE(Zn,xi),Zn.placeholder=K,tp(Zn,u,p)}function Xf(u){var p=so[u];return function(b,K){if(b=Za(b),(K=null==K?0:ls(_i(K),292))&&$o(b)){var we=(sr(b)+"e").split("e");return+((we=(sr(p(we[0]+"e"+(+we[1]+K)))+"e").split("e"))[0]+"e"+(+we[1]-K))}return p(b)}}var py=El&&1/jm(new El([,-0]))[1]==Te?function(u){return new El(u)}:Bg;function ag(u){return function(p){var b=kr(p);return b==te?sh(p):b==Ve?function ra(gt){var Ut=-1,Mt=Array(gt.size);return gt.forEach(function(tn){Mt[++Ut]=[tn,tn]}),Mt}(p):function AM(gt,Ut){return Vr(Ut,function(Mt){return[Mt,gt[Mt]]})}(p,u(p))}}function Ka(u,p,b,K,we,Le,rt,ut){var _t=2&p;if(!_t&&"function"!=typeof u)throw new mt(_);var Ht=K?K.length:0;if(Ht||(p&=-97,K=we=A),rt=rt===A?rt:_o(_i(rt),0),ut=ut===A?ut:_i(ut),Ht-=we?we.length:0,64&p){var $t=K,Kt=we;K=we=A}var pn=_t?A:Ko(u),Ln=[u,p,b,K,we,$t,Kt,Le,rt,ut];if(pn&&function gI(u,p){var b=u[1],K=p[1],we=b|K;if(!(we<131)&&!(K==T&&8==b||K==T&&256==b&&u[7].length<=p[8]||384==K&&p[7].length<=p[8]&&8==b))return u;1&K&&(u[2]=p[2],we|=1&b?0:4);var ut=p[3];if(ut){var _t=u[3];u[3]=_t?qx(_t,ut,p[4]):ut,u[4]=_t?ia(u[3],R):p[4]}(ut=p[5])&&(u[5]=(_t=u[5])?Yx(_t,ut,p[6]):ut,u[6]=_t?ia(u[5],R):p[6]),(ut=p[7])&&(u[7]=ut),K&T&&(u[8]=null==u[8]?p[8]:ls(u[8],p[8])),null==u[9]&&(u[9]=p[9]),u[0]=p[0],u[1]=we}(Ln,pn),u=Ln[0],p=Ln[1],b=Ln[2],K=Ln[3],we=Ln[4],!(ut=Ln[9]=Ln[9]===A?_t?0:u.length:_o(Ln[9]-Ht,0))&&24&p&&(p&=-25),p&&1!=p)Kn=8==p||16==p?function cI(u,p,b){var K=bu(u);return function we(){for(var Le=arguments.length,rt=Mt(Le),ut=Le,_t=er(we);ut--;)rt[ut]=arguments[ut];var Ht=Le<3&&rt[0]!==_t&&rt[Le-1]!==_t?[]:ia(rt,_t);return(Le-=Ht.length)<b?Xx(u,p,Xo,we.placeholder,A,rt,Ht,A,A,b-Le):ks(this&&this!==To&&this instanceof we?K:u,this,rt)}}(u,p,ut):p!=y&&33!=p||we.length?Xo.apply(A,Ln):function dI(u,p,b,K){var we=1&p,Le=bu(u);return function rt(){for(var ut=-1,_t=arguments.length,Ht=-1,$t=K.length,Kt=Mt($t+_t),pn=this&&this!==To&&this instanceof rt?Le:u;++Ht<$t;)Kt[Ht]=K[Ht];for(;_t--;)Kt[Ht++]=arguments[++ut];return ks(pn,we?b:this,Kt)}}(u,p,b,K);else var Kn=function qf(u,p,b){var K=1&p,we=bu(u);return function Le(){return(this&&this!==To&&this instanceof Le?we:u).apply(K?b:this,arguments)}}(u,p,b);return tp((pn?iI:iE)(Kn,Ln),u,p)}function Kx(u,p,b,K){return u===A||ba(u,ou[b])&&!rr.call(K,b)?p:u}function my(u,p,b,K,we,Le){return to(u)&&to(p)&&(Le.set(p,u),zf(u,p,A,my,Le),Le.delete(p)),u}function gy(u){return ad(u)?A:u}function _y(u,p,b,K,we,Le){var rt=1&b,ut=u.length,_t=p.length;if(ut!=_t&&!(rt&&_t>ut))return!1;var Ht=Le.get(u),$t=Le.get(p);if(Ht&&$t)return Ht==p&&$t==u;var Kt=-1,pn=!0,Ln=2&b?new uu:A;for(Le.set(u,p),Le.set(p,u);++Kt<ut;){var Kn=u[Kt],xi=p[Kt];if(K)var Zn=rt?K(xi,Kn,Kt,p,u,Le):K(Kn,xi,Kt,u,p,Le);if(Zn!==A){if(Zn)continue;pn=!1;break}if(Ln){if(!Tf(p,function(Oi,ji){if(!ih(Ln,ji)&&(Kn===Oi||we(Kn,Oi,b,K,Le)))return Ln.push(ji)})){pn=!1;break}}else if(Kn!==xi&&!we(Kn,xi,b,K,Le)){pn=!1;break}}return Le.delete(u),Le.delete(p),pn}function Kc(u){return Ey(ep(u,A,yg),u+"")}function Kf(u){return Uf(u,us,dg)}function by(u){return Uf(u,As,mh)}var Ko=Km?function(u){return Km.get(u)}:Bg;function Jc(u){for(var p=u.name+"",b=nd[p],K=rr.call(nd,p)?b.length:0;K--;){var we=b[K],Le=we.func;if(null==Le||Le==u)return we.name}return p}function er(u){return(rr.call(Re,"placeholder")?Re:u).placeholder}function Vn(){var u=Re.iteratee||el;return u=u===el?JM:u,arguments.length?u(arguments[0],arguments[1]):u}function cg(u,p){var b=u.__data__;return function vy(u){var p=typeof u;return"string"==p||"number"==p||"symbol"==p||"boolean"==p?"__proto__"!==u:null===u}(p)?b["string"==typeof p?"string":"hash"]:b.map}function lg(u){for(var p=us(u),b=p.length;b--;){var K=p[b],we=u[K];p[b]=[K,we,mI(we)]}return p}function yu(u,p){var b=function IM(gt,Ut){return null==gt?A:gt[Ut]}(u,p);return KM(b)?b:A}var dg=yi?function(u){return null==u?[]:(u=ir(u),Yn(yi(u),function(p){return Kb.call(u,p)}))}:yp,mh=yi?function(u){for(var p=[];u;)Ql(p,dg(u)),u=Gm(u);return p}:yp,kr=Or;function Jf(u,p,b){for(var K=-1,we=(p=Ec(p,u)).length,Le=!1;++K<we;){var rt=Ja(p[K]);if(!(Le=null!=u&&b(u,rt)))break;u=u[rt]}return Le||++K!=we?Le:!!(we=null==u?0:u.length)&&Dg(we)&&fa(rt,we)&&(hi(u)||Ml(u))}function fg(u){return"function"!=typeof u.constructor||pg(u)?{}:qo(Gm(u))}function hI(u){return hi(u)||Ml(u)||!!(Mx&&u&&u[Mx])}function fa(u,p){var b=typeof u;return!!(p=p??je)&&("number"==b||"symbol"!=b&&Os.test(u))&&u>-1&&u%1==0&&u<p}function Oo(u,p,b){if(!to(b))return!1;var K=typeof p;return!!("number"==K?Ss(b)&&fa(p,b.length):"string"==K&&p in b)&&ba(b[p],u)}function yy(u,p){if(hi(u))return!1;var b=typeof u;return!("number"!=b&&"symbol"!=b&&"boolean"!=b&&null!=u&&!Bs(u))||bl.test(u)||!Hc.test(u)||null!=p&&u in ir(p)}function wy(u){var p=Jc(u),b=Re[p];if("function"!=typeof b||!(p in Bi.prototype))return!1;if(u===b)return!0;var K=Ko(b);return!!K&&u===K[0]}(Jb&&kr(new Jb(new ArrayBuffer(1)))!=V||su&&kr(new su)!=te||Ym&&kr(Ym.resolve())!=he||El&&kr(new El)!=Ve||Xm&&kr(new Xm)!=It)&&(kr=function(u){var p=Or(u),b=p==k?u.constructor:A,K=b?vu(b):"";if(K)switch(K){case Rx:return V;case Ox:return te;case cu:return he;case NM:return Ve;case Qb:return It}return p});var pI=Of?Qc:Mh;function pg(u){var p=u&&u.constructor;return u===("function"==typeof p&&p.prototype||ou)}function mI(u){return u==u&&!to(u)}function mg(u,p){return function(b){return null!=b&&b[u]===p&&(p!==A||u in ir(b))}}function ep(u,p,b){return p=_o(p===A?u.length-1:p,0),function(){for(var K=arguments,we=-1,Le=_o(K.length-p,0),rt=Mt(Le);++we<Le;)rt[we]=K[p+we];we=-1;for(var ut=Mt(p+1);++we<p;)ut[we]=K[we];return ut[p]=b(rt),ks(u,this,ut)}}function _I(u,p){return p.length<2?u:ka(u,Es(p,0,-1))}function gg(u,p){if(("constructor"!==p||"function"!=typeof u[p])&&"__proto__"!=p)return u[p]}var iE=_g(iI),pa=Ix||function(u,p){return To.setTimeout(u,p)},Ey=_g(pr);function tp(u,p,b){var K=p+"";return Ey(u,function tE(u,p){var b=p.length;if(!b)return u;var K=b-1;return p[K]=(b>1?"& ":"")+p[K],p=p.join(b>2?", ":" "),u.replace(Tn,"{\n/* [wrapped with "+p+"] */\n")}(K,function rE(u,p){return go(bt,function(b){var K="_."+b[0];p&b[1]&&!Hi(u,K)&&u.push(K)}),u.sort()}(function ug(u){var p=u.match(Ur);return p?p[1].split(Go):[]}(K),b)))}function _g(u){var p=0,b=0;return function(){var K=qm(),we=16-(K-b);if(b=K,we>0){if(++p>=800)return arguments[0]}else p=0;return u.apply(A,arguments)}}function np(u,p){var b=-1,K=u.length,we=K-1;for(p=p===A?K:p;++b<p;){var Le=Hf(b,we),rt=u[Le];u[Le]=u[b],u[b]=rt}return u.length=p,u}var ip=function Qf(u){var p=Tg(u,function(K){return 500===b.size&&b.clear(),K}),b=p.cache;return p}(function(u){var p=[];return 46===u.charCodeAt(0)&&p.push(""),u.replace(Gc,function(b,K,we,Le){p.push(we?Le.replace(mc,"$1"):K||b)}),p});function Ja(u){if("string"==typeof u||Bs(u))return u;var p=u+"";return"0"==p&&1/u==-Te?"-0":p}function vu(u){if(null!=u){try{return ed.call(u)}catch{}try{return u+""}catch{}}return""}function Cy(u){if(u instanceof Bi)return u.clone();var p=new sa(u.__wrapped__,u.__chain__);return p.__actions__=ha(u.__actions__),p.__index__=u.__index__,p.__values__=u.__values__,p}var bg=vi(function(u,p){return Pr(u)?id(u,eo(p,1,Pr,!0)):[]}),wu=vi(function(u,p){var b=Qa(p);return Pr(b)&&(b=A),Pr(u)?id(u,eo(p,1,Pr,!0),Vn(b,2)):[]}),yI=vi(function(u,p){var b=Qa(p);return Pr(b)&&(b=A),Pr(u)?id(u,eo(p,1,Pr,!0),A,b):[]});function lE(u,p,b){var K=null==u?0:u.length;if(!K)return-1;var we=null==b?0:_i(b);return we<0&&(we=_o(K+we,0)),Mf(u,Vn(p,3),we)}function Wi(u,p,b){var K=null==u?0:u.length;if(!K)return-1;var we=K-1;return b!==A&&(we=_i(b),we=b<0?_o(K+we,0):ls(we,K-1)),Mf(u,Vn(p,3),we,!0)}function yg(u){return null!=u&&u.length?eo(u,1):[]}function uE(u){return u&&u.length?u[0]:A}var vg=vi(function(u){var p=Vr(u,$f);return p.length&&p[0]===u[0]?Zm(p):[]}),fE=vi(function(u){var p=Qa(u),b=Vr(u,$f);return p===Qa(b)?p=A:b.pop(),b.length&&b[0]===u[0]?Zm(b,Vn(p,2)):[]}),wI=vi(function(u){var p=Qa(u),b=Vr(u,$f);return(p="function"==typeof p?p:A)&&b.pop(),b.length&&b[0]===u[0]?Zm(b,A,p):[]});function Qa(u){var p=null==u?0:u.length;return p?u[p-1]:A}var mE=vi(gE);function gE(u,p){return u&&u.length&&p&&p.length?ng(u,p):u}var _E=Kc(function(u,p){var b=null==u?0:u.length,K=hu(u,p);return zx(u,Vr(p,function(we){return fa(we,b)?+we:we}).sort(_u)),K});function wi(u){return null==u?u:Pf.call(u)}var wj=vi(function(u){return qc(eo(u,1,Pr,!0))}),TI=vi(function(u){var p=Qa(u);return Pr(p)&&(p=A),qc(eo(u,1,Pr,!0),Vn(p,2))}),yh=vi(function(u){var p=Qa(u);return p="function"==typeof p?p:A,qc(eo(u,1,Pr,!0),A,p)});function rp(u){if(!u||!u.length)return[];var p=0;return u=Yn(u,function(b){if(Pr(b))return p=_o(b.length,p),!0}),Zl(p,function(b){return Vr(u,nh(b))})}function Qt(u,p){if(!u||!u.length)return[];var b=rp(u);return null==p?b:Vr(b,function(K){return ks(p,A,K)})}var II=vi(function(u,p){return Pr(u)?id(u,p):[]}),vh=vi(function(u){return rg(Yn(u,Pr))}),op=vi(function(u){var p=Qa(u);return Pr(p)&&(p=A),rg(Yn(u,Pr),Vn(p,2))}),DI=vi(function(u){var p=Qa(u);return p="function"==typeof p?p:A,rg(Yn(u,Pr),A,p)}),EE=vi(rp),xg=vi(function(u){var p=u.length,b=p>1?u[p-1]:A;return b="function"==typeof b?(u.pop(),b):A,Qt(u,b)});function Eg(u){var p=Re(u);return p.__chain__=!0,p}function Cg(u,p){return p(u)}var OI=Kc(function(u){var p=u.length,b=p?u[0]:0,K=this.__wrapped__,we=function(Le){return hu(Le,u)};return!(p>1||this.__actions__.length)&&K instanceof Bi&&fa(b)?((K=K.slice(b,+b+(p?1:0))).__actions__.push({func:Cg,args:[we],thisArg:A}),new sa(K,this.__chain__).thru(function(Le){return p&&!Le.length&&Le.push(A),Le})):this.thru(we)}),Cs=fn(function(u,p,b){rr.call(u,b)?++u[b]:Zi(u,b,1)}),ME=lI(lE),NI=lI(Wi);function RE(u,p){return(hi(u)?go:la)(u,Vn(p,3))}function Iy(u,p){return(hi(u)?Af:ui)(u,Vn(p,3))}var LI=fn(function(u,p,b){rr.call(u,b)?u[b].push(p):Zi(u,b,[p])}),jI=vi(function(u,p,b){var K=-1,we="function"==typeof p,Le=Ss(u)?Mt(u.length):[];return la(u,function(rt){Le[++K]=we?ks(p,rt,b):fu(rt,p,b)}),Le}),UI=fn(function(u,p,b){Zi(u,b,p)});function ap(u,p){return(hi(u)?Vr:QM)(u,Vn(p,3))}var kE=fn(function(u,p,b){u[b?0:1].push(p)},function(){return[[],[]]}),GI=vi(function(u,p){if(null==u)return[];var b=p.length;return b>1&&Oo(u,p[0],p[1])?p=[]:b>2&&Oo(p[0],p[1],p[2])&&(p=[p[0]]),oy(u,eo(p,1),[])}),cp=dn||function(){return To.Date.now()};function Dy(u,p,b){return p=b?A:p,Ka(u,T,A,A,A,A,p=u&&null==p?u.length:p)}function BE(u,p){var b;if("function"!=typeof p)throw new mt(_);return u=_i(u),function(){return--u>0&&(b=p.apply(this,arguments)),u<=1&&(p=A),b}}var Ry=vi(function(u,p,b){var K=1;if(b.length){var we=ia(b,er(Ry));K|=y}return Ka(u,K,p,b,we)}),WI=vi(function(u,p,b){var K=3;if(b.length){var we=ia(b,er(WI));K|=y}return Ka(p,K,u,b,we)});function Ag(u,p,b){var K,we,Le,rt,ut,_t,Ht=0,$t=!1,Kt=!1,pn=!0;if("function"!=typeof u)throw new mt(_);function Ln(no){var Ae=K,Ac=we;return K=we=A,Ht=no,rt=u.apply(Ac,Ae)}function Zn(no){var Ae=no-_t;return _t===A||Ae>=p||Ae<0||Kt&&no-Ht>=Le}function Oi(){var no=cp();if(Zn(no))return ji(no);ut=pa(Oi,function xi(no){var iv=p-(no-_t);return Kt?ls(iv,Le-(no-Ht)):iv}(no))}function ji(no){return ut=A,pn&&K?Ln(no):(K=we=A,rt)}function dt(){var no=cp(),Ae=Zn(no);if(K=arguments,we=this,_t=no,Ae){if(ut===A)return function Kn(no){return Ht=no,ut=pa(Oi,p),$t?Ln(no):rt}(_t);if(Kt)return ii(ut),ut=pa(Oi,p),Ln(_t)}return ut===A&&(ut=pa(Oi,p)),rt}return p=Za(p)||0,to(b)&&($t=!!b.leading,Le=(Kt="maxWait"in b)?_o(Za(b.maxWait)||0,p):Le,pn="trailing"in b?!!b.trailing:pn),dt.cancel=function va(){ut!==A&&ii(ut),Ht=0,K=_t=we=ut=A},dt.flush=function jn(){return ut===A?rt:ji(cp())},dt}var $I=vi(function(u,p){return Tl(u,1,p)}),sd=vi(function(u,p,b){return Tl(u,Za(p)||0,b)});function Tg(u,p){if("function"!=typeof u||null!=p&&"function"!=typeof p)throw new mt(_);var b=function(){var K=arguments,we=p?p.apply(this,K):K[0],Le=b.cache;if(Le.has(we))return Le.get(we);var rt=u.apply(this,K);return b.cache=Le.set(we,rt)||Le,rt};return b.cache=new(Tg.Cache||Al),b}function dp(u){if("function"!=typeof u)throw new mt(_);return function(){var p=arguments;switch(p.length){case 0:return!u.call(this);case 1:return!u.call(this,p[0]);case 2:return!u.call(this,p[0],p[1]);case 3:return!u.call(this,p[0],p[1],p[2])}return!u.apply(this,p)}}Tg.Cache=Al;var Ej=cy(function(u,p){var b=(p=1==p.length&&hi(p[0])?Vr(p[0],Ra(Vn())):Vr(eo(p,1),Ra(Vn()))).length;return vi(function(K){for(var we=-1,Le=ls(K.length,b);++we<Le;)K[we]=p[we].call(this,K[we]);return ks(u,this,K)})}),co=vi(function(u,p){var b=ia(p,er(co));return Ka(u,y,A,p,b)}),up=vi(function(u,p){var b=ia(p,er(up));return Ka(u,64,A,p,b)}),qI=Kc(function(u,p){return Ka(u,256,A,A,A,p)});function ba(u,p){return u===p||u!=u&&p!=p}var xh=sg(Vf),Ly=sg(function(u,p){return u>=p}),Ml=XM(function(){return arguments}())?XM:function(u){return lo(u)&&rr.call(u,"callee")&&!Kb.call(u,"callee")},hi=Mt.isArray,Aj=wM?Ra(wM):function aj(u){return lo(u)&&Or(u)==pe};function Ss(u){return null!=u&&Dg(u.length)&&!Qc(u)}function Pr(u){return lo(u)&&Ss(u)}var Il=Io||Mh,JI=xM?Ra(xM):function cj(u){return lo(u)&&Or(u)==ie};function jy(u){if(!lo(u))return!1;var p=Or(u);return p==He||"[object DOMException]"==p||"string"==typeof u.message&&"string"==typeof u.name&&!ad(u)}function Qc(u){if(!to(u))return!1;var p=Or(u);return p==Je||p==de||"[object AsyncFunction]"==p||"[object Proxy]"==p}function Ig(u){return"number"==typeof u&&u==_i(u)}function Dg(u){return"number"==typeof u&&u>-1&&u%1==0&&u<=je}function to(u){var p=typeof u;return null!=u&&("object"==p||"function"==p)}function lo(u){return null!=u&&"object"==typeof u}var Eh=EM?Ra(EM):function dj(u){return lo(u)&&kr(u)==te};function pp(u){return"number"==typeof u||lo(u)&&Or(u)==U}function ad(u){if(!lo(u)||Or(u)!=k)return!1;var p=Gm(u);if(null===p)return!0;var b=rr.call(p,"constructor")&&p.constructor;return"function"==typeof b&&b instanceof b&&ed.call(b)==RM}var Og=Nm?Ra(Nm):function uj(u){return lo(u)&&Or(u)==Ee},zy=eh?Ra(eh):function hj(u){return lo(u)&&kr(u)==Ve};function xu(u){return"string"==typeof u||!hi(u)&&lo(u)&&Or(u)==it}function Bs(u){return"symbol"==typeof u||lo(u)&&Or(u)==At}var Sc=Fm?Ra(Fm):function fj(u){return lo(u)&&Dg(u.length)&&!!Dr[Or(u)]},kg=sg(Bx),Hy=sg(function(u,p){return u<=p});function Gy(u){if(!u)return[];if(Ss(u))return xu(u)?oa(u):ha(u);if(kf&&u[kf])return function DM(gt){for(var Ut,Mt=[];!(Ut=gt.next()).done;)Mt.push(Ut.value);return Mt}(u[kf]());var p=kr(u);return(p==te?sh:p==Ve?jm:Ch)(u)}function Zc(u){return u?(u=Za(u))===Te||u===-Te?17976931348623157e292*(u<0?-1:1):u==u?u:0:0===u?u:0}function _i(u){var p=Zc(u),b=p%1;return p==p?b?p-b:p:0}function cd(u){return u?qa(_i(u),0,ue):0}function Za(u){if("number"==typeof u)return u;if(Bs(u))return NaN;if(to(u)){var p="function"==typeof u.valueOf?u.valueOf():u;u=to(p)?p+"":p}if("string"!=typeof u)return 0===u?u:+u;u=yl(u);var b=si.test(u);return b||Vt.test(u)?vM(u.slice(2),b?2:8):Pn.test(u)?NaN:+u}function HE(u){return Yc(u,As(u))}function sr(u){return null==u?"":Pa(u)}var oD=hn(function(u,p){if(pg(p)||Ss(p))Yc(p,us(p),u);else for(var b in p)rr.call(p,b)&&Ns(u,b,p[b])}),ya=hn(function(u,p){Yc(p,As(p),u)}),Fa=hn(function(u,p,b,K){Yc(p,As(p),u,K)}),sD=hn(function(u,p,b,K){Yc(p,us(p),u,K)}),aD=Kc(hu),lD=vi(function(u,p){u=ir(u);var b=-1,K=p.length,we=K>2?p[2]:A;for(we&&Oo(p[0],p[1],we)&&(K=1);++b<K;)for(var Le=p[b],rt=As(Le),ut=-1,_t=rt.length;++ut<_t;){var Ht=rt[ut],$t=u[Ht];($t===A||ba($t,ou[Ht])&&!rr.call(u,Ht))&&(u[Ht]=Le[Ht])}return u}),dD=vi(function(u){return u.push(A,my),ks($y,A,u)});function Eu(u,p,b){var K=null==u?A:ka(u,p);return K===A?b:K}function Ng(u,p){return null!=u&&Jf(u,p,qM)}var $E=Xc(function(u,p,b){null!=p&&"function"!=typeof p.toString&&(p=lh.call(p)),u[p]=b},bp(Sr)),Mj=Xc(function(u,p,b){null!=p&&"function"!=typeof p.toString&&(p=lh.call(p)),rr.call(u,p)?u[p].push(b):u[p]=[b]},Vn),Ij=vi(fu);function us(u){return Ss(u)?ds(u):tg(u)}function As(u){return Ss(u)?ds(u,!0):function Lx(u){if(!to(u))return function Zf(u){var p=[];if(null!=u)for(var b in ir(u))p.push(b);return p}(u);var p=pg(u),b=[];for(var K in u)"constructor"==K&&(p||!rr.call(u,K))||b.push(K);return b}(u)}var Rj=hn(function(u,p,b){zf(u,p,b)}),$y=hn(function(u,p,b,K){zf(u,p,b,K)}),gD=Kc(function(u,p){var b={};if(null==u)return b;var K=!1;p=Vr(p,function(Le){return Le=Ec(Le,u),K||(K=Le.length>1),Le}),Yc(u,by(u),b),K&&(b=bo(b,7,gy));for(var we=p.length;we--;)ay(b,p[we]);return b}),bD=Kc(function(u,p){return null==u?{}:function tI(u,p){return Ux(u,p,function(b,K){return Ng(u,K)})}(u,p)});function qE(u,p){if(null==u)return{};var b=Vr(by(u),function(K){return[K]});return p=Vn(p),Ux(u,b,function(K,we){return p(K,we[0])})}var KE=ag(us),JE=ag(As);function Ch(u){return null==u?[]:et(u,us(u))}var eC=od(function(u,p,b){return p=p.toLowerCase(),u+(b?tC(p):p)});function tC(u){return Ky(sr(u).toLowerCase())}function nC(u){return(u=sr(u))&&u.replace(Wo,Rf).replace(tj,"")}var Oj=od(function(u,p,b){return u+(b?"-":"")+p.toLowerCase()}),kj=od(function(u,p,b){return u+(b?" ":"")+p.toLowerCase()}),mp=Cc("toLowerCase"),ID=od(function(u,p,b){return u+(b?"_":"")+p.toLowerCase()}),RD=od(function(u,p,b){return u+(b?" ":"")+Ky(p)}),Uj=od(function(u,p,b){return u+(b?" ":"")+p.toUpperCase()}),Ky=Cc("toUpperCase");function gp(u,p,b){return u=sr(u),(p=b?A:p)===A?function oh(gt){return ij.test(gt)}(u)?function Oa(gt){return gt.match(nj)||[]}(u):function yx(gt){return gt.match(Wc)||[]}(u):u.match(p)||[]}var _p=vi(function(u,p){try{return ks(u,A,p)}catch(b){return jy(b)?b:new Qn(b)}}),Jy=Kc(function(u,p){return go(p,function(b){b=Ja(b),Zi(u,b,Ry(u[b],u))}),u});function bp(u){return function(){return u}}var aC=hy(),Ah=hy(!0);function Sr(u){return u}function el(u){return JM("function"==typeof u?u:bo(u,1))}var kD=vi(function(u,p){return function(b){return fu(b,u,p)}}),zj=vi(function(u,p){return function(b){return fu(u,b,p)}});function lC(u,p,b){var K=us(p),we=ph(p,K);null==b&&(!to(p)||!we.length&&K.length)&&(b=p,p=u,u=this,we=ph(p,us(p)));var Le=!(to(b)&&"chain"in b&&!b.chain),rt=Qc(u);return go(we,function(ut){var _t=p[ut];u[ut]=_t,rt&&(u.prototype[ut]=function(){var Ht=this.__chain__;if(Le||Ht){var $t=u(this.__wrapped__);return($t.__actions__=ha(this.__actions__)).push({func:_t,args:arguments,thisArg:u}),$t.__chain__=Ht,$t}return _t.apply(u,Ql([this.value()],arguments))})}),u}function Bg(){}var ld=Na(Vr),Qy=Na(Gb),Zy=Na(Tf);function uC(u){return yy(u)?nh(Ja(u)):function Vx(u){return function(p){return ka(p,u)}}(u)}var ev=fy(),hC=fy(!0);function yp(){return[]}function Mh(){return!1}var pC=Yf(function(u,p){return u+p},0),vp=Xf("ceil"),jg=Yf(function(u,p){return u/p},1),tv=Xf("floor"),_C=Yf(function(u,p){return u*p},1),VD=Xf("round"),Gj=Yf(function(u,p){return u-p},0);return Re.after=function xj(u,p){if("function"!=typeof p)throw new mt(_);return u=_i(u),function(){if(--u<1)return p.apply(this,arguments)}},Re.ary=Dy,Re.assign=oD,Re.assignIn=ya,Re.assignInWith=Fa,Re.assignWith=sD,Re.at=aD,Re.before=BE,Re.bind=Ry,Re.bindAll=Jy,Re.bindKey=WI,Re.castArray=function ky(){if(!arguments.length)return[];var u=arguments[0];return hi(u)?u:[u]},Re.chain=Eg,Re.chunk=function oE(u,p,b){p=(b?Oo(u,p,b):p===A)?1:_o(_i(p),0);var K=null==u?0:u.length;if(!K||p<1)return[];for(var we=0,Le=0,rt=Mt(Zt(K/p));we<K;)rt[Le++]=Es(u,we,we+=p);return rt},Re.compact=function sE(u){for(var p=-1,b=null==u?0:u.length,K=0,we=[];++p<b;){var Le=u[p];Le&&(we[K++]=Le)}return we},Re.concat=function bI(){var u=arguments.length;if(!u)return[];for(var p=Mt(u-1),b=arguments[0],K=u;K--;)p[K-1]=arguments[K];return Ql(hi(b)?ha(b):[b],eo(p,1))},Re.cond=function oC(u){var p=null==u?0:u.length,b=Vn();return u=p?Vr(u,function(K){if("function"!=typeof K[1])throw new mt(_);return[b(K[0]),K[1]]}):[],vi(function(K){for(var we=-1;++we<p;){var Le=u[we];if(ks(Le[0],this,K))return ks(Le[1],this,K)}})},Re.conforms=function sC(u){return function Bf(u){var p=us(u);return function(b){return ny(b,u,p)}}(bo(u,1))},Re.constant=bp,Re.countBy=Cs,Re.create=function cD(u,p){var b=qo(u);return null==p?b:ty(b,p)},Re.curry=function jE(u,p,b){var K=Ka(u,8,A,A,A,A,A,p=b?A:p);return K.placeholder=jE.placeholder,K},Re.curryRight=function Oy(u,p,b){var K=Ka(u,16,A,A,A,A,A,p=b?A:p);return K.placeholder=Oy.placeholder,K},Re.debounce=Ag,Re.defaults=lD,Re.defaultsDeep=dD,Re.defer=$I,Re.delay=sd,Re.difference=bg,Re.differenceBy=wu,Re.differenceWith=yI,Re.drop=function aE(u,p,b){var K=null==u?0:u.length;return K?Es(u,(p=b||p===A?1:_i(p))<0?0:p,K):[]},Re.dropRight=function cE(u,p,b){var K=null==u?0:u.length;return K?Es(u,0,(p=K-(p=b||p===A?1:_i(p)))<0?0:p):[]},Re.dropRightWhile=function gh(u,p){return u&&u.length?Wf(u,Vn(p,3),!0,!0):[]},Re.dropWhile=function _h(u,p){return u&&u.length?Wf(u,Vn(p,3),!0):[]},Re.fill=function ko(u,p,b,K){var we=null==u?0:u.length;return we?(b&&"number"!=typeof b&&Oo(u,p,b)&&(b=0,K=we),function $c(u,p,b,K){var we=u.length;for((b=_i(b))<0&&(b=-b>we?0:we+b),(K=K===A||K>we?we:_i(K))<0&&(K+=we),K=b>K?0:cd(K);b<K;)u[b++]=p;return u}(u,p,b,K)):[]},Re.filter=function TE(u,p){return(hi(u)?Yn:jf)(u,Vn(p,3))},Re.flatMap=function IE(u,p){return eo(ap(u,p),1)},Re.flatMapDeep=function FI(u,p){return eo(ap(u,p),Te)},Re.flatMapDepth=function DE(u,p,b){return b=b===A?1:_i(b),eo(ap(u,p),b)},Re.flatten=yg,Re.flattenDeep=function vI(u){return null!=u&&u.length?eo(u,Te):[]},Re.flattenDepth=function dE(u,p){return null!=u&&u.length?eo(u,p=p===A?1:_i(p)):[]},Re.flip=function lp(u){return Ka(u,512)},Re.flow=aC,Re.flowRight=Ah,Re.fromPairs=function ma(u){for(var p=-1,b=null==u?0:u.length,K={};++p<b;){var we=u[p];K[we[0]]=we[1]}return K},Re.functions=function Pg(u){return null==u?[]:ph(u,us(u))},Re.functionsIn=function Dl(u){return null==u?[]:ph(u,As(u))},Re.groupBy=LI,Re.initial=function Sy(u){return null!=u&&u.length?Es(u,0,-1):[]},Re.intersection=vg,Re.intersectionBy=fE,Re.intersectionWith=wI,Re.invert=$E,Re.invertBy=Mj,Re.invokeMap=jI,Re.iteratee=el,Re.keyBy=UI,Re.keys=us,Re.keysIn=As,Re.map=ap,Re.mapKeys=function Wy(u,p){var b={};return p=Vn(p,3),Rr(u,function(K,we,Le){Zi(b,p(K,we,Le),K)}),b},Re.mapValues=function Dj(u,p){var b={};return p=Vn(p,3),Rr(u,function(K,we,Le){Zi(b,we,p(K,we,Le))}),b},Re.matches=function cC(u){return ZM(bo(u,1))},Re.matchesProperty=function Vj(u,p){return eI(u,bo(p,1))},Re.memoize=Tg,Re.merge=Rj,Re.mergeWith=$y,Re.method=kD,Re.methodOf=zj,Re.mixin=lC,Re.negate=dp,Re.nthArg=function Hj(u){return u=_i(u),vi(function(p){return br(p,u)})},Re.omit=gD,Re.omitBy=function _D(u,p){return qE(u,dp(Vn(p)))},Re.once=function Ls(u){return BE(2,u)},Re.orderBy=function OE(u,p,b,K){return null==u?[]:(hi(p)||(p=null==p?[]:[p]),hi(b=K?A:b)||(b=null==b?[]:[b]),oy(u,p,b))},Re.over=ld,Re.overArgs=Ej,Re.overEvery=Qy,Re.overSome=Zy,Re.partial=co,Re.partialRight=up,Re.partition=kE,Re.pick=bD,Re.pickBy=qE,Re.property=uC,Re.propertyOf=function Th(u){return function(p){return null==u?A:ka(u,p)}},Re.pull=mE,Re.pullAll=gE,Re.pullAllBy=function CI(u,p,b){return u&&u.length&&p&&p.length?ng(u,p,Vn(b,2)):u},Re.pullAllWith=function pj(u,p,b){return u&&u.length&&p&&p.length?ng(u,p,A,b):u},Re.pullAt=_E,Re.range=ev,Re.rangeRight=hC,Re.rearg=qI,Re.reject=function NE(u,p){return(hi(u)?Yn:jf)(u,dp(Vn(p,3)))},Re.remove=function bE(u,p){var b=[];if(!u||!u.length)return b;var K=-1,we=[],Le=u.length;for(p=Vn(p,3);++K<Le;){var rt=u[K];p(rt,K,u)&&(b.push(rt),we.push(K))}return zx(u,we),b},Re.rest=function YI(u,p){if("function"!=typeof u)throw new mt(_);return vi(u,p=p===A?p:_i(p))},Re.reverse=wi,Re.sampleSize=function LE(u,p,b){return p=(b?Oo(u,p,b):p===A)?1:_i(p),(hi(u)?hh:Gx)(u,p)},Re.set=function YE(u,p,b){return null==u?u:Gf(u,p,b)},Re.setWith=function XE(u,p,b,K){return K="function"==typeof K?K:A,null==u?u:Gf(u,p,b,K)},Re.shuffle=function VI(u){return(hi(u)?Cr:sy)(u)},Re.slice=function mj(u,p,b){var K=null==u?0:u.length;return K?(b&&"number"!=typeof b&&Oo(u,p,b)?(p=0,b=K):(p=null==p?0:_i(p),b=b===A?K:_i(b)),Es(u,p,b)):[]},Re.sortBy=GI,Re.sortedUniq=function SI(u){return u&&u.length?mu(u):[]},Re.sortedUniqBy=function AI(u,p){return u&&u.length?mu(u,Vn(p,2)):[]},Re.split=function DD(u,p,b){return b&&"number"!=typeof b&&Oo(u,p,b)&&(p=b=A),(b=b===A?ue:b>>>0)?(u=sr(u))&&("string"==typeof p||null!=p&&!Og(p))&&!(p=Pa(p))&&rh(u)?ua(oa(u),0,b):u.split(p,b):[]},Re.spread=function Cj(u,p){if("function"!=typeof u)throw new mt(_);return p=null==p?0:_o(_i(p),0),vi(function(b){var K=b[p],we=ua(b,0,p);return K&&Ql(we,K),ks(u,this,we)})},Re.tail=function wE(u){var p=null==u?0:u.length;return p?Es(u,1,p):[]},Re.take=function _j(u,p,b){return u&&u.length?Es(u,0,(p=b||p===A?1:_i(p))<0?0:p):[]},Re.takeRight=function bj(u,p,b){var K=null==u?0:u.length;return K?Es(u,(p=K-(p=b||p===A?1:_i(p)))<0?0:p,K):[]},Re.takeRightWhile=function yj(u,p){return u&&u.length?Wf(u,Vn(p,3),!1,!0):[]},Re.takeWhile=function vj(u,p){return u&&u.length?Wf(u,Vn(p,3)):[]},Re.tap=function RI(u,p){return p(u),u},Re.throttle=function Sj(u,p,b){var K=!0,we=!0;if("function"!=typeof u)throw new mt(_);return to(b)&&(K="leading"in b?!!b.leading:K,we="trailing"in b?!!b.trailing:we),Ag(u,p,{leading:K,maxWait:p,trailing:we})},Re.thru=Cg,Re.toArray=Gy,Re.toPairs=KE,Re.toPairsIn=JE,Re.toPath=function LD(u){return hi(u)?Vr(u,Ja):Bs(u)?[u]:ha(ip(sr(u)))},Re.toPlainObject=HE,Re.transform=function QE(u,p,b){var K=hi(u),we=K||Il(u)||Sc(u);if(p=Vn(p,4),null==b){var Le=u&&u.constructor;b=we?K?new Le:[]:to(u)&&Qc(Le)?qo(Gm(u)):{}}return(we?go:Rr)(u,function(rt,ut,_t){return p(b,rt,ut,_t)}),b},Re.unary=function Mg(u){return Dy(u,1)},Re.union=wj,Re.unionBy=TI,Re.unionWith=yh,Re.uniq=function kn(u){return u&&u.length?qc(u):[]},Re.uniqBy=function xE(u,p){return u&&u.length?qc(u,Vn(p,2)):[]},Re.uniqWith=function MI(u,p){return p="function"==typeof p?p:A,u&&u.length?qc(u,A,p):[]},Re.unset=function Fg(u,p){return null==u||ay(u,p)},Re.unzip=rp,Re.unzipWith=Qt,Re.update=function ZE(u,p,b){return null==u?u:xc(u,p,gu(b))},Re.updateWith=function qy(u,p,b,K){return K="function"==typeof K?K:A,null==u?u:xc(u,p,gu(b),K)},Re.values=Ch,Re.valuesIn=function Jo(u){return null==u?[]:et(u,As(u))},Re.without=II,Re.words=gp,Re.wrap=function XI(u,p){return co(gu(p),u)},Re.xor=vh,Re.xorBy=op,Re.xorWith=DI,Re.zip=EE,Re.zipObject=function CE(u,p){return og(u||[],p||[],Ns)},Re.zipObjectDeep=function wg(u,p){return og(u||[],p||[],Gf)},Re.zipWith=xg,Re.entries=KE,Re.entriesIn=JE,Re.extend=ya,Re.extendWith=Fa,lC(Re,Re),Re.add=pC,Re.attempt=_p,Re.camelCase=eC,Re.capitalize=tC,Re.ceil=vp,Re.clamp=function vD(u,p,b){return b===A&&(b=p,p=A),b!==A&&(b=(b=Za(b))==b?b:0),p!==A&&(p=(p=Za(p))==p?p:0),qa(Za(u),p,b)},Re.clone=function Py(u){return bo(u,4)},Re.cloneDeep=function Ny(u){return bo(u,5)},Re.cloneDeepWith=function Fy(u,p){return bo(u,5,p="function"==typeof p?p:A)},Re.cloneWith=function wh(u,p){return bo(u,4,p="function"==typeof p?p:A)},Re.conformsTo=function hp(u,p){return null==p||ny(u,p,us(p))},Re.deburr=nC,Re.defaultTo=function Sh(u,p){return null==u||u!=u?p:u},Re.divide=jg,Re.endsWith=function xD(u,p,b){u=sr(u),p=Pa(p);var K=u.length,we=b=b===A?K:qa(_i(b),0,K);return(b-=p.length)>=0&&u.slice(b,we)==p},Re.eq=ba,Re.escape=function ED(u){return(u=sr(u))&&Er.test(u)?u.replace(ys,TM):u},Re.escapeRegExp=function iC(u){return(u=sr(u))&&Qe.test(u)?u.replace(We,"\\$&"):u},Re.every=function sp(u,p,b){var K=hi(u)?Gb:iy;return b&&Oo(u,p,b)&&(p=A),K(u,Vn(p,3))},Re.find=ME,Re.findIndex=lE,Re.findKey=function uD(u,p){return Ps(u,Vn(p,3),Rr)},Re.findLast=NI,Re.findLastIndex=Wi,Re.findLastKey=function GE(u,p){return Ps(u,Vn(p,3),Yo)},Re.floor=tv,Re.forEach=RE,Re.forEachRight=Iy,Re.forIn=function hD(u,p){return null==u?u:Xr(u,Vn(p,3),As)},Re.forInRight=function fD(u,p){return null==u?u:Qm(u,Vn(p,3),As)},Re.forOwn=function pD(u,p){return u&&Rr(u,Vn(p,3))},Re.forOwnRight=function mD(u,p){return u&&Yo(u,Vn(p,3))},Re.get=Eu,Re.gt=xh,Re.gte=Ly,Re.has=function WE(u,p){return null!=u&&Jf(u,p,$M)},Re.hasIn=Ng,Re.head=uE,Re.identity=Sr,Re.includes=function BI(u,p,b,K){u=Ss(u)?u:Ch(u),b=b&&!K?_i(b):0;var we=u.length;return b<0&&(b=_o(we+b,0)),xu(u)?b<=we&&u.indexOf(p,b)>-1:!!we&&If(u,p,b)>-1},Re.indexOf=function hE(u,p,b){var K=null==u?0:u.length;if(!K)return-1;var we=null==b?0:_i(b);return we<0&&(we=_o(K+we,0)),If(u,p,we)},Re.inRange=function wD(u,p,b){return p=Zc(p),b===A?(b=p,p=0):b=Zc(b),function ry(u,p,b){return u>=ls(p,b)&&u<_o(p,b)}(u=Za(u),p,b)},Re.invoke=Ij,Re.isArguments=Ml,Re.isArray=hi,Re.isArrayBuffer=Aj,Re.isArrayLike=Ss,Re.isArrayLikeObject=Pr,Re.isBoolean=function KI(u){return!0===u||!1===u||lo(u)&&Or(u)==C},Re.isBuffer=Il,Re.isDate=JI,Re.isElement=function QI(u){return lo(u)&&1===u.nodeType&&!ad(u)},Re.isEmpty=function By(u){if(null==u)return!0;if(Ss(u)&&(hi(u)||"string"==typeof u||"function"==typeof u.splice||Il(u)||Sc(u)||Ml(u)))return!u.length;var p=kr(u);if(p==te||p==Ve)return!u.size;if(pg(u))return!tg(u).length;for(var b in u)if(rr.call(u,b))return!1;return!0},Re.isEqual=function UE(u,p){return eg(u,p)},Re.isEqualWith=function ZI(u,p,b){var K=(b="function"==typeof b?b:A)?b(u,p):A;return K===A?eg(u,p,A,b):!!K},Re.isError=jy,Re.isFinite=function fp(u){return"number"==typeof u&&$o(u)},Re.isFunction=Qc,Re.isInteger=Ig,Re.isLength=Dg,Re.isMap=Eh,Re.isMatch=function eD(u,p){return u===p||Fx(u,p,lg(p))},Re.isMatchWith=function Rg(u,p,b){return b="function"==typeof b?b:A,Fx(u,p,lg(p),b)},Re.isNaN=function Uy(u){return pp(u)&&u!=+u},Re.isNative=function tD(u){if(pI(u))throw new Qn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return KM(u)},Re.isNil=function Vy(u){return null==u},Re.isNull=function VE(u){return null===u},Re.isNumber=pp,Re.isObject=to,Re.isObjectLike=lo,Re.isPlainObject=ad,Re.isRegExp=Og,Re.isSafeInteger=function zE(u){return Ig(u)&&u>=-je&&u<=je},Re.isSet=zy,Re.isString=xu,Re.isSymbol=Bs,Re.isTypedArray=Sc,Re.isUndefined=function nD(u){return u===A},Re.isWeakMap=function iD(u){return lo(u)&&kr(u)==It},Re.isWeakSet=function Tj(u){return lo(u)&&"[object WeakSet]"==Or(u)},Re.join=function xI(u,p){return null==u?"":td.call(u,p)},Re.kebabCase=Oj,Re.last=Qa,Re.lastIndexOf=function pE(u,p,b){var K=null==u?0:u.length;if(!K)return-1;var we=K;return b!==A&&(we=(we=_i(b))<0?_o(K+we,0):ls(we,K-1)),p==p?function xx(gt,Ut,Mt){for(var tn=Mt+1;tn--;)if(gt[tn]===Ut)return tn;return tn}(u,p,we):Mf(u,th,we,!0)},Re.lowerCase=kj,Re.lowerFirst=mp,Re.lt=kg,Re.lte=Hy,Re.max=function jD(u){return u&&u.length?rd(u,Sr,Vf):A},Re.maxBy=function UD(u,p){return u&&u.length?rd(u,Vn(p,2),Vf):A},Re.mean=function nv(u){return Lm(u,Sr)},Re.meanBy=function mC(u,p){return Lm(u,Vn(p,2))},Re.min=function Cu(u){return u&&u.length?rd(u,Sr,Bx):A},Re.minBy=function gC(u,p){return u&&u.length?rd(u,Vn(p,2),Bx):A},Re.stubArray=yp,Re.stubFalse=Mh,Re.stubObject=function PD(){return{}},Re.stubString=function ND(){return""},Re.stubTrue=function fC(){return!0},Re.multiply=_C,Re.nth=function EI(u,p){return u&&u.length?br(u,_i(p)):A},Re.noConflict=function dC(){return To._===this&&(To._=OM),this},Re.noop=Bg,Re.now=cp,Re.pad=function CD(u,p,b){u=sr(u);var K=(p=_i(p))?vl(u):0;if(!p||K>=p)return u;var we=(p-K)/2;return Xa(Mo(we),b)+u+Xa(Zt(we),b)},Re.padEnd=function SD(u,p,b){u=sr(u);var K=(p=_i(p))?vl(u):0;return p&&K<p?u+Xa(p-K,b):u},Re.padStart=function AD(u,p,b){u=sr(u);var K=(p=_i(p))?vl(u):0;return p&&K<p?Xa(p-K,b)+u:u},Re.parseInt=function rC(u,p,b){return b||null==p?p=0:p&&(p=+p),PM(sr(u).replace(sn,""),p||0)},Re.random=function Lg(u,p,b){if(b&&"boolean"!=typeof b&&Oo(u,p,b)&&(p=b=A),b===A&&("boolean"==typeof p?(b=p,p=A):"boolean"==typeof u&&(b=u,u=A)),u===A&&p===A?(u=0,p=1):(u=Zc(u),p===A?(p=u,u=0):p=Zc(p)),u>p){var K=u;u=p,p=K}if(b||u%1||p%1){var we=Dx();return ls(u+we*(p-u+px("1e-"+((we+"").length-1))),p)}return Hf(u,p)},Re.reduce=function Sg(u,p,b){var K=hi(u)?bx:vx,we=arguments.length<3;return K(u,Vn(p,4),b,we,la)},Re.reduceRight=function PE(u,p,b){var K=hi(u)?CM:vx,we=arguments.length<3;return K(u,Vn(p,4),b,we,ui)},Re.repeat=function TD(u,p,b){return p=(b?Oo(u,p,b):p===A)?1:_i(p),Ya(sr(u),p)},Re.replace=function MD(){var u=arguments,p=sr(u[0]);return u.length<3?p:p.replace(u[1],u[2])},Re.result=function yD(u,p,b){var K=-1,we=(p=Ec(p,u)).length;for(we||(we=1,u=A);++K<we;){var Le=null==u?A:u[Ja(p[K])];Le===A&&(K=we,Le=b),u=Qc(Le)?Le.call(u):Le}return u},Re.round=VD,Re.runInContext=gt,Re.sample=function FE(u){return(hi(u)?ca:Hx)(u)},Re.size=function zI(u){if(null==u)return 0;if(Ss(u))return xu(u)?vl(u):u.length;var p=kr(u);return p==te||p==Ve?u.size:tg(u).length},Re.snakeCase=ID,Re.some=function HI(u,p,b){var K=hi(u)?Tf:Fs;return b&&Oo(u,p,b)&&(p=A),K(u,Vn(p,3))},Re.sortedIndex=function yE(u,p){return ig(u,p)},Re.sortedIndexBy=function gj(u,p,b){return pu(u,p,Vn(b,2))},Re.sortedIndexOf=function Ay(u,p){var b=null==u?0:u.length;if(b){var K=ig(u,p);if(K<b&&ba(u[K],p))return K}return-1},Re.sortedLastIndex=function ga(u,p){return ig(u,p,!0)},Re.sortedLastIndexBy=function vE(u,p,b){return pu(u,p,Vn(b,2),!0)},Re.sortedLastIndexOf=function bh(u,p){if(null!=u&&u.length){var K=ig(u,p,!0)-1;if(ba(u[K],p))return K}return-1},Re.startCase=RD,Re.startsWith=function OD(u,p,b){return u=sr(u),b=null==b?0:qa(_i(b),0,u.length),p=Pa(p),u.slice(b,b+p.length)==p},Re.subtract=Gj,Re.sum=function Ug(u){return u&&u.length?Bm(u,Sr):0},Re.sumBy=function zD(u,p){return u&&u.length?Bm(u,Vn(p,2)):0},Re.template=function Yy(u,p,b){var K=Re.templateSettings;b&&Oo(u,p,b)&&(p=A),u=sr(u),p=Fa({},p,K,Kx);var ut,_t,we=Fa({},p.imports,K.imports,Kx),Le=us(we),rt=et(we,Le),Ht=0,$t=p.interpolate||wt,Kt="__p += '",pn=ch((p.escape||wt).source+"|"+$t.source+"|"+($t===Jl?Ir:wt).source+"|"+(p.evaluate||wt).source+"|$","g"),Ln="//# sourceURL="+(rr.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Om+"]")+"\n";u.replace(pn,function(Zn,Oi,ji,va,jn,dt){return ji||(ji=va),Kt+=u.slice(Ht,dt).replace(_e,MM),Oi&&(ut=!0,Kt+="' +\n__e("+Oi+") +\n'"),jn&&(_t=!0,Kt+="';\n"+jn+";\n__p += '"),ji&&(Kt+="' +\n((__t = ("+ji+")) == null ? '' : __t) +\n'"),Ht=dt+Zn.length,Zn}),Kt+="';\n";var Kn=rr.call(p,"variable")&&p.variable;if(Kn){if(on.test(Kn))throw new Qn("Invalid `variable` option passed into `_.template`")}else Kt="with (obj) {\n"+Kt+"\n}\n";Kt=(_t?Kt.replace(Gn,""):Kt).replace(dr,"$1").replace(Ga,"$1;"),Kt="function("+(Kn||"obj")+") {\n"+(Kn?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(ut?", __e = _.escape":"")+(_t?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Kt+"return __p\n}";var xi=_p(function(){return Gi(Le,Ln+"return "+Kt).apply(A,rt)});if(xi.source=Kt,jy(xi))throw xi;return xi},Re.times=function FD(u,p){if((u=_i(u))<1||u>je)return[];var b=ue,K=ls(u,ue);p=Vn(p),u-=ue;for(var we=Zl(K,p);++b<u;)p(b);return we},Re.toFinite=Zc,Re.toInteger=_i,Re.toLength=cd,Re.toLower=function Pj(u){return sr(u).toLowerCase()},Re.toNumber=Za,Re.toSafeInteger=function rD(u){return u?qa(_i(u),-je,je):0===u?u:0},Re.toString=sr,Re.toUpper=function Nj(u){return sr(u).toUpperCase()},Re.trim=function Xy(u,p,b){if((u=sr(u))&&(b||p===A))return yl(u);if(!u||!(p=Pa(p)))return u;var K=oa(u),we=oa(p);return ua(K,kt(K,we),Df(K,we)+1).join("")},Re.trimEnd=function Fj(u,p,b){if((u=sr(u))&&(b||p===A))return u.slice(0,Um(u)+1);if(!u||!(p=Pa(p)))return u;var K=oa(u);return ua(K,0,Df(K,oa(p))+1).join("")},Re.trimStart=function Lj(u,p,b){if((u=sr(u))&&(b||p===A))return u.replace(sn,"");if(!u||!(p=Pa(p)))return u;var K=oa(u);return ua(K,kt(K,oa(p))).join("")},Re.truncate=function Bj(u,p){var b=30,K="...";if(to(p)){var we="separator"in p?p.separator:we;b="length"in p?_i(p.length):b,K="omission"in p?Pa(p.omission):K}var Le=(u=sr(u)).length;if(rh(u)){var rt=oa(u);Le=rt.length}if(b>=Le)return u;var ut=b-vl(K);if(ut<1)return K;var _t=rt?ua(rt,0,ut).join(""):u.slice(0,ut);if(we===A)return _t+K;if(rt&&(ut+=_t.length-ut),Og(we)){if(u.slice(ut).search(we)){var Ht,$t=_t;for(we.global||(we=ch(we.source,sr(gc.exec(we))+"g")),we.lastIndex=0;Ht=we.exec($t);)var Kt=Ht.index;_t=_t.slice(0,Kt===A?ut:Kt)}}else if(u.indexOf(Pa(we),ut)!=ut){var pn=_t.lastIndexOf(we);pn>-1&&(_t=_t.slice(0,pn))}return _t+K},Re.unescape=function jj(u){return(u=sr(u))&&Zs.test(u)?u.replace(jr,oj):u},Re.uniqueId=function BD(u){var p=++Cx;return sr(u)+p},Re.upperCase=Uj,Re.upperFirst=Ky,Re.each=RE,Re.eachRight=Iy,Re.first=uE,lC(Re,function(){var u={};return Rr(Re,function(p,b){rr.call(Re.prototype,b)||(u[b]=p)}),u}(),{chain:!1}),Re.VERSION="4.17.21",go(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){Re[u].placeholder=Re}),go(["drop","take"],function(u,p){Bi.prototype[u]=function(b){b=b===A?1:_o(_i(b),0);var K=this.__filtered__&&!p?new Bi(this):this.clone();return K.__filtered__?K.__takeCount__=ls(b,K.__takeCount__):K.__views__.push({size:ls(b,ue),type:u+(K.__dir__<0?"Right":"")}),K},Bi.prototype[u+"Right"]=function(b){return this.reverse()[u](b).reverse()}}),go(["filter","map","takeWhile"],function(u,p){var b=p+1,K=1==b||3==b;Bi.prototype[u]=function(we){var Le=this.clone();return Le.__iteratees__.push({iteratee:Vn(we,3),type:b}),Le.__filtered__=Le.__filtered__||K,Le}}),go(["head","last"],function(u,p){var b="take"+(p?"Right":"");Bi.prototype[u]=function(){return this[b](1).value()[0]}}),go(["initial","tail"],function(u,p){var b="drop"+(p?"":"Right");Bi.prototype[u]=function(){return this.__filtered__?new Bi(this):this[b](1)}}),Bi.prototype.compact=function(){return this.filter(Sr)},Bi.prototype.find=function(u){return this.filter(u).head()},Bi.prototype.findLast=function(u){return this.reverse().find(u)},Bi.prototype.invokeMap=vi(function(u,p){return"function"==typeof u?new Bi(this):this.map(function(b){return fu(b,u,p)})}),Bi.prototype.reject=function(u){return this.filter(dp(Vn(u)))},Bi.prototype.slice=function(u,p){u=_i(u);var b=this;return b.__filtered__&&(u>0||p<0)?new Bi(b):(u<0?b=b.takeRight(-u):u&&(b=b.drop(u)),p!==A&&(b=(p=_i(p))<0?b.dropRight(-p):b.take(p-u)),b)},Bi.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Bi.prototype.toArray=function(){return this.take(ue)},Rr(Bi.prototype,function(u,p){var b=/^(?:filter|find|map|reject)|While$/.test(p),K=/^(?:head|last)$/.test(p),we=Re[K?"take"+("last"==p?"Right":""):p],Le=K||/^find/.test(p);we&&(Re.prototype[p]=function(){var rt=this.__wrapped__,ut=K?[1]:arguments,_t=rt instanceof Bi,Ht=ut[0],$t=_t||hi(rt),Kt=function(Oi){var ji=we.apply(Re,Ql([Oi],ut));return K&&pn?ji[0]:ji};$t&&b&&"function"==typeof Ht&&1!=Ht.length&&(_t=$t=!1);var pn=this.__chain__,Kn=Le&&!pn,xi=_t&&!this.__actions__.length;if(!Le&&$t){rt=xi?rt:new Bi(this);var Zn=u.apply(rt,ut);return Zn.__actions__.push({func:Cg,args:[Kt],thisArg:A}),new sa(Zn,pn)}return Kn&&xi?u.apply(this,ut):(Zn=this.thru(Kt),Kn?K?Zn.value()[0]:Zn.value():Zn)})}),go(["pop","push","shift","sort","splice","unshift"],function(u){var p=Vm[u],b=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",K=/^(?:pop|shift)$/.test(u);Re.prototype[u]=function(){var we=arguments;if(K&&!this.__chain__){var Le=this.value();return p.apply(hi(Le)?Le:[],we)}return this[b](function(rt){return p.apply(hi(rt)?rt:[],we)})}}),Rr(Bi.prototype,function(u,p){var b=Re[p];if(b){var K=b.name+"";rr.call(nd,K)||(nd[K]=[]),nd[K].push({name:p,func:b})}}),nd[Xo(A,2).name]=[{name:"wrapper",func:A}],Bi.prototype.clone=function FM(){var u=new Bi(this.__wrapped__);return u.__actions__=ha(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=ha(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=ha(this.__views__),u},Bi.prototype.reverse=function kx(){if(this.__filtered__){var u=new Bi(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},Bi.prototype.value=function dh(){var u=this.__wrapped__.value(),p=this.__dir__,b=hi(u),K=p<0,we=b?u.length:0,Le=function uI(u,p,b){for(var K=-1,we=b.length;++K<we;){var Le=b[K],rt=Le.size;switch(Le.type){case"drop":u+=rt;break;case"dropRight":p-=rt;break;case"take":p=ls(p,u+rt);break;case"takeRight":u=_o(u,p-rt)}}return{start:u,end:p}}(0,we,this.__views__),rt=Le.start,ut=Le.end,_t=ut-rt,Ht=K?ut:rt-1,$t=this.__iteratees__,Kt=$t.length,pn=0,Ln=ls(_t,this.__takeCount__);if(!b||!K&&we==_t&&Ln==_t)return Wx(u,this.__actions__);var Kn=[];e:for(;_t--&&pn<Ln;){for(var xi=-1,Zn=u[Ht+=p];++xi<Kt;){var Oi=$t[xi],va=Oi.type,jn=(0,Oi.iteratee)(Zn);if(2==va)Zn=jn;else if(!jn){if(1==va)continue e;break e}}Kn[pn++]=Zn}return Kn},Re.prototype.at=OI,Re.prototype.chain=function SE(){return Eg(this)},Re.prototype.commit=function kI(){return new sa(this.value(),this.__chain__)},Re.prototype.next=function PI(){this.__values__===A&&(this.__values__=Gy(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?A:this.__values__[this.__index__++]}},Re.prototype.plant=function Ty(u){for(var p,b=this;b instanceof Cl;){var K=Cy(b);K.__index__=0,K.__values__=A,p?we.__wrapped__=K:p=K;var we=K;b=b.__wrapped__}return we.__wrapped__=u,p},Re.prototype.reverse=function AE(){var u=this.__wrapped__;if(u instanceof Bi){var p=u;return this.__actions__.length&&(p=new Bi(this)),(p=p.reverse()).__actions__.push({func:Cg,args:[wi],thisArg:A}),new sa(p,this.__chain__)}return this.thru(wi)},Re.prototype.toJSON=Re.prototype.valueOf=Re.prototype.value=function My(){return Wx(this.__wrapped__,this.__actions__)},Re.prototype.first=Re.prototype.head,kf&&(Re.prototype[kf]=function _a(){return this}),Re}();To._=wl,(Z=function(){return wl}.call(ge,S,ge,Ue))!==A&&(Ue.exports=Z)}.call(this)},835:(Ue,ge,S)=>{var Z=S(4298),A=Z.ARRAY_BUFFER_SUPPORT,Y=Z.SYMBOL_SUPPORT;Ue.exports=function(X,_){var x,N,W,R,D;if(!X)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof _)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(X)||A&&ArrayBuffer.isView(X)||"string"==typeof X||"[object Arguments]"===X.toString())for(W=0,R=X.length;W<R;W++)_(X[W],W);else if("function"!=typeof X.forEach)if(Y&&Symbol.iterator in X&&"function"!=typeof X.next&&(X=X[Symbol.iterator]()),"function"!=typeof X.next)for(N in X)X.hasOwnProperty(N)&&_(X[N],N);else for(x=X,W=0;!0!==(D=x.next()).done;)_(D.value,W),W++;else X.forEach(_)}},2135:Ue=>{function ge(S){if("function"!=typeof S)throw new Error("obliterator/iterator: expecting a function!");this.next=S}typeof Symbol<"u"&&(ge.prototype[Symbol.iterator]=function(){return this}),ge.of=function(){var S=arguments,Z=S.length,A=0;return new ge(function(){return A>=Z?{done:!0}:{done:!1,value:S[A++]}})},ge.empty=function(){return new ge(function(){return{done:!0}})},ge.fromSequence=function(S){var Z=0,A=S.length;return new ge(function(){return Z>=A?{done:!0}:{done:!1,value:S[Z++]}})},ge.is=function(S){return S instanceof ge||"object"==typeof S&&null!==S&&"function"==typeof S.next},Ue.exports=ge},4298:(Ue,ge)=>{ge.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",ge.SYMBOL_SUPPORT=typeof Symbol<"u"},2963:(Ue,ge,S)=>{var Z=S(2135),A=S(835);function Y(){this.clear()}Y.prototype.clear=function(){this.items=[],this.offset=0,this.size=0},Y.prototype.enqueue=function(G){return this.items.push(G),++this.size},Y.prototype.dequeue=function(){if(this.size){var G=this.items[this.offset];return 2*++this.offset>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,G}},Y.prototype.peek=function(){if(this.size)return this.items[this.offset]},Y.prototype.forEach=function(G,X){X=arguments.length>1?X:this;for(var _=this.offset,x=0,N=this.items.length;_<N;_++,x++)G.call(X,this.items[_],x,this)},Y.prototype.toArray=function(){return this.items.slice(this.offset)},Y.prototype.values=function(){var G=this.items,X=this.offset;return new Z(function(){if(X>=G.length)return{done:!0};var _=G[X];return X++,{value:_,done:!1}})},Y.prototype.entries=function(){var G=this.items,X=this.offset,_=0;return new Z(function(){if(X>=G.length)return{done:!0};var x=G[X];return X++,{value:[_++,x],done:!1}})},typeof Symbol<"u"&&(Y.prototype[Symbol.iterator]=Y.prototype.values),Y.prototype.toString=function(){return this.toArray().join(",")},Y.prototype.toJSON=function(){return this.toArray()},Y.prototype.inspect=function(){var G=this.toArray();return Object.defineProperty(G,"constructor",{value:Y,enumerable:!1}),G},typeof Symbol<"u"&&(Y.prototype[Symbol.for("nodejs.util.inspect.custom")]=Y.prototype.inspect),Y.from=function(G){var X=new Y;return A(G,function(_){X.enqueue(_)}),X},Y.of=function(){return Y.from(arguments)},Ue.exports=Y},7783:Ue=>{Ue.exports=function ge(S,Z,A){function Y(_,x){if(!Z[_]){if(!S[_]){if(G)return G(_,!0);throw new Error("Cannot find module '"+_+"'")}x=Z[_]={exports:{}},S[_][0].call(x.exports,function(W){return Y(S[_][1][W]||W)},x,x.exports,ge,S,Z,A)}return Z[_].exports}for(var G=void 0,X=0;X<A.length;X++)Y(A[X]);return Y}({1:[function(ge,S,Z){(function(A,Y,G,X,_,x,N,W,R){"use strict";var D=ge("crypto");function re(q,B){var y;return void 0===(y="passthrough"!==(B=oe(q,B)).algorithm?D.createHash(B.algorithm):new ee).write&&(y.write=y.update,y.end=y.update),z(B,y).dispatch(q),y.update||y.end(""),y.digest?y.digest("buffer"===B.encoding?void 0:B.encoding):(q=y.read(),"buffer"!==B.encoding?q.toString(B.encoding):q)}(Z=S.exports=re).sha1=function(q){return re(q)},Z.keys=function(q){return re(q,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},Z.MD5=function(q){return re(q,{algorithm:"md5",encoding:"hex"})},Z.keysMD5=function(q){return re(q,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var w=D.getHashes?D.getHashes().slice():["sha1","md5"],F=(w.push("passthrough"),["buffer","hex","binary","base64"]);function oe(q,B){var y={};if(y.algorithm=(B=B||{}).algorithm||"sha1",y.encoding=B.encoding||"hex",y.excludeValues=!!B.excludeValues,y.algorithm=y.algorithm.toLowerCase(),y.encoding=y.encoding.toLowerCase(),y.ignoreUnknown=!0===B.ignoreUnknown,y.respectType=!1!==B.respectType,y.respectFunctionNames=!1!==B.respectFunctionNames,y.respectFunctionProperties=!1!==B.respectFunctionProperties,y.unorderedArrays=!0===B.unorderedArrays,y.unorderedSets=!1!==B.unorderedSets,y.unorderedObjects=!1!==B.unorderedObjects,y.replacer=B.replacer||void 0,y.excludeKeys=B.excludeKeys||void 0,void 0===q)throw new Error("Object argument required.");for(var M=0;M<w.length;++M)w[M].toLowerCase()===y.algorithm.toLowerCase()&&(y.algorithm=w[M]);if(-1===w.indexOf(y.algorithm))throw new Error('Algorithm "'+y.algorithm+'"  not supported. supported values: '+w.join(", "));if(-1===F.indexOf(y.encoding)&&"passthrough"!==y.algorithm)throw new Error('Encoding "'+y.encoding+'"  not supported. supported values: '+F.join(", "));return y}function $(q){if("function"==typeof q)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(q))}function z(q,B,y){function M(T){return B.update?B.update(T,"utf8"):B.write(T,"utf8")}return y=y||[],{dispatch:function(T){return this["_"+(null===(T=q.replacer?q.replacer(T):T)?"null":typeof T)](T)},_object:function(T){var ce,j=Object.prototype.toString.call(T),Ie=/\[object (.*)\]/i.exec(j);if(Ie=(Ie=Ie?Ie[1]:"unknown:["+j+"]").toLowerCase(),0<=(j=y.indexOf(T)))return this.dispatch("[CIRCULAR:"+j+"]");if(y.push(T),void 0!==G&&G.isBuffer&&G.isBuffer(T))return M("buffer:"),M(T);if("object"===Ie||"function"===Ie||"asyncfunction"===Ie)return j=Object.keys(T),q.unorderedObjects&&(j=j.sort()),!1===q.respectType||$(T)||j.splice(0,0,"prototype","__proto__","constructor"),q.excludeKeys&&(j=j.filter(function(ae){return!q.excludeKeys(ae)})),M("object:"+j.length+":"),ce=this,j.forEach(function(ae){ce.dispatch(ae),M(":"),q.excludeValues||ce.dispatch(T[ae]),M(",")});if(!this["_"+Ie]){if(q.ignoreUnknown)return M("["+Ie+"]");throw new Error('Unknown object type "'+Ie+'"')}this["_"+Ie](T)},_array:function(T,ae){ae=void 0!==ae?ae:!1!==q.unorderedArrays;var j=this;if(M("array:"+T.length+":"),!ae||T.length<=1)return T.forEach(function(xe){return j.dispatch(xe)});var Ie=[];return ae=T.map(function(xe){var Oe=new ee,ze=y.slice();return z(q,Oe,ze).dispatch(xe),Ie=Ie.concat(ze.slice(y.length)),Oe.read().toString()}),y=y.concat(Ie),ae.sort(),this._array(ae,!1)},_date:function(T){return M("date:"+T.toJSON())},_symbol:function(T){return M("symbol:"+T.toString())},_error:function(T){return M("error:"+T.toString())},_boolean:function(T){return M("bool:"+T.toString())},_string:function(T){M("string:"+T.length+":"),M(T.toString())},_function:function(T){M("fn:"),$(T)?this.dispatch("[native]"):this.dispatch(T.toString()),!1!==q.respectFunctionNames&&this.dispatch("function-name:"+String(T.name)),q.respectFunctionProperties&&this._object(T)},_number:function(T){return M("number:"+T.toString())},_xml:function(T){return M("xml:"+T.toString())},_null:function(){return M("Null")},_undefined:function(){return M("Undefined")},_regexp:function(T){return M("regex:"+T.toString())},_uint8array:function(T){return M("uint8array:"),this.dispatch(Array.prototype.slice.call(T))},_uint8clampedarray:function(T){return M("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(T))},_int8array:function(T){return M("int8array:"),this.dispatch(Array.prototype.slice.call(T))},_uint16array:function(T){return M("uint16array:"),this.dispatch(Array.prototype.slice.call(T))},_int16array:function(T){return M("int16array:"),this.dispatch(Array.prototype.slice.call(T))},_uint32array:function(T){return M("uint32array:"),this.dispatch(Array.prototype.slice.call(T))},_int32array:function(T){return M("int32array:"),this.dispatch(Array.prototype.slice.call(T))},_float32array:function(T){return M("float32array:"),this.dispatch(Array.prototype.slice.call(T))},_float64array:function(T){return M("float64array:"),this.dispatch(Array.prototype.slice.call(T))},_arraybuffer:function(T){return M("arraybuffer:"),this.dispatch(new Uint8Array(T))},_url:function(T){return M("url:"+T.toString())},_map:function(T){return M("map:"),T=Array.from(T),this._array(T,!1!==q.unorderedSets)},_set:function(T){return M("set:"),T=Array.from(T),this._array(T,!1!==q.unorderedSets)},_file:function(T){return M("file:"),this.dispatch([T.name,T.size,T.type,T.lastModfied])},_blob:function(){if(q.ignoreUnknown)return M("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return M("domwindow")},_bigint:function(T){return M("bigint:"+T.toString())},_process:function(){return M("process")},_timer:function(){return M("timer")},_pipe:function(){return M("pipe")},_tcp:function(){return M("tcp")},_udp:function(){return M("udp")},_tty:function(){return M("tty")},_statwatcher:function(){return M("statwatcher")},_securecontext:function(){return M("securecontext")},_connection:function(){return M("connection")},_zlib:function(){return M("zlib")},_context:function(){return M("context")},_nodescript:function(){return M("nodescript")},_httpparser:function(){return M("httpparser")},_dataview:function(){return M("dataview")},_signal:function(){return M("signal")},_fsevent:function(){return M("fsevent")},_tlswrap:function(){return M("tlswrap")}}}function ee(){return{buf:"",write:function(q){this.buf+=q},end:function(q){this.buf+=q},read:function(){return this.buf}}}Z.writeToStream=function(q,B,y){return void 0===y&&(y=B,B={}),z(B=oe(q,B),y).dispatch(q)}}).call(this,ge("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ge("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(ge,S,Z){(function(A,Y,G,X,_,x,N,W,R){!function(D){"use strict";var re=typeof Uint8Array<"u"?Uint8Array:Array;function B(y){return 43===(y=y.charCodeAt(0))||45===y?62:47===y||95===y?63:y<48?-1:y<58?y-48+26+26:y<91?y-65:y<123?y-97+26:void 0}D.toByteArray=function(y){var M,T;if(0<y.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var ce="="===y.charAt((ce=y.length)-2)?2:"="===y.charAt(ce-1)?1:0,j=new re(3*y.length/4-ce),Ie=0<ce?y.length-4:y.length,ae=0;function xe(Oe){j[ae++]=Oe}for(M=0;M<Ie;M+=4,0)xe((16711680&(T=B(y.charAt(M))<<18|B(y.charAt(M+1))<<12|B(y.charAt(M+2))<<6|B(y.charAt(M+3))))>>16),xe((65280&T)>>8),xe(255&T);return 2==ce?xe(255&(T=B(y.charAt(M))<<2|B(y.charAt(M+1))>>4)):1==ce&&(xe((T=B(y.charAt(M))<<10|B(y.charAt(M+1))<<4|B(y.charAt(M+2))>>2)>>8&255),xe(255&T)),j},D.fromByteArray=function(y){var M,T,ce,j,Ie=y.length%3,ae="";function xe(Oe){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(Oe)}for(M=0,ce=y.length-Ie;M<ce;M+=3)ae+=xe((j=T=(y[M]<<16)+(y[M+1]<<8)+y[M+2])>>18&63)+xe(j>>12&63)+xe(j>>6&63)+xe(63&j);switch(Ie){case 1:ae=(ae+=xe((T=y[y.length-1])>>2))+xe(T<<4&63)+"==";break;case 2:ae=(ae=(ae+=xe((T=(y[y.length-2]<<8)+y[y.length-1])>>10))+xe(T>>4&63))+xe(T<<2&63)+"="}return ae}}(void 0===Z?this.base64js={}:Z)}).call(this,ge("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ge("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(ge,S,Z){(function(A,Y,w,X,_,x,N,W,R){var D=ge("base64-js"),re=ge("ieee754");function w(fe,O,C){if(!(this instanceof w))return new w(fe,O,C);var ie,J,He,Je,de=typeof fe;if("base64"===O&&"string"==de)for(fe=(Je=fe).trim?Je.trim():Je.replace(/^\s+|\s+$/g,"");fe.length%4!=0;)fe+="=";if("number"==de)ie=nt(fe);else if("string"==de)ie=w.byteLength(fe,O);else{if("object"!=de)throw new Error("First argument needs to be a number, array or string.");ie=nt(fe.length)}if(w._useTypedArrays?J=w._augment(new Uint8Array(ie)):((J=this).length=ie,J._isBuffer=!0),w._useTypedArrays&&"number"==typeof fe.byteLength)J._set(fe);else if(Ze(Je=fe)||w.isBuffer(Je)||Je&&"object"==typeof Je&&"number"==typeof Je.length)for(He=0;He<ie;He++)J[He]=w.isBuffer(fe)?fe.readUInt8(He):fe[He];else if("string"==de)J.write(fe,0,O);else if("number"==de&&!w._useTypedArrays&&!C)for(He=0;He<ie;He++)J[He]=0;return J}function z(fe,O,C,He){var J;if(He||(Ke("boolean"==typeof C,"missing or invalid endian"),Ke(null!=O,"missing offset"),Ke(O+1<fe.length,"Trying to read beyond buffer length")),!((He=fe.length)<=O))return C?(J=fe[O],O+1<He&&(J|=fe[O+1]<<8)):(J=fe[O]<<8,O+1<He&&(J|=fe[O+1])),J}function ee(fe,O,C,He){var J;if(He||(Ke("boolean"==typeof C,"missing or invalid endian"),Ke(null!=O,"missing offset"),Ke(O+3<fe.length,"Trying to read beyond buffer length")),!((He=fe.length)<=O))return C?(O+2<He&&(J=fe[O+2]<<16),O+1<He&&(J|=fe[O+1]<<8),J|=fe[O],O+3<He&&(J+=fe[O+3]<<24>>>0)):(O+1<He&&(J=fe[O+1]<<16),O+2<He&&(J|=fe[O+2]<<8),O+3<He&&(J|=fe[O+3]),J+=fe[O]<<24>>>0),J}function q(fe,O,C,ie){if(ie||(Ke("boolean"==typeof C,"missing or invalid endian"),Ke(null!=O,"missing offset"),Ke(O+1<fe.length,"Trying to read beyond buffer length")),!(fe.length<=O))return 32768&(ie=z(fe,O,C,!0))?-1*(65535-ie+1):ie}function B(fe,O,C,ie){if(ie||(Ke("boolean"==typeof C,"missing or invalid endian"),Ke(null!=O,"missing offset"),Ke(O+3<fe.length,"Trying to read beyond buffer length")),!(fe.length<=O))return 2147483648&(ie=ee(fe,O,C,!0))?-1*(4294967295-ie+1):ie}function y(fe,O,C,ie){return ie||(Ke("boolean"==typeof C,"missing or invalid endian"),Ke(O+3<fe.length,"Trying to read beyond buffer length")),re.read(fe,O,C,23,4)}function M(fe,O,C,ie){return ie||(Ke("boolean"==typeof C,"missing or invalid endian"),Ke(O+7<fe.length,"Trying to read beyond buffer length")),re.read(fe,O,C,52,8)}function T(fe,O,C,ie,J){if(J||(Ke(null!=O,"missing value"),Ke("boolean"==typeof ie,"missing or invalid endian"),Ke(null!=C,"missing offset"),Ke(C+1<fe.length,"trying to write beyond buffer length"),Se(O,65535)),!((J=fe.length)<=C))for(var He=0,Je=Math.min(J-C,2);He<Je;He++)fe[C+He]=(O&255<<8*(ie?He:1-He))>>>8*(ie?He:1-He)}function ce(fe,O,C,ie,J){if(J||(Ke(null!=O,"missing value"),Ke("boolean"==typeof ie,"missing or invalid endian"),Ke(null!=C,"missing offset"),Ke(C+3<fe.length,"trying to write beyond buffer length"),Se(O,4294967295)),!((J=fe.length)<=C))for(var He=0,Je=Math.min(J-C,4);He<Je;He++)fe[C+He]=O>>>8*(ie?He:3-He)&255}function j(fe,O,C,ie,J){J||(Ke(null!=O,"missing value"),Ke("boolean"==typeof ie,"missing or invalid endian"),Ke(null!=C,"missing offset"),Ke(C+1<fe.length,"Trying to write beyond buffer length"),at(O,32767,-32768)),fe.length<=C||T(fe,0<=O?O:65535+O+1,C,ie,J)}function Ie(fe,O,C,ie,J){J||(Ke(null!=O,"missing value"),Ke("boolean"==typeof ie,"missing or invalid endian"),Ke(null!=C,"missing offset"),Ke(C+3<fe.length,"Trying to write beyond buffer length"),at(O,2147483647,-2147483648)),fe.length<=C||ce(fe,0<=O?O:4294967295+O+1,C,ie,J)}function ae(fe,O,C,ie,J){J||(Ke(null!=O,"missing value"),Ke("boolean"==typeof ie,"missing or invalid endian"),Ke(null!=C,"missing offset"),Ke(C+3<fe.length,"Trying to write beyond buffer length"),bt(O,34028234663852886e22,-34028234663852886e22)),fe.length<=C||re.write(fe,O,C,ie,23,4)}function xe(fe,O,C,ie,J){J||(Ke(null!=O,"missing value"),Ke("boolean"==typeof ie,"missing or invalid endian"),Ke(null!=C,"missing offset"),Ke(C+7<fe.length,"Trying to write beyond buffer length"),bt(O,17976931348623157e292,-17976931348623157e292)),fe.length<=C||re.write(fe,O,C,ie,52,8)}Z.Buffer=w,Z.SlowBuffer=w,Z.INSPECT_MAX_BYTES=50,w.poolSize=8192,w._useTypedArrays=function(){try{var fe=new ArrayBuffer(0),O=new Uint8Array(fe);return O.foo=function(){return 42},42===O.foo()&&"function"==typeof O.subarray}catch{return!1}}(),w.isEncoding=function(fe){switch(String(fe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.isBuffer=function(fe){return!(null==fe||!fe._isBuffer)},w.byteLength=function(fe,O){var C;switch(fe+="",O||"utf8"){case"hex":C=fe.length/2;break;case"utf8":case"utf-8":C=je(fe).length;break;case"ascii":case"binary":case"raw":C=fe.length;break;case"base64":C=Ce(fe).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":C=2*fe.length;break;default:throw new Error("Unknown encoding")}return C},w.concat=function(fe,O){if(Ke(Ze(fe),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===fe.length)return new w(0);if(1===fe.length)return fe[0];if("number"!=typeof O)for(J=O=0;J<fe.length;J++)O+=fe[J].length;for(var C=new w(O),ie=0,J=0;J<fe.length;J++){var He=fe[J];He.copy(C,ie),ie+=He.length}return C},w.prototype.write=function(fe,O,C,ie){isFinite(O)?isFinite(C)||(ie=C,C=void 0):(te=ie,ie=O,O=C,C=te),O=Number(O)||0;var J,He,Je,de,te=this.length-O;switch((!C||te<(C=Number(C)))&&(C=te),ie=String(ie||"utf8").toLowerCase()){case"hex":J=function(U,I,k,he){k=Number(k)||0;var qe=U.length-k;(!he||qe<(he=Number(he)))&&(he=qe),Ke((qe=I.length)%2==0,"Invalid hex string"),qe/2<he&&(he=qe/2);for(var Ee=0;Ee<he;Ee++){var Ve=parseInt(I.substr(2*Ee,2),16);Ke(!isNaN(Ve),"Invalid hex string"),U[k+Ee]=Ve}return w._charsWritten=2*Ee,Ee}(this,fe,O,C);break;case"utf8":case"utf-8":He=this,Je=O,de=C,J=w._charsWritten=Be(je(fe),He,Je,de);break;case"ascii":case"binary":J=function F(fe,O,C,ie){return w._charsWritten=Be(function(J){for(var He=[],Je=0;Je<J.length;Je++)He.push(255&J.charCodeAt(Je));return He}(O),fe,C,ie)}(this,fe,O,C);break;case"base64":He=this,Je=O,de=C,J=w._charsWritten=Be(Ce(fe),He,Je,de);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":J=function oe(fe,O,C,ie){return w._charsWritten=Be(function(J){for(var He,Je,de=[],te=0;te<J.length;te++)He=(Je=J.charCodeAt(te))>>8,de.push(Je%=256),de.push(He);return de}(O),fe,C,ie)}(this,fe,O,C);break;default:throw new Error("Unknown encoding")}return J},w.prototype.toString=function(fe,O,C){var ie,J,He,Je,de=this;if(fe=String(fe||"utf8").toLowerCase(),O=Number(O)||0,(C=void 0!==C?Number(C):de.length)===O)return"";switch(fe){case"hex":ie=function(te,U,I){var k=te.length;(!U||U<0)&&(U=0),(!I||I<0||k<I)&&(I=k);for(var he="",qe=U;qe<I;qe++)he+=Te(te[qe]);return he}(de,O,C);break;case"utf8":case"utf-8":ie=function(te,U,I){var k="",he="";I=Math.min(te.length,I);for(var qe=U;qe<I;qe++)te[qe]<=127?(k+=ue(he)+String.fromCharCode(te[qe]),he=""):he+="%"+te[qe].toString(16);return k+ue(he)}(de,O,C);break;case"ascii":case"binary":ie=function $(fe,O,C){var ie="";C=Math.min(fe.length,C);for(var J=O;J<C;J++)ie+=String.fromCharCode(fe[J]);return ie}(de,O,C);break;case"base64":J=de,Je=C,ie=0===(He=O)&&Je===J.length?D.fromByteArray(J):D.fromByteArray(J.slice(He,Je));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ie=function(te,U,I){for(var k=te.slice(U,I),he="",qe=0;qe<k.length;qe+=2)he+=String.fromCharCode(k[qe]+256*k[qe+1]);return he}(de,O,C);break;default:throw new Error("Unknown encoding")}return ie},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},w.prototype.copy=function(fe,O,C,ie){if(O=O||0,(ie=ie||0===ie?ie:this.length)!==(C=C||0)&&0!==fe.length&&0!==this.length){Ke(C<=ie,"sourceEnd < sourceStart"),Ke(0<=O&&O<fe.length,"targetStart out of bounds"),Ke(0<=C&&C<this.length,"sourceStart out of bounds"),Ke(0<=ie&&ie<=this.length,"sourceEnd out of bounds"),ie>this.length&&(ie=this.length);var J=(ie=fe.length-O<ie-C?fe.length-O+C:ie)-C;if(J<100||!w._useTypedArrays)for(var He=0;He<J;He++)fe[He+O]=this[He+C];else fe._set(this.subarray(C,C+J),O)}},w.prototype.slice=function(fe,O){var C=this.length;if(fe=ze(fe,C,0),O=ze(O,C,C),w._useTypedArrays)return w._augment(this.subarray(fe,O));for(var ie=O-fe,J=new w(ie,void 0,!0),He=0;He<ie;He++)J[He]=this[He+fe];return J},w.prototype.get=function(fe){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(fe)},w.prototype.set=function(fe,O){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(fe,O)},w.prototype.readUInt8=function(fe,O){if(O||(Ke(null!=fe,"missing offset"),Ke(fe<this.length,"Trying to read beyond buffer length")),!(fe>=this.length))return this[fe]},w.prototype.readUInt16LE=function(fe,O){return z(this,fe,!0,O)},w.prototype.readUInt16BE=function(fe,O){return z(this,fe,!1,O)},w.prototype.readUInt32LE=function(fe,O){return ee(this,fe,!0,O)},w.prototype.readUInt32BE=function(fe,O){return ee(this,fe,!1,O)},w.prototype.readInt8=function(fe,O){if(O||(Ke(null!=fe,"missing offset"),Ke(fe<this.length,"Trying to read beyond buffer length")),!(fe>=this.length))return 128&this[fe]?-1*(255-this[fe]+1):this[fe]},w.prototype.readInt16LE=function(fe,O){return q(this,fe,!0,O)},w.prototype.readInt16BE=function(fe,O){return q(this,fe,!1,O)},w.prototype.readInt32LE=function(fe,O){return B(this,fe,!0,O)},w.prototype.readInt32BE=function(fe,O){return B(this,fe,!1,O)},w.prototype.readFloatLE=function(fe,O){return y(this,fe,!0,O)},w.prototype.readFloatBE=function(fe,O){return y(this,fe,!1,O)},w.prototype.readDoubleLE=function(fe,O){return M(this,fe,!0,O)},w.prototype.readDoubleBE=function(fe,O){return M(this,fe,!1,O)},w.prototype.writeUInt8=function(fe,O,C){C||(Ke(null!=fe,"missing value"),Ke(null!=O,"missing offset"),Ke(O<this.length,"trying to write beyond buffer length"),Se(fe,255)),O>=this.length||(this[O]=fe)},w.prototype.writeUInt16LE=function(fe,O,C){T(this,fe,O,!0,C)},w.prototype.writeUInt16BE=function(fe,O,C){T(this,fe,O,!1,C)},w.prototype.writeUInt32LE=function(fe,O,C){ce(this,fe,O,!0,C)},w.prototype.writeUInt32BE=function(fe,O,C){ce(this,fe,O,!1,C)},w.prototype.writeInt8=function(fe,O,C){C||(Ke(null!=fe,"missing value"),Ke(null!=O,"missing offset"),Ke(O<this.length,"Trying to write beyond buffer length"),at(fe,127,-128)),O>=this.length||this.writeUInt8(0<=fe?fe:255+fe+1,O,C)},w.prototype.writeInt16LE=function(fe,O,C){j(this,fe,O,!0,C)},w.prototype.writeInt16BE=function(fe,O,C){j(this,fe,O,!1,C)},w.prototype.writeInt32LE=function(fe,O,C){Ie(this,fe,O,!0,C)},w.prototype.writeInt32BE=function(fe,O,C){Ie(this,fe,O,!1,C)},w.prototype.writeFloatLE=function(fe,O,C){ae(this,fe,O,!0,C)},w.prototype.writeFloatBE=function(fe,O,C){ae(this,fe,O,!1,C)},w.prototype.writeDoubleLE=function(fe,O,C){xe(this,fe,O,!0,C)},w.prototype.writeDoubleBE=function(fe,O,C){xe(this,fe,O,!1,C)},w.prototype.fill=function(fe,O,C){if(O=O||0,C=C||this.length,Ke("number"==typeof(fe="string"==typeof(fe=fe||0)?fe.charCodeAt(0):fe)&&!isNaN(fe),"value is not a number"),Ke(O<=C,"end < start"),C!==O&&0!==this.length){Ke(0<=O&&O<this.length,"start out of bounds"),Ke(0<=C&&C<=this.length,"end out of bounds");for(var ie=O;ie<C;ie++)this[ie]=fe}},w.prototype.inspect=function(){for(var fe=[],O=this.length,C=0;C<O;C++)if(fe[C]=Te(this[C]),C===Z.INSPECT_MAX_BYTES){fe[C+1]="...";break}return"<Buffer "+fe.join(" ")+">"},w.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(w._useTypedArrays)return new w(this).buffer;for(var fe=new Uint8Array(this.length),O=0,C=fe.length;O<C;O+=1)fe[O]=this[O];return fe.buffer};var Oe=w.prototype;function ze(fe,O,C){return"number"!=typeof fe?C:O<=(fe=~~fe)?O:0<=fe||0<=(fe+=O)?fe:0}function nt(fe){return(fe=~~Math.ceil(+fe))<0?0:fe}function Ze(fe){return(Array.isArray||function(O){return"[object Array]"===Object.prototype.toString.call(O)})(fe)}function Te(fe){return fe<16?"0"+fe.toString(16):fe.toString(16)}function je(fe){for(var O=[],C=0;C<fe.length;C++){var ie=fe.charCodeAt(C);if(ie<=127)O.push(fe.charCodeAt(C));else for(var J=C,He=(55296<=ie&&ie<=57343&&C++,encodeURIComponent(fe.slice(J,C+1)).substr(1).split("%")),Je=0;Je<He.length;Je++)O.push(parseInt(He[Je],16))}return O}function Ce(fe){return D.toByteArray(fe)}function Be(fe,O,C,ie){for(var J=0;J<ie&&!(J+C>=O.length||J>=fe.length);J++)O[J+C]=fe[J];return J}function ue(fe){try{return decodeURIComponent(fe)}catch{return"\ufffd"}}function Se(fe,O){Ke("number"==typeof fe,"cannot write a non-number as a number"),Ke(0<=fe,"specified a negative value for writing an unsigned value"),Ke(fe<=O,"value is larger than maximum value for type"),Ke(Math.floor(fe)===fe,"value has a fractional component")}function at(fe,O,C){Ke("number"==typeof fe,"cannot write a non-number as a number"),Ke(fe<=O,"value larger than maximum allowed value"),Ke(C<=fe,"value smaller than minimum allowed value"),Ke(Math.floor(fe)===fe,"value has a fractional component")}function bt(fe,O,C){Ke("number"==typeof fe,"cannot write a non-number as a number"),Ke(fe<=O,"value larger than maximum allowed value"),Ke(C<=fe,"value smaller than minimum allowed value")}function Ke(fe,O){if(!fe)throw new Error(O||"Failed assertion")}w._augment=function(fe){return fe._isBuffer=!0,fe._get=fe.get,fe._set=fe.set,fe.get=Oe.get,fe.set=Oe.set,fe.write=Oe.write,fe.toString=Oe.toString,fe.toLocaleString=Oe.toString,fe.toJSON=Oe.toJSON,fe.copy=Oe.copy,fe.slice=Oe.slice,fe.readUInt8=Oe.readUInt8,fe.readUInt16LE=Oe.readUInt16LE,fe.readUInt16BE=Oe.readUInt16BE,fe.readUInt32LE=Oe.readUInt32LE,fe.readUInt32BE=Oe.readUInt32BE,fe.readInt8=Oe.readInt8,fe.readInt16LE=Oe.readInt16LE,fe.readInt16BE=Oe.readInt16BE,fe.readInt32LE=Oe.readInt32LE,fe.readInt32BE=Oe.readInt32BE,fe.readFloatLE=Oe.readFloatLE,fe.readFloatBE=Oe.readFloatBE,fe.readDoubleLE=Oe.readDoubleLE,fe.readDoubleBE=Oe.readDoubleBE,fe.writeUInt8=Oe.writeUInt8,fe.writeUInt16LE=Oe.writeUInt16LE,fe.writeUInt16BE=Oe.writeUInt16BE,fe.writeUInt32LE=Oe.writeUInt32LE,fe.writeUInt32BE=Oe.writeUInt32BE,fe.writeInt8=Oe.writeInt8,fe.writeInt16LE=Oe.writeInt16LE,fe.writeInt16BE=Oe.writeInt16BE,fe.writeInt32LE=Oe.writeInt32LE,fe.writeInt32BE=Oe.writeInt32BE,fe.writeFloatLE=Oe.writeFloatLE,fe.writeFloatBE=Oe.writeFloatBE,fe.writeDoubleLE=Oe.writeDoubleLE,fe.writeDoubleBE=Oe.writeDoubleBE,fe.fill=Oe.fill,fe.inspect=Oe.inspect,fe.toArrayBuffer=Oe.toArrayBuffer,fe}}).call(this,ge("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ge("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(ge,S,Z){(function(A,Y,D,X,_,x,N,W,R){D=ge("buffer").Buffer;var w=new D(4);w.fill(0),S.exports={hash:function(F,oe,$,z){for(var ee=oe(function(T,ce){T.length%4!=0&&(T=D.concat([T,w],T.length+(4-T.length%4)));for(var Ie=[],ae=ce?T.readInt32BE:T.readInt32LE,xe=0;xe<T.length;xe+=4)Ie.push(ae.call(T,xe));return Ie}(F=D.isBuffer(F)?F:new D(F),z),8*F.length),q=(oe=z,new D($)),B=oe?q.writeInt32BE:q.writeInt32LE,y=0;y<ee.length;y++)B.call(q,ee[y],4*y,!0);return q}}}).call(this,ge("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ge("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(ge,S,Z){(function(A,Y,D,X,_,x,N,W,R){D=ge("buffer").Buffer;var re=ge("./sha"),w=ge("./sha256"),F=ge("./rng"),oe={sha1:re,sha256:w,md5:ge("./md5")},$=64,z=new D($);function ee(T,ce){var j=oe[T=T||"sha1"],Ie=[];return j||q("algorithm:",T,"is not yet supported"),{update:function(ae){return D.isBuffer(ae)||(ae=new D(ae)),Ie.push(ae),this},digest:function(ae){var xe=D.concat(Ie);return xe=ce?function(Oe,ze,nt){D.isBuffer(ze)||(ze=new D(ze)),D.isBuffer(nt)||(nt=new D(nt)),ze.length>$?ze=Oe(ze):ze.length<$&&(ze=D.concat([ze,z],$));for(var Ze=new D($),Te=new D($),je=0;je<$;je++)Ze[je]=54^ze[je],Te[je]=92^ze[je];return nt=Oe(D.concat([Ze,nt])),Oe(D.concat([Te,nt]))}(j,ce,xe):j(xe),Ie=null,ae?xe.toString(ae):xe}}}function q(){var T=[].slice.call(arguments).join(" ");throw new Error([T,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}z.fill(0),Z.createHash=function(T){return ee(T)},Z.createHmac=ee,Z.randomBytes=function(T,ce){if(!ce||!ce.call)return new D(F(T));try{ce.call(this,void 0,new D(F(T)))}catch(j){ce(j)}};var B,y=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],M=function(T){Z[T]=function(){q("sorry,",T,"is not implemented yet")}};for(B in y)M(y[B])}).call(this,ge("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ge("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(ge,S,Z){(function(A,Y,G,X,_,x,N,W,R){var D=ge("./helpers");function re(q,B){q[B>>5]|=128<<B%32,q[14+(B+64>>>9<<4)]=B;for(var y=1732584193,M=-271733879,T=-1732584194,ce=271733878,j=0;j<q.length;j+=16){var Ie=y,ae=M,xe=T,Oe=ce;y=F(y,M,T,ce,q[j+0],7,-680876936),ce=F(ce,y,M,T,q[j+1],12,-389564586),T=F(T,ce,y,M,q[j+2],17,606105819),M=F(M,T,ce,y,q[j+3],22,-1044525330),y=F(y,M,T,ce,q[j+4],7,-176418897),ce=F(ce,y,M,T,q[j+5],12,1200080426),T=F(T,ce,y,M,q[j+6],17,-1473231341),M=F(M,T,ce,y,q[j+7],22,-45705983),y=F(y,M,T,ce,q[j+8],7,1770035416),ce=F(ce,y,M,T,q[j+9],12,-1958414417),T=F(T,ce,y,M,q[j+10],17,-42063),M=F(M,T,ce,y,q[j+11],22,-1990404162),y=F(y,M,T,ce,q[j+12],7,1804603682),ce=F(ce,y,M,T,q[j+13],12,-40341101),T=F(T,ce,y,M,q[j+14],17,-1502002290),y=oe(y,M=F(M,T,ce,y,q[j+15],22,1236535329),T,ce,q[j+1],5,-165796510),ce=oe(ce,y,M,T,q[j+6],9,-1069501632),T=oe(T,ce,y,M,q[j+11],14,643717713),M=oe(M,T,ce,y,q[j+0],20,-373897302),y=oe(y,M,T,ce,q[j+5],5,-701558691),ce=oe(ce,y,M,T,q[j+10],9,38016083),T=oe(T,ce,y,M,q[j+15],14,-660478335),M=oe(M,T,ce,y,q[j+4],20,-405537848),y=oe(y,M,T,ce,q[j+9],5,568446438),ce=oe(ce,y,M,T,q[j+14],9,-1019803690),T=oe(T,ce,y,M,q[j+3],14,-187363961),M=oe(M,T,ce,y,q[j+8],20,1163531501),y=oe(y,M,T,ce,q[j+13],5,-1444681467),ce=oe(ce,y,M,T,q[j+2],9,-51403784),T=oe(T,ce,y,M,q[j+7],14,1735328473),y=$(y,M=oe(M,T,ce,y,q[j+12],20,-1926607734),T,ce,q[j+5],4,-378558),ce=$(ce,y,M,T,q[j+8],11,-2022574463),T=$(T,ce,y,M,q[j+11],16,1839030562),M=$(M,T,ce,y,q[j+14],23,-35309556),y=$(y,M,T,ce,q[j+1],4,-1530992060),ce=$(ce,y,M,T,q[j+4],11,1272893353),T=$(T,ce,y,M,q[j+7],16,-155497632),M=$(M,T,ce,y,q[j+10],23,-1094730640),y=$(y,M,T,ce,q[j+13],4,681279174),ce=$(ce,y,M,T,q[j+0],11,-358537222),T=$(T,ce,y,M,q[j+3],16,-722521979),M=$(M,T,ce,y,q[j+6],23,76029189),y=$(y,M,T,ce,q[j+9],4,-640364487),ce=$(ce,y,M,T,q[j+12],11,-421815835),T=$(T,ce,y,M,q[j+15],16,530742520),y=z(y,M=$(M,T,ce,y,q[j+2],23,-995338651),T,ce,q[j+0],6,-198630844),ce=z(ce,y,M,T,q[j+7],10,1126891415),T=z(T,ce,y,M,q[j+14],15,-1416354905),M=z(M,T,ce,y,q[j+5],21,-57434055),y=z(y,M,T,ce,q[j+12],6,1700485571),ce=z(ce,y,M,T,q[j+3],10,-1894986606),T=z(T,ce,y,M,q[j+10],15,-1051523),M=z(M,T,ce,y,q[j+1],21,-2054922799),y=z(y,M,T,ce,q[j+8],6,1873313359),ce=z(ce,y,M,T,q[j+15],10,-30611744),T=z(T,ce,y,M,q[j+6],15,-1560198380),M=z(M,T,ce,y,q[j+13],21,1309151649),y=z(y,M,T,ce,q[j+4],6,-145523070),ce=z(ce,y,M,T,q[j+11],10,-1120210379),T=z(T,ce,y,M,q[j+2],15,718787259),M=z(M,T,ce,y,q[j+9],21,-343485551),y=ee(y,Ie),M=ee(M,ae),T=ee(T,xe),ce=ee(ce,Oe)}return Array(y,M,T,ce)}function w(q,B,y,M,T,ce){return ee((B=ee(ee(B,q),ee(M,ce)))<<T|B>>>32-T,y)}function F(q,B,y,M,T,ce,j){return w(B&y|~B&M,q,B,T,ce,j)}function oe(q,B,y,M,T,ce,j){return w(B&M|y&~M,q,B,T,ce,j)}function $(q,B,y,M,T,ce,j){return w(B^y^M,q,B,T,ce,j)}function z(q,B,y,M,T,ce,j){return w(y^(B|~M),q,B,T,ce,j)}function ee(q,B){var y=(65535&q)+(65535&B);return(q>>16)+(B>>16)+(y>>16)<<16|65535&y}S.exports=function(q){return D.hash(q,re,16)}}).call(this,ge("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ge("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(ge,S,Z){(function(A,Y,G,X,_,x,N,W,R){S.exports=function(re){for(var w,F=new Array(re),oe=0;oe<re;oe++)!(3&oe)&&(w=4294967296*Math.random()),F[oe]=w>>>((3&oe)<<3)&255;return F}}).call(this,ge("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ge("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(ge,S,Z){(function(A,Y,G,X,_,x,N,W,R){var D=ge("./helpers");function re(oe,$){oe[$>>5]|=128<<24-$%32,oe[15+($+64>>9<<4)]=$;for(var z,ee,q,B=Array(80),y=1732584193,M=-271733879,T=-1732584194,ce=271733878,j=-1009589776,Ie=0;Ie<oe.length;Ie+=16){for(var ae=y,xe=M,Oe=T,ze=ce,nt=j,Ze=0;Ze<80;Ze++){B[Ze]=Ze<16?oe[Ie+Ze]:F(B[Ze-3]^B[Ze-8]^B[Ze-14]^B[Ze-16],1);var Te=w(w(F(y,5),(Te=M,ee=T,q=ce,(z=Ze)<20?Te&ee|~Te&q:!(z<40)&&z<60?Te&ee|Te&q|ee&q:Te^ee^q)),w(w(j,B[Ze]),(z=Ze)<20?1518500249:z<40?1859775393:z<60?-1894007588:-899497514));j=ce,ce=T,T=F(M,30),M=y,y=Te}y=w(y,ae),M=w(M,xe),T=w(T,Oe),ce=w(ce,ze),j=w(j,nt)}return Array(y,M,T,ce,j)}function w(oe,$){var z=(65535&oe)+(65535&$);return(oe>>16)+($>>16)+(z>>16)<<16|65535&z}function F(oe,$){return oe<<$|oe>>>32-$}S.exports=function(oe){return D.hash(oe,re,20,!0)}}).call(this,ge("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ge("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(ge,S,Z){(function(A,Y,G,X,_,x,N,W,R){function D($,z){var ee=(65535&$)+(65535&z);return($>>16)+(z>>16)+(ee>>16)<<16|65535&ee}function re($,z){var ee,q=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),B=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),y=new Array(64);$[z>>5]|=128<<24-z%32,$[15+(z+64>>9<<4)]=z;for(var M,T,ce=0;ce<$.length;ce+=16){for(var j=B[0],Ie=B[1],ae=B[2],xe=B[3],Oe=B[4],ze=B[5],nt=B[6],Ze=B[7],Te=0;Te<64;Te++)y[Te]=Te<16?$[Te+ce]:D(D(D(F(T=y[Te-2],17)^F(T,19)^oe(T,10),y[Te-7]),F(T=y[Te-15],7)^F(T,18)^oe(T,3)),y[Te-16]),ee=D(D(D(D(Ze,F(T=Oe,6)^F(T,11)^F(T,25)),Oe&ze^~Oe&nt),q[Te]),y[Te]),M=D(F(M=j,2)^F(M,13)^F(M,22),j&Ie^j&ae^Ie&ae),Ze=nt,nt=ze,ze=Oe,Oe=D(xe,ee),xe=ae,ae=Ie,Ie=j,j=D(ee,M);B[0]=D(j,B[0]),B[1]=D(Ie,B[1]),B[2]=D(ae,B[2]),B[3]=D(xe,B[3]),B[4]=D(Oe,B[4]),B[5]=D(ze,B[5]),B[6]=D(nt,B[6]),B[7]=D(Ze,B[7])}return B}var w=ge("./helpers"),F=function($,z){return $>>>z|$<<32-z},oe=function($,z){return $>>>z};S.exports=function($){return w.hash($,re,32,!0)}}).call(this,ge("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ge("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(ge,S,Z){(function(A,Y,G,X,_,x,N,W,R){Z.read=function(D,re,w,F,ce){var $,z,ee=8*ce-F-1,q=(1<<ee)-1,B=q>>1,y=-7,M=w?ce-1:0,T=w?-1:1;for(ce=D[re+M],M+=T,$=ce&(1<<-y)-1,ce>>=-y,y+=ee;0<y;$=256*$+D[re+M],M+=T,y-=8);for(z=$&(1<<-y)-1,$>>=-y,y+=F;0<y;z=256*z+D[re+M],M+=T,y-=8);if(0===$)$=1-B;else{if($===q)return z?NaN:1/0*(ce?-1:1);z+=Math.pow(2,F),$-=B}return(ce?-1:1)*z*Math.pow(2,$-F)},Z.write=function(D,re,w,F,oe,j){var z,ee,q=8*j-oe-1,B=(1<<q)-1,y=B>>1,M=23===oe?Math.pow(2,-24)-Math.pow(2,-77):0,T=F?0:j-1,ce=F?1:-1;for(j=re<0||0===re&&1/re<0?1:0,re=Math.abs(re),isNaN(re)||re===1/0?(ee=isNaN(re)?1:0,z=B):(z=Math.floor(Math.log(re)/Math.LN2),re*(F=Math.pow(2,-z))<1&&(z--,F*=2),2<=(re+=1<=z+y?M/F:M*Math.pow(2,1-y))*F&&(z++,F/=2),B<=z+y?(ee=0,z=B):1<=z+y?(ee=(re*F-1)*Math.pow(2,oe),z+=y):(ee=re*Math.pow(2,y-1)*Math.pow(2,oe),z=0));8<=oe;D[w+T]=255&ee,T+=ce,ee/=256,oe-=8);for(z=z<<oe|ee,q+=oe;0<q;D[w+T]=255&z,T+=ce,z/=256,q-=8);D[w+T-ce]|=128*j}}).call(this,ge("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ge("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(ge,S,Z){(function(A,Y,G,X,_,x,N,W,R){var D,re,w;function F(){}(A=S.exports={}).nextTick=(re=typeof window<"u"&&window.setImmediate,w=typeof window<"u"&&window.postMessage&&window.addEventListener,re?function(oe){return window.setImmediate(oe)}:w?(D=[],window.addEventListener("message",function(oe){var $=oe.source;$!==window&&null!==$||"process-tick"!==oe.data||(oe.stopPropagation(),0<D.length&&D.shift()())},!0),function(oe){D.push(oe),window.postMessage("process-tick","*")}):function(oe){setTimeout(oe,0)}),A.title="browser",A.browser=!0,A.env={},A.argv=[],A.on=F,A.addListener=F,A.once=F,A.off=F,A.removeListener=F,A.removeAllListeners=F,A.emit=F,A.binding=function(oe){throw new Error("process.binding is not supported")},A.cwd=function(){return"/"},A.chdir=function(oe){throw new Error("process.chdir is not supported")}}).call(this,ge("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ge("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)},573:Ue=>{var S,Z,ge=Ue.exports={};function A(){throw new Error("setTimeout has not been defined")}function Y(){throw new Error("clearTimeout has not been defined")}function G(F){if(S===setTimeout)return setTimeout(F,0);if((S===A||!S)&&setTimeout)return S=setTimeout,setTimeout(F,0);try{return S(F,0)}catch{try{return S.call(null,F,0)}catch{return S.call(this,F,0)}}}!function(){try{S="function"==typeof setTimeout?setTimeout:A}catch{S=A}try{Z="function"==typeof clearTimeout?clearTimeout:Y}catch{Z=Y}}();var N,_=[],x=!1,W=-1;function R(){!x||!N||(x=!1,N.length?_=N.concat(_):W=-1,_.length&&D())}function D(){if(!x){var F=G(R);x=!0;for(var oe=_.length;oe;){for(N=_,_=[];++W<oe;)N&&N[W].run();W=-1,oe=_.length}N=null,x=!1,function X(F){if(Z===clearTimeout)return clearTimeout(F);if((Z===Y||!Z)&&clearTimeout)return Z=clearTimeout,clearTimeout(F);try{return Z(F)}catch{try{return Z.call(null,F)}catch{return Z.call(this,F)}}}(F)}}function re(F,oe){this.fun=F,this.array=oe}function w(){}ge.nextTick=function(F){var oe=new Array(arguments.length-1);if(arguments.length>1)for(var $=1;$<arguments.length;$++)oe[$-1]=arguments[$];_.push(new re(F,oe)),1===_.length&&!x&&G(D)},re.prototype.run=function(){this.fun.apply(null,this.array)},ge.title="browser",ge.browser=!0,ge.env={},ge.argv=[],ge.version="",ge.versions={},ge.on=w,ge.addListener=w,ge.once=w,ge.off=w,ge.removeListener=w,ge.removeAllListeners=w,ge.emit=w,ge.prependListener=w,ge.prependOnceListener=w,ge.listeners=function(F){return[]},ge.binding=function(F){throw new Error("process.binding is not supported")},ge.cwd=function(){return"/"},ge.chdir=function(F){throw new Error("process.chdir is not supported")},ge.umask=function(){return 0}},4515:Ue=>{let ge;Ue.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:global):S=>(ge||(ge=Promise.resolve())).then(S).catch(Z=>setTimeout(()=>{throw Z},0))},1224:(Ue,ge,S)=>{Ue.exports=S(4548)},250:Ue=>{"use strict";Ue.exports=class Uee{constructor(S,Z=new Map,A=0){this.prefix=S,this._existing=Z,this.counter=A}clone(){const{prefix:S,_existing:Z,counter:A}=this;return new Uee(S,new Map(Z),A)}getId(S){const Z=S&&this._existing.get(S);if(Z)return Z;const A=this.prefix+this.counter;return this.counter++,S&&this._existing.set(S,A),A}hasId(S){return this._existing.has(S)}getOldIds(){return[...this._existing.keys()]}}},1126:(Ue,ge,S)=>{"use strict";var Z=S(9293).default;S(7140);const A=self.crypto||self.msCrypto;Ue.exports=class{constructor(G){if(!A||!A.subtle)throw new Error("crypto.subtle not found.");if("sha256"===G)this.algorithm={name:"SHA-256"};else{if("sha1"!==G)throw new Error(`Unsupported algorithm "${G}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(G){this._content+=G}digest(){var G=this;return Z(function*(){const X=(new TextEncoder).encode(G._content),_=new Uint8Array(yield A.subtle.digest(G.algorithm,X));let x="";for(let N=0;N<_.length;++N)x+=_[N].toString(16).padStart(2,"0");return x})()}}},8276:Ue=>{"use strict";const Z="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",A="http://www.w3.org/2001/XMLSchema#string",Y="NamedNode",G="BlankNode",X="Literal",_="DefaultGraph",x={};function N(w,F){return w.subject.termType===F.subject.termType&&w.object.termType===F.object.termType&&w.subject.value===F.subject.value&&w.predicate.value===F.predicate.value&&w.object.value===F.object.value&&(w.object.termType!==X||w.object.datatype.termType===F.object.datatype.termType&&w.object.language===F.object.language&&w.object.datatype.value===F.object.datatype.value)}(()=>{const w="(?:<([^:]+:[^>]*)>)",oe="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_",$=oe+"0-9-\xb7\u0300-\u036f\u203f-\u2040",ee="(_:(?:["+oe+"0-9])(?:(?:["+$+".])*(?:["+$+"]))?)",T="[ \\t]+",ce="[ \\t]*",j="(?:"+w+"|"+ee+")"+T,Ie=w+T,ae="(?:"+w+"|"+ee+'|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+w+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))"+ce,xe="(?:\\.|(?:(?:"+w+"|"+ee+")"+ce+"\\.))";x.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,x.empty=new RegExp("^[ \\t]*$"),x.quad=new RegExp("^"+ce+j+Ie+ae+xe+ce+"$")})(),Ue.exports=class bM{static parse(F){const oe=[],$={},z=F.split(x.eoln);let ee=0;for(const q of z){if(ee++,x.empty.test(q))continue;const B=q.match(x.quad);if(null===B)throw new Error("N-Quads parse error on line "+ee+".");const y={subject:null,predicate:null,object:null,graph:null};if(y.subject=void 0!==B[1]?{termType:Y,value:B[1]}:{termType:G,value:B[2]},y.predicate={termType:Y,value:B[3]},void 0!==B[4]?y.object={termType:Y,value:B[4]}:void 0!==B[5]?y.object={termType:G,value:B[5]}:(y.object={termType:X,value:void 0,datatype:{termType:Y}},void 0!==B[7]?y.object.datatype.value=B[7]:void 0!==B[8]?(y.object.datatype.value=Z,y.object.language=B[8]):y.object.datatype.value=A,y.object.value=B[6].replace(D,function(F,oe,$,z){if(oe)switch(oe){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if($)return String.fromCharCode(parseInt($,16));if(z)throw new Error("Unsupported U escape")})),y.graph=void 0!==B[9]?{termType:Y,value:B[9]}:void 0!==B[10]?{termType:G,value:B[10]}:{termType:_,value:""},y.graph.value in $){let M=!0;const T=$[y.graph.value];for(const ce of T)if(N(ce,y)){M=!1;break}M&&(T.push(y),oe.push(y))}else $[y.graph.value]=[y],oe.push(y)}return oe}static serialize(F){Array.isArray(F)||(F=bM.legacyDatasetToQuads(F));const oe=[];for(const $ of F)oe.push(bM.serializeQuad($));return oe.sort().join("")}static serializeQuadComponents(F,oe,$,z){let ee="";return ee+=F.termType===Y?`<${F.value}>`:`${F.value}`,ee+=` <${oe.value}> `,$.termType===Y?ee+=`<${$.value}>`:$.termType===G?ee+=$.value:(ee+=`"${function R(w){return w.replace(W,function(F){switch(F){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}})}($.value)}"`,$.datatype.value===Z?$.language&&(ee+=`@${$.language}`):$.datatype.value!==A&&(ee+=`^^<${$.datatype.value}>`)),z.termType===Y?ee+=` <${z.value}>`:z.termType===G&&(ee+=` ${z.value}`),ee+=" .\n",ee}static serializeQuad(F){return bM.serializeQuadComponents(F.subject,F.predicate,F.object,F.graph)}static legacyDatasetToQuads(F){const oe=[],$={"blank node":G,IRI:Y,literal:X};for(const z in F)F[z].forEach(q=>{const B={};for(const y in q){const M=q[y],T={termType:$[M.type],value:M.value};T.termType===X&&(T.datatype={termType:Y},"datatype"in M&&(T.datatype.value=M.datatype),"language"in M?("datatype"in M||(T.datatype.value=Z),T.language=M.language):"datatype"in M||(T.datatype.value=A)),B[y]=T}B.graph="@default"===z?{termType:_,value:""}:{termType:z.startsWith("_:")?G:Y,value:z},oe.push(B)});return oe}};const W=/["\\\n\r]/g,D=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},7794:Ue=>{"use strict";Ue.exports=class{constructor(S){this.current=S.sort(),this.done=!1,this.dir=new Map;for(let Z=0;Z<S.length;++Z)this.dir.set(S[Z],!0)}hasNext(){return!this.done}next(){const{current:S,dir:Z}=this,A=S.slice();let Y=null,G=0;const X=S.length;for(let _=0;_<X;++_){const x=S[_],N=Z.get(x);(null===Y||x>Y)&&(N&&_>0&&x>S[_-1]||!N&&_<X-1&&x>S[_+1])&&(Y=x,G=_)}if(null===Y)this.done=!0;else{const _=Z.get(Y)?G-1:G+1;S[G]=S[_],S[_]=Y;for(const x of S)x>Y&&Z.set(x,!Z.get(x))}return A}}},624:(Ue,ge,S)=>{"use strict";var Z=S(9293).default;const A=S(250),Y=S(1126),G=S(7794),X=S(8276);function _(x,N){return x.hash<N.hash?-1:x.hash>N.hash?1:0}Ue.exports=class{constructor({createMessageDigest:N=(()=>new Y("sha256")),canonicalIdMap:W=new Map,maxDeepIterations:R=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new A("_:c14n",W),this.createMessageDigest=N,this.maxDeepIterations=R,this.quads=null,this.deepIterations=null}main(N){var W=this;return Z(function*(){W.deepIterations=new Map,W.quads=N;for(const $ of N)W._addBlankNodeQuadInfo({quad:$,component:$.subject}),W._addBlankNodeQuadInfo({quad:$,component:$.object}),W._addBlankNodeQuadInfo({quad:$,component:$.graph});const R=new Map,D=[...W.blankNodeInfo.keys()];let re=0;for(const $ of D)++re%100==0&&(yield W._yield()),yield W._hashAndTrackBlankNode({id:$,hashToBlankNodes:R});const w=[...R.keys()].sort(),F=[];for(const $ of w){const z=R.get($);z.length>1?F.push(z):W.canonicalIssuer.getId(z[0])}for(const $ of F){const z=[];for(const ee of $){if(W.canonicalIssuer.hasId(ee))continue;const q=new A("_:b");q.getId(ee);const B=yield W.hashNDegreeQuads(ee,q);z.push(B)}z.sort(_);for(const ee of z){const q=ee.issuer.getOldIds();for(const B of q)W.canonicalIssuer.getId(B)}}const oe=[];for(const $ of W.quads){const z=X.serializeQuadComponents(W._componentWithCanonicalId($.subject),$.predicate,W._componentWithCanonicalId($.object),W._componentWithCanonicalId($.graph));oe.push(z)}return oe.sort(),oe.join("")})()}hashFirstDegreeQuads(N){var W=this;return Z(function*(){const R=[],D=W.blankNodeInfo.get(N),re=D.quads;for(const F of re){const oe={subject:null,predicate:F.predicate,object:null,graph:null};oe.subject=W.modifyFirstDegreeComponent(N,F.subject,"subject"),oe.object=W.modifyFirstDegreeComponent(N,F.object,"object"),oe.graph=W.modifyFirstDegreeComponent(N,F.graph,"graph"),R.push(X.serializeQuad(oe))}R.sort();const w=W.createMessageDigest();for(const F of R)w.update(F);return D.hash=yield w.digest(),D.hash})()}hashRelatedBlankNode(N,W,R,D){var re=this;return Z(function*(){let w;w=re.canonicalIssuer.hasId(N)?re.canonicalIssuer.getId(N):R.hasId(N)?R.getId(N):re.blankNodeInfo.get(N).hash;const F=re.createMessageDigest();return F.update(D),"g"!==D&&F.update(re.getRelatedPredicate(W)),F.update(w),F.digest()})()}hashNDegreeQuads(N,W){var R=this;return Z(function*(){const D=R.deepIterations.get(N)||0;if(D>R.maxDeepIterations)throw new Error(`Maximum deep iterations (${R.maxDeepIterations}) exceeded.`);R.deepIterations.set(N,D+1);const re=R.createMessageDigest(),w=yield R.createHashToRelated(N,W),F=[...w.keys()].sort();for(const oe of F){re.update(oe);let z,$="";const ee=new G(w.get(oe));let q=0;for(;ee.hasNext();){const B=ee.next();++q%3==0&&(yield R._yield());let y=W.clone(),M="";const T=[];let ce=!1;for(const j of B)if(R.canonicalIssuer.hasId(j)?M+=R.canonicalIssuer.getId(j):(y.hasId(j)||T.push(j),M+=y.getId(j)),0!==$.length&&M>$){ce=!0;break}if(!ce){for(const j of T){const Ie=yield R.hashNDegreeQuads(j,y);if(M+=y.getId(j),M+=`<${Ie.hash}>`,y=Ie.issuer,0!==$.length&&M>$){ce=!0;break}}ce||(0===$.length||M<$)&&($=M,z=y)}}re.update($),W=z}return{hash:yield re.digest(),issuer:W}})()}modifyFirstDegreeComponent(N,W){return"BlankNode"!==W.termType?W:{termType:"BlankNode",value:W.value===N?"_:a":"_:z"}}getRelatedPredicate(N){return`<${N.predicate.value}>`}createHashToRelated(N,W){var R=this;return Z(function*(){const D=new Map,re=R.blankNodeInfo.get(N).quads;let w=0;for(const F of re)++w%100==0&&(yield R._yield()),yield Promise.all([R._addRelatedBlankNodeHash({quad:F,component:F.subject,position:"s",id:N,issuer:W,hashToRelated:D}),R._addRelatedBlankNodeHash({quad:F,component:F.object,position:"o",id:N,issuer:W,hashToRelated:D}),R._addRelatedBlankNodeHash({quad:F,component:F.graph,position:"g",id:N,issuer:W,hashToRelated:D})]);return D})()}_hashAndTrackBlankNode({id:N,hashToBlankNodes:W}){var R=this;return Z(function*(){const D=yield R.hashFirstDegreeQuads(N),re=W.get(D);re?re.push(N):W.set(D,[N])})()}_addBlankNodeQuadInfo({quad:N,component:W}){if("BlankNode"!==W.termType)return;const R=W.value,D=this.blankNodeInfo.get(R);D?D.quads.add(N):this.blankNodeInfo.set(R,{quads:new Set([N]),hash:null})}_addRelatedBlankNodeHash({quad:N,component:W,position:R,id:D,issuer:re,hashToRelated:w}){var F=this;return Z(function*(){if("BlankNode"!==W.termType||W.value===D)return;const oe=W.value,$=yield F.hashRelatedBlankNode(oe,N,re,R),z=w.get($);z?z.push(oe):w.set($,[oe])})()}_componentWithCanonicalId(N){return"BlankNode"!==N.termType||N.value.startsWith(this.canonicalIssuer.prefix)?N:{termType:"BlankNode",value:this.canonicalIssuer.getId(N.value)}}_yield(){return Z(function*(){return new Promise(N=>setImmediate(N))})()}}},203:(Ue,ge,S)=>{"use strict";const Z=S(250),A=S(1126),Y=S(7794),G=S(8276);function X(_,x){return _.hash<x.hash?-1:_.hash>x.hash?1:0}Ue.exports=class{constructor({createMessageDigest:x=(()=>new A("sha256")),canonicalIdMap:N=new Map,maxDeepIterations:W=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new Z("_:c14n",N),this.createMessageDigest=x,this.maxDeepIterations=W,this.quads=null,this.deepIterations=null}main(x){this.deepIterations=new Map,this.quads=x;for(const w of x)this._addBlankNodeQuadInfo({quad:w,component:w.subject}),this._addBlankNodeQuadInfo({quad:w,component:w.object}),this._addBlankNodeQuadInfo({quad:w,component:w.graph});const N=new Map,W=[...this.blankNodeInfo.keys()];for(const w of W)this._hashAndTrackBlankNode({id:w,hashToBlankNodes:N});const R=[...N.keys()].sort(),D=[];for(const w of R){const F=N.get(w);F.length>1?D.push(F):this.canonicalIssuer.getId(F[0])}for(const w of D){const F=[];for(const oe of w){if(this.canonicalIssuer.hasId(oe))continue;const $=new Z("_:b");$.getId(oe);const z=this.hashNDegreeQuads(oe,$);F.push(z)}F.sort(X);for(const oe of F){const $=oe.issuer.getOldIds();for(const z of $)this.canonicalIssuer.getId(z)}}const re=[];for(const w of this.quads){const F=G.serializeQuadComponents(this._componentWithCanonicalId({component:w.subject}),w.predicate,this._componentWithCanonicalId({component:w.object}),this._componentWithCanonicalId({component:w.graph}));re.push(F)}return re.sort(),re.join("")}hashFirstDegreeQuads(x){const N=[],W=this.blankNodeInfo.get(x),R=W.quads;for(const re of R){const w={subject:null,predicate:re.predicate,object:null,graph:null};w.subject=this.modifyFirstDegreeComponent(x,re.subject,"subject"),w.object=this.modifyFirstDegreeComponent(x,re.object,"object"),w.graph=this.modifyFirstDegreeComponent(x,re.graph,"graph"),N.push(G.serializeQuad(w))}N.sort();const D=this.createMessageDigest();for(const re of N)D.update(re);return W.hash=D.digest(),W.hash}hashRelatedBlankNode(x,N,W,R){let D;D=this.canonicalIssuer.hasId(x)?this.canonicalIssuer.getId(x):W.hasId(x)?W.getId(x):this.blankNodeInfo.get(x).hash;const re=this.createMessageDigest();return re.update(R),"g"!==R&&re.update(this.getRelatedPredicate(N)),re.update(D),re.digest()}hashNDegreeQuads(x,N){const W=this.deepIterations.get(x)||0;if(W>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(x,W+1);const R=this.createMessageDigest(),D=this.createHashToRelated(x,N),re=[...D.keys()].sort();for(const w of re){R.update(w);let oe,F="";const $=new Y(D.get(w));for(;$.hasNext();){const z=$.next();let ee=N.clone(),q="";const B=[];let y=!1;for(const M of z)if(this.canonicalIssuer.hasId(M)?q+=this.canonicalIssuer.getId(M):(ee.hasId(M)||B.push(M),q+=ee.getId(M)),0!==F.length&&q>F){y=!0;break}if(!y){for(const M of B){const T=this.hashNDegreeQuads(M,ee);if(q+=ee.getId(M),q+=`<${T.hash}>`,ee=T.issuer,0!==F.length&&q>F){y=!0;break}}y||(0===F.length||q<F)&&(F=q,oe=ee)}}R.update(F),N=oe}return{hash:R.digest(),issuer:N}}modifyFirstDegreeComponent(x,N){return"BlankNode"!==N.termType?N:{termType:"BlankNode",value:N.value===x?"_:a":"_:z"}}getRelatedPredicate(x){return`<${x.predicate.value}>`}createHashToRelated(x,N){const W=new Map,R=this.blankNodeInfo.get(x).quads;for(const D of R)this._addRelatedBlankNodeHash({quad:D,component:D.subject,position:"s",id:x,issuer:N,hashToRelated:W}),this._addRelatedBlankNodeHash({quad:D,component:D.object,position:"o",id:x,issuer:N,hashToRelated:W}),this._addRelatedBlankNodeHash({quad:D,component:D.graph,position:"g",id:x,issuer:N,hashToRelated:W});return W}_hashAndTrackBlankNode({id:x,hashToBlankNodes:N}){const W=this.hashFirstDegreeQuads(x),R=N.get(W);R?R.push(x):N.set(W,[x])}_addBlankNodeQuadInfo({quad:x,component:N}){if("BlankNode"!==N.termType)return;const W=N.value,R=this.blankNodeInfo.get(W);R?R.quads.add(x):this.blankNodeInfo.set(W,{quads:new Set([x]),hash:null})}_addRelatedBlankNodeHash({quad:x,component:N,position:W,id:R,issuer:D,hashToRelated:re}){if("BlankNode"!==N.termType||N.value===R)return;const w=N.value,F=this.hashRelatedBlankNode(w,x,D,W),oe=re.get(F);oe?oe.push(w):re.set(F,[w])}_componentWithCanonicalId({component:x}){return"BlankNode"!==x.termType||x.value.startsWith(this.canonicalIssuer.prefix)?x:{termType:"BlankNode",value:this.canonicalIssuer.getId(x.value)}}}},6268:(Ue,ge,S)=>{"use strict";var Z=S(9293).default;const A=S(1126),Y=S(624);Ue.exports=class extends Y{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new A("sha1")}modifyFirstDegreeComponent(X,_,x){return"BlankNode"!==_.termType?_:"graph"===x?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:_.value===X?"_:a":"_:z"}}getRelatedPredicate(X){return X.predicate.value}createHashToRelated(X,_){var x=this;return Z(function*(){const N=new Map,W=x.blankNodeInfo.get(X).quads;let R=0;for(const D of W){let re,w;if("BlankNode"===D.subject.termType&&D.subject.value!==X)w=D.subject.value,re="p";else{if("BlankNode"!==D.object.termType||D.object.value===X)continue;w=D.object.value,re="r"}++R%100==0&&(yield x._yield());const F=yield x.hashRelatedBlankNode(w,D,_,re),oe=N.get(F);oe?oe.push(w):N.set(F,[w])}return N})()}}},8911:(Ue,ge,S)=>{"use strict";const Z=S(1126),A=S(203);Ue.exports=class extends A{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new Z("sha1")}modifyFirstDegreeComponent(G,X,_){return"BlankNode"!==X.termType?X:"graph"===_?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:X.value===G?"_:a":"_:z"}}getRelatedPredicate(G){return G.predicate.value}createHashToRelated(G,X){const _=new Map,x=this.blankNodeInfo.get(G).quads;for(const N of x){let W,R;if("BlankNode"===N.subject.termType&&N.subject.value!==G)R=N.subject.value,W="p";else{if("BlankNode"!==N.object.termType||N.object.value===G)continue;R=N.object.value,W="r"}const D=this.hashRelatedBlankNode(R,N,X,W),re=_.get(D);re?re.push(R):_.set(D,[R])}return _}}},4548:(Ue,ge,S)=>{"use strict";var Z=S(9293).default;const A=S(624),Y=S(6268),G=S(203),X=S(8911);let _;try{_=S(7789)}catch{}function x(N){return Array.isArray(N)?N:ge.NQuads.legacyDatasetToQuads(N)}ge.NQuads=S(8276),ge.IdentifierIssuer=S(250),ge._rdfCanonizeNative=function(N){return N&&(_=N),_},ge.canonize=function(){var N=Z(function*(W,R){const D=x(W);if(R.useNative){if(!_)throw new Error("rdf-canonize-native not available");if(R.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((re,w)=>_.canonize(D,R,(F,oe)=>F?w(F):re(oe)))}if("URDNA2015"===R.algorithm)return new A(R).main(D);if("URGNA2012"===R.algorithm){if(R.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new Y(R).main(D)}throw"algorithm"in R?new Error("Invalid RDF Dataset Canonicalization algorithm: "+R.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")});return function(W,R){return N.apply(this,arguments)}}(),ge._canonizeSync=function(N,W){const R=x(N);if(W.useNative){if(!_)throw new Error("rdf-canonize-native not available");if(W.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return _.canonizeSync(R,W)}if("URDNA2015"===W.algorithm)return new G(W).main(R);if("URGNA2012"===W.algorithm){if(W.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new X(W).main(R)}throw"algorithm"in W?new Error("Invalid RDF Dataset Canonicalization algorithm: "+W.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}},5376:function(Ue,ge,S){"use strict";var Z=this&&this.__createBinding||(Object.create?function(Y,G,X,_){void 0===_&&(_=X),Object.defineProperty(Y,_,{enumerable:!0,get:function(){return G[X]}})}:function(Y,G,X,_){void 0===_&&(_=X),Y[_]=G[X]}),A=this&&this.__exportStar||function(Y,G){for(var X in Y)"default"!==X&&!Object.prototype.hasOwnProperty.call(G,X)&&Z(G,Y,X)};Object.defineProperty(ge,"__esModule",{value:!0}),A(S(1006),ge),A(S(4122),ge),A(S(2653),ge),A(S(8327),ge),A(S(7265),ge),A(S(9797),ge),A(S(8866),ge)},1006:(Ue,ge)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.BlankNode=void 0,ge.BlankNode=class S{constructor(A){this.termType="BlankNode",this.value=A}equals(A){return!!A&&"BlankNode"===A.termType&&A.value===this.value}}},4122:(Ue,ge,S)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.DataFactory=void 0;const Z=S(1006),A=S(2653),Y=S(8327),G=S(7265),X=S(9797),_=S(8866);let x=0;ge.DataFactory=class N{constructor(R){this.blankNodeCounter=0,this.blankNodePrefix=(R=R||{}).blankNodePrefix||`df_${x++}_`}namedNode(R){return new G.NamedNode(R)}blankNode(R){return new Z.BlankNode(R||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(R,D){return new Y.Literal(R,D)}variable(R){return new _.Variable(R)}defaultGraph(){return A.DefaultGraph.INSTANCE}quad(R,D,re,w){return new X.Quad(R,D,re,w||this.defaultGraph())}fromTerm(R){switch(R.termType){case"NamedNode":return this.namedNode(R.value);case"BlankNode":return this.blankNode(R.value);case"Literal":return R.language?this.literal(R.value,R.language):R.datatype.equals(Y.Literal.XSD_STRING)?this.literal(R.value):this.literal(R.value,this.fromTerm(R.datatype));case"Variable":return this.variable(R.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(R.subject),this.fromTerm(R.predicate),this.fromTerm(R.object),this.fromTerm(R.graph))}}fromQuad(R){return this.fromTerm(R)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},2653:(Ue,ge)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.DefaultGraph=void 0;class S{constructor(){this.termType="DefaultGraph",this.value=""}equals(A){return!!A&&"DefaultGraph"===A.termType}}ge.DefaultGraph=S,S.INSTANCE=new S},8327:(Ue,ge,S)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.Literal=void 0;const Z=S(7265);class A{constructor(G,X){this.termType="Literal",this.value=G,"string"==typeof X?(this.language=X,this.datatype=A.RDF_LANGUAGE_STRING):X?(this.language="",this.datatype=X):(this.language="",this.datatype=A.XSD_STRING)}equals(G){return!!G&&"Literal"===G.termType&&G.value===this.value&&G.language===this.language&&this.datatype.equals(G.datatype)}}ge.Literal=A,A.RDF_LANGUAGE_STRING=new Z.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),A.XSD_STRING=new Z.NamedNode("http://www.w3.org/2001/XMLSchema#string")},7265:(Ue,ge)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.NamedNode=void 0,ge.NamedNode=class S{constructor(A){this.termType="NamedNode",this.value=A}equals(A){return!!A&&"NamedNode"===A.termType&&A.value===this.value}}},9797:(Ue,ge)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.Quad=void 0,ge.Quad=class S{constructor(A,Y,G,X){this.termType="Quad",this.value="",this.subject=A,this.predicate=Y,this.object=G,this.graph=X}equals(A){return!!A&&("Quad"===A.termType||!A.termType)&&this.subject.equals(A.subject)&&this.predicate.equals(A.predicate)&&this.object.equals(A.object)&&this.graph.equals(A.graph)}}},8866:(Ue,ge)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.Variable=void 0,ge.Variable=class S{constructor(A){this.termType="Variable",this.value=A}equals(A){return!!A&&"Variable"===A.termType&&A.value===this.value}}},1994:function(Ue,ge,S){"use strict";var Z=this&&this.__createBinding||(Object.create?function(w,F,oe,$){void 0===$&&($=oe);var z=Object.getOwnPropertyDescriptor(F,oe);(!z||("get"in z?!F.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return F[oe]}}),Object.defineProperty(w,$,z)}:function(w,F,oe,$){void 0===$&&($=oe),w[$]=F[oe]}),A=this&&this.__exportStar||function(w,F){for(var oe in w)"default"!==oe&&!Object.prototype.hasOwnProperty.call(F,oe)&&Z(F,w,oe)};Object.defineProperty(ge,"__esModule",{value:!0}),ge.getSupportedJavaScriptPrimitives=ge.getSupportedRdfDatatypes=ge.getTermRaw=ge.toRdf=ge.fromRdf=void 0;const Y=S(5376),G=S(8193),X=S(7006);A(S(8193),ge),A(S(6997),ge),A(S(7006),ge);const _=new Y.DataFactory,x=new X.Translator;function N(w,F){return x.fromRdf(w,F)}x.registerHandler(new G.TypeHandlerString,G.TypeHandlerString.TYPES.map(w=>_.namedNode(w)),["string"]),x.registerHandler(new G.TypeHandlerBoolean,[G.TypeHandlerBoolean.TYPE].map(w=>_.namedNode(w)),["boolean"]),x.registerHandler(new G.TypeHandlerNumberDouble,G.TypeHandlerNumberDouble.TYPES.map(w=>_.namedNode(w)),["number"]),x.registerHandler(new G.TypeHandlerNumberInteger,G.TypeHandlerNumberInteger.TYPES.map(w=>_.namedNode(w)),["number"]),x.registerHandler(new G.TypeHandlerDate,G.TypeHandlerDate.TYPES.map(w=>_.namedNode(w)),["object"]),ge.fromRdf=N,ge.toRdf=function W(w,F){return F&&"namedNode"in F&&(F={dataFactory:F}),(F=F||{})&&!F.dataFactory&&(F.dataFactory=_),x.toRdf(w,F)},ge.getTermRaw=function R(w,F){return"Literal"===w.termType?N(w,F):w.value},ge.getSupportedRdfDatatypes=function D(){return x.getSupportedRdfDatatypes()},ge.getSupportedJavaScriptPrimitives=function re(){return x.getSupportedJavaScriptPrimitives()}},6997:(Ue,ge)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0})},7006:(Ue,ge)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.Translator=void 0,ge.Translator=class S{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(A){throw new Error(`Invalid RDF ${A.datatype.value} value: '${A.value}'`)}registerHandler(A,Y,G){for(const X of Y)this.supportedRdfDatatypes.push(X),this.fromRdfHandlers[X.value]=A;for(const X of G){let _=this.toRdfHandlers[X];_||(this.toRdfHandlers[X]=_=[]),_.push(A)}}fromRdf(A,Y){const G=this.fromRdfHandlers[A.datatype.value];return G?G.fromRdf(A,Y):A.value}toRdf(A,Y){const G=this.toRdfHandlers[typeof A];if(G)for(const X of G){const _=X.toRdf(A,Y);if(_)return _}throw new Error(`Invalid JavaScript value: '${A}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}}},3133:(Ue,ge,S)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.TypeHandlerBoolean=void 0;const Z=S(7006);ge.TypeHandlerBoolean=(()=>{class Y{fromRdf(X,_){switch(X.value){case"true":case"1":return!0;case"false":case"0":return!1}return _&&Z.Translator.incorrectRdfDataType(X),!1}toRdf(X,{datatype:_,dataFactory:x}){return x.literal(X?"true":"false",_||x.namedNode(Y.TYPE))}}return Y.TYPE="http://www.w3.org/2001/XMLSchema#boolean",Y})()},3177:(Ue,ge,S)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.TypeHandlerDate=void 0;const Z=S(7006);ge.TypeHandlerDate=(()=>{class Y{fromRdf(X,_){switch(_&&!X.value.match(Y.VALIDATORS[X.datatype.value.substr(33,X.datatype.value.length)])&&Z.Translator.incorrectRdfDataType(X),X.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(X.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const x=X.value.split("-");return new Date(0,parseInt(x[0],10)-1,parseInt(x[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(X.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(X.value+"-01");default:return new Date(X.value)}}toRdf(X,{datatype:_,dataFactory:x}){if(_=_||x.namedNode(Y.TYPES[0]),!(X instanceof Date))return null;const N=X;let W;switch(_.value){case"http://www.w3.org/2001/XMLSchema#gDay":W=String(N.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":W=N.getUTCMonth()+1+"-"+N.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":W=String(N.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":W=N.getUTCFullYear()+"-"+(N.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":W=N.toISOString().replace(/T.*$/,"");break;default:W=N.toISOString()}return x.literal(W,_)}}return Y.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],Y.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/},Y})()},6861:(Ue,ge,S)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.TypeHandlerNumberDouble=void 0;const Z=S(7006);ge.TypeHandlerNumberDouble=(()=>{class Y{fromRdf(X,_){const x=parseFloat(X.value);return _&&isNaN(x)&&Z.Translator.incorrectRdfDataType(X),x}toRdf(X,{datatype:_,dataFactory:x}){return _=_||x.namedNode(Y.TYPES[0]),isNaN(X)?x.literal("NaN",_):isFinite(X)?X%1==0?null:x.literal(X.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),_):x.literal(X>0?"INF":"-INF",_)}}return Y.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"],Y})()},8796:(Ue,ge,S)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.TypeHandlerNumberInteger=void 0;const Z=S(7006);ge.TypeHandlerNumberInteger=(()=>{class Y{fromRdf(X,_){const x=parseInt(X.value,10);return _&&(isNaN(x)||X.value.indexOf(".")>=0)&&Z.Translator.incorrectRdfDataType(X),x}toRdf(X,{datatype:_,dataFactory:x}){return x.literal(String(X),_||x.namedNode(X<=Y.MAX_INT&&X>=Y.MIN_INT?Y.TYPES[0]:Y.TYPES[1]))}}return Y.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],Y.MAX_INT=2147483647,Y.MIN_INT=-2147483648,Y})()},4440:(Ue,ge)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.TypeHandlerString=void 0,ge.TypeHandlerString=(()=>{class Z{fromRdf(Y){return Y.value}toRdf(Y,{datatype:G,dataFactory:X}){return X.literal(Y,G)}}return Z.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"],Z})()},8193:function(Ue,ge,S){"use strict";var Z=this&&this.__createBinding||(Object.create?function(Y,G,X,_){void 0===_&&(_=X);var x=Object.getOwnPropertyDescriptor(G,X);(!x||("get"in x?!G.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return G[X]}}),Object.defineProperty(Y,_,x)}:function(Y,G,X,_){void 0===_&&(_=X),Y[_]=G[X]}),A=this&&this.__exportStar||function(Y,G){for(var X in Y)"default"!==X&&!Object.prototype.hasOwnProperty.call(G,X)&&Z(G,Y,X)};Object.defineProperty(ge,"__esModule",{value:!0}),A(S(3133),ge),A(S(3177),ge),A(S(6861),ge),A(S(8796),ge),A(S(4440),ge)},2756:function(Ue,ge,S){"use strict";var Z=this&&this.__createBinding||(Object.create?function(Y,G,X,_){void 0===_&&(_=X),Object.defineProperty(Y,_,{enumerable:!0,get:function(){return G[X]}})}:function(Y,G,X,_){void 0===_&&(_=X),Y[_]=G[X]}),A=this&&this.__exportStar||function(Y,G){for(var X in Y)"default"!==X&&!Object.prototype.hasOwnProperty.call(G,X)&&Z(G,Y,X)};Object.defineProperty(ge,"__esModule",{value:!0}),A(S(392),ge)},2725:(Ue,ge)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.ParseError=void 0;class S extends Error{constructor(A,Y){const G=A.saxStream._parser;super(A.trackPosition?`Line ${G.line+1} column ${G.column+1}: ${Y}`:Y)}}ge.ParseError=S},392:(Ue,ge,S)=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0}),ge.ParseType=ge.RdfXmlParser=void 0;const Z=S(2011),A=S(6620),Y=S(7045),G=S(2725),X=S(5376);class _ extends Y.Transform{constructor(W){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},W&&(Object.assign(this,W),this.options=W),this.dataFactory||(this.dataFactory=new X.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.saxStream=A.createStream(this.strict,{xmlns:!1,position:this.trackPosition}),this.strict||(this.saxStream._parser.looseCase="toString"),this.attachSaxListeners()}static parseNamespace(W,R){const D={};let re=!1;for(const F in W.attributes)F.startsWith("xmlns")&&(5===F.length?(re=!0,D[""]=W.attributes[F]):":"===F.charAt(5)&&(re=!0,D[F.substr(6)]=W.attributes[F]));const w=R&&R.ns?R.ns:[_.DEFAULT_NS];return re?w.concat([D]):w}static expandPrefixedTerm(W,R,D){const re=W.indexOf(":");let w,F;re>=0?(w=W.substr(0,re),F=W.substr(re+1)):(w="",F=W);let oe=null,$=null;for(let z=R.length-1;z>=0;z--){const ee=R[z][w];if(ee){oe=ee;break}$||($=R[z][""])}if(!oe){if(w&&"xmlns"!==w)throw new G.ParseError(D,`The prefix '${w}' in term '${W}' was not bound.`);oe=$||""}return{prefix:w,local:F,uri:oe}}static isValidIri(W){return _.IRI_REGEX.test(W)}import(W){const R=new Y.PassThrough({readableObjectMode:!0});W.on("error",re=>D.emit("error",re)),W.on("data",re=>R.push(re)),W.on("end",()=>R.push(null));const D=R.pipe(new _(this.options));return D}_transform(W,R,D){try{this.saxStream.write(W,R)}catch(re){return D(re)}D()}newParseError(W){return new G.ParseError(this,W)}valueToUri(W,R){return this.uriToNamedNode(Z.resolve(W,R.baseIRI))}uriToNamedNode(W){if(!_.isValidIri(W))throw this.newParseError(`Invalid URI: ${W}`);return this.dataFactory.namedNode(W)}validateNcname(W){if(!_.NCNAME_MATCHER.test(W))throw this.newParseError(`Not a valid NCName: ${W}`)}attachSaxListeners(){this.saxStream.on("error",W=>this.emit("error",W)),this.saxStream.on("opentag",this.onTag.bind(this)),this.saxStream.on("text",this.onText.bind(this)),this.saxStream.on("closetag",this.onCloseTag.bind(this)),this.saxStream.on("doctype",this.onDoctype.bind(this))}onTag(W){const R=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let D=x.RESOURCE;if(R&&(R.hadChildren=!0,D=R.childrenParseType),R&&R.childrenStringTags){const w=W.name;let F="";for(const ee in W.attributes)F+=` ${ee}="${W.attributes[ee]}"`;R.childrenStringTags.push(`<${w}${F}>`);const z={childrenStringTags:R.childrenStringTags};return z.childrenStringEmitClosingTag=`</${w}>`,void this.activeTagStack.push(z)}const re={};R?(re.language=R.language,re.baseIRI=R.baseIRI):re.baseIRI=this.baseIRI,this.activeTagStack.push(re),re.ns=_.parseNamespace(W,R),D===x.RESOURCE?this.onTagResource(W,re,R,!R):this.onTagProperty(W,re,R)}onTagResource(W,R,D,re){const w=_.expandPrefixedTerm(W.name,R.ns,this);R.childrenParseType=x.PROPERTY;let F=!0;if(w.uri===_.RDF){if(!re&&_.FORBIDDEN_NODE_ELEMENTS.indexOf(w.local)>=0)throw this.newParseError(`Illegal node element name: ${w.local}`);switch(w.local){case"RDF":R.childrenParseType=x.RESOURCE;case"Description":F=!1}}const oe=[],$=[];let z=null,ee=!1,q=!1,B=null;for(const y in W.attributes){const M=W.attributes[y],T=_.expandPrefixedTerm(y,R.ns,this);if(D&&T.uri===_.RDF)switch(T.local){case"about":if(z)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${M} and ${z} where found.`);z=M;continue;case"ID":if(z)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${M} and ${z} where found.`);this.validateNcname(M),z="#"+M,ee=!0;continue;case"nodeID":if(z)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${M} and ${z} where found.`);this.validateNcname(M),z=M,q=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":B=M;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(T.uri===_.XML){if("lang"===T.local){R.language=""===M?null:M.toLowerCase();continue}if("base"===T.local){R.baseIRI=Z.resolve(M,R.baseIRI);continue}}"xml"!==T.prefix&&T.uri&&(oe.push(this.uriToNamedNode(T.uri+T.local)),$.push(M))}if(null!==z&&(R.subject=q?this.dataFactory.blankNode(z):this.valueToUri(z,R),ee&&this.claimNodeId(R.subject)),R.subject||(R.subject=this.dataFactory.blankNode()),F){const y=this.uriToNamedNode(w.uri+w.local);this.emitTriple(R.subject,this.dataFactory.namedNode(_.RDF+"type"),y,D?D.reifiedStatementId:null)}if(D){if(D.predicate)if(D.childrenCollectionSubject){const y=this.dataFactory.blankNode();this.emitTriple(D.childrenCollectionSubject,D.childrenCollectionPredicate,y,D.reifiedStatementId),this.emitTriple(y,this.dataFactory.namedNode(_.RDF+"first"),R.subject,R.reifiedStatementId),D.childrenCollectionSubject=y,D.childrenCollectionPredicate=this.dataFactory.namedNode(_.RDF+"rest")}else{this.emitTriple(D.subject,D.predicate,R.subject,D.reifiedStatementId);for(let y=0;y<D.predicateSubPredicates.length;y++)this.emitTriple(R.subject,D.predicateSubPredicates[y],D.predicateSubObjects[y],null);D.predicateSubPredicates=[],D.predicateSubObjects=[],D.predicateEmitted=!0}for(let y=0;y<oe.length;y++){const M=this.dataFactory.literal($[y],R.datatype||R.language);this.emitTriple(R.subject,oe[y],M,D.reifiedStatementId)}B&&this.emitTriple(R.subject,this.dataFactory.namedNode(_.RDF+"type"),this.uriToNamedNode(B),null)}}onTagProperty(W,R,D){const re=_.expandPrefixedTerm(W.name,R.ns,this);if(R.childrenParseType=x.RESOURCE,R.subject=D.subject,re.uri===_.RDF&&"li"===re.local?(D.listItemCounter||(D.listItemCounter=1),R.predicate=this.uriToNamedNode(re.uri+"_"+D.listItemCounter++)):R.predicate=this.uriToNamedNode(re.uri+re.local),re.uri===_.RDF&&_.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(re.local)>=0)throw this.newParseError(`Illegal property element name: ${re.local}`);R.predicateSubPredicates=[],R.predicateSubObjects=[];let w=!1,F=!1,oe=null,$=!0;const z=[],ee=[];for(const q in W.attributes){const B=W.attributes[q],y=_.expandPrefixedTerm(q,R.ns,this);if(y.uri===_.RDF)switch(y.local){case"resource":if(oe)throw this.newParseError(`Found both rdf:resource (${B}) and rdf:nodeID (${oe}).`);if(w)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${B})`);R.hadChildren=!0,oe=B,$=!1;continue;case"datatype":if(F)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${B}).`);if(w)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${B})`);R.datatype=this.valueToUri(B,R);continue;case"nodeID":if(F)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${B}).`);if(R.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${B}).`);if(w)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${B})`);this.validateNcname(B),R.hadChildren=!0,oe=B,$=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(F)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(R.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${R.datatype.value})`);if(oe)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${oe})`);if("Resource"===B){w=!0,R.childrenParseType=x.PROPERTY;const M=this.dataFactory.blankNode();this.emitTriple(R.subject,R.predicate,M,R.reifiedStatementId),R.subject=M,R.predicate=null}else"Collection"===B?(w=!0,R.hadChildren=!0,R.childrenCollectionSubject=R.subject,R.childrenCollectionPredicate=R.predicate,$=!1):"Literal"===B&&(w=!0,R.childrenTagsToString=!0,R.childrenStringTags=[]);continue;case"ID":this.validateNcname(B),R.reifiedStatementId=this.valueToUri("#"+B,R),this.claimNodeId(R.reifiedStatementId);continue}else if(y.uri===_.XML&&"lang"===y.local){R.language=""===B?null:B.toLowerCase();continue}if("xml"!==y.prefix&&"xmlns"!==y.prefix&&y.uri){if(w||R.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${B}`);R.hadChildren=!0,F=!0,z.push(this.uriToNamedNode(y.uri+y.local)),ee.push(this.dataFactory.literal(B,R.datatype||R.language))}}if(null!==oe){const q=R.subject;R.subject=$?this.dataFactory.blankNode(oe):this.valueToUri(oe,R),this.emitTriple(q,R.predicate,R.subject,R.reifiedStatementId);for(let B=0;B<z.length;B++)this.emitTriple(R.subject,z[B],ee[B],null);R.predicateEmitted=!0}else $&&(R.predicateSubPredicates=z,R.predicateSubObjects=ee,R.predicateEmitted=!1)}emitTriple(W,R,D,re){this.push(this.dataFactory.quad(W,R,D,this.defaultGraph)),re&&(this.push(this.dataFactory.quad(re,this.dataFactory.namedNode(_.RDF+"type"),this.dataFactory.namedNode(_.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(re,this.dataFactory.namedNode(_.RDF+"subject"),W,this.defaultGraph)),this.push(this.dataFactory.quad(re,this.dataFactory.namedNode(_.RDF+"predicate"),R,this.defaultGraph)),this.push(this.dataFactory.quad(re,this.dataFactory.namedNode(_.RDF+"object"),D,this.defaultGraph)))}claimNodeId(W){if(!this.allowDuplicateRdfIds){if(this.nodeIds[W.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${W.value}'.`);this.nodeIds[W.value]=!0}}onText(W){const R=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;R&&(R.childrenStringTags?R.childrenStringTags.push(W):R.predicate&&(R.text=W))}onCloseTag(){const W=this.activeTagStack.pop();if(W.childrenStringEmitClosingTag&&W.childrenStringTags.push(W.childrenStringEmitClosingTag),W.childrenTagsToString&&(W.datatype=this.dataFactory.namedNode(_.RDF+"XMLLiteral"),W.text=W.childrenStringTags.join(""),W.hadChildren=!1),W.childrenCollectionSubject)this.emitTriple(W.childrenCollectionSubject,W.childrenCollectionPredicate,this.dataFactory.namedNode(_.RDF+"nil"),W.reifiedStatementId);else if(W.predicate)if(W.hadChildren||W.childrenParseType===x.PROPERTY){if(!W.predicateEmitted){const R=this.dataFactory.blankNode();this.emitTriple(W.subject,W.predicate,R,W.reifiedStatementId);for(let D=0;D<W.predicateSubPredicates.length;D++)this.emitTriple(R,W.predicateSubPredicates[D],W.predicateSubObjects[D],null)}}else this.emitTriple(W.subject,W.predicate,this.dataFactory.literal(W.text||"",W.datatype||W.language),W.reifiedStatementId)}onDoctype(W){W.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(R,D,re)=>(this.saxStream._parser.ENTITIES[D]=re,""))}}var x,N;ge.RdfXmlParser=_,_.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*):[^ "<>{}|\\\[\]`]*$/,_.MIME_TYPE="application/rdf+xml",_.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",_.XML="http://www.w3.org/XML/1998/namespace",_.XMLNS="http://www.w3.org/2000/xmlns/",_.DEFAULT_NS={xml:_.XML},_.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],_.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],_.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u,(N=x=ge.ParseType||(ge.ParseType={}))[N.RESOURCE=0]="RESOURCE",N[N.PROPERTY=1]="PROPERTY"},8992:(Ue,ge,S)=>{"use strict";const{SymbolDispose:Z}=S(1251),{AbortError:A,codes:Y}=S(5480),{isNodeStream:G,isWebStream:X,kControllerErrorFunction:_}=S(6110),x=S(3139),{ERR_INVALID_ARG_TYPE:N}=Y;let W;Ue.exports.addAbortSignal=function(re,w){if(((D,re)=>{if("object"!=typeof D||!("aborted"in D))throw new N("signal","AbortSignal",D)})(re),!G(w)&&!X(w))throw new N("stream",["ReadableStream","WritableStream","Stream"],w);return Ue.exports.addAbortSignalNoValidate(re,w)},Ue.exports.addAbortSignalNoValidate=function(D,re){if("object"!=typeof D||!("aborted"in D))return re;const w=G(re)?()=>{re.destroy(new A(void 0,{cause:D.reason}))}:()=>{re[_](new A(void 0,{cause:D.reason}))};if(D.aborted)w();else{W=W||S(1663).addAbortListener;const F=W(D,w);x(re,F[Z])}return re}},9588:(Ue,ge,S)=>{"use strict";const{StringPrototypeSlice:Z,SymbolIterator:A,TypedArrayPrototypeSet:Y,Uint8Array:G}=S(1251),{Buffer:X}=S(2317),{inspect:_}=S(1663);Ue.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(N){const W={data:N,next:null};this.length>0?this.tail.next=W:this.head=W,this.tail=W,++this.length}unshift(N){const W={data:N,next:this.head};0===this.length&&(this.tail=W),this.head=W,++this.length}shift(){if(0===this.length)return;const N=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,N}clear(){this.head=this.tail=null,this.length=0}join(N){if(0===this.length)return"";let W=this.head,R=""+W.data;for(;null!==(W=W.next);)R+=N+W.data;return R}concat(N){if(0===this.length)return X.alloc(0);const W=X.allocUnsafe(N>>>0);let R=this.head,D=0;for(;R;)Y(W,R.data,D),D+=R.data.length,R=R.next;return W}consume(N,W){const R=this.head.data;if(N<R.length){const D=R.slice(0,N);return this.head.data=R.slice(N),D}return N===R.length?this.shift():W?this._getString(N):this._getBuffer(N)}first(){return this.head.data}*[A](){for(let N=this.head;N;N=N.next)yield N.data}_getString(N){let W="",R=this.head,D=0;do{const re=R.data;if(!(N>re.length)){N===re.length?(W+=re,++D,this.head=R.next?R.next:this.tail=null):(W+=Z(re,0,N),this.head=R,R.data=Z(re,N));break}W+=re,N-=re.length,++D}while(null!==(R=R.next));return this.length-=D,W}_getBuffer(N){const W=X.allocUnsafe(N),R=N;let D=this.head,re=0;do{const w=D.data;if(!(N>w.length)){N===w.length?(Y(W,w,R-N),++re,this.head=D.next?D.next:this.tail=null):(Y(W,new G(w.buffer,w.byteOffset,N),R-N),this.head=D,D.data=w.slice(N));break}Y(W,w,R-N),N-=w.length,++re}while(null!==(D=D.next));return this.length-=re,W}[Symbol.for("nodejs.util.inspect.custom")](N,W){return _(this,{...W,depth:0,customInspect:!1})}}},6683:(Ue,ge,S)=>{"use strict";var Z=S(9293).default;const{pipeline:A}=S(6249),Y=S(9613),{destroyer:G}=S(1509),{isNodeStream:X,isReadable:_,isWritable:x,isWebStream:N,isTransformStream:W,isWritableStream:R,isReadableStream:D}=S(6110),{AbortError:re,codes:{ERR_INVALID_ARG_VALUE:w,ERR_MISSING_ARGS:F}}=S(5480),oe=S(3139);Ue.exports=function(...z){if(0===z.length)throw new F("streams");if(1===z.length)return Y.from(z[0]);const ee=[...z];if("function"==typeof z[0]&&(z[0]=Y.from(z[0])),"function"==typeof z[z.length-1]){const Oe=z.length-1;z[Oe]=Y.from(z[Oe])}for(let Oe=0;Oe<z.length;++Oe)if(X(z[Oe])||N(z[Oe])){if(Oe<z.length-1&&!(_(z[Oe])||D(z[Oe])||W(z[Oe])))throw new w(`streams[${Oe}]`,ee[Oe],"must be readable");if(Oe>0&&!(x(z[Oe])||R(z[Oe])||W(z[Oe])))throw new w(`streams[${Oe}]`,ee[Oe],"must be writable")}let q,B,y,M,T;const j=z[0],Ie=A(z,function ce(Oe){const ze=M;M=null,ze?ze(Oe):Oe?T.destroy(Oe):!xe&&!ae&&T.destroy()}),ae=!!(x(j)||R(j)||W(j)),xe=!!(_(Ie)||D(Ie)||W(Ie));if(T=new Y({writableObjectMode:!(null==j||!j.writableObjectMode),readableObjectMode:!(null==Ie||!Ie.readableObjectMode),writable:ae,readable:xe}),ae){if(X(j))T._write=function(ze,nt,Ze){j.write(ze,nt)?Ze():q=Ze},T._final=function(ze){j.end(),B=ze},j.on("drain",function(){if(q){const ze=q;q=null,ze()}});else if(N(j)){const nt=(W(j)?j.writable:j).getWriter();T._write=function(){var Ze=Z(function*(Te,je,Ce){try{yield nt.ready,nt.write(Te).catch(()=>{}),Ce()}catch(Be){Ce(Be)}});return function(Te,je,Ce){return Ze.apply(this,arguments)}}(),T._final=function(){var Ze=Z(function*(Te){try{yield nt.ready,nt.close().catch(()=>{}),B=Te}catch(je){Te(je)}});return function(Te){return Ze.apply(this,arguments)}}()}const Oe=W(Ie)?Ie.readable:Ie;oe(Oe,()=>{if(B){const ze=B;B=null,ze()}})}if(xe)if(X(Ie))Ie.on("readable",function(){if(y){const Oe=y;y=null,Oe()}}),Ie.on("end",function(){T.push(null)}),T._read=function(){for(;;){const Oe=Ie.read();if(null===Oe)return void(y=T._read);if(!T.push(Oe))return}};else if(N(Ie)){const ze=(W(Ie)?Ie.readable:Ie).getReader();T._read=Z(function*(){for(;;)try{const{value:nt,done:Ze}=yield ze.read();if(!T.push(nt))return;if(Ze)return void T.push(null)}catch{return}})}return T._destroy=function(Oe,ze){!Oe&&null!==M&&(Oe=new re),y=null,q=null,B=null,null===M?ze(Oe):(M=ze,X(Ie)&&G(Ie,Oe))},T}},1509:(Ue,ge,S)=>{"use strict";const Z=S(573),{aggregateTwoErrors:A,codes:{ERR_MULTIPLE_CALLBACK:Y},AbortError:G}=S(5480),{Symbol:X}=S(1251),{kIsDestroyed:_,isDestroyed:x,isFinished:N,isServerRequest:W}=S(6110),R=X("kDestroy"),D=X("kConstruct");function re(ae,xe,Oe){ae&&(xe&&!xe.errored&&(xe.errored=ae),Oe&&!Oe.errored&&(Oe.errored=ae))}function F(ae,xe,Oe){let ze=!1;function nt(Ze){if(ze)return;ze=!0;const Te=ae._readableState,je=ae._writableState;re(Ze,je,Te),je&&(je.closed=!0),Te&&(Te.closed=!0),"function"==typeof Oe&&Oe(Ze),Ze?Z.nextTick(oe,ae,Ze):Z.nextTick($,ae)}try{ae._destroy(xe||null,nt)}catch(Ze){nt(Ze)}}function oe(ae,xe){z(ae,xe),$(ae)}function $(ae){const xe=ae._readableState,Oe=ae._writableState;Oe&&(Oe.closeEmitted=!0),xe&&(xe.closeEmitted=!0),(null!=Oe&&Oe.emitClose||null!=xe&&xe.emitClose)&&ae.emit("close")}function z(ae,xe){const Oe=ae._readableState,ze=ae._writableState;null!=ze&&ze.errorEmitted||null!=Oe&&Oe.errorEmitted||(ze&&(ze.errorEmitted=!0),Oe&&(Oe.errorEmitted=!0),ae.emit("error",xe))}function q(ae,xe,Oe){const ze=ae._readableState,nt=ae._writableState;if(null!=nt&&nt.destroyed||null!=ze&&ze.destroyed)return this;null!=ze&&ze.autoDestroy||null!=nt&&nt.autoDestroy?ae.destroy(xe):xe&&(nt&&!nt.errored&&(nt.errored=xe),ze&&!ze.errored&&(ze.errored=xe),Oe?Z.nextTick(z,ae,xe):z(ae,xe))}function y(ae){let xe=!1;function Oe(ze){if(xe)return void q(ae,ze??new Y);xe=!0;const nt=ae._readableState,Ze=ae._writableState,Te=Ze||nt;nt&&(nt.constructed=!0),Ze&&(Ze.constructed=!0),Te.destroyed?ae.emit(R,ze):ze?q(ae,ze,!0):Z.nextTick(M,ae)}try{ae._construct(ze=>{Z.nextTick(Oe,ze)})}catch(ze){Z.nextTick(Oe,ze)}}function M(ae){ae.emit(D)}function T(ae){return ae?.setHeader&&"function"==typeof ae.abort}function ce(ae){ae.emit("close")}function j(ae,xe){ae.emit("error",xe),Z.nextTick(ce,ae)}Ue.exports={construct:function B(ae,xe){if("function"!=typeof ae._construct)return;const Oe=ae._readableState,ze=ae._writableState;Oe&&(Oe.constructed=!1),ze&&(ze.constructed=!1),ae.once(D,xe),!(ae.listenerCount(D)>1)&&Z.nextTick(y,ae)},destroyer:function Ie(ae,xe){!ae||x(ae)||(!xe&&!N(ae)&&(xe=new G),W(ae)?(ae.socket=null,ae.destroy(xe)):T(ae)?ae.abort():T(ae.req)?ae.req.abort():"function"==typeof ae.destroy?ae.destroy(xe):"function"==typeof ae.close?ae.close():xe?Z.nextTick(j,ae,xe):Z.nextTick(ce,ae),ae.destroyed||(ae[_]=!0))},destroy:function w(ae,xe){const Oe=this._readableState,ze=this._writableState,nt=ze||Oe;return null!=ze&&ze.destroyed||null!=Oe&&Oe.destroyed?("function"==typeof xe&&xe(),this):(re(ae,ze,Oe),ze&&(ze.destroyed=!0),Oe&&(Oe.destroyed=!0),nt.constructed?F(this,ae,xe):this.once(R,function(Ze){F(this,A(Ze,ae),xe)}),this)},undestroy:function ee(){const ae=this._readableState,xe=this._writableState;ae&&(ae.constructed=!0,ae.closed=!1,ae.closeEmitted=!1,ae.destroyed=!1,ae.errored=null,ae.errorEmitted=!1,ae.reading=!1,ae.ended=!1===ae.readable,ae.endEmitted=!1===ae.readable),xe&&(xe.constructed=!0,xe.destroyed=!1,xe.closed=!1,xe.closeEmitted=!1,xe.errored=null,xe.errorEmitted=!1,xe.finalCalled=!1,xe.prefinished=!1,xe.ended=!1===xe.writable,xe.ending=!1===xe.writable,xe.finished=!1===xe.writable)},errorOrDestroy:q}},9613:(Ue,ge,S)=>{"use strict";const{ObjectDefineProperties:Z,ObjectGetOwnPropertyDescriptor:A,ObjectKeys:Y,ObjectSetPrototypeOf:G}=S(1251);Ue.exports=x;const X=S(5779),_=S(2983);G(x.prototype,X.prototype),G(x,X);{const D=Y(_.prototype);for(let re=0;re<D.length;re++){const w=D[re];x.prototype[w]||(x.prototype[w]=_.prototype[w])}}function x(D){if(!(this instanceof x))return new x(D);X.call(this,D),_.call(this,D),D?(this.allowHalfOpen=!1!==D.allowHalfOpen,!1===D.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===D.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let N,R;function W(){return void 0===N&&(N={}),N}Z(x.prototype,{writable:{__proto__:null,...A(_.prototype,"writable")},writableHighWaterMark:{__proto__:null,...A(_.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...A(_.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...A(_.prototype,"writableBuffer")},writableLength:{__proto__:null,...A(_.prototype,"writableLength")},writableFinished:{__proto__:null,...A(_.prototype,"writableFinished")},writableCorked:{__proto__:null,...A(_.prototype,"writableCorked")},writableEnded:{__proto__:null,...A(_.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...A(_.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(D){this._readableState&&this._writableState&&(this._readableState.destroyed=D,this._writableState.destroyed=D)}}}),x.fromWeb=function(D,re){return W().newStreamDuplexFromReadableWritablePair(D,re)},x.toWeb=function(D){return W().newReadableWritablePairFromDuplex(D)},x.from=function(D){return R||(R=S(4803)),R(D,"body")}},4803:(Ue,ge,S)=>{var Z=S(9293).default,A=S(3344).default,Y=S(2958).default;const G=S(573),X=S(2317),{isReadable:_,isWritable:x,isIterable:N,isNodeStream:W,isReadableNodeStream:R,isWritableNodeStream:D,isDuplexNodeStream:re,isReadableStream:w,isWritableStream:F}=S(6110),oe=S(3139),{AbortError:$,codes:{ERR_INVALID_ARG_TYPE:z,ERR_INVALID_RETURN_VALUE:ee}}=S(5480),{destroyer:q}=S(1509),B=S(9613),y=S(5779),M=S(2983),{createDeferredPromise:T}=S(1663),ce=S(3447),j=globalThis.Blob||X.Blob,Ie=typeof j<"u"?function(Te){return Te instanceof j}:function(Te){return!1},ae=globalThis.AbortController||S(9465).AbortController,{FunctionPrototypeCall:xe}=S(1251);class Oe extends B{constructor(Te){super(Te),!1===Te?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===Te?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function nt(Ze){const Te=Ze.readable&&"function"!=typeof Ze.readable.read?y.wrap(Ze.readable):Ze.readable,je=Ze.writable;let ue,Se,at,bt,Ke,Ce=!!_(Te),Be=!!x(je);function fe(O){const C=bt;bt=null,C?C(O):O&&Ke.destroy(O)}return Ke=new Oe({readableObjectMode:!(null==Te||!Te.readableObjectMode),writableObjectMode:!(null==je||!je.writableObjectMode),readable:Ce,writable:Be}),Be&&(oe(je,O=>{Be=!1,O&&q(Te,O),fe(O)}),Ke._write=function(O,C,ie){je.write(O,C)?ie():ue=ie},Ke._final=function(O){je.end(),Se=O},je.on("drain",function(){if(ue){const O=ue;ue=null,O()}}),je.on("finish",function(){if(Se){const O=Se;Se=null,O()}})),Ce&&(oe(Te,O=>{Ce=!1,O&&q(Te,O),fe(O)}),Te.on("readable",function(){if(at){const O=at;at=null,O()}}),Te.on("end",function(){Ke.push(null)}),Ke._read=function(){for(;;){const O=Te.read();if(null===O)return void(at=Ke._read);if(!Ke.push(O))return}}),Ke._destroy=function(O,C){!O&&null!==bt&&(O=new $),at=null,ue=null,Se=null,null===bt?C(O):(bt=C,q(je,O),q(Te,O))},Ke}Ue.exports=function Ze(Te,je){if(re(Te))return Te;if(R(Te))return nt({readable:Te});if(D(Te))return nt({writable:Te});if(W(Te))return nt({writable:!1,readable:!1});if(w(Te))return nt({readable:y.fromWeb(Te)});if(F(Te))return nt({writable:M.fromWeb(Te)});if("function"==typeof Te){const{value:Be,write:ue,final:Se,destroy:at}=function ze(Ze){let{promise:Te,resolve:je}=T();const Ce=new ae,Be=Ce.signal;return{value:Ze(Y(function*(){for(;;){const Se=Te;Te=null;const{chunk:at,done:bt,cb:Ke}=yield A(Se);if(G.nextTick(Ke),bt)return;if(Be.aborted)throw new $(void 0,{cause:Be.reason});({promise:Te,resolve:je}=T()),yield at}})(),{signal:Be}),write(Se,at,bt){const Ke=je;je=null,Ke({chunk:Se,done:!1,cb:bt})},final(Se){const at=je;je=null,at({done:!0,cb:Se})},destroy(Se,at){Ce.abort(),at(Se)}}}(Te);if(N(Be))return ce(Oe,Be,{objectMode:!0,write:ue,final:Se,destroy:at});const bt=Be?.then;if("function"==typeof bt){let Ke;const fe=xe(bt,Be,O=>{if(null!=O)throw new ee("nully","body",O)},O=>{q(Ke,O)});return Ke=new Oe({objectMode:!0,readable:!1,write:ue,final(O){Se(Z(function*(){try{yield fe,G.nextTick(O,null)}catch(C){G.nextTick(O,C)}}))},destroy:at})}throw new ee("Iterable, AsyncIterable or AsyncFunction",je,Be)}if(Ie(Te))return Ze(Te.arrayBuffer());if(N(Te))return ce(Oe,Te,{objectMode:!0,writable:!1});if(w(Te?.readable)&&F(Te?.writable))return Oe.fromWeb(Te);if("object"==typeof Te?.writable||"object"==typeof Te?.readable)return nt({readable:null!=Te&&Te.readable?R(Te?.readable)?Te?.readable:Ze(Te.readable):void 0,writable:null!=Te&&Te.writable?D(Te?.writable)?Te?.writable:Ze(Te.writable):void 0});const Ce=Te?.then;if("function"==typeof Ce){let Be;return xe(Ce,Te,ue=>{null!=ue&&Be.push(ue),Be.push(null)},ue=>{q(Be,ue)}),Be=new Oe({objectMode:!0,writable:!1,read(){}})}throw new z(je,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],Te)}},3139:(Ue,ge,S)=>{const Z=S(573),{AbortError:A,codes:Y}=S(5480),{ERR_INVALID_ARG_TYPE:G,ERR_STREAM_PREMATURE_CLOSE:X}=Y,{kEmptyObject:_,once:x}=S(1663),{validateAbortSignal:N,validateFunction:W,validateObject:R,validateBoolean:D}=S(438),{Promise:re,PromisePrototypeThen:w,SymbolDispose:F}=S(1251),{isClosed:oe,isReadable:$,isReadableNodeStream:z,isReadableStream:ee,isReadableFinished:q,isReadableErrored:B,isWritable:y,isWritableNodeStream:M,isWritableStream:T,isWritableFinished:ce,isWritableErrored:j,isNodeStream:Ie,willEmitClose:ae,kIsClosedPromise:xe}=S(6110);let Oe;const nt=()=>{};function Ze(Ce,Be,ue){var Se,at;if(2===arguments.length?(ue=Be,Be=_):null==Be?Be=_:R(Be,"options"),W(ue,"callback"),N(Be.signal,"options.signal"),ue=x(ue),ee(Ce)||T(Ce))return function Te(Ce,Be,ue){let Se=!1,at=nt;if(Be.signal)if(at=()=>{Se=!0,ue.call(Ce,new A(void 0,{cause:Be.signal.reason}))},Be.signal.aborted)Z.nextTick(at);else{Oe=Oe||S(1663).addAbortListener;const Ke=Oe(Be.signal,at),fe=ue;ue=x((...O)=>{Ke[F](),fe.apply(Ce,O)})}const bt=(...Ke)=>{Se||Z.nextTick(()=>ue.apply(Ce,Ke))};return w(Ce[xe].promise,bt,bt),nt}(Ce,Be,ue);if(!Ie(Ce))throw new G("stream",["ReadableStream","WritableStream","Stream"],Ce);const bt=null!==(Se=Be.readable)&&void 0!==Se?Se:z(Ce),Ke=null!==(at=Be.writable)&&void 0!==at?at:M(Ce),fe=Ce._writableState,O=Ce._readableState,C=()=>{Ce.writable||He()};let ie=ae(Ce)&&z(Ce)===bt&&M(Ce)===Ke,J=ce(Ce,!1);const He=()=>{J=!0,Ce.destroyed&&(ie=!1),(!ie||Ce.readable&&!bt)&&(!bt||Je)&&ue.call(Ce)};let Je=q(Ce,!1);const de=()=>{Je=!0,Ce.destroyed&&(ie=!1),(!ie||Ce.writable&&!Ke)&&(!Ke||J)&&ue.call(Ce)},te=Ee=>{ue.call(Ce,Ee)};let U=oe(Ce);const I=()=>{U=!0;const Ee=j(Ce)||B(Ce);return Ee&&"boolean"!=typeof Ee?ue.call(Ce,Ee):bt&&!Je&&z(Ce,!0)&&!q(Ce,!1)?ue.call(Ce,new X):!Ke||J||ce(Ce,!1)?void ue.call(Ce):ue.call(Ce,new X)},k=()=>{U=!0;const Ee=j(Ce)||B(Ce);if(Ee&&"boolean"!=typeof Ee)return ue.call(Ce,Ee);ue.call(Ce)},he=()=>{Ce.req.on("finish",He)};!function ze(Ce){return Ce.setHeader&&"function"==typeof Ce.abort}(Ce)?Ke&&!fe&&(Ce.on("end",C),Ce.on("close",C)):(Ce.on("complete",He),ie||Ce.on("abort",I),Ce.req?he():Ce.on("request",he)),!ie&&"boolean"==typeof Ce.aborted&&Ce.on("aborted",I),Ce.on("end",de),Ce.on("finish",He),!1!==Be.error&&Ce.on("error",te),Ce.on("close",I),U?Z.nextTick(I):null!=fe&&fe.errorEmitted||null!=O&&O.errorEmitted?ie||Z.nextTick(k):(!bt&&(!ie||$(Ce))&&(J||!1===y(Ce))||!Ke&&(!ie||y(Ce))&&(Je||!1===$(Ce))||O&&Ce.req&&Ce.aborted)&&Z.nextTick(k);const qe=()=>{ue=nt,Ce.removeListener("aborted",I),Ce.removeListener("complete",He),Ce.removeListener("abort",I),Ce.removeListener("request",he),Ce.req&&Ce.req.removeListener("finish",He),Ce.removeListener("end",C),Ce.removeListener("close",C),Ce.removeListener("finish",He),Ce.removeListener("end",de),Ce.removeListener("error",te),Ce.removeListener("close",I)};if(Be.signal&&!U){const Ee=()=>{const Ve=ue;qe(),Ve.call(Ce,new A(void 0,{cause:Be.signal.reason}))};if(Be.signal.aborted)Z.nextTick(Ee);else{Oe=Oe||S(1663).addAbortListener;const Ve=Oe(Be.signal,Ee),it=ue;ue=x((...At)=>{Ve[F](),it.apply(Ce,At)})}}return qe}Ue.exports=Ze,Ue.exports.finished=function je(Ce,Be){var ue;let Se=!1;return null===Be&&(Be=_),null!==(ue=Be)&&void 0!==ue&&ue.cleanup&&(D(Be.cleanup,"cleanup"),Se=Be.cleanup),new re((at,bt)=>{const Ke=Ze(Ce,Be,fe=>{Se&&Ke(),fe?bt(fe):at()})})}},3447:(Ue,ge,S)=>{"use strict";var Z=S(9293).default;const A=S(573),{PromisePrototypeThen:Y,SymbolAsyncIterator:G,SymbolIterator:X}=S(1251),{Buffer:_}=S(2317),{ERR_INVALID_ARG_TYPE:x,ERR_STREAM_NULL_VALUES:N}=S(5480).codes;Ue.exports=function W(R,D,re){let w,F;if("string"==typeof D||D instanceof _)return new R({objectMode:!0,...re,read(){this.push(D),this.push(null)}});if(D&&D[G])F=!0,w=D[G]();else{if(!D||!D[X])throw new x("iterable",["Iterable"],D);F=!1,w=D[X]()}const oe=new R({objectMode:!0,highWaterMark:1,...re});let $=!1;function ee(){return(ee=Z(function*(y){if(null!=y&&"function"==typeof w.throw){const{value:ce,done:j}=yield w.throw(y);if(yield ce,j)return}if("function"==typeof w.return){const{value:ce}=yield w.return();yield ce}})).apply(this,arguments)}function B(){return(B=Z(function*(){for(;;){try{const{value:y,done:M}=F?yield w.next():w.next();if(M)oe.push(null);else{const T=y&&"function"==typeof y.then?yield y:y;if(null===T)throw $=!1,new N;if(oe.push(T))continue;$=!1}}catch(y){oe.destroy(y)}break}})).apply(this,arguments)}return oe._read=function(){$||($=!0,function q(){B.apply(this,arguments)}())},oe._destroy=function(y,M){Y(function z(y){return ee.apply(this,arguments)}(y),()=>A.nextTick(M,y),T=>A.nextTick(M,T||y))},oe}},8708:(Ue,ge,S)=>{"use strict";const{ArrayIsArray:Z,ObjectSetPrototypeOf:A}=S(1251),{EventEmitter:Y}=S(4356);function G(_){Y.call(this,_)}function X(_,x,N){if("function"==typeof _.prependListener)return _.prependListener(x,N);_._events&&_._events[x]?Z(_._events[x])?_._events[x].unshift(N):_._events[x]=[N,_._events[x]]:_.on(x,N)}A(G.prototype,Y.prototype),A(G,Y),G.prototype.pipe=function(_,x){const N=this;function W($){_.writable&&!1===_.write($)&&N.pause&&N.pause()}function R(){N.readable&&N.resume&&N.resume()}N.on("data",W),_.on("drain",R),!_._isStdio&&(!x||!1!==x.end)&&(N.on("end",re),N.on("close",w));let D=!1;function re(){D||(D=!0,_.end())}function w(){D||(D=!0,"function"==typeof _.destroy&&_.destroy())}function F($){oe(),0===Y.listenerCount(this,"error")&&this.emit("error",$)}function oe(){N.removeListener("data",W),_.removeListener("drain",R),N.removeListener("end",re),N.removeListener("close",w),N.removeListener("error",F),_.removeListener("error",F),N.removeListener("end",oe),N.removeListener("close",oe),_.removeListener("close",oe)}return X(N,"error",F),X(_,"error",F),N.on("end",oe),N.on("close",oe),_.on("close",oe),_.emit("pipe",N),_},Ue.exports={Stream:G,prependListener:X}},1210:(Ue,ge,S)=>{"use strict";var Z=S(9293).default,A=S(3513).default,Y=S(2881).default,G=S(3344).default,X=S(2958).default;const _=globalThis.AbortController||S(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:x,ERR_INVALID_ARG_TYPE:N,ERR_MISSING_ARGS:W,ERR_OUT_OF_RANGE:R},AbortError:D}=S(5480),{validateAbortSignal:re,validateInteger:w,validateObject:F}=S(438),oe=S(1251).Symbol("kWeak"),$=S(1251).Symbol("kResistStopPropagation"),{finished:z}=S(3139),ee=S(6683),{addAbortSignalNoValidate:q}=S(8992),{isWritable:B,isNodeStream:y}=S(6110),{deprecate:M}=S(1663),{ArrayPrototypePush:T,Boolean:ce,MathFloor:j,Number:Ie,NumberIsNaN:ae,Promise:xe,PromiseReject:Oe,PromiseResolve:ze,PromisePrototypeThen:nt,Symbol:Ze}=S(1251),Te=Ze("kEmpty"),je=Ze("kEof");function Be(Ee,Ve){if("function"!=typeof Ee)throw new N("fn",["Function","AsyncFunction"],Ee);null!=Ve&&F(Ve,"options"),null!=Ve?.signal&&re(Ve.signal,"options.signal");let it=1;null!=Ve?.concurrency&&(it=j(Ve.concurrency));let At=it-1;return null!=Ve?.highWaterMark&&(At=j(Ve.highWaterMark)),w(it,"options.concurrency",1),w(At,"options.highWaterMark",0),At+=it,function(){var Wt=X(function*(){const zt=S(1663).AbortSignalAny([Ve?.signal].filter(ce)),pe=this,V=[],ne={signal:zt};let Fe,st,ft=!1,Tt=0;function An(){ft=!0,oi()}function oi(){Tt-=1,gi()}function gi(){st&&!ft&&Tt<it&&V.length<At&&(st(),st=null)}function Gn(){return(Gn=Z(function*(){try{var jr,dr=!1,Ga=!1;try{for(var Zs,ys=Y(pe);dr=!(Zs=yield ys.next()).done;dr=!1){let Er=Zs.value;if(ft)return;if(zt.aborted)throw new D;try{if(Er=Ee(Er,ne),Er===Te)continue;Er=ze(Er)}catch(fo){Er=Oe(fo)}Tt+=1,nt(Er,oi,An),V.push(Er),Fe&&(Fe(),Fe=null),!ft&&(V.length>=At||Tt>=it)&&(yield new xe(fo=>{st=fo}))}}catch(Er){Ga=!0,jr=Er}finally{try{dr&&null!=ys.return&&(yield ys.return())}finally{if(Ga)throw jr}}V.push(je)}catch(Er){const fo=Oe(Er);nt(fo,oi,An),V.push(fo)}finally{ft=!0,Fe&&(Fe(),Fe=null)}})).apply(this,arguments)}!function qn(){Gn.apply(this,arguments)}();try{for(;;){for(;V.length>0;){const dr=yield G(V[0]);if(dr===je)return;if(zt.aborted)throw new D;dr!==Te&&(yield dr),V.shift(),gi()}yield G(new xe(dr=>{Fe=dr}))}}finally{ft=!0,st&&(st(),st=null)}});return function It(){return Wt.apply(this,arguments)}}().call(this)}function Se(Ee){return at.apply(this,arguments)}function at(){return(at=Z(function*(Ee,Ve=void 0){var Wt,it=!1,At=!1;try{for(var It=Y(J.call(this,Ee,Ve));it=!(yield It.next()).done;it=!1)return!0}catch(pe){At=!0,Wt=pe}finally{try{it&&null!=It.return&&(yield It.return())}finally{if(At)throw Wt}}return!1})).apply(this,arguments)}function Ke(){return(Ke=Z(function*(Ee,Ve=void 0){if("function"!=typeof Ee)throw new N("fn",["Function","AsyncFunction"],Ee);return!(yield Se.call(this,Z(function*(...it){return!(yield Ee(...it))}),Ve))})).apply(this,arguments)}function O(){return(O=Z(function*(Ee,Ve){var Wt,it=!1,At=!1;try{for(var zt,It=Y(J.call(this,Ee,Ve));it=!(zt=yield It.next()).done;it=!1)return zt.value}catch(pe){At=!0,Wt=pe}finally{try{it&&null!=It.return&&(yield It.return())}finally{if(At)throw Wt}}})).apply(this,arguments)}function ie(){return ie=Z(function*(Ee,Ve){if("function"!=typeof Ee)throw new N("fn",["Function","AsyncFunction"],Ee);function At(){return(At=Z(function*(ne,Fe){return yield Ee(ne,Fe),Te})).apply(this,arguments)}var zt,Wt=!1,It=!1;try{for(var pe=Y(Be.call(this,function it(ne,Fe){return At.apply(this,arguments)},Ve));Wt=!(yield pe.next()).done;Wt=!1);}catch(ne){It=!0,zt=ne}finally{try{Wt&&null!=pe.return&&(yield pe.return())}finally{if(It)throw zt}}}),ie.apply(this,arguments)}function J(Ee,Ve){if("function"!=typeof Ee)throw new N("fn",["Function","AsyncFunction"],Ee);function At(){return(At=Z(function*(Wt,It){return(yield Ee(Wt,It))?Wt:Te})).apply(this,arguments)}return Be.call(this,function it(Wt,It){return At.apply(this,arguments)},Ve)}class He extends W{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function de(){return de=Z(function*(Ee,Ve,it){var At;if("function"!=typeof Ee)throw new N("reducer",["Function","AsyncFunction"],Ee);null!=it&&F(it,"options"),null!=it?.signal&&re(it.signal,"options.signal");let Wt=arguments.length>1;if(null!=it&&null!==(At=it.signal)&&void 0!==At&&At.aborted){const An=new D(void 0,{cause:it.signal.reason});throw this.once("error",()=>{}),yield z(this.destroy(An)),An}const It=new _,zt=It.signal;null!=it&&it.signal&&it.signal.addEventListener("abort",()=>It.abort(),{once:!0,[oe]:this,[$]:!0});let pe=!1;try{var Fe,V=!1,ne=!1;try{for(var ft,st=Y(this);V=!(ft=yield st.next()).done;V=!1){const An=ft.value;var Tt;if(pe=!0,null!=it&&null!==(Tt=it.signal)&&void 0!==Tt&&Tt.aborted)throw new D;Wt?Ve=yield Ee(Ve,An,{signal:zt}):(Ve=An,Wt=!0)}}catch(An){ne=!0,Fe=An}finally{try{V&&null!=st.return&&(yield st.return())}finally{if(ne)throw Fe}}if(!pe&&!Wt)throw new He}finally{It.abort()}return Ve}),de.apply(this,arguments)}function U(){return(U=Z(function*(Ee){null!=Ee&&F(Ee,"options"),null!=Ee?.signal&&re(Ee.signal,"options.signal");const Ve=[];var Wt,it=!1,At=!1;try{for(var zt,It=Y(this);it=!(zt=yield It.next()).done;it=!1){const V=zt.value;var pe;if(null!=Ee&&null!==(pe=Ee.signal)&&void 0!==pe&&pe.aborted)throw new D(void 0,{cause:Ee.signal.reason});T(Ve,V)}}catch(V){At=!0,Wt=V}finally{try{it&&null!=It.return&&(yield It.return())}finally{if(At)throw Wt}}return Ve})).apply(this,arguments)}function k(Ee){if(Ee=Ie(Ee),ae(Ee))return 0;if(Ee<0)throw new R("number",">= 0",Ee);return Ee}Ue.exports.streamReturningOperators={asIndexedPairs:M(function ue(Ee=void 0){return null!=Ee&&F(Ee,"options"),null!=Ee?.signal&&re(Ee.signal,"options.signal"),function(){var Ve=X(function*(){let At=0;var zt,Wt=!1,It=!1;try{for(var V,pe=Y(this);Wt=!(V=yield G(pe.next())).done;Wt=!1){const Fe=V.value;var ne;if(null!=Ee&&null!==(ne=Ee.signal)&&void 0!==ne&&ne.aborted)throw new D({cause:Ee.signal.reason});yield[At++,Fe]}}catch(Fe){It=!0,zt=Fe}finally{try{Wt&&null!=pe.return&&(yield G(pe.return()))}finally{if(It)throw zt}}});return function it(){return Ve.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function he(Ee,Ve=void 0){return null!=Ve&&F(Ve,"options"),null!=Ve?.signal&&re(Ve.signal,"options.signal"),Ee=k(Ee),function(){var it=X(function*(){var Wt;if(null!=Ve&&null!==(Wt=Ve.signal)&&void 0!==Wt&&Wt.aborted)throw new D;var pe,It=!1,zt=!1;try{for(var ne,V=Y(this);It=!(ne=yield G(V.next())).done;It=!1){const st=ne.value;var Fe;if(null!=Ve&&null!==(Fe=Ve.signal)&&void 0!==Fe&&Fe.aborted)throw new D;Ee--<=0&&(yield st)}}catch(st){zt=!0,pe=st}finally{try{It&&null!=V.return&&(yield G(V.return()))}finally{if(zt)throw pe}}});return function At(){return it.apply(this,arguments)}}().call(this)},filter:J,flatMap:function I(Ee,Ve){const it=Be.call(this,Ee,Ve);return function(){var At=X(function*(){var pe,It=!1,zt=!1;try{for(var ne,V=Y(it);It=!(ne=yield G(V.next())).done;It=!1){const Fe=ne.value;yield*A(Y(Fe),G)}}catch(Fe){zt=!0,pe=Fe}finally{try{It&&null!=V.return&&(yield G(V.return()))}finally{if(zt)throw pe}}});return function Wt(){return At.apply(this,arguments)}}().call(this)},map:Be,take:function qe(Ee,Ve=void 0){return null!=Ve&&F(Ve,"options"),null!=Ve?.signal&&re(Ve.signal,"options.signal"),Ee=k(Ee),function(){var it=X(function*(){var Wt;if(null!=Ve&&null!==(Wt=Ve.signal)&&void 0!==Wt&&Wt.aborted)throw new D;var pe,It=!1,zt=!1;try{for(var ne,V=Y(this);It=!(ne=yield G(V.next())).done;It=!1){const st=ne.value;var Fe;if(null!=Ve&&null!==(Fe=Ve.signal)&&void 0!==Fe&&Fe.aborted)throw new D;if(Ee-- >0&&(yield st),Ee<=0)return}}catch(st){zt=!0,pe=st}finally{try{It&&null!=V.return&&(yield G(V.return()))}finally{if(zt)throw pe}}});return function At(){return it.apply(this,arguments)}}().call(this)},compose:function Ce(Ee,Ve){if(null!=Ve&&F(Ve,"options"),null!=Ve?.signal&&re(Ve.signal,"options.signal"),y(Ee)&&!B(Ee))throw new x("stream",Ee,"must be writable");const it=ee(this,Ee);return null!=Ve&&Ve.signal&&q(Ve.signal,it),it}},Ue.exports.promiseReturningOperators={every:function bt(Ee){return Ke.apply(this,arguments)},forEach:function C(Ee,Ve){return ie.apply(this,arguments)},reduce:function Je(Ee,Ve,it){return de.apply(this,arguments)},toArray:function te(Ee){return U.apply(this,arguments)},some:Se,find:function fe(Ee,Ve){return O.apply(this,arguments)}}},6569:(Ue,ge,S)=>{"use strict";const{ObjectSetPrototypeOf:Z}=S(1251);Ue.exports=Y;const A=S(9059);function Y(G){if(!(this instanceof Y))return new Y(G);A.call(this,G)}Z(Y.prototype,A.prototype),Z(Y,A),Y.prototype._transform=function(G,X,_){_(null,G)}},6249:(Ue,ge,S)=>{var Z=S(9293).default,A=S(2958).default,Y=S(3344).default,G=S(3513).default,X=S(2881).default;const _=S(573),{ArrayIsArray:x,Promise:N,SymbolAsyncIterator:W,SymbolDispose:R}=S(1251),D=S(3139),{once:re}=S(1663),w=S(1509),F=S(9613),{aggregateTwoErrors:oe,codes:{ERR_INVALID_ARG_TYPE:$,ERR_INVALID_RETURN_VALUE:z,ERR_MISSING_ARGS:ee,ERR_STREAM_DESTROYED:q,ERR_STREAM_PREMATURE_CLOSE:B},AbortError:y}=S(5480),{validateFunction:M,validateAbortSignal:T}=S(438),{isIterable:ce,isReadable:j,isReadableNodeStream:Ie,isNodeStream:ae,isTransformStream:xe,isWebStream:Oe,isReadableStream:ze,isReadableFinished:nt}=S(6110),Ze=globalThis.AbortController||S(9465).AbortController;let Te,je,Ce;function Be(Je,de,te){let U=!1;return Je.on("close",()=>{U=!0}),{destroy:k=>{U||(U=!0,w.destroyer(Je,k||new q("pipe")))},cleanup:D(Je,{readable:de,writable:te},k=>{U=!k})}}function Se(Je){if(ce(Je))return Je;if(Ie(Je))return function at(Je){return bt.apply(this,arguments)}(Je);throw new $("val",["Readable","Iterable","AsyncIterable"],Je)}function bt(){return(bt=A(function*(Je){je||(je=S(5779)),yield*G(X(je.prototype[W].call(Je)),Y)})).apply(this,arguments)}function Ke(Je,de,te,U){return fe.apply(this,arguments)}function fe(){return(fe=Z(function*(Je,de,te,{end:U}){let I,k=null;const he=zt=>{if(zt&&(I=zt),k){const pe=k;k=null,pe()}},qe=()=>new N((zt,pe)=>{I?pe(I):k=()=>{I?pe(I):zt()}});de.on("drain",he);const Ee=D(de,{readable:!1},he);try{de.writableNeedDrain&&(yield qe());var At,Ve=!1,it=!1;try{for(var It,Wt=X(Je);Ve=!(It=yield Wt.next()).done;Ve=!1)de.write(It.value)||(yield qe())}catch(zt){it=!0,At=zt}finally{try{Ve&&null!=Wt.return&&(yield Wt.return())}finally{if(it)throw At}}U&&(de.end(),yield qe()),te()}catch(zt){te(I!==zt?oe(I,zt):zt)}finally{Ee(),de.off("drain",he)}})).apply(this,arguments)}function O(Je,de,te,U){return C.apply(this,arguments)}function C(){return(C=Z(function*(Je,de,te,{end:U}){xe(de)&&(de=de.writable);const I=de.getWriter();try{var qe,k=!1,he=!1;try{for(var Ve,Ee=X(Je);k=!(Ve=yield Ee.next()).done;k=!1){const it=Ve.value;yield I.ready,I.write(it).catch(()=>{})}}catch(it){he=!0,qe=it}finally{try{k&&null!=Ee.return&&(yield Ee.return())}finally{if(he)throw qe}}yield I.ready,U&&(yield I.close()),te()}catch(it){try{yield I.abort(it),te(it)}catch(At){te(At)}}})).apply(this,arguments)}function J(Je,de,te){if(1===Je.length&&x(Je[0])&&(Je=Je[0]),Je.length<2)throw new ee("streams");const U=new Ze,I=U.signal,k=te?.signal,he=[];function qe(){zt(new y)}let Ee,Ve,it;T(k,"options.signal"),Ce=Ce||S(1663).addAbortListener,k&&(Ee=Ce(k,qe));const At=[];let pe,Wt=0;function It(st){zt(st,0==--Wt)}function zt(st,ft){var Tt;if(st&&(!Ve||"ERR_STREAM_PREMATURE_CLOSE"===Ve.code)&&(Ve=st),Ve||ft){for(;At.length;)At.shift()(Ve);null===(Tt=Ee)||void 0===Tt||Tt[R](),U.abort(),ft&&(Ve||he.forEach(An=>An()),_.nextTick(de,Ve,it))}}for(let st=0;st<Je.length;st++){const ft=Je[st],Tt=st<Je.length-1,An=st>0,oi=Tt||!1!==te?.end,gi=st===Je.length-1;if(ae(ft)){let qn=function(Gn){Gn&&"AbortError"!==Gn.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Gn.code&&It(Gn)};if(oi){const{destroy:Gn,cleanup:dr}=Be(ft,Tt,An);At.push(Gn),j(ft)&&gi&&he.push(dr)}ft.on("error",qn),j(ft)&&gi&&he.push(()=>{ft.removeListener("error",qn)})}if(0===st)if("function"==typeof ft){if(pe=ft({signal:I}),!ce(pe))throw new z("Iterable, AsyncIterable or Stream","source",pe)}else pe=ce(ft)||Ie(ft)||xe(ft)?ft:F.from(ft);else if("function"==typeof ft){var V;if(pe=xe(pe)?Se(null===(V=pe)||void 0===V?void 0:V.readable):Se(pe),pe=ft(pe,{signal:I}),Tt){if(!ce(pe,!0))throw new z("AsyncIterable",`transform[${st-1}]`,pe)}else{var ne;Te||(Te=S(6569));const qn=new Te({objectMode:!0}),Gn=null===(ne=pe)||void 0===ne?void 0:ne.then;if("function"==typeof Gn)Wt++,Gn.call(pe,jr=>{it=jr,null!=jr&&qn.write(jr),oi&&qn.end(),_.nextTick(It)},jr=>{qn.destroy(jr),_.nextTick(It,jr)});else if(ce(pe,!0))Wt++,Ke(pe,qn,It,{end:oi});else{if(!ze(pe)&&!xe(pe))throw new z("AsyncIterable or Promise","destination",pe);Wt++,Ke(pe.readable||pe,qn,It,{end:oi})}pe=qn;const{destroy:dr,cleanup:Ga}=Be(pe,!1,!0);At.push(dr),gi&&he.push(Ga)}}else if(ae(ft)){if(Ie(pe)){Wt+=2;const qn=He(pe,ft,It,{end:oi});j(ft)&&gi&&he.push(qn)}else if(xe(pe)||ze(pe))Wt++,Ke(pe.readable||pe,ft,It,{end:oi});else{if(!ce(pe))throw new $("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],pe);Wt++,Ke(pe,ft,It,{end:oi})}pe=ft}else if(Oe(ft)){if(Ie(pe))Wt++,O(Se(pe),ft,It,{end:oi});else if(ze(pe)||ce(pe))Wt++,O(pe,ft,It,{end:oi});else{if(!xe(pe))throw new $("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],pe);Wt++,O(pe.readable,ft,It,{end:oi})}pe=ft}else pe=F.from(ft)}return(null!=I&&I.aborted||null!=k&&k.aborted)&&_.nextTick(qe),pe}function He(Je,de,te,{end:U}){let I=!1;if(de.on("close",()=>{I||te(new B)}),Je.pipe(de,{end:!1}),U){let he=function(){I=!0,de.end()};nt(Je)?_.nextTick(he):Je.once("end",he)}else te();return D(Je,{readable:!0,writable:!1},he=>{const qe=Je._readableState;he&&"ERR_STREAM_PREMATURE_CLOSE"===he.code&&qe&&qe.ended&&!qe.errored&&!qe.errorEmitted?Je.once("end",te).once("error",te):te(he)}),D(de,{readable:!1,writable:!0},te)}Ue.exports={pipelineImpl:J,pipeline:function ie(...Je){return J(Je,re(function ue(Je){return M(Je[Je.length-1],"streams[stream.length - 1]"),Je.pop()}(Je)))}}},5779:(Ue,ge,S)=>{var Z=S(3344).default,A=S(2958).default;const Y=S(573),{ArrayPrototypeIndexOf:G,NumberIsInteger:X,NumberIsNaN:_,NumberParseInt:x,ObjectDefineProperties:N,ObjectKeys:W,ObjectSetPrototypeOf:R,Promise:D,SafeSet:re,SymbolAsyncDispose:w,SymbolAsyncIterator:F,Symbol:oe}=S(1251);Ue.exports=It,It.ReadableState=Wt;const{EventEmitter:$}=S(4356),{Stream:z,prependListener:ee}=S(8708),{Buffer:q}=S(2317),{addAbortSignal:B}=S(8992),y=S(3139);let M=S(1663).debuglog("stream",We=>{M=We});const T=S(9588),ce=S(1509),{getHighWaterMark:j,getDefaultHighWaterMark:Ie}=S(2934),{aggregateTwoErrors:ae,codes:{ERR_INVALID_ARG_TYPE:xe,ERR_METHOD_NOT_IMPLEMENTED:Oe,ERR_OUT_OF_RANGE:ze,ERR_STREAM_PUSH_AFTER_EOF:nt,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Ze},AbortError:Te}=S(5480),{validateObject:je}=S(438),Ce=oe("kPaused"),{StringDecoder:Be}=S(8454),ue=S(3447);R(It.prototype,z.prototype),R(It,z);const Se=()=>{},{errorOrDestroy:at}=ce,bt=1,C=16,ie=32,J=64,U=2048,I=4096,Ee=65536;function At(We){return{enumerable:!1,get(){return!!(this.state&We)},set(Qe){Qe?this.state|=We:this.state&=~We}}}function Wt(We,Qe,sn){"boolean"!=typeof sn&&(sn=Qe instanceof S(9613)),this.state=U|I|C|ie,We&&We.objectMode&&(this.state|=bt),sn&&We&&We.readableObjectMode&&(this.state|=bt),this.highWaterMark=We?j(this,We,"readableHighWaterMark",sn):Ie(!1),this.buffer=new T,this.length=0,this.pipes=[],this.flowing=null,this[Ce]=null,We&&!1===We.emitClose&&(this.state&=~U),We&&!1===We.autoDestroy&&(this.state&=~I),this.errored=null,this.defaultEncoding=We&&We.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,We&&We.encoding&&(this.decoder=new Be(We.encoding),this.encoding=We.encoding)}function It(We){if(!(this instanceof It))return new It(We);const Qe=this instanceof S(9613);this._readableState=new Wt(We,this,Qe),We&&("function"==typeof We.read&&(this._read=We.read),"function"==typeof We.destroy&&(this._destroy=We.destroy),"function"==typeof We.construct&&(this._construct=We.construct),We.signal&&!Qe&&B(We.signal,this)),z.call(this,We),ce.construct(this,()=>{this._readableState.needReadable&&An(this,this._readableState)})}function zt(We,Qe,sn,Ct){M("readableAddChunk",Qe);const Tn=We._readableState;let Ur;if(Tn.state&bt||("string"==typeof Qe?Tn.encoding!==(sn=sn||Tn.defaultEncoding)&&(Ct&&Tn.encoding?Qe=q.from(Qe,sn).toString(Tn.encoding):(Qe=q.from(Qe,sn),sn="")):Qe instanceof q?sn="":z._isUint8Array(Qe)?(Qe=z._uint8ArrayToBuffer(Qe),sn=""):null!=Qe&&(Ur=new xe("chunk",["string","Buffer","Uint8Array"],Qe))),Ur)at(We,Ur);else if(null===Qe)Tn.state&=-9,function st(We,Qe){if(M("onEofChunk"),!Qe.ended){if(Qe.decoder){const sn=Qe.decoder.end();sn&&sn.length&&(Qe.buffer.push(sn),Qe.length+=Qe.objectMode?1:sn.length)}Qe.ended=!0,Qe.sync?ft(We):(Qe.needReadable=!1,Qe.emittedReadable=!0,Tt(We))}}(We,Tn);else if(Tn.state&bt||Qe&&Qe.length>0)if(Ct)if(4&Tn.state)at(We,new Ze);else{if(Tn.destroyed||Tn.errored)return!1;pe(We,Tn,Qe,!0)}else if(Tn.ended)at(We,new nt);else{if(Tn.destroyed||Tn.errored)return!1;Tn.state&=-9,Tn.decoder&&!sn?(Qe=Tn.decoder.write(Qe),Tn.objectMode||0!==Qe.length?pe(We,Tn,Qe,!1):An(We,Tn)):pe(We,Tn,Qe,!1)}else Ct||(Tn.state&=-9,An(We,Tn));return!Tn.ended&&(Tn.length<Tn.highWaterMark||0===Tn.length)}function pe(We,Qe,sn,Ct){Qe.flowing&&0===Qe.length&&!Qe.sync&&We.listenerCount("data")>0?(Qe.state&Ee?Qe.awaitDrainWriters.clear():Qe.awaitDrainWriters=null,Qe.dataEmitted=!0,We.emit("data",sn)):(Qe.length+=Qe.objectMode?1:sn.length,Ct?Qe.buffer.unshift(sn):Qe.buffer.push(sn),Qe.state&J&&ft(We)),An(We,Qe)}function Fe(We,Qe){return We<=0||0===Qe.length&&Qe.ended?0:Qe.state&bt?1:_(We)?Qe.flowing&&Qe.length?Qe.buffer.first().length:Qe.length:We<=Qe.length?We:Qe.ended?Qe.length:0}function ft(We){const Qe=We._readableState;M("emitReadable",Qe.needReadable,Qe.emittedReadable),Qe.needReadable=!1,Qe.emittedReadable||(M("emitReadable",Qe.flowing),Qe.emittedReadable=!0,Y.nextTick(Tt,We))}function Tt(We){const Qe=We._readableState;M("emitReadable_",Qe.destroyed,Qe.length,Qe.ended),!Qe.destroyed&&!Qe.errored&&(Qe.length||Qe.ended)&&(We.emit("readable"),Qe.emittedReadable=!1),Qe.needReadable=!Qe.flowing&&!Qe.ended&&Qe.length<=Qe.highWaterMark,jr(We)}function An(We,Qe){!Qe.readingMore&&Qe.constructed&&(Qe.readingMore=!0,Y.nextTick(oi,We,Qe))}function oi(We,Qe){for(;!Qe.reading&&!Qe.ended&&(Qe.length<Qe.highWaterMark||Qe.flowing&&0===Qe.length);){const sn=Qe.length;if(M("maybeReadMore read 0"),We.read(0),sn===Qe.length)break}Qe.readingMore=!1}function qn(We){const Qe=We._readableState;Qe.readableListening=We.listenerCount("readable")>0,Qe.resumeScheduled&&!1===Qe[Ce]?Qe.flowing=!0:We.listenerCount("data")>0?We.resume():Qe.readableListening||(Qe.flowing=null)}function Gn(We){M("readable nexttick read 0"),We.read(0)}function Ga(We,Qe){M("resume",Qe.reading),Qe.reading||We.read(0),Qe.resumeScheduled=!1,We.emit("resume"),jr(We),Qe.flowing&&!Qe.reading&&We.read(0)}function jr(We){const Qe=We._readableState;for(M("flow",Qe.flowing);Qe.flowing&&null!==We.read(););}function ys(We,Qe){"function"!=typeof We.read&&(We=It.wrap(We,{objectMode:!0}));const sn=function Zs(We,Qe){return Er.apply(this,arguments)}(We,Qe);return sn.stream=We,sn}function Er(){return(Er=A(function*(We,Qe){let Tn,sn=Se;function Ct(Go){this===We?(sn(),sn=Se):sn=Go}We.on("readable",Ct);const Ur=y(We,{writable:!1},Go=>{Tn=Go?ae(Tn,Go):null,sn(),sn=Se});try{for(;;){const Go=We.destroyed?null:We.read();if(null!==Go)yield Go;else{if(Tn)throw Tn;if(null===Tn)return;yield Z(new D(Ct))}}}catch(Go){throw Tn=ae(Tn,Go),Tn}finally{!Tn&&!1===Qe?.destroyOnReturn||void 0!==Tn&&!We._readableState.autoDestroy?(We.off("readable",Ct),Ur()):ce.destroyer(We,null)}})).apply(this,arguments)}function fo(We,Qe){if(0===Qe.length)return null;let sn;return Qe.objectMode?sn=Qe.buffer.shift():!We||We>=Qe.length?(sn=Qe.decoder?Qe.buffer.join(""):1===Qe.buffer.length?Qe.buffer.first():Qe.buffer.concat(Qe.length),Qe.buffer.clear()):sn=Qe.buffer.consume(We,Qe.decoder),sn}function ea(We){const Qe=We._readableState;M("endReadable",Qe.endEmitted),Qe.endEmitted||(Qe.ended=!0,Y.nextTick(Jl,Qe,We))}function Jl(We,Qe){if(M("endReadableNT",We.endEmitted,We.length),!We.errored&&!We.closeEmitted&&!We.endEmitted&&0===We.length)if(We.endEmitted=!0,Qe.emit("end"),Qe.writable&&!1===Qe.allowHalfOpen)Y.nextTick(Hc,Qe);else if(We.autoDestroy){const sn=Qe._writableState;(!sn||sn.autoDestroy&&(sn.finished||!1===sn.writable))&&Qe.destroy()}}function Hc(We){We.writable&&!We.writableEnded&&!We.destroyed&&We.end()}let bl;function Gc(){return void 0===bl&&(bl={}),bl}N(Wt.prototype,{objectMode:At(bt),ended:At(2),endEmitted:At(4),reading:At(8),constructed:At(C),sync:At(ie),needReadable:At(J),emittedReadable:At(128),readableListening:At(256),resumeScheduled:At(512),errorEmitted:At(1024),emitClose:At(U),autoDestroy:At(I),destroyed:At(8192),closed:At(16384),closeEmitted:At(32768),multiAwaitDrain:At(Ee),readingMore:At(1<<17),dataEmitted:At(1<<18)}),It.prototype.destroy=ce.destroy,It.prototype._undestroy=ce.undestroy,It.prototype._destroy=function(We,Qe){Qe(We)},It.prototype[$.captureRejectionSymbol]=function(We){this.destroy(We)},It.prototype[w]=function(){let We;return this.destroyed||(We=this.readableEnded?null:new Te,this.destroy(We)),new D((Qe,sn)=>y(this,Ct=>Ct&&Ct!==We?sn(Ct):Qe(null)))},It.prototype.push=function(We,Qe){return zt(this,We,Qe,!1)},It.prototype.unshift=function(We,Qe){return zt(this,We,Qe,!0)},It.prototype.isPaused=function(){const We=this._readableState;return!0===We[Ce]||!1===We.flowing},It.prototype.setEncoding=function(We){const Qe=new Be(We);this._readableState.decoder=Qe,this._readableState.encoding=this._readableState.decoder.encoding;const sn=this._readableState.buffer;let Ct="";for(const Tn of sn)Ct+=Qe.write(Tn);return sn.clear(),""!==Ct&&sn.push(Ct),this._readableState.length=Ct.length,this},It.prototype.read=function(We){M("read",We),void 0===We?We=NaN:X(We)||(We=x(We,10));const Qe=this._readableState,sn=We;if(We>Qe.highWaterMark&&(Qe.highWaterMark=function ne(We){if(We>1073741824)throw new ze("size","<= 1GiB",We);return We--,We|=We>>>1,We|=We>>>2,We|=We>>>4,We|=We>>>8,We|=We>>>16,++We}(We)),0!==We&&(Qe.state&=-129),0===We&&Qe.needReadable&&((0!==Qe.highWaterMark?Qe.length>=Qe.highWaterMark:Qe.length>0)||Qe.ended))return M("read: emitReadable",Qe.length,Qe.ended),0===Qe.length&&Qe.ended?ea(this):ft(this),null;if(0===(We=Fe(We,Qe))&&Qe.ended)return 0===Qe.length&&ea(this),null;let Tn,Ct=!!(Qe.state&J);if(M("need readable",Ct),(0===Qe.length||Qe.length-We<Qe.highWaterMark)&&(Ct=!0,M("length less than watermark",Ct)),Qe.ended||Qe.reading||Qe.destroyed||Qe.errored||!Qe.constructed)Ct=!1,M("reading, ended or constructing",Ct);else if(Ct){M("do read"),Qe.state|=8|ie,0===Qe.length&&(Qe.state|=J);try{this._read(Qe.highWaterMark)}catch(Ur){at(this,Ur)}Qe.state&=~ie,Qe.reading||(We=Fe(sn,Qe))}return Tn=We>0?fo(We,Qe):null,null===Tn?(Qe.needReadable=Qe.length<=Qe.highWaterMark,We=0):(Qe.length-=We,Qe.multiAwaitDrain?Qe.awaitDrainWriters.clear():Qe.awaitDrainWriters=null),0===Qe.length&&(Qe.ended||(Qe.needReadable=!0),sn!==We&&Qe.ended&&ea(this)),null!==Tn&&!Qe.errorEmitted&&!Qe.closeEmitted&&(Qe.dataEmitted=!0,this.emit("data",Tn)),Tn},It.prototype._read=function(We){throw new Oe("_read()")},It.prototype.pipe=function(We,Qe){const sn=this,Ct=this._readableState;1===Ct.pipes.length&&(Ct.multiAwaitDrain||(Ct.multiAwaitDrain=!0,Ct.awaitDrainWriters=new re(Ct.awaitDrainWriters?[Ct.awaitDrainWriters]:[]))),Ct.pipes.push(We),M("pipe count=%d opts=%j",Ct.pipes.length,Qe);const Ur=Qe&&!1===Qe.end||We===Y.stdout||We===Y.stderr?Os:Wc;function Wc(){M("onend"),We.end()}Ct.endEmitted?Y.nextTick(Ur):sn.once("end",Ur),We.on("unpipe",function Go(Wo,wt){M("onunpipe"),Wo===sn&&wt&&!1===wt.hasUnpiped&&(wt.hasUnpiped=!0,function Ir(){M("cleanup"),We.removeListener("close",vs),We.removeListener("finish",Vt),on&&We.removeListener("drain",on),We.removeListener("error",si),We.removeListener("unpipe",Go),sn.removeListener("end",Wc),sn.removeListener("end",Os),sn.removeListener("data",Pn),mc=!0,on&&Ct.awaitDrainWriters&&(!We._writableState||We._writableState.needDrain)&&on()}())});let on,mc=!1;function gc(){mc||(1===Ct.pipes.length&&Ct.pipes[0]===We?(M("false write response, pause",0),Ct.awaitDrainWriters=We,Ct.multiAwaitDrain=!1):Ct.pipes.length>1&&Ct.pipes.includes(We)&&(M("false write response, pause",Ct.awaitDrainWriters.size),Ct.awaitDrainWriters.add(We)),sn.pause()),on||(on=function gi(We,Qe){return function(){const Ct=We._readableState;Ct.awaitDrainWriters===Qe?(M("pipeOnDrain",1),Ct.awaitDrainWriters=null):Ct.multiAwaitDrain&&(M("pipeOnDrain",Ct.awaitDrainWriters.size),Ct.awaitDrainWriters.delete(Qe)),(!Ct.awaitDrainWriters||0===Ct.awaitDrainWriters.size)&&We.listenerCount("data")&&We.resume()}}(sn,We),We.on("drain",on))}function Pn(Wo){M("ondata");const wt=We.write(Wo);M("dest.write",wt),!1===wt&&gc()}function si(Wo){if(M("onerror",Wo),Os(),We.removeListener("error",si),0===We.listenerCount("error")){const wt=We._writableState||We._readableState;wt&&!wt.errorEmitted?at(We,Wo):We.emit("error",Wo)}}function vs(){We.removeListener("finish",Vt),Os()}function Vt(){M("onfinish"),We.removeListener("close",vs),Os()}function Os(){M("unpipe"),sn.unpipe(We)}return sn.on("data",Pn),ee(We,"error",si),We.once("close",vs),We.once("finish",Vt),We.emit("pipe",sn),!0===We.writableNeedDrain?gc():Ct.flowing||(M("pipe resume"),sn.resume()),We},It.prototype.unpipe=function(We){const Qe=this._readableState;if(0===Qe.pipes.length)return this;if(!We){const Tn=Qe.pipes;Qe.pipes=[],this.pause();for(let Ur=0;Ur<Tn.length;Ur++)Tn[Ur].emit("unpipe",this,{hasUnpiped:!1});return this}const Ct=G(Qe.pipes,We);return-1===Ct||(Qe.pipes.splice(Ct,1),0===Qe.pipes.length&&this.pause(),We.emit("unpipe",this,{hasUnpiped:!1})),this},It.prototype.addListener=It.prototype.on=function(We,Qe){const sn=z.prototype.on.call(this,We,Qe),Ct=this._readableState;return"data"===We?(Ct.readableListening=this.listenerCount("readable")>0,!1!==Ct.flowing&&this.resume()):"readable"===We&&!Ct.endEmitted&&!Ct.readableListening&&(Ct.readableListening=Ct.needReadable=!0,Ct.flowing=!1,Ct.emittedReadable=!1,M("on readable",Ct.length,Ct.reading),Ct.length?ft(this):Ct.reading||Y.nextTick(Gn,this)),sn},It.prototype.off=It.prototype.removeListener=function(We,Qe){const sn=z.prototype.removeListener.call(this,We,Qe);return"readable"===We&&Y.nextTick(qn,this),sn},It.prototype.removeAllListeners=function(We){const Qe=z.prototype.removeAllListeners.apply(this,arguments);return("readable"===We||void 0===We)&&Y.nextTick(qn,this),Qe},It.prototype.resume=function(){const We=this._readableState;return We.flowing||(M("resume"),We.flowing=!We.readableListening,function dr(We,Qe){Qe.resumeScheduled||(Qe.resumeScheduled=!0,Y.nextTick(Ga,We,Qe))}(this,We)),We[Ce]=!1,this},It.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Ce]=!0,this},It.prototype.wrap=function(We){let Qe=!1;We.on("data",Ct=>{!this.push(Ct)&&We.pause&&(Qe=!0,We.pause())}),We.on("end",()=>{this.push(null)}),We.on("error",Ct=>{at(this,Ct)}),We.on("close",()=>{this.destroy()}),We.on("destroy",()=>{this.destroy()}),this._read=()=>{Qe&&We.resume&&(Qe=!1,We.resume())};const sn=W(We);for(let Ct=1;Ct<sn.length;Ct++){const Tn=sn[Ct];void 0===this[Tn]&&"function"==typeof We[Tn]&&(this[Tn]=We[Tn].bind(We))}return this},It.prototype[F]=function(){return ys(this)},It.prototype.iterator=function(We){return void 0!==We&&je(We,"options"),ys(this,We)},N(It.prototype,{readable:{__proto__:null,get(){const We=this._readableState;return!(!We||!1===We.readable||We.destroyed||We.errorEmitted||We.endEmitted)},set(We){this._readableState&&(this._readableState.readable=!!We)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(We){this._readableState&&(this._readableState.flowing=We)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(We){this._readableState&&(this._readableState.destroyed=We)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),N(Wt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[Ce]},set(We){this[Ce]=!!We}}}),It._fromList=fo,It.from=function(We,Qe){return ue(It,We,Qe)},It.fromWeb=function(We,Qe){return Gc().newStreamReadableFromReadableStream(We,Qe)},It.toWeb=function(We,Qe){return Gc().newReadableStreamFromStreamReadable(We,Qe)},It.wrap=function(We,Qe){var sn,Ct;return new It({objectMode:null===(sn=null!==(Ct=We.readableObjectMode)&&void 0!==Ct?Ct:We.objectMode)||void 0===sn||sn,...Qe,destroy(Tn,Ur){ce.destroyer(We,Tn),Ur(Tn)}}).wrap(We)}},2934:(Ue,ge,S)=>{"use strict";const{MathFloor:Z,NumberIsInteger:A}=S(1251),{validateInteger:Y}=S(438),{ERR_INVALID_ARG_VALUE:G}=S(5480).codes;let X=16384,_=16;function N(D){return D?_:X}Ue.exports={getHighWaterMark:function R(D,re,w,F){const oe=function x(D,re,w){return null!=D.highWaterMark?D.highWaterMark:re?D[w]:null}(re,F,w);if(null!=oe){if(!A(oe)||oe<0)throw new G(F?`options.${w}`:"options.highWaterMark",oe);return Z(oe)}return N(D.objectMode)},getDefaultHighWaterMark:N,setDefaultHighWaterMark:function W(D,re){Y(re,"value",0),D?_=re:X=re}}},9059:(Ue,ge,S)=>{"use strict";const{ObjectSetPrototypeOf:Z,Symbol:A}=S(1251);Ue.exports=x;const{ERR_METHOD_NOT_IMPLEMENTED:Y}=S(5480).codes,G=S(9613),{getHighWaterMark:X}=S(2934);Z(x.prototype,G.prototype),Z(x,G);const _=A("kCallback");function x(R){if(!(this instanceof x))return new x(R);const D=R?X(this,R,"readableHighWaterMark",!0):null;0===D&&(R={...R,highWaterMark:null,readableHighWaterMark:D,writableHighWaterMark:R.writableHighWaterMark||0}),G.call(this,R),this._readableState.sync=!1,this[_]=null,R&&("function"==typeof R.transform&&(this._transform=R.transform),"function"==typeof R.flush&&(this._flush=R.flush)),this.on("prefinish",W)}function N(R){"function"!=typeof this._flush||this.destroyed?(this.push(null),R&&R()):this._flush((D,re)=>{D?R?R(D):this.destroy(D):(null!=re&&this.push(re),this.push(null),R&&R())})}function W(){this._final!==N&&N.call(this)}x.prototype._final=N,x.prototype._transform=function(R,D,re){throw new Y("_transform()")},x.prototype._write=function(R,D,re){const w=this._readableState,F=this._writableState,oe=w.length;this._transform(R,D,($,z)=>{$?re($):(null!=z&&this.push(z),F.ended||oe===w.length||w.length<w.highWaterMark?re():this[_]=re)})},x.prototype._read=function(){if(this[_]){const R=this[_];this[_]=null,R()}}},6110:(Ue,ge,S)=>{"use strict";const{SymbolAsyncIterator:Z,SymbolIterator:A,SymbolFor:Y}=S(1251),G=Y("nodejs.stream.destroyed"),X=Y("nodejs.stream.errored"),_=Y("nodejs.stream.readable"),x=Y("nodejs.stream.writable"),N=Y("nodejs.stream.disturbed"),W=Y("nodejs.webstream.isClosedPromise"),R=Y("nodejs.webstream.controllerErrorFunction");function D(ue,Se=!1){var at;return!(!ue||"function"!=typeof ue.pipe||"function"!=typeof ue.on||Se&&("function"!=typeof ue.pause||"function"!=typeof ue.resume)||ue._writableState&&!1===(null===(at=ue._readableState)||void 0===at?void 0:at.readable)||ue._writableState&&!ue._readableState)}function re(ue){var Se;return!(!ue||"function"!=typeof ue.write||"function"!=typeof ue.on||ue._readableState&&!1===(null===(Se=ue._writableState)||void 0===Se?void 0:Se.writable))}function F(ue){return ue&&(ue._readableState||ue._writableState||"function"==typeof ue.write&&"function"==typeof ue.on||"function"==typeof ue.pipe&&"function"==typeof ue.on)}function oe(ue){return!(!ue||F(ue)||"function"!=typeof ue.pipeThrough||"function"!=typeof ue.getReader||"function"!=typeof ue.cancel)}function $(ue){return!(!ue||F(ue)||"function"!=typeof ue.getWriter||"function"!=typeof ue.abort)}function z(ue){return!(!ue||F(ue)||"object"!=typeof ue.readable||"object"!=typeof ue.writable)}function B(ue){if(!F(ue))return null;const bt=ue._writableState||ue._readableState;return!!(ue.destroyed||ue[G]||null!=bt&&bt.destroyed)}function y(ue){if(!re(ue))return null;if(!0===ue.writableEnded)return!0;const Se=ue._writableState;return(null==Se||!Se.errored)&&("boolean"!=typeof Se?.ended?null:Se.ended)}function ce(ue,Se){if(!D(ue))return null;const at=ue._readableState;return(null==at||!at.errored)&&("boolean"!=typeof at?.endEmitted?null:!!(at.endEmitted||!1===Se&&!0===at.ended&&0===at.length))}function j(ue){return ue&&null!=ue[_]?ue[_]:"boolean"!=typeof ue?.readable?null:!B(ue)&&D(ue)&&ue.readable&&!ce(ue)}function Ie(ue){return ue&&null!=ue[x]?ue[x]:"boolean"!=typeof ue?.writable?null:!B(ue)&&re(ue)&&ue.writable&&!y(ue)}function nt(ue){return"boolean"==typeof ue._closed&&"boolean"==typeof ue._defaultKeepAlive&&"boolean"==typeof ue._removedConnection&&"boolean"==typeof ue._removedContLen}function Ze(ue){return"boolean"==typeof ue._sent100&&nt(ue)}Ue.exports={isDestroyed:B,kIsDestroyed:G,isDisturbed:function Ce(ue){var Se;return!(!ue||!(null!==(Se=ue[N])&&void 0!==Se?Se:ue.readableDidRead||ue.readableAborted))},kIsDisturbed:N,isErrored:function Be(ue){var Se,at,bt,Ke,fe,O,C,ie,J,He;return!(!ue||!(null!==(Se=null!==(at=null!==(bt=null!==(Ke=null!==(fe=null!==(O=ue[X])&&void 0!==O?O:ue.readableErrored)&&void 0!==fe?fe:ue.writableErrored)&&void 0!==Ke?Ke:null===(C=ue._readableState)||void 0===C?void 0:C.errorEmitted)&&void 0!==bt?bt:null===(ie=ue._writableState)||void 0===ie?void 0:ie.errorEmitted)&&void 0!==at?at:null===(J=ue._readableState)||void 0===J?void 0:J.errored)&&void 0!==Se?Se:null!==(He=ue._writableState)&&void 0!==He&&He.errored))},kIsErrored:X,isReadable:j,kIsReadable:_,kIsClosedPromise:W,kControllerErrorFunction:R,kIsWritable:x,isClosed:function ze(ue){if(!F(ue))return null;if("boolean"==typeof ue.closed)return ue.closed;const Se=ue._writableState,at=ue._readableState;return"boolean"==typeof Se?.closed||"boolean"==typeof at?.closed?Se?.closed||at?.closed:"boolean"==typeof ue._closed&&nt(ue)?ue._closed:null},isDuplexNodeStream:function w(ue){return!(!ue||"function"!=typeof ue.pipe||!ue._readableState||"function"!=typeof ue.on||"function"!=typeof ue.write)},isFinished:function ae(ue,Se){return F(ue)?!!B(ue)||!(!1!==Se?.readable&&j(ue)||!1!==Se?.writable&&Ie(ue)):null},isIterable:function q(ue,Se){return null!=ue&&(!0===Se?"function"==typeof ue[Z]:!1===Se?"function"==typeof ue[A]:"function"==typeof ue[Z]||"function"==typeof ue[A])},isReadableNodeStream:D,isReadableStream:oe,isReadableEnded:function T(ue){if(!D(ue))return null;if(!0===ue.readableEnded)return!0;const Se=ue._readableState;return!(!Se||Se.errored)&&("boolean"!=typeof Se?.ended?null:Se.ended)},isReadableFinished:ce,isReadableErrored:function Oe(ue){var Se,at;return F(ue)?ue.readableErrored?ue.readableErrored:null!==(Se=null===(at=ue._readableState)||void 0===at?void 0:at.errored)&&void 0!==Se?Se:null:null},isNodeStream:F,isWebStream:function ee(ue){return oe(ue)||$(ue)||z(ue)},isWritable:Ie,isWritableNodeStream:re,isWritableStream:$,isWritableEnded:y,isWritableFinished:function M(ue,Se){if(!re(ue))return null;if(!0===ue.writableFinished)return!0;const at=ue._writableState;return(null==at||!at.errored)&&("boolean"!=typeof at?.finished?null:!!(at.finished||!1===Se&&!0===at.ended&&0===at.length))},isWritableErrored:function xe(ue){var Se,at;return F(ue)?ue.writableErrored?ue.writableErrored:null!==(Se=null===(at=ue._writableState)||void 0===at?void 0:at.errored)&&void 0!==Se?Se:null:null},isServerRequest:function Te(ue){var Se;return"boolean"==typeof ue._consuming&&"boolean"==typeof ue._dumped&&void 0===(null===(Se=ue.req)||void 0===Se?void 0:Se.upgradeOrConnect)},isServerResponse:Ze,willEmitClose:function je(ue){if(!F(ue))return null;const bt=ue._writableState||ue._readableState;return!bt&&Ze(ue)||!!(bt&&bt.autoDestroy&&bt.emitClose&&!1===bt.closed)},isTransformStream:z}},2983:(Ue,ge,S)=>{const Z=S(573),{ArrayPrototypeSlice:A,Error:Y,FunctionPrototypeSymbolHasInstance:G,ObjectDefineProperty:X,ObjectDefineProperties:_,ObjectSetPrototypeOf:x,StringPrototypeToLowerCase:N,Symbol:W,SymbolHasInstance:R}=S(1251);Ue.exports=Ze,Ze.WritableState=ze;const{EventEmitter:D}=S(4356),re=S(8708).Stream,{Buffer:w}=S(2317),F=S(1509),{addAbortSignal:oe}=S(8992),{getHighWaterMark:$,getDefaultHighWaterMark:z}=S(2934),{ERR_INVALID_ARG_TYPE:ee,ERR_METHOD_NOT_IMPLEMENTED:q,ERR_MULTIPLE_CALLBACK:B,ERR_STREAM_CANNOT_PIPE:y,ERR_STREAM_DESTROYED:M,ERR_STREAM_ALREADY_FINISHED:T,ERR_STREAM_NULL_VALUES:ce,ERR_STREAM_WRITE_AFTER_END:j,ERR_UNKNOWN_ENCODING:Ie}=S(5480).codes,{errorOrDestroy:ae}=F;function xe(){}x(Ze.prototype,re.prototype),x(Ze,re);const Oe=W("kOnFinished");function ze(te,U,I){"boolean"!=typeof I&&(I=U instanceof S(9613)),this.objectMode=!(!te||!te.objectMode),I&&(this.objectMode=this.objectMode||!(!te||!te.writableObjectMode)),this.highWaterMark=te?$(this,te,"writableHighWaterMark",I):z(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(te&&!1===te.decodeStrings),this.defaultEncoding=te&&te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=ue.bind(void 0,U),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,nt(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!te||!1!==te.emitClose,this.autoDestroy=!te||!1!==te.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Oe]=[]}function nt(te){te.buffered=[],te.bufferedIndex=0,te.allBuffers=!0,te.allNoop=!0}function Ze(te){const U=this instanceof S(9613);if(!U&&!G(Ze,this))return new Ze(te);this._writableState=new ze(te,this,U),te&&("function"==typeof te.write&&(this._write=te.write),"function"==typeof te.writev&&(this._writev=te.writev),"function"==typeof te.destroy&&(this._destroy=te.destroy),"function"==typeof te.final&&(this._final=te.final),"function"==typeof te.construct&&(this._construct=te.construct),te.signal&&oe(te.signal,this)),re.call(this,te),F.construct(this,()=>{const I=this._writableState;I.writing||Ke(this,I),ie(this,I)})}function Te(te,U,I,k){const he=te._writableState;if("function"==typeof I)k=I,I=he.defaultEncoding;else{if(I){if("buffer"!==I&&!w.isEncoding(I))throw new Ie(I)}else I=he.defaultEncoding;"function"!=typeof k&&(k=xe)}if(null===U)throw new ce;if(!he.objectMode)if("string"==typeof U)!1!==he.decodeStrings&&(U=w.from(U,I),I="buffer");else if(U instanceof w)I="buffer";else{if(!re._isUint8Array(U))throw new ee("chunk",["string","Buffer","Uint8Array"],U);U=re._uint8ArrayToBuffer(U),I="buffer"}let qe;return he.ending?qe=new j:he.destroyed&&(qe=new M("write")),qe?(Z.nextTick(k,qe),ae(te,qe,!0),qe):(he.pendingcb++,function je(te,U,I,k,he){const qe=U.objectMode?1:I.length;U.length+=qe;const Ee=U.length<U.highWaterMark;return Ee||(U.needDrain=!0),U.writing||U.corked||U.errored||!U.constructed?(U.buffered.push({chunk:I,encoding:k,callback:he}),U.allBuffers&&"buffer"!==k&&(U.allBuffers=!1),U.allNoop&&he!==xe&&(U.allNoop=!1)):(U.writelen=qe,U.writecb=he,U.writing=!0,U.sync=!0,te._write(I,k,U.onwrite),U.sync=!1),Ee&&!U.errored&&!U.destroyed}(te,he,U,I,k))}function Ce(te,U,I,k,he,qe,Ee){U.writelen=k,U.writecb=Ee,U.writing=!0,U.sync=!0,U.destroyed?U.onwrite(new M("write")):I?te._writev(he,U.onwrite):te._write(he,qe,U.onwrite),U.sync=!1}function Be(te,U,I,k){--U.pendingcb,k(I),bt(U),ae(te,I)}function ue(te,U){const I=te._writableState,k=I.sync,he=I.writecb;"function"==typeof he?(I.writing=!1,I.writecb=null,I.length-=I.writelen,I.writelen=0,U?(I.errored||(I.errored=U),te._readableState&&!te._readableState.errored&&(te._readableState.errored=U),k?Z.nextTick(Be,te,I,U,he):Be(te,I,U,he)):(I.buffered.length>I.bufferedIndex&&Ke(te,I),k?null!==I.afterWriteTickInfo&&I.afterWriteTickInfo.cb===he?I.afterWriteTickInfo.count++:(I.afterWriteTickInfo={count:1,cb:he,stream:te,state:I},Z.nextTick(Se,I.afterWriteTickInfo)):at(te,I,1,he))):ae(te,new B)}function Se({stream:te,state:U,count:I,cb:k}){return U.afterWriteTickInfo=null,at(te,U,I,k)}function at(te,U,I,k){for(!U.ending&&!te.destroyed&&0===U.length&&U.needDrain&&(U.needDrain=!1,te.emit("drain"));I-- >0;)U.pendingcb--,k();U.destroyed&&bt(U),ie(te,U)}function bt(te){if(te.writing)return;for(let he=te.bufferedIndex;he<te.buffered.length;++he){var U;const{chunk:qe,callback:Ee}=te.buffered[he];te.length-=te.objectMode?1:qe.length,Ee(null!==(U=te.errored)&&void 0!==U?U:new M("write"))}const I=te[Oe].splice(0);for(let he=0;he<I.length;he++){var k;I[he](null!==(k=te.errored)&&void 0!==k?k:new M("end"))}nt(te)}function Ke(te,U){if(U.corked||U.bufferProcessing||U.destroyed||!U.constructed)return;const{buffered:I,bufferedIndex:k,objectMode:he}=U,qe=I.length-k;if(!qe)return;let Ee=k;if(U.bufferProcessing=!0,qe>1&&te._writev){U.pendingcb-=qe-1;const Ve=U.allNoop?xe:At=>{for(let Wt=Ee;Wt<I.length;++Wt)I[Wt].callback(At)},it=U.allNoop&&0===Ee?I:A(I,Ee);it.allBuffers=U.allBuffers,Ce(te,U,!0,U.length,it,"",Ve),nt(U)}else{do{const{chunk:Ve,encoding:it,callback:At}=I[Ee];I[Ee++]=null,Ce(te,U,!1,he?1:Ve.length,Ve,it,At)}while(Ee<I.length&&!U.writing);Ee===I.length?nt(U):Ee>256?(I.splice(0,Ee),U.bufferedIndex=0):U.bufferedIndex=Ee}U.bufferProcessing=!1}function fe(te){return te.ending&&!te.destroyed&&te.constructed&&0===te.length&&!te.errored&&0===te.buffered.length&&!te.finished&&!te.writing&&!te.errorEmitted&&!te.closeEmitted}function ie(te,U,I){fe(U)&&(function C(te,U){!U.prefinished&&!U.finalCalled&&("function"!=typeof te._final||U.destroyed?(U.prefinished=!0,te.emit("prefinish")):(U.finalCalled=!0,function O(te,U){let I=!1;function k(he){if(I)ae(te,he??B());else if(I=!0,U.pendingcb--,he){const qe=U[Oe].splice(0);for(let Ee=0;Ee<qe.length;Ee++)qe[Ee](he);ae(te,he,U.sync)}else fe(U)&&(U.prefinished=!0,te.emit("prefinish"),U.pendingcb++,Z.nextTick(J,te,U))}U.sync=!0,U.pendingcb++;try{te._final(k)}catch(he){k(he)}U.sync=!1}(te,U)))}(te,U),0===U.pendingcb&&(I?(U.pendingcb++,Z.nextTick((k,he)=>{fe(he)?J(k,he):he.pendingcb--},te,U)):fe(U)&&(U.pendingcb++,J(te,U))))}function J(te,U){U.pendingcb--,U.finished=!0;const I=U[Oe].splice(0);for(let k=0;k<I.length;k++)I[k]();if(te.emit("finish"),U.autoDestroy){const k=te._readableState;(!k||k.autoDestroy&&(k.endEmitted||!1===k.readable))&&te.destroy()}}ze.prototype.getBuffer=function(){return A(this.buffered,this.bufferedIndex)},X(ze.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),X(Ze,R,{__proto__:null,value:function(te){return!!G(this,te)||this===Ze&&te&&te._writableState instanceof ze}}),Ze.prototype.pipe=function(){ae(this,new y)},Ze.prototype.write=function(te,U,I){return!0===Te(this,te,U,I)},Ze.prototype.cork=function(){this._writableState.corked++},Ze.prototype.uncork=function(){const te=this._writableState;te.corked&&(te.corked--,te.writing||Ke(this,te))},Ze.prototype.setDefaultEncoding=function(U){if("string"==typeof U&&(U=N(U)),!w.isEncoding(U))throw new Ie(U);return this._writableState.defaultEncoding=U,this},Ze.prototype._write=function(te,U,I){if(!this._writev)throw new q("_write()");this._writev([{chunk:te,encoding:U}],I)},Ze.prototype._writev=null,Ze.prototype.end=function(te,U,I){const k=this._writableState;let he;if("function"==typeof te?(I=te,te=null,U=null):"function"==typeof U&&(I=U,U=null),null!=te){const qe=Te(this,te,U);qe instanceof Y&&(he=qe)}return k.corked&&(k.corked=1,this.uncork()),he||(k.errored||k.ending?k.finished?he=new T("end"):k.destroyed&&(he=new M("end")):(k.ending=!0,ie(this,k,!0),k.ended=!0)),"function"==typeof I&&(he||k.finished?Z.nextTick(I,he):k[Oe].push(I)),this},_(Ze.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(te){this._writableState&&(this._writableState.destroyed=te)}},writable:{__proto__:null,get(){const te=this._writableState;return!(!te||!1===te.writable||te.destroyed||te.errored||te.ending||te.ended)},set(te){this._writableState&&(this._writableState.writable=!!te)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const te=this._writableState;return!!te&&!te.destroyed&&!te.ending&&te.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const He=F.destroy;let Je;function de(){return void 0===Je&&(Je={}),Je}Ze.prototype.destroy=function(te,U){const I=this._writableState;return!I.destroyed&&(I.bufferedIndex<I.buffered.length||I[Oe].length)&&Z.nextTick(bt,I),He.call(this,te,U),this},Ze.prototype._undestroy=F.undestroy,Ze.prototype._destroy=function(te,U){U(te)},Ze.prototype[D.captureRejectionSymbol]=function(te){this.destroy(te)},Ze.fromWeb=function(te,U){return de().newStreamWritableFromWritableStream(te,U)},Ze.toWeb=function(te){return de().newWritableStreamFromStreamWritable(te)}},438:(Ue,ge,S)=>{"use strict";const{ArrayIsArray:Z,ArrayPrototypeIncludes:A,ArrayPrototypeJoin:Y,ArrayPrototypeMap:G,NumberIsInteger:X,NumberIsNaN:_,NumberMAX_SAFE_INTEGER:x,NumberMIN_SAFE_INTEGER:N,NumberParseInt:W,ObjectPrototypeHasOwnProperty:R,RegExpPrototypeExec:D,String:re,StringPrototypeToUpperCase:w,StringPrototypeTrim:F}=S(1251),{hideStackFrames:oe,codes:{ERR_SOCKET_BAD_PORT:$,ERR_INVALID_ARG_TYPE:z,ERR_INVALID_ARG_VALUE:ee,ERR_OUT_OF_RANGE:q,ERR_UNKNOWN_SIGNAL:B}}=S(5480),{normalizeEncoding:y}=S(1663),{isAsyncFunction:M,isArrayBufferView:T}=S(1663).types,ce={},ae=/^[0-7]+$/,ze=oe((Ee,Ve,it=N,At=x)=>{if("number"!=typeof Ee)throw new z(Ve,"number",Ee);if(!X(Ee))throw new q(Ve,"an integer",Ee);if(Ee<it||Ee>At)throw new q(Ve,`>= ${it} && <= ${At}`,Ee)}),nt=oe((Ee,Ve,it=-2147483648,At=2147483647)=>{if("number"!=typeof Ee)throw new z(Ve,"number",Ee);if(!X(Ee))throw new q(Ve,"an integer",Ee);if(Ee<it||Ee>At)throw new q(Ve,`>= ${it} && <= ${At}`,Ee)}),Ze=oe((Ee,Ve,it=!1)=>{if("number"!=typeof Ee)throw new z(Ve,"number",Ee);if(!X(Ee))throw new q(Ve,"an integer",Ee);const At=it?1:0,Wt=4294967295;if(Ee<At||Ee>Wt)throw new q(Ve,`>= ${At} && <= ${Wt}`,Ee)});function Te(Ee,Ve){if("string"!=typeof Ee)throw new z(Ve,"string",Ee)}const Ce=oe((Ee,Ve,it)=>{if(!A(it,Ee)){const Wt="must be one of: "+Y(G(it,It=>"string"==typeof It?`'${It}'`:re(It)),", ");throw new ee(Ve,Ee,Wt)}});function Be(Ee,Ve){if("boolean"!=typeof Ee)throw new z(Ve,"boolean",Ee)}function ue(Ee,Ve,it){return null!=Ee&&R(Ee,Ve)?Ee[Ve]:it}const Se=oe((Ee,Ve,it=null)=>{const At=ue(it,"allowArray",!1),Wt=ue(it,"allowFunction",!1);if(!ue(it,"nullable",!1)&&null===Ee||!At&&Z(Ee)||"object"!=typeof Ee&&(!Wt||"function"!=typeof Ee))throw new z(Ve,"Object",Ee)}),at=oe((Ee,Ve)=>{if(null!=Ee&&"object"!=typeof Ee&&"function"!=typeof Ee)throw new z(Ve,"a dictionary",Ee)}),bt=oe((Ee,Ve,it=0)=>{if(!Z(Ee))throw new z(Ve,"Array",Ee);if(Ee.length<it)throw new ee(Ve,Ee,`must be longer than ${it}`)}),ie=oe((Ee,Ve="buffer")=>{if(!T(Ee))throw new z(Ve,["Buffer","TypedArray","DataView"],Ee)}),Je=oe((Ee,Ve)=>{if(void 0!==Ee&&(null===Ee||"object"!=typeof Ee||!("aborted"in Ee)))throw new z(Ve,"AbortSignal",Ee)}),de=oe((Ee,Ve)=>{if("function"!=typeof Ee)throw new z(Ve,"Function",Ee)}),te=oe((Ee,Ve)=>{if("function"!=typeof Ee||M(Ee))throw new z(Ve,"Function",Ee)}),U=oe((Ee,Ve)=>{if(void 0!==Ee)throw new z(Ve,"undefined",Ee)}),k=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function he(Ee,Ve){if(typeof Ee>"u"||!D(k,Ee))throw new ee(Ve,Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Ue.exports={isInt32:function j(Ee){return Ee===(0|Ee)},isUint32:function Ie(Ee){return Ee===Ee>>>0},parseFileMode:function Oe(Ee,Ve,it){if(typeof Ee>"u"&&(Ee=it),"string"==typeof Ee){if(null===D(ae,Ee))throw new ee(Ve,Ee,"must be a 32-bit unsigned integer or an octal string");Ee=W(Ee,8)}return Ze(Ee,Ve),Ee},validateArray:bt,validateStringArray:function Ke(Ee,Ve){bt(Ee,Ve);for(let it=0;it<Ee.length;it++)Te(Ee[it],`${Ve}[${it}]`)},validateBooleanArray:function fe(Ee,Ve){bt(Ee,Ve);for(let it=0;it<Ee.length;it++)Be(Ee[it],`${Ve}[${it}]`)},validateAbortSignalArray:function O(Ee,Ve){bt(Ee,Ve);for(let it=0;it<Ee.length;it++){const At=Ee[it],Wt=`${Ve}[${it}]`;if(null==At)throw new z(Wt,"AbortSignal",At);Je(At,Wt)}},validateBoolean:Be,validateBuffer:ie,validateDictionary:at,validateEncoding:function J(Ee,Ve){const it=y(Ve),At=Ee.length;if("hex"===it&&At%2!=0)throw new ee("encoding",Ve,`is invalid for data of length ${At}`)},validateFunction:de,validateInt32:nt,validateInteger:ze,validateNumber:function je(Ee,Ve,it=void 0,At){if("number"!=typeof Ee)throw new z(Ve,"number",Ee);if(null!=it&&Ee<it||null!=At&&Ee>At||(null!=it||null!=At)&&_(Ee))throw new q(Ve,`${null!=it?`>= ${it}`:""}${null!=it&&null!=At?" && ":""}${null!=At?`<= ${At}`:""}`,Ee)},validateObject:Se,validateOneOf:Ce,validatePlainFunction:te,validatePort:function He(Ee,Ve="Port",it=!0){if("number"!=typeof Ee&&"string"!=typeof Ee||"string"==typeof Ee&&0===F(Ee).length||+Ee!=+Ee>>>0||Ee>65535||0===Ee&&!it)throw new $(Ve,Ee,it);return 0|Ee},validateSignalName:function C(Ee,Ve="signal"){if(Te(Ee,Ve),void 0===ce[Ee])throw void 0!==ce[w(Ee)]?new B(Ee+" (signals must use all capital letters)"):new B(Ee)},validateString:Te,validateUint32:Ze,validateUndefined:U,validateUnion:function I(Ee,Ve,it){if(!A(it,Ee))throw new z(Ve,`('${Y(it,"|")}')`,Ee)},validateAbortSignal:Je,validateLinkHeaderValue:function qe(Ee){if("string"==typeof Ee)return he(Ee,"hints"),Ee;if(Z(Ee)){const Ve=Ee.length;let it="";if(0===Ve)return it;for(let At=0;At<Ve;At++){const Wt=Ee[At];he(Wt,"hints"),it+=Wt,At!==Ve-1&&(it+=", ")}return it}throw new ee("hints",Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},6947:(Ue,ge,S)=>{"use strict";const Z=S(5603),A=S(9204),Y=Z.Readable.destroy;Ue.exports=Z.Readable,Ue.exports._uint8ArrayToBuffer=Z._uint8ArrayToBuffer,Ue.exports._isUint8Array=Z._isUint8Array,Ue.exports.isDisturbed=Z.isDisturbed,Ue.exports.isErrored=Z.isErrored,Ue.exports.isReadable=Z.isReadable,Ue.exports.Readable=Z.Readable,Ue.exports.Writable=Z.Writable,Ue.exports.Duplex=Z.Duplex,Ue.exports.Transform=Z.Transform,Ue.exports.PassThrough=Z.PassThrough,Ue.exports.addAbortSignal=Z.addAbortSignal,Ue.exports.finished=Z.finished,Ue.exports.destroy=Z.destroy,Ue.exports.destroy=Y,Ue.exports.pipeline=Z.pipeline,Ue.exports.compose=Z.compose,Object.defineProperty(Z,"promises",{configurable:!0,enumerable:!0,get:()=>A}),Ue.exports.Stream=Z.Stream,Ue.exports.default=Ue.exports},5480:(Ue,ge,S)=>{"use strict";const{format:Z,inspect:A,AggregateError:Y}=S(1663),G=globalThis.AggregateError||Y,X=Symbol("kIsNodeError"),_=["string","function","number","object","Function","Object","boolean","bigint","symbol"],x=/^([A-Z][a-z0-9]*)+$/,W={};function R(z,ee){if(!z)throw new W.ERR_INTERNAL_ASSERTION(ee)}function D(z){let ee="",q=z.length;const B="-"===z[0]?1:0;for(;q>=B+4;q-=3)ee=`_${z.slice(q-3,q)}${ee}`;return`${z.slice(0,q)}${ee}`}function w(z,ee,q){q||(q=Error);class B extends q{constructor(...M){super(function re(z,ee,q){if("function"==typeof ee)return R(ee.length<=q.length,`Code: ${z}; The provided arguments length (${q.length}) does not match the required ones (${ee.length}).`),ee(...q);const B=(ee.match(/%[dfijoOs]/g)||[]).length;return R(B===q.length,`Code: ${z}; The provided arguments length (${q.length}) does not match the required ones (${B}).`),0===q.length?ee:Z(ee,...q)}(z,ee,M))}toString(){return`${this.name} [${z}]: ${this.message}`}}Object.defineProperties(B.prototype,{name:{value:q.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${z}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),B.prototype.code=z,B.prototype[X]=!0,W[z]=B}function F(z){return Object.defineProperty(z,"name",{value:"__node_internal_"+z.name}),z}class $ extends Error{constructor(ee="The operation was aborted",q=void 0){if(void 0!==q&&"object"!=typeof q)throw new W.ERR_INVALID_ARG_TYPE("options","Object",q);super(ee,q),this.code="ABORT_ERR",this.name="AbortError"}}w("ERR_ASSERTION","%s",Error),w("ERR_INVALID_ARG_TYPE",(z,ee,q)=>{R("string"==typeof z,"'name' must be a string"),Array.isArray(ee)||(ee=[ee]);let B="The ";z.endsWith(" argument")?B+=`${z} `:B+=`"${z}" ${z.includes(".")?"property":"argument"} `,B+="must be ";const y=[],M=[],T=[];for(const j of ee)R("string"==typeof j,"All expected entries have to be of type string"),_.includes(j)?y.push(j.toLowerCase()):x.test(j)?M.push(j):(R("object"!==j,'The value "object" should be written as "Object"'),T.push(j));if(M.length>0){const j=y.indexOf("object");-1!==j&&(y.splice(y,j,1),M.push("Object"))}if(y.length>0){switch(y.length){case 1:B+=`of type ${y[0]}`;break;case 2:B+=`one of type ${y[0]} or ${y[1]}`;break;default:{const j=y.pop();B+=`one of type ${y.join(", ")}, or ${j}`}}(M.length>0||T.length>0)&&(B+=" or ")}if(M.length>0){switch(M.length){case 1:B+=`an instance of ${M[0]}`;break;case 2:B+=`an instance of ${M[0]} or ${M[1]}`;break;default:{const j=M.pop();B+=`an instance of ${M.join(", ")}, or ${j}`}}T.length>0&&(B+=" or ")}switch(T.length){case 0:break;case 1:T[0].toLowerCase()!==T[0]&&(B+="an "),B+=`${T[0]}`;break;case 2:B+=`one of ${T[0]} or ${T[1]}`;break;default:{const j=T.pop();B+=`one of ${T.join(", ")}, or ${j}`}}if(null==q)B+=`. Received ${q}`;else if("function"==typeof q&&q.name)B+=`. Received function ${q.name}`;else if("object"==typeof q){var ce;null!==(ce=q.constructor)&&void 0!==ce&&ce.name?B+=`. Received an instance of ${q.constructor.name}`:B+=`. Received ${A(q,{depth:-1})}`}else{let j=A(q,{colors:!1});j.length>25&&(j=`${j.slice(0,25)}...`),B+=`. Received type ${typeof q} (${j})`}return B},TypeError),w("ERR_INVALID_ARG_VALUE",(z,ee,q="is invalid")=>{let B=A(ee);return B.length>128&&(B=B.slice(0,128)+"..."),`The ${z.includes(".")?"property":"argument"} '${z}' ${q}. Received ${B}`},TypeError),w("ERR_INVALID_RETURN_VALUE",(z,ee,q)=>{var B;return`Expected ${z} to be returned from the "${ee}" function but got ${null!=q&&null!==(B=q.constructor)&&void 0!==B&&B.name?`instance of ${q.constructor.name}`:"type "+typeof q}.`},TypeError),w("ERR_MISSING_ARGS",(...z)=>{let ee;R(z.length>0,"At least one arg needs to be specified");const q=z.length;switch(z=(Array.isArray(z)?z:[z]).map(B=>`"${B}"`).join(" or "),q){case 1:ee+=`The ${z[0]} argument`;break;case 2:ee+=`The ${z[0]} and ${z[1]} arguments`;break;default:{const B=z.pop();ee+=`The ${z.join(", ")}, and ${B} arguments`}}return`${ee} must be specified`},TypeError),w("ERR_OUT_OF_RANGE",(z,ee,q)=>{let B;return R(ee,'Missing "range" argument'),Number.isInteger(q)&&Math.abs(q)>2**32?B=D(String(q)):"bigint"==typeof q?(B=String(q),(q>2n**32n||q<-(2n**32n))&&(B=D(B)),B+="n"):B=A(q),`The value of "${z}" is out of range. It must be ${ee}. Received ${B}`},RangeError),w("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),w("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),w("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),w("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),w("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),w("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),w("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),w("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),w("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),w("ERR_STREAM_WRITE_AFTER_END","write after end",Error),w("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Ue.exports={AbortError:$,aggregateTwoErrors:F(function oe(z,ee){if(z&&ee&&z!==ee){if(Array.isArray(ee.errors))return ee.errors.push(z),ee;const q=new G([ee,z],ee.message);return q.code=ee.code,q}return z||ee}),hideStackFrames:F,codes:W}},1251:Ue=>{"use strict";Ue.exports={ArrayIsArray:ge=>Array.isArray(ge),ArrayPrototypeIncludes:(ge,S)=>ge.includes(S),ArrayPrototypeIndexOf:(ge,S)=>ge.indexOf(S),ArrayPrototypeJoin:(ge,S)=>ge.join(S),ArrayPrototypeMap:(ge,S)=>ge.map(S),ArrayPrototypePop:(ge,S)=>ge.pop(S),ArrayPrototypePush:(ge,S)=>ge.push(S),ArrayPrototypeSlice:(ge,S,Z)=>ge.slice(S,Z),Error,FunctionPrototypeCall:(ge,S,...Z)=>ge.call(S,...Z),FunctionPrototypeSymbolHasInstance:(ge,S)=>Function.prototype[Symbol.hasInstance].call(ge,S),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(ge,S)=>Object.defineProperties(ge,S),ObjectDefineProperty:(ge,S,Z)=>Object.defineProperty(ge,S,Z),ObjectGetOwnPropertyDescriptor:(ge,S)=>Object.getOwnPropertyDescriptor(ge,S),ObjectKeys:ge=>Object.keys(ge),ObjectSetPrototypeOf:(ge,S)=>Object.setPrototypeOf(ge,S),Promise,PromisePrototypeCatch:(ge,S)=>ge.catch(S),PromisePrototypeThen:(ge,S,Z)=>ge.then(S,Z),PromiseReject:ge=>Promise.reject(ge),PromiseResolve:ge=>Promise.resolve(ge),ReflectApply:Reflect.apply,RegExpPrototypeTest:(ge,S)=>ge.test(S),SafeSet:Set,String,StringPrototypeSlice:(ge,S,Z)=>ge.slice(S,Z),StringPrototypeToLowerCase:ge=>ge.toLowerCase(),StringPrototypeToUpperCase:ge=>ge.toUpperCase(),StringPrototypeTrim:ge=>ge.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(ge,S,Z)=>ge.set(S,Z),Boolean,Uint8Array}},1663:(Ue,ge,S)=>{"use strict";var Z=S(9293).default;const A=S(2317),{kResistStopPropagation:Y,SymbolDispose:G}=S(1251),X=globalThis.AbortSignal||S(9465).AbortSignal,_=globalThis.AbortController||S(9465).AbortController,x=Object.getPrototypeOf(Z(function*(){})).constructor,N=globalThis.Blob||A.Blob,W=typeof N<"u"?function(F){return F instanceof N}:function(F){return!1},R=(w,F)=>{if(void 0!==w&&(null===w||"object"!=typeof w||!("aborted"in w)))throw new ERR_INVALID_ARG_TYPE(F,"AbortSignal",w)};class re extends Error{constructor(F){if(!Array.isArray(F))throw new TypeError("Expected input to be an Array, got "+typeof F);let oe="";for(let $=0;$<F.length;$++)oe+=`    ${F[$].stack}\n`;super(oe),this.name="AggregateError",this.errors=F}}Ue.exports={AggregateError:re,kEmptyObject:Object.freeze({}),once(w){let F=!1;return function(...oe){F||(F=!0,w.apply(this,oe))}},createDeferredPromise:function(){let w,F;return{promise:new Promise(($,z)=>{w=$,F=z}),resolve:w,reject:F}},promisify:w=>new Promise((F,oe)=>{w(($,...z)=>$?oe($):F(...z))}),debuglog:()=>function(){},format:(w,...F)=>w.replace(/%([sdifj])/g,function(...[oe,$]){const z=F.shift();return"f"===$?z.toFixed(6):"j"===$?JSON.stringify(z):"s"===$&&"object"==typeof z?`${z.constructor!==Object?z.constructor.name:""} {}`.trim():z.toString()}),inspect(w){switch(typeof w){case"string":if(w.includes("'")){if(!w.includes('"'))return`"${w}"`;if(!w.includes("`")&&!w.includes("${"))return`\`${w}\``}return`'${w}'`;case"number":return isNaN(w)?"NaN":Object.is(w,-0)?String(w):w;case"bigint":return`${String(w)}n`;case"boolean":case"undefined":return String(w);case"object":return"{}"}},types:{isAsyncFunction:w=>w instanceof x,isArrayBufferView:w=>ArrayBuffer.isView(w)},isBlob:W,deprecate:(w,F)=>w,addAbortListener:S(4356).addAbortListener||function(F,oe){if(void 0===F)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",F);let $;return R(F,"signal"),((w,F)=>{if("function"!=typeof w)throw new ERR_INVALID_ARG_TYPE("listener","Function",w)})(oe),F.aborted?queueMicrotask(()=>oe()):(F.addEventListener("abort",oe,{__proto__:null,once:!0,[Y]:!0}),$=()=>{F.removeEventListener("abort",oe)}),{__proto__:null,[G](){var z;null===(z=$)||void 0===z||z()}}},AbortSignalAny:X.any||function(F){if(1===F.length)return F[0];const oe=new _,$=()=>oe.abort();return F.forEach(z=>{R(z,"signals"),z.addEventListener("abort",$,{once:!0})}),oe.signal.addEventListener("abort",()=>{F.forEach(z=>z.removeEventListener("abort",$))},{once:!0}),oe.signal}},Ue.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},5603:(Ue,ge,S)=>{const{Buffer:Z}=S(2317),{ObjectDefineProperty:A,ObjectKeys:Y,ReflectApply:G}=S(1251),{promisify:{custom:X}}=S(1663),{streamReturningOperators:_,promiseReturningOperators:x}=S(1210),{codes:{ERR_ILLEGAL_CONSTRUCTOR:N}}=S(5480),W=S(6683),{setDefaultHighWaterMark:R,getDefaultHighWaterMark:D}=S(2934),{pipeline:re}=S(6249),{destroyer:w}=S(1509),F=S(3139),$=S(9204),z=S(6110),ee=Ue.exports=S(8708).Stream;ee.isDestroyed=z.isDestroyed,ee.isDisturbed=z.isDisturbed,ee.isErrored=z.isErrored,ee.isReadable=z.isReadable,ee.isWritable=z.isWritable,ee.Readable=S(5779);for(const y of Y(_)){let T=function(...ce){if(new.target)throw N();return ee.Readable.from(G(M,this,ce))};const M=_[y];A(T,"name",{__proto__:null,value:M.name}),A(T,"length",{__proto__:null,value:M.length}),A(ee.Readable.prototype,y,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}for(const y of Y(x)){let T=function(...j){if(new.target)throw N();return G(M,this,j)};const M=x[y];A(T,"name",{__proto__:null,value:M.name}),A(T,"length",{__proto__:null,value:M.length}),A(ee.Readable.prototype,y,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}ee.Writable=S(2983),ee.Duplex=S(9613),ee.Transform=S(9059),ee.PassThrough=S(6569),ee.pipeline=re;const{addAbortSignal:q}=S(8992);ee.addAbortSignal=q,ee.finished=F,ee.destroy=w,ee.compose=W,ee.setDefaultHighWaterMark=R,ee.getDefaultHighWaterMark=D,A(ee,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>$}),A(re,X,{__proto__:null,enumerable:!0,get:()=>$.pipeline}),A(F,X,{__proto__:null,enumerable:!0,get:()=>$.finished}),ee.Stream=ee,ee._isUint8Array=function(M){return M instanceof Uint8Array},ee._uint8ArrayToBuffer=function(M){return Z.from(M.buffer,M.byteOffset,M.byteLength)}},9204:(Ue,ge,S)=>{"use strict";const{ArrayPrototypePop:Z,Promise:A}=S(1251),{isIterable:Y,isNodeStream:G,isWebStream:X}=S(6110),{pipelineImpl:_}=S(6249),{finished:x}=S(3139);S(5603),Ue.exports={finished:x,pipeline:function N(...W){return new A((R,D)=>{let re,w;const F=W[W.length-1];if(F&&"object"==typeof F&&!G(F)&&!Y(F)&&!X(F)){const oe=Z(W);re=oe.signal,w=oe.end}_(W,(oe,$)=>{oe?D(oe):R($)},{signal:re,end:w})})}}},2317:(Ue,ge,S)=>{"use strict";const Z=S(3981),A=S(2020),Y="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;ge.Buffer=x,ge.SlowBuffer=function ee(pe){return+pe!=pe&&(pe=0),x.alloc(+pe)},ge.INSPECT_MAX_BYTES=50;const G=2147483647;function _(pe){if(pe>G)throw new RangeError('The value "'+pe+'" is invalid for option "size"');const V=new Uint8Array(pe);return Object.setPrototypeOf(V,x.prototype),V}function x(pe,V,ne){if("number"==typeof pe){if("string"==typeof V)throw new TypeError('The "string" argument must be of type string. Received type number');return D(pe)}return N(pe,V,ne)}function N(pe,V,ne){if("string"==typeof pe)return function re(pe,V){if(("string"!=typeof V||""===V)&&(V="utf8"),!x.isEncoding(V))throw new TypeError("Unknown encoding: "+V);const ne=0|q(pe,V);let Fe=_(ne);const st=Fe.write(pe,V);return st!==ne&&(Fe=Fe.slice(0,st)),Fe}(pe,V);if(ArrayBuffer.isView(pe))return function F(pe){if(it(pe,Uint8Array)){const V=new Uint8Array(pe);return oe(V.buffer,V.byteOffset,V.byteLength)}return w(pe)}(pe);if(null==pe)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof pe);if(it(pe,ArrayBuffer)||pe&&it(pe.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(it(pe,SharedArrayBuffer)||pe&&it(pe.buffer,SharedArrayBuffer)))return oe(pe,V,ne);if("number"==typeof pe)throw new TypeError('The "value" argument must not be of type number. Received type number');const Fe=pe.valueOf&&pe.valueOf();if(null!=Fe&&Fe!==pe)return x.from(Fe,V,ne);const st=function $(pe){if(x.isBuffer(pe)){const V=0|z(pe.length),ne=_(V);return 0===ne.length||pe.copy(ne,0,0,V),ne}return void 0!==pe.length?"number"!=typeof pe.length||At(pe.length)?_(0):w(pe):"Buffer"===pe.type&&Array.isArray(pe.data)?w(pe.data):void 0}(pe);if(st)return st;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof pe[Symbol.toPrimitive])return x.from(pe[Symbol.toPrimitive]("string"),V,ne);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof pe)}function W(pe){if("number"!=typeof pe)throw new TypeError('"size" argument must be of type number');if(pe<0)throw new RangeError('The value "'+pe+'" is invalid for option "size"')}function D(pe){return W(pe),_(pe<0?0:0|z(pe))}function w(pe){const V=pe.length<0?0:0|z(pe.length),ne=_(V);for(let Fe=0;Fe<V;Fe+=1)ne[Fe]=255&pe[Fe];return ne}function oe(pe,V,ne){if(V<0||pe.byteLength<V)throw new RangeError('"offset" is outside of buffer bounds');if(pe.byteLength<V+(ne||0))throw new RangeError('"length" is outside of buffer bounds');let Fe;return Fe=void 0===V&&void 0===ne?new Uint8Array(pe):void 0===ne?new Uint8Array(pe,V):new Uint8Array(pe,V,ne),Object.setPrototypeOf(Fe,x.prototype),Fe}function z(pe){if(pe>=G)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+G.toString(16)+" bytes");return 0|pe}function q(pe,V){if(x.isBuffer(pe))return pe.length;if(ArrayBuffer.isView(pe)||it(pe,ArrayBuffer))return pe.byteLength;if("string"!=typeof pe)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof pe);const ne=pe.length,Fe=arguments.length>2&&!0===arguments[2];if(!Fe&&0===ne)return 0;let st=!1;for(;;)switch(V){case"ascii":case"latin1":case"binary":return ne;case"utf8":case"utf-8":return k(pe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ne;case"hex":return ne>>>1;case"base64":return Ee(pe).length;default:if(st)return Fe?-1:k(pe).length;V=(""+V).toLowerCase(),st=!0}}function B(pe,V,ne){let Fe=!1;if((void 0===V||V<0)&&(V=0),V>this.length||((void 0===ne||ne>this.length)&&(ne=this.length),ne<=0)||(ne>>>=0)<=(V>>>=0))return"";for(pe||(pe="utf8");;)switch(pe){case"hex":return Ce(this,V,ne);case"utf8":case"utf-8":return ze(this,V,ne);case"ascii":return Te(this,V,ne);case"latin1":case"binary":return je(this,V,ne);case"base64":return Oe(this,V,ne);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Be(this,V,ne);default:if(Fe)throw new TypeError("Unknown encoding: "+pe);pe=(pe+"").toLowerCase(),Fe=!0}}function y(pe,V,ne){const Fe=pe[V];pe[V]=pe[ne],pe[ne]=Fe}function M(pe,V,ne,Fe,st){if(0===pe.length)return-1;if("string"==typeof ne?(Fe=ne,ne=0):ne>2147483647?ne=2147483647:ne<-2147483648&&(ne=-2147483648),At(ne=+ne)&&(ne=st?0:pe.length-1),ne<0&&(ne=pe.length+ne),ne>=pe.length){if(st)return-1;ne=pe.length-1}else if(ne<0){if(!st)return-1;ne=0}if("string"==typeof V&&(V=x.from(V,Fe)),x.isBuffer(V))return 0===V.length?-1:T(pe,V,ne,Fe,st);if("number"==typeof V)return V&=255,"function"==typeof Uint8Array.prototype.indexOf?st?Uint8Array.prototype.indexOf.call(pe,V,ne):Uint8Array.prototype.lastIndexOf.call(pe,V,ne):T(pe,[V],ne,Fe,st);throw new TypeError("val must be string, number or Buffer")}function T(pe,V,ne,Fe,st){let gi,ft=1,Tt=pe.length,An=V.length;if(void 0!==Fe&&("ucs2"===(Fe=String(Fe).toLowerCase())||"ucs-2"===Fe||"utf16le"===Fe||"utf-16le"===Fe)){if(pe.length<2||V.length<2)return-1;ft=2,Tt/=2,An/=2,ne/=2}function oi(qn,Gn){return 1===ft?qn[Gn]:qn.readUInt16BE(Gn*ft)}if(st){let qn=-1;for(gi=ne;gi<Tt;gi++)if(oi(pe,gi)===oi(V,-1===qn?0:gi-qn)){if(-1===qn&&(qn=gi),gi-qn+1===An)return qn*ft}else-1!==qn&&(gi-=gi-qn),qn=-1}else for(ne+An>Tt&&(ne=Tt-An),gi=ne;gi>=0;gi--){let qn=!0;for(let Gn=0;Gn<An;Gn++)if(oi(pe,gi+Gn)!==oi(V,Gn)){qn=!1;break}if(qn)return gi}return-1}function ce(pe,V,ne,Fe){ne=Number(ne)||0;const st=pe.length-ne;Fe?(Fe=Number(Fe))>st&&(Fe=st):Fe=st;const ft=V.length;let Tt;for(Fe>ft/2&&(Fe=ft/2),Tt=0;Tt<Fe;++Tt){const An=parseInt(V.substr(2*Tt,2),16);if(At(An))return Tt;pe[ne+Tt]=An}return Tt}function j(pe,V,ne,Fe){return Ve(k(V,pe.length-ne),pe,ne,Fe)}function Ie(pe,V,ne,Fe){return Ve(function he(pe){const V=[];for(let ne=0;ne<pe.length;++ne)V.push(255&pe.charCodeAt(ne));return V}(V),pe,ne,Fe)}function ae(pe,V,ne,Fe){return Ve(Ee(V),pe,ne,Fe)}function xe(pe,V,ne,Fe){return Ve(function qe(pe,V){let ne,Fe,st;const ft=[];for(let Tt=0;Tt<pe.length&&!((V-=2)<0);++Tt)ne=pe.charCodeAt(Tt),Fe=ne>>8,st=ne%256,ft.push(st),ft.push(Fe);return ft}(V,pe.length-ne),pe,ne,Fe)}function Oe(pe,V,ne){return Z.fromByteArray(0===V&&ne===pe.length?pe:pe.slice(V,ne))}function ze(pe,V,ne){ne=Math.min(pe.length,ne);const Fe=[];let st=V;for(;st<ne;){const ft=pe[st];let Tt=null,An=ft>239?4:ft>223?3:ft>191?2:1;if(st+An<=ne){let oi,gi,qn,Gn;switch(An){case 1:ft<128&&(Tt=ft);break;case 2:oi=pe[st+1],128==(192&oi)&&(Gn=(31&ft)<<6|63&oi,Gn>127&&(Tt=Gn));break;case 3:oi=pe[st+1],gi=pe[st+2],128==(192&oi)&&128==(192&gi)&&(Gn=(15&ft)<<12|(63&oi)<<6|63&gi,Gn>2047&&(Gn<55296||Gn>57343)&&(Tt=Gn));break;case 4:oi=pe[st+1],gi=pe[st+2],qn=pe[st+3],128==(192&oi)&&128==(192&gi)&&128==(192&qn)&&(Gn=(15&ft)<<18|(63&oi)<<12|(63&gi)<<6|63&qn,Gn>65535&&Gn<1114112&&(Tt=Gn))}}null===Tt?(Tt=65533,An=1):Tt>65535&&(Tt-=65536,Fe.push(Tt>>>10&1023|55296),Tt=56320|1023&Tt),Fe.push(Tt),st+=An}return function Ze(pe){const V=pe.length;if(V<=nt)return String.fromCharCode.apply(String,pe);let ne="",Fe=0;for(;Fe<V;)ne+=String.fromCharCode.apply(String,pe.slice(Fe,Fe+=nt));return ne}(Fe)}ge.kMaxLength=G,!(x.TYPED_ARRAY_SUPPORT=function X(){try{const pe=new Uint8Array(1),V={foo:function(){return 42}};return Object.setPrototypeOf(V,Uint8Array.prototype),Object.setPrototypeOf(pe,V),42===pe.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(x.prototype,"parent",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.buffer}}),Object.defineProperty(x.prototype,"offset",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.byteOffset}}),x.poolSize=8192,x.from=function(pe,V,ne){return N(pe,V,ne)},Object.setPrototypeOf(x.prototype,Uint8Array.prototype),Object.setPrototypeOf(x,Uint8Array),x.alloc=function(pe,V,ne){return function R(pe,V,ne){return W(pe),pe<=0?_(pe):void 0!==V?"string"==typeof ne?_(pe).fill(V,ne):_(pe).fill(V):_(pe)}(pe,V,ne)},x.allocUnsafe=function(pe){return D(pe)},x.allocUnsafeSlow=function(pe){return D(pe)},x.isBuffer=function(V){return null!=V&&!0===V._isBuffer&&V!==x.prototype},x.compare=function(V,ne){if(it(V,Uint8Array)&&(V=x.from(V,V.offset,V.byteLength)),it(ne,Uint8Array)&&(ne=x.from(ne,ne.offset,ne.byteLength)),!x.isBuffer(V)||!x.isBuffer(ne))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===ne)return 0;let Fe=V.length,st=ne.length;for(let ft=0,Tt=Math.min(Fe,st);ft<Tt;++ft)if(V[ft]!==ne[ft]){Fe=V[ft],st=ne[ft];break}return Fe<st?-1:st<Fe?1:0},x.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},x.concat=function(V,ne){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(0===V.length)return x.alloc(0);let Fe;if(void 0===ne)for(ne=0,Fe=0;Fe<V.length;++Fe)ne+=V[Fe].length;const st=x.allocUnsafe(ne);let ft=0;for(Fe=0;Fe<V.length;++Fe){let Tt=V[Fe];if(it(Tt,Uint8Array))ft+Tt.length>st.length?(x.isBuffer(Tt)||(Tt=x.from(Tt)),Tt.copy(st,ft)):Uint8Array.prototype.set.call(st,Tt,ft);else{if(!x.isBuffer(Tt))throw new TypeError('"list" argument must be an Array of Buffers');Tt.copy(st,ft)}ft+=Tt.length}return st},x.byteLength=q,x.prototype._isBuffer=!0,x.prototype.swap16=function(){const V=this.length;if(V%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ne=0;ne<V;ne+=2)y(this,ne,ne+1);return this},x.prototype.swap32=function(){const V=this.length;if(V%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ne=0;ne<V;ne+=4)y(this,ne,ne+3),y(this,ne+1,ne+2);return this},x.prototype.swap64=function(){const V=this.length;if(V%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ne=0;ne<V;ne+=8)y(this,ne,ne+7),y(this,ne+1,ne+6),y(this,ne+2,ne+5),y(this,ne+3,ne+4);return this},x.prototype.toLocaleString=x.prototype.toString=function(){const V=this.length;return 0===V?"":0===arguments.length?ze(this,0,V):B.apply(this,arguments)},x.prototype.equals=function(V){if(!x.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V||0===x.compare(this,V)},x.prototype.inspect=function(){let V="";const ne=ge.INSPECT_MAX_BYTES;return V=this.toString("hex",0,ne).replace(/(.{2})/g,"$1 ").trim(),this.length>ne&&(V+=" ... "),"<Buffer "+V+">"},Y&&(x.prototype[Y]=x.prototype.inspect),x.prototype.compare=function(V,ne,Fe,st,ft){if(it(V,Uint8Array)&&(V=x.from(V,V.offset,V.byteLength)),!x.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof V);if(void 0===ne&&(ne=0),void 0===Fe&&(Fe=V?V.length:0),void 0===st&&(st=0),void 0===ft&&(ft=this.length),ne<0||Fe>V.length||st<0||ft>this.length)throw new RangeError("out of range index");if(st>=ft&&ne>=Fe)return 0;if(st>=ft)return-1;if(ne>=Fe)return 1;if(this===V)return 0;let Tt=(ft>>>=0)-(st>>>=0),An=(Fe>>>=0)-(ne>>>=0);const oi=Math.min(Tt,An),gi=this.slice(st,ft),qn=V.slice(ne,Fe);for(let Gn=0;Gn<oi;++Gn)if(gi[Gn]!==qn[Gn]){Tt=gi[Gn],An=qn[Gn];break}return Tt<An?-1:An<Tt?1:0},x.prototype.includes=function(V,ne,Fe){return-1!==this.indexOf(V,ne,Fe)},x.prototype.indexOf=function(V,ne,Fe){return M(this,V,ne,Fe,!0)},x.prototype.lastIndexOf=function(V,ne,Fe){return M(this,V,ne,Fe,!1)},x.prototype.write=function(V,ne,Fe,st){if(void 0===ne)st="utf8",Fe=this.length,ne=0;else if(void 0===Fe&&"string"==typeof ne)st=ne,Fe=this.length,ne=0;else{if(!isFinite(ne))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ne>>>=0,isFinite(Fe)?(Fe>>>=0,void 0===st&&(st="utf8")):(st=Fe,Fe=void 0)}const ft=this.length-ne;if((void 0===Fe||Fe>ft)&&(Fe=ft),V.length>0&&(Fe<0||ne<0)||ne>this.length)throw new RangeError("Attempt to write outside buffer bounds");st||(st="utf8");let Tt=!1;for(;;)switch(st){case"hex":return ce(this,V,ne,Fe);case"utf8":case"utf-8":return j(this,V,ne,Fe);case"ascii":case"latin1":case"binary":return Ie(this,V,ne,Fe);case"base64":return ae(this,V,ne,Fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,V,ne,Fe);default:if(Tt)throw new TypeError("Unknown encoding: "+st);st=(""+st).toLowerCase(),Tt=!0}},x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const nt=4096;function Te(pe,V,ne){let Fe="";ne=Math.min(pe.length,ne);for(let st=V;st<ne;++st)Fe+=String.fromCharCode(127&pe[st]);return Fe}function je(pe,V,ne){let Fe="";ne=Math.min(pe.length,ne);for(let st=V;st<ne;++st)Fe+=String.fromCharCode(pe[st]);return Fe}function Ce(pe,V,ne){const Fe=pe.length;(!V||V<0)&&(V=0),(!ne||ne<0||ne>Fe)&&(ne=Fe);let st="";for(let ft=V;ft<ne;++ft)st+=Wt[pe[ft]];return st}function Be(pe,V,ne){const Fe=pe.slice(V,ne);let st="";for(let ft=0;ft<Fe.length-1;ft+=2)st+=String.fromCharCode(Fe[ft]+256*Fe[ft+1]);return st}function ue(pe,V,ne){if(pe%1!=0||pe<0)throw new RangeError("offset is not uint");if(pe+V>ne)throw new RangeError("Trying to access beyond buffer length")}function Se(pe,V,ne,Fe,st,ft){if(!x.isBuffer(pe))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>st||V<ft)throw new RangeError('"value" argument is out of bounds');if(ne+Fe>pe.length)throw new RangeError("Index out of range")}function at(pe,V,ne,Fe,st){Je(V,Fe,st,pe,ne,7);let ft=Number(V&BigInt(4294967295));pe[ne++]=ft,ft>>=8,pe[ne++]=ft,ft>>=8,pe[ne++]=ft,ft>>=8,pe[ne++]=ft;let Tt=Number(V>>BigInt(32)&BigInt(4294967295));return pe[ne++]=Tt,Tt>>=8,pe[ne++]=Tt,Tt>>=8,pe[ne++]=Tt,Tt>>=8,pe[ne++]=Tt,ne}function bt(pe,V,ne,Fe,st){Je(V,Fe,st,pe,ne,7);let ft=Number(V&BigInt(4294967295));pe[ne+7]=ft,ft>>=8,pe[ne+6]=ft,ft>>=8,pe[ne+5]=ft,ft>>=8,pe[ne+4]=ft;let Tt=Number(V>>BigInt(32)&BigInt(4294967295));return pe[ne+3]=Tt,Tt>>=8,pe[ne+2]=Tt,Tt>>=8,pe[ne+1]=Tt,Tt>>=8,pe[ne]=Tt,ne+8}function Ke(pe,V,ne,Fe,st,ft){if(ne+Fe>pe.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("Index out of range")}function fe(pe,V,ne,Fe,st){return V=+V,ne>>>=0,st||Ke(pe,0,ne,4),A.write(pe,V,ne,Fe,23,4),ne+4}function O(pe,V,ne,Fe,st){return V=+V,ne>>>=0,st||Ke(pe,0,ne,8),A.write(pe,V,ne,Fe,52,8),ne+8}x.prototype.slice=function(V,ne){const Fe=this.length;(V=~~V)<0?(V+=Fe)<0&&(V=0):V>Fe&&(V=Fe),(ne=void 0===ne?Fe:~~ne)<0?(ne+=Fe)<0&&(ne=0):ne>Fe&&(ne=Fe),ne<V&&(ne=V);const st=this.subarray(V,ne);return Object.setPrototypeOf(st,x.prototype),st},x.prototype.readUintLE=x.prototype.readUIntLE=function(V,ne,Fe){V>>>=0,ne>>>=0,Fe||ue(V,ne,this.length);let st=this[V],ft=1,Tt=0;for(;++Tt<ne&&(ft*=256);)st+=this[V+Tt]*ft;return st},x.prototype.readUintBE=x.prototype.readUIntBE=function(V,ne,Fe){V>>>=0,ne>>>=0,Fe||ue(V,ne,this.length);let st=this[V+--ne],ft=1;for(;ne>0&&(ft*=256);)st+=this[V+--ne]*ft;return st},x.prototype.readUint8=x.prototype.readUInt8=function(V,ne){return V>>>=0,ne||ue(V,1,this.length),this[V]},x.prototype.readUint16LE=x.prototype.readUInt16LE=function(V,ne){return V>>>=0,ne||ue(V,2,this.length),this[V]|this[V+1]<<8},x.prototype.readUint16BE=x.prototype.readUInt16BE=function(V,ne){return V>>>=0,ne||ue(V,2,this.length),this[V]<<8|this[V+1]},x.prototype.readUint32LE=x.prototype.readUInt32LE=function(V,ne){return V>>>=0,ne||ue(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+16777216*this[V+3]},x.prototype.readUint32BE=x.prototype.readUInt32BE=function(V,ne){return V>>>=0,ne||ue(V,4,this.length),16777216*this[V]+(this[V+1]<<16|this[V+2]<<8|this[V+3])},x.prototype.readBigUInt64LE=It(function(V){de(V>>>=0,"offset");const ne=this[V],Fe=this[V+7];(void 0===ne||void 0===Fe)&&te(V,this.length-8);const st=ne+256*this[++V]+65536*this[++V]+this[++V]*2**24,ft=this[++V]+256*this[++V]+65536*this[++V]+Fe*2**24;return BigInt(st)+(BigInt(ft)<<BigInt(32))}),x.prototype.readBigUInt64BE=It(function(V){de(V>>>=0,"offset");const ne=this[V],Fe=this[V+7];(void 0===ne||void 0===Fe)&&te(V,this.length-8);const st=ne*2**24+65536*this[++V]+256*this[++V]+this[++V],ft=this[++V]*2**24+65536*this[++V]+256*this[++V]+Fe;return(BigInt(st)<<BigInt(32))+BigInt(ft)}),x.prototype.readIntLE=function(V,ne,Fe){V>>>=0,ne>>>=0,Fe||ue(V,ne,this.length);let st=this[V],ft=1,Tt=0;for(;++Tt<ne&&(ft*=256);)st+=this[V+Tt]*ft;return ft*=128,st>=ft&&(st-=Math.pow(2,8*ne)),st},x.prototype.readIntBE=function(V,ne,Fe){V>>>=0,ne>>>=0,Fe||ue(V,ne,this.length);let st=ne,ft=1,Tt=this[V+--st];for(;st>0&&(ft*=256);)Tt+=this[V+--st]*ft;return ft*=128,Tt>=ft&&(Tt-=Math.pow(2,8*ne)),Tt},x.prototype.readInt8=function(V,ne){return V>>>=0,ne||ue(V,1,this.length),128&this[V]?-1*(255-this[V]+1):this[V]},x.prototype.readInt16LE=function(V,ne){V>>>=0,ne||ue(V,2,this.length);const Fe=this[V]|this[V+1]<<8;return 32768&Fe?4294901760|Fe:Fe},x.prototype.readInt16BE=function(V,ne){V>>>=0,ne||ue(V,2,this.length);const Fe=this[V+1]|this[V]<<8;return 32768&Fe?4294901760|Fe:Fe},x.prototype.readInt32LE=function(V,ne){return V>>>=0,ne||ue(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},x.prototype.readInt32BE=function(V,ne){return V>>>=0,ne||ue(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},x.prototype.readBigInt64LE=It(function(V){de(V>>>=0,"offset");const ne=this[V],Fe=this[V+7];return(void 0===ne||void 0===Fe)&&te(V,this.length-8),(BigInt(this[V+4]+256*this[V+5]+65536*this[V+6]+(Fe<<24))<<BigInt(32))+BigInt(ne+256*this[++V]+65536*this[++V]+this[++V]*2**24)}),x.prototype.readBigInt64BE=It(function(V){de(V>>>=0,"offset");const ne=this[V],Fe=this[V+7];(void 0===ne||void 0===Fe)&&te(V,this.length-8);const st=(ne<<24)+65536*this[++V]+256*this[++V]+this[++V];return(BigInt(st)<<BigInt(32))+BigInt(this[++V]*2**24+65536*this[++V]+256*this[++V]+Fe)}),x.prototype.readFloatLE=function(V,ne){return V>>>=0,ne||ue(V,4,this.length),A.read(this,V,!0,23,4)},x.prototype.readFloatBE=function(V,ne){return V>>>=0,ne||ue(V,4,this.length),A.read(this,V,!1,23,4)},x.prototype.readDoubleLE=function(V,ne){return V>>>=0,ne||ue(V,8,this.length),A.read(this,V,!0,52,8)},x.prototype.readDoubleBE=function(V,ne){return V>>>=0,ne||ue(V,8,this.length),A.read(this,V,!1,52,8)},x.prototype.writeUintLE=x.prototype.writeUIntLE=function(V,ne,Fe,st){V=+V,ne>>>=0,Fe>>>=0,st||Se(this,V,ne,Fe,Math.pow(2,8*Fe)-1,0);let ft=1,Tt=0;for(this[ne]=255&V;++Tt<Fe&&(ft*=256);)this[ne+Tt]=V/ft&255;return ne+Fe},x.prototype.writeUintBE=x.prototype.writeUIntBE=function(V,ne,Fe,st){V=+V,ne>>>=0,Fe>>>=0,st||Se(this,V,ne,Fe,Math.pow(2,8*Fe)-1,0);let ft=Fe-1,Tt=1;for(this[ne+ft]=255&V;--ft>=0&&(Tt*=256);)this[ne+ft]=V/Tt&255;return ne+Fe},x.prototype.writeUint8=x.prototype.writeUInt8=function(V,ne,Fe){return V=+V,ne>>>=0,Fe||Se(this,V,ne,1,255,0),this[ne]=255&V,ne+1},x.prototype.writeUint16LE=x.prototype.writeUInt16LE=function(V,ne,Fe){return V=+V,ne>>>=0,Fe||Se(this,V,ne,2,65535,0),this[ne]=255&V,this[ne+1]=V>>>8,ne+2},x.prototype.writeUint16BE=x.prototype.writeUInt16BE=function(V,ne,Fe){return V=+V,ne>>>=0,Fe||Se(this,V,ne,2,65535,0),this[ne]=V>>>8,this[ne+1]=255&V,ne+2},x.prototype.writeUint32LE=x.prototype.writeUInt32LE=function(V,ne,Fe){return V=+V,ne>>>=0,Fe||Se(this,V,ne,4,4294967295,0),this[ne+3]=V>>>24,this[ne+2]=V>>>16,this[ne+1]=V>>>8,this[ne]=255&V,ne+4},x.prototype.writeUint32BE=x.prototype.writeUInt32BE=function(V,ne,Fe){return V=+V,ne>>>=0,Fe||Se(this,V,ne,4,4294967295,0),this[ne]=V>>>24,this[ne+1]=V>>>16,this[ne+2]=V>>>8,this[ne+3]=255&V,ne+4},x.prototype.writeBigUInt64LE=It(function(V,ne=0){return at(this,V,ne,BigInt(0),BigInt("0xffffffffffffffff"))}),x.prototype.writeBigUInt64BE=It(function(V,ne=0){return bt(this,V,ne,BigInt(0),BigInt("0xffffffffffffffff"))}),x.prototype.writeIntLE=function(V,ne,Fe,st){if(V=+V,ne>>>=0,!st){const oi=Math.pow(2,8*Fe-1);Se(this,V,ne,Fe,oi-1,-oi)}let ft=0,Tt=1,An=0;for(this[ne]=255&V;++ft<Fe&&(Tt*=256);)V<0&&0===An&&0!==this[ne+ft-1]&&(An=1),this[ne+ft]=(V/Tt|0)-An&255;return ne+Fe},x.prototype.writeIntBE=function(V,ne,Fe,st){if(V=+V,ne>>>=0,!st){const oi=Math.pow(2,8*Fe-1);Se(this,V,ne,Fe,oi-1,-oi)}let ft=Fe-1,Tt=1,An=0;for(this[ne+ft]=255&V;--ft>=0&&(Tt*=256);)V<0&&0===An&&0!==this[ne+ft+1]&&(An=1),this[ne+ft]=(V/Tt|0)-An&255;return ne+Fe},x.prototype.writeInt8=function(V,ne,Fe){return V=+V,ne>>>=0,Fe||Se(this,V,ne,1,127,-128),V<0&&(V=255+V+1),this[ne]=255&V,ne+1},x.prototype.writeInt16LE=function(V,ne,Fe){return V=+V,ne>>>=0,Fe||Se(this,V,ne,2,32767,-32768),this[ne]=255&V,this[ne+1]=V>>>8,ne+2},x.prototype.writeInt16BE=function(V,ne,Fe){return V=+V,ne>>>=0,Fe||Se(this,V,ne,2,32767,-32768),this[ne]=V>>>8,this[ne+1]=255&V,ne+2},x.prototype.writeInt32LE=function(V,ne,Fe){return V=+V,ne>>>=0,Fe||Se(this,V,ne,4,2147483647,-2147483648),this[ne]=255&V,this[ne+1]=V>>>8,this[ne+2]=V>>>16,this[ne+3]=V>>>24,ne+4},x.prototype.writeInt32BE=function(V,ne,Fe){return V=+V,ne>>>=0,Fe||Se(this,V,ne,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[ne]=V>>>24,this[ne+1]=V>>>16,this[ne+2]=V>>>8,this[ne+3]=255&V,ne+4},x.prototype.writeBigInt64LE=It(function(V,ne=0){return at(this,V,ne,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),x.prototype.writeBigInt64BE=It(function(V,ne=0){return bt(this,V,ne,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),x.prototype.writeFloatLE=function(V,ne,Fe){return fe(this,V,ne,!0,Fe)},x.prototype.writeFloatBE=function(V,ne,Fe){return fe(this,V,ne,!1,Fe)},x.prototype.writeDoubleLE=function(V,ne,Fe){return O(this,V,ne,!0,Fe)},x.prototype.writeDoubleBE=function(V,ne,Fe){return O(this,V,ne,!1,Fe)},x.prototype.copy=function(V,ne,Fe,st){if(!x.isBuffer(V))throw new TypeError("argument should be a Buffer");if(Fe||(Fe=0),!st&&0!==st&&(st=this.length),ne>=V.length&&(ne=V.length),ne||(ne=0),st>0&&st<Fe&&(st=Fe),st===Fe||0===V.length||0===this.length)return 0;if(ne<0)throw new RangeError("targetStart out of bounds");if(Fe<0||Fe>=this.length)throw new RangeError("Index out of range");if(st<0)throw new RangeError("sourceEnd out of bounds");st>this.length&&(st=this.length),V.length-ne<st-Fe&&(st=V.length-ne+Fe);const ft=st-Fe;return this===V&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(ne,Fe,st):Uint8Array.prototype.set.call(V,this.subarray(Fe,st),ne),ft},x.prototype.fill=function(V,ne,Fe,st){if("string"==typeof V){if("string"==typeof ne?(st=ne,ne=0,Fe=this.length):"string"==typeof Fe&&(st=Fe,Fe=this.length),void 0!==st&&"string"!=typeof st)throw new TypeError("encoding must be a string");if("string"==typeof st&&!x.isEncoding(st))throw new TypeError("Unknown encoding: "+st);if(1===V.length){const Tt=V.charCodeAt(0);("utf8"===st&&Tt<128||"latin1"===st)&&(V=Tt)}}else"number"==typeof V?V&=255:"boolean"==typeof V&&(V=Number(V));if(ne<0||this.length<ne||this.length<Fe)throw new RangeError("Out of range index");if(Fe<=ne)return this;let ft;if(ne>>>=0,Fe=void 0===Fe?this.length:Fe>>>0,V||(V=0),"number"==typeof V)for(ft=ne;ft<Fe;++ft)this[ft]=V;else{const Tt=x.isBuffer(V)?V:x.from(V,st),An=Tt.length;if(0===An)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(ft=0;ft<Fe-ne;++ft)this[ft+ne]=Tt[ft%An]}return this};const C={};function ie(pe,V,ne){C[pe]=class extends ne{constructor(){super(),Object.defineProperty(this,"message",{value:V.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${pe}]`,delete this.name}get code(){return pe}set code(st){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:st,writable:!0})}toString(){return`${this.name} [${pe}]: ${this.message}`}}}function J(pe){let V="",ne=pe.length;const Fe="-"===pe[0]?1:0;for(;ne>=Fe+4;ne-=3)V=`_${pe.slice(ne-3,ne)}${V}`;return`${pe.slice(0,ne)}${V}`}function Je(pe,V,ne,Fe,st,ft){if(pe>ne||pe<V){const Tt="bigint"==typeof V?"n":"";let An;throw An=ft>3?0===V||V===BigInt(0)?`>= 0${Tt} and < 2${Tt} ** ${8*(ft+1)}${Tt}`:`>= -(2${Tt} ** ${8*(ft+1)-1}${Tt}) and < 2 ** ${8*(ft+1)-1}${Tt}`:`>= ${V}${Tt} and <= ${ne}${Tt}`,new C.ERR_OUT_OF_RANGE("value",An,pe)}!function He(pe,V,ne){de(V,"offset"),(void 0===pe[V]||void 0===pe[V+ne])&&te(V,pe.length-(ne+1))}(Fe,st,ft)}function de(pe,V){if("number"!=typeof pe)throw new C.ERR_INVALID_ARG_TYPE(V,"number",pe)}function te(pe,V,ne){throw Math.floor(pe)!==pe?(de(pe,ne),new C.ERR_OUT_OF_RANGE(ne||"offset","an integer",pe)):V<0?new C.ERR_BUFFER_OUT_OF_BOUNDS:new C.ERR_OUT_OF_RANGE(ne||"offset",`>= ${ne?1:0} and <= ${V}`,pe)}ie("ERR_BUFFER_OUT_OF_BOUNDS",function(pe){return pe?`${pe} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ie("ERR_INVALID_ARG_TYPE",function(pe,V){return`The "${pe}" argument must be of type number. Received type ${typeof V}`},TypeError),ie("ERR_OUT_OF_RANGE",function(pe,V,ne){let Fe=`The value of "${pe}" is out of range.`,st=ne;return Number.isInteger(ne)&&Math.abs(ne)>2**32?st=J(String(ne)):"bigint"==typeof ne&&(st=String(ne),(ne>BigInt(2)**BigInt(32)||ne<-(BigInt(2)**BigInt(32)))&&(st=J(st)),st+="n"),Fe+=` It must be ${V}. Received ${st}`,Fe},RangeError);const U=/[^+/0-9A-Za-z-_]/g;function k(pe,V){let ne;V=V||1/0;const Fe=pe.length;let st=null;const ft=[];for(let Tt=0;Tt<Fe;++Tt){if(ne=pe.charCodeAt(Tt),ne>55295&&ne<57344){if(!st){if(ne>56319){(V-=3)>-1&&ft.push(239,191,189);continue}if(Tt+1===Fe){(V-=3)>-1&&ft.push(239,191,189);continue}st=ne;continue}if(ne<56320){(V-=3)>-1&&ft.push(239,191,189),st=ne;continue}ne=65536+(st-55296<<10|ne-56320)}else st&&(V-=3)>-1&&ft.push(239,191,189);if(st=null,ne<128){if((V-=1)<0)break;ft.push(ne)}else if(ne<2048){if((V-=2)<0)break;ft.push(ne>>6|192,63&ne|128)}else if(ne<65536){if((V-=3)<0)break;ft.push(ne>>12|224,ne>>6&63|128,63&ne|128)}else{if(!(ne<1114112))throw new Error("Invalid code point");if((V-=4)<0)break;ft.push(ne>>18|240,ne>>12&63|128,ne>>6&63|128,63&ne|128)}}return ft}function Ee(pe){return Z.toByteArray(function I(pe){if((pe=(pe=pe.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;pe.length%4!=0;)pe+="=";return pe}(pe))}function Ve(pe,V,ne,Fe){let st;for(st=0;st<Fe&&!(st+ne>=V.length||st>=pe.length);++st)V[st+ne]=pe[st];return st}function it(pe,V){return pe instanceof V||null!=pe&&null!=pe.constructor&&null!=pe.constructor.name&&pe.constructor.name===V.name}function At(pe){return pe!=pe}const Wt=function(){const pe="0123456789abcdef",V=new Array(256);for(let ne=0;ne<16;++ne){const Fe=16*ne;for(let st=0;st<16;++st)V[Fe+st]=pe[ne]+pe[st]}return V}();function It(pe){return typeof BigInt>"u"?zt:pe}function zt(){throw new Error("BigInt not supported")}},2011:function(Ue,ge,S){"use strict";var Z=this&&this.__createBinding||(Object.create?function(Y,G,X,_){void 0===_&&(_=X),Object.defineProperty(Y,_,{enumerable:!0,get:function(){return G[X]}})}:function(Y,G,X,_){void 0===_&&(_=X),Y[_]=G[X]}),A=this&&this.__exportStar||function(Y,G){for(var X in Y)"default"!==X&&!Object.prototype.hasOwnProperty.call(G,X)&&Z(G,Y,X)};Object.defineProperty(ge,"__esModule",{value:!0}),A(S(9787),ge)},9787:(Ue,ge)=>{"use strict";function Z(G){const X=[];let _=0;for(;_<G.length;)switch(G[_]){case"/":if("."===G[_+1])if("."===G[_+2]){if(!Y(G[_+3])){X.push([]),_++;break}X.pop(),G[_+3]||X.push([]),_+=3}else{if(!Y(G[_+2])){X.push([]),_++;break}G[_+2]||X.push([]),_+=2}else X.push([]),_++;break;case"#":case"?":X.length||X.push([]),X[X.length-1].push(G.substr(_)),_=G.length;break;default:X.length||X.push([]),X[X.length-1].push(G[_]),_++}return"/"+X.map(x=>x.join("")).join("/")}function A(G,X){let _=X+1;X>=0?"/"===G[X+1]&&"/"===G[X+2]&&(_=X+3):"/"===G[0]&&"/"===G[1]&&(_=2);const x=G.indexOf("/",_);return x<0?G:G.substr(0,x)+Z(G.substr(x))}function Y(G){return!G||"#"===G||"?"===G||"/"===G}Object.defineProperty(ge,"__esModule",{value:!0}),ge.removeDotSegmentsOfPath=ge.removeDotSegments=ge.resolve=void 0,ge.resolve=function S(G,X){const _=(X=X||"").indexOf("#");if(_>0&&(X=X.substr(0,_)),!G.length){if(X.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${X}' for value '${G}'`);return X}if(G.startsWith("?")){const w=X.indexOf("?");return w>0&&(X=X.substr(0,w)),X+G}if(G.startsWith("#"))return X+G;if(!X.length){const w=G.indexOf(":");if(w<0)throw new Error(`Found invalid relative IRI '${G}' for a missing baseIRI`);return A(G,w)}const x=G.indexOf(":");if(x>=0)return A(G,x);const N=X.indexOf(":");if(N<0)throw new Error(`Found invalid baseIRI '${X}' for value '${G}'`);const W=X.substr(0,N+1);if(0===G.indexOf("//"))return W+A(G,x);let R;if(X.indexOf("//",N)===N+1){if(R=X.indexOf("/",N+3),R<0)return X.length>N+3?X+"/"+A(G,x):W+A(G,x)}else if(R=X.indexOf("/",N+1),R<0)return W+A(G,x);if(0===G.indexOf("/"))return X.substr(0,R)+Z(G);let D=X.substr(R);const re=D.lastIndexOf("/");return re>=0&&re<D.length-1&&(D=D.substr(0,re+1),"."===G[0]&&"."!==G[1]&&"/"!==G[1]&&G[2]&&(G=G.substr(1))),G=Z(G=D+G),X.substr(0,R)+G},ge.removeDotSegments=Z,ge.removeDotSegmentsOfPath=A},6620:(Ue,ge,S)=>{!function(Z){Z.parser=function(O,C){return new Y(O,C)},Z.SAXParser=Y,Z.SAXStream=R,Z.createStream=function W(O,C){return new R(O,C)},Z.MAX_BUFFER_LENGTH=65536;var x,A=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function Y(O,C){if(!(this instanceof Y))return new Y(O,C);var ie=this;(function X(O){for(var C=0,ie=A.length;C<ie;C++)O[A[C]]=""})(ie),ie.q=ie.c="",ie.bufferCheckPosition=Z.MAX_BUFFER_LENGTH,ie.opt=C||{},ie.opt.lowercase=ie.opt.lowercase||ie.opt.lowercasetags,ie.looseCase=ie.opt.lowercase?"toLowerCase":"toUpperCase",ie.tags=[],ie.closed=ie.closedRoot=ie.sawRoot=!1,ie.tag=ie.error=null,ie.strict=!!O,ie.noscript=!(!O&&!ie.opt.noscript),ie.state=j.BEGIN,ie.strictEntities=ie.opt.strictEntities,ie.ENTITIES=Object.create(ie.strictEntities?Z.XML_ENTITIES:Z.ENTITIES),ie.attribList=[],ie.opt.xmlns&&(ie.ns=Object.create(oe)),ie.trackPosition=!1!==ie.opt.position,ie.trackPosition&&(ie.position=ie.line=ie.column=0),ae(ie,"onready")}Z.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(O){function C(){}return C.prototype=O,new C}),Object.keys||(Object.keys=function(O){var C=[];for(var ie in O)O.hasOwnProperty(ie)&&C.push(ie);return C}),Y.prototype={end:function(){Ze(this)},write:function fe(O){var C=this;if(this.error)throw this.error;if(C.closed)return nt(C,"Cannot write after close. Assign an onready handler.");if(null===O)return Ze(C);"object"==typeof O&&(O=O.toString());for(var ie=0,J="";J=Ke(O,ie++),C.c=J,J;)switch(C.trackPosition&&(C.position++,"\n"===J?(C.line++,C.column=0):C.column++),C.state){case j.BEGIN:if(C.state=j.BEGIN_WHITESPACE,"\ufeff"===J)continue;bt(C,J);continue;case j.BEGIN_WHITESPACE:bt(C,J);continue;case j.TEXT:if(C.sawRoot&&!C.closedRoot){for(var He=ie-1;J&&"<"!==J&&"&"!==J;)(J=Ke(O,ie++))&&C.trackPosition&&(C.position++,"\n"===J?(C.line++,C.column=0):C.column++);C.textNode+=O.substring(He,ie-1)}"<"!==J||C.sawRoot&&C.closedRoot&&!C.strict?(!B(J)&&(!C.sawRoot||C.closedRoot)&&Te(C,"Text data outside of root node."),"&"===J?C.state=j.TEXT_ENTITY:C.textNode+=J):(C.state=j.OPEN_WAKA,C.startTagPosition=C.position);continue;case j.SCRIPT:"<"===J?C.state=j.SCRIPT_ENDING:C.script+=J;continue;case j.SCRIPT_ENDING:"/"===J?C.state=j.CLOSE_TAG:(C.script+="<"+J,C.state=j.SCRIPT);continue;case j.OPEN_WAKA:"!"===J?(C.state=j.SGML_DECL,C.sgmlDecl=""):B(J)||(T($,J)?(C.state=j.OPEN_TAG,C.tagName=J):"/"===J?(C.state=j.CLOSE_TAG,C.tagName=""):"?"===J?(C.state=j.PROC_INST,C.procInstName=C.procInstBody=""):(Te(C,"Unencoded <"),C.startTagPosition+1<C.position&&(J=new Array(C.position-C.startTagPosition).join(" ")+J),C.textNode+="<"+J,C.state=j.TEXT));continue;case j.SGML_DECL:(C.sgmlDecl+J).toUpperCase()===D?(xe(C,"onopencdata"),C.state=j.CDATA,C.sgmlDecl="",C.cdata=""):C.sgmlDecl+J==="--"?(C.state=j.COMMENT,C.comment="",C.sgmlDecl=""):(C.sgmlDecl+J).toUpperCase()===re?(C.state=j.DOCTYPE,(C.doctype||C.sawRoot)&&Te(C,"Inappropriately located doctype declaration"),C.doctype="",C.sgmlDecl=""):">"===J?(xe(C,"onsgmldeclaration",C.sgmlDecl),C.sgmlDecl="",C.state=j.TEXT):(y(J)&&(C.state=j.SGML_DECL_QUOTED),C.sgmlDecl+=J);continue;case j.SGML_DECL_QUOTED:J===C.q&&(C.state=j.SGML_DECL,C.q=""),C.sgmlDecl+=J;continue;case j.DOCTYPE:">"===J?(C.state=j.TEXT,xe(C,"ondoctype",C.doctype),C.doctype=!0):(C.doctype+=J,"["===J?C.state=j.DOCTYPE_DTD:y(J)&&(C.state=j.DOCTYPE_QUOTED,C.q=J));continue;case j.DOCTYPE_QUOTED:C.doctype+=J,J===C.q&&(C.q="",C.state=j.DOCTYPE);continue;case j.DOCTYPE_DTD:C.doctype+=J,"]"===J?C.state=j.DOCTYPE:y(J)&&(C.state=j.DOCTYPE_DTD_QUOTED,C.q=J);continue;case j.DOCTYPE_DTD_QUOTED:C.doctype+=J,J===C.q&&(C.state=j.DOCTYPE_DTD,C.q="");continue;case j.COMMENT:"-"===J?C.state=j.COMMENT_ENDING:C.comment+=J;continue;case j.COMMENT_ENDING:"-"===J?(C.state=j.COMMENT_ENDED,C.comment=ze(C.opt,C.comment),C.comment&&xe(C,"oncomment",C.comment),C.comment=""):(C.comment+="-"+J,C.state=j.COMMENT);continue;case j.COMMENT_ENDED:">"!==J?(Te(C,"Malformed comment"),C.comment+="--"+J,C.state=j.COMMENT):C.state=j.TEXT;continue;case j.CDATA:"]"===J?C.state=j.CDATA_ENDING:C.cdata+=J;continue;case j.CDATA_ENDING:"]"===J?C.state=j.CDATA_ENDING_2:(C.cdata+="]"+J,C.state=j.CDATA);continue;case j.CDATA_ENDING_2:">"===J?(C.cdata&&xe(C,"oncdata",C.cdata),xe(C,"onclosecdata"),C.cdata="",C.state=j.TEXT):"]"===J?C.cdata+="]":(C.cdata+="]]"+J,C.state=j.CDATA);continue;case j.PROC_INST:"?"===J?C.state=j.PROC_INST_ENDING:B(J)?C.state=j.PROC_INST_BODY:C.procInstName+=J;continue;case j.PROC_INST_BODY:if(!C.procInstBody&&B(J))continue;"?"===J?C.state=j.PROC_INST_ENDING:C.procInstBody+=J;continue;case j.PROC_INST_ENDING:">"===J?(xe(C,"onprocessinginstruction",{name:C.procInstName,body:C.procInstBody}),C.procInstName=C.procInstBody="",C.state=j.TEXT):(C.procInstBody+="?"+J,C.state=j.PROC_INST_BODY);continue;case j.OPEN_TAG:T(z,J)?C.tagName+=J:(je(C),">"===J?ue(C):"/"===J?C.state=j.OPEN_TAG_SLASH:(B(J)||Te(C,"Invalid character in tag name"),C.state=j.ATTRIB));continue;case j.OPEN_TAG_SLASH:">"===J?(ue(C,!0),Se(C)):(Te(C,"Forward-slash in opening tag not followed by >"),C.state=j.ATTRIB);continue;case j.ATTRIB:if(B(J))continue;">"===J?ue(C):"/"===J?C.state=j.OPEN_TAG_SLASH:T($,J)?(C.attribName=J,C.attribValue="",C.state=j.ATTRIB_NAME):Te(C,"Invalid attribute name");continue;case j.ATTRIB_NAME:"="===J?C.state=j.ATTRIB_VALUE:">"===J?(Te(C,"Attribute without value"),C.attribValue=C.attribName,Be(C),ue(C)):B(J)?C.state=j.ATTRIB_NAME_SAW_WHITE:T(z,J)?C.attribName+=J:Te(C,"Invalid attribute name");continue;case j.ATTRIB_NAME_SAW_WHITE:if("="===J)C.state=j.ATTRIB_VALUE;else{if(B(J))continue;Te(C,"Attribute without value"),C.tag.attributes[C.attribName]="",C.attribValue="",xe(C,"onattribute",{name:C.attribName,value:""}),C.attribName="",">"===J?ue(C):T($,J)?(C.attribName=J,C.state=j.ATTRIB_NAME):(Te(C,"Invalid attribute name"),C.state=j.ATTRIB)}continue;case j.ATTRIB_VALUE:if(B(J))continue;y(J)?(C.q=J,C.state=j.ATTRIB_VALUE_QUOTED):(Te(C,"Unquoted attribute value"),C.state=j.ATTRIB_VALUE_UNQUOTED,C.attribValue=J);continue;case j.ATTRIB_VALUE_QUOTED:if(J!==C.q){"&"===J?C.state=j.ATTRIB_VALUE_ENTITY_Q:C.attribValue+=J;continue}Be(C),C.q="",C.state=j.ATTRIB_VALUE_CLOSED;continue;case j.ATTRIB_VALUE_CLOSED:B(J)?C.state=j.ATTRIB:">"===J?ue(C):"/"===J?C.state=j.OPEN_TAG_SLASH:T($,J)?(Te(C,"No whitespace between attributes"),C.attribName=J,C.attribValue="",C.state=j.ATTRIB_NAME):Te(C,"Invalid attribute name");continue;case j.ATTRIB_VALUE_UNQUOTED:if(!M(J)){"&"===J?C.state=j.ATTRIB_VALUE_ENTITY_U:C.attribValue+=J;continue}Be(C),">"===J?ue(C):C.state=j.ATTRIB;continue;case j.CLOSE_TAG:if(C.tagName)">"===J?Se(C):T(z,J)?C.tagName+=J:C.script?(C.script+="</"+C.tagName,C.tagName="",C.state=j.SCRIPT):(B(J)||Te(C,"Invalid tagname in closing tag"),C.state=j.CLOSE_TAG_SAW_WHITE);else{if(B(J))continue;ce($,J)?C.script?(C.script+="</"+J,C.state=j.SCRIPT):Te(C,"Invalid tagname in closing tag."):C.tagName=J}continue;case j.CLOSE_TAG_SAW_WHITE:if(B(J))continue;">"===J?Se(C):Te(C,"Invalid characters in closing tag");continue;case j.TEXT_ENTITY:case j.ATTRIB_VALUE_ENTITY_Q:case j.ATTRIB_VALUE_ENTITY_U:var de,te;switch(C.state){case j.TEXT_ENTITY:de=j.TEXT,te="textNode";break;case j.ATTRIB_VALUE_ENTITY_Q:de=j.ATTRIB_VALUE_QUOTED,te="attribValue";break;case j.ATTRIB_VALUE_ENTITY_U:de=j.ATTRIB_VALUE_UNQUOTED,te="attribValue"}if(";"===J)if(C.opt.unparsedEntities){var U=at(C);C.entity="",C.state=de,C.write(U)}else C[te]+=at(C),C.entity="",C.state=de;else T(C.entity.length?q:ee,J)?C.entity+=J:(Te(C,"Invalid character in entity name"),C[te]+="&"+C.entity+J,C.entity="",C.state=de);continue;default:throw new Error(C,"Unknown state: "+C.state)}return C.position>=C.bufferCheckPosition&&function G(O){for(var C=Math.max(Z.MAX_BUFFER_LENGTH,10),ie=0,J=0,He=A.length;J<He;J++){var Je=O[A[J]].length;if(Je>C)switch(A[J]){case"textNode":Oe(O);break;case"cdata":xe(O,"oncdata",O.cdata),O.cdata="";break;case"script":xe(O,"onscript",O.script),O.script="";break;default:nt(O,"Max buffer length exceeded: "+A[J])}ie=Math.max(ie,Je)}O.bufferCheckPosition=Z.MAX_BUFFER_LENGTH-ie+O.position}(C),C},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function _(O){Oe(O),""!==O.cdata&&(xe(O,"oncdata",O.cdata),O.cdata=""),""!==O.script&&(xe(O,"onscript",O.script),O.script="")}(this)}};try{x=S(7045).Stream}catch{x=function(){}}x||(x=function(){});var N=Z.EVENTS.filter(function(O){return"error"!==O&&"end"!==O});function R(O,C){if(!(this instanceof R))return new R(O,C);x.apply(this),this._parser=new Y(O,C),this.writable=!0,this.readable=!0;var ie=this;this._parser.onend=function(){ie.emit("end")},this._parser.onerror=function(J){ie.emit("error",J),ie._parser.error=null},this._decoder=null,N.forEach(function(J){Object.defineProperty(ie,"on"+J,{get:function(){return ie._parser["on"+J]},set:function(He){if(!He)return ie.removeAllListeners(J),ie._parser["on"+J]=He,He;ie.on(J,He)},enumerable:!0,configurable:!1})})}(R.prototype=Object.create(x.prototype,{constructor:{value:R}})).write=function(O){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(O)){if(!this._decoder){var C=S(8454).StringDecoder;this._decoder=new C("utf8")}O=this._decoder.write(O)}return this._parser.write(O.toString()),this.emit("data",O),!0},R.prototype.end=function(O){return O&&O.length&&this.write(O),this._parser.end(),!0},R.prototype.on=function(O,C){var ie=this;return!ie._parser["on"+O]&&-1!==N.indexOf(O)&&(ie._parser["on"+O]=function(){var J=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);J.splice(0,0,O),ie.emit.apply(ie,J)}),x.prototype.on.call(ie,O,C)};var D="[CDATA[",re="DOCTYPE",w="http://www.w3.org/XML/1998/namespace",F="http://www.w3.org/2000/xmlns/",oe={xml:w,xmlns:F},$=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,z=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,ee=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,q=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function B(O){return" "===O||"\n"===O||"\r"===O||"\t"===O}function y(O){return'"'===O||"'"===O}function M(O){return">"===O||B(O)}function T(O,C){return O.test(C)}function ce(O,C){return!T(O,C)}var O,C,ie,j=0;for(var Ie in Z.STATE={BEGIN:j++,BEGIN_WHITESPACE:j++,TEXT:j++,TEXT_ENTITY:j++,OPEN_WAKA:j++,SGML_DECL:j++,SGML_DECL_QUOTED:j++,DOCTYPE:j++,DOCTYPE_QUOTED:j++,DOCTYPE_DTD:j++,DOCTYPE_DTD_QUOTED:j++,COMMENT_STARTING:j++,COMMENT:j++,COMMENT_ENDING:j++,COMMENT_ENDED:j++,CDATA:j++,CDATA_ENDING:j++,CDATA_ENDING_2:j++,PROC_INST:j++,PROC_INST_BODY:j++,PROC_INST_ENDING:j++,OPEN_TAG:j++,OPEN_TAG_SLASH:j++,ATTRIB:j++,ATTRIB_NAME:j++,ATTRIB_NAME_SAW_WHITE:j++,ATTRIB_VALUE:j++,ATTRIB_VALUE_QUOTED:j++,ATTRIB_VALUE_CLOSED:j++,ATTRIB_VALUE_UNQUOTED:j++,ATTRIB_VALUE_ENTITY_Q:j++,ATTRIB_VALUE_ENTITY_U:j++,CLOSE_TAG:j++,CLOSE_TAG_SAW_WHITE:j++,SCRIPT:j++,SCRIPT_ENDING:j++},Z.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},Z.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(Z.ENTITIES).forEach(function(O){var C=Z.ENTITIES[O],ie="number"==typeof C?String.fromCharCode(C):C;Z.ENTITIES[O]=ie}),Z.STATE)Z.STATE[Z.STATE[Ie]]=Ie;function ae(O,C,ie){O[C]&&O[C](ie)}function xe(O,C,ie){O.textNode&&Oe(O),ae(O,C,ie)}function Oe(O){O.textNode=ze(O.opt,O.textNode),O.textNode&&ae(O,"ontext",O.textNode),O.textNode=""}function ze(O,C){return O.trim&&(C=C.trim()),O.normalize&&(C=C.replace(/\s+/g," ")),C}function nt(O,C){return Oe(O),O.trackPosition&&(C+="\nLine: "+O.line+"\nColumn: "+O.column+"\nChar: "+O.c),C=new Error(C),O.error=C,ae(O,"onerror",C),O}function Ze(O){return O.sawRoot&&!O.closedRoot&&Te(O,"Unclosed root tag"),O.state!==j.BEGIN&&O.state!==j.BEGIN_WHITESPACE&&O.state!==j.TEXT&&nt(O,"Unexpected end"),Oe(O),O.c="",O.closed=!0,ae(O,"onend"),Y.call(O,O.strict,O.opt),O}function Te(O,C){if("object"!=typeof O||!(O instanceof Y))throw new Error("bad call to strictFail");O.strict&&nt(O,C)}function je(O){O.strict||(O.tagName=O.tagName[O.looseCase]());var C=O.tags[O.tags.length-1]||O,ie=O.tag={name:O.tagName,attributes:{}};O.opt.xmlns&&(ie.ns=C.ns),O.attribList.length=0,xe(O,"onopentagstart",ie)}function Ce(O,C){var J=O.indexOf(":")<0?["",O]:O.split(":"),He=J[0],Je=J[1];return C&&"xmlns"===O&&(He="xmlns",Je=""),{prefix:He,local:Je}}function Be(O){if(O.strict||(O.attribName=O.attribName[O.looseCase]()),-1!==O.attribList.indexOf(O.attribName)||O.tag.attributes.hasOwnProperty(O.attribName))O.attribName=O.attribValue="";else{if(O.opt.xmlns){var C=Ce(O.attribName,!0),J=C.local;if("xmlns"===C.prefix)if("xml"===J&&O.attribValue!==w)Te(O,"xml: prefix must be bound to "+w+"\nActual: "+O.attribValue);else if("xmlns"===J&&O.attribValue!==F)Te(O,"xmlns: prefix must be bound to "+F+"\nActual: "+O.attribValue);else{var He=O.tag,Je=O.tags[O.tags.length-1]||O;He.ns===Je.ns&&(He.ns=Object.create(Je.ns)),He.ns[J]=O.attribValue}O.attribList.push([O.attribName,O.attribValue])}else O.tag.attributes[O.attribName]=O.attribValue,xe(O,"onattribute",{name:O.attribName,value:O.attribValue});O.attribName=O.attribValue=""}}function ue(O,C){if(O.opt.xmlns){var ie=O.tag,J=Ce(O.tagName);ie.prefix=J.prefix,ie.local=J.local,ie.uri=ie.ns[J.prefix]||"",ie.prefix&&!ie.uri&&(Te(O,"Unbound namespace prefix: "+JSON.stringify(O.tagName)),ie.uri=J.prefix),ie.ns&&(O.tags[O.tags.length-1]||O).ns!==ie.ns&&Object.keys(ie.ns).forEach(function(it){xe(O,"onopennamespace",{prefix:it,uri:ie.ns[it]})});for(var Je=0,de=O.attribList.length;Je<de;Je++){var te=O.attribList[Je],U=te[0],I=te[1],k=Ce(U,!0),he=k.prefix,Ee=""===he?"":ie.ns[he]||"",Ve={name:U,value:I,prefix:he,local:k.local,uri:Ee};he&&"xmlns"!==he&&!Ee&&(Te(O,"Unbound namespace prefix: "+JSON.stringify(he)),Ve.uri=he),O.tag.attributes[U]=Ve,xe(O,"onattribute",Ve)}O.attribList.length=0}O.tag.isSelfClosing=!!C,O.sawRoot=!0,O.tags.push(O.tag),xe(O,"onopentag",O.tag),C||(O.state=O.noscript||"script"!==O.tagName.toLowerCase()?j.TEXT:j.SCRIPT,O.tag=null,O.tagName=""),O.attribName=O.attribValue="",O.attribList.length=0}function Se(O){if(!O.tagName)return Te(O,"Weird empty close tag."),O.textNode+="</>",void(O.state=j.TEXT);if(O.script){if("script"!==O.tagName)return O.script+="</"+O.tagName+">",O.tagName="",void(O.state=j.SCRIPT);xe(O,"onscript",O.script),O.script=""}var C=O.tags.length,ie=O.tagName;O.strict||(ie=ie[O.looseCase]());for(var J=ie;C--&&O.tags[C].name!==J;)Te(O,"Unexpected close tag");if(C<0)return Te(O,"Unmatched closing tag: "+O.tagName),O.textNode+="</"+O.tagName+">",void(O.state=j.TEXT);O.tagName=ie;for(var Je=O.tags.length;Je-- >C;){var de=O.tag=O.tags.pop();O.tagName=O.tag.name,xe(O,"onclosetag",O.tagName);var te={};for(var U in de.ns)te[U]=de.ns[U];O.opt.xmlns&&de.ns!==(O.tags[O.tags.length-1]||O).ns&&Object.keys(de.ns).forEach(function(k){xe(O,"onclosenamespace",{prefix:k,uri:de.ns[k]})})}0===C&&(O.closedRoot=!0),O.tagName=O.attribValue=O.attribName="",O.attribList.length=0,O.state=j.TEXT}function at(O){var J,C=O.entity,ie=C.toLowerCase(),He="";return O.ENTITIES[C]?O.ENTITIES[C]:O.ENTITIES[ie]?O.ENTITIES[ie]:("#"===(C=ie).charAt(0)&&("x"===C.charAt(1)?(C=C.slice(2),He=(J=parseInt(C,16)).toString(16)):(C=C.slice(1),He=(J=parseInt(C,10)).toString(10))),C=C.replace(/^0+/,""),isNaN(J)||He.toLowerCase()!==C?(Te(O,"Invalid character entity"),"&"+O.entity+";"):String.fromCodePoint(J))}function bt(O,C){"<"===C?(O.state=j.OPEN_WAKA,O.startTagPosition=O.position):B(C)||(Te(O,"Non-whitespace before first tag."),O.textNode=C,O.state=j.TEXT)}function Ke(O,C){var ie="";return C<O.length&&(ie=O.charAt(C)),ie}j=Z.STATE,String.fromCodePoint||(O=String.fromCharCode,C=Math.floor,ie=function(){var He=[],te=-1,U=arguments.length;if(!U)return"";for(var I="";++te<U;){var k=Number(arguments[te]);if(!isFinite(k)||k<0||k>1114111||C(k)!==k)throw RangeError("Invalid code point: "+k);k<=65535?He.push(k):He.push(55296+((k-=65536)>>10),k%1024+56320),(te+1===U||He.length>16384)&&(I+=O.apply(null,He),He.length=0)}return I},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ie,configurable:!0,writable:!0}):String.fromCodePoint=ie)}(ge)},7140:function(){!function(Ue,ge){"use strict";if(!Ue.setImmediate){var G,S=1,Z={},A=!1,Y=Ue.document,oe=Object.getPrototypeOf&&Object.getPrototypeOf(Ue);oe=oe&&oe.setTimeout?oe:Ue,"[object process]"==={}.toString.call(Ue.process)?function W(){G=function($){process.nextTick(function(){N($)})}}():function R(){if(Ue.postMessage&&!Ue.importScripts){var $=!0,z=Ue.onmessage;return Ue.onmessage=function(){$=!1},Ue.postMessage("","*"),Ue.onmessage=z,$}}()?function D(){var $="setImmediate$"+Math.random()+"$",z=function(ee){ee.source===Ue&&"string"==typeof ee.data&&0===ee.data.indexOf($)&&N(+ee.data.slice($.length))};Ue.addEventListener?Ue.addEventListener("message",z,!1):Ue.attachEvent("onmessage",z),G=function(ee){Ue.postMessage($+ee,"*")}}():Ue.MessageChannel?function re(){var $=new MessageChannel;$.port1.onmessage=function(z){N(z.data)},G=function(z){$.port2.postMessage(z)}}():Y&&"onreadystatechange"in Y.createElement("script")?function w(){var $=Y.documentElement;G=function(z){var ee=Y.createElement("script");ee.onreadystatechange=function(){N(z),ee.onreadystatechange=null,$.removeChild(ee),ee=null},$.appendChild(ee)}}():function F(){G=function($){setTimeout(N,0,$)}}(),oe.setImmediate=function X($){"function"!=typeof $&&($=new Function(""+$));for(var z=new Array(arguments.length-1),ee=0;ee<z.length;ee++)z[ee]=arguments[ee+1];return Z[S]={callback:$,args:z},G(S),S++},oe.clearImmediate=_}function _($){delete Z[$]}function N($){if(A)setTimeout(N,0,$);else{var z=Z[$];if(z){A=!0;try{!function x($){var z=$.callback,ee=$.args;switch(ee.length){case 0:z();break;case 1:z(ee[0]);break;case 2:z(ee[0],ee[1]);break;case 3:z(ee[0],ee[1],ee[2]);break;default:z.apply(undefined,ee)}}(z)}finally{_($),A=!1}}}}}(typeof self>"u"?typeof global>"u"?this:global:self)},7045:(Ue,ge,S)=>{Ue.exports=Y;var Z=S(4356).EventEmitter;function Y(){Z.call(this)}S(1993)(Y,Z),Y.Readable=S(1092),Y.Writable=S(5492),Y.Duplex=S(1030),Y.Transform=S(3410),Y.PassThrough=S(3824),Y.finished=S(7854),Y.pipeline=S(6846),Y.Stream=Y,Y.prototype.pipe=function(G,X){var _=this;function x(F){G.writable&&!1===G.write(F)&&_.pause&&_.pause()}function N(){_.readable&&_.resume&&_.resume()}_.on("data",x),G.on("drain",N),!G._isStdio&&(!X||!1!==X.end)&&(_.on("end",R),_.on("close",D));var W=!1;function R(){W||(W=!0,G.end())}function D(){W||(W=!0,"function"==typeof G.destroy&&G.destroy())}function re(F){if(w(),0===Z.listenerCount(this,"error"))throw F}function w(){_.removeListener("data",x),G.removeListener("drain",N),_.removeListener("end",R),_.removeListener("close",D),_.removeListener("error",re),G.removeListener("error",re),_.removeListener("end",w),_.removeListener("close",w),G.removeListener("close",w)}return _.on("error",re),G.on("error",re),_.on("end",w),_.on("close",w),G.on("close",w),G.emit("pipe",_),G}},464:Ue=>{"use strict";var S={};function Z(_,x,N){N||(N=Error);var R=function(D){function re(w,F,oe){return D.call(this,function W(D,re,w){return"string"==typeof x?x:x(D,re,w)}(w,F,oe))||this}return function ge(_,x){_.prototype=Object.create(x.prototype),_.prototype.constructor=_,_.__proto__=x}(re,D),re}(N);R.prototype.name=N.name,R.prototype.code=_,S[_]=R}function A(_,x){if(Array.isArray(_)){var N=_.length;return _=_.map(function(W){return String(W)}),N>2?"one of ".concat(x," ").concat(_.slice(0,N-1).join(", "),", or ")+_[N-1]:2===N?"one of ".concat(x," ").concat(_[0]," or ").concat(_[1]):"of ".concat(x," ").concat(_[0])}return"of ".concat(x," ").concat(String(_))}Z("ERR_INVALID_OPT_VALUE",function(_,x){return'The value "'+x+'" is invalid for option "'+_+'"'},TypeError),Z("ERR_INVALID_ARG_TYPE",function(_,x,N){var W,R;if("string"==typeof x&&function Y(_,x,N){return _.substr(!N||N<0?0:+N,x.length)===x}(x,"not ")?(W="must not be",x=x.replace(/^not /,"")):W="must be",function G(_,x,N){return(void 0===N||N>_.length)&&(N=_.length),_.substring(N-x.length,N)===x}(_," argument"))R="The ".concat(_," ").concat(W," ").concat(A(x,"type"));else{var D=function X(_,x,N){return"number"!=typeof N&&(N=0),!(N+x.length>_.length)&&-1!==_.indexOf(x,N)}(_,".")?"property":"argument";R='The "'.concat(_,'" ').concat(D," ").concat(W," ").concat(A(x,"type"))}return R+". Received type ".concat(typeof N)},TypeError),Z("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),Z("ERR_METHOD_NOT_IMPLEMENTED",function(_){return"The "+_+" method is not implemented"}),Z("ERR_STREAM_PREMATURE_CLOSE","Premature close"),Z("ERR_STREAM_DESTROYED",function(_){return"Cannot call "+_+" after a stream was destroyed"}),Z("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),Z("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),Z("ERR_STREAM_WRITE_AFTER_END","write after end"),Z("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),Z("ERR_UNKNOWN_ENCODING",function(_){return"Unknown encoding: "+_},TypeError),Z("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ue.exports.F=S},1030:(Ue,ge,S)=>{"use strict";var Z=Object.keys||function(R){var D=[];for(var re in R)D.push(re);return D};Ue.exports=x;var A=S(1092),Y=S(5492);S(1993)(x,A);for(var G=Z(Y.prototype),X=0;X<G.length;X++){var _=G[X];x.prototype[_]||(x.prototype[_]=Y.prototype[_])}function x(R){if(!(this instanceof x))return new x(R);A.call(this,R),Y.call(this,R),this.allowHalfOpen=!0,R&&(!1===R.readable&&(this.readable=!1),!1===R.writable&&(this.writable=!1),!1===R.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",N)))}function N(){this._writableState.ended||process.nextTick(W,this)}function W(R){R.end()}Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(D){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=D,this._writableState.destroyed=D)}})},3824:(Ue,ge,S)=>{"use strict";Ue.exports=A;var Z=S(3410);function A(Y){if(!(this instanceof A))return new A(Y);Z.call(this,Y)}S(1993)(A,Z),A.prototype._transform=function(Y,G,X){X(null,Y)}},1092:(Ue,ge,S)=>{"use strict";var Z;Ue.exports=ae,ae.ReadableState=Ie,S(4356);var R,Y=function(te,U){return te.listeners(U).length},G=S(2601),X=S(3838).Buffer,_=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},W=S(7199);R=W&&W.debuglog?W.debuglog("stream"):function(){};var B,y,M,D=S(5225),re=S(8152),F=S(2827).getHighWaterMark,oe=S(464).F,$=oe.ERR_INVALID_ARG_TYPE,z=oe.ERR_STREAM_PUSH_AFTER_EOF,ee=oe.ERR_METHOD_NOT_IMPLEMENTED,q=oe.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;S(1993)(ae,G);var T=re.errorOrDestroy,ce=["error","close","destroy","pause","resume"];function Ie(de,te,U){Z=Z||S(1030),"boolean"!=typeof U&&(U=te instanceof Z),this.objectMode=!!(de=de||{}).objectMode,U&&(this.objectMode=this.objectMode||!!de.readableObjectMode),this.highWaterMark=F(this,de,"readableHighWaterMark",U),this.buffer=new D,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==de.emitClose,this.autoDestroy=!!de.autoDestroy,this.destroyed=!1,this.defaultEncoding=de.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,de.encoding&&(B||(B=S(8454).StringDecoder),this.decoder=new B(de.encoding),this.encoding=de.encoding)}function ae(de){if(Z=Z||S(1030),!(this instanceof ae))return new ae(de);this._readableState=new Ie(de,this,this instanceof Z),this.readable=!0,de&&("function"==typeof de.read&&(this._read=de.read),"function"==typeof de.destroy&&(this._destroy=de.destroy)),G.call(this)}function xe(de,te,U,I,k){R("readableAddChunk",te);var qe,he=de._readableState;if(null===te)he.reading=!1,function je(de,te){if(R("onEofChunk"),!te.ended){if(te.decoder){var U=te.decoder.end();U&&U.length&&(te.buffer.push(U),te.length+=te.objectMode?1:U.length)}te.ended=!0,te.sync?Ce(de):(te.needReadable=!1,te.emittedReadable||(te.emittedReadable=!0,Be(de)))}}(de,he);else if(k||(qe=function ze(de,te){var U;return!function N(de){return X.isBuffer(de)||de instanceof _}(te)&&"string"!=typeof te&&void 0!==te&&!de.objectMode&&(U=new $("chunk",["string","Buffer","Uint8Array"],te)),U}(he,te)),qe)T(de,qe);else if(he.objectMode||te&&te.length>0)if("string"!=typeof te&&!he.objectMode&&Object.getPrototypeOf(te)!==X.prototype&&(te=function x(de){return X.from(de)}(te)),I)he.endEmitted?T(de,new q):Oe(de,he,te,!0);else if(he.ended)T(de,new z);else{if(he.destroyed)return!1;he.reading=!1,he.decoder&&!U?(te=he.decoder.write(te),he.objectMode||0!==te.length?Oe(de,he,te,!1):ue(de,he)):Oe(de,he,te,!1)}else I||(he.reading=!1,ue(de,he));return!he.ended&&(he.length<he.highWaterMark||0===he.length)}function Oe(de,te,U,I){te.flowing&&0===te.length&&!te.sync?(te.awaitDrain=0,de.emit("data",U)):(te.length+=te.objectMode?1:U.length,I?te.buffer.unshift(U):te.buffer.push(U),te.needReadable&&Ce(de)),ue(de,te)}Object.defineProperty(ae.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(te){this._readableState&&(this._readableState.destroyed=te)}}),ae.prototype.destroy=re.destroy,ae.prototype._undestroy=re.undestroy,ae.prototype._destroy=function(de,te){te(de)},ae.prototype.push=function(de,te){var I,U=this._readableState;return U.objectMode?I=!0:"string"==typeof de&&((te=te||U.defaultEncoding)!==U.encoding&&(de=X.from(de,te),te=""),I=!0),xe(this,de,te,!1,I)},ae.prototype.unshift=function(de){return xe(this,de,null,!0,!1)},ae.prototype.isPaused=function(){return!1===this._readableState.flowing},ae.prototype.setEncoding=function(de){B||(B=S(8454).StringDecoder);var te=new B(de);this._readableState.decoder=te,this._readableState.encoding=this._readableState.decoder.encoding;for(var U=this._readableState.buffer.head,I="";null!==U;)I+=te.write(U.data),U=U.next;return this._readableState.buffer.clear(),""!==I&&this._readableState.buffer.push(I),this._readableState.length=I.length,this};var nt=1073741824;function Te(de,te){return de<=0||0===te.length&&te.ended?0:te.objectMode?1:de!=de?te.flowing&&te.length?te.buffer.head.data.length:te.length:(de>te.highWaterMark&&(te.highWaterMark=function Ze(de){return de>=nt?de=nt:(de--,de|=de>>>1,de|=de>>>2,de|=de>>>4,de|=de>>>8,de|=de>>>16,de++),de}(de)),de<=te.length?de:te.ended?te.length:(te.needReadable=!0,0))}function Ce(de){var te=de._readableState;R("emitReadable",te.needReadable,te.emittedReadable),te.needReadable=!1,te.emittedReadable||(R("emitReadable",te.flowing),te.emittedReadable=!0,process.nextTick(Be,de))}function Be(de){var te=de._readableState;R("emitReadable_",te.destroyed,te.length,te.ended),!te.destroyed&&(te.length||te.ended)&&(de.emit("readable"),te.emittedReadable=!1),te.needReadable=!te.flowing&&!te.ended&&te.length<=te.highWaterMark,C(de)}function ue(de,te){te.readingMore||(te.readingMore=!0,process.nextTick(Se,de,te))}function Se(de,te){for(;!te.reading&&!te.ended&&(te.length<te.highWaterMark||te.flowing&&0===te.length);){var U=te.length;if(R("maybeReadMore read 0"),de.read(0),U===te.length)break}te.readingMore=!1}function bt(de){var te=de._readableState;te.readableListening=de.listenerCount("readable")>0,te.resumeScheduled&&!te.paused?te.flowing=!0:de.listenerCount("data")>0&&de.resume()}function Ke(de){R("readable nexttick read 0"),de.read(0)}function O(de,te){R("resume",te.reading),te.reading||de.read(0),te.resumeScheduled=!1,de.emit("resume"),C(de),te.flowing&&!te.reading&&de.read(0)}function C(de){var te=de._readableState;for(R("flow",te.flowing);te.flowing&&null!==de.read(););}function ie(de,te){return 0===te.length?null:(te.objectMode?U=te.buffer.shift():!de||de>=te.length?(U=te.decoder?te.buffer.join(""):1===te.buffer.length?te.buffer.first():te.buffer.concat(te.length),te.buffer.clear()):U=te.buffer.consume(de,te.decoder),U);var U}function J(de){var te=de._readableState;R("endReadable",te.endEmitted),te.endEmitted||(te.ended=!0,process.nextTick(He,te,de))}function He(de,te){if(R("endReadableNT",de.endEmitted,de.length),!de.endEmitted&&0===de.length&&(de.endEmitted=!0,te.readable=!1,te.emit("end"),de.autoDestroy)){var U=te._writableState;(!U||U.autoDestroy&&U.finished)&&te.destroy()}}function Je(de,te){for(var U=0,I=de.length;U<I;U++)if(de[U]===te)return U;return-1}ae.prototype.read=function(de){R("read",de),de=parseInt(de,10);var te=this._readableState,U=de;if(0!==de&&(te.emittedReadable=!1),0===de&&te.needReadable&&((0!==te.highWaterMark?te.length>=te.highWaterMark:te.length>0)||te.ended))return R("read: emitReadable",te.length,te.ended),0===te.length&&te.ended?J(this):Ce(this),null;if(0===(de=Te(de,te))&&te.ended)return 0===te.length&&J(this),null;var k,I=te.needReadable;return R("need readable",I),(0===te.length||te.length-de<te.highWaterMark)&&R("length less than watermark",I=!0),te.ended||te.reading?R("reading or ended",I=!1):I&&(R("do read"),te.reading=!0,te.sync=!0,0===te.length&&(te.needReadable=!0),this._read(te.highWaterMark),te.sync=!1,te.reading||(de=Te(U,te))),null===(k=de>0?ie(de,te):null)?(te.needReadable=te.length<=te.highWaterMark,de=0):(te.length-=de,te.awaitDrain=0),0===te.length&&(te.ended||(te.needReadable=!0),U!==de&&te.ended&&J(this)),null!==k&&this.emit("data",k),k},ae.prototype._read=function(de){T(this,new ee("_read()"))},ae.prototype.pipe=function(de,te){var U=this,I=this._readableState;switch(I.pipesCount){case 0:I.pipes=de;break;case 1:I.pipes=[I.pipes,de];break;default:I.pipes.push(de)}I.pipesCount+=1,R("pipe count=%d opts=%j",I.pipesCount,te);var he=te&&!1===te.end||de===process.stdout||de===process.stderr?V:Ee;function Ee(){R("onend"),de.end()}I.endEmitted?process.nextTick(he):U.once("end",he),de.on("unpipe",function qe(ne,Fe){R("onunpipe"),ne===U&&Fe&&!1===Fe.hasUnpiped&&(Fe.hasUnpiped=!0,function At(){R("cleanup"),de.removeListener("close",zt),de.removeListener("finish",pe),de.removeListener("drain",Ve),de.removeListener("error",It),de.removeListener("unpipe",qe),U.removeListener("end",Ee),U.removeListener("end",V),U.removeListener("data",Wt),it=!0,I.awaitDrain&&(!de._writableState||de._writableState.needDrain)&&Ve()}())});var Ve=function at(de){return function(){var U=de._readableState;R("pipeOnDrain",U.awaitDrain),U.awaitDrain&&U.awaitDrain--,0===U.awaitDrain&&Y(de,"data")&&(U.flowing=!0,C(de))}}(U);de.on("drain",Ve);var it=!1;function Wt(ne){R("ondata");var Fe=de.write(ne);R("dest.write",Fe),!1===Fe&&((1===I.pipesCount&&I.pipes===de||I.pipesCount>1&&-1!==Je(I.pipes,de))&&!it&&(R("false write response, pause",I.awaitDrain),I.awaitDrain++),U.pause())}function It(ne){R("onerror",ne),V(),de.removeListener("error",It),0===Y(de,"error")&&T(de,ne)}function zt(){de.removeListener("finish",pe),V()}function pe(){R("onfinish"),de.removeListener("close",zt),V()}function V(){R("unpipe"),U.unpipe(de)}return U.on("data",Wt),function j(de,te,U){if("function"==typeof de.prependListener)return de.prependListener(te,U);de._events&&de._events[te]?Array.isArray(de._events[te])?de._events[te].unshift(U):de._events[te]=[U,de._events[te]]:de.on(te,U)}(de,"error",It),de.once("close",zt),de.once("finish",pe),de.emit("pipe",U),I.flowing||(R("pipe resume"),U.resume()),de},ae.prototype.unpipe=function(de){var te=this._readableState,U={hasUnpiped:!1};if(0===te.pipesCount)return this;if(1===te.pipesCount)return de&&de!==te.pipes||(de||(de=te.pipes),te.pipes=null,te.pipesCount=0,te.flowing=!1,de&&de.emit("unpipe",this,U)),this;if(!de){var I=te.pipes,k=te.pipesCount;te.pipes=null,te.pipesCount=0,te.flowing=!1;for(var he=0;he<k;he++)I[he].emit("unpipe",this,{hasUnpiped:!1});return this}var qe=Je(te.pipes,de);return-1===qe||(te.pipes.splice(qe,1),te.pipesCount-=1,1===te.pipesCount&&(te.pipes=te.pipes[0]),de.emit("unpipe",this,U)),this},ae.prototype.addListener=ae.prototype.on=function(de,te){var U=G.prototype.on.call(this,de,te),I=this._readableState;return"data"===de?(I.readableListening=this.listenerCount("readable")>0,!1!==I.flowing&&this.resume()):"readable"===de&&!I.endEmitted&&!I.readableListening&&(I.readableListening=I.needReadable=!0,I.flowing=!1,I.emittedReadable=!1,R("on readable",I.length,I.reading),I.length?Ce(this):I.reading||process.nextTick(Ke,this)),U},ae.prototype.removeListener=function(de,te){var U=G.prototype.removeListener.call(this,de,te);return"readable"===de&&process.nextTick(bt,this),U},ae.prototype.removeAllListeners=function(de){var te=G.prototype.removeAllListeners.apply(this,arguments);return("readable"===de||void 0===de)&&process.nextTick(bt,this),te},ae.prototype.resume=function(){var de=this._readableState;return de.flowing||(R("resume"),de.flowing=!de.readableListening,function fe(de,te){te.resumeScheduled||(te.resumeScheduled=!0,process.nextTick(O,de,te))}(this,de)),de.paused=!1,this},ae.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},ae.prototype.wrap=function(de){var te=this,U=this._readableState,I=!1;for(var k in de.on("end",function(){if(R("wrapped end"),U.decoder&&!U.ended){var qe=U.decoder.end();qe&&qe.length&&te.push(qe)}te.push(null)}),de.on("data",function(qe){R("wrapped data"),U.decoder&&(qe=U.decoder.write(qe)),U.objectMode&&null==qe||!(U.objectMode||qe&&qe.length)||te.push(qe)||(I=!0,de.pause())}),de)void 0===this[k]&&"function"==typeof de[k]&&(this[k]=function(Ee){return function(){return de[Ee].apply(de,arguments)}}(k));for(var he=0;he<ce.length;he++)de.on(ce[he],this.emit.bind(this,ce[he]));return this._read=function(qe){R("wrapped _read",qe),I&&(I=!1,de.resume())},this},"function"==typeof Symbol&&(ae.prototype[Symbol.asyncIterator]=function(){return void 0===y&&(y=S(2683)),y(this)}),Object.defineProperty(ae.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ae.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ae.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(te){this._readableState&&(this._readableState.flowing=te)}}),ae._fromList=ie,Object.defineProperty(ae.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(ae.from=function(de,te){return void 0===M&&(M=S(7765)),M(ae,de,te)})},3410:(Ue,ge,S)=>{"use strict";Ue.exports=N;var Z=S(464).F,A=Z.ERR_METHOD_NOT_IMPLEMENTED,Y=Z.ERR_MULTIPLE_CALLBACK,G=Z.ERR_TRANSFORM_ALREADY_TRANSFORMING,X=Z.ERR_TRANSFORM_WITH_LENGTH_0,_=S(1030);function x(D,re){var w=this._transformState;w.transforming=!1;var F=w.writecb;if(null===F)return this.emit("error",new Y);w.writechunk=null,w.writecb=null,null!=re&&this.push(re),F(D);var oe=this._readableState;oe.reading=!1,(oe.needReadable||oe.length<oe.highWaterMark)&&this._read(oe.highWaterMark)}function N(D){if(!(this instanceof N))return new N(D);_.call(this,D),this._transformState={afterTransform:x.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,D&&("function"==typeof D.transform&&(this._transform=D.transform),"function"==typeof D.flush&&(this._flush=D.flush)),this.on("prefinish",W)}function W(){var D=this;"function"!=typeof this._flush||this._readableState.destroyed?R(this,null,null):this._flush(function(re,w){R(D,re,w)})}function R(D,re,w){if(re)return D.emit("error",re);if(null!=w&&D.push(w),D._writableState.length)throw new X;if(D._transformState.transforming)throw new G;return D.push(null)}S(1993)(N,_),N.prototype.push=function(D,re){return this._transformState.needTransform=!1,_.prototype.push.call(this,D,re)},N.prototype._transform=function(D,re,w){w(new A("_transform()"))},N.prototype._write=function(D,re,w){var F=this._transformState;if(F.writecb=w,F.writechunk=D,F.writeencoding=re,!F.transforming){var oe=this._readableState;(F.needTransform||oe.needReadable||oe.length<oe.highWaterMark)&&this._read(oe.highWaterMark)}},N.prototype._read=function(D){var re=this._transformState;null===re.writechunk||re.transforming?re.needTransform=!0:(re.transforming=!0,this._transform(re.writechunk,re.writeencoding,re.afterTransform))},N.prototype._destroy=function(D,re){_.prototype._destroy.call(this,D,function(w){re(w)})}},5492:(Ue,ge,S)=>{"use strict";function A(C){var ie=this;this.next=null,this.entry=null,this.finish=function(){!function O(C,ie,J){var He=C.entry;for(C.entry=null;He;){var Je=He.callback;ie.pendingcb--,Je(J),He=He.next}ie.corkedRequestsFree.next=C}(ie,C)}}var Y;Ue.exports=Ie,Ie.WritableState=ce;var j,G={deprecate:S(3398)},X=S(2601),_=S(3838).Buffer,x=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},R=S(8152),re=S(2827).getHighWaterMark,w=S(464).F,F=w.ERR_INVALID_ARG_TYPE,oe=w.ERR_METHOD_NOT_IMPLEMENTED,$=w.ERR_MULTIPLE_CALLBACK,z=w.ERR_STREAM_CANNOT_PIPE,ee=w.ERR_STREAM_DESTROYED,q=w.ERR_STREAM_NULL_VALUES,B=w.ERR_STREAM_WRITE_AFTER_END,y=w.ERR_UNKNOWN_ENCODING,M=R.errorOrDestroy;function T(){}function ce(C,ie,J){Y=Y||S(1030),"boolean"!=typeof J&&(J=ie instanceof Y),this.objectMode=!!(C=C||{}).objectMode,J&&(this.objectMode=this.objectMode||!!C.writableObjectMode),this.highWaterMark=re(this,C,"writableHighWaterMark",J),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===C.decodeStrings),this.defaultEncoding=C.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Je){!function je(C,ie){var J=C._writableState,He=J.sync,Je=J.writecb;if("function"!=typeof Je)throw new $;if(function Te(C){C.writing=!1,C.writecb=null,C.length-=C.writelen,C.writelen=0}(J),ie)!function Ze(C,ie,J,He,Je){--ie.pendingcb,J?(process.nextTick(Je,He),process.nextTick(Ke,C,ie),C._writableState.errorEmitted=!0,M(C,He)):(Je(He),C._writableState.errorEmitted=!0,M(C,He),Ke(C,ie))}(C,J,He,ie,Je);else{var de=Se(J)||C.destroyed;!de&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&ue(C,J),He?process.nextTick(Ce,C,J,de,Je):Ce(C,J,de,Je)}}(ie,Je)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==C.emitClose,this.autoDestroy=!!C.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new A(this)}function Ie(C){var ie=this instanceof(Y=Y||S(1030));if(!ie&&!j.call(Ie,this))return new Ie(C);this._writableState=new ce(C,this,ie),this.writable=!0,C&&("function"==typeof C.write&&(this._write=C.write),"function"==typeof C.writev&&(this._writev=C.writev),"function"==typeof C.destroy&&(this._destroy=C.destroy),"function"==typeof C.final&&(this._final=C.final)),X.call(this)}function nt(C,ie,J,He,Je,de,te){ie.writelen=He,ie.writecb=te,ie.writing=!0,ie.sync=!0,ie.destroyed?ie.onwrite(new ee("write")):J?C._writev(Je,ie.onwrite):C._write(Je,de,ie.onwrite),ie.sync=!1}function Ce(C,ie,J,He){J||function Be(C,ie){0===ie.length&&ie.needDrain&&(ie.needDrain=!1,C.emit("drain"))}(C,ie),ie.pendingcb--,He(),Ke(C,ie)}function ue(C,ie){ie.bufferProcessing=!0;var J=ie.bufferedRequest;if(C._writev&&J&&J.next){var Je=new Array(ie.bufferedRequestCount),de=ie.corkedRequestsFree;de.entry=J;for(var te=0,U=!0;J;)Je[te]=J,J.isBuf||(U=!1),J=J.next,te+=1;Je.allBuffers=U,nt(C,ie,!0,ie.length,Je,"",de.finish),ie.pendingcb++,ie.lastBufferedRequest=null,de.next?(ie.corkedRequestsFree=de.next,de.next=null):ie.corkedRequestsFree=new A(ie),ie.bufferedRequestCount=0}else{for(;J;){var I=J.chunk;if(nt(C,ie,!1,ie.objectMode?1:I.length,I,J.encoding,J.callback),J=J.next,ie.bufferedRequestCount--,ie.writing)break}null===J&&(ie.lastBufferedRequest=null)}ie.bufferedRequest=J,ie.bufferProcessing=!1}function Se(C){return C.ending&&0===C.length&&null===C.bufferedRequest&&!C.finished&&!C.writing}function at(C,ie){C._final(function(J){ie.pendingcb--,J&&M(C,J),ie.prefinished=!0,C.emit("prefinish"),Ke(C,ie)})}function Ke(C,ie){var J=Se(ie);if(J&&(function bt(C,ie){!ie.prefinished&&!ie.finalCalled&&("function"!=typeof C._final||ie.destroyed?(ie.prefinished=!0,C.emit("prefinish")):(ie.pendingcb++,ie.finalCalled=!0,process.nextTick(at,C,ie)))}(C,ie),0===ie.pendingcb&&(ie.finished=!0,C.emit("finish"),ie.autoDestroy))){var He=C._readableState;(!He||He.autoDestroy&&He.endEmitted)&&C.destroy()}return J}S(1993)(Ie,X),ce.prototype.getBuffer=function(){for(var ie=this.bufferedRequest,J=[];ie;)J.push(ie),ie=ie.next;return J},function(){try{Object.defineProperty(ce.prototype,"buffer",{get:G.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(j=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ie,Symbol.hasInstance,{value:function(ie){return!!j.call(this,ie)||this===Ie&&ie&&ie._writableState instanceof ce}})):j=function(ie){return ie instanceof this},Ie.prototype.pipe=function(){M(this,new z)},Ie.prototype.write=function(C,ie,J){var He=this._writableState,Je=!1,de=!He.objectMode&&function W(C){return _.isBuffer(C)||C instanceof x}(C);return de&&!_.isBuffer(C)&&(C=function N(C){return _.from(C)}(C)),"function"==typeof ie&&(J=ie,ie=null),de?ie="buffer":ie||(ie=He.defaultEncoding),"function"!=typeof J&&(J=T),He.ending?function ae(C,ie){var J=new B;M(C,J),process.nextTick(ie,J)}(this,J):(de||function xe(C,ie,J,He){var Je;return null===J?Je=new q:"string"!=typeof J&&!ie.objectMode&&(Je=new F("chunk",["string","Buffer"],J)),!Je||(M(C,Je),process.nextTick(He,Je),!1)}(this,He,C,J))&&(He.pendingcb++,Je=function ze(C,ie,J,He,Je,de){if(!J){var te=function Oe(C,ie,J){return!C.objectMode&&!1!==C.decodeStrings&&"string"==typeof ie&&(ie=_.from(ie,J)),ie}(ie,He,Je);He!==te&&(J=!0,Je="buffer",He=te)}var U=ie.objectMode?1:He.length;ie.length+=U;var I=ie.length<ie.highWaterMark;if(I||(ie.needDrain=!0),ie.writing||ie.corked){var k=ie.lastBufferedRequest;ie.lastBufferedRequest={chunk:He,encoding:Je,isBuf:J,callback:de,next:null},k?k.next=ie.lastBufferedRequest:ie.bufferedRequest=ie.lastBufferedRequest,ie.bufferedRequestCount+=1}else nt(C,ie,!1,U,He,Je,de);return I}(this,He,de,C,ie,J)),Je},Ie.prototype.cork=function(){this._writableState.corked++},Ie.prototype.uncork=function(){var C=this._writableState;C.corked&&(C.corked--,!C.writing&&!C.corked&&!C.bufferProcessing&&C.bufferedRequest&&ue(this,C))},Ie.prototype.setDefaultEncoding=function(ie){if("string"==typeof ie&&(ie=ie.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ie+"").toLowerCase())>-1))throw new y(ie);return this._writableState.defaultEncoding=ie,this},Object.defineProperty(Ie.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Ie.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Ie.prototype._write=function(C,ie,J){J(new oe("_write()"))},Ie.prototype._writev=null,Ie.prototype.end=function(C,ie,J){var He=this._writableState;return"function"==typeof C?(J=C,C=null,ie=null):"function"==typeof ie&&(J=ie,ie=null),null!=C&&this.write(C,ie),He.corked&&(He.corked=1,this.uncork()),He.ending||function fe(C,ie,J){ie.ending=!0,Ke(C,ie),J&&(ie.finished?process.nextTick(J):C.once("finish",J)),ie.ended=!0,C.writable=!1}(this,He,J),this},Object.defineProperty(Ie.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Ie.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ie){this._writableState&&(this._writableState.destroyed=ie)}}),Ie.prototype.destroy=R.destroy,Ie.prototype._undestroy=R.undestroy,Ie.prototype._destroy=function(C,ie){ie(C)}},2683:(Ue,ge,S)=>{"use strict";var Z;function A(B,y,M){return y=function Y(B){var y=function G(B,y){if("object"!=typeof B||null===B)return B;var M=B[Symbol.toPrimitive];if(void 0!==M){var T=M.call(B,y||"default");if("object"!=typeof T)return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===y?String:Number)(B)}(B,"string");return"symbol"==typeof y?y:String(y)}(y),y in B?Object.defineProperty(B,y,{value:M,enumerable:!0,configurable:!0,writable:!0}):B[y]=M,B}var X=S(7854),_=Symbol("lastResolve"),x=Symbol("lastReject"),N=Symbol("error"),W=Symbol("ended"),R=Symbol("lastPromise"),D=Symbol("handlePromise"),re=Symbol("stream");function w(B,y){return{value:B,done:y}}function F(B){var y=B[_];if(null!==y){var M=B[re].read();null!==M&&(B[R]=null,B[_]=null,B[x]=null,y(w(M,!1)))}}function oe(B){process.nextTick(F,B)}var z=Object.getPrototypeOf(function(){}),ee=Object.setPrototypeOf((A(Z={get stream(){return this[re]},next:function(){var y=this,M=this[N];if(null!==M)return Promise.reject(M);if(this[W])return Promise.resolve(w(void 0,!0));if(this[re].destroyed)return new Promise(function(Ie,ae){process.nextTick(function(){y[N]?ae(y[N]):Ie(w(void 0,!0))})});var ce,T=this[R];if(T)ce=new Promise(function $(B,y){return function(M,T){B.then(function(){y[W]?M(w(void 0,!0)):y[D](M,T)},T)}}(T,this));else{var j=this[re].read();if(null!==j)return Promise.resolve(w(j,!1));ce=new Promise(this[D])}return this[R]=ce,ce}},Symbol.asyncIterator,function(){return this}),A(Z,"return",function(){var y=this;return new Promise(function(M,T){y[re].destroy(null,function(ce){ce?T(ce):M(w(void 0,!0))})})}),Z),z);Ue.exports=function(y){var M,T=Object.create(ee,(A(M={},re,{value:y,writable:!0}),A(M,_,{value:null,writable:!0}),A(M,x,{value:null,writable:!0}),A(M,N,{value:null,writable:!0}),A(M,W,{value:y._readableState.endEmitted,writable:!0}),A(M,D,{value:function(j,Ie){var ae=T[re].read();ae?(T[R]=null,T[_]=null,T[x]=null,j(w(ae,!1))):(T[_]=j,T[x]=Ie)},writable:!0}),M));return T[R]=null,X(y,function(ce){if(ce&&"ERR_STREAM_PREMATURE_CLOSE"!==ce.code){var j=T[x];return null!==j&&(T[R]=null,T[_]=null,T[x]=null,j(ce)),void(T[N]=ce)}var Ie=T[_];null!==Ie&&(T[R]=null,T[_]=null,T[x]=null,Ie(w(void 0,!0))),T[W]=!0}),y.on("readable",oe.bind(null,T)),T}},5225:(Ue,ge,S)=>{"use strict";function Z(oe,$){var z=Object.keys(oe);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(oe);$&&(ee=ee.filter(function(q){return Object.getOwnPropertyDescriptor(oe,q).enumerable})),z.push.apply(z,ee)}return z}function A(oe){for(var $=1;$<arguments.length;$++){var z=null!=arguments[$]?arguments[$]:{};$%2?Z(Object(z),!0).forEach(function(ee){Y(oe,ee,z[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(z)):Z(Object(z)).forEach(function(ee){Object.defineProperty(oe,ee,Object.getOwnPropertyDescriptor(z,ee))})}return oe}function Y(oe,$,z){return($=x($))in oe?Object.defineProperty(oe,$,{value:z,enumerable:!0,configurable:!0,writable:!0}):oe[$]=z,oe}function X(oe,$){for(var z=0;z<$.length;z++){var ee=$[z];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(oe,x(ee.key),ee)}}function x(oe){var $=function N(oe,$){if("object"!=typeof oe||null===oe)return oe;var z=oe[Symbol.toPrimitive];if(void 0!==z){var ee=z.call(oe,$||"default");if("object"!=typeof ee)return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===$?String:Number)(oe)}(oe,"string");return"symbol"==typeof $?$:String($)}var R=S(3838).Buffer,re=S(3779).inspect,w=re&&re.custom||"inspect";function F(oe,$,z){R.prototype.copy.call(oe,$,z)}Ue.exports=function(){function oe(){(function G(oe,$){if(!(oe instanceof $))throw new TypeError("Cannot call a class as a function")})(this,oe),this.head=null,this.tail=null,this.length=0}return function _(oe,$,z){$&&X(oe.prototype,$),z&&X(oe,z),Object.defineProperty(oe,"prototype",{writable:!1})}(oe,[{key:"push",value:function(z){var ee={data:z,next:null};this.length>0?this.tail.next=ee:this.head=ee,this.tail=ee,++this.length}},{key:"unshift",value:function(z){var ee={data:z,next:this.head};0===this.length&&(this.tail=ee),this.head=ee,++this.length}},{key:"shift",value:function(){if(0!==this.length){var z=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,z}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(z){if(0===this.length)return"";for(var ee=this.head,q=""+ee.data;ee=ee.next;)q+=z+ee.data;return q}},{key:"concat",value:function(z){if(0===this.length)return R.alloc(0);for(var ee=R.allocUnsafe(z>>>0),q=this.head,B=0;q;)F(q.data,ee,B),B+=q.data.length,q=q.next;return ee}},{key:"consume",value:function(z,ee){var q;return z<this.head.data.length?(q=this.head.data.slice(0,z),this.head.data=this.head.data.slice(z)):q=z===this.head.data.length?this.shift():ee?this._getString(z):this._getBuffer(z),q}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(z){var ee=this.head,q=1,B=ee.data;for(z-=B.length;ee=ee.next;){var y=ee.data,M=z>y.length?y.length:z;if(B+=M===y.length?y:y.slice(0,z),0==(z-=M)){M===y.length?(++q,this.head=ee.next?ee.next:this.tail=null):(this.head=ee,ee.data=y.slice(M));break}++q}return this.length-=q,B}},{key:"_getBuffer",value:function(z){var ee=R.allocUnsafe(z),q=this.head,B=1;for(q.data.copy(ee),z-=q.data.length;q=q.next;){var y=q.data,M=z>y.length?y.length:z;if(y.copy(ee,ee.length-z,0,M),0==(z-=M)){M===y.length?(++B,this.head=q.next?q.next:this.tail=null):(this.head=q,q.data=y.slice(M));break}++B}return this.length-=B,ee}},{key:w,value:function(z,ee){return re(this,A(A({},ee),{},{depth:0,customInspect:!1}))}}]),oe}()},8152:Ue=>{"use strict";function S(X,_){Y(X,_),Z(X)}function Z(X){X._writableState&&!X._writableState.emitClose||X._readableState&&!X._readableState.emitClose||X.emit("close")}function Y(X,_){X.emit("error",_)}Ue.exports={destroy:function ge(X,_){var x=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(_?_(X):X&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Y,this,X)):process.nextTick(Y,this,X)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(X||null,function(R){!_&&R?x._writableState?x._writableState.errorEmitted?process.nextTick(Z,x):(x._writableState.errorEmitted=!0,process.nextTick(S,x,R)):process.nextTick(S,x,R):_?(process.nextTick(Z,x),_(R)):process.nextTick(Z,x)}),this)},undestroy:function A(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function G(X,_){var x=X._readableState,N=X._writableState;x&&x.autoDestroy||N&&N.autoDestroy?X.destroy(_):X.emit("error",_)}}},7854:(Ue,ge,S)=>{"use strict";var Z=S(464).F.ERR_STREAM_PREMATURE_CLOSE;function Y(){}Ue.exports=function X(_,x,N){if("function"==typeof x)return X(_,null,x);x||(x={}),N=function A(_){var x=!1;return function(){if(!x){x=!0;for(var N=arguments.length,W=new Array(N),R=0;R<N;R++)W[R]=arguments[R];_.apply(this,W)}}}(N||Y);var W=x.readable||!1!==x.readable&&_.readable,R=x.writable||!1!==x.writable&&_.writable,D=function(){_.writable||w()},re=_._writableState&&_._writableState.finished,w=function(){R=!1,re=!0,W||N.call(_)},F=_._readableState&&_._readableState.endEmitted,oe=function(){W=!1,F=!0,R||N.call(_)},$=function(B){N.call(_,B)},z=function(){var B;return W&&!F?((!_._readableState||!_._readableState.ended)&&(B=new Z),N.call(_,B)):R&&!re?((!_._writableState||!_._writableState.ended)&&(B=new Z),N.call(_,B)):void 0},ee=function(){_.req.on("finish",w)};return function G(_){return _.setHeader&&"function"==typeof _.abort}(_)?(_.on("complete",w),_.on("abort",z),_.req?ee():_.on("request",ee)):R&&!_._writableState&&(_.on("end",D),_.on("close",D)),_.on("end",oe),_.on("finish",w),!1!==x.error&&_.on("error",$),_.on("close",z),function(){_.removeListener("complete",w),_.removeListener("abort",z),_.removeListener("request",ee),_.req&&_.req.removeListener("finish",w),_.removeListener("end",D),_.removeListener("close",D),_.removeListener("finish",w),_.removeListener("end",oe),_.removeListener("error",$),_.removeListener("close",z)}}},7765:Ue=>{Ue.exports=function(){throw new Error("Readable.from is not available in the browser")}},6846:(Ue,ge,S)=>{"use strict";var Z,Y=S(464).F,G=Y.ERR_MISSING_ARGS,X=Y.ERR_STREAM_DESTROYED;function _(w){if(w)throw w}function W(w){w()}function R(w,F){return w.pipe(F)}Ue.exports=function re(){for(var w=arguments.length,F=new Array(w),oe=0;oe<w;oe++)F[oe]=arguments[oe];var $=function D(w){return w.length&&"function"==typeof w[w.length-1]?w.pop():_}(F);if(Array.isArray(F[0])&&(F=F[0]),F.length<2)throw new G("streams");var z,ee=F.map(function(q,B){var y=B<F.length-1;return function N(w,F,oe,$){$=function A(w){var F=!1;return function(){F||(F=!0,w.apply(void 0,arguments))}}($);var z=!1;w.on("close",function(){z=!0}),void 0===Z&&(Z=S(7854)),Z(w,{readable:F,writable:oe},function(q){if(q)return $(q);z=!0,$()});var ee=!1;return function(q){if(!z&&!ee){if(ee=!0,function x(w){return w.setHeader&&"function"==typeof w.abort}(w))return w.abort();if("function"==typeof w.destroy)return w.destroy();$(q||new X("pipe"))}}}(q,y,B>0,function(T){z||(z=T),T&&ee.forEach(W),!y&&(ee.forEach(W),$(z))})});return F.reduce(R)}},2827:(Ue,ge,S)=>{"use strict";var Z=S(464).F.ERR_INVALID_OPT_VALUE;Ue.exports={getHighWaterMark:function Y(G,X,_,x){var N=function A(G,X,_){return null!=G.highWaterMark?G.highWaterMark:X?G[_]:null}(X,x,_);if(null!=N){if(!isFinite(N)||Math.floor(N)!==N||N<0)throw new Z(x?_:"highWaterMark",N);return Math.floor(N)}return G.objectMode?16:16384}}},2601:(Ue,ge,S)=>{Ue.exports=S(4356).EventEmitter},8454:(Ue,ge,S)=>{"use strict";var Z=S(4272).Buffer,A=Z.isEncoding||function(ee){switch((ee=""+ee)&&ee.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function X(ee){var q;switch(this.encoding=function G(ee){var q=function Y(ee){if(!ee)return"utf8";for(var q;;)switch(ee){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return ee;default:if(q)return;ee=(""+ee).toLowerCase(),q=!0}}(ee);if("string"!=typeof q&&(Z.isEncoding===A||!A(ee)))throw new Error("Unknown encoding: "+ee);return q||ee}(ee),this.encoding){case"utf16le":this.text=re,this.end=w,q=4;break;case"utf8":this.fillLast=W,q=4;break;case"base64":this.text=F,this.end=oe,q=3;break;default:return this.write=$,void(this.end=z)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Z.allocUnsafe(q)}function _(ee){return ee<=127?0:ee>>5==6?2:ee>>4==14?3:ee>>3==30?4:ee>>6==2?-1:-2}function W(ee){var q=this.lastTotal-this.lastNeed,B=function N(ee,q,B){if(128!=(192&q[0]))return ee.lastNeed=0,"\ufffd";if(ee.lastNeed>1&&q.length>1){if(128!=(192&q[1]))return ee.lastNeed=1,"\ufffd";if(ee.lastNeed>2&&q.length>2&&128!=(192&q[2]))return ee.lastNeed=2,"\ufffd"}}(this,ee);return void 0!==B?B:this.lastNeed<=ee.length?(ee.copy(this.lastChar,q,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(ee.copy(this.lastChar,q,0,ee.length),void(this.lastNeed-=ee.length))}function re(ee,q){if((ee.length-q)%2==0){var B=ee.toString("utf16le",q);if(B){var y=B.charCodeAt(B.length-1);if(y>=55296&&y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=ee[ee.length-2],this.lastChar[1]=ee[ee.length-1],B.slice(0,-1)}return B}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=ee[ee.length-1],ee.toString("utf16le",q,ee.length-1)}function w(ee){var q=ee&&ee.length?this.write(ee):"";return this.lastNeed?q+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):q}function F(ee,q){var B=(ee.length-q)%3;return 0===B?ee.toString("base64",q):(this.lastNeed=3-B,this.lastTotal=3,1===B?this.lastChar[0]=ee[ee.length-1]:(this.lastChar[0]=ee[ee.length-2],this.lastChar[1]=ee[ee.length-1]),ee.toString("base64",q,ee.length-B))}function oe(ee){var q=ee&&ee.length?this.write(ee):"";return this.lastNeed?q+this.lastChar.toString("base64",0,3-this.lastNeed):q}function $(ee){return ee.toString(this.encoding)}function z(ee){return ee&&ee.length?this.write(ee):""}ge.StringDecoder=X,X.prototype.write=function(ee){if(0===ee.length)return"";var q,B;if(this.lastNeed){if(void 0===(q=this.fillLast(ee)))return"";B=this.lastNeed,this.lastNeed=0}else B=0;return B<ee.length?q?q+this.text(ee,B):this.text(ee,B):q||""},X.prototype.end=function D(ee){var q=ee&&ee.length?this.write(ee):"";return this.lastNeed?q+"\ufffd":q},X.prototype.text=function R(ee,q){var B=function x(ee,q,B){var y=q.length-1;if(y<B)return 0;var M=_(q[y]);return M>=0?(M>0&&(ee.lastNeed=M-1),M):--y<B||-2===M?0:(M=_(q[y]))>=0?(M>0&&(ee.lastNeed=M-2),M):--y<B||-2===M?0:(M=_(q[y]))>=0?(M>0&&(2===M?M=0:ee.lastNeed=M-3),M):0}(this,ee,q);if(!this.lastNeed)return ee.toString("utf8",q);this.lastTotal=B;var y=ee.length-(B-this.lastNeed);return ee.copy(this.lastChar,0,y),ee.toString("utf8",q,y)},X.prototype.fillLast=function(ee){if(this.lastNeed<=ee.length)return ee.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ee.copy(this.lastChar,this.lastTotal-this.lastNeed,0,ee.length),this.lastNeed-=ee.length}},4272:(Ue,ge,S)=>{var Z=S(3838),A=Z.Buffer;function Y(X,_){for(var x in X)_[x]=X[x]}function G(X,_,x){return A(X,_,x)}A.from&&A.alloc&&A.allocUnsafe&&A.allocUnsafeSlow?Ue.exports=Z:(Y(Z,ge),ge.Buffer=G),G.prototype=Object.create(A.prototype),Y(A,G),G.from=function(X,_,x){if("number"==typeof X)throw new TypeError("Argument must not be a number");return A(X,_,x)},G.alloc=function(X,_,x){if("number"!=typeof X)throw new TypeError("Argument must be a number");var N=A(X);return void 0!==_?"string"==typeof x?N.fill(_,x):N.fill(_):N.fill(0),N},G.allocUnsafe=function(X){if("number"!=typeof X)throw new TypeError("Argument must be a number");return A(X)},G.allocUnsafeSlow=function(X){if("number"!=typeof X)throw new TypeError("Argument must be a number");return Z.SlowBuffer(X)}},3398:Ue=>{function S(Z){try{if(!global.localStorage)return!1}catch{return!1}var A=global.localStorage[Z];return null!=A&&"true"===String(A).toLowerCase()}Ue.exports=function ge(Z,A){if(S("noDeprecation"))return Z;var Y=!1;return function G(){if(!Y){if(S("throwDeprecation"))throw new Error(A);S("traceDeprecation")?console.trace(A):console.warn(A),Y=!0}return Z.apply(this,arguments)}}},8822:Ue=>{"use strict";Ue.exports=function(ge){ge.prototype[Symbol.iterator]=function*(){for(let S=this.head;S;S=S.next)yield S.value}}},3748:(Ue,ge,S)=>{"use strict";function Z(_){var x=this;if(x instanceof Z||(x=new Z),x.tail=null,x.head=null,x.length=0,_&&"function"==typeof _.forEach)_.forEach(function(R){x.push(R)});else if(arguments.length>0)for(var N=0,W=arguments.length;N<W;N++)x.push(arguments[N]);return x}function A(_,x,N){var W=x===_.head?new X(N,null,x,_):new X(N,x,x.next,_);return null===W.next&&(_.tail=W),null===W.prev&&(_.head=W),_.length++,W}function Y(_,x){_.tail=new X(x,_.tail,null,_),_.head||(_.head=_.tail),_.length++}function G(_,x){_.head=new X(x,null,_.head,_),_.tail||(_.tail=_.head),_.length++}function X(_,x,N,W){if(!(this instanceof X))return new X(_,x,N,W);this.list=W,this.value=_,x?(x.next=this,this.prev=x):this.prev=null,N?(N.prev=this,this.next=N):this.next=null}Ue.exports=Z,Z.Node=X,Z.create=Z,Z.prototype.removeNode=function(_){if(_.list!==this)throw new Error("removing node which does not belong to this list");var x=_.next,N=_.prev;return x&&(x.prev=N),N&&(N.next=x),_===this.head&&(this.head=x),_===this.tail&&(this.tail=N),_.list.length--,_.next=null,_.prev=null,_.list=null,x},Z.prototype.unshiftNode=function(_){if(_!==this.head){_.list&&_.list.removeNode(_);var x=this.head;_.list=this,_.next=x,x&&(x.prev=_),this.head=_,this.tail||(this.tail=_),this.length++}},Z.prototype.pushNode=function(_){if(_!==this.tail){_.list&&_.list.removeNode(_);var x=this.tail;_.list=this,_.prev=x,x&&(x.next=_),this.tail=_,this.head||(this.head=_),this.length++}},Z.prototype.push=function(){for(var _=0,x=arguments.length;_<x;_++)Y(this,arguments[_]);return this.length},Z.prototype.unshift=function(){for(var _=0,x=arguments.length;_<x;_++)G(this,arguments[_]);return this.length},Z.prototype.pop=function(){if(this.tail){var _=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,_}},Z.prototype.shift=function(){if(this.head){var _=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,_}},Z.prototype.forEach=function(_,x){x=x||this;for(var N=this.head,W=0;null!==N;W++)_.call(x,N.value,W,this),N=N.next},Z.prototype.forEachReverse=function(_,x){x=x||this;for(var N=this.tail,W=this.length-1;null!==N;W--)_.call(x,N.value,W,this),N=N.prev},Z.prototype.get=function(_){for(var x=0,N=this.head;null!==N&&x<_;x++)N=N.next;if(x===_&&null!==N)return N.value},Z.prototype.getReverse=function(_){for(var x=0,N=this.tail;null!==N&&x<_;x++)N=N.prev;if(x===_&&null!==N)return N.value},Z.prototype.map=function(_,x){x=x||this;for(var N=new Z,W=this.head;null!==W;)N.push(_.call(x,W.value,this)),W=W.next;return N},Z.prototype.mapReverse=function(_,x){x=x||this;for(var N=new Z,W=this.tail;null!==W;)N.push(_.call(x,W.value,this)),W=W.prev;return N},Z.prototype.reduce=function(_,x){var N,W=this.head;if(arguments.length>1)N=x;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");W=this.head.next,N=this.head.value}for(var R=0;null!==W;R++)N=_(N,W.value,R),W=W.next;return N},Z.prototype.reduceReverse=function(_,x){var N,W=this.tail;if(arguments.length>1)N=x;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");W=this.tail.prev,N=this.tail.value}for(var R=this.length-1;null!==W;R--)N=_(N,W.value,R),W=W.prev;return N},Z.prototype.toArray=function(){for(var _=new Array(this.length),x=0,N=this.head;null!==N;x++)_[x]=N.value,N=N.next;return _},Z.prototype.toArrayReverse=function(){for(var _=new Array(this.length),x=0,N=this.tail;null!==N;x++)_[x]=N.value,N=N.prev;return _},Z.prototype.slice=function(_,x){(x=x||this.length)<0&&(x+=this.length),(_=_||0)<0&&(_+=this.length);var N=new Z;if(x<_||x<0)return N;_<0&&(_=0),x>this.length&&(x=this.length);for(var W=0,R=this.head;null!==R&&W<_;W++)R=R.next;for(;null!==R&&W<x;W++,R=R.next)N.push(R.value);return N},Z.prototype.sliceReverse=function(_,x){(x=x||this.length)<0&&(x+=this.length),(_=_||0)<0&&(_+=this.length);var N=new Z;if(x<_||x<0)return N;_<0&&(_=0),x>this.length&&(x=this.length);for(var W=this.length,R=this.tail;null!==R&&W>x;W--)R=R.prev;for(;null!==R&&W>_;W--,R=R.prev)N.push(R.value);return N},Z.prototype.splice=function(_,x,...N){_>this.length&&(_=this.length-1),_<0&&(_=this.length+_);for(var W=0,R=this.head;null!==R&&W<_;W++)R=R.next;var D=[];for(W=0;R&&W<x;W++)D.push(R.value),R=this.removeNode(R);for(null===R&&(R=this.tail),R!==this.head&&R!==this.tail&&(R=R.prev),W=0;W<N.length;W++)R=A(this,R,N[W]);return D},Z.prototype.reverse=function(){for(var _=this.head,x=this.tail,N=_;null!==N;N=N.prev){var W=N.prev;N.prev=N.next,N.next=W}return this.head=x,this.tail=_,this};try{S(8822)(Z)}catch{}},1492:()=>{},2435:()=>{},7789:()=>{},3779:()=>{},7199:()=>{},7490:(Ue,ge,S)=>{var Z=S(5172);function A(Y){var G,X;function _(N,W){try{var R=Y[N](W),D=R.value,re=D instanceof Z;Promise.resolve(re?D.v:D).then(function(w){if(re){var F="return"===N?"return":"next";if(!D.k||w.done)return _(F,w);w=Y[F](w).value}x(R.done?"return":"normal",w)},function(w){_("throw",w)})}catch(w){x("throw",w)}}function x(N,W){switch(N){case"return":G.resolve({value:W,done:!0});break;case"throw":G.reject(W);break;default:G.resolve({value:W,done:!1})}(G=G.next)?_(G.key,G.arg):X=null}this._invoke=function(N,W){return new Promise(function(R,D){var re={key:N,arg:W,resolve:R,reject:D,next:null};X?X=X.next=re:(G=X=re,_(N,W))})},"function"!=typeof Y.return&&(this.return=void 0)}A.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},A.prototype.next=function(Y){return this._invoke("next",Y)},A.prototype.throw=function(Y){return this._invoke("throw",Y)},A.prototype.return=function(Y){return this._invoke("return",Y)},Ue.exports=A,Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},5172:Ue=>{Ue.exports=function ge(S,Z){this.v=S,this.k=Z},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},3513:(Ue,ge,S)=>{var Z=S(5172);Ue.exports=function A(Y){var G={},X=!1;function _(x,N){return X=!0,N=new Promise(function(W){W(Y[x](N))}),{done:!1,value:new Z(N,1)}}return G[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},G.next=function(x){return X?(X=!1,x):_("next",x)},"function"==typeof Y.throw&&(G.throw=function(x){if(X)throw X=!1,x;return _("throw",x)}),"function"==typeof Y.return&&(G.return=function(x){return X?(X=!1,x):_("return",x)}),G},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},2881:Ue=>{function S(Z){function A(Y){if(Object(Y)!==Y)return Promise.reject(new TypeError(Y+" is not an object."));var G=Y.done;return Promise.resolve(Y.value).then(function(X){return{value:X,done:G}})}return(S=function(G){this.s=G,this.n=G.next}).prototype={s:null,n:null,next:function(){return A(this.n.apply(this.s,arguments))},return:function(G){var X=this.s.return;return void 0===X?Promise.resolve({value:G,done:!0}):A(X.apply(this.s,arguments))},throw:function(G){var X=this.s.return;return void 0===X?Promise.reject(G):A(X.apply(this.s,arguments))}},new S(Z)}Ue.exports=function ge(Z){var A,Y,G,X=2;for(typeof Symbol<"u"&&(Y=Symbol.asyncIterator,G=Symbol.iterator);X--;){if(Y&&null!=(A=Z[Y]))return A.call(Z);if(G&&null!=(A=Z[G]))return new S(A.call(Z));Y="@@asyncIterator",G="@@iterator"}throw new TypeError("Object is not async iterable")},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},9293:Ue=>{function ge(Z,A,Y,G,X,_,x){try{var N=Z[_](x),W=N.value}catch(R){return void Y(R)}N.done?A(W):Promise.resolve(W).then(G,X)}Ue.exports=function S(Z){return function(){var A=this,Y=arguments;return new Promise(function(G,X){var _=Z.apply(A,Y);function x(W){ge(_,G,X,x,N,"next",W)}function N(W){ge(_,G,X,x,N,"throw",W)}x(void 0)})}},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},3344:(Ue,ge,S)=>{var Z=S(5172);Ue.exports=function A(Y){return new Z(Y,0)},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports},2958:(Ue,ge,S)=>{var Z=S(7490);Ue.exports=function A(Y){return function(){return new Z(Y.apply(this,arguments))}},Ue.exports.__esModule=!0,Ue.exports.default=Ue.exports}},Ue=>{Ue(Ue.s=9691)}]);