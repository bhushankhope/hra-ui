(self.webpackChunkhra_ui=self.webpackChunkhra_ui||[]).push([[724],{"./libs/cdk/injectors/src/lib/dispatch/dispatch.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{WI:()=>dispatch});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),_ngxs_store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ngxs/store/fesm2015/ngxs-store.js");function identity(value){return value}function createActionFactory(type,boundArgs){return(...args)=>new type(...boundArgs,...args)}function dispatchImpl(actionFactory,resultHandler){const store=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.yh);return(...args)=>{const action=actionFactory(...args),obs$=store.dispatch(action);return resultHandler(action,obs$)}}function dispatch(type,...boundArgs){return dispatchImpl(createActionFactory(type,boundArgs),identity)}},"./libs/cdk/state/src/link-registry/link-registry.actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AU:()=>LoadFromYaml,Fg:()=>Navigate,Gg:()=>AddMany,mm:()=>Add,tI:()=>AddFromYaml});const Action=(0,__webpack_require__("./libs/cdk/state/src/actions/actions.ts").W)("LinkRegistry");class Add extends(Action("Add")){constructor(id,entry){super(),this.id=id,this.entry=entry}}class AddMany extends(Action("Add Many")){constructor(entries){super(),this.entries=entries}}class AddFromYaml extends(Action("Add from Yaml")){constructor(yaml){super(),this.yaml=yaml}}class LoadFromYaml extends(Action("Load from Yaml")){constructor(url){super(),this.url=url}}class Navigate extends(Action("Navigate")){constructor(id,extras={}){super(),this.id=id,this.extras=extras}}},"./libs/cdk/state/src/link-registry/link-registry.model.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{HW:()=>createLinkId,Ry:()=>EMPTY_LINK,Un:()=>LinkType,l$:()=>LINK_REGISTRY_SCHEMA});var LinkType,zod__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zod/lib/index.mjs");!function(LinkType){LinkType.Internal="internal",LinkType.External="external"}(LinkType||(LinkType={}));const EXTERNAL_LINK_SCHEMA=zod__WEBPACK_IMPORTED_MODULE_0__.z.object({type:zod__WEBPACK_IMPORTED_MODULE_0__.z.literal(LinkType.External),url:zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),rel:zod__WEBPACK_IMPORTED_MODULE_0__.z.string().default("noopener"),target:zod__WEBPACK_IMPORTED_MODULE_0__.z.string()}).partial({rel:!0,target:!0}),INTERNAL_LINK_SCHEMA=zod__WEBPACK_IMPORTED_MODULE_0__.z.object({type:zod__WEBPACK_IMPORTED_MODULE_0__.z.literal(LinkType.Internal),commands:zod__WEBPACK_IMPORTED_MODULE_0__.z.any().array(),extras:zod__WEBPACK_IMPORTED_MODULE_0__.z.object({queryParams:zod__WEBPACK_IMPORTED_MODULE_0__.z.record(zod__WEBPACK_IMPORTED_MODULE_0__.z.any()).nullable(),fragment:zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),queryParamsHandling:zod__WEBPACK_IMPORTED_MODULE_0__.z.enum(["merge","preserve",""]).nullable(),preserveFragment:zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(),onSameUrlNavigation:zod__WEBPACK_IMPORTED_MODULE_0__.z.literal("reload"),skipLocationChange:zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(),replaceUrl:zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()}).partial()}).partial({extras:!0}),LINK_REGISTRY_SCHEMA=zod__WEBPACK_IMPORTED_MODULE_0__.z.record(zod__WEBPACK_IMPORTED_MODULE_0__.z.string().transform((id=>`LinkId:'${id}'`)).brand("LinkId"),zod__WEBPACK_IMPORTED_MODULE_0__.z.discriminatedUnion("type",[EXTERNAL_LINK_SCHEMA,INTERNAL_LINK_SCHEMA]));function createLinkId(id){return LINK_REGISTRY_SCHEMA.keySchema.parse(id)}const EMPTY_LINK=createLinkId("@@__EMPTY__")},"./libs/components/atoms/src/lib/label-box/label-box.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>LabelBoxComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var label_box_componentngResource=__webpack_require__("./libs/components/atoms/src/lib/label-box/label-box.component.scss?ngResource"),label_box_componentngResource_default=__webpack_require__.n(label_box_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2020/common.mjs");let LabelBoxComponent=class LabelBoxComponent{};LabelBoxComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"hra-label-box",standalone:!0,imports:[common.CommonModule],template:'<ng-content></ng-content>\n\n<div class="filler"></div>\n\n<ng-content select=".end"></ng-content>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[label_box_componentngResource_default()]})],LabelBoxComponent)},"./libs/services/src/lib/ftu-data/ftu-data.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{q:()=>FtuDataService});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs");let FtuDataService=class FtuDataService{};FtuDataService=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.gn)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)()],FtuDataService)},"./libs/state/src/lib/active-ftu/active-ftu.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>ActiveFtuSelectors});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),ngxs_store=__webpack_require__("./node_modules/@ngxs/store/fesm2015/ngxs-store.js"),core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),Observable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),cell_summary_actions=__webpack_require__("./libs/state/src/lib/cell-summary/cell-summary.actions.ts"),cell_summary_state=__webpack_require__("./libs/state/src/lib/cell-summary/cell-summary.state.ts"),illustrator_actions=__webpack_require__("./libs/state/src/lib/illustrator/illustrator.actions.ts"),illustrator_state=__webpack_require__("./libs/state/src/lib/illustrator/illustrator.state.ts"),source_refs_actions=__webpack_require__("./libs/state/src/lib/source-refs/source-refs.actions.ts"),source_refs_state=__webpack_require__("./libs/state/src/lib/source-refs/source-refs.state.ts");const Action=(0,__webpack_require__("./libs/cdk/state/src/actions/actions.ts").W)("ActiveFtu");class Load extends(Action("Load")){constructor(iri){super(),this.iri=iri}}class SetIllustrationUrl extends(Action("Set Illustration Url")){constructor(iri){super(),this.iri=iri}}class Clear extends(Action("Clear")){}class Reset extends(Action("Reset")){}var download_action=__webpack_require__("./libs/state/src/lib/download/download.action.ts"),download_state=__webpack_require__("./libs/state/src/lib/download/download.state.ts"),link_registry_actions=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.actions.ts"),link_registry_model=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.model.ts"),link_ids=__webpack_require__("./libs/state/src/lib/link-ids.ts");let ActiveFtuState=class ActiveFtuState{load({getState,patchState,dispatch},{iri}){if(getState().iri!==iri)return dispatch([new cell_summary_actions.q5(iri),new illustrator_actions.q5(iri),new download_action.q5(iri),new source_refs_actions.q(iri),new SetIllustrationUrl(iri)]).pipe((0,tap.b)((()=>patchState({iri}))))}setIllustrationUrl({dispatch},{iri}){const[name]=iri.split("/").slice(-1),url=`https://hubmapconsortium.github.io/ccf-releases/v1.4/docs/2d-ftu/2d-ftu-${name}.html`;return dispatch(new link_registry_actions.mm(link_ids.Illustration,{type:link_registry_model.Un.External,url}))}clear({patchState}){patchState({iri:void 0})}reset({dispatch}){return dispatch([new cell_summary_actions.AG,new illustrator_actions.AG,new source_refs_actions.A,new download_action.R2])}};(0,tslib_es6.gn)([(0,ngxs_store.aU)(Load,{cancelUncompleted:!0}),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object,Load]),(0,tslib_es6.w6)("design:returntype",Object)],ActiveFtuState.prototype,"load",null),(0,tslib_es6.gn)([(0,ngxs_store.aU)(SetIllustrationUrl),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object,SetIllustrationUrl]),(0,tslib_es6.w6)("design:returntype",Object)],ActiveFtuState.prototype,"setIllustrationUrl",null),(0,tslib_es6.gn)([(0,ngxs_store.aU)([Clear,Reset]),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object]),(0,tslib_es6.w6)("design:returntype",void 0)],ActiveFtuState.prototype,"clear",null),(0,tslib_es6.gn)([(0,ngxs_store.aU)(Reset),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object]),(0,tslib_es6.w6)("design:returntype",Observable.y)],ActiveFtuState.prototype,"reset",null),ActiveFtuState=(0,tslib_es6.gn)([(0,ngxs_store.ZM)({name:"activeFtu",defaults:{},children:[cell_summary_state.x,download_state.r,illustrator_state.K,source_refs_state.b]}),(0,core.Injectable)()],ActiveFtuState);class ActiveFtuSelectors{static isActive({iri}){return void 0!==iri}static iri({iri}){return iri}}(0,tslib_es6.gn)([(0,ngxs_store.Qf)([ActiveFtuState]),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object]),(0,tslib_es6.w6)("design:returntype",Boolean)],ActiveFtuSelectors,"isActive",null),(0,tslib_es6.gn)([(0,ngxs_store.Qf)([ActiveFtuState]),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object]),(0,tslib_es6.w6)("design:returntype",Object)],ActiveFtuSelectors,"iri",null)},"./libs/state/src/lib/cell-summary/cell-summary.actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AG:()=>Reset,X8:()=>ComputeAggregates,q5:()=>Load});const Action=(0,__webpack_require__("./libs/cdk/state/src/actions/actions.ts").W)("CellSummary");class Load extends(Action("Load")){constructor(iri){super(),this.iri=iri}}class ComputeAggregates extends(Action("Compute Aggregates")){}class Reset extends(Action("Reset")){}},"./libs/state/src/lib/cell-summary/cell-summary.state.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>CellSummaryState});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),ftu_data_service=__webpack_require__("./libs/services/src/lib/ftu-data/ftu-data.service.ts"),ngxs_store=__webpack_require__("./node_modules/@ngxs/store/fesm2015/ngxs-store.js"),tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),Observable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),cell_summary_actions=__webpack_require__("./libs/state/src/lib/cell-summary/cell-summary.actions.ts");function getRow(rowById,id){return rowById.has(id)||rowById.set(id,["",0]),rowById.get(id)}function expandRow(row,length){if(row.length<length){const fillStart=row.length;row.length=length,row.fill(void 0,fillStart)}}function getLabel(items,id,what){return items.find((item=>item.id===id))?.label??`<Unlabled ${what} '${id}'>`}function getTotalCount(row){return row.reduce(((acc,entry)=>acc+("object"==typeof entry?entry.data.count:0)),0)}function computeAggregate(summary){const{label,cells,biomarkers,summaries}=summary,columnIndexByBiomarker=new Map,rowsByCell=new Map;for(const summary of summaries){const{biomarker,cell}=summary,columnIndex=(id=biomarker,(indexById=columnIndexByBiomarker).has(id)||indexById.set(id,indexById.size+2),indexById.get(id)),row=getRow(rowsByCell,cell);expandRow(row,columnIndex),row[columnIndex]={color:summary.meanExpression,size:summary.percentage,data:summary}}var indexById,id;for(const[cell,row]of rowsByCell.entries())row[0]=getLabel(cells,cell,"cell"),row[1]=getTotalCount(row);const columns=Array.from(columnIndexByBiomarker.keys()).map((id=>getLabel(biomarkers,id,"biomarker")));return{label,columns,rows:Array.from(rowsByCell.values())}}let CellSummaryState=class CellSummaryState{constructor(){this.dataService=(0,core.inject)(ftu_data_service.q)}load({patchState,dispatch},{iri}){return this.dataService.getCellSummaries(iri).pipe((0,tap.b)((summaries=>patchState({summaries,aggregates:[]}))),(0,switchMap.w)((()=>dispatch(new cell_summary_actions.X8))))}computeAggregates({getState,patchState}){const{summaries}=getState();patchState({aggregates:summaries.map(computeAggregate)})}reset({patchState}){patchState({summaries:[],aggregates:[]})}};(0,tslib_es6.gn)([(0,ngxs_store.aU)(cell_summary_actions.q5,{cancelUncompleted:!0}),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object,cell_summary_actions.q5]),(0,tslib_es6.w6)("design:returntype",Observable.y)],CellSummaryState.prototype,"load",null),(0,tslib_es6.gn)([(0,ngxs_store.aU)(cell_summary_actions.X8),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object]),(0,tslib_es6.w6)("design:returntype",void 0)],CellSummaryState.prototype,"computeAggregates",null),(0,tslib_es6.gn)([(0,ngxs_store.aU)(cell_summary_actions.AG),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object]),(0,tslib_es6.w6)("design:returntype",void 0)],CellSummaryState.prototype,"reset",null),CellSummaryState=(0,tslib_es6.gn)([(0,ngxs_store.ZM)({name:"cellSummary",defaults:{summaries:[],aggregates:[]}}),(0,core.Injectable)()],CellSummaryState)},"./libs/state/src/lib/download/download.action.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R2:()=>ClearEntries,UW:()=>Download,h6:()=>RegisterFormat,i2:()=>AddEntry,q5:()=>Load});const Action=(0,__webpack_require__("./libs/cdk/state/src/actions/actions.ts").W)("Download");class RegisterFormat extends(Action("Register Format")){constructor(format){super(),this.format=format}}class Load extends(Action("Load")){constructor(iri){super(),this.iri=iri}}class AddEntry extends(Action("Add")){constructor(id,entry){super(),this.id=id,this.entry=entry}}class ClearEntries extends(Action("Clear")){}class Download extends(Action("Download")){constructor(format){super(),this.format=format}}},"./libs/state/src/lib/download/download.state.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>DownloadState});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),http=__webpack_require__("./node_modules/@angular/common/fesm2020/http.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),ngxs_store=__webpack_require__("./node_modules/@ngxs/store/fesm2015/ngxs-store.js"),immer_esm=__webpack_require__("./node_modules/immer/dist/immer.esm.mjs"),tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),Observable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),ftu_data_service=__webpack_require__("./libs/services/src/lib/ftu-data/ftu-data.service.ts"),lib=__webpack_require__("./node_modules/zod/lib/index.mjs");const DOWNLOAD_FORMAT_ID=lib.z.string().transform((id=>`DownloadFormatId:'${id}'`)).brand("DownloadFormatId"),DOWNLOAD_ENTRY=lib.z.discriminatedUnion("type",[lib.z.object({type:lib.z.literal("url"),url:lib.z.string()}),lib.z.object({type:lib.z.literal("data"),data:lib.z.string()})]),DOWNLOAD_FORMAT=lib.z.object({id:DOWNLOAD_FORMAT_ID,label:lib.z.string(),extension:lib.z.string()}).partial({extension:!0});lib.z.object({formats:lib.z.record(DOWNLOAD_FORMAT_ID,DOWNLOAD_FORMAT),entries:lib.z.record(DOWNLOAD_FORMAT_ID,DOWNLOAD_ENTRY)});function createDownloadFormatId(id){return DOWNLOAD_FORMAT_ID.parse(id)}const Svg=createDownloadFormatId("svg"),Png=createDownloadFormatId("png"),SVG_FORMAT={id:Svg,label:"Download SVG",extension:".svg"},PNG_FORMAT={id:Png,label:"Download PNG",extension:".png"};var download_action=__webpack_require__("./libs/state/src/lib/download/download.action.ts");let DownloadState=class DownloadState{constructor(){this.http=(0,core.inject)(http.eN),this.dataService=(0,core.inject)(ftu_data_service.q)}ngxsOnInit(ctx){ctx.dispatch([new download_action.h6(SVG_FORMAT),new download_action.h6(PNG_FORMAT)])}registerFormat(ctx,{format}){ctx.setState((0,immer_esm.ZP)((draft=>{draft.formats[format.id]=format})))}load(ctx,{iri}){return this.dataService.getDataFileReferences(iri).pipe((0,tap.b)((items=>ctx.setState((0,immer_esm.ZP)((draft=>{draft.entries={};for(const{format,url}of items)draft.entries[createDownloadFormatId(format)]={type:"url",url}}))))))}addEntry(ctx,{id,entry}){ctx.setState((0,immer_esm.ZP)((draft=>{draft.entries[id]=entry})))}clearEntries(ctx){ctx.setState((0,immer_esm.ZP)((draft=>{draft.entries={}})))}download(ctx,{format}){const{entries}=ctx.getState(),entry=entries[format];switch(entry?.type){case"url":{const filename=this.guessFilename(ctx,format,entry.url);return this.downloadRemoteData(entry.url).pipe((0,tap.b)((data=>this.downloadData(data,filename))))}case"data":{const filename=this.guessFilename(ctx,format,"");this.downloadData(new Blob([entry.data]),filename);break}default:throw new Error("Cannot download file without data")}}guessFilename(ctx,id,url){const{formats}=ctx.getState(),{extension=""}=formats[id]??{},segments=new URL(url,"https://base.com").pathname.split("/").filter((seg=>""!==seg)),name=segments.length>0?segments[segments.length-1]:"download";return name.includes(".")?name:`${name}${extension}`}downloadData(blob,filename){const url=window.URL.createObjectURL(blob),anchor=document.createElement("a");document.body.appendChild(anchor),anchor.download=filename,anchor.href=url,anchor.click(),anchor.remove(),window.URL.revokeObjectURL(url)}downloadRemoteData(url){return this.http.get(url,{responseType:"blob"})}};(0,tslib_es6.gn)([(0,ngxs_store.aU)(download_action.h6),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object,download_action.h6]),(0,tslib_es6.w6)("design:returntype",void 0)],DownloadState.prototype,"registerFormat",null),(0,tslib_es6.gn)([(0,ngxs_store.aU)(download_action.q5),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object,download_action.q5]),(0,tslib_es6.w6)("design:returntype",Observable.y)],DownloadState.prototype,"load",null),(0,tslib_es6.gn)([(0,ngxs_store.aU)(download_action.i2),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object,download_action.i2]),(0,tslib_es6.w6)("design:returntype",void 0)],DownloadState.prototype,"addEntry",null),(0,tslib_es6.gn)([(0,ngxs_store.aU)(download_action.R2),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object]),(0,tslib_es6.w6)("design:returntype",void 0)],DownloadState.prototype,"clearEntries",null),(0,tslib_es6.gn)([(0,ngxs_store.aU)(download_action.UW),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object,download_action.UW]),(0,tslib_es6.w6)("design:returntype",Object)],DownloadState.prototype,"download",null),DownloadState=(0,tslib_es6.gn)([(0,ngxs_store.ZM)({name:"download",defaults:{formats:{},entries:{}}}),(0,core.Injectable)()],DownloadState)},"./libs/state/src/lib/illustrator/illustrator.actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A1:()=>SetHover,AG:()=>Reset,Yp:()=>ClearSelection,im:()=>SetClicked,q5:()=>Load});const Action=(0,__webpack_require__("./libs/cdk/state/src/actions/actions.ts").W)("Illustrator");class Load extends(Action("Load")){constructor(iri){super(),this.iri=iri}}class SetHover extends(Action("Set Selection on Hover")){constructor(selectedOnHover){super(),this.selectedOnHover=selectedOnHover}}class SetClicked extends(Action("Set Selection on Clicked")){constructor(selectedOnClick){super(),this.selectedOnClick=selectedOnClick}}class ClearSelection extends(Action("Clear Selection")){}class Reset extends(Action("Reset")){}},"./libs/state/src/lib/illustrator/illustrator.state.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>IllustratorState});var tslib__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),_hra_ui_services__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/services/src/lib/ftu-data/ftu-data.service.ts"),_ngxs_store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ngxs/store/fesm2015/ngxs-store.js"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/forkJoin.js"),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./libs/state/src/lib/illustrator/illustrator.actions.ts");let IllustratorState=class IllustratorState{constructor(){this.dataService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_hra_ui_services__WEBPACK_IMPORTED_MODULE_2__.q)}load({patchState},{iri}){const url$=this.dataService.getIllustrationUrl(iri),mapping$=this.dataService.getIllustrationMapping(iri);return(0,rxjs__WEBPACK_IMPORTED_MODULE_3__.D)({url:url$,mapping:mapping$}).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_4__.b)((result=>patchState({...result,selectedOnHover:void 0,selectedOnClick:void 0}))))}SetHover({patchState},{selectedOnHover}){patchState({selectedOnHover})}SetClicked({patchState},{selectedOnClick}){patchState({selectedOnClick})}clearSelection({patchState}){patchState({selectedOnHover:void 0,selectedOnClick:void 0})}reset({setState}){setState({mapping:[]})}};(0,tslib__WEBPACK_IMPORTED_MODULE_5__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.aU)(_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__.q5,{cancelUncompleted:!0}),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.w6)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.w6)("design:paramtypes",[Object,_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__.q5]),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.w6)("design:returntype",rxjs__WEBPACK_IMPORTED_MODULE_7__.y)],IllustratorState.prototype,"load",null),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.aU)(_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__.A1),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.w6)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.w6)("design:paramtypes",[Object,_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__.A1]),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.w6)("design:returntype",void 0)],IllustratorState.prototype,"SetHover",null),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.aU)(_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__.im),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.w6)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.w6)("design:paramtypes",[Object,_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__.im]),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.w6)("design:returntype",void 0)],IllustratorState.prototype,"SetClicked",null),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.aU)(_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__.Yp),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.w6)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.w6)("design:paramtypes",[Object]),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.w6)("design:returntype",void 0)],IllustratorState.prototype,"clearSelection",null),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.aU)(_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__.AG),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.w6)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.w6)("design:paramtypes",[Object]),(0,tslib__WEBPACK_IMPORTED_MODULE_5__.w6)("design:returntype",void 0)],IllustratorState.prototype,"reset",null),IllustratorState=(0,tslib__WEBPACK_IMPORTED_MODULE_5__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.ZM)({name:"illustrator",defaults:{mapping:[]}}),(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)()],IllustratorState)},"./libs/state/src/lib/link-ids.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{About:()=>About,Embed:()=>Embed,ExploreFTU:()=>ExploreFTU,Illustration:()=>Illustration,LandingPage:()=>LandingPage,LandingPageReadMore:()=>LandingPageReadMore,Portal:()=>Portal,ProductTitle:()=>ProductTitle});var _hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.model.ts");const LandingPage=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.HW)("LandingPage"),ProductTitle=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.HW)("ProductTitle"),About=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.HW)("About"),Portal=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.HW)("Portal"),Illustration=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.HW)("Illustration"),Embed=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.HW)("Embed"),ExploreFTU=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.HW)("ExploreFTU"),LandingPageReadMore=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.HW)("LandingPageReadMore")},"./libs/state/src/lib/source-refs/source-refs.actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Reset,q:()=>Load});const Action=(0,__webpack_require__("./libs/cdk/state/src/actions/actions.ts").W)("SourceRefs");class Load extends(Action("Load")){constructor(iri){super(),this.iri=iri}}class Reset extends(Action("Reset")){}},"./libs/state/src/lib/source-refs/source-refs.state.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{b:()=>SourceRefsState});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),_hra_ui_services__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/services/src/lib/ftu-data/ftu-data.service.ts"),_ngxs_store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ngxs/store/fesm2015/ngxs-store.js"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),_source_refs_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/state/src/lib/source-refs/source-refs.actions.ts");let SourceRefsState=class SourceRefsState{constructor(){this.dataService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_hra_ui_services__WEBPACK_IMPORTED_MODULE_2__.q)}load({setState},{iri}){return this.dataService.getSourceReferences(iri).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_3__.b)(setState))}reset({setState}){setState([])}};(0,tslib__WEBPACK_IMPORTED_MODULE_4__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.aU)(_source_refs_actions__WEBPACK_IMPORTED_MODULE_5__.q),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.w6)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.w6)("design:paramtypes",[Object,_source_refs_actions__WEBPACK_IMPORTED_MODULE_5__.q]),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.w6)("design:returntype",rxjs__WEBPACK_IMPORTED_MODULE_6__.y)],SourceRefsState.prototype,"load",null),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.aU)(_source_refs_actions__WEBPACK_IMPORTED_MODULE_5__.A),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.w6)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.w6)("design:paramtypes",[Object]),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.w6)("design:returntype",void 0)],SourceRefsState.prototype,"reset",null),SourceRefsState=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.ZM)({name:"sourceReferences",defaults:[]}),(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)()],SourceRefsState)},"./libs/state/src/lib/tissue-library/tissue-library.actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{q:()=>Load});var _hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/cdk/state/src/actions/actions.ts");class Load extends((0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.a)("[TissueLibrary] Load Tissue Data")){}},"./libs/state/src/lib/tissue-library/tissue-library.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{N:()=>TissueLibrarySelectors});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_ngxs_store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ngxs/store/fesm2015/ngxs-store.js"),_tissue_library_state__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/state/src/lib/tissue-library/tissue-library.state.ts");class TissueLibrarySelectors{static tissues(state){return state.nodes}}(0,tslib__WEBPACK_IMPORTED_MODULE_1__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.Qf)([_tissue_library_state__WEBPACK_IMPORTED_MODULE_2__.o]),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.w6)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.w6)("design:paramtypes",[Object]),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.w6)("design:returntype",Object)],TissueLibrarySelectors,"tissues",null)},"./libs/state/src/lib/tissue-library/tissue-library.state.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>TissueLibraryState});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),_hra_ui_services__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/services/src/lib/ftu-data/ftu-data.service.ts"),_ngxs_store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ngxs/store/fesm2015/ngxs-store.js"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),_tissue_library_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/state/src/lib/tissue-library/tissue-library.actions.ts");let TissueLibraryState=class TissueLibraryState{constructor(){this.dataService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_hra_ui_services__WEBPACK_IMPORTED_MODULE_2__.q)}setActive(ctx){return this.dataService.getTissueLibrary().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_3__.b)((data=>ctx.setState(data))))}};(0,tslib__WEBPACK_IMPORTED_MODULE_4__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.aU)(_tissue_library_actions__WEBPACK_IMPORTED_MODULE_5__.q),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.w6)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.w6)("design:paramtypes",[Object]),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.w6)("design:returntype",rxjs__WEBPACK_IMPORTED_MODULE_6__.y)],TissueLibraryState.prototype,"setActive",null),TissueLibraryState=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.ZM)({name:"tissueLibrary"}),(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)()],TissueLibraryState)},"./libs/components/atoms/src/lib/label-box/label-box.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,':host {\n  display: flex;\n  align-items: center;\n  padding: 0.75rem 2rem;\n  background: #f8f9fa;\n  font-family: "Inter";\n}\n:host .filler {\n  flex-grow: 1;\n}',""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);