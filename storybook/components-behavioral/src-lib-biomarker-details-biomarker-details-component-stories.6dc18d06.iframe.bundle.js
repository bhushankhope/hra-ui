(self.webpackChunkhra_ui=self.webpackChunkhra_ui||[]).push([[971],{"./libs/state/src/lib/illustrator/illustrator.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{b:()=>IllustratorSelectors});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_ngxs_store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ngxs/store/fesm2015/ngxs-store.js"),_illustrator_state__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/state/src/lib/illustrator/illustrator.state.ts");class IllustratorSelectors{static url({url}){return url}static selectedOnHovered({selectedOnHover}){return selectedOnHover}static selectedOnClicked({selectedOnClick}){return selectedOnClick}static mapping({mapping}){return mapping}}(0,tslib__WEBPACK_IMPORTED_MODULE_1__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.Qf)([_illustrator_state__WEBPACK_IMPORTED_MODULE_2__.K]),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.w6)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.w6)("design:paramtypes",[Object]),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.w6)("design:returntype",Object)],IllustratorSelectors,"url",null),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.Qf)([_illustrator_state__WEBPACK_IMPORTED_MODULE_2__.K]),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.w6)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.w6)("design:paramtypes",[Object]),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.w6)("design:returntype",Object)],IllustratorSelectors,"selectedOnHovered",null),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.Qf)([_illustrator_state__WEBPACK_IMPORTED_MODULE_2__.K]),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.w6)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.w6)("design:paramtypes",[Object]),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.w6)("design:returntype",Object)],IllustratorSelectors,"selectedOnClicked",null),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.Qf)([_illustrator_state__WEBPACK_IMPORTED_MODULE_2__.K]),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.w6)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.w6)("design:paramtypes",[Object]),(0,tslib__WEBPACK_IMPORTED_MODULE_1__.w6)("design:returntype",Array)],IllustratorSelectors,"mapping",null)},"./libs/state/src/lib/resource-types.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$u:()=>Size,C3:()=>Metrics,ph:()=>Gradient});var _hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/cdk/state/src/resource-registry/resource-registry.model.ts");const Metrics=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.h_)("metrics",(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.xm)()),Gradient=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.h_)("gradient",(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.xm)()),Size=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.h_)("size",(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.xm)())},"./libs/state/src/lib/screen-mode/screen-mode.actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>SetSize,l:()=>Set});var _hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/cdk/state/src/actions/actions.ts");class Set extends((0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.a)("[Screenmode] Set Screenmode")){constructor(isFullScreen){super(),this.isFullScreen=isFullScreen}}class SetSize extends((0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.a)("[Screenmode] Set Size")){constructor(size){super(),this.size=size}}},"./libs/components/atoms/src/lib/empty-biomarker/empty-biomarker.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n  padding: 2.625rem 2rem 2.625rem 2rem;\n}\n:host .message {\n  color: #243142;\n}\n:host .collaborate-button {\n  margin-top: 2rem;\n  font-weight: 700;\n  color: #fff;\n  width: 100%;\n  max-width: 20rem;\n  height: 3rem;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/components/atoms/src/lib/gradient-legend/gradient-legend.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n}\n:host .gradient-bar {\n  height: 1.5rem;\n  width: 100%;\n}\n:host .legend {\n  display: flex;\n}\n:host .legend .filler {\n  flex-grow: 1;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/components/atoms/src/lib/size-legend/size-legend.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  flex-direction: row;\n  column-gap: 2rem;\n}\n:host .item {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  line-height: 0.5rem;\n}\n:host .item .circle {\n  height: var(--size);\n  width: var(--size);\n  border-radius: 50%;\n  border: 0.125rem solid #75838f;\n}\n:host .item .label {\n  margin-top: 0.5rem;\n}\n:host .item .filler {\n  flex-grow: 1;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/components/behavioral/src/lib/biomarker-details/biomarker-details.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,':host {\n  display: grid;\n  grid-template-columns: 1fr 1fr auto;\n  grid-template-rows: 3.5rem minmax(5rem, 2fr) 3rem 5rem minmax(5rem, 1fr);\n  grid-template-areas: "table-header table-header table-header" "table table table" "gradient-legend-header size-legend-header ." "gradient-legend size-legend ." "source-list source-list source-list";\n  overflow-y: auto;\n}\n:host .table-header {\n  grid-area: table-header;\n  border-bottom: 0.063rem solid #d3d3d3;\n  height: 3.5rem;\n}\n:host .table {\n  grid-area: table;\n  max-width: 100%;\n  overflow: auto;\n  border-bottom: 0.063rem solid #d3d3d3;\n}\n:host .table ::ng-deep .table-tab-header {\n  padding-left: 1rem;\n  padding-right: 1rem;\n  border-left: 0.063rem solid #d3d3d3;\n  border-bottom: 0.063rem solid #d3d3d3;\n  background-color: white;\n}\n:host .table ::ng-deep .table-tab-header:last-child {\n  border-right: 0.063rem solid #d3d3d3;\n}\n:host .table ::ng-deep .table-tab-header.mdc-tab-indicator--active {\n  background-color: #f8f9fa;\n}\n:host .table ::ng-deep .table-tab-header:hover {\n  background-color: #f8f9fa;\n}\n:host .legend-header {\n  color: var(--dark-primary-text);\n  border-top: 0.063rem solid #d3d3d3;\n  border-bottom: 0.063rem solid #d3d3d3;\n  border-right: 0.063rem solid #d3d3d3;\n}\n:host .legend-header.gradient {\n  grid-area: gradient-legend-header;\n}\n:host .legend-header.size {\n  grid-area: size-legend-header;\n}\n:host .legend-header .icon {\n  margin-left: 0.6rem;\n  width: unset;\n}\n:host .legend {\n  padding: 1rem 2rem;\n  border-right: 0.063rem solid #d3d3d3;\n}\n:host .legend.gradient {\n  grid-area: gradient-legend;\n}\n:host .legend.gradient .content {\n  width: 10rem;\n}\n:host .legend.size {\n  grid-area: size-legend;\n}\n:host .source-list {\n  grid-area: source-list;\n}\n:host .cursor {\n  cursor: default;\n}\n\n::ng-deep .biomarker-details.info-tooltip {\n  display: flex;\n  padding: 1rem;\n  border: 1px solid #a8a3a3;\n  border-radius: 0.5rem;\n  box-shadow: 1px 2px 16px 2px rgba(0, 0, 0, 0.1607843137);\n  background-color: var(--palette-primary-contrast-500-rgb);\n  max-width: 21rem;\n  font-size: small;\n  font-family: Inter;\n}',""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/components/molecules/src/lib/biomarker-table-data-card/biomarker-table-data-card.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  padding: 1rem 1.5rem;\n  border-radius: 0.5rem;\n  box-shadow: 0.063rem 0.125rem 1rem 0.125rem rgba(0, 0, 0, 0.16);\n  background-color: var(--palette-primary-contrast-500-rgb);\n}\n:host .mat-mdc-cell {\n  padding: 0.25rem 0rem;\n}\n:host .mat-mdc-row {\n  height: -moz-fit-content;\n  height: fit-content;\n}\n:host .no-border {\n  border: none;\n}\n:host .label {\n  color: #243142;\n  padding-right: 3rem;\n}\n:host .value {\n  color: #4c5a69;\n}\n:host .sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/components/molecules/src/lib/biomarker-table-data-icon/biomarker-table-data-icon.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n  border-radius: 50%;\n  --radius: 0.625rem;\n  width: var(--radius);\n  height: var(--radius);\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/components/molecules/src/lib/source-list/source-list.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n  height: 100%;\n}\n:host .sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n:host .toggle {\n  display: flex;\n  align-items: center;\n  height: 3.5rem;\n  grid-area: source-list-header;\n  color: var(--dark-primary-text);\n  border-top: 0.063rem solid #d3d3d3;\n  border-bottom: 0.063rem solid #d3d3d3;\n}\n:host .table-content {\n  height: calc(100% - 3.5rem);\n  overflow: auto;\n}\n:host .table-content.hidden {\n  display: none;\n}\n:host .table-content table {\n  height: 100%;\n}\n:host .table-content .mat-mdc-cell {\n  vertical-align: top;\n  border: none;\n  padding: 0.25rem 0.875rem;\n  font-size: 1rem;\n}\n:host .table-content ::ng-deep .mdc-data-table__content {\n  display: block;\n  padding: 1rem 0rem;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/components/organisms/src/lib/biomarker-table/biomarker-table.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n}\n:host .sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n:host .table {\n  margin-left: -1px;\n}\n:host .table .highlight {\n  background-color: #f8f9fa;\n}\n:host .table td.type {\n  text-transform: lowercase;\n}\n:host .table th {\n  background-color: #fff7f8;\n  color: #59264d;\n  text-align: right;\n}\n:host .table td {\n  border-bottom: 0.063rem solid #d3d3d3;\n  border-left: 0.063rem solid #d3d3d3;\n}\n:host .table tr:first-child td {\n  border-top: 0rem solid #d3d3d3;\n}\n:host tr > td:first-child {\n  text-align: left;\n  padding: 0 2rem;\n}\n:host tr > th:first-child {\n  text-align: left;\n  padding: 0 2rem;\n}\n:host tr > td:last-of-type {\n  border-right: 0.063rem solid #d3d3d3;\n}\n:host tr > th:last-of-type {\n  border-right: 0.063rem solid #d3d3d3;\n  border-left: solid #d3d3d3 1px;\n}\n:host .type {\n  height: 3rem;\n  max-width: 26rem;\n  min-width: 17rem;\n  border-radius: 0rem;\n  white-space: nowrap;\n}\n:host .count {\n  text-align: right;\n  height: 3rem;\n  min-width: 6.5rem;\n}\n:host .count:not(:first-child) {\n  border-left: solid #d3d3d3 1px;\n}\n:host .icon-header {\n  max-width: 5rem;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n:host .icon-cell {\n  max-width: 5rem;\n  min-height: 3rem;\n}\n:host .icon-cell .icon {\n  margin: auto;\n}\n\n::ng-deep .mat-mdc-tab-header {\n  margin-left: -1px !important;\n}\n\n::ng-deep .biomarker-table-hover.full-column-name {\n  display: flex;\n  padding: 1rem 1.5rem;\n  border-radius: 0.5rem;\n  box-shadow: 0.063rem 0.125rem 1rem 0.125rem rgba(0, 0, 0, 0.16);\n  background-color: var(--palette-primary-contrast-500-rgb);\n  overflow: auto;\n  max-width: -moz-fit-content;\n  max-width: fit-content;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/components/behavioral/src/lib/biomarker-details/biomarker-details.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,createDataItem:()=>createDataItem,default:()=>biomarker_details_component_stories});var icon=__webpack_require__("./node_modules/@angular/material/fesm2020/icon.mjs"),resource_registry_state=__webpack_require__("./libs/cdk/state/src/resource-registry/resource-registry.state.ts"),resource_registry_actions=__webpack_require__("./libs/cdk/state/src/resource-registry/resource-registry.actions.ts"),source_refs_state=__webpack_require__("./libs/state/src/lib/source-refs/source-refs.state.ts"),dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var _class,biomarker_details_componentngResource=__webpack_require__("./libs/components/behavioral/src/lib/biomarker-details/biomarker-details.component.scss?ngResource"),biomarker_details_componentngResource_default=__webpack_require__.n(biomarker_details_componentngResource),common=__webpack_require__("./node_modules/@angular/common/fesm2020/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),tabs=__webpack_require__("./node_modules/@angular/material/fesm2020/tabs.mjs"),overlay=__webpack_require__("./node_modules/@angular/cdk/fesm2020/overlay.mjs"),portal=__webpack_require__("./node_modules/@angular/cdk/fesm2020/portal.mjs");let HoverDirective=((_class=class HoverDirective{constructor(){this.el=(0,core.inject)(core.ElementRef).nativeElement,this.overlayRef=(0,core.inject)(overlay.aV).create({positionStrategy:(0,core.inject)(overlay.aV).position().flexibleConnectedTo(this.el).withPositions([new overlay.tR({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),new overlay.tR({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new overlay.tR({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new overlay.tR({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"})]).withPush(!0)}),this.viewContainerRef=(0,core.inject)(core.ViewContainerRef)}set content(content){this.portal=new portal.UE(content,this.viewContainerRef,this._data),this.updateContent()}set data(data){this._data={$implicit:data},this.portal&&(this.portal.context=this._data,this.updateContent())}startHover(){const{overlayRef,portal}=this;!overlayRef.hasAttached()&&portal&&overlayRef.attach(portal)}endHover(){const{overlayRef}=this;overlayRef.hasAttached()&&overlayRef.detach()}updateContent(){const{overlayRef,portal}=this;overlayRef.hasAttached()&&portal&&(overlayRef.detach(),overlayRef.attach(portal))}}).propDecorators={content:[{type:core.Input,args:["hraHover"]}],data:[{type:core.Input,args:["hraHoverData"]}],startHover:[{type:core.HostListener,args:["mouseover"]}],endHover:[{type:core.HostListener,args:["mouseout"]}]},_class);HoverDirective=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[hraHover]",standalone:!0})],HoverDirective);var select_snapshot=__webpack_require__("./libs/cdk/injectors/src/lib/select/select-snapshot.ts"),dispatch=__webpack_require__("./libs/cdk/injectors/src/lib/dispatch/dispatch.ts"),resource_registry_selectors=__webpack_require__("./libs/cdk/state/src/resource-registry/resource-registry.selectors.ts"),active_ftu_selectors=__webpack_require__("./libs/state/src/lib/active-ftu/active-ftu.selectors.ts"),tissue_library_selectors=__webpack_require__("./libs/state/src/lib/tissue-library/tissue-library.selectors.ts"),illustrator_selectors=__webpack_require__("./libs/state/src/lib/illustrator/illustrator.selectors.ts"),screen_mode_actions=__webpack_require__("./libs/state/src/lib/screen-mode/screen-mode.actions.ts");var gradient_legend_component_class,gradient_legend_componentngResource=__webpack_require__("./libs/components/atoms/src/lib/gradient-legend/gradient-legend.component.scss?ngResource"),gradient_legend_componentngResource_default=__webpack_require__.n(gradient_legend_componentngResource);let GradientLegendComponent=((gradient_legend_component_class=class GradientLegendComponent{constructor(){this.gradient=[]}get gradientCss(){return`linear-gradient(90deg, ${this.gradient.map((({color,percentage})=>`${color} ${percentage}%`)).join(",")})`}}).propDecorators={gradient:[{type:core.Input}]},gradient_legend_component_class);GradientLegendComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"hra-gradient-legend",standalone:!0,imports:[common.CommonModule],template:'<div class="gradient-bar" [style.background]="gradientCss"></div>\n<div class="legend">\n  <div class="start">0.0</div>\n  <div class="filler"></div>\n  <div class="end">1.0</div>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[gradient_legend_componentngResource_default()]})],GradientLegendComponent);var label_box_component=__webpack_require__("./libs/components/atoms/src/lib/label-box/label-box.component.ts");var size_legend_component_class,size_legend_componentngResource=__webpack_require__("./libs/components/atoms/src/lib/size-legend/size-legend.component.scss?ngResource"),size_legend_componentngResource_default=__webpack_require__.n(size_legend_componentngResource);let SizeLegendComponent=((size_legend_component_class=class SizeLegendComponent{constructor(){this.sizes=[]}}).propDecorators={sizes:[{type:core.Input}]},size_legend_component_class);SizeLegendComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"hra-size-legend",standalone:!0,imports:[common.CommonModule],template:'<div *ngFor="let text of sizes" class="item">\n  <div class="filler"></div>\n  <div class="circle" style="--size: {{ text.radius }}rem"></div>\n  <div class="filler"></div>\n  <div class="label">{{ text.label }}</div>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[size_legend_componentngResource_default()]})],SizeLegendComponent);var empty_biomarker_component_class,empty_biomarker_componentngResource=__webpack_require__("./libs/components/atoms/src/lib/empty-biomarker/empty-biomarker.component.scss?ngResource"),empty_biomarker_componentngResource_default=__webpack_require__.n(empty_biomarker_componentngResource),fesm2020_button=__webpack_require__("./node_modules/@angular/material/fesm2020/button.mjs"),ngx_markdown=__webpack_require__("./node_modules/ngx-markdown/fesm2020/ngx-markdown.mjs");let EmptyBiomarkerComponent=((empty_biomarker_component_class=class EmptyBiomarkerComponent{constructor(){this.collaborateText="",this.message="",this.collaborateClick=new core.EventEmitter}}).propDecorators={collaborateText:[{type:core.Input}],message:[{type:core.Input}],collaborateClick:[{type:core.Output}]},empty_biomarker_component_class);EmptyBiomarkerComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"hra-empty-biomarker",standalone:!0,imports:[common.CommonModule,fesm2020_button.ot,ngx_markdown.JP],template:'<markdown [data]="message" class="message"></markdown>\n<button mat-flat-button class="collaborate-button" color="primary" (click)="collaborateClick.emit($event)">\n  {{ collaborateText }}\n</button>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[empty_biomarker_componentngResource_default()]})],EmptyBiomarkerComponent);var biomarker_table_data_card_component_class,biomarker_table_data_card_componentngResource=__webpack_require__("./libs/components/molecules/src/lib/biomarker-table-data-card/biomarker-table-data-card.component.scss?ngResource"),biomarker_table_data_card_componentngResource_default=__webpack_require__.n(biomarker_table_data_card_componentngResource),table=__webpack_require__("./node_modules/@angular/material/fesm2020/table.mjs");let BiomarkerTableDataCardComponent=((biomarker_table_data_card_component_class=class BiomarkerTableDataCardComponent{constructor(){this.data=[],this.sectionItems=[]}ngOnChanges(changes){"data"in changes&&this.updateSectionItems()}updateSectionItems(){const newSectionItems=[];this.data.forEach(((section,sectionIndex)=>{section.forEach(((item,itemIndex)=>{newSectionItems.push({data:item,section:sectionIndex,isLastItem:itemIndex===section.length-1})}))})),this.sectionItems=newSectionItems}}).propDecorators={data:[{type:core.Input}]},biomarker_table_data_card_component_class);BiomarkerTableDataCardComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"hra-biomarker-table-data-card",standalone:!0,imports:[common.CommonModule,table.p0],template:'<div class="no-data" *ngIf="sectionItems.length === 0">No data</div>\n<table mat-table *ngIf="sectionItems.length > 0" [dataSource]="sectionItems">\n  <caption class="sr-only">\n    Biomarker Table Data Card\n  </caption>\n\n  \x3c!-- Label Column --\x3e\n  <ng-container matColumnDef="label">\n    <th class="sr-only" mat-header-cell *matHeaderCellDef>Item Label</th>\n    <td class="label" mat-cell *matCellDef="let element" [class.no-border]="!element.isLastItem">\n      {{ element.data.label }}\n    </td>\n  </ng-container>\n\n  \x3c!-- Value Column --\x3e\n  <ng-container matColumnDef="value">\n    <th class="sr-only" mat-header-cell *matHeaderCellDef>Item Value</th>\n    <td class="value" mat-cell *matCellDef="let element" [class.no-border]="!element.isLastItem">\n      {{ element.data.value }}\n    </td>\n  </ng-container>\n\n  <tr mat-row *matRowDef="let row; columns: [\'label\', \'value\']"></tr>\n</table>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[biomarker_table_data_card_componentngResource_default()]})],BiomarkerTableDataCardComponent);var source_list_component_class,source_list_componentngResource=__webpack_require__("./libs/components/molecules/src/lib/source-list/source-list.component.scss?ngResource"),source_list_componentngResource_default=__webpack_require__.n(source_list_componentngResource);let SourceListComponent=((source_list_component_class=class SourceListComponent{constructor(){this.sources=[],this.collaborateText="",this.message="",this.showTable=!0,this.collaborateClick=new core.EventEmitter}toggleTable(){this.showTable=!this.showTable}}).propDecorators={sources:[{type:core.Input}],collaborateText:[{type:core.Input}],message:[{type:core.Input}],collaborateClick:[{type:core.Output}]},source_list_component_class);SourceListComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"hra-source-list",standalone:!0,imports:[common.CommonModule,table.p0,icon.Ps,label_box_component.d,EmptyBiomarkerComponent],template:'<hra-label-box class="toggle" (click)="toggleTable()">\n  Source Data\n  <mat-icon class="end">\n    {{ showTable ? \'keyboard_arrow_down\' : \'keyboard_arrow_up\' }}\n  </mat-icon>\n</hra-label-box>\n\n<div class="table-content" [class.hidden]="!showTable">\n  <table *ngIf="sources.length !== 0" mat-table [dataSource]="sources">\n    <caption class="sr-only">\n      Source List Table with Title and Links\n    </caption>\n\n    \x3c!-- Position Column --\x3e\n    <ng-container matColumnDef="link">\n      <th class="sr-only" mat-header-cell *matHeaderCellDef>Item Number</th>\n      <td mat-cell *matCellDef="let element; let i = index">{{ i + 1 }}.</td>\n    </ng-container>\n\n    \x3c!-- Data Column --\x3e\n    <ng-container matColumnDef="title">\n      <th class="sr-only" mat-header-cell *matHeaderCellDef>Title and Link</th>\n      <td mat-cell *matCellDef="let element">\n        {{ element.title }}\n        <br />\n        <a [href]="element.link" target="_blank">{{ element.label }}</a>\n      </td>\n    </ng-container>\n\n    <tr mat-row *matRowDef="let row; columns: [\'link\', \'title\']"></tr>\n  </table>\n  <hra-empty-biomarker\n    *ngIf="sources.length === 0"\n    [collaborateText]="collaborateText"\n    [message]="message"\n    (collaborateClick)="collaborateClick.emit()"\n  ></hra-empty-biomarker>\n</div>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[source_list_componentngResource_default()]})],SourceListComponent);var biomarker_table_data_icon_component_class,biomarker_table_componentngResource=__webpack_require__("./libs/components/organisms/src/lib/biomarker-table/biomarker-table.component.scss?ngResource"),biomarker_table_componentngResource_default=__webpack_require__.n(biomarker_table_componentngResource),biomarker_table_data_icon_componentngResource=__webpack_require__("./libs/components/molecules/src/lib/biomarker-table-data-icon/biomarker-table-data-icon.component.scss?ngResource"),biomarker_table_data_icon_componentngResource_default=__webpack_require__.n(biomarker_table_data_icon_componentngResource);let BiomarkerTableDataIconComponent=((biomarker_table_data_icon_component_class=class BiomarkerTableDataIconComponent{constructor(){this.color="",this.size=0}}).propDecorators={color:[{type:core.HostBinding,args:["style.background-color"]},{type:core.Input}],size:[{type:core.HostBinding,args:["style.--radius.rem"]},{type:core.Input}]},biomarker_table_data_icon_component_class);var biomarker_table_component_class;BiomarkerTableDataIconComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"hra-biomarker-table-data-icon",standalone:!0,imports:[common.CommonModule],template:"",changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[biomarker_table_data_icon_componentngResource_default()]})],BiomarkerTableDataIconComponent);let BiomarkerTableComponent=((biomarker_table_component_class=class BiomarkerTableComponent{constructor(){this.tissueInfo={id:"",label:""},this.columns=[],this.data=[],this.gradient=[],this.sizes=[],this.hightlightedCellName="",this.dataSource=new table.by([])}get columnsWithTypeAndCount(){return["type","count",...this.columns]}ngOnChanges(changes){"data"in changes&&(this.dataSource.data=this.data)}lerp(value,min,max){return min*(1-value)+max*value}hex2rgb(hex){return[parseInt(hex.slice(1,3),16),parseInt(hex.slice(3,5),16),parseInt(hex.slice(5,7),16)]}getMinMaxColor(meanExpression){const index=this.gradient.findIndex(((item,i,arr)=>meanExpression>=item.percentage&&meanExpression<=arr[i+1]?.percentage));return{minColor:this.hex2rgb(this.gradient[index]?.color??this.gradient[0].color),maxColor:this.hex2rgb(this.gradient[index+1]?.color??this.gradient[this.gradient.length-1].color)}}getMinMaxSize(percentage){const index=this.sizes.findIndex(((item,i,arr)=>percentage>=parseFloat(item.label)/100&&percentage<=parseFloat(arr[i+1]?.label)/100));return{minSize:this.sizes[index]?.radius??this.sizes[0].radius,maxSize:this.sizes[index+1]?.radius??this.sizes[this.sizes.length-1].radius}}getColor(value){const{minColor,maxColor}=this.getMinMaxColor(value);return"#"+minColor.map(((min,index)=>this.lerp(value,min,maxColor[index]))).map((component=>Math.round(component).toString(16))).join("")}getSize(value){const{minSize,maxSize}=this.getMinMaxSize(value);return this.lerp(value,minSize,maxSize)}getHoverData([index,row]){if(void 0===row[index])return[];const{tissueInfo:{id,label}}=this,{data:{cell,biomarker,meanExpression,dataset_count}}=row[index];return[[{label:"Functional Tissue Unit Name",value:label},{label:"Uberon ID",value:id},{label:"#Datasets",value:`${dataset_count??0}`}],[{label:"Cell Type Name",value:row[0]},{label:"CL ID",value:cell},{label:"Number of Cells",value:`${row[1]}`}],[{label:"Gene Name",value:this.columns[index-2]},{label:"HGNC ID",value:biomarker},{label:"Mean Expression Value",value:meanExpression.toFixed(6)}]]}}).propDecorators={tissueInfo:[{type:core.Input}],columns:[{type:core.Input}],data:[{type:core.Input}],gradient:[{type:core.Input}],sizes:[{type:core.Input}],hightlightedCellName:[{type:core.Input}]},biomarker_table_component_class);BiomarkerTableComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"hra-biomarker-table",standalone:!0,imports:[common.CommonModule,table.p0,BiomarkerTableDataIconComponent,HoverDirective,BiomarkerTableDataCardComponent],template:'<table class="table" mat-table [dataSource]="dataSource">\n  <caption class="sr-only">\n    Cell type table by Biomarker\n  </caption>\n\n  <ng-container matColumnDef="type">\n    <th mat-header-cell *matHeaderCellDef>Cell Type</th>\n\n    <td class="type" [class.highlight]="element[0] === hightlightedCellName" mat-cell *matCellDef="let element">\n      {{ element[0] }}\n    </td>\n  </ng-container>\n\n  <ng-container matColumnDef="count">\n    <th class="count" mat-header-cell *matHeaderCellDef>Cell Count</th>\n\n    <td class="count" mat-cell *matCellDef="let element" [class.highlight]="element[0] === hightlightedCellName">\n      {{ element[1] !== undefined ? (element[1] | number) : \'no data\' }}\n    </td>\n  </ng-container>\n\n  <ng-container *ngFor="let column of columns; let index = index" [matColumnDef]="column">\n    <th class="icon-header" mat-header-cell *matHeaderCellDef [hraHover]="columnHover" [hraHoverData]="column">\n      {{ column }}\n    </th>\n\n    <td [class.highlight]="element[0] === hightlightedCellName" class="icon-cell" mat-cell *matCellDef="let element">\n      <hra-biomarker-table-data-icon\n        class="icon"\n        *ngIf="element[index + 2] !== undefined; else emptyCell"\n        [color]="getColor(element[index + 2].color)"\n        [size]="getSize(element[index + 2].size)"\n        [hraHover]="dataHover"\n        [hraHoverData]="[index + 2, element]"\n      >\n      </hra-biomarker-table-data-icon>\n\n      <ng-template #emptyCell>\n        <div class="empty" [hraHover]="dataHover" [hraHoverData]="[index + 2, element]"></div>\n      </ng-template>\n    </td>\n  </ng-container>\n\n  <tr mat-header-row *matHeaderRowDef="columnsWithTypeAndCount"></tr>\n  <tr mat-row *matRowDef="let row; columns: columnsWithTypeAndCount"></tr>\n</table>\n\n<ng-template #columnHover let-columnName>\n  <div class="biomarker-table-hover full-column-name">\n    {{ columnName }}\n  </div>\n</ng-template>\n\n<ng-template #dataHover let-data>\n  <hra-biomarker-table-data-card [data]="getHoverData(data)"> </hra-biomarker-table-data-card>\n</ng-template>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[biomarker_table_componentngResource_default()]})],BiomarkerTableComponent);var ngxs_store=__webpack_require__("./node_modules/@ngxs/store/fesm2015/ngxs-store.js"),cell_summary_state=__webpack_require__("./libs/state/src/lib/cell-summary/cell-summary.state.ts");class CellSummarySelectors{static aggregates(state){return state.aggregates}static summaries(state){return state.summaries}}(0,tslib_es6.gn)([(0,ngxs_store.Qf)([cell_summary_state.x]),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object]),(0,tslib_es6.w6)("design:returntype",Array)],CellSummarySelectors,"aggregates",null),(0,tslib_es6.gn)([(0,ngxs_store.Qf)([cell_summary_state.x]),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object]),(0,tslib_es6.w6)("design:returntype",Array)],CellSummarySelectors,"summaries",null);var resource_ids=__webpack_require__("./libs/state/src/lib/resource-ids.ts"),resource_types=__webpack_require__("./libs/state/src/lib/resource-types.ts");class SourceRefsSelectors{static sourceReferences(refs){return refs}}(0,tslib_es6.gn)([(0,ngxs_store.Qf)([source_refs_state.b]),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Array]),(0,tslib_es6.w6)("design:returntype",Array)],SourceRefsSelectors,"sourceReferences",null);var dialog=__webpack_require__("./node_modules/@angular/material/fesm2020/dialog.mjs"),contact_behavior_component=__webpack_require__("./libs/components/behavioral/src/lib/contact-behavior/contact-behavior.component.ts");const EMPTY_TISSUE_INFO={id:"",label:""};let BiomarkerDetailsComponent=class BiomarkerDetailsComponent{constructor(){this.tabs=(0,select_snapshot.g)(CellSummarySelectors.aggregates),this.gradientHoverInfo=(0,select_snapshot.w)(resource_registry_selectors.S.anyText,resource_ids.IO),this.sizeHoverInfo=(0,select_snapshot.w)(resource_registry_selectors.S.anyText,resource_ids.Z9),this.isTableFullScreen=!1,this.gradients=(0,select_snapshot.w)(resource_registry_selectors.S.field,resource_ids.Aq,resource_types.ph,"points",[]),this.sizes=(0,select_snapshot.w)(resource_registry_selectors.S.field,resource_ids.MO,resource_types.$u,"sizes",[]),this.source=(0,select_snapshot.g)(SourceRefsSelectors.sourceReferences),this.iri=(0,select_snapshot.g)(active_ftu_selectors.K.iri),this.tissues=(0,select_snapshot.g)(tissue_library_selectors.N.tissues),this.selectedOnHovered=(0,select_snapshot.g)(illustrator_selectors.b.selectedOnHovered),this.collaborateText="Collaborate with the HRA Team",this.message="We currently do not have cell type data for this biomarker.\n  <br><br> Please contact us to discuss your dataset.",this.setScreenMode=(0,dispatch.WI)(screen_mode_actions.l),this.dialog=(0,core.inject)(dialog.uw)}get tissueInfo(){const iri=this.iri(),tissues=this.tissues();if(void 0===iri)return EMPTY_TISSUE_INFO;const{id,label}=tissues[iri];return{id,label}}toggleFullscreen(){this.isTableFullScreen=!this.isTableFullScreen,this.setScreenMode(this.isTableFullScreen)}collaborate(){const dialogConfig=new dialog.vA;dialogConfig.disableClose=!0,this.dialog.open(contact_behavior_component.Q,dialogConfig)}};function createDataItem(label,value){return{label,value}}BiomarkerDetailsComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"ftu-biomarker-details",standalone:!0,imports:[common.CommonModule,icon.Ps,tabs.Nh,dialog.Is,BiomarkerTableComponent,BiomarkerTableDataCardComponent,GradientLegendComponent,HoverDirective,label_box_component.d,SizeLegendComponent,SourceListComponent,EmptyBiomarkerComponent],template:'<hra-label-box class="table-header">\n  Cell Types by Gene Biomarkers\n  <span (click)="toggleFullscreen()" class="end material-symbols-outlined cursor">\n    {{ isTableFullScreen ? \'close_fullscreen\' : \'open_in_full\' }}\n  </span>\n</hra-label-box>\n\n<mat-tab-group class="table" [class.table-fullscreen]="isTableFullScreen" mat-stretch-tabs="true" color="accent">\n  <mat-tab *ngFor="let tab of tabs()" labelClass="table-tab-header" [label]="tab.label">\n    <hra-biomarker-table\n      *ngIf="tab.rows.length !== 0"\n      [data]="$any(tab.rows)"\n      [columns]="tab.columns"\n      [gradient]="gradients()"\n      [sizes]="sizes()"\n      [tissueInfo]="tissueInfo"\n      [hightlightedCellName]="selectedOnHovered()?.label ?? \'\'"\n    ></hra-biomarker-table>\n    <hra-empty-biomarker\n      *ngIf="tab.rows.length === 0"\n      [collaborateText]="collaborateText"\n      [message]="message"\n      (collaborateClick)="collaborate()"\n    ></hra-empty-biomarker>\n  </mat-tab>\n</mat-tab-group>\n\n<hra-label-box class="legend-header gradient">\n  Biomarker Expression Mean in FTU\n  <mat-icon class="icon" [hraHover]="infoTooltip" [hraHoverData]="gradientHoverInfo()">info_outlined</mat-icon>\n</hra-label-box>\n<div class="legend gradient">\n  <hra-gradient-legend [gradient]="gradients()" class="content"></hra-gradient-legend>\n</div>\n\n<hra-label-box class="legend-header size">\n  Percentage of Cells in FTU\n  <mat-icon class="icon" [hraHover]="infoTooltip" [hraHoverData]="sizeHoverInfo()">info_outlined</mat-icon>\n</hra-label-box>\n<div class="legend size">\n  <hra-size-legend [sizes]="sizes()" class="content"></hra-size-legend>\n</div>\n\n<div class="source-list">\n  <hra-source-list\n    [collaborateText]="collaborateText"\n    [message]="message"\n    (collaborateClick)="collaborate()"\n    [sources]="source()"\n    class="content"\n  ></hra-source-list>\n</div>\n\n<ng-template #infoTooltip let-tooltip>\n  <div class="biomarker-details info-tooltip">\n    {{ tooltip }}\n  </div>\n</ng-template>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[biomarker_details_componentngResource_default()]})],BiomarkerDetailsComponent);const biomarker_details_component_stories={title:"BiomarkerDetailsComponent",component:BiomarkerDetailsComponent,parameters:{state:{states:[resource_registry_state.E,source_refs_state.b],actions:[new resource_registry_actions.AU("assets/resources/gradient.yml"),new resource_registry_actions.AU("assets/resources/size.yml")]}},decorators:[(0,dist.moduleMetadata)({imports:[icon.Ps]})]},Primary=(args=>({props:args})).bind({});Primary.args={},createDataItem.parameters={...createDataItem.parameters,docs:{...createDataItem.parameters?.docs,source:{originalSource:"function createDataItem(label, value) {\n  return {\n    label,\n    value\n  };\n}",...createDataItem.parameters?.docs?.source}}},Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"args => ({\n  props: args\n})",...Primary.parameters?.docs?.source}}}}}]);