<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>asctb-reporter</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avaoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);

               if ($darkModeToggles.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-block d-sm-none">
            <a href="../" class="navbar-brand">asctb-reporter</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content interface">
                   <div class="content-data">













<ol class="breadcrumb">
  <li class="breadcrumb-item">Interfaces</li>
  <li class="breadcrumb-item"
  >
  TreeStateModel</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/store/tree.state.ts</code>
        </p>


            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>Class to keep track of all data and events related to the visualization</p>

            </p>


        <section data-compodoc="block-index">
            <h3 id="index">Index</h3>
            <table class="table table-sm table-bordered index-table">
                <tbody>
                    <tr>
                        <td class="col-md-4">
                            <h6><b>Properties</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                        <a href="#bimodal" 
>
                                            bimodal
                                        </a>
                                </li>
                                <li>
                                        <a href="#bottomSheetData" 
>
                                            bottomSheetData
                                        </a>
                                </li>
                                <li>
                                        <a href="#discrepencyId" 
>
                                            discrepencyId
                                        </a>
                                </li>
                                <li>
                                        <a href="#discrepencyLabel" 
>
                                            discrepencyLabel
                                        </a>
                                </li>
                                <li>
                                        <a href="#duplicateId" 
>
                                            duplicateId
                                        </a>
                                </li>
                                <li>
                                        <a href="#height" 
>
                                            height
                                        </a>
                                </li>
                                <li>
                                        <a href="#lastSearch" 
>
                                            lastSearch
                                        </a>
                                </li>
                                <li>
                                        <a href="#links" 
>
                                            links
                                        </a>
                                </li>
                                <li>
                                        <a href="#omapConfig" 
>
                                            omapConfig
                                        </a>
                                </li>
                                <li>
                                        <a href="#search" 
>
                                            search
                                        </a>
                                </li>
                                <li>
                                        <a href="#spec" 
>
                                            spec
                                        </a>
                                </li>
                                <li>
                                        <a href="#treeData" 
>
                                            treeData
                                        </a>
                                </li>
                                <li>
                                        <a href="#view" 
>
                                            view
                                        </a>
                                </li>
                                <li>
                                        <a href="#width" 
>
                                            width
                                        </a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>



            <section data-compodoc="block-properties">
                <h3 id="inputs">Properties</h3>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="bimodal"></a>
                                        <span class="name "><b>bimodal</b>
                                            <a href="#bimodal">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>bimodal:     <code>literal type</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>literal type</code>

                                        </td>
                                    </tr>





                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>Store bimodal data - nodes, links and config (for sorting and sizing)</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="bottomSheetData"></a>
                                        <span class="name "><b>bottomSheetData</b>
                                            <a href="#bottomSheetData">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>bottomSheetData:     <code>Record&lt;string | never&gt;</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>Record&lt;string | never&gt;</code>

                                        </td>
                                    </tr>





                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>Store data for the bottom sheet to display information</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="discrepencyId"></a>
                                        <span class="name "><b>discrepencyId</b>
                                            <a href="#discrepencyId">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>discrepencyId:     <code>DiscrepencyStructure[]</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>DiscrepencyStructure[]</code>

                                        </td>
                                    </tr>





                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>Store the discrepency id data</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="discrepencyLabel"></a>
                                        <span class="name "><b>discrepencyLabel</b>
                                            <a href="#discrepencyLabel">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>discrepencyLabel:     <code>DiscrepencyStructure[]</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>DiscrepencyStructure[]</code>

                                        </td>
                                    </tr>





                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>Store the discrepency label data</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="duplicateId"></a>
                                        <span class="name "><b>duplicateId</b>
                                            <a href="#duplicateId">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>duplicateId:     <code>DiscrepencyStructure[]</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>DiscrepencyStructure[]</code>

                                        </td>
                                    </tr>





                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>Store the discrepency id data</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="height"></a>
                                        <span class="name "><b>height</b>
                                            <a href="#height">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>height:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>Store the height of the visualization</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="lastSearch"></a>
                                        <span class="name "><b>lastSearch</b>
                                            <a href="#lastSearch">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>lastSearch:         <code><a href="../interfaces/SearchStructure.html" target="_self" >SearchStructure</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="../interfaces/SearchStructure.html" target="_self" >SearchStructure</a></code>

                                        </td>
                                    </tr>





                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>Store the last clicked node in the search field</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="links"></a>
                                        <span class="name "><b>links</b>
                                            <a href="#links">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>links:     <code>literal type</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>literal type</code>

                                        </td>
                                    </tr>





                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>Store data of links between nodes to show in the report</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="omapConfig"></a>
                                        <span class="name "><b>omapConfig</b>
                                            <a href="#omapConfig">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>omapConfig:         <code><a href="../interfaces/OmapConfig.html" target="_self" >OmapConfig</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="../interfaces/OmapConfig.html" target="_self" >OmapConfig</a></code>

                                        </td>
                                    </tr>





                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>Store the OMAP Config</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="search"></a>
                                        <span class="name "><b>search</b>
                                            <a href="#search">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>search:     <code>SearchStructure[]</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>SearchStructure[]</code>

                                        </td>
                                    </tr>





                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>Store the search data</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="spec"></a>
                                        <span class="name "><b>spec</b>
                                            <a href="#spec">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>spec:     <code>Spec</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>Spec</code>

                                        </td>
                                    </tr>





                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>Stores the Vega Specification</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="treeData"></a>
                                        <span class="name "><b>treeData</b>
                                            <a href="#treeData">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>treeData:         <code><a href="../interfaces/Node.html" target="_self" >TNode[]</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="../interfaces/Node.html" target="_self" >TNode[]</a></code>

                                        </td>
                                    </tr>





                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>Store the data from the Tree</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="view"></a>
                                        <span class="name "><b>view</b>
                                            <a href="#view">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>view:     <code>View</code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>    <code>View</code>

                                        </td>
                                    </tr>





                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>Store the Vega view object which enables us to use the Vega API</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-sm table-bordered">
                        <tbody>
                                <tr>
                                    <td class="col-md-4">
                                        <a name="width"></a>
                                        <span class="name "><b>width</b>
                                            <a href="#width">
                                                <span class="icon ion-ios-link"></span>
                                            </a>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="col-md-4">
                                        <code>width:         <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
</code>
                                    </td>
                                </tr>


                                    <tr>
                                        <td class="col-md-4">
                                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                                        </td>
                                    </tr>





                            <tr>
                                <td class="col-md-4">
                                    <div class="io-description"><p>Store the width of the visualization</p>
</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
            </section>
    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable } from &#x27;@angular/core&#x27;;
import { Action, Selector, State, StateContext } from &#x27;@ngxs/store&#x27;;
import { Spec, View } from &#x27;vega&#x27;;
import {
  DiscrepencyId,
  DiscrepencyLabel,
  DoSearch,
  DuplicateId,
  UpdateBimodal,
  UpdateBimodalConfig,
  UpdateBottomSheetData,
  UpdateLinksData,
  UpdateOmapConfig,
  UpdateVegaSpec,
  UpdateVegaView,
} from &#x27;../actions/tree.actions&#x27;;
import { BMNode, BimodalConfig, Link } from &#x27;../models/bimodal.model&#x27;;
import { OmapConfig } from &#x27;../models/omap.model&#x27;;
import { DiscrepencyStructure, SearchStructure, TNode } from &#x27;../models/tree.model&#x27;;

/** Class to keep track of all data and events related to the visualization */
export interface TreeStateModel {
  /**
   * Stores the Vega Specification
   */
  spec: Spec;
  /**
   * Store the data from the Tree
   */
  treeData: TNode[];
  /**
   * Store the Vega view object which enables us to use the Vega API
   */
  view: View;
  /**
   * Store the width of the visualization
   */
  width: number;
  /**
   * Store the height of the visualization
   */
  height: number;
  /**
   * Store bimodal data - nodes, links and config (for sorting and sizing)
   */
  bimodal: {
    nodes: BMNode[];
    links: Link[];
    config: BimodalConfig;
  };
  /**
   * Store the search data
   */
  search: SearchStructure[];
  /**
   * Store the last clicked node in the search field
   */
  lastSearch: SearchStructure;
  /**
   * Store data for the bottom sheet to display information
   */
  bottomSheetData: Record&lt;string, never&gt;;
  /**
   * Store data of links between nodes to show in the report
   */
  links: {
    AS_CT: number;
    CT_B: number;
    AS_AS: number;
    AS_CT_organWise: Record&lt;string, number&gt;;
    CT_B_organWise: Record&lt;string, number&gt;;
    AS_AS_organWise: Record&lt;string, number&gt;;
  };
  /**
   * Store the discrepency label data
   */
  discrepencyLabel: DiscrepencyStructure[];
  /**
   * Store the discrepency id data
   */
  discrepencyId: DiscrepencyStructure[];
  /**
   * Store the discrepency id data
   */
  duplicateId: DiscrepencyStructure[];
  /**
   * Store the OMAP Config
   */
  omapConfig: OmapConfig;
}

@State&lt;TreeStateModel&gt;({
  name: &#x27;treeState&#x27;,
  defaults: {
    spec: {},
    treeData: [],
    view: {} as View,
    width: 0,
    height: document.getElementsByTagName(&#x27;body&#x27;)[0].clientHeight,
    bimodal: {
      nodes: [],
      links: [],
      config: {
        BM: { sort: &#x27;Alphabetically&#x27;, size: &#x27;None&#x27;, type: &#x27;All&#x27; },
        CT: { sort: &#x27;Alphabetically&#x27;, size: &#x27;None&#x27; },
      },
    },
    search: [],
    lastSearch: null as unknown as SearchStructure,
    bottomSheetData: {},
    links: {
      AS_CT: 0,
      CT_B: 0,
      AS_AS: 0,
      AS_CT_organWise: {},
      CT_B_organWise: {},
      AS_AS_organWise: {},
    },
    discrepencyLabel: [],
    discrepencyId: [],
    duplicateId: [],
    omapConfig: { organsOnly: false, proteinsOnly: false },
  },
})
@Injectable()
export class TreeState {
  /**
   * Select the bimodal config (for sorting and sizing)
   */
  @Selector()
  static getBiomarkerType(state: TreeStateModel) {
    return state.bimodal.config.BM.type;
  }

  /**
   * Select the bimodal config (for sorting and sizing)
   */
  @Selector()
  static getBimodalConfig(state: TreeStateModel) {
    return state.bimodal.config;
  }

  /**
   * Select the vega specification
   */
  @Selector()
  static getVegaSpec(state: TreeStateModel) {
    return state.spec;
  }

  /**
   * Select the tree data (only anatomical structures)
   */
  @Selector()
  static getTreeData(state: TreeStateModel) {
    return state.treeData;
  }

  /**
   * Select the Vega View to use the Vega View API
   */
  @Selector()
  static getVegaView(state: TreeStateModel) {
    return state.view;
  }

  /**
   * Select the bimodal data. Contains the nodes, links and the bimodal config
   */
  @Selector()
  static getBimodal(state: TreeStateModel) {
    return state.bimodal;
  }

  /**
   * Select the bottom sheet data
   */
  @Selector()
  static getBottomSheetData(state: TreeStateModel) {
    return state.bottomSheetData;
  }

  /**
   * Select the links data to show in the report
   */
  @Selector()
  static getLinksData(state: TreeStateModel) {
    return state.links;
  }

  /**
   * Select the most recently chosen search option
   */
  @Selector()
  static getLatestSearchStructure(state: TreeStateModel) {
    return state.lastSearch;
  }

  /**
   * Select the config for OMAPS
   */
  @Selector()
  static getOmapConfig(state: TreeStateModel) {
    return state.omapConfig;
  }

  /**
   * Updates the bimodal data
   */
  @Action(UpdateBimodal)
  updateBimodal({ getState, setState }: StateContext&lt;TreeStateModel&gt;, { nodes, links }: UpdateBimodal) {
    const state &#x3D; getState();
    setState({
      ...state,
      bimodal: { nodes, links, config: state.bimodal.config },
    });
  }

  /**
   * Updates the vega view
   * Updates the tree data with the anatomical structures
   * Updates the width of the visualization
   */
  @Action(UpdateVegaView)
  updateVegaView({ patchState }: StateContext&lt;TreeStateModel&gt;, { view }: UpdateVegaView) {
    patchState({
      view,
      treeData: view.data(&#x27;tree&#x27;),
      width: view._viewWidth,
    });
  }

  /**
   * Updates te vega spec
   */
  @Action(UpdateVegaSpec)
  updateVegaSpec({ setState, getState }: StateContext&lt;TreeStateModel&gt;, { spec }: UpdateVegaSpec) {
    const state &#x3D; getState();
    setState({
      ...state,
      spec,
    });
  }

  /**
   * Updates the bimodal config
   */
  @Action(UpdateBimodalConfig)
  updateBimodalConfig({ getState, setState }: StateContext&lt;TreeStateModel&gt;, { config }: UpdateBimodalConfig) {
    const state &#x3D; getState();
    const nodes &#x3D; state.bimodal.nodes;
    const links &#x3D; state.bimodal.links;

    setState({
      ...state,
      bimodal: {
        nodes,
        links,
        config,
      },
    });
  }

  @Action(UpdateOmapConfig)
  updateOmapConfig({ getState, setState }: StateContext&lt;TreeStateModel&gt;, { config }: UpdateOmapConfig) {
    setState({
      ...getState(),
      omapConfig: config,
    });
  }

  /**
   * Updates the search list
   */
  @Action(DoSearch)
  doSearch(
    { getState, setState }: StateContext&lt;TreeStateModel&gt;,
    { searchStructures, lastClickedOption: lastClickedStructure }: DoSearch,
  ) {
    const state &#x3D; getState();
    setState({
      ...state,
      search: searchStructures,
      lastSearch: lastClickedStructure,
    });
  }

  /**
   * Updates the discrepency labels list
   */
  @Action(DiscrepencyLabel)
  discrepencyLabel({ getState, setState }: StateContext&lt;TreeStateModel&gt;, { discrepencyStructures }: DiscrepencyLabel) {
    const state &#x3D; getState();
    setState({
      ...state,
      discrepencyLabel: discrepencyStructures,
    });
  }

  /**
   * Updates the discrepency ids list
   */
  @Action(DiscrepencyId)
  discrepencyId({ getState, setState }: StateContext&lt;TreeStateModel&gt;, { discrepencyStructures }: DiscrepencyLabel) {
    const state &#x3D; getState();
    setState({
      ...state,
      discrepencyId: discrepencyStructures,
    });
  }

  /**
   * Updates the duplicate ids list
   */
  @Action(DuplicateId)
  duplicateId({ getState, setState }: StateContext&lt;TreeStateModel&gt;, { discrepencyStructures }: DiscrepencyLabel) {
    const state &#x3D; getState();
    setState({
      ...state,
      duplicateId: discrepencyStructures,
    });
  }

  /**
   * Updates the bottom sheet data
   */
  @Action(UpdateBottomSheetData)
  updateBottomSheetData({ getState, setState }: StateContext&lt;TreeStateModel&gt;, { data }: UpdateBottomSheetData) {
    const state &#x3D; getState();
    setState({
      ...state,
      bottomSheetData: data,
    });
  }

  /**
   * Updates the links data that is displayed in the report
   */
  @Action(UpdateLinksData)
  updateLinksData(
    { getState, setState }: StateContext&lt;TreeStateModel&gt;,
    { AS_CT, CT_B, AS_CT_organWise, CT_B_organWise, AS_AS, AS_AS_organWise, allOrgans }: UpdateLinksData,
  ) {
    const state &#x3D; getState();
    if (AS_AS) {
      setState({
        ...state,
        links: { ...state.links, AS_AS },
      });
    } else if (AS_AS_organWise) {
      setState({
        ...state,
        links: {
          ...state.links,
          AS_AS_organWise: {
            ...state.links.AS_AS_organWise,
            ...AS_AS_organWise,
          },
        },
      });
    } else {
      setState({
        ...state,
        links: {
          AS_CT: allOrgans ? state.links.AS_CT : AS_CT,
          CT_B: allOrgans ? state.links.CT_B : CT_B,
          CT_B_organWise: { ...state.links.CT_B_organWise, ...CT_B_organWise },
          AS_CT_organWise: {
            ...state.links.AS_CT_organWise,
            ...AS_CT_organWise,
          },
          AS_AS: state.links.AS_AS,
          AS_AS_organWise: state.links.AS_AS_organWise,
        },
      });
    }
  }
}
</code></pre>
    </div>
</div>








                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'interface';
            var COMPODOC_CURRENT_PAGE_URL = 'TreeStateModel.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
