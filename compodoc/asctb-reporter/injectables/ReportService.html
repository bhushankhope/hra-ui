<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>asctb-reporter</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avaoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);

               if ($darkModeToggles.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-block d-sm-none">
            <a href="../" class="navbar-brand">asctb-reporter</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >ReportService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/app/components/report/report.service.ts</code>
        </p>





            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#BM_TYPE" >BM_TYPE</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#compareData$" >compareData$</a>
                            </li>
                            <li>
                                    <span class="modifier">Readonly</span>
                                <a href="#reportData$" >reportData$</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#compareASData" >compareASData</a>
                            </li>
                            <li>
                                <a href="#compareBData" >compareBData</a>
                            </li>
                            <li>
                                <a href="#compareCTData" >compareCTData</a>
                            </li>
                            <li>
                                <a href="#countOrganWise" >countOrganWise</a>
                            </li>
                            <li>
                                <a href="#countSeperateBiomarkers" >countSeperateBiomarkers</a>
                            </li>
                            <li>
                                <a href="#countsGA" >countsGA</a>
                            </li>
                            <li>
                                <a href="#findIdenticalBmCtLinks" >findIdenticalBmCtLinks</a>
                            </li>
                            <li>
                                <a href="#getASWithNoCT" >getASWithNoCT</a>
                            </li>
                            <li>
                                <a href="#getASWithNoLink" >getASWithNoLink</a>
                            </li>
                            <li>
                                <a href="#getBMWithNoLink" >getBMWithNoLink</a>
                            </li>
                            <li>
                                <a href="#getCTWithNoLink" >getCTWithNoLink</a>
                            </li>
                            <li>
                                <a href="#makeAllOrganReportDataByOrgan" >makeAllOrganReportDataByOrgan</a>
                            </li>
                            <li>
                                <a href="#makeAllOrganReportDataCountsByOrgan" >makeAllOrganReportDataCountsByOrgan</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#makeCompareData" >makeCompareData</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#makeReportData" >makeReportData</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>


            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="compareASData"></a>
                    <span class="name">
                        <span ><b>compareASData</b></span>
                        <a href="#compareASData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>compareASData(reportdata: <a href="../interfaces/Report.html" target="_self">Report</a>, compareData: <a href="../interfaces/Row.html" target="_self">Row[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="242"
                                    class="link-to-prism">src/app/components/report/report.service.ts:242</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>reportdata</td>
                                            <td>
                                                            <code><a href="../interfaces/Report.html" target="_self" >Report</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>compareData</td>
                                            <td>
                                                            <code><a href="../interfaces/Row.html" target="_self" >Row[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>{ identicalStructuresAS: {}; newStructuresAS: {}; }</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="compareBData"></a>
                    <span class="name">
                        <span ><b>compareBData</b></span>
                        <a href="#compareBData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>compareBData(reportdata: <a href="../interfaces/Report.html" target="_self">Report</a>, compareData: <a href="../interfaces/Row.html" target="_self">Row[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="306"
                                    class="link-to-prism">src/app/components/report/report.service.ts:306</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>reportdata</td>
                                            <td>
                                                            <code><a href="../interfaces/Report.html" target="_self" >Report</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>compareData</td>
                                            <td>
                                                            <code><a href="../interfaces/Row.html" target="_self" >Row[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>{ identicalStructuresB: {}; newStructuresB: {}; identicalBM: {}; }</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="compareCTData"></a>
                    <span class="name">
                        <span ><b>compareCTData</b></span>
                        <a href="#compareCTData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>compareCTData(reportdata: <a href="../interfaces/Report.html" target="_self">Report</a>, compareData: <a href="../interfaces/Row.html" target="_self">Row[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="274"
                                    class="link-to-prism">src/app/components/report/report.service.ts:274</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>reportdata</td>
                                            <td>
                                                            <code><a href="../interfaces/Report.html" target="_self" >Report</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>compareData</td>
                                            <td>
                                                            <code><a href="../interfaces/Row.html" target="_self" >Row[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>{ identicalStructuresCT: {}; newStructuresCT: {}; }</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="countOrganWise"></a>
                    <span class="name">
                        <span ><b>countOrganWise</b></span>
                        <a href="#countOrganWise"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>countOrganWise(acc: any[], curr: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, type: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="71"
                                    class="link-to-prism">src/app/components/report/report.service.ts:71</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>acc</td>
                                            <td>
                                                        <code>any[]</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>curr</td>
                                            <td>
                                                            <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>type</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>any[]</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="countSeperateBiomarkers"></a>
                    <span class="name">
                        <span ><b>countSeperateBiomarkers</b></span>
                        <a href="#countSeperateBiomarkers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>countSeperateBiomarkers(biomarkers: <a href="../interfaces/B.html" target="_self">B[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="82"
                                    class="link-to-prism">src/app/components/report/report.service.ts:82</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>biomarkers</td>
                                            <td>
                                                            <code><a href="../interfaces/B.html" target="_self" >B[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="countsGA"></a>
                    <span class="name">
                        <span ><b>countsGA</b></span>
                        <a href="#countsGA"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>countsGA(data: <a href="../interfaces/Row.html" target="_self">Row[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="58"
                                    class="link-to-prism">src/app/components/report/report.service.ts:58</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="../interfaces/Row.html" target="_self" >Row[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>{ AS: number; CT: number; B: number; }</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findIdenticalBmCtLinks"></a>
                    <span class="name">
                        <span ><b>findIdenticalBmCtLinks</b></span>
                        <a href="#findIdenticalBmCtLinks"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>findIdenticalBmCtLinks(compareB: <a href="../interfaces/B.html" target="_self">B</a>, mainBData: <a href="../interfaces/B.html" target="_self">B[]</a>, reportData: <a href="../interfaces/Report.html" target="_self">Report</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="340"
                                    class="link-to-prism">src/app/components/report/report.service.ts:340</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>compareB</td>
                                            <td>
                                                            <code><a href="../interfaces/B.html" target="_self" >B</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>mainBData</td>
                                            <td>
                                                            <code><a href="../interfaces/B.html" target="_self" >B[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>reportData</td>
                                            <td>
                                                            <code><a href="../interfaces/Report.html" target="_self" >Report</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getASWithNoCT"></a>
                    <span class="name">
                        <span ><b>getASWithNoCT</b></span>
                        <a href="#getASWithNoCT"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getASWithNoCT(data: <a href="../interfaces/Row.html" target="_self">Row[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="390"
                                    class="link-to-prism">src/app/components/report/report.service.ts:390</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="../interfaces/Row.html" target="_self" >Row[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>{ asWithNoCT: {}; ctWithNoB: {}; }</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getASWithNoLink"></a>
                    <span class="name">
                        <span ><b>getASWithNoLink</b></span>
                        <a href="#getASWithNoLink"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getASWithNoLink(anatomicalStructures: <a href="../interfaces/AS.html" target="_self">AS[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="361"
                                    class="link-to-prism">src/app/components/report/report.service.ts:361</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>anatomicalStructures</td>
                                            <td>
                                                            <code><a href="../interfaces/AS.html" target="_self" >AS[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>{}</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getBMWithNoLink"></a>
                    <span class="name">
                        <span ><b>getBMWithNoLink</b></span>
                        <a href="#getBMWithNoLink"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getBMWithNoLink(biomarkers: <a href="../interfaces/B.html" target="_self">B[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="380"
                                    class="link-to-prism">src/app/components/report/report.service.ts:380</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>biomarkers</td>
                                            <td>
                                                            <code><a href="../interfaces/B.html" target="_self" >B[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>{}</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCTWithNoLink"></a>
                    <span class="name">
                        <span ><b>getCTWithNoLink</b></span>
                        <a href="#getCTWithNoLink"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getCTWithNoLink(cellTypes: <a href="../interfaces/CT.html" target="_self">CT[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="371"
                                    class="link-to-prism">src/app/components/report/report.service.ts:371</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>cellTypes</td>
                                            <td>
                                                            <code><a href="../interfaces/CT.html" target="_self" >CT[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>{}</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="makeAllOrganReportDataByOrgan"></a>
                    <span class="name">
                        <span ><b>makeAllOrganReportDataByOrgan</b></span>
                        <a href="#makeAllOrganReportDataByOrgan"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>makeAllOrganReportDataByOrgan(sheetData: <a href="../interfaces/Row.html" target="_self">Row[]</a>, asFullData: <a href="../interfaces/Row.html" target="_self">Row[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="99"
                                    class="link-to-prism">src/app/components/report/report.service.ts:99</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>sheetData</td>
                                            <td>
                                                            <code><a href="../interfaces/Row.html" target="_self" >Row[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>asFullData</td>
                                            <td>
                                                            <code><a href="../interfaces/Row.html" target="_self" >Row[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/Report.html" target="_self" >{ result: Report; biomarkersSeperateNames: {}; }</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="makeAllOrganReportDataCountsByOrgan"></a>
                    <span class="name">
                        <span ><b>makeAllOrganReportDataCountsByOrgan</b></span>
                        <a href="#makeAllOrganReportDataCountsByOrgan"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>makeAllOrganReportDataCountsByOrgan(data: <a href="../interfaces/Report.html" target="_self">Report</a>, linksByOrgan: <a href="../interfaces/LinksASCTBData.html" target="_self">LinksASCTBData</a>, tableVersion: Map<string | string>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="164"
                                    class="link-to-prism">src/app/components/report/report.service.ts:164</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="../interfaces/Report.html" target="_self" >Report</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>linksByOrgan</td>
                                            <td>
                                                            <code><a href="../interfaces/LinksASCTBData.html" target="_self" >LinksASCTBData</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>tableVersion</td>
                                            <td>
                                                        <code>Map&lt;string | string&gt;</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>{}</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="makeCompareData"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>makeCompareData</b></span>
                        <a href="#makeCompareData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>makeCompareData(reportdata: <a href="../interfaces/Report.html" target="_self">Report</a>, compareData: <a href="../interfaces/Row.html" target="_self">Row[]</a>, compareSheets: <a href="../interfaces/CompareData.html" target="_self">CompareData[]</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="202"
                                    class="link-to-prism">src/app/components/report/report.service.ts:202</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>reportdata</td>
                                            <td>
                                                            <code><a href="../interfaces/Report.html" target="_self" >Report</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>compareData</td>
                                            <td>
                                                            <code><a href="../interfaces/Row.html" target="_self" >Row[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>compareSheets</td>
                                            <td>
                                                            <code><a href="../interfaces/CompareData.html" target="_self" >CompareData[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="makeReportData"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>makeReportData</b></span>
                        <a href="#makeReportData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>makeReportData(currentSheet: <a href="../interfaces/Sheet.html" target="_self">Sheet</a>, data: <a href="../interfaces/Row.html" target="_self">Row[]</a>, biomarkerType?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, isReportNotOrganWise)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="24"
                                    class="link-to-prism">src/app/components/report/report.service.ts:24</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Default value</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>currentSheet</td>
                                            <td>
                                                            <code><a href="../interfaces/Sheet.html" target="_self" >Sheet</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                            </td>

                                        </tr>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="../interfaces/Row.html" target="_self" >Row[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                            </td>

                                        </tr>
                                        <tr>
                                                <td>biomarkerType</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    Yes
                                            </td>

                                            <td>
                                            </td>

                                        </tr>
                                        <tr>
                                                <td>isReportNotOrganWise</td>
                                            <td>
                                            </td>

                                            <td>
                                                    No
                                            </td>

                                            <td>
                                                    <code>false</code>
                                            </td>

                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section data-compodoc="block-properties">
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="BM_TYPE"></a>
                    <span class="name">
                        <span ><b>BM_TYPE</b></span>
                        <a href="#BM_TYPE"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/object" target="_blank" >object</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{
    gene: &#x27;BG&#x27;,
    protein: &#x27;BP&#x27;,
    lipids: &#x27;BL&#x27;,
    metabolites: &#x27;BM&#x27;,
    proteoforms: &#x27;BF&#x27;,
  }</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="16" class="link-to-prism">src/app/components/report/report.service.ts:16</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="compareData$"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>compareData$</b></span>
                        <a href="#compareData$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.compareData.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="15" class="link-to-prism">src/app/components/report/report.service.ts:15</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="reportData$"></a>
                    <span class="name">
                            <span class="modifier">Readonly</span>
                        <span ><b>reportData$</b></span>
                        <a href="#reportData$"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>this.reportData.asObservable()</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="13" class="link-to-prism">src/app/components/report/report.service.ts:13</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable } from &#x27;@angular/core&#x27;;
import { Subject } from &#x27;rxjs&#x27;;
import { CByOrgan, EntityWithNoOtherEntity, Report } from &#x27;../../models/report.model&#x27;;
import { CompareData, CompareReport, CompareReportData, Row, Sheet, Structure } from &#x27;../../models/sheet.model&#x27;;
import { AS, B, BmCtPairings, CT, LinksASCTBData } from &#x27;../../models/tree.model&#x27;;
import { makeAS, makeBioMarkers, makeCellTypes } from &#x27;../../modules/tree/tree.functions&#x27;;

@Injectable({
  providedIn: &#x27;root&#x27;,
})
export class ReportService {
  private readonly reportData &#x3D; new Subject&lt;{ data: Report | null; sheet?: Sheet }&gt;();
  readonly reportData$ &#x3D; this.reportData.asObservable();
  private readonly compareData &#x3D; new Subject&lt;CompareReportData&gt;();
  readonly compareData$ &#x3D; this.compareData.asObservable();
  BM_TYPE &#x3D; {
    gene: &#x27;BG&#x27;,
    protein: &#x27;BP&#x27;,
    lipids: &#x27;BL&#x27;,
    metabolites: &#x27;BM&#x27;,
    proteoforms: &#x27;BF&#x27;,
  };

  async makeReportData(currentSheet: Sheet, data: Row[], biomarkerType?: string, isReportNotOrganWise &#x3D; false) {
    const output: Report &#x3D; {
      anatomicalStructures: [],
      cellTypes: [],
      biomarkers: [],
      ASWithNoLink: [],
      CTWithNoLink: [],
      BWithNoLink: [],
      ASWithNoCT: [],
      CTWithNoB: [],
    };

    try {
      output.anatomicalStructures &#x3D; makeAS(data, true, isReportNotOrganWise);
      output.cellTypes &#x3D; makeCellTypes(data, true, isReportNotOrganWise);
      output.biomarkers &#x3D; makeBioMarkers(data, biomarkerType, true, isReportNotOrganWise);

      output.ASWithNoLink &#x3D; this.getASWithNoLink(output.anatomicalStructures);
      output.CTWithNoLink &#x3D; this.getCTWithNoLink(output.cellTypes);
      output.BWithNoLink &#x3D; this.getBMWithNoLink(output.biomarkers);
      const { asWithNoCT, ctWithNoB } &#x3D; this.getASWithNoCT(data);
      output.ASWithNoCT &#x3D; asWithNoCT;
      output.CTWithNoB &#x3D; ctWithNoB;

      this.reportData.next({
        data: output,
        sheet: currentSheet,
      });
    } catch (err) {
      console.log(err);
      throw err;
    }
  }

  countsGA(data: Row[]) {
    const output &#x3D; {
      AS: 0,
      CT: 0,
      B: 0,
    };
    output.AS &#x3D; makeAS(data, true).length;
    output.CT &#x3D; makeCellTypes(data, true).length;
    output.B &#x3D; makeBioMarkers(data).length;
    return output;
  }

  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  countOrganWise(acc: any[], curr: any, type: string): any[] {
    let item &#x3D; acc.find((x) &#x3D;&gt; x.organName &#x3D;&#x3D;&#x3D; curr.organName);
    if (!item) {
      item &#x3D; { organName: curr.organName };
      item[type] &#x3D; 0;
      acc.push(item);
    }
    item[type]++;
    return acc;
  }

  countSeperateBiomarkers(biomarkers: B[]) {
    return biomarkers.reduce(
      (acc, curr) &#x3D;&gt; {
        if (curr.bType !&#x3D;&#x3D; undefined) {
          if (acc[curr.bType]) {
            acc[curr.bType].push(curr);
          } else {
            acc[curr.bType] &#x3D; [];
            acc[curr.bType].push(curr);
          }
        }
        return acc;
      },
      {} as Record&lt;string, B[]&gt;,
    );
  }

  makeAllOrganReportDataByOrgan(sheetData: Row[], asFullData: Row[]) {
    const result: Report &#x3D; {
      anatomicalStructures: [],
      cellTypes: [],
      biomarkers: [],
      ASWithNoLink: [],
      CTWithNoLink: [],
      BWithNoLink: [],
      ASWithNoCT: [],
      CTWithNoB: [],
    };

    try {
      const as &#x3D; makeAS(asFullData, true);
      const ct &#x3D; makeCellTypes(sheetData, true, false);
      const b &#x3D; makeBioMarkers(sheetData, &#x27;All&#x27;, true, false);
      result.anatomicalStructures &#x3D; as.reduce&lt;AS[]&gt;((acc, curr) &#x3D;&gt; {
        return this.countOrganWise(acc, curr, &#x27;anatomicalStructures&#x27;);
      }, []);
      result.ASWithNoLink &#x3D; this.getASWithNoLink(as).reduce&lt;AS[]&gt;((acc, curr) &#x3D;&gt; {
        return this.countOrganWise(acc, curr, &#x27;ASWithNoLink&#x27;);
      }, []);
      const { asWithNoCT, ctWithNoB } &#x3D; this.getASWithNoCT(asFullData);
      result.ASWithNoCT &#x3D; asWithNoCT.reduce&lt;EntityWithNoOtherEntity[]&gt;((acc, curr) &#x3D;&gt; {
        return this.countOrganWise(acc, curr, &#x27;ASWithNoCT&#x27;);
      }, []);

      result.CTWithNoB &#x3D; ctWithNoB.reduce&lt;EntityWithNoOtherEntity[]&gt;((acc, curr) &#x3D;&gt; {
        return this.countOrganWise(acc, curr, &#x27;CTWithNoB&#x27;);
      }, []);

      const biomarkersSeperate &#x3D; this.countSeperateBiomarkers(b);
      const biomarkersSeperateNames: { type: string; name: string }[] &#x3D; [];
      Object.keys(biomarkersSeperate).forEach((bType) &#x3D;&gt; {
        result[bType as keyof typeof result] &#x3D; biomarkersSeperate[bType].reduce(
          (acc, curr) &#x3D;&gt; {
            return this.countOrganWise(acc, curr, bType);
          },
          // eslint-disable-next-line @typescript-eslint/no-explicit-any
          [] as any[],
        ) as unknown as never[];
        biomarkersSeperateNames.push({
          type: this.BM_TYPE[bType as keyof typeof this.BM_TYPE],
          name: bType,
        });
      });
      result.biomarkers &#x3D; b.reduce&lt;B[]&gt;((acc, curr) &#x3D;&gt; {
        return this.countOrganWise(acc, curr, &#x27;biomarkers&#x27;);
      }, []);
      result.cellTypes &#x3D; ct.reduce&lt;CT[]&gt;((acc, curr) &#x3D;&gt; {
        return this.countOrganWise(acc, curr, &#x27;cellTypes&#x27;);
      }, []);
      result.BWithNoLink &#x3D; this.getCTWithNoLink(ct).reduce&lt;B[]&gt;((acc, curr) &#x3D;&gt; {
        return this.countOrganWise(acc, curr, &#x27;BWithNoLink&#x27;);
      }, []);
      result.CTWithNoLink &#x3D; this.getBMWithNoLink(b).reduce&lt;B[]&gt;((acc, curr) &#x3D;&gt; {
        return this.countOrganWise(acc, curr, &#x27;CTWithNoLink&#x27;);
      }, []);
      return { result, biomarkersSeperateNames };
    } catch (err) {
      console.log(err);
      throw err;
    }
  }

  makeAllOrganReportDataCountsByOrgan(data: Report, linksByOrgan: LinksASCTBData, tableVersion: Map&lt;string, string&gt;) {
    type Data &#x3D; AS | CT | B | EntityWithNoOtherEntity;
    let allData: Data[] &#x3D; [];
    Object.keys(data).forEach((type) &#x3D;&gt; {
      allData &#x3D; [...allData, ...data[type as keyof Report]];
    });
    allData &#x3D; allData.reduce&lt;Data[]&gt;((acc, curr) &#x3D;&gt; {
      let item &#x3D; acc.find((x) &#x3D;&gt; x.organName &#x3D;&#x3D;&#x3D; curr.organName);
      const index &#x3D; acc.findIndex((x) &#x3D;&gt; x.organName &#x3D;&#x3D;&#x3D; curr.organName);
      if (!item) {
        item &#x3D; curr;
        acc.push(item);
      } else {
        if (index &gt; -1) {
          acc.splice(index, 1);
        }
        item &#x3D; { ...item, ...curr };
        acc.push(item);
      }
      return acc;
    }, []);
    for (let index &#x3D; 0; index &lt; allData.length; index++) {
      const organData &#x3D; allData[index];
      allData[index] &#x3D; {
        ...organData,
        tableVersion: tableVersion.get(organData.organName ?? &#x27;&#x27;),
      } as never;
    }
    allData.forEach((item) &#x3D;&gt; {
      const organName &#x3D; item.organName ?? &#x27;&#x27;;
      const countsByOrgan &#x3D; item as unknown as Record&lt;string, number&gt;;
      countsByOrgan[&#x27;AS_AS&#x27;] &#x3D; linksByOrgan.AS_AS_organWise[organName];
      countsByOrgan[&#x27;CT_BM&#x27;] &#x3D; linksByOrgan.CT_B_organWise[organName];
      countsByOrgan[&#x27;AS_CT&#x27;] &#x3D; linksByOrgan.AS_CT_organWise[organName];
    });
    return allData as CByOrgan[];
  }

  async makeCompareData(reportdata: Report, compareData: Row[], compareSheets: CompareData[]) {
    const compareDataStats &#x3D; [];
    for (const sheet of compareSheets) {
      const newEntry: CompareReport &#x3D; {
        identicalAS: [],
        newAS: [],
        identicalCT: [],
        newCT: [],
        identicalB: [],
        newB: [],
        color: &#x27;&#x27;,
        title: &#x27;&#x27;,
        description: &#x27;&#x27;,
        identicalBMCTPair: [],
      };

      const { identicalStructuresAS, newStructuresAS } &#x3D; this.compareASData(reportdata, compareData);
      newEntry.identicalAS &#x3D; identicalStructuresAS;
      newEntry.newAS &#x3D; newStructuresAS;

      const { identicalStructuresCT, newStructuresCT } &#x3D; this.compareCTData(reportdata, compareData);
      newEntry.identicalCT &#x3D; identicalStructuresCT;
      newEntry.newCT &#x3D; newStructuresCT;

      const { identicalStructuresB, newStructuresB, identicalBM } &#x3D; this.compareBData(reportdata, compareData);
      newEntry.identicalBMCTPair &#x3D; identicalBM as unknown as Row[];
      newEntry.identicalB &#x3D; identicalStructuresB;
      newEntry.newB &#x3D; newStructuresB;
      newEntry.color &#x3D; sheet.color;
      newEntry.title &#x3D; sheet.title;
      newEntry.description &#x3D; sheet.description;

      compareDataStats.push(newEntry);
    }

    this.compareData.next({
      data: compareDataStats,
    });
  }

  compareASData(reportdata: Report, compareData: Row[]) {
    const identicalStructuresAS &#x3D; [];
    const newStructuresAS &#x3D; [];
    try {
      const compareAS &#x3D; makeAS(compareData, true);
      const mainASData &#x3D; reportdata.anatomicalStructures.filter((i) &#x3D;&gt; !i.isNew);
      const compareASData &#x3D; compareAS.filter((i) &#x3D;&gt; i.isNew);

      if (compareAS.length &gt; 0) {
        for (const a of compareASData) {
          let found &#x3D; false;
          for (const b of mainASData) {
            if (a.structure &#x3D;&#x3D;&#x3D; b.structure &amp;&amp; !b.isNew) {
              identicalStructuresAS.push(a.structure);
              found &#x3D; true;
            }
          }

          if (!found) {
            newStructuresAS.push(a.structure);
          }
        }
      }
      return { identicalStructuresAS, newStructuresAS };
    } catch {
      this.reportData.next({
        data: null,
      });
      return { identicalStructuresAS, newStructuresAS };
    }
  }

  compareCTData(reportdata: Report, compareData: Row[]) {
    const identicalStructuresCT &#x3D; [];
    const newStructuresCT &#x3D; [];
    try {
      const compareCT &#x3D; makeCellTypes(compareData, true);
      const mainCTData &#x3D; reportdata.cellTypes.filter((i) &#x3D;&gt; !i.isNew);
      const compareCTData &#x3D; compareCT.filter((i) &#x3D;&gt; i.isNew);

      if (compareCT.length &gt; 0) {
        for (const a of compareCTData) {
          let found &#x3D; false;
          for (const b of mainCTData) {
            if (a.structure &#x3D;&#x3D;&#x3D; b.structure &amp;&amp; !b.isNew) {
              identicalStructuresCT.push(a.structure);
              found &#x3D; true;
            }
          }

          if (!found) {
            newStructuresCT.push(a.structure);
          }
        }
      }
      return { identicalStructuresCT, newStructuresCT };
    } catch {
      this.reportData.next({
        data: null,
      });
      return { identicalStructuresCT, newStructuresCT };
    }
  }

  compareBData(reportdata: Report, compareData: Row[]) {
    const identicalStructuresB &#x3D; [];
    const newStructuresB &#x3D; [];
    const identicalBM &#x3D; [];
    try {
      const compareB &#x3D; makeBioMarkers(compareData, &#x27;&#x27;, true);
      const mainBData &#x3D; reportdata.biomarkers.filter((i) &#x3D;&gt; !i.isNew);
      const compareBData &#x3D; compareB.filter((i) &#x3D;&gt; i.isNew);

      if (compareB.length &gt; 0) {
        for (const a of compareBData) {
          let found &#x3D; false;
          for (const b of mainBData) {
            if (a.structure &#x3D;&#x3D;&#x3D; b.structure &amp;&amp; !b.isNew) {
              identicalStructuresB.push(a.structure);
              identicalBM.push(...this.findIdenticalBmCtLinks(a, mainBData, reportdata));
              found &#x3D; true;
            }
          }

          if (!found) {
            newStructuresB.push(a.structure);
          }
        }
      }
      return { identicalStructuresB, newStructuresB, identicalBM };
    } catch {
      this.reportData.next({
        data: null,
      });
      return { identicalStructuresB, newStructuresB, identicalBM };
    }
  }

  findIdenticalBmCtLinks(compareB: B, mainBData: B[], reportData: Report) {
    const mappings &#x3D; new Set&lt;BmCtPairings&gt;();
    const bData &#x3D; mainBData.filter((el) &#x3D;&gt; el.comparatorId &#x3D;&#x3D;&#x3D; compareB.comparatorId);
    bData.forEach((b) &#x3D;&gt; {
      b.indegree?.forEach((bin) &#x3D;&gt; {
        const ctData &#x3D; reportData.cellTypes.find((ct) &#x3D;&gt; ct.comparatorId &#x3D;&#x3D;&#x3D; bin.id);
        ctData?.indegree?.forEach((ctIn) &#x3D;&gt; {
          mappings.add({
            BM_NAME: b.comparatorName ?? &#x27;&#x27;,
            BM_ID: b.comparatorId ?? &#x27;&#x27;,
            CT_ID: bin.id,
            CT_NAME: bin.name,
            AS_ID: ctIn.id,
            AS_NAME: ctIn.name,
          });
        });
      });
    });
    return mappings;
  }

  getASWithNoLink(anatomicalStructures: AS[]) {
    const noLinks: AS[] &#x3D; [];
    anatomicalStructures.forEach((ele) &#x3D;&gt; {
      if (!(ele.uberon.includes(&#x27;UBERON&#x27;) || ele.uberon.includes(&#x27;FMAID&#x27;) || ele.uberon.includes(&#x27;fma&#x27;))) {
        noLinks.push(ele);
      }
    });
    return noLinks;
  }

  getCTWithNoLink(cellTypes: CT[]) {
    const noLinks: CT[] &#x3D; [];
    cellTypes.forEach((ele) &#x3D;&gt; {
      if (!ele.link.includes(&#x27;CL&#x27;)) {
        noLinks.push(ele);
      }
    });
    return noLinks;
  }
  getBMWithNoLink(biomarkers: B[]) {
    const noLinks: B[] &#x3D; [];
    biomarkers.forEach((ele) &#x3D;&gt; {
      if (!ele.link.includes(&#x27;HGNC&#x27;)) {
        noLinks.push(ele);
      }
    });
    return noLinks;
  }

  getASWithNoCT(data: Row[]) {
    const asWithNoCT: EntityWithNoOtherEntity[] &#x3D; [];
    const ctWithNoB: EntityWithNoOtherEntity[] &#x3D; [];
    try {
      data.forEach((row: Row) &#x3D;&gt; {
        if (row.cell_types.length &#x3D;&#x3D;&#x3D; 0) {
          const asLeaf: Structure &#x3D; row.anatomical_structures[row.anatomical_structures.length - 1];
          let foundIndex: number;
          if (asLeaf.id) {
            foundIndex &#x3D; asWithNoCT.findIndex((i: EntityWithNoOtherEntity) &#x3D;&gt; {
              return i.link &#x3D;&#x3D;&#x3D; asLeaf.id &amp;&amp; i.organName &#x3D;&#x3D;&#x3D; row.organName;
            });
          } else {
            foundIndex &#x3D; asWithNoCT.findIndex((i: EntityWithNoOtherEntity) &#x3D;&gt; {
              return i.structure &#x3D;&#x3D;&#x3D; asLeaf.name &amp;&amp; i.organName &#x3D;&#x3D;&#x3D; row.organName;
            });
          }
          if (foundIndex &#x3D;&#x3D;&#x3D; -1) {
            asWithNoCT.push({
              structure: asLeaf.name ?? &#x27;&#x27;,
              link: asLeaf.id ?? &#x27;&#x27;,
              label: asLeaf.rdfs_label ?? &#x27;&#x27;,
              organName: row.organName,
            });
          }
        }
        if (row.biomarkers.length &#x3D;&#x3D;&#x3D; 0) {
          row.cell_types.forEach((ct: Structure) &#x3D;&gt; {
            let foundIndex: number;
            if (ct.id) {
              foundIndex &#x3D; ctWithNoB.findIndex((i: EntityWithNoOtherEntity) &#x3D;&gt; {
                return i.link &#x3D;&#x3D;&#x3D; ct.id &amp;&amp; i.organName &#x3D;&#x3D;&#x3D; row.organName;
              });
            } else {
              foundIndex &#x3D; ctWithNoB.findIndex((i: EntityWithNoOtherEntity) &#x3D;&gt; {
                return i.structure &#x3D;&#x3D;&#x3D; ct.name &amp;&amp; i.organName &#x3D;&#x3D;&#x3D; row.organName;
              });
            }
            if (foundIndex &#x3D;&#x3D;&#x3D; -1) {
              ctWithNoB.push({
                structure: ct.name ?? &#x27;&#x27;,
                link: ct.id ?? &#x27;&#x27;,
                label: ct.rdfs_label ?? &#x27;&#x27;,
                organName: row.organName,
              });
            }
          });
        }
      });

      return { asWithNoCT, ctWithNoB };
    } catch (error) {
      throw new Error(&#x60;Could not process Sheet Data - ${error}&#x60;);
    }
  }
}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'ReportService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
