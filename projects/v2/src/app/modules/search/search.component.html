<div class="h-100 w-100 search-container">
  <div class="pl-2 br-left search-icon-container">
    <mat-icon class="mt-2">search</mat-icon>
  </div>
    <button
      id="searchBtn"
      [disabled]="disabled"
      (click)="openSearchList()"
      class="w-100 secondary ch text-left"
      mat-flat-button
      #tooltip="matTooltip"
      matTooltip="Search Structures"
      matTooltipPosition="below">
      {{selectedValues}}
    </button>
    <div class="search-modal mat-elevation-z4"
        [hidden]="(searchState$ | async) === false">
      <mat-form-field class="br-top"
        appearance="legacy"
        floatLabel="never">
        <input matInput
          #searchField
          [(ngModel)]="searchValue"
          cdkFocusInitial
          placeholder="Search Structures"
          [formControl]="structuresMultiFilterCtrl" />
        <button mat-button matSuffix mat-icon-button
          #clearBtn
          [hidden]="!searchValue"
          aria-label="Clear Search"
          matTooltip="Clear Search"
          (click)="searchValue=''">
          <mat-icon>close</mat-icon>
        </button>
        <button mat-button matSuffix mat-icon-button
          aria-label="Close"
          matTooltip="Close"
          (click)="closeSearchList()">
          <mat-icon>arrow_drop_up</mat-icon>
        </button>
      </mat-form-field>
      <mat-selection-list #multiSelect
        [disabled]="disabled"
        [formControl]="structuresMultiCtrl"
        [multiple]="true"
        (selectionChange)="onOptionSelect()"
        [(ngModel)]="selectedOptions"
        [compareWith]="selectionCompareFunction"
      >
        <mat-list-item
          *ngIf="(filteredstructuresMulti | async)?.length == 0"
        >
          <div>No entries found.</div>
        </mat-list-item>
        <mat-list-option
          *ngFor="let structures of filteredstructuresMulti | async"
          [value]="structures"
          color="primary"
          checkboxPosition="before">
          <div class="structure-name">
            <div>
            {{ structures.name }}
            </div>
            <div class="structure-group-name" >
            <i>{{ structures.groupName }}</i>
            </div>
          </div>
        </mat-list-option>
      </mat-selection-list>
    </div>
</div>
